<!doctype html><html><head><meta name=viewport content="width=device-width,user-scalable=no"><title>Shoot 13 Nomsters</title><style>.a-canvas{cursor:default!important}</style><script src=/2024/webxr/aframe.js></script><script>!function(t){"use strict";class e{canvas;con;height;width;constructor(t,e,s,i=2,a){t??=document.createElement("canvas"),this.canvas=t,this.con=t.getContext("2d"),this.reset(e,s,i),a?.(this.con,e,s)}reset(t,e,s=2){this.height=e,this.width=t,this.canvas.height=s*e,this.canvas.width=s*t,this.con.scale(s,s)}}function s(t,e){const s=t.audioContext||new AudioContext,i=t.sampleRate||s.sampleRate,a=t.channels||2,n=1.5*t.decay,c=Math.ceil(i*n),r=Math.ceil(i*t.fadeIn),h=Math.ceil(i*t.decay),o=Math.pow(.001,1/h),u=s.createBuffer(a,c,i);for(let t=0;t<a;++t){const e=u.getChannelData(t);for(let t=0;t<c;++t)e[t]=(Math.floor(9007199254740992*Math.random())/9007199254740991*2-1)*Math.pow(o,t);for(let t=0;t<r;++t)e[t]*=t/r}!function(t,e,s,i,a){if(!e)return void a(t);e=Math.min(e,.5*t.sampleRate),s=Math.min(s,.5*t.sampleRate);const n=function(t){const e=[];for(let s=0;s<t.numberOfChannels;++s)e[s]=t.getChannelData(s);return e}(t),c=new OfflineAudioContext(t.numberOfChannels,n[0].length,t.sampleRate),r=c.createBufferSource(),h=c.createBiquadFilter();h.type="lowpass",h.Q.value=1e-4,h.frequency.setValueAtTime(e,0),h.frequency.linearRampToValueAtTime(s,i),h.connect(c.destination),r.buffer=t,r.connect(h),r.start(),c.oncomplete=function(t){a(t.renderedBuffer)},c.startRendering()}(u,t.lpFreqStart,t.lpFreqEnd,t.decay,e)}"undefined"==typeof AudioContext&&(window.AudioContext=window.webkitAudioContext,window.OfflineAudioContext=window.webkitOfflineAudioContext);const i=120/118;let a,n,c,r;function h(){return a=new AudioContext,n=a.createGain(),n.gain.value=.3333,c=a.createGain(),c.gain.value=.4,function(){const t=a.createConvolver(),e=a.createGain(),r=a.createGain();return e.gain.value=2/3,r.gain.value=1/3,n.connect(t),n.connect(e),c.connect(t),c.connect(e),t.connect(r),e.connect(a.destination),r.connect(a.destination),new Promise((function(e){s({audioContext:a,fadeIn:1e-5,decay:1.5*i,lpFreqStart:16e3,lpFreqEnd:1e3},(function(s){t.buffer=s,e()}))}))}()}function o(t,e,s){const c=function(t){return 440*Math.pow(2,(t-69)/12)}(t);e*=i,s*=i;const h=a.createOscillator();h.type="square",h.frequency.value=c,function(t,e){const s=a.createGain();return s.gain.setValueAtTime(.5,r+e),s.gain.exponentialRampToValueAtTime(1e-5,r+e+1.5*i),t.connect(s),s}(h,e).connect(n),h.start(r+e),h.stop(r+s)}function u(t){switch(t>51?(t-8)%44+8:t){case 0:o(57,t+0,t+.25),o(45,t+0,t+2),o(60,t+.25,t+.5),o(57,t+.5,t+.75),o(64,t+.75,t+1.25);break;case 1:o(60,t+.25,t+.75),o(60,t+.75,t+1);break;case 2:o(52,t+0,t+1),o(60,t+.25,t+.5),o(57,t+.5,t+.75),o(64,t+.75,t+1.25);break;case 3:o(52,t+0,t+.75),o(60,t+.25,t+.75),o(60,t+.75,t+1),o(52,t+.75,t+1);break;case 4:o(45,t+0,t+1.75),o(57,t+.25,t+.5),o(60,t+.5,t+.75),o(64,t+.75,t+1.25),o(57,t+.75,t+1.25);break;case 5:o(57,t+.25,t+.5),o(60,t+.5,t+1),o(52,t+.75,t+1);break;case 6:o(60,t+0,t+1),o(52,t+0,t+.5),o(52,t+.5,t+1.5);break;case 7:o(64,t+0,t+1),o(52,t+.5,t+.75),o(52,t+.75,t+1);break;case 8:o(57,t+0,t+.25),o(45,t+0,t+.75),o(57,t+.25,t+.5),o(57,t+.5,t+.75),o(60,t+.75,t+1.25),o(52,t+.75,t+1.75);break;case 9:o(69,t+.25,t+.5),o(67,t+.5,t+.75),o(69,t+.75,t+1),o(52,t+.75,t+1);break;case 10:o(69,t+0,t+.75),o(41,t+0,t+.25),o(48,t+.25,t+.5),o(55,t+.5,t+1.5),o(57,t+.75,t+1.75);break;case 11:o(55,t+.5,t+.75),o(67,t+.75,t+1),o(50,t+.75,t+1);break;case 12:o(67,t+0,t+.25),o(55,t+0,t+.75),o(67,t+.25,t+.5),o(67,t+.5,t+.75),o(66,t+.75,t+1.25),o(57,t+.75,t+1.75),o(54,t+.75,t+1.75);break;case 13:case 21:o(67,t+.25,t+.5),o(66,t+.5,t+.75),o(64,t+.75,t+1),o(47,t+.75,t+1);break;case 14:case 22:o(52,t+0,t+.25),o(47,t+0,t+2),o(54,t+.25,t+.5),o(56,t+.5,t+.75),o(59,t+.75,t+1.75);break;case 15:o(57,t+.75,t+1);break;case 16:o(57,t+0,t+.25),o(45,t+0,t+.75),o(57,t+.25,t+.5),o(57,t+.5,t+.75),o(60,t+.75,t+1.25),o(52,t+.75,t+1.25);break;case 17:o(69,t+.25,t+.5),o(57,t+.25,t+1),o(67,t+.5,t+.75),o(69,t+.75,t+1);break;case 18:o(69,t+0,t+.75),o(57,t+0,t+.25),o(53,t+0,t+.25),o(48,t+0,t+.25),o(48,t+.25,t+.5),o(55,t+.5,t+.75),o(65,t+.75,t+1.75),o(57,t+.75,t+1.25);break;case 19:o(57,t+.25,t+.5),o(60,t+.5,t+1),o(67,t+.75,t+1);break;case 20:o(67,t+0,t+.25),o(43,t+0,t+.5),o(59,t+.25,t+.5),o(67,t+.5,t+.75),o(50,t+.5,t+.75),o(66,t+.75,t+1.25),o(47,t+.75,t+1.75);break;case 23:o(67,t+.75,t+1);break;case 24:o(67,t+0,t+.25),o(59,t+0,t+.5),o(55,t+0,t+.5),o(62,t+.25,t+.5),o(67,t+.5,t+.75),o(59,t+.5,t+.75),o(67,t+.75,t+1.25),o(57,t+.75,t+1.25);break;case 25:o(67,t+.25,t+.5),o(50,t+.25,t+.5),o(67,t+.5,t+.75),o(43,t+.5,t+1),o(68,t+.75,t+1),o(64,t+.75,t+1);break;case 26:o(68,t+0,t+.25),o(64,t+0,t+.25),o(40,t+0,t+.5),o(64,t+.25,t+.5),o(62,t+.5,t+.75),o(47,t+.5,t+.75),o(62,t+.75,t+1.25),o(52,t+.75,t+1.5);break;case 27:o(60,t+.25,t+.75),o(52,t+.5,t+.75),o(57,t+.75,t+1),o(47,t+.75,t+1);break;case 28:o(60,t+0,t+.5),o(45,t+0,t+.5),o(72,t+.5,t+1),o(64,t+.5,t+1),o(57,t+.5,t+.75),o(48,t+.75,t+1);break;case 29:o(60,t+0,t+.25),o(57,t+0,t+.75),o(53,t+0,t+.75),o(65,t+.25,t+.5),o(67,t+.5,t+.75),o(72,t+.75,t+1),o(43,t+.75,t+1);break;case 30:o(72,t+0,t+.25),o(64,t+0,t+.25),o(60,t+0,t+.25),o(48,t+0,t+.5),o(36,t+0,t+.5),o(72,t+.25,t+.5),o(64,t+.25,t+.5),o(60,t+.25,t+.5),o(72,t+.5,t+.75),o(64,t+.5,t+.75),o(60,t+.5,t+.75),o(55,t+.5,t+.75),o(72,t+.75,t+1.25),o(64,t+.75,t+1.25),o(60,t+.75,t+1.25),o(50,t+.75,t+1.5);break;case 31:o(71,t+.25,t+1),o(62,t+.25,t+1),o(59,t+.25,t+1),o(57,t+.5,t+.75),o(50,t+.75,t+1);break;case 32:o(72,t+0,t+.25),o(64,t+0,t+.25),o(60,t+0,t+.25),o(57,t+0,t+.5),o(52,t+0,t+.5),o(45,t+0,t+.5),o(72,t+.25,t+.5),o(72,t+.5,t+.75),o(59,t+.5,t+1),o(72,t+.75,t+1.25);break;case 33:o(57,t+0,t+.5),o(53,t+0,t+.5),o(48,t+0,t+.5),o(71,t+.25,t+.5),o(69,t+.5,t+.75),o(48,t+.5,t+1),o(67,t+.75,t+1),o(64,t+.75,t+1),o(60,t+.75,t+1);break;case 34:o(67,t+0,t+.25),o(64,t+0,t+.25),o(60,t+0,t+.25),o(36,t+0,t+.5),o(69,t+.25,t+.5),o(71,t+.5,t+.75),o(43,t+.5,t+.75),o(72,t+.75,t+1.25),o(68,t+.75,t+1.25),o(64,t+.75,t+1.25),o(48,t+.75,t+1);break;case 35:o(40,t+0,t+.5),o(71,t+.25,t+1),o(56,t+.5,t+.75),o(52,t+.75,t+1);break;case 36:o(60,t+0,t+.5),o(45,t+0,t+.25),o(52,t+.25,t+.5),o(72,t+.5,t+1),o(64,t+.5,t+1),o(60,t+.5,t+1),o(57,t+.5,t+1);break;case 37:o(60,t+0,t+.25),o(57,t+0,t+.5),o(53,t+0,t+.5),o(65,t+.25,t+.5),o(67,t+.5,t+.75),o(48,t+.5,t+.75),o(72,t+.75,t+1),o(60,t+.75,t+1),o(43,t+.75,t+1);break;case 38:o(72,t+0,t+.25),o(67,t+0,t+.25),o(60,t+0,t+.25),o(48,t+0,t+.5),o(72,t+.25,t+.5),o(60,t+.25,t+.5),o(72,t+.5,t+.75),o(60,t+.5,t+.75),o(55,t+.5,t+.75),o(72,t+.75,t+1.25),o(67,t+.75,t+1.25),o(62,t+.75,t+1.25),o(50,t+.75,t+1);break;case 39:o(43,t+0,t+.25),o(71,t+.25,t+.75),o(67,t+.25,t+.75),o(62,t+.25,t+.75),o(50,t+.25,t+.5),o(57,t+.5,t+1),o(59,t+.75,t+1);break;case 40:o(72,t+0,t+.5),o(64,t+0,t+.5),o(60,t+0,t+.5),o(52,t+0,t+.5),o(45,t+0,t+.5),o(72,t+.5,t+.75),o(64,t+.5,t+.75),o(60,t+.5,t+.75),o(57,t+.5,t+.75),o(72,t+.75,t+1.25),o(67,t+.75,t+1.25),o(60,t+.75,t+1.25),o(48,t+.75,t+1);break;case 41:o(57,t+0,t+.5),o(53,t+0,t+.5),o(48,t+0,t+.5),o(71,t+.25,t+.5),o(69,t+.5,t+.75),o(60,t+.5,t+.75),o(57,t+.5,t+.75),o(67,t+.75,t+1),o(53,t+.75,t+1);break;case 42:o(67,t+0,t+.25),o(48,t+0,t+.25),o(36,t+0,t+.25),o(69,t+.25,t+.5),o(43,t+.25,t+.5),o(71,t+.5,t+.75),o(48,t+.5,t+.75),o(72,t+.75,t+1.25),o(68,t+.75,t+1.25),o(64,t+.75,t+1.25),o(60,t+.75,t+1.25),o(44,t+.75,t+1);break;case 43:o(52,t+0,t+.25),o(71,t+.25,t+1),o(68,t+.25,t+1),o(64,t+.25,t+1),o(47,t+.25,t+.5),o(56,t+.5,t+.75),o(52,t+.75,t+1);break;case 44:o(72,t+0,t+.5),o(64,t+0,t+.5),o(60,t+0,t+.5),o(57,t+0,t+.25),o(45,t+0,t+.25),o(52,t+.25,t+.5),o(72,t+.5,t+.75),o(60,t+.5,t+.75),o(57,t+.5,t+.75),o(72,t+.75,t+1.25),o(67,t+.75,t+1.25),o(60,t+.75,t+1.25),o(48,t+.75,t+1);break;case 45:o(57,t+0,t+.25),o(53,t+0,t+.25),o(71,t+.25,t+.5),o(55,t+.25,t+.5),o(69,t+.5,t+.75),o(48,t+.5,t+1),o(67,t+.75,t+1),o(64,t+.75,t+1),o(60,t+.75,t+1);break;case 46:o(67,t+0,t+.25),o(64,t+0,t+.25),o(60,t+0,t+.25),o(48,t+0,t+.25),o(36,t+0,t+.25),o(69,t+.25,t+.5),o(43,t+.25,t+.5),o(71,t+.5,t+.75),o(48,t+.5,t+1),o(72,t+.75,t+1.25),o(68,t+.75,t+1.25),o(60,t+.75,t+1.25);break;case 47:o(52,t+0,t+.5),o(40,t+0,t+.5),o(71,t+.25,t+1),o(68,t+.25,t+1),o(62,t+.25,t+1),o(47,t+.5,t+.75),o(52,t+.75,t+1);break;case 48:o(71,t+0,t+2),o(68,t+0,t+2),o(62,t+0,t+2),o(52,t+0,t+.25),o(54,t+.25,t+.75),o(56,t+.75,t+1.25);break;case 49:o(54,t+.25,t+.5),o(56,t+.5,t+1);break;case 50:o(64,t+0,t+1.75);break;case 51:o(52,t+.75,t+1)}}let l=-1;function b(){let t=a.currentTime-r+4,e=(l+1)*i;if(!(e>t))for(t+=4;e<t;)u(++l),e+=i}function d(){r=a.currentTime+.05,b(),setInterval(b,999)}let k=44100,f=(t=1,e=.05,s=220,i=0,a=0,n=.1,c=0,r=1,h=0,o=0,u=0,l=0,b=0,d=0,f=0,w=0,M=0,m=1,v=0,p=0)=>{let y,E,g=2*Math.PI,A=t=>t>0?1:-1,R=h*=500*g/k**2,C=A(f)*g/4,x=s*=(1+2*e*Math.random()-e)*g/k,T=[],S=0,H=0,F=0,I=1,_=0,q=0,O=0;for(o*=500*g/k**3,f*=g/k,u*=g/k,l*=k,b=b*k|0,E=(i=99+i*k)+(v*=k)+(a*=k)+(n*=k)+(M*=k)|0;F<E;T[F++]=O)++q%(100*w|0)||(O=c?c>1?c>2?c>3?Math.sin((S%g)**3):Math.max(Math.min(Math.tan(S),1),-1):1-(2*S/g%2+2)%2:1-4*Math.abs(Math.round(S/g)-S/g):Math.sin(S),O=(b?1-p+p*Math.sin(2*Math.PI*F/b):1)*A(O)*Math.abs(O)**r*t*.5*(F<i?F/i:F<i+v?1-(F-i)/v*(1-m):F<i+v+a?m:F<E-M?(E-F-M)/n*m:0),O=M?O/2+(M>F?0:(F<E-M?1:(E-F)/M)*T[F-M|0]/2):O),y=(s+=h+=o)*Math.sin(H*f-C),S+=y-y*d*(1-1e9*(Math.sin(F)+1)%2),H+=y-y*d*(1-1e9*(Math.sin(F)**2+1)%2),I&&++I>l&&(s+=u,x+=u,I=0),!b||++_%b||(s=x,h=R,I=I||1);return T};const w=4294967295;class M{state;constructor(t){this.state=0|t}randomUint32(){let t=this.state=this.state+1831565813|0;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),(t^t>>>14)>>>0}random(){return this.randomUint32()/4294967296}}class m{x;y;constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}setSubtract(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}setPerpendicular(t){return this.x=-t.y,this.y=t.x,this}scale(t){return this.x*=t,this.y*=t,this}setMultiplyScalar(t,e){return this.x=t.x*e,this.y=t.y*e,this}length(){return(this.x**2+this.y**2)**.5}normalize(){const t=this.length();return 0!==t&&(this.x/=t,this.y/=t),this}dot(t){return this.x*t.x+this.y*t.y}distanceSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}}const v=new m,p=new m,y=(t,e,s)=>t*(1-s)+e*s,E=new M(1);class g{body;position;oldPosition;interpolated;radius;gravity;viscosity;constructor(t,e,s,i,a,n){this.body=t,this.position=new m(e,s),this.oldPosition=new m(e,s),this.interpolated=new m(e,s),this.radius=i,this.gravity=a,this.viscosity=n,t.vertices.push(this),t.positions.push(this.position),t.scene.vertices.push(this)}integrate(){const t=this.position,e=this.oldPosition,s=t.x,i=t.y;t.x+=(s-e.x)*this.viscosity,t.y+=(i-e.y)*this.viscosity+this.gravity,e.set(s,i);const{height:a,width:n}=this.body.scene;if(t.y<this.radius)t.y=this.radius;else if(t.y>a-this.radius&&(t.y=a-this.radius,!(15&E.randomUint32())))switch(t.y-=20,7&E.randomUint32()){case 0:t.x-=10;break;case 1:t.x+=10;break;case 2:case 3:t.x-=.1;break;case 4:case 5:t.x+=.1}t.x<this.radius?t.x=this.radius:t.x>n-this.radius&&(t.x=n-this.radius)}interpolate(t){this.interpolated.set(y(this.oldPosition.x,this.position.x,t),y(this.oldPosition.y,this.position.y,t))}}class A{scene;vertices;constraints;positions;constructor(t){this.scene=t,this.vertices=[],this.constraints=[],this.positions=[],t.bodies.push(this)}}const R=(t,e)=>t.position.distanceSquared(e.position)<(t.radius+e.radius)**2,C=(t,e)=>{const s=t.position,i=e.position,a=v,n=a.copy(i).subtract(s).length()-t.radius-e.radius,c=t.gravity+e.gravity,r=t.gravity/c,h=e.gravity/c;s.add(p.setMultiplyScalar(a.normalize(),h*n)),i.subtract(p.setMultiplyScalar(a,r*n))};new e(document.querySelector("canvas"),960,540).con;const x=new class{vertices;constraints;bodies;height;width;iterationCount;constructor(t,e,s){this.vertices=[],this.constraints=[],this.bodies=[],this.height=e,this.width=t,this.iterationCount=s}update(){this.vertices.forEach((t=>t.integrate()));for(let t=0;t<this.iterationCount;++t){this.constraints.forEach((t=>t.solve()));for(let t=this.vertices.length;--t>0;){const e=this.vertices[t];if(!e.dead)for(let s=t;--s>=0;){const t=this.vertices[s];t.dead||R(e,t)&&C(e,t)}}}}}(960,540,4);let T;const S=()=>{x.vertices=[],x.constraints=[],x.bodies=[];const t=new M(9);T=new A(x);const e=478,s=320,i=()=>((t,e)=>{const s=w-w%e;for(;;){const i=t.randomUint32();if(i<s)return i%e}})(t,5)-2;let a=0;new g(T,e+i()-44,s+.94*(i()-88),22,1,1).index=a++,new g(T,e+i()-44,s+.94*(i()-44),22,1,1).index=a++,new g(T,e+i()-44,s+.94*i(),22,1,1).index=a++,new g(T,e+i()-44,s+.94*(i()+44),22,1,1).index=a++,new g(T,e+i()-44,s+.94*(i()+88),22,1,1).index=a++,new g(T,e+i()-80,s+.94*(i()-70),22,1,1).index=a++,new g(T,e+i()+44,s+.94*(i()-88),22,1,1).index=a++,new g(T,e+i()+77,s+.94*(i()-66),22,1,1).index=a++,new g(T,e+i()+77,s+.94*(i()-22),22,1,1).index=a++,new g(T,e+i()+44,s+.94*i(),22,1,1).index=a++,new g(T,e+i()+77,s+.94*(i()+22),22,1,1).index=a++,new g(T,e+i()+77,s+.94*(i()+66),22,1,1).index=a++,new g(T,e+i()+44,s+.94*(i()+88),22,1,1).index=a++};let H=!1,F=0,I=0,_=!0;AFRAME.registerComponent("dakka",{init(){this.targets=document.querySelectorAll(".target");const t=document.querySelectorAll(".title");this.title1=t[0],this.title2=t[1],this.aliveText=document.querySelector(".alive"),this.accuracyText=document.querySelector(".accuracy"),this.thanksText=document.querySelector(".thanks");const e=t=>{if(!this.el.getAttribute("visible"))return;const e=this.el.components.raycaster.data.origin,s=new THREE.Vector3(e.x,e.y,e.z);this.el.object3D.localToWorld(s);const{object:i,point:a,distance:n,uv:c}=t.detail.intersection,r=document.createElement("a-entity");r.setAttribute("geometry",{primitive:"sphere",radius:.05}),r.setAttribute("material",{color:"#ff0044"}),r.setAttribute("position",s),r.setAttribute("animation",{property:"position",to:a,dur:50*n,easing:"linear"}),this.el.sceneEl.appendChild(r),r.addEventListener("animationcomplete",(()=>{r.parentNode.removeChild(r),this.bulletHit(i,c)})),H||"screen"!==i.el.id||(H=!0,F=0,I=0,this.title1.setAttribute("visible",!1),this.title2.setAttribute("visible",!1),this.aliveText.setAttribute("visible",!0)),O(z)};this.el.addEventListener("click",e),this.el.addEventListener("triggerdown",e)},bulletHit(t,e){switch(t.el.id){case"screen":const t=960*(1-e.x),s=540*(1-e.y);let i=!1,a=0;if(x.vertices.forEach((e=>{if(e.dead)return;const n=e.position.x-t,c=e.position.y-s;n*n+c*c<484?(i=e.dead=!0,this.headshot(this.targets[e.index])):++a})),i&&(++I,this.aliveText.setAttribute("text",{value:"NOMSTERS ALIVE: "+a})),0===a){const t=Math.round(100*I/F);this.accuracyText.setAttribute("visible",!0),this.accuracyText.setAttribute("text",{value:`ACCURACY: ${t}%`}),this.thanksText.setAttribute("visible",!0),i&&O(P)}else++F;break;case"reset":H=!1,this.aliveText.setAttribute("visible",!1),this.aliveText.setAttribute("text",{value:"NOMSTERS ALIVE: 13"}),this.accuracyText.setAttribute("visible",!1),this.accuracyText.setAttribute("text",{value:"ACCURACY: 100%"}),this.thanksText.setAttribute("visible",!1),this.title1.setAttribute("visible",!0),this.title2.setAttribute("visible",!0),setTimeout((()=>{this.targets.forEach((t=>{t.setAttribute("visible",!0)}))}),0),S(),O(U);break;case"music":_=!_,n.gain.value=_?.3333:0,O(U)}},headshot(t){t.setAttribute("visible",!1);const e=new THREE.Vector3(0,1.69,0);e.sub(t.object3D.position).normalize().multiplyScalar(2.5);for(let s=0;s<13;++s){const s=document.createElement("a-entity");s.setAttribute("geometry",{primitive:"sphere",radius:.1}),s.setAttribute("material",{color:t.components.material.data.color,emissive:t.components.material.data.emissive,emissiveIntensity:t.components.material.data.emissiveIntensity,opacity:1,transparent:!0}),s.setAttribute("position",t.object3D.position.clone()),s.setAttribute("animation__pos",{property:"position",to:{x:e.x+t.object3D.position.x+2*(Math.random()-.5),y:e.y+t.object3D.position.y+2*(Math.random()-.5),z:e.z+t.object3D.position.z+2*(Math.random()-.5)},dur:600,easing:"easeOutQuad"}),s.setAttribute("animation__trans",{property:"material.opacity",to:0,dur:600,easing:"easeInQuad"}),this.el.sceneEl.appendChild(s),s.addEventListener("animationcomplete",(t=>{"animation__trans"===t.detail.name&&s.parentNode.removeChild(s)}))}O(L)}}),AFRAME.registerComponent("unfuck-direction",{init(){this._initialized=!1},tick(){let t;if(this._initialized||!(t=this.el.parentNode).components["laser-controls"].modelReady)return;const e=t.components.raycaster.data.origin,s=t.components.raycaster.data.direction,i=new THREE.Vector3(s.x,s.y,s.z);i.applyAxisAngle(new THREE.Vector3(1,0,0),-.1*Math.PI);const a=i.clone().multiplyScalar(.15).add(e),n=i.clone().multiplyScalar(.1).add(e);t.setAttribute("raycaster",{direction:i,origin:a}),this.el.object3D.position.copy(n),this.el.object3D.quaternion.setFromUnitVectors(new THREE.Vector3(0,0,-1),i);const c=t.getObject3D("mesh");c&&(c.visible=!1),this.el.setAttribute("visible",!0),this._initialized=!0}});const q=(t,e,s=20)=>{let i=0,a=0;return n=>{a+=n-i,i=n;let c=4;for(;a>0;)a-=s,--c>=0&&t(s);e(a/s+1)}};function O(t){try{null===t.buf&&(t.buf=a.createBuffer(1,t.raw.length,k),t.buf.getChannelData(0).set(t.raw));const e=a.createBufferSource();e.buffer=t.buf,e.connect(c),e.start()}catch(t){}}AFRAME.registerComponent("canvas-screen",{init(){const t=document.querySelectorAll(".target");t.forEach((t=>{t.setAttribute("visible",!0)}));const e=document.querySelectorAll(".target > a-entity");S(),this.loop=q((()=>{H&&x.update()}),(s=>{x.vertices.forEach((t=>t.interpolate(s))),x.vertices.forEach((s=>{const[i,a,n,c]=((t,e)=>{const s=t/960*.6666*Math.PI+1.1666*Math.PI;return[7.6394*Math.cos(s),.01666*(540-e),7.6394*Math.sin(s),s]})(s.interpolated.x,s.interpolated.y);t[s.index].object3D.position.set(i,a,n),t[s.index].object3D.quaternion.setFromAxisAngle(new THREE.Vector3(0,1,0),-c-.5*Math.PI),e[s.index].object3D.position.set(.01*(s.position.x-s.oldPosition.x),.01*(s.position.y-s.oldPosition.y),.3666)}))}));const s=this.el.getObject3D("mesh");s&&(s.visible=!1)},tick(t){this.loop(t)}}),AFRAME.registerComponent("grid-floor",{init(){new e(document.querySelector("#canvas"),256,256,1,((t,e,s)=>{t.fillStyle="#f4f4f4",t.fillRect(0,0,e,s),t.fillStyle="#1a1c2c",t.fillRect(0,0,4,s),t.fillRect(0,0,s,4)})).con}});const P={raw:f.apply(null,[,,345,.01,.17,.87,1,1.05,.2,,67,.03,.02,,-.2,,,.79,,.04]),buf:null},U={raw:f.apply(null,[,,417,,.01,.01,,.94,-.1,2.5,-9,,,,,,,,.07,.01]),buf:null},z={raw:f.apply(null,[.8,0,40,.01,.02,.28,4,1.6,,1,-50,,-.01,.7,,.3,,.69,,,1478]),buf:null},L={raw:f.apply(null,[,,134,.08,.19,.34,,1.8,,-87,126,.06,.06,,,.1,,.84,.1]),buf:null};let N=!1;function Q(){try{h().then(d),N=!0}catch(t){}}document.addEventListener("mousedown",(()=>{N||Q()}),{once:!0}),document.addEventListener("touchend",(()=>{N||Q()}),{once:!0}),t.startMainloop=q}({});</script></head><body><a-scene background="color: #41a6f6" renderer="physicallyCorrectLights: true"><a-entity light="type: ambient; color: #f4f4f4"></a-entity><a-entity light="type: directional; color: #fff; intensity: 2" position="-0.2 1 1"></a-entity><a-curvedimage position="0 4.5 0" height=9 radius=8.1 theta-length=120 theta-start=120 material="color: #1a1c2c"></a-curvedimage><a-entity class=clickable geometry="primitive: plane; width: 15; height: 10" position="7.0148 4 2.5" rotation="0 -90 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 15; height: 10" position="-7.0148 4 2.5" rotation="0 90 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 14.0296; height: 10" position="0 4 10" rotation="0 180 0" material="visible: false"></a-entity><a-entity class=clickable geometry="primitive: plane; width: 99; height: 99" position="0 0 0" rotation="-89.9 0 0" material="src: #canvas; repeat: 99 99; metalness: 0; roughness: 1; anisotropy: 16" grid-floor></a-entity><a-entity class=clickable geometry="primitive: plane; width: 14.0296; height: 20" position="0 8.9 0.5" rotation="89.9 0 0" material="visible: false"></a-entity><a-curvedimage class=clickable id=screen position="0 4.5 0" height=9 radius=7.6394 theta-length=120 theta-start=120 canvas-screen></a-curvedimage><a-entity class=title text="font: exo2bold; value: SHOOT; align: center; color: #f4f4f4; width: 4; wrap-count: 6" position="0 6.1 -7"></a-entity><a-entity class=title text="font: exo2bold; value: NOMSTERS; align: center; color: #f4f4f4; width: 4; wrap-count: 10" position="0 1.4 -7"></a-entity><a-entity class=alive text="font: exo2bold; value: NOMSTERS ALIVE: 13; align: center; color: #f4f4f4; width: 6; wrap-count: 17" position="0 7 -7" visible=false></a-entity><a-entity class=accuracy text="font: exo2bold; value: ACCURACY: 100%; align: center; color: #f4f4f4; width: 6; wrap-count: 17" position="0 6 -7" visible=false></a-entity><a-entity class=thanks text="font: exo2bold; value: THANKS FOR PLAYING!; align: center; color: #f4f4f4; width: 8; wrap-count: 20" position="0 4.5 -7" visible=false></a-entity><a-entity class=clickable id=reset geometry="primitive: plane; width: 2.5; height: 1.5" position="7 2 0" rotation="0 -90 0" material="color: #566c86"><a-entity text="font: exo2bold; value: RESET; align: center; color: #f4f4f4; width: 2; wrap-count: 6" position="0 0.06 0.05"></a-entity></a-entity><a-entity class=clickable id=music geometry="primitive: plane; width: 2.5; height: 1.5" position="-7 2 0" rotation="0 90 0" material="color: #566c86"><a-entity text="font: exo2bold; value: MUSIC; align: center; color: #f4f4f4; width: 2; wrap-count: 6" position="0 0.06 0.05"></a-entity></a-entity><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #73eff7; emissive: #73eff7; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #a7f070; emissive: #a7f070; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-sphere class=target position="0 0 0" radius=0.3666 material="color: #ffcd75; emissive: #ffcd75; emissiveIntensity: 0.12" visible=false><a-entity text="value: ..; align: center; baseline: bottom; color: #1a1c2c; wrap-count: 2" position="0 0 0.3666"></a-entity></a-sphere><a-entity camera="fov: 85" look-controls="pointerLockEnabled: true" position="0 1.69 0"><a-entity cursor="fuse: false" raycaster="objects: .clickable" dakka geometry="primitive: circle; radius: 0.01" position="0 0 -1" material="color: #fff; opacity: 0.9; shader: flat" hide-on-enter-vr></a-entity></a-entity><a-entity laser-controls="hand: right; model: true" raycaster="objects: .clickable; lineOpacity: 0" dakka><a-entity unfuck-direction visible=false><a-cylinder position="0 0 -0.01" rotation="-90 0 0" radius=0.015 height=0.02 color=#333c57></a-cylinder><a-box position="0 0 0.1" width=0.05 height=0.08 depth=0.2 color=#333c57></a-box><a-box position="0 -0.09 0.14" width=0.03 height=0.1 depth=0.04 color=#333c57></a-box><a-box position="0 0.045 0.015" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="-0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box></a-entity></a-entity><a-entity laser-controls="hand: left; model: true" raycaster="objects: .clickable; lineOpacity: 0" dakka><a-entity unfuck-direction visible=false><a-cylinder position="0 0 -0.01" rotation="-90 0 0" radius=0.015 height=0.02 color=#333c57></a-cylinder><a-box position="0 0 0.1" width=0.05 height=0.08 depth=0.2 color=#333c57></a-box><a-box position="0 -0.09 0.14" width=0.03 height=0.1 depth=0.04 color=#333c57></a-box><a-box position="0 0.045 0.015" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="-0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box><a-box position="0.01 0.045 0.185" width=0.005 height=0.01 depth=0.01 color=#333c57></a-box></a-entity></a-entity><a-assets><canvas id=canvas crossorigin=anonymous></canvas></a-assets></a-scene></body></html>