<!doctype html><meta content="width=device-width,minimum-scale=1,maximum-scale=1" name=viewport><meta content=#000 name=theme-color><style>body,html{user-select:none;-webkit-print-color-adjust:exact;height:100%;margin:0}.menuDivs{position:relative;line-height:8px;display:inline-block;text-align:center;margin:1%;width:10vw;height:10vw;max-width:40px;max-height:40px}.nam{position:absolute;top:65px;text-align:center;line-height:12px;width:1px;width:10vw;max-width:40px;font-size:min(3.5vw,11px)}.menuShips{border:2px solid #445915;border-radius:8px;text-align:center;color:gray;width:100%;height:100%;background-image:url(img/SPRTships.png);background-size:800% 200%;background-repeat:no-repeat;background-color:#000;image-rendering:crisp-edges}.a1{position:absolute;height:80px;padding:3%;width:25%;text-align:center;border-radius:10px;background-color:rgba(44,44,44,.8)}.a2{position:absolute;color:#ff0;font-weight:100;opacity:.8}.blink_me{animation:blinker 2s ease-in infinite}@keyframes blinker{50%{opacity:.5}}.blink_me2{animation:blinker2 1.25s ease-in infinite}@keyframes blinker2{50%{opacity:.1}}.knockout{margin-top:20px;text-align:center;font-family:arial;font-size:min(10vw,45px);text-shadow:0 0 20px #fff;background:linear-gradient(140deg,#27cfcc 33.5%,rgba(0,0,0,0) 33%),linear-gradient(140deg,#ff0 34%,#ff5454 34%);background-size:500%;-webkit-text-fill-color:transparent;-webkit-background-clip:text}.knockout{animation:Gradient 5s ease infinite;-webkit-animation:Gradient 5s ease infinite;-moz-animation:Gradient 5s ease infinite}@-webkit-keyframes Gradient{0%{background-position:30% 50%}50%{background-position:25% 50%}100%{background-position:30% 50%}}</style><body style=font-family:Arial;font-size:12px;width:100%;height:100%;overflow:visible;padding:0;margin:0;background-color:#000><div style=position:absolute;top:0;width:100%;height:auto;overflow:visible;z-index:100 id=mainMenu><div style=display:block class=knockout id=Gametitle>SpaceShip Escort</div><div style=clear:both;height:20px></div><div style="text-shadow:0 0 10px #27cfcc,0 0 30px #27cfcc;display:block;width:90%;max-width:61.5vh;left:5%;font-weight:300;font-size:13px;margin:0 auto;padding:5px;color:#19cfcb;height:auto;background-color:none" id=botonPlayInfo>Year 13 after climate change.<br>The Earth is uninhabitable.<br><br>The last space freighter, with 13 million fertilized and cryogenized human ovules, leaves the earth, with 500 tons of Scriptium (Scm), towards robotic bases built over decades, in anticipation of the climatic catastrophe, on inhabitable planets in the star system SAO215398 in the Phoenix supercluster of galaxies located 5700 Mly away.<br><br>Scriptium (Scm) is a new synthetic fuel that is necessary for intergalactic travel and also for building defense elements, and can be extracted from the wreckage of destroyed enemy spacecraft.<br><br>Once all the Scriptium is over, the space freighter will run out of fuel and the mission will have failed.<br><br>Your mission, as the commander of the last starfleet, is to escort and defend the space freighter at all costs so that it reaches the bases and human race does not become extinct.<br><br>It will not be an easy task since other civilizations have conflicting interests.<br></div><div style=text-align:center;width:100%;margin-top:30px id=botonPlay><div style="display:inline-block;text-align:center;padding:6px 20px 6px 20px;font-size:20px;color:#d3fc6f;font-weight:500;box-shadow:0 0 10px 5px #86a145;border-radius:10px;border:3px solid #d3fc6f;background-color:rgba(0,0,0,.5)" class=blink_me onclick=play() id=bpTxt>Start mission</div></div></div><div style="position:relative;margin:0 auto;width:100%;height:100%;overflow:hidden" id=mainDIV><div style="position:absolute;width:100%;pointer-events:none;transition:5s opacity;display:none;top:150px;left:0;font-size:18px;z-index:100" id=gameStartMSG><div style="pointer-events:none;margin:0 auto;width:80%;max-width:61.5vh;font-weight:500;color:#c9af00">✨ Escort the cargo spaceship.<br><br>✨ Select battle starships and place them strategically.<br><br>✨ Do not spend more Scriptium than neccesary.</div></div><div style="position:relative;margin:0 auto;width:61.5vh;height:calc(100% - 140px);max-height:140vw;max-width:100vw;overflow:visible"><div style="position:absolute;top:150px;left:5%;width:84%;text-align:center;pointer-events:none;opacity:0;transition:2s opacity;color:orange;border-radius:20px;font-size:12px;padding:3%;background-color:rgba(25,25,25,.7);z-index:1000" id=gameMSG></div><div style=position:absolute;display:none;top:150px;left:5%;width:84%;text-align:center;color:silver;border-radius:20px;font-size:12px;padding:3%;background-color:rgba(25,25,25,.9);z-index:1000 id=config><br><br>Set game volume<br><input id=vol max=1 min=0 onchange="zzfxV=this.value" oninput="zzfxV=this.value" step=0.01 type=range value=0.5><br><br><br><br><div style=display:inline-block;color:orange;padding:15px;width:150px;text-align:center;border-radius:10px;background-color:rgba(255,255,255,.2) onclick='localStorage.setItem("SpaceEscort13kbGame2","1 "+help),location.reload()'>Reset game to wave 1</div><br><br><br><br><div style=display:inline-block;color:#0f0;padding:15px;width:50px;text-align:center;border-radius:10px;background-color:#000 onclick='document.getElementById("config").style.display="none"'>OK</div><br><br></div><div style=position:absolute;display:none;bottom:100px;width:100%;text-align:center;color:#ff0;font-size:14px;z-index:1000 id=helpD><div style=left:2% class=a1>select one of the starship<div style=bottom:-130px;left:10%;font-size:150px class=a2>↳</div></div><div style=left:35% class=a1>this is your Scriptium<br>(money, life, ...)<div style=bottom:-40px;left:10%;font-size:60px class=a2>⇩</div></div><div style=left:68% class=a1><br><br>Then tap on the screen to place<div style=top:-100px;left:15%;font-size:120px class=a2>⇈</div></div><div style=position:absolute;left:35%;top:-80px;color:#0f0;padding:15px;width:100px;text-align:center;border-radius:10px;background-color:#333 onclick='document.getElementById("helpD").style.display="none"'>Ok, close help</div><br><br></div><div style=position:relative;height:100%;overflow:hidden;background-color:#000 id=canvasDIV><canvas id=mycanvas onclick=ponerNave(event.layerX/CanvasSize,event.layerY/CanvasSize,0) onmousedown="mou=1" onmouseup="mou=0"></canvas></div><div style="position:relative;display:none;width:100%;height:130px;min-height:100px;border-radius:20px 20px 0 0;background:linear-gradient(90deg,#141414 0,#3c3c3c 50%,#141414 100%)" id=shipMenuDIV><div style="position:absolute;display:none;width:100%;height:100%;border-radius:20px 20px 0 0;background:linear-gradient(90deg,#141414 0,#ba2222 50%,#141414 100%)" class=blink_me2 id=shipMenuDIVBlink></div><div style="position:absolute;top:16px;left:7%;width:20%;height:5px;color:gray;text-align:center;box-shadow:0 0 5px 3px #044;font-weight:200;font-size:11px;border-radius:10px 0 10px 0;background-color:#000"><div style=position:absolute;top:-15px;left:0;width:100%>alert status</div><div style="position:absolute;top:1px;left:0;width:1%;max-width:100%;height:4px;border-radius:10px 0 10px 0;background-color:red" id=alertSt></div></div><div style="position:absolute;top:5px;right:3%;color:silver;padding:0 5px 0 5px;text-align:center;box-shadow:0 0 5px 3px #bf0;font-weight:900;font-size:12px;border-radius:50px;background-color:#000" id=helpb onclick='document.getElementById("helpD").style.display="block",this.classList.remove("blink_me2"),this.style.boxShadow="0px 0px 5px 3px #044",help||localStorage.setItem("SpaceEscort13kbGame2",wave+" 1")'>?</div><div style="position:absolute;top:5px;right:10%;color:silver;padding:3px 5px 4px 3px;text-align:center;box-shadow:0 0 5px 3px #044;font-weight:900;font-size:7px;border-radius:50px;background-color:#000" onclick='game_running?(game_running=!1,this.style.backgroundColor="orange"):(game_running=!0,this.style.backgroundColor="black")'>▐▐</div><div style="position:absolute;top:5px;right:18%;color:silver;padding:0 4px 1px 3px;text-align:center;box-shadow:0 0 5px 3px #044;font-weight:900;font-size:13px;border-radius:50px;background-color:#000" onclick='document.getElementById("config").style.display="block"'>⚙</div><div style="position:relative;margin:0 auto;width:35%;text-align:center;font-weight:500;font-size:12px;border-radius:0 0 10px 10px;padding:3px 10px 4px 10px;height:17px;max-height:17px;color:#00b0b0;background-color:rgba(0,0,0,.5)"><span id=pasta style="font-size:14px;color:#0ff;height:16px;max-height:16px;transition:font-size .5s ease,color .2s ease">500</span> Scm (tons)</div><div style=position:relative;clear:both;margin-top:7px;text-align:center;width:100%;height:auto;color:#0ff;background-color:none><div class=menuDivs><div style="background-position:0 -3%" class=menuShips onclick="AAtype=2,AAsubtipo=1,selectShipmenu(this)"><div class=nam>garbage<br>meteor</div></div><br>5<br></div><div class=menuDivs><div style="background-position:14.2% 3%;border:2px solid #d3fc6f;box-shadow:0 0 10px 2px #d3fc6f" class=menuShips onclick="AAsubtipo=AAtype=2,selectShipmenu(this)" id=dflt><div class=nam>Light<br>figther</div></div><br>10</div><div class=menuDivs><div style="background-position:28.5% 2%" class=menuShips onclick="AAtype=2,AAsubtipo=3,selectShipmenu(this)"><div class=nam>trident<br>figther</div></div><br>20</div><div class=menuDivs><div style="background-position:42.8% -5%" class=menuShips onclick="AAtype=2,AAsubtipo=4,selectShipmenu(this)"><div class=nam>spread<br>figther</div></div><br>30</div><div class=menuDivs><div style="background-position:56.9% -5%" class=menuShips onclick="AAtype=2,AAsubtipo=5,selectShipmenu(this)"><div class=nam>ionic<br>cannon</div></div><br>40</div><div class=menuDivs><div style="background-position:71.3% -2%" class=menuShips onclick="AAtype=2,AAsubtipo=6,selectShipmenu(this)"><div class=nam>hammer<br>ironclad</div></div><br>50</div><div class=menuDivs><div style="background-position:85.6% -5%" class=menuShips onclick="AAtype=2,AAsubtipo=7,selectShipmenu(this)"><div class=nam>neutrino<br>mine</div></div><br>60</div></div></div></div></div><script>canvas=document.getElementById("mycanvas"),context=canvas.getContext("2d");var cWidth=1e3,cHeight=1400;canvas.width=cWidth,canvas.height=cHeight;var elapsed,sizeRatio=canvas.width/100,fps=60,mainCounter=0;game_running=!0,shipsMoving=!1,canPutItems=!1,canShoot=!0,show_vision=!1;var wave=1,help=0;if(null!==localStorage.getItem("SpaceEscort13kbGame2")){var strg=localStorage.getItem("SpaceEscort13kbGame2").split(" ");wave=parseInt(strg[0]),help=parseInt(strg[1])}help?document.getElementById("helpb").style.boxShadow="0px 0px 5px 3px #044":(document.getElementById("helpb").classList.add("blink_me2"),document.getElementById("helpb").style.boxShadow="0px 0px 5px 3px #bf0"),wave>1&&(document.getElementById("bpTxt").innerHTML="Continue mission");var CanvasSize,mou=0,AAtype=2,AAsubtipo=2;function resize(){context.setTransform(1,0,0,1,0,0),CanvasSize=document.getElementById("canvasDIV").clientWidth/cWidth,context.scale(CanvasSize,CanvasSize)}document.body.onresize=function(){resize()};var TIS=0;AA=[],SA=[],SM=[],Stars=[],SE=[];var distance,vision,iniLife=100,AAid=1,SAid=1,SMid=1,Starsid=1,ExplosionID=1,iniR=20,AiniXvel=1,AiniYvel=.5,StarVel=.7,inipowerShoot=1.5,inishootType=5,iniCadence=20,iniShootSpeed=10,speedOffset=0;function tryagain(){speedOffset=0,document.getElementById("gameMSG").style.pointerEvents="none",document.getElementById("gameMSG").style.opacity="0",setTimeout((function(){reset(),play()}),500)}function nextWave(){canPutItems=!0,document.getElementById("gameMSG").style.opacity="1",document.getElementById("gameMSG").style.pointerEvents="none",document.getElementById("gameMSG").innerHTML="<font style='font-size:25px; color:cyan;'><br><br>Wave "+wave+"<br><br><br></font>",setTimeout("document.getElementById('gameMSG').style.opacity='0'; ",2e3)}function nextWave2(){document.getElementById("gameMSG").style.opacity="0",cost=0,tipos=wave%7,AA[0].l=500,setTimeout((function(){nextWave()}),2e3)}var zzfxV=.5,zzfx=null;let zzfxX,zzfxR;function play(){null==zzfx&&(zzfx=(e=1,t=.05,o=220,A=0,i=0,n=.1,a=0,s=1,r=0,l=0,p=0,c=0,d=0,y=0,S=0,f=0,h=0,m=1,x=0,u=0)=>{let g,b,v=Math,M=44100,w=2*v.PI,E=r*=500*w/M/M,I=o*=(1-t+2*t*v.random(t=[]))*w/M,z=0,T=0,B=0,k=1,C=0,R=0,j=0;for(l*=500*w/M**3,S*=w/M,p*=w/M,c*=M,d=M*d|0,b=(A=M*A+9)+(x*=M)+(i*=M)+(n*=M)+(h*=M)|0;B<b;t[B++]=j)++R%(100*f|0)||(j=a?1<a?2<a?3<a?v.sin((z%w)**3):v.max(v.min(v.tan(z),1),-1):1-(2*z/w%2+2)%2:1-4*v.abs(v.round(z/w)-z/w):v.sin(z),j=(d?1-u+u*v.sin(w*B/d):1)*(0<j?1:-1)*v.abs(j)**s*e*zzfxV*(B<A?B/A:B<A+x?1-(B-A)/x*(1-m):B<A+x+i?m:B<b-h?(b-B-h)/n*m:0),j=h?j/2+(h>B?0:(B<b-h?1:(b-B)/h)*t[B-h|0]/2):j),g=(o+=r+=l)*v.cos(S*T++),z+=g-g*y*(1-1e9*(v.sin(B)+1)%2),k&&++k>c&&(o+=p,I+=p,k=0),!d||++C%d||(o=I,r=E,k=k||1);return(e=zzfxX.createBuffer(1,b,M)).getChannelData(0).set(t),(o=zzfxX.createBufferSource()).buffer=e,o.connect(zzfxX.destination),o.start(),o},zzfxX=new(window.AudioContext||webkitAudioContext)),reset(),StarVel=.1,document.getElementById("Gametitle").style.display="none",document.getElementById("botonPlayInfo").style.display="none",document.getElementById("mainMenu").style.display="block",document.getElementById("botonPlay").style.display="none",document.getElementById("shipMenuDIV").style.display="block",ponerNave(cWidth/2,cHeight+10,1),canPutItems=!0,ponerNave(cWidth/2+150,cHeight-400,-1),ponerNave(cWidth/2-150,cHeight-400,-1),canPutItems=!1,document.getElementById("gameStartMSG").style.opacity="0",document.getElementById("gameStartMSG").style.display="block",setTimeout((function(){document.getElementById("gameStartMSG").style.opacity="1"}),10),setTimeout((function(){document.getElementById("gameStartMSG").style.opacity="0"}),6e3),setTimeout((function(){document.getElementById("gameStartMSG").style.display="none"}),9e3),setTimeout((function(){nextWave2()}),8e3),setTimeout((function(){document.getElementById("mainMenu").style.display="none",canPutItems=!0,mainCounter=0,shipsMoving=!0}),1e3)}function reset(){mou=0,AAtype=2,AAsubtipo=2,selectShipmenu(document.getElementById("dflt"),1),cost=0,AA=[],SA=[],SM=[],SE=[],mainCounter=0,AAid=1,game_running=!0,shipsMoving=!0,canShoot=!0,document.getElementById("botonPlay").style.display="block",document.getElementById("botonPlayInfo").style.display="block",document.getElementById("mainMenu").style.display="block",document.getElementById("gameStartMSG").style.display="none",vision=30*sizeRatio/2,context.fillStyle="#000000",context.fillRect(0,0,CanvasSize,CanvasSize)}function selectShipmenu(e,t){t||zzfx(...[.58,,293,,.09,.09,1,.14,-.1,,,,.04,.4,,.4,.18,.59,.01,.24]);for(var o=document.getElementsByClassName("menuShips"),A=0;A<o.length;++A)o[A].style.borderColor="#445915",o[A].style.boxShadow="none",o[A].style.color="gray";e.style.borderColor="#d3fc6f",e.style.boxShadow=" 0px 0px 10px 2px #d3fc6f",e.style.color="#c6d149"}function newA(e,t,o,A,i,n,a,s,r,l,p,c,d,y,S,f,h,m){var x=0,u=e,g=inipowerShoot,b=iniCadence,v=iniShootSpeed,M=inishootType;switch(c){case 1:x=5,l=0,u=30,30;break;case 2:x=10;break;case 3:x=20;break;case 4:x=30,b=20;break;case 5:x=40,l=1.4*vision,g=15,b=60,v=6,M=6;break;case 6:x=50,u*=3.5;break;case 7:x=60,u*=1.5}if(1==p&&(x=0),8==c){var w={id:0,l:520,inilife:520,x:o,y:A,dx:0,dy:0,Xvel:AiniXvel,Yvel:AiniYvel,r:r,vision:l,tipo:p,subtipo:c,powerShoot:g,cadencia:b,lastShoot:0,shootSpeed:v,shootType:M,Yup:m};AA.push(w)}else if(AA[0].l>x){AA[0].l-=x;w={id:AAid,l:u,inilife:u,x:o,y:A,dx:0,dy:0,Xvel:AiniXvel,Yvel:AiniYvel,r:r,vision:l,tipo:p,subtipo:c,powerShoot:g,cadencia:b,lastShoot:0,shootSpeed:v,shootType:M,Yup:m};AA.push(w),2==p&&setTimeout("zzfx(...[.3,,329.6276,.03,.2,.78,,0,.1,,-60,.01,,,,,,1.2,.06]);",100),AAid++}else document.getElementById("gameMSG").style.opacity="1",document.getElementById("gameMSG").innerHTML="&#9888;<br><br>Cannot build this.<br>You will run out of Scriptium and mission will fail.",setTimeout("if(canPutItems) document.getElementById('gameMSG').style.opacity='0';",2e3),2==p&&setTimeout("zzfx(...[,,1031,,.07,.24,,1.61,,,,,,.1,27,.2,,.96,.1,.07])",100)}function newS(e,t,o,A,i,n,a){var s={id:SAid,power:e,x:t,y:o,shootType:A,tipo:i,shootVel:n,ShootXdeviation:a};SA.push(s),SAid++}function newM(e,t,o,A){var i={id:SMid,x:e,y:t,qtt:o,step:A};SM.push(i),SMid++}function ExplosionXY(e,t,o,A,i){var n={id:ExplosionID,x:e,y:t,tipo:A,r:o,shine:1,sprite:i};SE.push(n),ExplosionID++}function newStar(e){var t=0;1==e&&(t=Math.floor(Math.random()*cHeight));var o=(Math.floor(8*Math.random())+1)/3,A={id:Starsid,shine:Math.floor(10*Math.random())+1,color:Math.floor(13777215*Math.random()).toString(16),x:Math.floor(Math.random()*cWidth)-2,y:t,tipo:1,Vel:o};Stars.push(A),Starsid++}function ponerNave(e,t,o){1==o&&newA(2*iniLife,2*iniLife,e,t,0,0,0,0,iniR,0,2,8,0,0,0,0,inishootType),canPutItems&&newA(iniLife,iniLife,e,cHeight+50,0,0,AiniXvel,AiniYvel,iniR,vision,AAtype,AAsubtipo,inipowerShoot,iniCadence,0,iniShootSpeed,inishootType,t)}var cost=0,maxCost=100;context.imageSmoothingEnabled=!1,function(e,t,o){function A(e){var t,o,A,i,n,a,s=-1,r=999999999;for(ii=0;ii<AA.length;ii++)if(AA[e].tipo!=AA[ii].tipo){var l=AA[e].vision*(AA[e].tipo>1?-1:1);7==AA[e].subtipo&&(l=0);var p=AA[e].x-AA[ii].x,c=AA[e].y-AA[ii].y+l,d=AA[e].vision+AA[ii].r;if(p*p+c*c<d*d){var y=(t=AA[e].x,o=AA[e].y,A=AA[ii].x,i=AA[ii].y,n=void 0,a=void 0,n=t-A,a=o-i,Math.sqrt(n*n+a*a));y<r&&(s=ii,r=y)}}return s}for(i=0;i<100;i++)newStar(1);var a;function s(){if(++mainCounter%20){maxCost=700+200*wave;var e=AA.reduce(((e,t)=>1===t.tipo?e+=t.subtipo<7?10*t.subtipo:5:e),0);t.getElementById("alertSt").style.width=100/maxCost*e+"%"}if(canPutItems)if(cost<maxCost){var o=150+Math.floor(201*Math.random());if(1==mainCounter||mainCounter%o==0){var i=Math.floor(Math.random()*(wave+1))+1;wave>6&&(i=Math.floor(7*Math.random())+1);var a,s=Math.floor(3*Math.random())+1,c=cWidth/100*(Math.floor(100*Math.random())+1)/s,d=Math.floor(6*Math.random());for(d-=2,x=0;x<s;x++){for(n=0;n<1;n++)if(a=x*(cWidth/s)+(x%2?+c:cWidth/s-c),cost<maxCost&&(newA(iniLife,iniLife,a,-120,0,0,AiniXvel,AiniYvel,iniR,vision,1,i,inipowerShoot,iniCadence,0,iniShootSpeed,inishootType),cost+=i<7?10*i:5),d>0&&i>1){var y=1;for(wave>6&&(y=5*Math.floor(2*Math.random())+1),c2=0;c2<d;c2++)cost<maxCost&&(newA(iniLife,iniLife,a,-20-Math.floor(3*Math.random()),0,0,AiniXvel,AiniYvel,iniR,vision,1,y,inipowerShoot,iniCadence,0,iniShootSpeed,inishootType),cost+=y<7?10*y:5)}}if(wave>3&&wave%3==0&&3==Math.floor(10*Math.random())){y=Math.floor(3*Math.random())+2;for(c3=0;c3<Math.floor(5*Math.random())+9;c3++)cost<maxCost&&(newA(iniLife,iniLife,a,-20-Math.floor(10*Math.random()),0,0,AiniXvel,AiniYvel,iniR,vision,1,y,inipowerShoot,iniCadence,0,iniShootSpeed,inishootType),cost+=y<7?10*y:5)}}}else if(0==AA.reduce(((e,t)=>1===t.tipo?++e:e),0)){canPutItems=!1,t.getElementById("gameMSG").style.opacity="1";var S=["good job","way to go","good for you","there you go","good on you","great job","awesome work","good work","great work","take a bow","nice one","full marks","hats off","good going","nice job","right on","keep it up","nice work","fine job","great effort","awesome","top effort"][Math.floor(21*Math.random())]+", "+["Commander","fleet Captain","Chief","Officer","leader"][Math.floor(4*Math.random())]+"!",f="<font style='font-size:14px; color:#75bcc7;'>"+114e6*(wave+1)+" light years traveled<br><br>"+2*wave+"% done of 5700 Mly<br><br><br><br><br></font>",h="nextWave2();",m="continue mission";if(50==wave){S="Congratulation Sir!<br><br> You got it!",f="Restart and play again!<br><br>",h="location.reload();";m="restart"}t.getElementById("gameMSG").innerHTML="<font style='font-size:25px; color:#a591ff;'>&#x1F4AB;</font><br><br><font style='font-size:20px; color:#a591ff;'>"+S+"<br><br>Wave Killed<br><br><br></font></font>"+f+"<div class='blink_me' onclick='"+h+"' style='display:inline-block; text-align:center; padding:6px 20px 6px 20px; font-size:20px; color:lime; font-weight:500; box-shadow: 0px 0px 10px 5px #86a145; border-radius:10px; border:3px solid lime; background-color:rgba(0,0,0,0.5);'>"+m+"</div><br><br><br>",t.getElementById("gameMSG").style.pointerEvents="auto",wave<50?wave++:(wave=1,localStorage.setItem("SpaceEscort13kbGame2","1 "+help)),zzfx(...[1.35,,585,,.2,.48,1,.39,-.3,,66,.07,.14,,,,.15,.96,1,.12]),localStorage.setItem("SpaceEscort13kbGame2",wave+" "+help),setTimeout((function(){speedOffset=.01,zzfx(...[1.02,0,128,.73,1.14,.38,1,.63,.3,,,,,.4,,.8,.14,.5,.65])}),1e3),setTimeout((function(){speedOffset=0}),3e3)}for(!zzfx||1!=mainCounter&&mainCounter%300!=0||zzfx(...[.9,.25,220,2,1.5,3,,3.4,,,,,1,.3,,,,.78,.02,.11]),zzfx&&mainCounter%500==0&&zzfx(...[.1,.25,1500,2,,0,1,0,,,,,,,,,,0,4]),speedOffset>0&&(speedOffset+=.2),AA[0]&&AA[0].l>0&&(t.getElementById("pasta").innerHTML=8==AA[0].subtipo?Math.round(AA[0].l):0,AA[0].l<150?(t.getElementById("shipMenuDIVBlink").style.display="block",t.getElementById("pasta").style.color="#ff7575"):t.getElementById("shipMenuDIVBlink").style.display="none"),TIS=Math.max(1-.008*(SA.length+SE.length),.3),mainCounter%(Math.floor(21*Math.random())+1)==0&&newStar(),W=0;W<Stars.length;W++)Stars[W].y+=Stars[W].Vel*StarVel,Stars[W]&&Stars[W].y>cHeight&&Stars.splice(W,1);for(W=0;W<SM.length;W++)SM[W].y-=1,SM[W].step++,SM[W]&&SM[W].step>100&&SM.splice(W,1);if(canShoot)for(W=0;W<SA.length;W++){if(1==SA[W].tipo&&(SA[W].y+=SA[W].shootVel),2==SA[W].tipo&&(SA[W].y-=SA[W].shootVel),SA[W].x+=SA[W].ShootXdeviation,SA[W])for(j=0;j<AA.length;j++)if(SA[W]&&SA[W].tipo!=AA[j].tipo){var x=AA[j].r,u=SA[W].x-AA[j].x,g=SA[W].y-AA[j].y;x>Math.sqrt(u*u+g*g)&&(zzfx(...[.2*TIS,,465,,.01,,2,.31,-.5,,-50,,,-5.7,,,,.95,.03]),ExplosionXY(SA[W].x,SA[W].y,10,2,0),AA[j].l-=SA[W].power,SA.splice(W,1))}SA[W]&&(SA[W].y>cHeight+100||SA[W].y<-10)&&SA.splice(W,1)}for(W=0;W<AA.length;W++){var b;for((b=A(W))>-1&&(AA[W].Yup=AA[W].y,1==AA[b].subtipo&&(AA[b].Yup=AA[b].y),AA[W].x<AA[b].x&&(AA[W].dx=AiniXvel),AA[W].x>AA[b].x&&(AA[W].dx=-AiniXvel),1!=AA[W].subtipo&&(6==AA[W].subtipo||7==AA[W].subtipo?(AA[W].y<AA[b].y&&(AA[W].dy=2*AA[W].Yvel),AA[W].y>AA[b].y&&(AA[W].dy=2*-AA[W].Yvel)):(AA[W].y<AA[b].y&&(AA[W].dy=AA[W].Yvel/6),AA[W].y>=AA[b].y&&(AA[W].dy=-AA[W].Yvel/6))),AA[b].x>AA[W].x-1&&AA[b].x<AA[W].x+1&&(AA[W].dx=0),AA[b].x>AA[W].x-200&&AA[b].x<AA[W].x+200&&canShoot&&AA[W].lastShoot>=AA[W].cadencia&&(AA[W].subtipo>0&&AA[W].subtipo<7&&zzfx(...[.3*TIS,,452,.03,.02,.3,3,,-.9,,50,,,.3,1,.1,,.5]),AA[W].lastShoot=0,2==AA[W].subtipo&&newS(AA[W].powerShoot,AA[W].x,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),3==AA[W].subtipo&&(newS(AA[W].powerShoot,AA[W].x-12,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),newS(AA[W].powerShoot,AA[W].x,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),newS(AA[W].powerShoot,AA[W].x+10,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0)),4==AA[W].subtipo&&(newS(AA[W].powerShoot,AA[W].x-15,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,-1.5),newS(AA[W].powerShoot,AA[W].x-6,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),newS(AA[W].powerShoot,AA[W].x+5,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),newS(AA[W].powerShoot,AA[W].x+13,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,1.5)),5==AA[W].subtipo&&newS(AA[W].powerShoot,AA[W].x,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0),6==AA[W].subtipo&&newS(AA[W].powerShoot,AA[W].x,AA[W].y,AA[W].shootType,AA[W].tipo,AA[W].shootSpeed,0)),AA[W].lastShoot++),-1==b&&(1==AA[W].tipo&&(AA[W].dy=AA[W].Yvel,AA[W].y>cHeight-AA[W].r-400?(AA[W].x>cWidth/2&&(AA[W].dx=-AiniXvel),AA[W].x<cWidth/2&&(AA[W].dx=AiniXvel)):AA[W].dx=0),2==AA[W].tipo&&(AA[W].dy=-AA[W].Yvel,AA[W].dx=0)),j=W;j<AA.length;j++)if(j!=W&&(8!=AA[W].subtipo&&8!=AA[j].subtipo||(8==AA[W].subtipo||8==AA[j].subtipo)&&AA[W].tipo!=AA[j].tipo)){var v=AA[W].x-AA[j].x,M=AA[W].y-AA[j].y,w=AA[W].r+AA[j].r;if(v*v+M*M<w*w){if(AA[j].Yup=AA[j].y,AA[W].Yup=AA[W].y,AA[j].tipo!=AA[W].tipo)if(7==AA[W].subtipo||7==AA[j].subtipo){var E=W,I=j;for(7==AA[j].subtipo&&(E=j,I=W),ii=0;ii<AA.length;ii++){var z=AA[E].x-AA[ii].x,T=AA[E].y-AA[ii].y,B=AA[E].vision+AA[ii].r;z*z+T*T<B*B&&(8!=AA[E].subtipo&&(AA[E].l=0),8!=AA[I].subtipo&&(AA[I].l=0),AA[ii].l-=100)}}else AA[j].l-=.2,AA[W].l-=.2;var k=Math.atan2(M,v),C=(w-Math.sqrt(v*v+M*M))/2;AA[W].dx+=C*Math.cos(k),AA[j].x-=C*Math.cos(k),AA[W].dy+=C*Math.sin(k),AA[j].y-=C*Math.sin(k)}}if(shipsMoving&&(8!=AA[W].subtipo||8==AA[W].subtipo&&AA[W].y>cHeight-175)&&(StarVel<2&&(StarVel+=.001),AA[W].x+=AA[W].dx,2==AA[W].tipo&&AA[W].y>AA[W].Yup?AA[W].y+=AA[W].dy-speedOffset-15:AA[W].y+=AA[W].dy-speedOffset),AA[W].x<AA[W].r&&(AA[W].x=AA[W].r),AA[W].x>cWidth-AA[W].r&&(AA[W].x=cWidth-AA[W].r),7==AA[W].subtipo||1==AA[W].subtipo?(1==AA[W].tipo&&AA[W].y>cHeight-AA[W].r+50&&AA.splice(W,1),2==AA[W].tipo&&AA[W].y<AA[W].r-50&&AA.splice(W,1)):(1==AA[W].tipo&&AA[W].y>cHeight-AA[W].r-200&&(AA[W].y=cHeight-AA[W].r-200),2==AA[W].tipo&&AA[W].y<AA[W].r-50&&AA.splice(W,1)),AA[W]&&(canShoot&&8!=AA[W].subtipo&&(AA[W].l-=.005),AA[W].l<=0)){8==AA[W].subtipo&&(zzfx(...[2.46,,77,,1,3,4,1.16,,,,,,.7,-30,.5,.2,.63,1,.01]),cost=0,shipsMoving=0,speedOffset=0,canPutItems=!1,canShoot=!1,SA=[],t.getElementById("gameMSG").style.opacity="1",t.getElementById("gameMSG").style.pointerEvents="auto",t.getElementById("gameMSG").innerHTML="<font style='font-size:25px; color:orange;'>&#x1F4A5;<br><br>Mission Failed<br><br><br></font><div class='blink_me' onclick='tryagain();' style='display:inline-block; text-align:center; padding:6px 20px 6px 20px; font-size:20px; color:#d3fc6f; font-weight:500; box-shadow: 0px 0px 10px 5px #86a145; border-radius:10px; border:3px solid #d3fc6f; background-color:rgba(0,0,0,0.5);'>try again</div><br><br><br>"),zzfx(...[TIS,,475,,.18,.83,2,1.86,,,,,,3.2,,.8,,1.5,1,.21]);for(var R=0;R<10;R++)ExplosionXY(AA[W].x+AA[W].r+Math.floor(50*Math.random())-25,AA[W].y+AA[W].r+Math.floor(50*Math.random())-25,AA[W].r*Math.floor(3*Math.random())+3,1,0);if(1==AA[W].tipo&&AA[0].l>0){var G=0;switch(AA[W].subtipo){case 1:G=3;break;case 2:G=6;break;case 3:G=13;break;case 4:G=22;break;case 5:G=26;break;case 6:G=35;break;case 7:G=40}AA[0].l+=G,AA[0].l>500&&(AA[0].l=500),newM(AA[W].x,AA[W].y,G,1),t.getElementById("pasta").style.color="yellow",t.getElementById("pasta").style.fontSize="16px",setTimeout((function(){t.getElementById("pasta").style.fontSize="14px",t.getElementById("pasta").style.color="cyan"}),200)}AA.splice(W,1)}}for(context.fillStyle="#000000",context.fillRect(0,0,cWidth+1,cHeight),W=0;W<Stars.length;W++)context.fillStyle="#"+Stars[W].color,context.fillRect(Stars[W].x,Stars[W].y,Stars[W].shine/1.7,Stars[W].shine/2.3);for(W=0;W<AA.length;W++)if(0!=AA[W].subtipo&&(show_vision||7==AA[W].subtipo)){context.fillStyle="rgba(150,150,150,0.1)",context.beginPath();var Y=AA[W].vision*(AA[W].tipo>1?-1:1);7==AA[W].subtipo&&(Y=0),AA[W].tipo,context.arc(AA[W].x,AA[W].y+Y,AA[W].vision,0,2*Math.PI),context.fill()}for(var W=0;W<AA.length;W++){if(1==AA[W].tipo)if(1===AA[W].subtipo)context.save(),context.translate(AA[W].x,AA[W].y),context.rotate(Math.PI/180*(6*AA[W].x+6*AA[W].y)%180),context.drawImage(r,0,25,25,25,-50,-50,5*AA[W].r,5*AA[W].r),context.restore();else context.drawImage(r,25*(AA[W].subtipo-1),25,25,25,AA[W].x-AA[W].r*sizeRatio/4,AA[W].y-AA[W].r*sizeRatio/4,5*AA[W].r,5*AA[W].r);else if(1===AA[W].subtipo)context.save(),context.translate(AA[W].x,AA[W].y),context.rotate(Math.PI/180*(6*AA[W].y+6*AA[W].x)%180),context.drawImage(r,0,0,25,25,-50,-50,5*AA[W].r,5*AA[W].r),context.restore();else context.drawImage(r,25*(AA[W].subtipo-1),0,25,25,AA[W].x-AA[W].r*sizeRatio/4,AA[W].y-AA[W].r*sizeRatio/4,AA[W].r*sizeRatio/2,AA[W].r*sizeRatio/2);var X=AA[W].y+AA[W].r+10;1==AA[W].tipo&&(X=AA[W].y+AA[W].r-50),8==AA[W].subtipo?(X+=70,context.fillStyle="#505050",context.fillRect(AA[W].x-AA[W].r-25-3,X,2*AA[W].r+50+6,9),context.fillStyle="hsl("+.18*AA[W].l+",100%,50%)",context.fillRect(AA[W].x-AA[W].r-25,X+3,Math.abs((2*AA[W].r+55)/AA[W].inilife*AA[W].l)+2,3)):(context.fillStyle="black",context.fillRect(AA[W].x-AA[W].r,X,2*AA[W].r,5),context.fillStyle="hsl("+AA[W].l+",100%,50%)",context.fillRect(AA[W].x-AA[W].r,X-1,Math.abs(2*AA[W].r/AA[W].inilife*AA[W].l),3))}for(W=0;W<SE.length;W++)SE[W]&&1==SE[W].tipo&&(SE[W].shine-=.02,context.drawImage(l,6*SE[W].sprite,0,6,6,SE[W].x-SE[W].r,SE[W].y-SE[W].r,SE[W].r,SE[W].r),mainCounter%(Math.floor(15*Math.random())+1)==0&&SE[W].sprite++,SE[W].sprite>=12&&SE.splice(W,1)),SE[W]&&2==SE[W].tipo&&(SE[W].shine-=.02,context.drawImage(l,6*SE[W].sprite,6,6,6,SE[W].x-SE[W].r,SE[W].y-SE[W].r,2*SE[W].r,2*SE[W].r),mainCounter%(Math.floor(15*Math.random())+1)==0&&SE[W].sprite++,SE[W].sprite>=12&&SE.splice(W,1));for(W=0;W<SA.length;W++)1==SA[W].tipo?6==SA[W].shootType?context.drawImage(p,2,12,3,9,SA[W].x-5,SA[W].y,12,50):context.drawImage(p,0,12,1,9,SA[W].x-1,SA[W].y,5,30):6==SA[W].shootType?context.drawImage(p,2,0,3,9,SA[W].x-5,SA[W].y,12,50):context.drawImage(p,0,0,1,9,SA[W].x-1,SA[W].y,5,30);for(W=0;W<SM.length;W++){context.fillStyle="black",context.font=3.5*sizeRatio+"px Arial",context.fillText("+"+SM[W].qtt,SM[W].x-.5*sizeRatio+2,SM[W].y+.5*sizeRatio+2+50);var P=SM[W].step>65?1-(SM[W].step-50)/65:1;context.fillStyle="rgba(255,255,0,"+P+")",context.font=3.5*sizeRatio+"px Arial",context.fillText("+"+SM[W].qtt,SM[W].x-.5*sizeRatio,SM[W].y+.5*sizeRatio+50)}}a=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,e.requestAnimationFrame=a,function(){var e,t,o;function A(){a(A),t=Date.now(),(elapsed=t-o)>e&&(o=t-elapsed%e,game_running&&s())}!function(t){e=1e3/t,o=Date.now(),o,A()}(fps)}(),cost=0;var r=new Image,l=new Image,p=new Image;r.src="img/SPRTships.png?v="+Date(),r.onload=function(){l.src="img/SPRTexplosions.png?v="+Date()},l.onload=function(){p.src="img/SPRTweapons.png?v="+Date()},p.onload=function(){s()}}(this,this.document),resize()</script>