<!doctype html><meta name=viewport content="width=device-width"><style>#titleScreen{position:relative;height:100vh;transition:opacity 1s,transform 1s ease-in-out}.transitionOut #titleScreen{opacity:0;transform:scale3d(2,2,1)}.checkerFont{font-size:13vh;font-weight:900;color:#393939;text-transform:uppercase;display:flex;text-shadow:0 .1vh .1vh #000}.checkerFontTile{display:block;width:12vh;height:12vh;line-height:12vh;text-align:center;opacity:0;transform:scale3d(.8,.8,1);transition:opacity .21s,transform .21s ease-in}.even .checkerFontTile:nth-child(odd),.odd .checkerFontTile:nth-child(2n){background:#494949 linear-gradient(0deg,rgba(0,0,0,.2),transparent);color:#fff}.newGame{position:relative;cursor:pointer;display:block;width:36vh;height:9vh;line-height:9vh;text-align:center;background:#60956e linear-gradient(0deg,rgba(0,0,0,.15),transparent,transparent);border-radius:1vh;font-weight:700;text-shadow:0 .1vh .1vh #000;position:absolute;right:10vh;bottom:15vh;opacity:0;z-index:-1;color:#fff;transform:scale3d(.8,.8,1);transition:opacity .21s 1.5s,transform .21s ease-in 1.5s,background-color .3s,z-index 1ms 1.4s}.newGame:hover{background-color:#487454}.newGame:active{background-color:#60956e}.show .checkerFontTile,.show .newGame{opacity:1;z-index:1;transform:scaleX(1)}.endScreen{position:fixed;left:0;top:0;width:100vw;height:100vh;transform:translateZ(0);z-index:-50;opacity:0;transition:opacity .4s}.endScreen.show{z-index:50;opacity:1;background-color:hsla(0,0%,100%,.85);background-image:linear-gradient(0deg,rgba(0,0,0,.1),transparent),radial-gradient(ellipse at center,transparent 0,rgba(0,0,0,.1) 100%)}.divider,.gameOverText,.playAgain,.stat{opacity:0}.gameOverText,.stats{width:100vh;margin-left:auto;margin-right:auto;padding-left:8vh}.stats{margin-top:5vh}.stat{position:relative;width:35vh;line-height:4vh;padding-top:.5vh;border-radius:1vh;font-size:2vh;font-weight:700;font-style:italic;color:#494949;transform:translate3d(-4vh,0,0);transition:transform .32s ease-in-out,opacity .32s ease-in-out}.stat:first-child{transition-delay:1.2s}.stat:nth-child(2){transition-delay:1.35s}.stat:nth-child(3){transition-delay:1.5s}.statVal{position:absolute;right:0;top:0;display:inline-block;text-align:right;margin-left:2vh;font-size:5vh;font-style:normal;font-weight:700;color:#393939}.gameOverText{margin-top:18vh;font-size:8vh;font-weight:700;transform:translate3d(0,7vh,0);transition:transform 2.4s cubic-bezier(0,.6,.85,1),opacity .9s ease-in-out}.playAgain{position:relative;cursor:pointer;display:block;width:36vh;height:9vh;line-height:9vh;text-align:center;background:#60956e linear-gradient(0deg,rgba(0,0,0,.15),transparent,transparent);border-radius:1vh;font-weight:700;color:#fff;text-shadow:0 .1vh .1vh #000;position:absolute;left:50%;bottom:15vh;margin-left:10vh;opacity:0;z-index:-1;transform:scale3d(.8,.8,1);transition:opacity .21s 1.5s,transform .21s ease-in 1.5s,background-color .3s,z-index 1ms 1.4s}.playAgain:hover{background-color:#487454}.playAgain:active{background-color:#60956e}.divider{border:0;width:1vh;height:1px;margin:6vh auto;background:linear-gradient(90deg,transparent,#696969,transparent);transition:width .55s ease-in-out 1.2s,opacity .55s 1.2s}.show .gameOverText,.show .stat{opacity:1;transform:translateZ(0)}.show .playAgain{opacity:1;z-index:10;transform:scaleX(1)}.show .divider{width:100vh;opacity:1}#cameraControls{display:flex;justify-content:space-between;width:25vh;position:absolute;right:4vh;bottom:4vh;padding:9vh 0;transform:translateZ(1000px);z-index:5;transition:opacity .5s .5s,transform .5s .5s}.cameraOption{position:relative;cursor:pointer;width:7vh;height:7vh;line-height:7vh;text-align:center;border-radius:50%;background-color:#60956e;background-image:radial-gradient(circle at center,transparent,rgba(0,0,0,.333))}.cameraOption:after{content:"";display:block;width:1.8vh;height:1.8vh;position:absolute;left:50%;top:50%;margin-left:-.9vh;margin-top:-.9vh;background:linear-gradient(45deg,transparent,transparent 50%,#fff 0,#fff)}#camUp:after{transform:rotate(-45deg);top:55%}#camDown:after{transform:rotate(135deg);top:45%}#camRight:after{transform:rotate(-135deg);left:55%}#camLeft:after{transform:rotate(45deg);left:45%}#camDefault:after{background:#fff;border-radius:50%}#camDown,#camUp{position:absolute;left:50%;margin-left:-3.5vh}#camUp{top:0}#camDown{bottom:0}.checkerSelect #cameraControls,.overview #cameraControls{transition:opacity .5s,transform .5s;opacity:0;transform:translate3d(100%,0,0)}#status{position:absolute;right:4vh;bottom:7.5vh;margin:0;padding-right:9vh;font-weight:700;text-align:right;color:#393939;opacity:0;transform:translate3d(100%,0,1000px);transition:opacity .4s,transform .4s ease-in-out,color .3s;z-index:10}#status:after{content:"!";display:block;width:6vh;height:6vh;line-height:6vh;font-size:4vh;text-align:center;border-radius:50%;background:#94850a;color:#fff!important;text-shadow:0 .1vh .1vh #000;position:absolute;right:0;top:50%;margin-top:-3vh}#status.show{transition-delay:.3s,.3s;opacity:1;transform:translateZ(1000px)}#status.fadeText{color:transparent}.checker{position:absolute;left:0;top:0;z-index:1;display:block;transition:opacity .45s,transform .45s ease-in-out .18s,background-color .45s,border-color .45s;border:1vh solid transparent;border-radius:50%;background-color:#494949;background-image:radial-gradient(circle at center,transparent,rgba(0,0,0,.333))}.stayPut{cursor:pointer}.king .crown{opacity:.5}.playableChecker *,.playerChecker.stayPut *{cursor:pointer}.crown{display:block;width:100%;height:100%;position:absolute;left:0;top:-2.5vh;overflow:hidden;border-radius:50%;transform:scale3d(.7,.7,1);opacity:0;transition:opacity .5s .25s}@keyframes crownSwell{0%{opacity:0;transform:scale3d(.6,.6,1) translateZ(0)}25%{opacity:1}50%{opacity:1}to{opacity:0;transform:scale3d(1.5,1.5,1) translate3d(0,-12vh,0)}}.king .clone{animation-name:crownSwell;animation-duration:.7s;animation-iteration-count:1}.king .clone .spoke{border-color:transparent transparent #94850a}.king .clone .spoke:after{background-color:#94850a}.spoke{width:0;height:0;border-style:solid;border-width:0 1.8vh 8vh;border-color:transparent transparent #fff;bottom:0}.spoke,.spoke:after{display:block;position:absolute}.spoke:after{content:"";width:1.8vh;height:1.8vh;background:#fff;border-radius:50%;left:50%;top:0;margin-left:-.9vh}.spoke:first-child{left:0;transform:rotate(-30deg) translate3d(2vh,3vh,0) scale3d(.9,.9,1)}.spoke:nth-child(2){left:20%;transform:rotate(-15deg) translate3d(1.25vh,1vh,0) scale3d(.9,.9,1)}.spoke:nth-child(3){left:40%}.spoke:nth-child(4){left:60%;transform:rotate(15deg) translate3d(-1.25vh,1vh,0) scale3d(.9,.9,1)}.spoke:nth-child(5){left:80%;transform:rotate(30deg) translate3d(-2vh,3vh,0) scale3d(.9,.9,1)}.hostile{background-color:#a13838}.explosion{position:absolute;transform:rotate(0);transition:transform 1.25s cubic-bezier(0,.75,.75,1) 50ms;z-index:10}.splode{transform:rotate(45deg)}.particle{width:2vh;height:2vh;position:absolute;left:50%;top:50%;margin-left:-1vh;margin-top:-1vh;border-radius:50%;background-color:#494949;opacity:1;transition:opacity 1.2s 50ms,border-radius 1.5s 50ms,transform 1.2s cubic-bezier(0,.8,.9,1) 50ms,background-color 1.2s}.hostileExplosion .particle{background-color:#a13838}.explosion:not(.splode) .particle{transform:translateZ(0)!important}.splode .particle{border-radius:0;opacity:0;background-color:#94850a}.suppressTrans{transition:none}.checkerSelect .checker{opacity:.25}.checkerSelect .playableChecker{opacity:1;cursor:pointer;box-shadow:0 0 0 transparent}.checkerSelect .playableChecker:hover{background-color:#60956e}.tile{position:relative;display:block;background-color:#a9a9a9;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.2));transition:background-color .4s}.validMove{cursor:pointer;background-color:#60956e}#board{display:flex;flex-wrap:wrap;position:absolute;left:50%;top:50%;transition:transform .81s}.checkerCountWrapper{position:absolute;left:9vh;display:inline-block;height:8vh;line-height:7.333vh;padding:0 4vh 0 8vh;background:#94850a linear-gradient(0deg,hsla(0,0%,100%,.85),hsla(0,0%,100%,.8));font-weight:700;color:#393939;border:.333vh solid #94850a;border-radius:1vh;transform:translateZ(1000px);z-index:10}.allies{bottom:16.5vh;transition:opacity .45s .3s,transform .45s .3s}.hostiles{bottom:5.5vh;transition:opacity .45s .4s,transform .45s .4s}.checkerSelect .allies{transition-delay:0s,0s}.checkerSelect .hostiles{transition-delay:.1s,.1s}.checkerSelect .allies,.checkerSelect .hostiles{opacity:0;transform:translate3d(-200%,0,0)}.checkerCount{position:absolute;left:-5vh;top:-1vh;transform:translateZ(0);width:10vh;height:10vh;color:#fff;text-shadow:0 .1vh .1vh #000;line-height:9vh;text-align:center;border:.5vh solid #94850a;border-radius:50%;background-image:radial-gradient(circle at center,transparent,rgba(0,0,0,.333))}.allies .checkerCount{background-color:#494949}.hostiles .checkerCount{background-color:#a13838}#game{position:absolute;left:0;top:0;width:100vh;height:100vh;opacity:0;transform:scale3d(.8,.8,1);transition:opacity .9s,transform .9s ease-in}#game.transitionIn{opacity:1;transform:scaleX(1)}*{box-sizing:border-box;cursor:default;webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body{margin:0;padding:0;width:100vw;background-color:#fff;background-image:linear-gradient(0deg,rgba(0,0,0,.1),transparent),radial-gradient(ellipse at center,transparent 0,rgba(0,0,0,.1) 100%);color:#393939;font-family:monospace;font-size:3vh}#viewport,body{height:100vh;overflow:hidden}#viewport{position:relative;z-index:0;width:100vh;margin:0 auto}</style><body><script>!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function r(e){return"function"==typeof e}function a(e){return r(o[e])}Object.defineProperty(t,"__esModule",{value:!0});var i={},o={};t.default={get:function(){var e=this,t=Array.from(arguments),n={},a=function(t){return r(t)?t.bind(e)():t};if(1===t.length){var i=o[t[0]];return a(i)}return t.map((function(e){var t=o[e];n[e]=a(t)})),n},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e),r=[];n.map((function(n){if(a(n))console.warn("'"+n+"' is a derived property and can not be explicitly set.");else{if(o[n]===e[n])return o[n];if(o[n]=e[n],i[n]&&!1===t){var u=i[n].map((function(t){return{action:t,value:e[n]}}));r=r.concat(u)}}})),r.map((function(e){return e.action(e.value)}))},watch:function(e,t){a(e)?console.warn("'"+e+"' is a derived property and can not be watched."):(i[e]||(i[e]=[]),i[e].push(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.createElement(t),this}return r(e,[{key:"destructor",value:function(){this.el.parentNode.removeChild(this.el)}},{key:"classify",value:function(e){var t=this;return e&&e.split(" ").map((function(e){var n=e.charAt(0),r=e.substr(1,e.length);"-"===n?t.el.classList.remove(r):"~"===n?t.el.classList.toggle(r):"+"===n?t.el.classList.add(r):t.el.classList.add(e)})),this}},{key:"attribute",value:function(e){var t=this;return Object.keys(e).map((function(n){t.el[n]=e[n]})),this}},{key:"kids",value:function(){var e=this,t=Array.from(arguments);return 1===t.length&&t[0].length&&(t=t[0]),t.map((function(t){e.el.appendChild(t)})),this}},{key:"gut",value:function(){for(;this.el.lastChild;)this.el.removeChild(this.el.lastChild);return this}},{key:"style",value:function(e){var t=this;return Object.keys(e).map((function(n){t.el.style[n]=e[n]})),this}},{key:"text",value:function(e){return this.el.innerText=e,this}},{key:"onClick",value:function(e,t){return this.clickHandler||(this.clickHandler=new a.default(this.el)),this.clickHandler.onClick(e,t)}},{key:"onTrans",value:function(e){var t=this;this.el.addEventListener("transitionend",(function n(r){var a=r.target,i=a.isEqualNode(t.el),o=a.classList.contains("transitioning");i&&!o&&(t.el.removeEventListener("transitionend",n),e())}))}},{key:"onAnim",value:function(e){var t=this;this.el.addEventListener("animationend",(function n(r){r.target.isEqualNode(t.el)&&(t.el.removeEventListener("animationend",n),e())}))}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){var t=e.checker,n=e.jumped;if(i.default.set({nextAiJump:null},!0),!n)return!1;var r=t.getJumps();return r.length>0&&(i.default.set({nextAiJump:a(r)},!0),!0)}function a(e){return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={action:function(e){var t=[];e.map((function(e){e.getActions().length>0&&(t=t.concat(e.getActions()))}));var n=t.filter((function(e){return e.jumped}));return n.length>0?a(n):function(e){return e[Math.floor(Math.random()*e.length)]}(t)},go:function e(t){if(t){var n=t.checker,a=t.toX,o=t.toY,u=t.jumped,l=i.default.get("cameraPosition"),s=function(){u&&u.removeFromPlay(),n.animateTo(a,o,(function(){r(t)?function(e,t){var n=setInterval((function(){e.el.classList.contains("suppressTrans")||(clearInterval(n),t())}),100)}(n,(function(){e(i.default.get("nextAiJump"))})):i.default.set({isTurn:!i.default.get("isTurn"),allyAction:null})}))};"camOverview"!==l?i.default.get("board").onTrans((function(){return s()})):s(),i.default.set({cameraPosition:"camOverview"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){}function i(e){return Math.floor(Math.random()*e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(1)),l=r(n(0)),s=n(4);n(28),l.default.set({checkerSize:function(){return this.get("tileSize")-2*this.get("tileBuffer")},checkersPerTeam:function(){var e=this.get("boardCols");return e/2*(e/2-1)}},!0);var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"i")),r=["+checker"],a=e.isHostile,i=e.x,o=e.y,u=l.default.get("checkerSize")+"vh";return a&&(n.isHostile=!0,r.push("+hostile")),n.classify(r.join(" ")),n.style({width:u,height:u,margin:l.default.get("tileBuffer")+"vh"}),n.position(i,o),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"makePlayer",value:function(){this.isPlayer=!0,this.classify("+playerChecker")}},{key:"makeKing",value:function(){var e=this,t=this.isHostile?l.default.get("boardCols")-1:0;if(!this.isKing&&this.y===t){var n=function(){var e=new u.default("span").classify("+spoke").el;return new u.default("span").classify("+crown").kids(e.cloneNode(),e.cloneNode(),e.cloneNode(),e.cloneNode(),e.cloneNode()).el}(),r=n.cloneNode(!0);r.classList.add("clone"),this.isKing=!0,this.kids(n,r),r.addEventListener("animationend",(function(){r.parentNode.removeChild(r)})),setTimeout((function(){return e.classify("+king")}),10)}}},{key:"isJump",value:function(e){return Math.abs(e-this.x)>1}},{key:"checkPosition",value:function(e,t){return!!function(e,t){var n=l.default.get("boardCols"),r=function(e){return e>-1&&e<n};return r(e)&&r(t)}(e,t)&&{x:e,y:t,occupant:l.default.get("checkerPositions")[e][t]}}},{key:"getUpLeft",value:function(){return this.checkPosition(this.x-1,this.y-1)}},{key:"getUpRight",value:function(){return this.checkPosition(this.x+1,this.y-1)}},{key:"getDownRight",value:function(){return this.checkPosition(this.x+1,this.y+1)}},{key:"getDownLeft",value:function(){return this.checkPosition(this.x-1,this.y+1)}},{key:"getRange",value:function(){var e=[this.getDownLeft(),this.getDownRight()],t=[this.getUpLeft(),this.getUpRight()];return this.isKing?e.concat(t):this.isHostile?e:t}},{key:"getMoves",value:function(){var e=this;return this.getRange().map((function(t){if(!t)return!1;var n=t.x,r=t.y;return!t.occupant&&{checker:e,toX:n,toY:r}})).filter((function(e){return e}))}},{key:"getJumps",value:function(){var e=this;return this.getRange().map((function(t){var n=t.x,r=t.y,a=t.occupant;if(!a||a.isHostile===e.isHostile)return!1;var i=n+(n-e.x),o=r+(r-e.y),u=e.checkPosition(i,o);return!(!u||u.occupant)&&{checker:e,toX:i,toY:o,jumped:a}})).filter((function(e){return e}))}},{key:"getActions",value:function(){var e=this.getJumps();return e.length>0?e:this.getMoves()}},{key:"explode",value:function(e){var t=this,n=function(e){var t=(new u.default).classify("+explosion"),n=(new u.default).classify("particle"),r=i(15)+10;for(e&&t.classify("+hostileExplosion");r--;){var a=n.el.cloneNode(),o=0===i(1)?-1:1,l=0===i(1)?-1:1,c=i(40)+10*o,f=i(40)+10*l,d=(i(6)+1)/5,h=[(0,s.translate3d)(c,f),(0,s.scale3d)(d,d)];a.style.transform=h.join(" "),t.kids(a)}return t}(this.isHostile),r=l.default.get("tileSize"),a=l.default.get("board");e.classList.remove("suppressTrans"),a.kids(e);e.addEventListener("transitionend",(function i(){e.removeEventListener("transitionend",i),e.parentNode.removeChild(e),n.style({width:r+"vh",height:r+"vh",left:t.x*r+"vh",top:t.y*r+"vh"}),n.onTrans((function(){return n.destructor()})),a.kids(n.el),setTimeout((function(){return n.classify("splode")}),5)})),setTimeout((function(){return e.style.transform=(0,s.scale3d)(0,0)}),20)}},{key:"removeFromPlay",value:function(){var e=l.default.get("checkerPositions"),t=this.x,n=this.y;this.explode(this.el.cloneNode(!0));var r=[].concat(l.default.get("checkers")),a=r.indexOf(this);r.splice(a,1);var i={checkers:r};e[t][n]=!1,this.isPlayer&&(i.playerChecker=!1),this.destructor(),l.default.set(i)}},{key:"animateTo",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=l.default.get("tileSize"),o=(e-this.x)*i,u=(t-this.y)*i;this.onTrans((function(){n.classify("+suppressTrans"),n.position(e,t),n.style({transform:"unset"}),setTimeout((function(){n.classify("-suppressTrans"),window.getComputedStyle(n.el)}),20),r()})),this.style({transform:(0,s.translate3d)(o,u)})}},{key:"position",value:function(e,t){var n=this,r=l.default.get("tileSize"),a=e*r,i=t*r;this.style({left:a+"vh",top:i+"vh"});var o=l.default.get("checkerPositions");this.x>=0&&(o[this.x][this.y]=!1),o[e][t]=this,l.default.set({checkerPositions:o}),this.x=e,this.y=t,setTimeout((function(){return n.makeKing()}),0)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.translate3d=function(){return"translate3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"vh, "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"vh, "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+"vh)"},t.rotateX=function(){return"rotateX("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},t.rotateY=function(){return"rotateY("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},t.rotateZ=function(){return"rotateZ("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"deg)"},t.perspective=function(e){return"perspective("+e+"vh)"},t.scale3d=function(){return"scale3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)+", "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+", "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)+")"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=r(n(0));n(31);var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=i.default.get("tileSize"),o=0===e?0:a;return r.classify("+tile").attribute({id:"x"+e+"-y"+n}).style({width:a+"vh",height:a+"vh",marginLeft:o+"vh"}),r.x=e,r.y=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1)),i=r(n(8)),o=r(n(11)),u=r(n(14));n(39);var l=document.body,s=new a.default("main").attribute({id:"viewport"}).kids(i.default.el);i.default.onClick(".newGame",(function(){i.default.onTrans((function(){i.default.destructor(),s.kids(o.default.el,u.default.el),setTimeout((function(){s.classify("-transitionOut"),u.default.classify("+transitionIn")}),10)})),s.classify("+transitionOut")})),l.appendChild(s.el)},function(e,t,n){"use strict";function r(e){var t=this;e.preventDefault();var n=e.target,r=Object.keys(this.actions);r&&r.map((function(r){n.matches(r)&&t.actions[r].map((function(t){return t(e)}))}))}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&"object"===(void 0===t?"undefined":a(t))?(this.actions={},t.addEventListener("click",r.bind(this))):console.warn("A wrapperEl must be provded to a click-handler: "+t)}return i(e,[{key:"onClick",value:function(e,t){this.actions[e]||(this.actions[e]=[]),this.actions[e].push(t)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(9));t.default=r.default},function(e,t,n){"use strict";function r(e,t){for(var n=(new a.default).classify(t+" +checkerFont"),r=0,i=e.length;r<i;r++){var o=new a.default("span").classify("+checkerFontTile").text(e.charAt(r)).el,u=400+Math.floor(800*Math.random());o.style.transitionDelay=u+"ms",n.kids(o)}return n.el}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));n(10);var i=(new a.default).attribute({id:"titleScreen"}),o=new a.default("a").classify("+newGame").text("Play a Game");i.kids(r("   ","even"),r("       ","odd"),r("Check","even"),r("Yourself","odd"),r("     ","even"),r("   ","odd"),r(" ","even"),o.el),setTimeout((function(){return i.classify("show")}),10),t.default=i},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(12));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=new i.default("p").classify("stat").text(e),n=new i.default("span").classify("+statVal");return t.kids(n.el),t.val=function(e){return n.text(e)},t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(0));n(13);var u=(new i.default).classify("+endScreen"),l=new i.default("p").classify("+gameOverText"),s=new i.default("hr").classify("divider"),c=new i.default("p").classify("+playAgain").text("Title Screen"),f=a("Respawns:"),d=a("Turns Taken:"),h=a("Game Time:"),v=(new i.default).classify("+stats").kids(h.el,f.el,d.el);o.default.watch("youWon",(function(e){var t=e?"Well Played!":"You've Lost ...";f.val(o.default.get("respawns")-1),d.val(o.default.get("movesToWin")),h.val(function(e,t){var n=(t.getTime()-e.getTime())/1e3,r=Math.abs(Math.round(n%60)),a=Math.abs(Math.round(n/60));return(a=a<10?"0"+a:a)+":"+(r<10?"0"+r:r)}(o.default.get("gameStarted"),new Date)),l.text(t),u.classify("+show")})),u.onClick(".playAgain",(function(){return window.location.reload()})),u.kids(l.el,s.el,v.el,s.el.cloneNode(),c.el),t.default=u},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(15));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=r(n(16));n(20);var o=r(n(22)),u=r(n(25)),l=r(n(34));n(38);var s=(new a.default).attribute({id:"game"});s.kids(i.default.el,l.default.el,o.default.el,u.default.el),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=r(n(0));n(18),n(19);var o=[{id:"camRight"},{id:"camDefault"},{id:"camLeft"},{id:"camUp"},{id:"camDown"}],u=(new a.default).attribute({id:"cameraControls"}).kids(o.map((function(e){return new a.default("a").attribute(e).classify("+cameraOption").el})));u.onClick(".cameraOption",(function(e){var t=e.target.id;i.default.set({cameraPosition:t,playerCameraPosition:t})})),t.default=u},function(e,t,n){"use strict";function r(e,t,n){return t-e*n}(function(e){return e&&e.__esModule?e:{default:e}})(n(0)).default.set({cameraPosition:"",focusX:0,focusY:0,camSelectable:function(){var e=this.get("camDefault","tileSize","boardCols","boardScale"),t=e.camDefault,n=e.tileSize,a=e.boardCols,i=e.boardScale,o=a/2,u=o+1,l=(o-1)*n;return Object.assign({},t,{perspective:i,rotateX:30,moveX:0,moveY:r(u,l,n),scaleX:.54,scaleY:.54})},camDefault:function(){var e=this.get("tileSize","boardCols","focusX","focusY"),t=e.tileSize,n=e.boardCols,a=e.focusX,i=e.focusY,o=n/2,u=o*t-.666*t;return{perspective:100,rotateX:40,rotateZ:0,moveX:r(a,o*t-t/2,t),moveY:r(i,u,t),moveZ:0,scaleX:1.4,scaleY:1.4,scaleZ:1}},camDown:function(){var e=this.get("camDefault","tileSize"),t=e.camDefault,n=e.tileSize;return Object.assign({},t,{rotateX:20,moveY:t.moveY-2.5*n,scaleX:1.25,scaleY:1.25})},camLeft:function(){var e=this.get("camDefault","tileSize"),t=e.camDefault,n=e.tileSize;return Object.assign({},t,{rotateX:55,rotateZ:-35,moveX:t.moveX-n,moveY:t.moveY-n})},camRight:function(){var e=this.get("camDefault","tileSize"),t=e.camDefault,n=e.tileSize;return Object.assign({},t,{rotateX:55,rotateZ:35,moveX:t.moveX+n,moveY:t.moveY-n})},camUp:function(){var e=this.get("camDefault","tileSize","boardCols","focusY"),t=e.camDefault,n=e.tileSize,a=e.boardCols,i=e.focusY,o=a/2*(1.25*n);return Object.assign({},t,{rotateX:60,moveY:r(i,o,n),scaleX:1.5,scaleY:1.5})},camOverview:function(){var e=this.get("camSelectable");return Object.assign({},e,{rotateX:50,rotateZ:-5})}},!0)},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(0)),i=r(n(21)),o=r(n(2));a.default.set({isTurn:!1},!0),a.default.watch("isTurn",(function(e){var t=function(){return a.default.set({youWon:!0})};if(a.default.get("playerChecker"))if(e)(0,i.default)();else{var n=a.default.get("hostileCheckers");if(0===n.length)return void t();var r=o.default.action(n);if(!r)return void t();o.default.go(r)}else a.default.set({doCheckerSelect:!0})}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e){var t=e.x,n=e.y,r=s.default.get("playerCameraPosition")||"camDefault";s.default.set({focusX:t,focusY:n,cameraPosition:r})}}function i(){s.default.set({isTurn:!1})}function o(){c.default.go(s.default.get("allyAction")),s.default.set({playerActions:[]})}function u(e,t){var n=s.default.get("playerChecker"),r=s.default.get("playerActions").filter((function(n){return n.toX===e&&n.toY===t}))[0];r.jumped&&r.jumped.removeFromPlay(),s.default.set({playerActions:[],allyAction:null,focusX:e,focusY:t}),n.animateTo(e,t,(function(){s.default.set({tileSelected:null},!0),r.jumped?!1===function(){var e=l();return!!(e.length>0&&e[0].jumped)&&(s.default.set({playerActions:e}),!0)}()&&i():i()}))}function l(){return s.default.get("playerChecker").getActions()}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(0)),c=r(n(2));s.default.set({respawns:0,movesToWin:0},!0),s.default.watch("playerChecker",a),s.default.watch("tileSelected",(function(e){var t=e.x,n=e.y,r=s.default.get("playerChecker"),a=r.x,i=r.y;t!==a||n!==i?u(t,n):o()})),t.default=function(){s.default.set({movesToWin:s.default.get("movesToWin")+1},!0);var e=s.default.get("playerChecker"),t=l(),n=c.default.action(s.default.get("allyCheckers").filter((function(e){return!e.isPlayer}))),r={checker:e,toX:e.x,toY:e.y},i=t.length>0&&t[0].jumped,u=n&&n.jumped;if(s.default.set({allyAction:n},!0),u&&!i||0===t.length&&!u)return s.default.set({status:"Waiting for allies ..."}),t=[],void o();n&&i===u&&t.push(r),a(e),s.default.set({status:null,playerActions:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(23));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=r(n(0));n(24);var o=new a.default("p").attribute({id:"status"});i.default.watch("status",(function(e){return e?""!==o.el.innerText?(o.onTrans((function(){o.text(e),setTimeout((function(){return o.classify("-fadeText")}),10)})),void o.classify("+fadeText")):(o.text(e),void o.classify("+show")):(o.onTrans((function(){return o.text("")})),void o.classify("-show"))})),t.default=o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(26));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.map((function(e){return e.el}))}function i(e){!function(e){e?d.classList.add("overview"):d.classList.remove("overview")}("camOverview"===e);var t=f.default.get(e),n=[(0,c.perspective)(t.perspective),(0,c.rotateX)(t.rotateX),(0,c.rotateZ)(t.rotateZ),(0,c.scale3d)(t.scaleX,t.scaleY,t.scaleZ),(0,c.translate3d)(t.moveX,t.moveY,t.moveZ)];h.style({transform:n.join(" ")})}function o(e){for(var t=e.target;!1===t.classList.contains("checker");)t=t.parentNode;t.click()}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)),l=n(27),s=n(30),c=n(4),f=r(n(0));n(33);var d=document.body;f.default.set({boardCols:8,boardScale:170,tileBuffer:2.5,tileSize:function(){return this.get("boardScale")/this.get("boardCols")},gameStarted:new Date},!0);var h=function(){var e=f.default.get("tileSize")*f.default.get("boardCols"),t=e/2,n=(new u.default).attribute({id:"board"}).style({width:e+"vh",height:e+"vh",marginLeft:"-"+t+"vh",marginTop:"-"+t+"vh"});return f.default.set({board:n},!0),n}(),v=a((0,s.renderTiles)()),p=a((0,l.renderCheckers)());h.kids(v.concat(p)),h.onClick(".playableChecker",(function(e){var t=e.target,n=f.default.get("checkers").filter((function(e){return e.el.isEqualNode(t)}))[0];n.makePlayer(),f.default.set({cameraPosition:"camDefault",playerCameraPosition:"camDefault"},!0),f.default.set({playerChecker:n,doCheckerSelect:!1,respawns:f.default.get("respawns")+1})})),h.onClick(".validMove",(function(e){var t=e.target.id.split("-"),n=parseInt(t[0].replace("x",""),10),r=parseInt(t[1].replace("y",""),10);f.default.set({tileSelected:{x:n,y:r}})})),h.onClick(".stayPut",(function(){var e=f.default.get("playerChecker"),t=e.x,n=e.y;f.default.set({tileSelected:{x:t,y:n}})})),h.onClick(".spoke",o),h.onClick(".crown",o),f.default.watch("cameraPosition",i),f.default.watch("doCheckerSelect",(function(e){var t=f.default.get("allyCheckers");return 0===t.length?void f.default.set({youWon:!1}):e?(f.default.get("allyCheckers").map((function(e){e.classify("+playableChecker")})),f.default.set({cameraPosition:"camSelectable",isTurn:!1,status:"Select your checker."}),void d.classList.add("checkerSelect")):(t.map((function(e){return e.classify("-playableChecker")})),d.classList.remove("checkerSelect"),void f.default.set({isTurn:!0}))})),f.default.watch("playerActions",(function(e){var t=f.default.get("tiles");e&&0!==e.length||(t.map((function(e){return e.classify("-validMove")})),f.default.get("playerChecker").classify("-stayPut")),e.map((function(e){var n=e.checker,r=e.toX,a=e.toY,i=t.filter((function(e){var t=e.x,n=e.y;return t===r&&n===a}))[0];i.x===n.x&&i.y===n.y&&setTimeout((function(){return n.classify("stayPut")}),0),i.classify("+validMove")}))})),f.default.watch("focusX",(function(){var e="camUp"===f.default.get("cameraPosition")?"camUp":"camDefault";i(e),f.default.set({cameraPosition:e},!0)})),f.default.set({isTurn:!0}),t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderCheckers=void 0;var a=r(n(3)),i=r(n(29));t.default=a.default,t.renderCheckers=i.default},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(3)),i=r(n(0));i.default.set({checkerPositions:[],allyCheckers:function(){return this.get("checkers").filter((function(e){return!e.isHostile}))},hostileCheckers:function(){return this.get("checkers").filter((function(e){return e.isHostile}))}}),t.default=function(){for(var e=i.default.get("checkersPerTeam"),t=[],n=0,r=i.default.get("boardCols"),o=r-1,u=[],l=0;l<r;l++)u[l]=[];i.default.set({checkerPositions:u},!0);for(var s=0;s<e;s++){s>0&&s%4==0&&(n++,o--);var c=o%2,f=s%4*2,d=f+n%2,h=new a.default({isHostile:!0,x:d,y:n}),v=f+c,p=new a.default({x:v,y:o});t.push(h,p)}return i.default.set({checkers:t}),t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderTiles=void 0;var a=r(n(5)),i=r(n(32));t.default=a.default,t.renderTiles=i.default},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(5)),i=r(n(0));t.default=function(){for(var e=i.default.get("boardCols"),t=e*e/2,n=0,r=0,o=[],u=0;u<t;u++){n>=e&&(n=++r%2);var l=new a.default(n,r);o.push(l),n+=2}return i.default.set({tiles:o}),o}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(35));t.default=r.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=r(n(36));n(37);var o=new i.default("allyCheckers","Allies"),u=new i.default("hostileCheckers","Hostiles"),l=new a.default;l.attribute({id:"counts"}),o.classify("+allies"),u.classify("+hostiles"),l.kids(o.el,u.el),t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=new o.default;return t.text(e),t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(1)),u=r(n(0)),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.watching=e,r.count=a(u.default.get(e).length),r.count.classify("+checkerCount"),r.label=a(n),r.label.classify("+checkerCountLabel"),r.kids(r.count.el,r.label.el),r.classify("+checkerCountWrapper"),u.default.watch("checkers",r.update.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"update",value:function(){this.count.el.innerText=u.default.get(this.watching).length}}]),t}(o.default);t.default=l},function(e,t){},function(e,t){},function(e,t){}])</script>