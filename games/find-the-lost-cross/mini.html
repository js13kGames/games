<!DOCTYPE html><html><head><title>Scene</title><script src=/2020/webxr/aframe.js></script></head><body> <a-scene cursor="rayOrigin: mouse"> <a-entity camera look-controls position="-2 2 -3"> <a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat"> </a-entity> </a-entity><a-entity id="playground"><a-text position="-3 2.6 -8" rotation="0 0 0" color="#26393d" value="With this machine you can travel in time and places.\n \n You have to inspect locations, to find our artifact! \n You can interact with some things, if you click on them.\n use your HUD at your foot, to open your map. \n \n Let's try it! Open your map!" font="mozillavr"></a-text> </a-entity> <a-entity id="investigation"></a-entity> <a-sky id="sky" color="#ECECEC"></a-sky> <a-circle color="#abafb0" opacity="0.5" position="-2 0.1 -2.5" radius="1.5" rotation="-90 0 0"></a-circle> <a-entity id="mapopener" onclick="sm(0)" geometry="primitive: plane; width: 1; height: auto" material="color: #198591" position="-2 1 -3.5" rotation="-45 0 0" text="height: 4; align:center; value: +----------+ \n | show |\n | map |\n +----------+ "> </a-entity> </a-scene><script>var MO=!1,SN=0,loc=[],oloc=[];function gl(){s1=[],s1.push(["a-plane",5,2.6,-5,0,270,0,10,5,"darkgrey",""]),s1.push(["a-plane",-5,2.6,-5,0,90,0,10,5,"darkgrey",""]),s1.push(["a-plane",0,2.6,-10,0,0,0,10,5,"darkgrey",""]),s1.push(["a-plane",0,2.6,0,180,0,0,10,5,"darkgrey",""]),s1.push(["a-plane",-1.35,1.1,-7,-90,90,0,.5,.5,"white","l1"]),s1.push(["a-plane",-1.35,1.05,-7,-90,90,0,2,5,"#7a5128",""]),s1.push(["a-box",-3.6,.5,-6.48,-90,90,0,.5,.5,"#7a5128",""]),s1.push(["a-box",-3.6,.5,-7.87,-90,90,0,.5,.5,"#7a5128",""]),s1.push(["a-box",.83,.5,-7.87,-90,90,0,.5,.5,"#7a5128",""]),s1.push(["a-box",.83,.5,-6.37,-90,90,0,.5,.5,"#7a5128",""]);for(var t=0;t<6;t++)s1.push(["a-plane",t,0,-4,-90,0,0,1,14,"#826744",""]),t++,s1.push(["a-plane",t,0,-4,-90,0,0,1,14,"#915910",""]);for(t=0;t>-6;t--)s1.push(["a-plane",t,0,-4,-90,0,0,1,14,"#915910",""]),t--,s1.push(["a-plane",t,0,-4,-90,0,0,1,14,"#826744",""]);loc[0]=s1,s2=[],s2.push(["a-plane",0,-1,-4,-90,0,0,80,80,"#4bb856",""]),s2.push(["a-plane",0,-.5,-4,-90,30,0,10,85,"#cc9e5a",""]),s2.push(["a-cylinder",15,1.861,10,0,0,0,6,4,"brown",""]),s2.push(["a-sphere",13.91,3.919,8.201,0,0,0,0,4,"#5e9400",""]),s2.push(["a-sphere",12.52,3.762,9.02,0,0,0,0,4,"#279400",""]),s2.push(["a-sphere",12.734,5.178,8.49,0,0,0,0,4,"#50a333",""]),s2.push(["a-cylinder",-5,-1.15,-4,-90,0,0,0,4,"purple","dbs"]),s2.push(["a-cylinder",-6.836,-1.946,-2.981,-90,80,0,0,2,"purple","dbs"]),s2.push(["a-cylinder",-3.883,-1.441,-2.981,-90,-40,0,0,2,"purple","dbs"]),s2.push(["a-sphere",-4.969,-.694,-1.37,0,0,0,0,4,"purple","dbs"]),s2.push(["a-box",-22.66,1.143,-1.37,0,90,10,10,2,"#543519","cha"]),s2.push(["a-box",-19.37,1.172,-1.37,0,90,10,10,2,"#543519","cha"]),s2.push(["a-box",-21.29,.113,3.38,0,90,10,10,.5,"#b5773e","cha"]),s2.push(["a-circle",-17.32,.031,-1.37,0,90,10,10,.5,"#944700","cha"]),loc[1]=s2,s3=[],s3.push(["a-sphere",-14.487,-1.285,11.869,-90,-70,0,3,80,"#a87d32","digQ"]),s3.push(["a-plane",0,-.5,-11.69,-90,-70,0,3,80,"#47322e","traces"]),s3.push(["a-plane",0,-.5,-4,-90,-70,0,3,80,"#47322e","traces"]),s3.push(["a-plane",0,-1,-4,-90,0,0,80,80,"#bfa66b",""]),s3.push(["a-plane",0,35,-4.827,90,0,0,80,80,"#a88e2d",""]),s3.push(["a-plane",-56.45,8.01,-19.42,45,45,0,80,80,"#6e6c69",""]),s3.push(["a-plane",-71,8.01,23.843,45,145,0,80,80,"#575451",""]),s3.push(["a-plane",-60.8,10.954,-2.417,45,90,0,80,80,"#828282",""]),s3.push(["a-plane",46.001,35,-4.827,85,0,0,80,80,"#bf7900",""]),s3.push(["a-plane",0,35,-4.827,50,0,0,80,80,"#ab8c57",""]),s3.push(["a-plane",0,-5.746,-33.9,10,0,0,80,80,"#9c8a1a",""]),s3.push(["a-plane",2246.31,-5.746,-90.7,10,-20,0,80,80,"#9c8a1a",""]),s3.push(["a-plane",0,-.522,31.193,220,0,0,80,80,"#5b5c48",""]),s3.push(["a-plane",79.95,-.522,19.6,220,40,0,80,80,"#5b5c48",""]),s3.push(["a-plane",133.7,-.522,-17,220,40,0,80,80,"#ebca8d",""]),s3.push(["a-plane",0,35,16.962,-230,0,0,80,80,"#a89062",""]),s3.push(["a-plane",61.23,35,16.962,-230,35,0,80,80,"#8c7549",""]),s3.push(["a-plane",115.7,35,-24.47,-230,40,0,80,80,"#a89062",""]),loc[2]=s3}function sm(t){if(MO)MO=!1,document.getElementById("mapopener").setAttribute("text","height: 4; align:center; value: +----------+ \n | show |\n |  map  |\n +----------+ "),document.getElementById("playground").innerHTML="",ls(SN);else{MO=!0,document.getElementById("mapopener").setAttribute("text","height: 4; align:center; value: +----------------+ \n |     back      |\n |   to scene  |\n +----------------+ "),document.getElementById("sky").setAttribute("color","#1c3336"),document.getElementById("playground").innerHTML="",tb={};for(var e=b.length-1;e>=0;e--)tb[e]=new document.createElement("a-box"),tb[e].setAttribute("color","#007a99"),tb[e].setAttribute("height",b[e][3]),tb[e].setAttribute("position",{x:b[e][0],y:b[e][1],z:b[e][2]}),document.getElementById("playground").appendChild(tb[e]);idx=b.length;for(e=oloc.length-1;e>=0;e--)tb[idx]=new document.createElement("a-box"),tb[idx].setAttribute("color","tomato"),tb[idx].setAttribute("height",100),tb[idx].setAttribute("onclick","cs("+oloc[e][3]+")"),tb[idx].setAttribute("position",{x:oloc[e][0],y:20,z:oloc[e][1]}),document.getElementById("playground").appendChild(tb[idx]),idx++,tb[idx]=new document.createElement("a-text"),tb[idx].setAttribute("color","white"),tb[idx].setAttribute("value",oloc[e][2]),tb[idx].setAttribute("font","mozillavr"),tb[idx].setAttribute("width","40"),tb[idx].setAttribute("onclick","cs("+oloc[e][3]+")"),tb[idx].setAttribute("position",{x:oloc[e][0]+5,y:20,z:oloc[e][1]}),document.getElementById("playground").appendChild(tb[idx]),idx++,tb[idx]=new document.createElement("a-text"),tb[idx].setAttribute("color","white"),tb[idx].setAttribute("value",oloc[e][2]),tb[idx].setAttribute("font","mozillavr"),tb[idx].setAttribute("width","40"),tb[idx].setAttribute("onclick","cs("+oloc[e][3]+")"),tb[idx].setAttribute("position",{x:oloc[e][0]-5,y:20,z:oloc[e][1]}),tb[idx].setAttribute("rotation",{x:0,y:180,z:0}),document.getElementById("playground").appendChild(tb[idx]),idx++;ci()}}function cs(t){SN=t,sm(0)}function gm(){for(var t=0;t<=1e3;t++)b.push([Math.floor(50*Math.random()),-1,Math.floor(50*Math.random())-50,Math.floor(5*Math.random())]),t++,b.push([Math.floor(50*Math.random())-50,-1,Math.floor(50*Math.random()),Math.floor(5*Math.random())]),t++,b.push([Math.floor(50*Math.random())-50,-1,Math.floor(50*Math.random())-50,Math.floor(5*Math.random())]),t++,b.push([Math.floor(50*Math.random()),-1,Math.floor(50*Math.random()),Math.floor(5*Math.random())])}function ls(t){document.getElementById("playground").innerHTML="",tmp={};for(var e=loc[t].length-1;e>=0;e--)tmp[e]=new document.createElement(loc[t][e][0]),tmp[e].setAttribute("position",{x:loc[t][e][1],y:loc[t][e][2],z:loc[t][e][3]}),tmp[e].setAttribute("rotation",{x:loc[t][e][4],y:loc[t][e][5],z:loc[t][e][6]}),tmp[e].setAttribute("width",loc[t][e][7]),tmp[e].setAttribute("height",loc[t][e][8]),tmp[e].setAttribute("color",loc[t][e][9]),tmp[e].setAttribute("onclick",loc[t][e][10]+"()"),document.getElementById("playground").appendChild(tmp[e])}function l1(){l=new document.createElement("a-text"),l.setAttribute("position",{x:-3,y:2.6,z:-8}),l.setAttribute("color","#26393d"),l.setAttribute("font","mozillavr"),l.setAttribute("value","1616, January, somewhere in russian-polish front \n \n I have seen our st cross at a russian troop. They was on the way to Smolensk. \n I am after them. \n we can meet in Smolensk in February. \n\n\n\n Bishop Bernard Maciejowski"),l.setAttribute("onclick","ci()"),document.getElementById("investigation").appendChild(l),oloc[0]=[-45,-45,"Room with a letter",0],oloc[1]=[10,-25,"Travel to Smolensk",1]}function dbs(){ds=new document.createElement("a-text"),ds.setAttribute("position",{x:-5,y:.865,z:-.564}),ds.setAttribute("rotation",{x:-45,y:90,z:0}),ds.setAttribute("color","white"),ds.setAttribute("font","mozillavr"),ds.setAttribute("value","Corpse of dead Bishop Bernard Maciejowski."),ds.setAttribute("onclick","ci()"),document.getElementById("investigation").appendChild(ds)}function cha(){c=new document.createElement("a-text"),c.setAttribute("position",{x:-13.17,y:3.107,z:-.3}),c.setAttribute("rotation",{x:0,y:90,z:0}),c.setAttribute("color","white"),c.setAttribute("font","mozillavr"),c.setAttribute("value","Hmmm... \n There's mud on the chariot wheel.\n Where did that come from?"),c.setAttribute("onclick","ci()"),document.getElementById("investigation").appendChild(c),acr()}function acr(){s2.push(["a-plane",-18.11,-.45,-5.725,-90,0,0,2,15,"#47322e","nca"]),s2.push(["a-plane",-23.05,-.45,-8.135,-90,0,0,2,15,"#47322e","nca"]),s2.push(["a-plane",-16.35,-.45,-16.141,-90,90,0,2,15,"#47322e","nca"]),s2.push(["a-plane",-11.7,-.45,-16.141,-90,90,0,2,15,"#47322e","nca"]),s2.push(["a-plane",-10,-.45,-16.141,-90,90,0,2,15,"#47322e","nca"]),s2.push(["a-plane",-11.29,-.45,-12.51,-90,90,0,2,15,"#47322e","nca"]),s2.push(["a-plane",3.295,-.45,-12.58,-90,60,0,2,15,"#47322e","nca"]),s2.push(["a-plane",14.89,-.45,-5.98,-90,60,0,2,15,"#47322e","nca"]),s2.push(["a-plane",27.57,-.45,1.487,-90,60,0,2,15,"#47322e","nca"]),s2.push(["a-plane",1.8,-.45,-9.265,-90,60,0,2,15,"#47322e","nca"]),s2.push(["a-plane",13.942,-.45,-2.555,-90,60,0,2,15,"#47322e","nca"]),s2.push(["a-plane",25.01,-.45,4.1,-90,60,0,2,15,"#47322e","nca"]),loc[1]=s2,ls(1)}function nca(){cave=new document.createElement("a-text"),cave.setAttribute("position",{x:19.39,y:0,z:3}),cave.setAttribute("rotation",{x:0,y:-90,z:0}),cave.setAttribute("color","#47322e"),cave.setAttribute("width",10),cave.setAttribute("font","mozillavr"),cave.setAttribute("value","Looks like it came frome a nearby cave..."),cave.setAttribute("onclick","ci()"),document.getElementById("investigation").appendChild(cave),oloc[2]=[10,25,"The cave.",2]}function traces(){tr=new document.createElement("a-text"),tr.setAttribute("position",{x:15,y:0,z:-6.72}),tr.setAttribute("rotation",{x:0,y:-90,z:0}),tr.setAttribute("color","#47322e"),tr.setAttribute("width",10),tr.setAttribute("font","mozillavr"),tr.setAttribute("value","Hmm, what happened here?\n That chariot must be here, these are traces of it."),tr.setAttribute("onclick","ci()"),document.getElementById("investigation").appendChild(tr)}function digQ(){d=new document.createElement("a-text"),d.setAttribute("position",{x:-6.14,y:3.107,z:11.869}),d.setAttribute("rotation",{x:0,y:120,z:0}),d.setAttribute("color","#a87d32"),d.setAttribute("width",10),d.setAttribute("font","mozillavr"),d.setAttribute("value","Someone dig here...\nShould I dig here too?"),d.setAttribute("onclick",""),document.getElementById("investigation").appendChild(d),dy=new document.createElement("a-text"),dy.setAttribute("position",{x:-6.729,y:1.5,z:11.869}),dy.setAttribute("rotation",{x:0,y:110,z:0}),dy.setAttribute("color","white"),dy.setAttribute("width",10),dy.setAttribute("font","mozillavr"),dy.setAttribute("value","Let's see it!"),dy.setAttribute("onclick",""),document.getElementById("investigation").appendChild(dy),s3.push(["a-sphere",-13.055,-1.021,11.458,-90,-70,0,3,80,"#a87d32","crx"]),s3.push(["a-sphere",-12.06,-1.313,11.868,-90,-70,0,3,80,"#a87d32","crx"]),s3.push(["a-sphere",-12.637,1.285,11.869,-90,-70,0,3,80,"#a87d32","crx"]),s3.push(["a-sphere",-12.637,-.672,12.5589,-90,-70,0,3,80,"#a87d32","crx"]),s3.push(["a-sphere",-13.28,.355,12.177,-90,-70,0,3,80,"#a87d32","crx"]),loc[2]=s3,ls(2)}function crx(){c1=new document.createElement("a-box"),c1.setAttribute("position",{x:-6.14,y:-10,z:11.869}),c1.setAttribute("rotation",{x:0,y:120,z:0}),c1.setAttribute("color","#ffa80f"),c1.setAttribute("width",3),c1.setAttribute("animation","property: position; to: -12.365 5.228 12.148; dur: 2000; loop: false"),document.getElementById("investigation").appendChild(c1),c2=new document.createElement("a-box"),c2.setAttribute("position",{x:-6.14,y:-10,z:11.869}),c2.setAttribute("rotation",{x:0,y:120,z:0}),c2.setAttribute("color","#ffa80f"),c2.setAttribute("width",4),c2.setAttribute("animation","property: position; to: -12.605 2.338 12.299; dur: 2000; loop: false"),document.getElementById("investigation").appendChild(c2),c3=new document.createElement("a-box"),c3.setAttribute("position",{x:-5.14,y:-10,z:11.869}),c3.setAttribute("rotation",{x:0,y:120,z:0}),c3.setAttribute("color","#ffa80f"),c3.setAttribute("width",1),c3.setAttribute("depth",1),c3.setAttribute("height",10),c3.setAttribute("animation","property: position; to: -12.0 2 12; dur: 2000; loop: false"),document.getElementById("investigation").appendChild(c3),dy=new document.createElement("a-text"),dy.setAttribute("position",{x:-5.997,y:7.094,z:9.397}),dy.setAttribute("rotation",{x:0,y:110,z:0}),dy.setAttribute("color","white"),dy.setAttribute("width",10),dy.setAttribute("font","mozillavr"),dy.setAttribute("value","Oh, the cross!"),dy.setAttribute("onclick",""),document.getElementById("investigation").appendChild(dy)}function ci(){document.getElementById("investigation").innerHTML=""}b=[],gm(),gl();</script></body></html>