<title>Tiny Yurts - js13kGames 2023</title><meta name=viewport content=width=device-width><body><script>let t="#8a5",e="#794",s="#fff",i="#b75",r="#dee",l="#abb",n="#f80",h="#000",o="#443",a="#e31",y="#0001",p="#0002",u=.12,d=(t="svg")=>document.createElementNS("http://www.w3.org/2000/svg",t),c=(t="div")=>document.createElement(t),x=c();x.style.cssText="position:absolute;display:grid;place-items:center;overflow:hidden;background:"+t,x.style.width="100vw",x.style.height="100vh",document.body.append(x);let f=c();f.style.cssText="position:absolute;display:grid;background:repeating-linear-gradient(-55deg,#0001 0 12px,#0000 0 24px)",f.style.width="100vw",f.style.height="100vh",f.style.opacity=0,f.style.willChange="opacity",f.style.transition="opacity.3s";let g=c();g.style.cssText="position:absolute;display:grid;background:repeating-linear-gradient(-55deg,#f002 0 12px,#0000 0 24px)",g.style.width="100vw",g.style.height="100vh",g.style.opacity=0,g.style.willChange="opacity",g.style.transition="opacity.3s",x.append(f,g);let b=d();function m(t){return 180*t/Math.PI}function A(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}b.style.cssText="position:relative;display:grid;touch-action:none",b.setAttribute("viewBox","0 0 208 112"),b.setAttribute("preserveAspectRatio","xMidYMid slice"),b.style.width="100vw",b.style.height="100vh",b.style.maxHeight="68vw",b.style.maxWidth="200vh",x.append(b);class w{constructor(t=0,e=0,s={}){null!=t.x?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}set(t){this.x=t.x,this.y=t.y}add(t){return new w(this.x+t.x,this.y+t.y,this)}t(t){return new w(this.x-t.x,this.y-t.y,this)}scale(t){return new w(this.x*t,this.y*t)}normalize(t=this.length()||1){return new w(this.x/t,this.y/t)}i(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}h(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.i(t)/(this.length()*t.length()))}}function T(){return new w(...arguments)}class M{constructor(t){return this.init(t)}init(t={}){this.position=new T,this.o=new T,this.l=new T,this.p=!0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let e=this.l;t&&(e=e.scale(t)),this.o=this.o.add(e);let s=this.o;t&&(s=s.scale(t)),this.position=this.position.add(s),this.u()}get dx(){return this.o.x}get dy(){return this.o.y}set dx(t){this.o.x=t}set dy(t){this.o.y=t}u(){}}class k extends M{init({width:t=1,height:e=1,g:s=this.m,update:i=this.advance,children:r=[],...l}){this.M=[],super.init({width:t,height:e,...l}),this.k(r),this.v=s,this.$=i}update(t){this.$(t),this.children.map(e=>e.update&&e.update(t))}g(){this.v(),this.children.map(t=>t.g&&t.g())}u(){this.children.map(t=>t.u())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this.u()}set y(t){this.position.y=t,this.u()}get width(){return this.T}set width(t){this.T=t,this.u()}get height(){return this._}set height(t){this._=t,this.u()}set children(t){this.removeChild(this.M),this.k(t)}get children(){return this.M}k(...t){t.flat().map(t=>{this.children.push(t),t.L=this,t.u=t.u||noop,t.u()})}}let v=d("rect"),$=d("rect");d("rect");let E,L={S:(()=>{let e=d("rect");e.setAttribute("fill",t),e.setAttribute("width","160.5px"),e.setAttribute("height","80.5px"),e.setAttribute("transform","translate(23.75 15.75)"),b.append(e)})(),B:(()=>{let t=d("g");return b.append(t),t})(),D:(()=>{let t=d("defs");b.append(t);let e=d("pattern");e.setAttribute("id","grid"),e.setAttribute("width",8),e.setAttribute("height",8),e.setAttribute("patternUnits","userSpaceOnUse"),t.append(e);let s=d("path");s.setAttribute("d","M8 0 0 0 0 8"),s.setAttribute("fill","none"),s.setAttribute("stroke","#0001"),s.setAttribute("stroke-width",1),e.append(s),v.setAttribute("width","160.5px"),v.setAttribute("height","80.5px"),v.setAttribute("transform","translate(23.75 15.75)"),v.setAttribute("fill","url(#grid)"),v.style.opacity=0,v.style.willChange="opacity",v.style.transition="opacity.3s";let i=d("pattern");i.setAttribute("id","gridred"),i.setAttribute("width",8),i.setAttribute("height",8),i.setAttribute("patternUnits","userSpaceOnUse"),t.append(i);let r=d("path");r.setAttribute("d","M8 0 0 0 0 8"),r.setAttribute("fill","none"),r.setAttribute("stroke","#f002"),r.setAttribute("stroke-width",1),i.append(r),$.setAttribute("width","160.5px"),$.setAttribute("height","80.5px"),$.setAttribute("transform","translate(23.75 15.75)"),$.setAttribute("fill","url(#gridred)"),$.style.opacity=0,$.style.willChange="opacity",$.style.transition="opacity.3s",b.append(v,$)})(),A:(()=>{let t=d("g");return t.setAttribute("fill","none"),b.append(t),t})(),P:(()=>{let t=d("g");return t.setAttribute("fill",e),b.append(t),t})(),O:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",e),t.setAttribute("stroke-width",3.14),b.append(t),t})(),Y:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",h),t.setAttribute("opacity",u),t.setAttribute("transform","translate(.3,.3)"),b.append(t),t})(),j:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke","#dca"),t.setAttribute("stroke-width",3.14),b.append(t),t})(),Z:(()=>{let t=d("g");return t.setAttribute("opacity",u),t.setAttribute("transform","translate(.3,.3)"),b.append(t),t})(),C:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",h),t.setAttribute("opacity",.2),b.append(t),t})(),W:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),b.append(t),t})(),q:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),b.append(t),t})(),N:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",h),t.setAttribute("opacity",u),t.setAttribute("transform","translate(.5,.5)"),b.append(t),t})(),R:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),b.append(t),t})(),F:(()=>{let t=d("g");return b.append(t),t})(),G:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill",s),b.append(t),t})(),U:(()=>{let t=d("g");return b.append(t),t})(),I:(()=>{let t=d("g");return t.setAttribute("stroke-linecap","round"),b.append(t),t})(),J:(()=>{let t=d("rect");return t.setAttribute("width","160.5px"),t.setAttribute("height","80.5px"),t.setAttribute("transform","translate(23.5 15.5)"),t.setAttribute("fill","none"),t.setAttribute("stroke-width",0),t.style.cursor="cell",t.style.pointerEvents="all",b.append(t),t})()},{W:H,Z:C,P:z,R:B,N:I,A:Q,D:O,J:S,j:P,O:F,q:Y,I:q,B:D,Y:G,U:Z,F:R,C:W,G:K}=L,U=()=>{H.innerHTML="",C.innerHTML="",z.innerHTML="",B.innerHTML="",I.innerHTML="",Q.innerHTML="",P.innerHTML="",F.innerHTML="",Y.innerHTML="",q.innerHTML="",D.innerHTML="",G.innerHTML="",Z.innerHTML="",R.innerHTML="",W.innerHTML="",K.innerHTML=""},j=44100,V={H:"false"!=localStorage.getItem("Tiny Yurtss")},_=()=>(E||(E=new AudioContext),E),X=(t,e=2,s=1,i=1,r=1,l=1e4,n=100,h=()=>2*Math.random()-1)=>{if(!V.H)return;let o,a=[],y=[],p=0,u=j/(130.81*1.0595**t),d=()=>(o=!1,y.length>1+Math.floor(u)?(y[p]=.5*y[p<y.length-1?p+1:0]+y[p]*(.5-i/1e3),p>=Math.floor(u)&&(o=!0,y[p+1]=.5*y[0]+.5*y[p+1]),p=o?0:p+1,y[p]):(y.push(h()),y.at(-1)));for(let t=0;j*e>t;t++)a[t]=88>t?t/88*d():(1-(t-88)/(j*e))*d();let c=E.createBuffer(1,j*e,j);c.getChannelData(0).set(a);let x=E.createBufferSource();x.buffer=c,x.playbackRate.value=s;let f=E.createBiquadFilter();f.type="lowpass",f.frequency.value=l;let g=E.createBiquadFilter();g.type="lowpass",g.frequency.value=l;let b=E.createBiquadFilter();b.type="highpass",b.frequency.value=n;let m=E.createGain();m.gain.value=r,x.connect(f),f.connect(g),g.connect(b),b.connect(m),m.connect(E.destination),x.start()},N={[i]:{K:0,V:[[18,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[10,.5,.5,30,.2,1800,200],[18,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[18,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[10,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[18,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[18,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[15,.5,.5,30,.2,1800,200],[10,.5,.5,30,.2,1800,200],[13,.5,.5,30,.2,1800,200],[8,.5,.5,30,.2,1800,200],[10,.5,.5,30,.2,1800,200],[5,.5,.5,30,.2,1800,200],[8,.5,.5,30,.2,1800,200]]},[l]:{K:0,V:[[30,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[22,1,1,1,.2,3e3,1e3],[30,1,1,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[30,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[22,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[30,1,1,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[30,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[27,1,.995,1,.2,3e3,1e3],[22,1,1,1,.2,3e3,1e3],[25,1,1,1,.2,3e3,1e3],[20,1,1,1,.2,3e3,1e3],[22,1,1,1,.2,3e3,1e3],[17,1,1,1,.2,3e3,1e3],[20,1,1,1,.2,3e3,1e3]]},[n]:{K:0,V:[[70,.1,.05,900,1,1e3,200],[73,.1,.05,900,1,1e3,200],[68,.1,.05,900,1,1e3,200],[70,.1,.05,900,1,1e3,200],[70,.1,.05,900,1,1e3,200],[73,.1,.05,900,1,1e3,200],[68,.1,.05,900,1,1e3,200]]}},J=()=>{E&&X(1,.5,1,0,1,1e3,300,()=>2)},tt=t=>{if(E){let e=N[t].V[N[t].K];N[t].K=(N[t].K+1)%N[t].V.length,X(...e)}},et=[];class st extends k{constructor(t){super({...t}),et.push(this),this.X=[],this.tt()}tt(){let t=4*Math.random(),e=4+8*this.x,s=4+8*this.y;this.et=d("g"),this.et.style.transform=`translate(${e}px,${s}px)`,Z.append(this.et),this.it=d("g"),this.it.style.transform=`translate(${e}px,${s}px)`,R.append(this.it);for(let e=0;t>e;e++){let t=Math.random()/2+1,s=new T(8*Math.random()-4,8*Math.random()-4);if(this.X.some(e=>e.position.h(s)<e.size+t+.5))continue;this.X.push({position:s,size:t});let i=d("circle");i.style.transform=`translate(${s.x}px,${s.y}px)`,i.setAttribute("fill","#ac6"),i.style.transition="r.4s cubic-bezier(.5,1.5,.5,1)",setTimeout(()=>i.setAttribute("r",t),100*e),this.et.append(i);let r=d("ellipse");r.setAttribute("rx",0),r.setAttribute("ry",0),r.style.opacity=0,r.style.transform=`translate(${s.x}px,${s.y}px)rotate(45deg)`,r.style.transition="all.4s cubic-bezier(.5,1.5,.5,1)",setTimeout(()=>{r.setAttribute("rx",1.2*t),r.setAttribute("ry",.9*t),r.style.opacity=.1,r.style.transform=`translate(${s.x+.7*t}px,${s.y+.7*t}px)rotate(45deg)`},100*e),this.it.append(r)}}remove(){this.et.remove(),this.it.remove();for(let t=0;t<this.X.length;t++)setTimeout(()=>{E&&X(10,.1,1,1e3,.2,1500,500,()=>2)},100*t);et.splice(et.findIndex(t=>t==this),1)}}let it=t=>4+8*t,rt=[],lt=[],nt=[],ht=[],ot=({st:t,ht:e})=>{let s=rt;lt=[],s.forEach(t=>{s.forEach(e=>{t!=e&&(lt.find(s=>s.rt==e&&s.ot==t)||t.nt||e.nt||(t.lt[0].x==e.lt[0].x&&t.lt[0].y==e.lt[0].y?lt.push({rt:t,ot:e,lt:[t.lt[1],t.lt[0],e.lt[1]]}):t.lt[0].x==e.lt[1].x&&t.lt[0].y==e.lt[1].y?lt.push({rt:t,ot:e,lt:[t.lt[1],t.lt[0],e.lt[0]]}):t.lt[1].x==e.lt[0].x&&t.lt[1].y==e.lt[0].y?lt.push({rt:t,ot:e,lt:[t.lt[0],t.lt[1],e.lt[1]]}):t.lt[1].x==e.lt[1].x&&t.lt[1].y==e.lt[1].y&&lt.push({rt:t,ot:e,lt:[t.lt[0],t.lt[1],e.lt[0]]})))})});let i=[];lt.forEach(t=>{let{rt:e,ot:s,lt:r}=t,l=`M${it(r[0].x)} ${it(r[0].y)}`,n=it(r[0].x+(r[1].x-r[0].x)/2),h=it(r[0].y+(r[1].y-r[0].y)/2),o=`L${n} ${h}`,a=`L${it(r[2].x)} ${it(r[2].y)}`,y=`Q${it(r[1].x)} ${it(r[1].y)} ${it(r[1].x+(r[2].x-r[1].x)/2)} ${it(r[1].y+(r[2].y-r[1].y)/2)}`,p=lt.find(t=>r[0].x==t.lt[1].x&&r[0].y==t.lt[1].y)?`M${n} ${h}`:`${l}${o}`,u=lt.find(t=>r[2].x==t.lt[1].x&&r[2].y==t.lt[1].y)?"":a;i.push({rt:e,ot:s,d:`${p}${y}${u}`})}),s.forEach(t=>{if(!lt.find(e=>e.rt==t||e.ot==t)&&!t.nt){let{lt:e}=t,s=`${it(e[0].x)} ${it(e[0].y)}`,r=`${it(e[1].x)} ${it(e[1].y)}`;i.push({path:t,d:`M${s}L${r}`,dt:s,ct:r})}}),i.forEach(s=>{var r,l,n,o,a,y,p;if(nt.forEach(t=>{var e;let i=s.path&&s.path==t.path,r=s.rt&&s.rt==t.rt,l=s.ot&&s.ot==t.ot;(i||r&&l)&&(s.ut=t.ut,s.xt=t.xt,s.ft=t.ft,s.d!=t.d&&(t.d=s.d,s.ut.setAttribute("d",s.d),null==(e=s.xt)||e.setAttribute("d",s.d)))}),nt.forEach(e=>{var s;i.find(t=>e.d==t.d)||e.path&&(t&&e.path&&e.path.lt[0].yt?setTimeout(()=>{var t;e.ut.remove(),null==(t=e.xt)||t.remove()},500):(e.ut.remove(),null==(s=e.xt)||s.remove()))}),!s.ut){s.ut=d("path"),s.ut.setAttribute("d",s.d),s.ut.style.transition="all.4s,opacity.2s",((null==(r=s.path)?void 0:r.lt[0].gt)||(null==(l=s.path)?void 0:l.lt[1].gt)||(null==(n=s.rt)?void 0:n.lt[0].gt)||(null==(o=s.rt)?void 0:o.lt[1].gt)||(null==(a=s.ot)?void 0:a.lt[0].gt)||(null==(y=s.ot)?void 0:y.lt[1].gt))&&(s.ut.style.strokeDasharray="0 3px",s.ut.style.strokeWidth="2px",s.ut.style.stroke="#bbb",s.xt=d("path"),s.xt.setAttribute("d",s.d),s.xt.style.transition="all.4s opacity.2s",s.xt.style.strokeDasharray="0 3px",s.xt.style.strokeWidth="2px",s.xt.style.stroke=h,G.append(s.xt)),P.append(s.ut);let t=s.path&&ht.some(t=>t.x==s.path.lt[0].x&&t.y==s.path.lt[0].y||t.x==s.path.lt[1].x&&t.y==s.path.lt[1].y),i=null==(p=s.path)?void 0:p.lt[0].yt;null!=s.path&&t&&!i||(s.ut.setAttribute("stroke-width",0),s.ut.setAttribute("opacity",0),s.ut.style.willChange="stroke-width,opacity",i&&(s.ut.setAttribute("d",`M${s.dt}L${s.dt}`),setTimeout(()=>{s.ut.setAttribute("d",`M${s.dt}L${s.ct}`)},20)),e||(s.ft=d("path"),s.ft.setAttribute("d",s.d),F.append(s.ft),setTimeout(()=>{var t;null==(t=s.ft)||t.remove(),s.ut.style.willChange=""},500)),setTimeout(()=>{s.ut.removeAttribute("stroke-width"),s.ut.setAttribute("opacity",1)},20))}}),nt=[...i],ht=[]};class at extends k{constructor(t){let{lt:e}=t;super({...t,lt:e}),et.filter(t=>this.lt.some(e=>e.x==t.x&&e.y==t.y)).forEach(t=>t.remove()),rt.push(this)}remove(){nt=nt.filter(t=>{var e,s;return t.path!=this&&t.rt!=this&&t.ot!=this||(t.ut.setAttribute("opacity",0),t.ut.setAttribute("stroke-width",0),null==(e=t.xt)||e.setAttribute("opacity",0),null==(s=t.xt)||s.setAttribute("stroke-width",0),setTimeout(()=>{var e;t.ut.remove(),null==(e=t.xt)||e.remove()},500),!1)}),rt.splice(rt.findIndex(t=>t==this),1),ht.push({x:this.lt[0].x,y:this.lt[0].y},{x:this.lt[1].x,y:this.lt[1].y})}}let yt={wt:18},pt=(t,e)=>{let s=S.getBoundingClientRect().width/20;return{x:3+Math.floor(t/s),y:2+Math.floor(e/s)}},ut=(t,e)=>{let s=S.getBoundingClientRect().width/20;return{x:(3+t)*s,y:(2+e)*s}},dt=[],ct=({from:t,to:e})=>{let s=dt.find(e=>e.x==t.x&&e.y==t.y),i=dt.filter(t=>e.find(e=>t.x==e.x&&t.y==e.y));return((t,e,s)=>{let i=[{node:e,path:[]}],r=[];for(;i.length;){let{node:e,path:l}=i.shift();if(null==e)return!1;if(s.find(t=>e.x==t.x&&e.y==t.y))return l.concat(e);if(!r.some(t=>t.x==e.x&&t.y==e.y)){r.push(e);let s=[],n=[];e.bt.forEach(t=>{1==Math.abs(t.x-e.x)&&t.y==e.y||1==Math.abs(t.y-e.y)&&t.x==e.x?s.push(t):n.push(t)}),s.forEach(s=>{r.some(t=>t.x==s.x&&t.y==s.y)||i.push({node:t.find(t=>t.x==s.x&&t.y==s.y),path:l.concat({...e,h:1})})}),n.forEach(s=>{r.some(t=>t.x==s.x&&t.y==s.y)||i.push({node:t.find(t=>t.x==s.x&&t.y==s.y),path:l.concat({...e,h:1.41})})})}}return null})(dt,s,i)},xt=t=>t.map(t=>({value:t,sort:Math.random()})).sort((t,e)=>t.sort-e.sort).map(({value:t})=>t),ft=[];class gt extends k{constructor(t){super({...t});let e=2*Math.random()-1,s=2*Math.random()-1;this.type=this.L.type,this.Mt=!0,this.kt=0,this.destination=null,this.x=4+8*this.L.x+e,this.y=4+8*this.L.y+s,ft.push(this)}tt(){let{x:t}=this,{y:e}=this,s=d("path");s.setAttribute("d","M0 0 0 0"),s.setAttribute("transform",`translate(${t},${e})`),s.setAttribute("stroke",this.type),Y.append(s),this.ut=s;let i=d("path");i.setAttribute("stroke-width",1.2),i.setAttribute("d","M0 0 .3 .3"),i.setAttribute("transform",`translate(${t},${e})`),W.append(i),this.vt=i}g(){if(!this.ut)return;let{x:t}=this,{y:e}=this;this.ut.setAttribute("transform",`translate(${t},${e})`),this.vt.setAttribute("transform",`translate(${t},${e})`)}update(){var t,e;if(this.advance(),(this.Mt||this.kt)&&(this.dx*=.9,this.dy*=.9),this.kt&&(this.kt++,2==this.kt&&this.$t.type==n&&xt(this.$t.children).forEach((t,e)=>setTimeout(()=>t.Tt.style.fill=n,250*e)),this.kt>80&&this._t.length>3||this.kt>120&&this._t.length>2||this.kt>160)){this.$t.type==n&&xt(this.$t.children).forEach((t,e)=>setTimeout(()=>t.Tt.style.fill=p,1e3+1e3*e));let t=ct({from:{x:this.destination.x,y:this.destination.y},to:[{x:this.L.x,y:this.L.y}]});(null==t?void 0:t.length)?(this.Lt=!0,this.kt=0,this.St=!0,this.destination=t.at(-1),this.zt=t,this._t=[...t]):this.kt=40*Math.random()+40}if(this.St&&this.destination&&(null==(t=this.zt)?void 0:t.length)){let t=2*Math.random()-1,e=2*Math.random()-1,s=new T(4+8*this.zt[0].x+t,4+8*this.zt[0].y+e),i=2,r=1;if(3>this._t.length&&(this.dx*=.9,this.dy*=.9),1==this.zt.length){if(Math.abs(this.x-s.x)<r&&Math.abs(this.y-s.y)<r)return this.Lt?(this.Lt=!1,this.Mt=!0):(this.kt=1,this.$t.Bt-=this.$t.Dt,this.$t.At.splice(this.$t.At.indexOf(this),1)),void(this.St=!1)}else if(Math.abs(this.x-s.x)<i&&Math.abs(this.y-s.y)<i)return void this.zt.shift();for(;this.o.length()>.1;)this.dx*=.98,this.dy*=.98;let l=.006,n=.01,h=this.position.t(s).normalize();this.x<s.x+l&&(this.dx-=h.x*n),this.x>s.x-l&&(this.dx-=h.x*n),this.y<s.y+l&&(this.dy-=h.y*n),this.y>s.y-l&&(this.dy-=h.y*n)}(null==(e=this.zt)?void 0:e.length)>0&&ft.filter(t=>t!=this&&!t.Mt).forEach(t=>{let e=t.position.h(this.position),s=t.position.h(this.position.add(this.o));if(e>s&&1.5>s){let e=this.position.t(t.position).normalize(),s=(r=Math.PI/2,new T({x:(i=e).x*Math.cos(r)-1*i.y,y:1*i.x-i.y*Math.cos(r)})).scale(.1);this.o.set(((t,e)=>{let s=t.length(),i=t.add(e),r=i.length();return i.scale(s/r)})(this.o,s))}var i,r;let l=t.position.h(this.position.add(this.o));6>s&&this.o.length()>.06&&(e>l?1.5>s?(this.dx*=.86,this.dy*=.86):(this.dx*=.89,this.dy*=.89):(this.dx*=.9,this.dy*=.9))})}}let bt=[];class mt extends k{constructor(t){let{x:e,y:s}=t;super(t),this.lt=[{x:this.x,y:this.y}],setTimeout(()=>{this.Pt=new at({lt:[{x:e,y:s,yt:!0},{x:e+this.Qt.x,y:s+this.Qt.y}]}),ot({Ot:[{x:e,y:s,yt:!0},{x:e+this.Qt.x,y:s+this.Qt.y}],ht:!0})},1e3),setTimeout(()=>{this.children.push(new gt({x:this.x,y:this.y,L:this})),this.children.push(new gt({x:this.x,y:this.y,L:this})),this.children.forEach(t=>t.tt())},2e3),setTimeout(()=>{E&&X(39,.1,.25,10,.2,1e3,100)},100),bt.push(this),this.tt()}Yt(t,e){this.Qt={x:t-this.x,y:e-this.y},nt.filter(t=>t.path==this.Pt||t.rt==this.Pt||t.ot==this.Pt).forEach(t=>{t.ut.setAttribute("stroke-width",0),t.ut.setAttribute("opacity",0),setTimeout(()=>{t.ut.remove()},500)}),this.Pt&&(this.jt=this.Pt,this.jt.nt=!0),this.Pt=new at({lt:[{x:this.x,y:this.y,yt:!0},{x:t,y:e}]}),ot({Ot:[{x:this.x,y:this.y,yt:!0},{x:t,y:e}],st:!0}),setTimeout(()=>{var t;null==(t=this.jt)||t.remove()},400)}tt(){let t=4+8*this.x,e=4+8*this.y,s=d("circle");s.setAttribute("fill",y),s.setAttribute("r",0),s.setAttribute("stroke","none"),s.setAttribute("transform",`translate(${t},${e})`),s.style.willChange="r,opacity",s.style.opacity=0,s.style.transition="all.4s",z.append(s),setTimeout(()=>{s.setAttribute("r",3),s.style.opacity=1},100),setTimeout(()=>s.style.willChange="",600),this.et=d("g"),this.et.style.transform=`translate(${t}px,${e}px)`,K.append(this.et),this.Zt=d("circle"),this.Zt.style.transition="r.4s",this.Zt.style.willChange="r",setTimeout(()=>this.Zt.setAttribute("r",3),400),setTimeout(()=>this.Zt.style.willChange="",900),this.Ct=d("path"),this.Ct.setAttribute("d","M0 0 0 0"),this.Ct.setAttribute("stroke-width",6),this.Ct.style.transform=`translate(${t}px,${e}px)`,this.Ct.style.opacity=0,this.Ct.style.willChange="d",this.Ct.style.transition="d.6s",W.append(this.Ct),setTimeout(()=>this.Ct.style.opacity=.8,800),setTimeout(()=>this.Ct.setAttribute("d","M0 0 2 2"),900),setTimeout(()=>this.Ct.style.willChange="",1600),this.Wt=d("circle"),this.Wt.setAttribute("fill","none"),this.Wt.setAttribute("r",1),this.Wt.setAttribute("stroke-dasharray",6.3),this.Wt.setAttribute("stroke-dashoffset",6.3),this.Wt.setAttribute("stroke",this.type),this.Wt.style.willChange="stroke-dashoffset",this.Wt.style.transition="stroke-dashoffset.5s",this.et.append(this.Zt,this.Wt),setTimeout(()=>this.Wt.setAttribute("stroke-dashoffset",0),700),setTimeout(()=>this.Wt.style.willChange="",1300)}qt(){let t=4+8*this.x,e=4+8*this.y;this.Ct.style.transition="transform.2s d.3s",this.Ct.setAttribute("d","M0 0 3 3"),this.et.style.transition="transform.2s",this.et.style.transform=`translate(${t}px,${e}px)scale(1.1)`}Nt(){let t=4+8*this.x,e=4+8*this.y;this.Ct.style.transition="transform.3s d.4s",this.Ct.setAttribute("d","M0 0 2 2"),this.Ct.style.transform=`translate(${t}px,${e}px)scale(1)`,this.et.style.transition="transform.3s",this.et.style.transform=`translate(${t}px,${e}px)scale(1)`}}let At=()=>{let t=d();t.setAttribute("viewBox","0 0 16 16"),t.setAttribute("stroke-linecap","round");let e=d("path");e.setAttribute("fill",i),e.setAttribute("d","M15 2h-4c-1 0-5 0-6 2l-2 5c-1 2 0 5 2 5h4l2 2z");let s=d("path");s.setAttribute("fill",r),s.setAttribute("d","M12 3c-2 2-5-1-7-1s-3-.5-3-1c0-.5 2-1 4-1s8 1 6 3z");let l=d("path");return l.setAttribute("d","m8 6 0 0"),l.setAttribute("stroke-width",2),l.setAttribute("stroke",o),t.append(e,s,l),t},wt=()=>{let t=d();t.setAttribute("viewBox","0 0 20 20"),t.setAttribute("stroke-linecap","round"),t.style.width="48px",t.style.height="48px";let e=d("path");e.setAttribute("fill",l),e.setAttribute("d","M18 12c-2-3-4-8-7-8-4 0-10 5-10 9 0 3 6 3 8 3l2 4z");let s=d("path");s.setAttribute("fill","#bcc"),s.setAttribute("d","M7.4 7.5c-1-4 3.7-6 8-4 1 .4 1 1.3 0 1-3-1-6 1-4 4 1.1 1.6-3.2 2-4-1z");let i=d("path");i.setAttribute("fill","#cdd"),i.setAttribute("d","M6 5.8c-1-4 3.7-6 8-4 1 .4 1 1.3 0 1-3-1-6 1-4 4 1.1 1.6-3.2 2-4-1z");let r=d("path");r.setAttribute("fill","#cdd"),r.setAttribute("d","M6 15c0 4-2 5-2 4 0-2-1 0-1-1v-3z");let n=d("path");return n.setAttribute("d","m7 9.3 0 0"),n.setAttribute("stroke-width",2),n.setAttribute("stroke",o),t.append(s,i,r,e,n),t},Tt=()=>{let t=d();t.setAttribute("viewBox","0 0 20 20"),t.setAttribute("stroke-linecap","round");let e=d("path");e.setAttribute("fill",n),e.setAttribute("d","m17 11 1-4c1-4-5 0-5 4s6 8 5 4zM4 6.5c0-2 2-4 2-4 4 0 7 4 8 8m-11 4c4 2 14 6 6-2");let s=d("path");s.setAttribute("fill",n),s.setAttribute("d","m0 11c0 10 16 4 16 0s-16-12-16 0");let i=d("path");return i.setAttribute("d","m4 9 0 0"),i.setAttribute("stroke-width",2),i.setAttribute("stroke",o),t.append(s,e,i),t},Mt=c(),kt=c(),vt=c(),$t=c(),Et=c(),Lt=c(),Ht=c(),Ct=c(),zt=c(),Bt=c(),It=c(),Qt=c(),Ot=c("button"),St=d("path"),Pt=d("path"),Ft=c("button"),Yt=d("svg"),qt=d("path"),Dt=c(),Gt=c("button"),Zt=d("svg"),Rt=d("path"),Wt=c(),Kt=c("button"),Ut=d("svg"),jt=d("path"),Vt=d("path"),_t=c(),Xt=(t,e)=>{let s=rt.filter(s=>(s.lt[0].x==t&&s.lt[0].y==e||s.lt[1].x==t&&s.lt[1].y==e)&&!s.lt[0].yt&&!s.lt[1].yt);s.forEach(t=>{99>yt.wt&&(yt.wt++,Qt.innerText=yt.wt),t.remove()}),s.length&&E&&X(1,.5,1,0,6,800,1500,()=>2),ot({Ot:[{x:t,y:e}]})};function Nt(t,e,s){let i=(e.y-t.y)*(s.x-e.x)-(e.x-t.x)*(s.y-e.y);return 0==i?0:i>0?1:2}let Jt=[],te=(t,e)=>{let s=[];for(let i=-e/2+.5;e/2-.5>=i;i++)for(let e=-t/2+.5;t/2-.5>=e;e++)t/2-Math.abs(e)+2*Math.random()-1>Math.abs(i)&&s.push({x:Math.floor(e),y:Math.floor(i)});return s.length>2?s:te(t,e)},ee=({width:t,height:e,x:s,y:i})=>{let r=te(t,e),l=[];r=r.map(r=>({x:s+r.x+Math.floor(t/2),y:i+r.y+Math.floor(e/2)}));for(let r=0;e>r;r++)for(let e=0;t>e;e++)l.push({x:s+e,y:i+r});Jt.push({width:t,height:e,x:s,y:i,lt:r,Rt:l});let n=(t=>{let e=0;for(let s=1;s<t.length;s++)(t[s].y<t[e].y||t[s].y==t[e].y&&t[s].x<t[e].x)&&(e=s);let s=[],i=e;do{s.push(t[i]);let e=(i+1)%t.length;for(let s=0;s<t.length;s++)2==Nt(t[i],t[s],t[e])&&(e=s);i=e}while(i!=e);i=e;do{let r=(i-1+t.length)%t.length;for(let e=0;e<t.length;e++)2==Nt(t[i],t[e],t[r])&&(r=e);i=r,i!=e&&s.push(t[i])}while(i!=e);return s})(r),h=d("path");h.setAttribute("fill","#69b");let o=n.reduce((t,e,s)=>{let i=n.at((s+1)%n.length),r=e.x+(i.x-e.x)/2,l=e.y+(i.y-e.y)/2;return`${t} ${4+8*e.x} ${4+8*e.y} ${4+8*r} ${4+8*l}`},`M${4+8*(n[0].x+(n.at(-1).x-n[0].x)/2)} ${4+8*(n[0].y+(n.at(-1).y-n[0].y)/2)}Q`);h.setAttribute("d",o+"Z"),h.setAttribute("stroke-width",4),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke","#6ab");let a=d("path");a.setAttribute("fill","#7bc"),a.setAttribute("d",o+"Z"),a.setAttribute("stroke","#7bc"),a.style.filter="blur(2px)";let y=d("path");y.setAttribute("d",o+"Z"),y.setAttribute("stroke-width",6),y.setAttribute("stroke","#9b6"),D.append(y,h,a)},se="true"==localStorage.getItem("Tiny Yurtsg"),ie={Ft:!1,H:!1},re=()=>{f.style.opacity=.9,v.style.opacity=1,se||(qt.setAttribute("d","M6 5 6 11M10 5 10 11M5 6 8 6 11 6M5 10 11 10"),qt.style.transform="rotate(180deg)")},le=()=>{se||(f.style.opacity=0,v.style.opacity=0,qt.setAttribute("d","M8 4.5 5 11M8 4.5 11 11M5 11 8 4.5 11 11M6 9.5 10 9.5"),qt.style.transform="rotate(0)")};se?(Dt.innerHTML="Grid: <u>On",re(),qt.setAttribute("d","M6 5 6 11M10 5 10 11M5 6 8 6 11 6M5 10 11 10"),qt.style.transform="rotate(180deg)"):(Dt.innerHTML="Grid: <u>Auto",le());let ne=()=>{S.style.cursor="crosshair",$.style.opacity=.9,g.style.opacity=.9,ie.Ft||(Rt.setAttribute("d","M4.5 4.5Q4.5 4.5 11.5 4.5 11.5 4.5 11.5 4.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 4.5 11.5 4.5 11.5ZM9 7 7 9M7 7Q9 9 9 9"),Rt.style.transform="rotate(180deg)")},he=()=>{ie.Ft||($.style.opacity=0,g.style.opacity=0,Rt.setAttribute("d","M5 7Q5 4 8 4 11 4 11 7 11 8 11 9 11 12 8 12 5 12 5 9ZM8 4 8 8 M8 8 Q11 8 11 7.5"),Rt.style.transform="rotate(0)")};ie.Ft?(Wt.innerHTML="Delete: <u>On",Rt.setAttribute("d","M4.5 4.5 Q4.5 4.5 11.5 4.5 11.5 4.5 11.5 4.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 11.5 4.5 11.5 4.5 11.5ZM9 7 7 9M7 7Q9 9 9 9"),Rt.style.transform="rotate(180deg)"):(Wt.innerHTML='Delete: <abbr title="Right Mouse Button">RMB',Rt.setAttribute("d","M5 7Q5 4 8 4 11 4 11 7 11 8 11 9 11 12 8 12 5 12 5 9ZM8 4 8 8 M8 8 Q11 8 11 7.5"),Rt.style.transform="rotate(0)");let oe={},ae=!1,ye=(t,e)=>bt.find(s=>s.x==t&&s.y==e),pe=(t,e)=>Jt.find(s=>s.lt.find(s=>s.x==t&&s.y==e)),ue=(t,e)=>rt.find(s=>s.lt[1].x==t&&s.lt[1].y==e&&s.lt[1].gt),de=(t,e,s,i)=>rt.find(r=>r.lt[0].x==t&&r.lt[0].y==e&&r.lt[1].x==s&&r.lt[1].y==i||r.lt[1].x==t&&r.lt[1].y==e&&r.lt[0].x==s&&r.lt[0].y==i),ce=t=>4+8*t,xe=d("g"),fe=d("path");fe.style.opacity=0,fe.style.scale=0,fe.style.transition="all.2s,scale.4s cubic-bezier(.5,2,.5,1)",xe.append(fe),F.append(xe);let ge=[],be=t=>3+Math.random()*(8*t-6);class me extends k{constructor(t){var e,s;super({...t,Gt:{x:.5,y:.5},x:be((null==(e=t.L)?void 0:e.width)??0),y:be((null==(s=t.L)?void 0:s.height)??0),rotation:t.rotation??Math.random()*Math.PI*4-2*Math.PI});let i=8*this.L.x+this.x,r=8*this.L.y+this.y;this.Et=t.Et??!1,this.Ut=t.Ut,this.It=!1,this.Jt=null,this.Ht=d("g"),this.Ht.style.opacity=0,this.Ht.style.willChange="opacity,transform",this.Ht.style.transition="all.8s cubic-bezier(.5,2,.5,1)",this.Ht.style.transformOrigin="bottom",this.Ht.style.transformBox="fill-box",this.Ht.style.transform=`translate(${i}px,${r-this.height/2}px)`,q.append(this.Ht);let l=d("path");l.setAttribute("fill","#fff"),l.setAttribute("d","m6 6-2-2a3 3 0 1 1 4 0Z"),l.setAttribute("transform","scale(.5) translate(-6 -8)"),this.Ht.append(l),this.Kt=d("path"),this.Kt.setAttribute("stroke",this.color),this.Kt.setAttribute("d","M3 6 3 6M3 4.5 3 3"),this.Kt.setAttribute("transform","scale(.5) translate(-3 -10.4)"),this.Kt.style.opacity=0,this.Ht.append(this.Kt),this.Vt=d("path"),this.Vt.setAttribute("fill",this.color),this.Vt.setAttribute("d","M6 6 4 4A1 1 0 1 1 6 2 1 1 0 1 1 8 4Z"),this.Vt.setAttribute("transform","scale(.3) translate(-6 -13)"),this.Vt.style.opacity=0,this.Ht.append(this.Vt),ge.push(this)}g(){let t=8*this.L.x+this.x,e=8*this.L.y+this.y;this.Ht.style.transform=`translate(${t}px,${e-this.height/2}px)scale(${this.It||this.Xt?1:0})`}te(){return{x:be(this.L.width),y:be(this.L.height)}}ee(){this.Xt=!0,this.Ht.style.opacity=1,this.Kt.style.opacity=0,this.Vt.style.opacity=1}ie(){this.Xt=!1,this.Ht.style.opacity=this.It?1:0,this.Kt.style.opacity=this.It?1:0,this.Vt.style.opacity=0}se(){tt(this.color),this.It=!0,this.Kt.style.opacity=1,this.Vt.style.opacity=0,this.Ht.style.opacity=1}he(){this.It=!1,this.Vt.style.opacity=this.Xt?1:0,this.Ht.style.opacity=this.Xt?1:0,this.Kt.style.opacity=0}re(t){t?this.se():this.he()}}let Ae=[];class we extends me{constructor(t){super({...t,L:t.L,width:1.5,height:2.5,Ut:.6,color:i,Et:!!t.Et&&5e3}),Ae.push(this)}tt(){this.scale=0;let t=d("g");t.style.transformOrigin="center",t.style.transformBox="fill-box",t.style.transition="all 1s",t.style.willChange="transform",this.ut=t,H.prepend(t);let e=d("rect");e.setAttribute("fill",i),e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.setAttribute("rx",this.Ut),t.append(e);let s=d("path");s.setAttribute("fill","none"),s.setAttribute("stroke",r),s.setAttribute("width",this.width),s.setAttribute("height",this.height),s.setAttribute("d","M0 2Q0 1 1 1Q2 1 2 2"),s.setAttribute("transform","translate(-0.2 .6)"),s.setAttribute("stroke-width",.4),this.Et&&(s.style.transition="all 1s",s.style.willChange="opacity",s.style.opacity=0),this.ae=s,t.append(s);let l=d("rect");l.setAttribute("width",this.width),l.setAttribute("height",this.height),l.setAttribute("rx",this.Ut),l.style.transformOrigin="center",l.style.transformBox="fill-box",l.style.transition="all 1s",l.style.willChange="transform",this.oe=l,C.prepend(l),this.g(),kt.style.width="96px",kt.style.opacity="1",setTimeout(()=>{this.scale=1,vt.innerText=Ae.length},500),setTimeout(()=>{t.style.transition="",t.style.willChange="",l.style.willChange="",l.style.transition=""},1500)}update(t){if(this.advance(),t&&(1==this.Et&&(this.ae.style.opacity=1),this.Et&&this.Et--),Math.random()>.99&&(this.ne=this.te()),this.ne){let t=A(this,this.ne)-this.rotation,e=T(this.ne),s=e.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.04:-.04;else if(s>.1){let t=e.t(this).normalize(),s=this.x+.05*t.x,i=this.y+.05*t.y;this.L.children.some(t=>{if(this==t)return!1;let e=T(t),r=e.h({x:this.x,y:this.y}),l=e.h({x:s,y:i});return 4>l&&r>l})||(this.x=s,this.y=i)}}}g(){super.g();let t=8*this.L.x+this.x-this.width/2,e=8*this.L.y+this.y-this.height/2;this.ut.style.transform=`translate(${t}px,${e}px)rotate(${m(this.rotation)-90}deg)scale(${this.scale*(this.Et?.5:1)})`,this.oe.style.transform=`translate(${t}px,${e}px)rotate(${m(this.rotation)-90}deg)scale(${(this.scale+.04)*(this.Et?.5:1)})`}}let Te=[];class Me extends k{constructor(t){let{le:e}=t;super(t),this.delay=this.delay??0,this.Bt=0,this.pe=0,this.de=16*this.width+16*this.height,this.ce=0,this.At=[],this.lt=[];for(let t=0;t<this.width;t++)for(let e=0;e<this.height;e++)this.lt.push({x:this.x+t,y:this.y+e});e&&setTimeout(()=>{this.Pt=new at({lt:[{x:this.x+e[0].x,y:this.y+e[0].y,yt:e[0].yt,gt:e[0].gt},{x:this.x+e[1].x,y:this.y+e[1].y,yt:e[1].yt,gt:e[1].gt}]}),ot({})},1500+t.delay),Te.push(this),setTimeout(()=>{this.tt()},t.delay)}ue(t){this.k(t),t.tt()}xe(){let t=this.children.filter(t=>!t.Et),e=t.filter(t=>!t.It),s=t.filter(t=>t.It);this.It?this.ce>t.length?this.children.forEach(t=>t.he()):this.he():(this.re(this.ce>t.length),s.length&&this.ce<s.length&&s[Math.floor(Math.random()*s.length)].he(),e.length&&this.ce>t.length-e.length&&e[Math.floor(Math.random()*e.length)].se())}update(t,e){if(!this.fe){t&&(this.ce=Math.floor(this.Bt/this.Dt),this.Bt+=this.children.length-1+e*e/1e9,this.It&&this.ye(),this.xe()),this.children.forEach(e=>e.update(t));for(let t=0;t<this.ce;t++){if(this.At.length>=this.ce)return;let t=ft.filter(t=>t.Mt&&t.type==this.type);if(0==t.length)return;let e=t[0],s=null;for(let i=0;i<t.length;i++){let r=ct({from:{x:t[i].L.x,y:t[i].L.y},to:this.lt});s||(s=r,e=t[i]),r&&r.length<s.length&&(s=r,e=t[i]),r&&r.length==s.length&&t[i].L!=e.L&&s.reduce((t,e)=>t+(e.h??0),0)>r.reduce((t,e)=>t+(e.h??0),0)&&(s=r,e=t[i])}s&&(e.destination=s.at(-1),e.St=!0,e.zt=s,e._t=[...s],e.Mt=!1,this.At.push(e),e.$t=this)}}}g(){this.children.forEach(t=>t.g())}tt(){let e=.75+8*this.x,s=.75+8*this.y,i=8*this.width-1-.5,r=8*this.height-1-.5;if(this.type!=n){let l=d("rect");l.style.width=i,l.style.height=r,l.setAttribute("rx",2),l.setAttribute("transform",`translate(${e},${s})`),l.style.opacity=0,l.style.transition="opacity.8s",l.style.willChange="opacity",l.setAttribute("fill",t),Q.append(l),setTimeout(()=>l.style.opacity=1,1e3),setTimeout(()=>l.style.willChange="",2e3)}let l=d("rect");l.setAttribute("width",i),l.setAttribute("height",r),l.setAttribute("rx",2),l.setAttribute("transform",`translate(${e},${s})`),l.setAttribute("stroke",this.ge),l.setAttribute("stroke-dasharray",this.de),l.setAttribute("stroke-dashoffset",this.de),l.style.transition="all 1s",B.append(l);let h=d("rect");h.setAttribute("width",i),h.setAttribute("height",r),h.setAttribute("rx",2),h.style.transform=`translate(${e-.5}px,${s-.5}px)`,h.style.willChange="stroke-dashoffset, transform",h.setAttribute("stroke-dasharray",this.de),h.setAttribute("stroke-dashoffset",this.de),h.style.transition="stroke-dashoffset 1s,transform.5s",I.append(h),setTimeout(()=>{l.setAttribute("stroke-dashoffset",0),h.setAttribute("stroke-dashoffset",0)},100),setTimeout(()=>{h.style.transform=`translate(${e}px,${s}px)`},1e3),this.Ht=d("g"),this.Ht.translate=`${e+i/2}px,${s+r/2+1.5}px`,this.Ht.style.willChange="opacity,transform",this.Ht.style.transition="all.8s cubic-bezier(.5,2,.5,1)",this.Ht.style.transformOrigin="bottom",this.Ht.style.transformBox="fill-box",this.Ht.style.opacity=0,this.Ht.style.transform=`translate(${this.Ht.translate})scale(0)`,q.append(this.Ht),this.me=d("path"),this.me.setAttribute("fill","#fff"),this.me.setAttribute("d","m6 6-2-2a3 3 0 1 1 4 0Z"),this.me.setAttribute("transform","translate(-9 -9) scale(1.5)"),this.Ht.append(this.me),this.we=d("circle"),this.we.setAttribute("fill","none"),this.we.setAttribute("stroke-width","2"),this.we.setAttribute("stroke-linecap","square"),this.we.setAttribute("r",2),this.we.setAttribute("stroke",o),this.we.setAttribute("opacity",.2),this.we.setAttribute("transform","scale(1.2) translate(0 -5.3)"),this.Ht.append(this.we),this.be=d("circle"),this.be.setAttribute("fill","none"),this.be.setAttribute("stroke-width","2"),this.be.setAttribute("stroke-linecap","butt"),this.be.setAttribute("r",2),this.be.setAttribute("stroke",a),this.be.style.willChange="stroke-dashoffset",this.be.style.transition="stroke-dashoffset.5s",this.be.setAttribute("stroke-dasharray",12.56),this.be.setAttribute("stroke-dashoffset",12.56),this.be.style.transition="stroke-dashoffset.3s.1s",this.be.setAttribute("transform","scale(1.2) translate(0 -5.3) rotate(-90)"),this.Ht.append(this.be),this.Ht.style.opacity=1}se(){this.It=!0,this.Ht.style.opacity=1,this.be.style.transition="stroke-dashoffset.4s.8s",this.Ht.style.transform=`translate(${this.Ht.translate})scale(1)`,this.Ht.style.transition="all.8s cubic-bezier(.5,2,.5,1)",tt(this.type),setTimeout(()=>{this.be.style.transition="stroke-dashoffset.4s"},1e3)}he(){this.It=!1,this.Ht.style.opacity=0,this.be.style.transition="stroke-dashoffset.3s",this.Ht.style.transform=`translate(${this.Ht.translate})scale(0)`,this.Ht.style.transition="all.8s cubic-bezier(.5,2,.5,1).4s"}re(t){t?this.se():this.he()}ye(){let t=this.children.filter(t=>!t.Et),e=2*t.length,s=this.ce-t.length,i=12.56-12.56/e*s;this.be.setAttribute("stroke-dashoffset",i),this.Me<s&&(tt(this.type),this.Ht.style.transform=`translate(${this.Ht.translate})scale(1.2)`,setTimeout(()=>{this.Ht.style.transform=`translate(${this.Ht.translate})scale(1)`},200)),this.Me=s,s==e&&(this.p=!1)}}let ke=[];class ve extends Me{constructor(t){super({...t,ge:i}),this.Dt=225,this.type=i,ke.push(this),setTimeout(()=>this.ue({}),2e3+t.delay),setTimeout(()=>this.ue({}),3e3+t.delay),setTimeout(()=>this.ue({Et:(ke.length-1)%2}),4e3+t.delay),this.ke=3,this.fe=!0,setTimeout(()=>this.fe=!1,3e3)}ve(){if(this.ke>=5)return!1;this.ke+=2;for(let t=0;t<this.children.filter(t=>!t.Et).length;t++)setTimeout(()=>this.children.filter(t=>!t.Et)[t].ee(),1e3*t),setTimeout(()=>this.children.filter(t=>!t.Et)[t].ie(),7e3),t&&setTimeout(()=>this.ue({Et:!0}),1e3*t+7e3);return!0}ue({Et:t=!1}){super.ue(new we({L:this,Et:t}))}update(t,e){super.update(t,e)}}let $e=[];class Ee extends me{constructor(t){super({...t,L:t.L,width:1,height:1.5,Ut:.6,color:l,Et:!!t.Et&&4e3}),$e.push(this)}tt(){this.scale=0;let t=d("g");t.style.transformOrigin="center",t.style.transformBox="fill-box",t.style.transition="all 1s",t.style.willChange="transform",this.ut=t,H.prepend(t);let e=d("rect");e.setAttribute("fill",l),e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.setAttribute("rx",this.Ut),t.append(e);let s=d("rect");s.setAttribute("width",this.width),s.setAttribute("height",this.height),s.setAttribute("rx",this.Ut),s.style.transformOrigin="center",s.style.transformBox="fill-box",s.style.transition="all 1s",s.style.willChange="transform",this.oe=s,C.prepend(s),this.g(),$t.style.width="96px",$t.style.opacity="1",setTimeout(()=>{this.scale=1,Et.innerText=$e.length},500),setTimeout(()=>{t.style.transition="",t.style.willChange="",s.style.willChange="",s.style.transition=""},1500)}update(t){if(this.advance(),t&&this.Et&&this.Et--,Math.random()>.96&&(this.ne=this.te()),this.ne){let t=A(this,this.ne)-this.rotation,e=T(this.ne),s=e.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.1:-.1;else if(s>.1){let t=e.t(this).normalize(),s=this.x+.1*t.x,i=this.y+.1*t.y;this.L.children.some(t=>{if(this==t)return!1;let e=T(t),r=e.h({x:this.x,y:this.y}),l=e.h({x:s,y:i});return 4>l&&r>l})||(this.x=s,this.y=i)}}}g(){super.g();let t=8*this.L.x+this.x-this.width/2,e=8*this.L.y+this.y-this.height/2;this.ut.style.transform=`translate(${t}px,${e}px)rotate(${m(this.rotation)-90}deg)scale(${this.scale*(this.Et?.6:1)})`,this.oe.style.transform=`translate(${t}px,${e}px)rotate(${m(this.rotation)-90}deg)scale(${(this.scale+.04)*(this.Et?.6:1)})`}}let Le=[];class He extends Me{constructor(t){super({...t,ge:l}),this.Dt=240,this.type=l,Le.push(this),setTimeout(()=>this.ue({}),2e3),setTimeout(()=>this.ue({}),3e3),setTimeout(()=>this.ue({Et:(Le.length-1)%2}),4e3),this.ke=3,this.fe=!0,setTimeout(()=>this.fe=!1,3e3)}ve(){if(this.ke+=1,this.ke>=7)return!1;for(let t=0;2>t;t++)setTimeout(()=>this.children.filter(t=>!t.Et)[t].ee(),1e3*t),setTimeout(()=>this.children.filter(t=>!t.Et)[t].ie(),7e3),t&&setTimeout(()=>this.ue({Et:!0}),1e3*t+7e3);return!0}ue({Et:t=!1}){super.ue(new Ee({L:this,Et:t}))}update(t,e){super.update(t,e)}}let Ce=[];class ze extends me{constructor(t){super({...t,L:t.L,width:.7,height:1,Ut:1,color:n}),Ce.push(this)}tt(){this.scale=0,this.ut=d("g"),this.ut.style.transformOrigin="center",this.ut.style.transformBox="fill-box",this.ut.style.transition="all 1s",this.ut.style.willChange="transform",H.append(this.ut),this.Tt=d("rect"),this.Tt.setAttribute("fill",n),this.Tt.setAttribute("width",this.width),this.Tt.setAttribute("height",this.height),this.Tt.setAttribute("rx",this.Ut),this.Tt.style.transition="fill.2s",this.ut.append(this.Tt),this.g(),Lt.style.width="96px",Lt.style.opacity=1,setTimeout(()=>{this.scale=1,Ht.innerText=Ce.length},500),setTimeout(()=>{this.ut.style.transition="",this.ut.style.willChange=""},1500),setTimeout(()=>{this.Tt.setAttribute("fill",p)},4e3)}update(t){if(this.advance(),t&&this.Et&&this.Et--,Math.random()>.96&&(this.ne=this.te()),this.ne){let t=A(this,this.ne)-this.rotation,e=T(this.ne),s=e.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.1:-.1;else if(s>.1){let t=e.t(this).normalize(),s=this.x+.1*t.x,i=this.y+.1*t.y;this.L.children.some(t=>{if(this==t)return!1;let e=T(t),r=e.h({x:this.x,y:this.y}),l=e.h({x:s,y:i});return 4>l&&r>l})||(this.x=s,this.y=i)}}}g(){super.g();let t=8*this.L.x+this.x-this.width/2,e=8*this.L.y+this.y-this.height/2;this.ut.style.transform=`translate(${t}px,${e}px)rotate(${m(this.rotation)-90}deg)scale(${this.scale*(this.Et?.6:1)})`,this.It&&(this.Tt.style.fill=n)}}let Be=[];class Ie extends Me{constructor(t){super({...t,ge:"#eee",width:2,height:2}),this.Dt=1300,this.type=n,Be.push(this),setTimeout(()=>this.ue({}),2e3+(t.delay??0)),setTimeout(()=>this.ue({}),2500+(t.delay??0)),setTimeout(()=>this.ue({}),3e3+(t.delay??0)),setTimeout(()=>this.ue({}),3500+(t.delay??0)),setTimeout(()=>this.ue({}),4e3+(t.delay??0)),this.ke=5,this.fe=!0,setTimeout(()=>this.fe=!1,3e3)}ve(){if(this.ke>=9)return!1;this.ke+=4;for(let t=0;2>t;t++)setTimeout(()=>this.children[t].ee(),1e3*t),setTimeout(()=>this.children[t].ie(),7e3);for(let t=0;4>t;t++)setTimeout(()=>this.ue({}),1e3*t+7e3);return!0}ue({Et:t=!1}){super.ue(new ze({L:this,Et:t}))}update(t,e){super.update(t,e)}}let Qe=[i,l],Oe=3e3,Se=()=>{if(Te.length<Qe.length)return Qe[Te.length];let t=Qe.filter(t=>{let e=bt.filter(e=>e.type==t),s=Te.filter(e=>e.type==t);return e.length>s.length});return t.at(Math.random()*t.length)},Pe=()=>{if(Te.length<Qe.length)return Qe[Te.length-1];let t={};bt.filter(t=>t.type!=n).forEach(e=>{t[e.type]=t[e.type]?t[e.type]+1:1});let e={};Te.filter(t=>t.type!=n).forEach(t=>{e[t.type]=e[t.type]?e[t.type]+1:1});let s=[];Object.keys(e).forEach(i=>{s.push(e[i]/t[i])});let i=Object.keys(e)[(t=>{let e=t.reduce((t,e)=>t+e,0),s=Math.random()*e,i=0;for(let e=0;e<t.length;e++)if(i+=t[e],i>s)return e;return null})(s)];return i},Fe=({width:t=1,height:e=1,Gt:s={x:13,y:7,width:0,height:0},$e:i=0,Te:r=99,_e:l=9,Le:n=!0,Se:h={x:0,y:0}})=>{let o=0;for(;l>o;){o++;let l=Math.max(3,s.x-r),a=Math.min(23-t+1,s.x+s.width+r-t+1),y=Math.max(2,s.y-r),p=Math.min(12-e+1,s.y+s.height+r-e+1),u=Math.floor(l+Math.random()*(a-l)),d=Math.floor(y+Math.random()*(p-y));if(u<s.x+s.width+i-1&&u>s.x-i-t+1&&d<s.y+s.height+i-1&&d>s.y-i-e+1)continue;if(3>u+h.x||u+h.x>22||2>d+h.y||d+h.y>11)continue;if(Jt.some(s=>s.Rt.some(s=>{for(let i=0;t>i;i++)for(let t=0;e>t;t++)if(u+i==s.x&&d+t==s.y)return!0;return u+h.x==s.x&&d+h.y==s.y})))continue;if(Te.some(s=>s.lt.some(s=>{for(let i=0;t>i;i++)for(let t=0;e>t;t++)if(u+i==s.x&&d+t==s.y)return!0;return!1})))continue;let c=t=>t.x==u+h.x&&t.y==d+h.y;if(!Te.some(t=>t.lt.some(c))&&!rt.some(s=>{for(let i=0;t>i;i++)for(let t=0;e>t;t++)if(u+i==s.lt[0].x&&d+t==s.lt[0].y||u+i==s.lt[1].x&&d+t==s.lt[1].y)return!0;return!1})&&!bt.some(s=>{for(let i=0;t>i;i++)for(let t=0;e>t;t++)if(u+i==s.x&&d+t==s.y)return!0;if(u+h.x==s.x&&d+h.y==s.y)return!0})){if(n&&et.some(s=>{for(let i=0;t>i;i++)for(let t=0;e>t;t++)if(u+i==s.x&&d+t==s.y)return!0;if(u+h.x==s.x&&d+h.y==s.y)return!0}))continue;return{x:u,y:d}}}return null},Ye=()=>{let t=Math.random()>.5,e=t?{w:2,ze:3}:{w:3,ze:2},s={width:e.w,height:e.ze};if(!Te.length){let i=Math.floor(Math.random()*e.w),r=Math.floor(Math.random()*e.ze),l=t?3*i-1:i,n=t?r:3*r-1;s.le=[{x:i,y:r},{x:l,y:n}]}return s},qe=()=>{let t,e=Math.random();return t=.25>e?{x:0,y:-1}:.5>e?{x:1,y:0}:.75>e?{x:0,y:1}:{x:-1,y:0},{Qt:t}},De=0,Ge=0,Ze=0,Re=0,We={Be:!1},Ke=(t,e)=>{let s=!1;if(t%Oe==0&&(De=Math.floor(200*Math.random()),Ge=Math.floor(200*Math.random()),Ze=Math.floor(200*Math.random()),Re=Math.floor(200*Math.random())),0==t){if(Math.random()>.5){let t=6,e=4,s=Fe({width:t,height:e,$e:5,_e:32});s&&ee({width:t,height:e,x:s.x,y:s.y})}else{let t=Fe({width:4,height:4,$e:5,_e:16});t&&ee({width:4,height:4,x:t.x,y:t.y});let e=Fe({width:3,height:2,$e:5,_e:16});e&&ee({width:3,height:2,x:e.x,y:e.y});let s=Fe({width:3,height:2,$e:5,_e:16});s&&ee({width:3,height:2,x:s.x,y:s.y})}for(let t=0;9>t;t++){let t=Fe({});new st({x:t.x,y:t.y})}}if(0==t||t>1e3&&t%Oe==0+(Te.length?De:0))if(t>1e4&&!Be.length){let t=Jt.find(t=>t.width>=4&&t.height>=4),e=13>t.x?1:0,s=13>t.x?2:-1,i=13>t.x?3:-2,r=7>t.y?1:0,l=t.x+t.width/2-1,n=t.y+t.height/2-1;new Ie({x:l,y:n,le:[{x:e,y:r,yt:!0,gt:!0},{x:t.width>4?i:s,y:r,yt:!0,gt:!0}]})}else{let t,{width:r,height:n,le:h}=Ye(),o=Se(),a=Fe({width:r,height:n,Gt:Te.length>1?bt.filter(t=>t.type==o).at(Math.random()*bt.length):Te[Te.length-1],Te:Te.length+2,$e:Te.length?2:0,_e:32,Se:h?{x:h[1].x,y:h[1].y}:{x:0,y:0},Le:!1});if(!a){let t=xt(Te);for(let e=0;e<t.length&&!s;e++)t[e].ve()&&(s=!0);return}if(o==i&&(t=new ve({width:r,height:n,x:a.x,y:a.y,le:h,delay:e})),o==l&&(t=new He({width:r,height:n,x:a.x,y:a.y,le:h,delay:e})),t)return void et.filter(e=>t.lt.some(t=>t.x==e.x&&t.y==e.y)).forEach(t=>t.remove())}if(t%Oe!=500+(Te.length>1?Ge:0))if(t%Oe==600+Ge&&We.Be){let{Qt:t}=qe(),e=Te.filter(t=>t.type==n).length&&2>bt.filter(t=>t.type==n).length?Te.find(t=>t.type==n):Te.length>2?Te.at(Math.random()*Te.length):Te[Te.length-1],s=Fe({Gt:{x:e.x,y:e.y,width:e.width,height:e.height},$e:3,Te:2+Te.length,Se:t});s?(new mt({x:s.x,y:s.y,type:e.type,Qt:t}),We.Be=!1):We.Be=!0}else if(t%Oe==700+Ge&&We.Be){let{Qt:t}=qe(),e=Te.filter(t=>t.type==n).length&&2>bt.filter(t=>t.type==n).length?Te.find(t=>t.type==n):Te.length>2?Te.at(Math.random()*Te.length):Te[Te.length-1],s=Fe({Gt:{x:e.x,y:e.y,width:e.width,height:e.height},$e:3,Te:2+Te.length,Se:t});s?(new mt({x:s.x,y:s.y,type:e.type,Qt:t}),We.Be=!1):We.Be=!0}else if(t%Oe!=1500+Ze){if(t%Oe==1600+Ze&&We.Be){let{Qt:t}=qe(),e=Pe(),s=bt.filter(t=>t.type==e),i=s.at(Math.random()*s.length),r=Fe({Gt:{x:i.x,y:i.y,width:1,height:1},$e:1,Te:Te.length,Se:t});r?(new mt({x:r.x,y:r.y,type:e,Qt:t}),We.Be=!1):We.Be=!0}else if(t%Oe==1700+Ze&&We.Be){let{Qt:t}=qe(),e=Pe(),s=bt.filter(t=>t.type==e),i=s.at(Math.random()*s.length),r=Fe({Gt:{x:i.x,y:i.y,width:1,height:1},$e:1,Te:Te.length,Se:t});r?(new mt({x:r.x,y:r.y,type:e,Qt:t}),We.Be=!1):We.Be=!0}else if(t%Oe==2500+Re&&t>2e4){let t,{width:r,height:n,le:h}=Ye(),o=Se(),a=Fe({width:r,height:n,Gt:Te.length>1?bt.filter(t=>t.type==o).at(Math.random()*bt.length):Te[Te.length-1],Te:Te.length+2,$e:Te.length?2:0,Se:h?{x:h[1].x,y:h[1].y}:{x:0,y:0},Le:!1});if(!a){let t=xt(Te);for(let e=0;e<t.length&&!s;e++)t[e].ve()&&(s=!0);return}if(o==i&&(t=new ve({width:r,height:n,x:a.x,y:a.y,le:h,delay:e})),o==l&&(t=new He({width:r,height:n,x:a.x,y:a.y,le:h,delay:e})),t)return void et.filter(e=>t.lt.some(t=>t.x==e.x&&t.y==e.y)).forEach(t=>t.remove())}}else{let{Qt:t}=qe(),e=Pe(),s=bt.filter(t=>t.type==e),i=s.at(Math.random()*s.length),r=Fe({Gt:{x:i.x,y:i.y,width:1,height:1},$e:1,Te:Te.length,Se:t});r?(new mt({x:r.x,y:r.y,type:e,Qt:t}),We.Be=!1):We.Be=!0}else{let{Qt:t}=qe(),e=Te.filter(t=>t.type==n).length&&2>bt.filter(t=>t.type==n).length?Te.find(t=>t.type==n):Te.length>2?Te.at(Math.random()*Te.length):Te[Te.length-1],s=Fe({Gt:{x:e.x,y:e.y,width:e.width,height:e.height},$e:3,Te:2+Te.length,Se:t});s?(new mt({x:s.x,y:s.y,type:e.type,Qt:t}),We.Be=!1):We.Be=!0}},Ue=c();Ue.style.cssText="backdrop-filter:blur(8px);position:absolute;inset:0;pointer-events:none;background:#fffb";let je,Ve,_e=c(),Xe=c(),Ne=c(),Je=c(),ts=c(),es=c(),ss=c(),is=c("button"),rs=c(),ls=c("button"),ns=c(),hs=At(),os=c(),as=wt(),ys=c(),ps=Tt(),us=c(),ds=c("button"),cs=()=>{let t=2*bt.length+ge.length;Mt.style.zIndex="",t>localStorage.getItem("Tiny Yurts")&&localStorage.setItem("Tiny Yurts",t),Ue.style.clipPath="polygon(0 0,100%0,100%100%,0 100%)",Ue.style.transition="opacity 2s 1s",Xe.style.transition="opacity.5s 2s",Ne.style.transition="opacity.5s 2s",Je.style.transition="opacity.5s 2s",ts.style.transition="opacity.5s 2s",ss.style.transition="opacity.5s 2.5s",rs.style.transition="opacity.5s 3s",ds.style.transition="all.2s,opacity.5s 3.5s",ns.innerHTML="",ns.append(hs,"×"+Ae.length),os.innerHTML="",os.append(as,"×"+$e.length),ys.innerHTML="",ys.append(ps,"×"+Ce.length),us.innerHTML="Score:"+t;let e=c("u");e.innerText=2*bt.length+" settlers";let s=c("u");s.innerText=ge.length+" animals",Je.innerHTML="",Je.append(e," and ",s," lived in your camp."),ts.innerHTML="",ts.append(ns," ",os," ",ys," ",us),Kt.style.transition="all.2s",Gt.style.transition="all.2s",Ft.style.transition="all.2s",Kt.style.opacity=0,Gt.style.opacity=0,Ft.style.opacity=0,Ct.style.opacity=0,setTimeout(()=>{ds.style.pointerEvents="",_e.style.pointerEvents="",_e.style.opacity=1,Ue.style.opacity=1,Xe.style.opacity=1,Ne.style.opacity=1,Je.style.opacity=1,ts.style.opacity=1,ss.style.opacity=1,rs.style.opacity=1,ds.style.opacity=1})},xs=()=>{_e.style.transition="opacity 1s 2s",Ue.style.transition="opacity 1s 1s",Xe.style.transition="opacity.3s.6s",Ne.style.transition="opacity.3s.5s",Je.style.transition="opacity.3s.4s",ts.style.transition="opacity.3s.3s",ss.style.transition="opacity.3s.2s",rs.style.transition="opacity.3s.1s",_e.style.pointerEvents="none",_e.style.opacity=0,Ue.style.opacity=0,Xe.style.opacity=0,Ne.style.opacity=0,Je.style.opacity=0,ts.style.opacity=0,ss.style.opacity=0,rs.style.opacity=0},fs=c(),gs=c(),bs=c(),ms=c(),As=c(),ws=c("button"),Ts=c(),Ms=c("button"),ks=(t,e)=>{fs.style.pointerEvents="",Ue.style.clipPath="polygon(0 0,calc(20dvw + 400px)0,calc(20dvw + 350px)100%,0 100%)",Ue.style.transition="clip-path 1s,opacity 2s",gs.style.transition="opacity.5s 1s",Ts.style.transition="opacity.5s 1.2s",As.style.transition="opacity.5s 1.4s",bs.style.transition="opacity.5s 1.6s",e&&(Ue.style.transition="opacity 0s",gs.style.transition="opacity.5s.4s",Ts.style.transition="opacity.5s.6s",As.style.transition="opacity.5s.8s",bs.style.transition="opacity.5s 1s"),bs.innerHTML=localStorage.getItem("Tiny Yurts")?"Highscore: "+localStorage.getItem("Tiny Yurts"):"Tip: Left click & drag to connect yurts to<br>farms, or delete paths with right click.";let s=ut(t.x-13-3+t.width/2,t.y-7-2+t.height/2),i=innerWidth/4;b.style.transition="",b.style.transform=`translate(${i}px,0)rotate(-17deg)scale(2)translate(${-s.x}px,${-s.y}px)`,Mt.style.zIndex=1,Ue.style.opacity=1,gs.style.opacity=1,bs.style.opacity=1,As.style.opacity=1,Ts.style.opacity=1},vs=0,$s=0,Es=0,Ls=!1;var Hs,Cs,zs,Bs;(()=>{let t=c("style");t.innerText=`body{position:relative;font-weight:700;font-family:system-ui;color:${o};margin:0;width:100vw;height:100vh;user-select:none}button{font-weight:700;font-family:system-ui;color:${o};border:none;padding:0 20px;font-size:32px;height:56px;border-radius:64px;background:${s};transition:all.2s,bottom.5s,right.5s,opacity 1s;box-shadow:0 0 0 1px ${y}}button:hover{box-shadow:4px 4px 0 1px ${y}}button:active{transform:scale(.95);box-shadow:0 0 0 1px ${y}}u,abbr{text-decoration-thickness:2px;text-underline-offset:2px}`,document.head.append(t),Mt.style.cssText="position:absolute;inset:0;display:grid;overflow:hidden;pointer-events:none",Mt.style.zIndex=1,document.body.append(Mt),Ct.style.cssText="display:flex;position:absolute;top:16px;left:16px",Ct.style.transition="opacity 1s",Ct.style.opacity=0,kt.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let e=At();kt.style.width=0,kt.style.opacity=0,e.style.width="48px",e.style.height="48px",kt.append(e,vt),$t.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let i=wt();$t.style.width=0,$t.style.opacity=0,i.style.width="48px",i.style.height="48px",$t.append(i,Et),Lt.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let r=Tt();Lt.style.width=0,Lt.style.opacity=0,r.style.width="48px",r.style.height="48px",Lt.append(r,Ht),Ct.append(kt,$t,Lt),zt.style.cssText="position:absolute;display:grid;top:16px;right:16px;place-items:center;border-radius:64px;background:"+o,zt.style.width="80px",zt.style.height="80px",zt.style.opacity=0,zt.style.transition="opacity 1s";let l=d("svg");l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-linecap","round"),l.setAttribute("viewBox","0 0 16 16"),l.style.width="80px",l.style.height="80px";for(let t=75;350>t;t+=25){let e=d("path");e.setAttribute("fill","none"),e.setAttribute("stroke","#eee"),e.setAttribute("transform-origin","center"),e.setAttribute("d","m8 14.5 0 0"),e.style.transform=`rotate(${t}grad)`,l.append(e)}Pt.setAttribute("stroke","#eee"),Pt.setAttribute("transform-origin","center"),Pt.setAttribute("d","m8 4 0 4"),l.append(Pt),Bt.style.cssText="position:absolute;bottom:8px;color:#eee",zt.append(l,Bt),It.style.cssText="position:absolute;display:grid;place-items:center;place-self:center;bottom:20px;border-radius:20px;background:"+o,500>document.body.scrollHeight?It.style.left="20px":It.style.left="",addEventListener("resize",()=>{500>document.body.scrollHeight?It.style.left="20px":It.style.left=""}),It.style.transform="rotate(-45deg)",It.style.opacity=0,It.style.transition="scale.4s cubic-bezier(.5,2,.5,1),opacity 1s",It.style.width="72px",It.style.height="72px",Qt.style.cssText=`position:absolute;display:grid;place-items:center;border-radius:64px;border:6px solid ${o};transform:translate(28px,28px)rotate(45deg);font-size:18px;background:#eee;transition:all.5s}`,Qt.style.width="28px",Qt.style.height="28px";let n=d("svg");n.setAttribute("viewBox","0 0 18 18"),n.style.width="54px",n.style.height="54px",n.style.transform="rotate(45deg)";let h=d("path");h.setAttribute("fill","none"),h.setAttribute("stroke","#eee"),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-width",2),h.setAttribute("d","M11 1h-3q-2 0-2 2t2 2h4q2 0 2 2t-2 2h-6q-2 0-2 2t2 2h4q2 0 2 2t-2 2h-3"),n.append(h),It.append(n,Qt);let p=d("svg");p.setAttribute("viewBox","0 0 16 16"),p.setAttribute("width",64),p.setAttribute("height",64),St.setAttribute("fill",o),St.setAttribute("stroke",o),St.setAttribute("stroke-width",2),St.setAttribute("stroke-linecap","round"),St.setAttribute("stroke-linejoin","round"),St.setAttribute("d","M6 6 6 10M10 6 10 8 10 10"),St.style.transition="all.2s",St.style.transformOrigin="center",St.style.transform="rotate(180deg)",p.append(St),Ot.style.cssText="position:absolute;padding:0;pointer-events:all",500>document.body.scrollHeight?(Ot.style.top="108px",Ot.style.right="20px"):(Ot.style.top="24px",Ot.style.right="112px"),addEventListener("resize",()=>{500>document.body.scrollHeight?(Ot.style.top="108px",Ot.style.right="20px"):(Ot.style.top="24px",Ot.style.right="112px")}),Ot.style.width="64px",Ot.style.height="64px",Ot.style.opacity=0,Ot.append(p),Zt.setAttribute("viewBox","0 0 16 16"),Zt.setAttribute("width",48),Zt.setAttribute("height",48),Rt.setAttribute("fill","none"),Rt.setAttribute("stroke",a),Rt.setAttribute("stroke-width",2),Rt.setAttribute("stroke-linecap","round"),Rt.setAttribute("stroke-linejoin","round"),Rt.style.transition="all.3s",Rt.style.transformOrigin="center",Zt.append(Rt),Gt.append(Zt),Gt.style.cssText="position:absolute;bottom:72px;right:16px;padding:0;pointer-events:all",Gt.style.width="48px",Gt.style.height="48px",Wt.style.cssText="position:absolute;display:flex;right:16px;align-items:center;color:#eee;font-size:16px;border-radius:64px;padding:0 64px 0 16px;white-space:pre;pointer-events:all;bottom:72px;background:"+o,Wt.style.height="48px",Wt.style.width="96px",Wt.style.transition="all.5s",Yt.setAttribute("viewBox","0 0 16 16"),Yt.setAttribute("width",48),Yt.setAttribute("height",48),qt.setAttribute("fill","none"),qt.setAttribute("stroke",o),qt.setAttribute("stroke-width",2),qt.setAttribute("stroke-linecap","round"),qt.setAttribute("stroke-linejoin","round"),qt.style.transition="all.3s",qt.style.transformOrigin="center",Yt.append(qt),Ft.append(Yt),Ft.style.cssText="position:absolute;bottom:16px;right:16px;padding:0;pointer-events:all",Ft.style.width="48px",Ft.style.height="48px",Dt.style.cssText="position:absolute;display:flex;right:16px;align-items:center;color:#eee;font-size:16px;border-radius:64px;padding:0 64px 0 16px;white-space:pre;pointer-events:all;bottom:16px;background:"+o,Dt.style.height="48px",Dt.style.width="96px",Dt.style.transition="all.5s",Ut.setAttribute("viewBox","0 0 16 16"),Ut.setAttribute("width",48),Ut.setAttribute("height",48),jt.setAttribute("fill","none"),jt.setAttribute("stroke",o),jt.setAttribute("stroke-width",2),jt.setAttribute("stroke-linecap","round"),jt.setAttribute("stroke-linejoin","round"),jt.style.transition="all.3s",jt.style.transformOrigin="center",jt.style.transform="rotate(0)",jt.setAttribute("d","M9 13 6 10 4 10 4 6 6 6 9 3"),Vt.setAttribute("fill","none"),Vt.setAttribute("stroke",o),Vt.setAttribute("stroke-width",2),Vt.setAttribute("stroke-linecap","round"),Vt.setAttribute("stroke-linejoin","round"),Vt.style.transition="all.3s",Vt.style.transformOrigin="center",Vt.style.transform="rotate(0)",Ut.append(jt,Vt),Kt.append(Ut),Kt.style.cssText="position:absolute;bottom:128px;right:16px;padding:0;pointer-events:all",Kt.style.width="48px",Kt.style.height="48px",_t.style.cssText="position:absolute;display:flex;right:16px;align-items:center;color:#eee;font-size:16px;border-radius:64px;padding:0 64px 0 16px;white-space:pre;pointer-events:all;bottom:128px;background:"+o,_t.style.height="48px",_t.style.width="96px",_t.style.transition="all.5s",Mt.append(Ct,zt,Ot,It,Wt,Gt,Dt,Ft,_t,Kt)})(),document.body.append(Ue),Ue.style.opacity=0,Hs=()=>{b.style.transition="transform 2s",b.style.transform=`rotate(0)scale(2)translate(0,${ut(0,14).y/-2}px)`,Kt.style.transition="all.2s,width.5s 4s,opacity.5s 3s",Gt.style.transition="all.2s,width.5s 4s,opacity.5s 3s",Ft.style.transition="all.2s,width.5s 4s,opacity.5s 3s",_t.style.transition="all.5s",Wt.style.transition="all.5s",Dt.style.transition="all.5s",Kt.style.opacity=1,Gt.style.opacity=1,Ft.style.opacity=1,kt.style.width=0,$t.style.width=0,Lt.style.width=0,kt.style.opacity=0,$t.style.opacity=0,Lt.style.opacity=0,vt.innerText=0,Et.innerText=0,Ht.innerText=0,Ot.style.opacity=0,ds.style.opacity=0,ds.style.pointerEvents="none",ds.style.transition="all.2s,opacity.5s",setTimeout(()=>{Le.length=0,ke.length=0,ft.length=0,Te.length=0,ge.length=0,Ae.length=0,$e.length=0,Ce.length=0,bt.length=0,rt.length=0,Jt.length=0,vs=1,Es=1,$s=1,yt.wt=18,Qt.innerText=yt.wt,U(),xs(),b.style.transform="",setTimeout(()=>{Ke(0),Is.start()},1e3)},1e3)},Cs=()=>{Ls=!1,b.style.transition="transform 2s",b.style.transform=`rotate(0)scale(2)translate(0,${ut(0,14).y/-2}px)`,yt.wt=18,kt.style.width=0,$t.style.width=0,Lt.style.width=0,kt.style.opacity=0,$t.style.opacity=0,Lt.style.opacity=0,vt.innerText=0,Et.innerText=0,Ht.innerText=0,ds.style.opacity=0,ds.style.pointerEvents="none",ds.style.transition="all.2s,opacity.5s",_t.style.transition="all.2s,width.5s 4s,opacity.5s 4s",Wt.style.transition="all.2s,width.5s 4s,opacity.5s 4s",Dt.style.transition="all.2s,width.5s 4s,opacity.5s 4s",Kt.style.transition="all.2s,width.5s 4s,opacity.5s 4s",Gt.style.transition="all.2s,width.5s 4s,opacity.5s 4s",Ft.style.transition="all.2s,width.5s 4s,opacity.5s 4s",_t.style.width="96px",Wt.style.width="96px",Dt.style.width="96px",_t.style.opacity=1,Wt.style.opacity=1,Dt.style.opacity=1,Kt.style.opacity=1,Gt.style.opacity=1,Ft.style.opacity=1,setTimeout(()=>{Le.length=0,ke.length=0,ft.length=0,Te.length=0,ge.length=0,Ae.length=0,$e.length=0,Ce.length=0,bt.length=0,rt.length=0,Jt.length=0,vs=0,$s=0,Es=0,U(),xs(),b.style.transform="",Qt.innerText=yt.wt,setTimeout(()=>{Ke(Es,Ls),ks(Te[0]),Is.start()},750)},500)},zs=()=>{je?(je=!1,b.style.transform=`rotate(-17deg)scale(2)translate(${-Ve.x}px,${-Ve.y}px)`,cs()):(je=!0,b.style.transform="",xs())},_e.style.cssText="position:absolute;inset:0;padding:10vmin;display:flex;flex-direction:column",_e.style.pointerEvents="none",_e.style.opacity=0,Xe.style.cssText="font-size:72px;opacity:0",Xe.innerText="Game Over",Ne.style.cssText="margin-top:48px;font-size:24px;opacity:0",Ne.innerText="Too few people could tend to this farm in time.",Je.style.cssText="margin-top:16px;font-size:24px;opacity:0",ts.style.cssText="display:flex;flex-wrap:wrap;gap:4px;margin-top:24px;font-size:24px",ts.style.opacity=0,500>document.body.scrollHeight?(ts.style.position="absolute",ts.style.bottom="10vmin",ts.style.right="10vmin"):(ts.style.position="",ts.style.bottom="",ts.style.right=""),addEventListener("resize",()=>{500>document.body.scrollHeight?(ts.style.position="absolute",ts.style.bottom="10vmin",ts.style.right="10vmin"):(ts.style.position="",ts.style.bottom="",ts.style.right="")}),ns.style.cssText="display:inline-flex;padding:6px 12px;line-height:24px;color:#fff;border-radius:64px;background:"+o,os.style.cssText="display:inline-flex;padding:6px 12px;line-height:24px;color:#fff;border-radius:64px;background:"+o,ys.style.cssText="display:inline-flex;padding:6px 12px;line-height:24px;color:#fff;border-radius:64px;background:"+o,us.style.cssText="display:inline-flex;padding:6px 12px;line-height:24px;color:#fff;border-radius:64px;background:"+o,hs.style.width="24px",hs.style.height="24px",as.style.width="24px",as.style.height="24px",ps.style.width="24px",ps.style.height="24px",rs.style.opacity=0,ss.style.opacity=0,rs.append(ls),ss.append(is),is.innerText="Restart",ls.innerText="Menu",is.addEventListener("click",Hs),ls.addEventListener("click",Cs),es.append(ss,rs),es.style.cssText="gap:16px;margin-top:48px",500>document.body.scrollHeight?(es.style.display="flex",es.style.position="absolute",es.style.bottom="10vmin",es.style.left="10vmin"):(es.style.display="grid",es.style.position="",es.style.bottom="",es.style.left=""),addEventListener("resize",()=>{500>document.body.scrollHeight?(es.style.display="flex",es.style.position="absolute",es.style.bottom="10vmin",es.style.left="10vmin"):(es.style.display="grid",es.style.position="",es.style.bottom="",es.style.left="")}),ds.style.cssText="position:absolute;top:10vmin;right:10vmin",ds.style.pointerEvents="none",ds.style.opacity=0,ds.innerText="Overlay On/Off",ds.addEventListener("click",zs),_e.append(Xe,Ne,Je,ts,es),document.body.append(_e,ds),x.addEventListener("pointerdown",()=>{ne()}),x.addEventListener("pointermove",t=>{1==t.buttons&&(ne(),le())}),x.addEventListener("pointerup",()=>{he()}),x.addEventListener("contextmenu",t=>t.preventDefault()),S.addEventListener("pointerdown",t=>{t.stopPropagation();let e=S.getBoundingClientRect(),{x:s,y:i}=pt(t.x-e.left,t.y-e.top);if(1!=t.buttons||ie.Ft)(2==t.buttons||ie.Ft)&&(ne(),Xt(s,i));else{re();let t=pe(s,i),e=ue(s,i);if(t&&!e)return;ae=!0,oe={x:s,y:i};let r=ye(oe.x,oe.y);r?(r.qt(),S.style.cursor="grabbing"):(fe.setAttribute("d","M0 0 0 0"),xe.setAttribute("transform",`translate(${ce(s)} ${ce(i)})`),fe.style.opacity=1,fe.style.scale=1.3,fe.style.transition="all.2s,scale.4s cubic-bezier(.5,2,.5,1)")}}),S.addEventListener("pointermove",t=>{t.stopPropagation();let e=S.getBoundingClientRect(),{x:s,y:i}=pt(t.x-e.left,t.y-e.top);if(2==t.buttons||1==t.buttons&&ie.Ft)return ne(),void Xt(s,i);let r=ye(oe.x,oe.y),l=ye(s,i),n=pe(s,i),h=ue(s,i);if(n&&!h)return void(S.style.cursor="not-allowed");if(l&&1!=t.buttons?S.style.cursor="grab":1==t.buttons&&(r&&l||r&&!l)?S.style.cursor="grabbing":de(oe.x,oe.y,s,i)||(S.style.cursor="cell"),1!=t.buttons)return;if(he(),re(),!ae)return;let o=s-oe.x,a=i-oe.y,y=new T({x:ce(oe.x),y:ce(oe.y)}),p=`${ce(o/2-.5)} ${ce(a/2-.5)}`;if(xe.setAttribute("transform",`translate(${y.x} ${y.y})`),fe.setAttribute("d","M0 0 "+p),fe.style.opacity=1,fe.style.scale=1.3,0==o&&0==a||Math.abs(o)>1||Math.abs(a)>1)return void fe.setAttribute("d","M0 0 0 0");if(fe.style.transition="all.2s,scale.4s cubic-bezier(.5,2,.5,1)",fe.style.scale=1,!(({De:t,from:e,to:s})=>{let i=S.getBoundingClientRect().width/20,r=t.x-i*(e.x-3+.5),l=t.y-i*(e.y-2+.5),n=0>s.y-e.y,h=s.x-e.x>0,o=s.y-e.y>0,a=0>s.x-e.x,y=s.x==e.x,p=s.y==e.y;return n&&y?4-i>l:n&&h?r-l>2*i-4:p&&h?r>i-4:o&&h?r+l>2*i-4:o&&y?l>i-4:o&&a?2*-i+4>r+-l:p&&a?4-i>r:!(!n||!a)&&2*-i+4>r+l})({De:{x:t.x-e.left,y:t.y-e.top},from:{x:oe.x,y:oe.y},to:{x:s,y:i}}))return;if(r&&!l)return r.Yt(s,i),oe={x:s,y:i},J(),r.Nt(),void(fe.style.transition="");if(l&&!r)return l.Yt(oe.x,oe.y),oe={},ae=!1,J(),void l.Nt();if(r&&l)return;if(0>=yt.wt)return It.style.scale=1.1,Qt.innerText="!",E&&(setTimeout(()=>X(8,.5,.5,40,.1,1e3,100),100),setTimeout(()=>X(5,.5,.5,20,.1,1e3,100),250)),setTimeout(()=>{It.style.scale=1,Qt.innerText=yt.wt},300),fe.style.opacity=0,oe={},void(ae=!1);if(de(oe.x,oe.y,s,i))return void(S.style.cursor="not-allowed");J();let u=new at({lt:[{x:oe.x,y:oe.y},{x:s,y:i}]});yt.wt--,Qt.innerText=yt.wt,ot({Ot:[{x:oe.x,y:oe.y},{x:s,y:i}],Ae:u}),oe={x:s,y:i},fe.style.transition=""}),S.addEventListener("pointerup",t=>{t.stopPropagation();let e=S.getBoundingClientRect(),{x:s,y:i}=pt(t.x-e.left,t.y-e.top),r=ye(oe.x,oe.y),l=ye(s,i),n=pe(s,i),h=ue(s,i);S.style.cursor=n&&!h?"not-allowed":l?"grab":"cell",le(),he(),fe.style.opacity=0,fe.style.scale=0,r&&r.Nt(),oe={},ae=!1}),Bs=()=>{b.style.transition="transform 2s",b.style.transform="",Qt.innerText=yt.wt,fs.style.pointerEvents="none",Mt.style.zIndex="",Ue.style.transition="opacity 1s.6s",gs.style.transition="opacity.3s.4s",Ts.style.transition="opacity.3s.3s",As.style.transition="opacity.3s.2s",bs.style.transition="opacity.3s.1s",Ue.style.opacity=0,Ts.style.opacity=0,As.style.opacity=0,Ts.style.transition=0,bs.style.opacity=0,gs.style.opacity=0,_t.style.opacity=0,Wt.style.opacity=0,Dt.style.opacity=0,_t.style.width=0,Wt.style.width=0,Dt.style.width=0,Ls=!0,vs=Es=1,_t.style.transition="all.5s",Wt.style.transition="all.5s",Dt.style.transition="all.5s",Kt.style.opacity=1,Gt.style.opacity=1,Ft.style.opacity=1},fs.style.cssText="position:absolute;inset:0;padding:10vmin;display:flex;flex-direction:column",fs.style.pointerEvents="none",Ue.style.clipPath="polygon(0 0, calc(20dvw + 400px) 0, calc(20dvw + 350px) 100%, 0 100%)",gs.style.cssText="font-size:72px;opacity:0",gs.innerText="Tiny Yurts",bs.style.cssText="margin:auto 4px 0;opacity:0",localStorage.getItem("Tiny Yurts")&&(bs.innerText="Highscore: "+localStorage.getItem("Tiny Yurts")),ws.innerText="Start",ws.addEventListener("click",()=>{_(),Bs()}),As.style.opacity=0,Ms.innerText="Fullscreen",Ms.addEventListener("click",()=>{_(),document.fullscreenElement?document.exitFullscreen():(document.documentElement.requestFullscreen(),screen.orientation.lock("landscape").catch(()=>{}))}),Ts.style.opacity=0,ms.style.cssText="display:grid;gap:16px;margin-top:48px",As.append(ws),Ts.append(Ms),ms.append(Ts,As),fs.append(gs,ms,bs),document.body.append(fs),Ke(Es,2500),ks(Te[0],!0);let Is=function({update:t,g:e}){let s,i,r,l,n,h=0,o=1e3/60;function a(){for(i=requestAnimationFrame(a),r=performance.now(),l=r-s,s=r,h+=l;h>=o;)n.update(.016666666666666666),h-=o;n.g()}return n={update:t,g:e,Pe:!0,start(){s=performance.now(),this.Pe=!1,requestAnimationFrame(a)},stop(){this.Pe=!0,cancelAnimationFrame(i)}},n}({blur:!0,update(){if(Ls){if(Ke(Es,Ls),120==Es&&(Ct.style.opacity=1),150==Es&&(It.style.opacity=1),180==Es&&(zt.style.opacity=1),210==Es&&(Ot.style.opacity=1),Es%8640==0&&99>yt.wt){It.style.scale=1.1,Qt.innerText="+9",setTimeout(()=>Qt.innerText=yt.wt,1300);for(let t=0;9>t;t++)setTimeout(()=>{99>yt.wt&&(yt.wt++,Qt.innerText=yt.wt)},1300+100*t);setTimeout(()=>{It.style.scale=1},300)}switch(Pt.style.transform=`rotate(${Es/2}deg)`,Math.floor(Es/720%12)){case 0:Bt.innerText="Jan";break;case 1:Bt.innerText="Feb";break;case 2:Bt.innerText="Mar";break;case 3:Bt.innerText="Apr";break;case 4:Bt.innerText="May";break;case 5:Bt.innerText="Jun";break;case 6:Bt.innerText="Jul";break;case 7:Bt.innerText="Aug";break;case 8:Bt.innerText="Sep";break;case 9:Bt.innerText="Oct";break;case 10:Bt.innerText="Nov";break;case 11:Bt.innerText="Dec"}}switch(vs++,Es++,vs%4){case 0:dt=(()=>{let t=[];for(let e=0;26>e;e++)for(let s=0;14>s;s++)t.push({x:e,y:s,bt:[]});return rt.forEach(e=>{t&&(t.find(t=>t.x==e.lt[0].x&&t.y==e.lt[0].y).bt.push({x:e.lt[1].x,y:e.lt[1].y}),t.find(t=>t.x==e.lt[1].x&&t.y==e.lt[1].y).bt.push({x:e.lt[0].x,y:e.lt[0].y}))}),t})();break;case 1:ke.forEach(t=>t.update(Ls,Es));break;case 2:Le.forEach(t=>t.update(Ls,Es));break;case 3:Be.forEach(t=>t.update(Ls,Es))}60>vs||(vs=0),Te.forEach(t=>{t.p||(Is.stop(),Ve=ut(t.x-13-3+t.width/2,t.y-7-2+t.height/2),b.style.transition="transform 2s ease-out.5s",b.style.transform=`rotate(-17deg)scale(2)translate(${-Ve.x}px,${-Ve.y}px)`,kt.style.opacity=0,$t.style.opacity=0,Lt.style.opacity=0,zt.style.opacity=0,It.style.opacity=0,Ot.style.opacity=0,ie.H=!1,ie.Qe=!1,he(),cs())}),ft.forEach(t=>t.update())},g(){switch($s++,$s%4){case 0:break;case 1:ke.forEach(t=>t.g());break;case 2:Le.forEach(t=>t.g());break;case 3:Be.forEach(t=>t.g())}60>$s||($s=0),ft.forEach(t=>t.g())}}),Qs=()=>{Is.Pe?(Is.start(),St.setAttribute("d","M6 6 6 10M10 6 10 8 10 10"),St.style.transform="rotate(180deg)"):(Is.stop(),St.setAttribute("d","M7 6 7 10M7 6 10 8 7 10"),St.style.transform="rotate(0)")};V.H?(Vt.setAttribute("d","M10 6Q12 8 10 10M10 6Q12 8 10 10"),Vt.style.stroke=o,_t.innerHTML="Sound: <u>On"):(Vt.setAttribute("d","M11 7Q10 8 9 9M9 7Q10 8 11 9"),Vt.style.stroke=a,_t.innerHTML="Sound: <u>Off"),Ot.addEventListener("click",Qs),Gt.addEventListener("click",()=>{_(),ie.Ft?(ie.Ft=!1,he(),Wt.innerHTML='Delete: <abbr title="Right Mouse Button">RMB'):(ne(),ie.Ft=!0,Wt.innerHTML="Delete: <u>On"),X(27,1,1,1,.3,1e3,1e3)}),Ft.addEventListener("click",()=>{_(),se?(se=!1,le(),localStorage.setItem("Tiny Yurtsg",!1),Dt.innerHTML="Grid: <u>Auto"):(re(),localStorage.setItem("Tiny Yurtsg",!0),se=!0,Dt.innerHTML="Grid: <u>On"),X(25,1,1,1,.3,1e3,1e3)}),Kt.addEventListener("click",()=>{_(),V.H?(V.H=!1,localStorage.setItem("Tiny Yurtss",!1),Vt.setAttribute("d","M11 7Q10 8 9 9M9 7Q10 8 11 9"),Vt.style.stroke=a,_t.innerHTML="Sound: <u>Off"):(V.H=!0,localStorage.setItem("Tiny Yurtss",!0),Vt.setAttribute("d","M10 6Q12 8 10 10M10 6Q12 8 10 10"),Vt.style.stroke=o,_t.innerHTML="Sound: <u>On"),X(30,1,1,1,.3,1e3,1e3)}),_t.addEventListener("click",()=>Kt.click()),Wt.addEventListener("click",()=>Gt.click()),Dt.addEventListener("click",()=>Ft.click()),document.addEventListener("keypress",t=>{" "==t.key&&(t.ne!=Ot&&Qs(),Ot.style.transform="scale(.95)",setTimeout(()=>Ot.style.transform="",150))}),setTimeout(()=>{Is.start()},1e3)</script>