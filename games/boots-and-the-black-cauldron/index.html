<tityle>Boots and the Black Cauldron - js13kGames 2025</tityle><body><script>const aa=Math.PI;function e(t,i=0,e=1){return t<i?i:e<t?e:t}function ba(t,i,s){return (s-=i)?e((t-i)/s):0}function ca(t,i,e,s=k()){return 2*Math.abs(t.x-e.x)<i.x+s.x&&2*Math.abs(t.y-e.y)<i.y+s.y}function ia(t){return (t/60|0)+":"+(t%60<10?"0":"")+(t%60|0)}function ja(t=1,i=0){return i+Math.random()*(t-i)}function r(t,i=0){return Math.floor(ja(t,i))}function k(i=0,e){return "number"==typeof i?new t(i,null==e?i:e):new t(i.x,i.y)}function ka(i=0){var e=new t;return e.x=.001*Math.sin(i),e.y=.001*Math.cos(i),e}function la(t){return t.x**2+t.y**2}function ma(t,i){return (t.x-i.x)**2+(t.y-i.y)**2}function na(t,i=1){var e=t.length();return i<e?t.scale(i/e):t}class t{constructor(t=0,i=0){this.x=t,this.y=i}set(t=0,i=0){return this.x=t,this.y=i,this}C(){return new t(this.x,this.y)}add(i){return new t(this.x+i.x,this.y+i.y)}A(i){return new t(this.x-i.x,this.y-i.y)}multiply(i){return new t(this.x*i.x,this.y*i.y)}$(i){return new t(this.x/i.x,this.y/i.y)}scale(i){return new t(this.x*i,this.y*i)}length(){return la(this)**.5}normalize(i=1){var e=this.length();return e?this.scale(i/e):new t(0,i)}angle(){return Math.atan2(this.x,this.y)}rotate(i){var e=Math.cos(-i);return i=Math.sin(-i),new t(this.x*e-this.y*i,this.x*i+this.y*e)}setDirection(t,i=1){return k((t=(t%4+4)%4)%2?t-1?-i:i:0,t%2?0:t?-i:i)}direction(){return Math.abs(this.x)>Math.abs(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new t(Math.floor(this.x),Math.floor(this.y))}toString(){}}function ra(t){return (255*e(t.r)|0)+(255*e(t.l)<<8)+(255*e(t.b)<<16)+(255*e(t.a)<<24)}class u{constructor(t=1,i=1,e=1,s=1){this.r=t,this.l=i,this.b=e,this.a=s}set(t=1,i=1,e=1,s=1){return this.r=t,this.l=i,this.b=e,this.a=s,this}C(){return new u(this.r,this.l,this.b,this.a)}add(t){return new u(this.r+t.r,this.l+t.l,this.b+t.b,this.a+t.a)}A(t){return new u(this.r-t.r,this.l-t.l,this.b-t.b,this.a-t.a)}multiply(t){return new u(this.r*t.r,this.l*t.l,this.b*t.b,this.a*t.a)}$(t){return new u(this.r/t.r,this.l/t.l,this.b/t.b,this.a/t.a)}scale(t,i=t){return new u(this.r*t,this.l*t,this.b*t,this.a*i)}toString(t=!0){var i=t=>((t=255*e(t)|0)<16?"0":"")+t.toString(16);return "#"+i(this.r)+i(this.l)+i(this.b)+(t?i(this.a):"")}}const sa=new u(0,0,0),ta=new u(1,0,0),ua=new u(.5,0,1);function va(t){t.time=void 0}class za{constructor(t){this.time=null==t?void 0:w+t,this.setTime=t}set(t=0){this.time=w+t,this.setTime=t}active(){return w<this.time}get(){return null!=this.time?w-this.time:0}toString(){}valueOf(){return this.get()}}let Aa=k(),Ba=k(1920,1080),Fa=k(),Ga=k(16),Ha=1;function Ia(t){var i,e=t.parent;e&&(i=e.s?-1:1,t.g=t.Ka.multiply(k(i,1)).rotate(e.angle).add(e.g),t.angle=i*t.Ja+e.angle);for(const s of t.children)Ia(s)}function A(t){if(!t.J){t.J=1,t.parent&&t.parent.removeChild(t);for(const i of t.children)A(i,i.parent=0)}}function B(t,i=!0,e=!0,s=!0){t.Z=i,t.aa=e,t.ja=s}class Ja{constructor(t=k(),i=k(1),e){var s=new u;this.g=t.C(),this.size=i,this.ma=void 0,this.Pa=e,this.angle=0,this.color=s,this.za=void 0,this.s=!1,this.j=1,this.la=Ha,this.Aa=1,this.S=0,this.Ea=.8,this.Ga=1,this.ra=0,this.h=k(),this.ha=0,this.children=[],this.Ca=!0,this.parent=void 0,this.Ka=k(),this.Ja=0,this.aa=this.Z=this.ja=!1,Ka.push(this)}update(){var t;if(!this.parent&&(this.Ca?(this.h.x=e(this.h.x,-1,1),this.h.y=e(this.h.y,-1,1)):1<(t=la(this.h))&&(this.h.x*=t=1/t**.5,this.h.y*=t),t=this.g.C(),this.h.x*=this.la,this.h.y*=this.la,this.j&&(this.h.y+=0*this.Ga),this.g.x+=this.h.x,this.g.y+=this.h.y,this.angle+=this.ha*=this.Aa,this.j)){var i,s,a,n,h,r,c=this.h.y<0;if(this.D&&(r=this.D.h?this.D.h.x:0,this.h.x=r+(this.h.x-r)*this.Ea,this.D=0),this.Z)for(var o of La)!this.aa&&!o.aa||o.J||o.parent||o==this||ca(this.g,this.size,o.g,o.size)&&(r=this.P(o),i=o.P(this),r)&&i&&(ca(t,this.size,o.g,o.size)?(r=(i=(r=t.A(o.g)).length())<.01?ka(ja(2*aa)):r.scale(.001/i),this.h=this.h.add(r),o.j&&(o.h=o.h.A(r))):(i=this.size.add(o.size),s=2*(t.y-o.g.y)>i.y+0,a=2*Math.abs(t.y-o.g.y)<i.y,n=2*Math.abs(t.x-o.g.x)<i.x,r=Math.max(this.S,o.S),!s&&!n&&a||(this.g.y=o.g.y+(i.y/2+.001)*Math.sign(t.y-o.g.y),o.D&&c||!o.j?(c&&(this.D=o),this.h.y*=-r):o.j&&(n=(this.j*this.h.y+o.j*o.h.y)/(this.j+o.j),h=o.h.y*(o.j-this.j)/(this.j+o.j)+2*this.h.y*this.j/(this.j+o.j),this.h.y=n+e(r)*(this.h.y*(this.j-o.j)/(this.j+o.j)+2*o.h.y*o.j/(this.j+o.j)-n),o.h.y=n+e(r)*(h-n))),!s&&a&&(this.g.x=o.g.x+(i.x/2+.001)*Math.sign(t.x-o.g.x),o.j?(i=(this.j*this.h.x+o.j*o.h.x)/(this.j+o.j),s=o.h.x*(o.j-this.j)/(this.j+o.j)+2*this.h.x*this.j/(this.j+o.j),this.h.x=i+e(r)*(this.h.x*(this.j-o.j)/(this.j+o.j)+2*o.h.x*o.j/(this.j+o.j)-i),o.h.x=i+e(r)*(s-i)):this.h.x*=-r)));this.ja&&Pa(this.g,this.size,this)&&!Pa(t,this.size,this)&&(o=Pa(k(this.g.x,t.y),this.size,this),!Pa(k(t.x,this.g.y),this.size,this)&&o||(this.h.y*=-this.S,(this.D=c)?this.g.y=(t.y-this.size.y/2|0)+this.size.y/2+1e-4:this.g.y=t.y),o)&&(this.g.x=t.x,this.h.x*=-this.S)}}fa(){Ra(this.g,this.ma||this.size,this.Pa,this.color,this.angle,this.s,this.za)}P(){return !0}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}let C,Sa,Ta,Ua,D=k(),Va=[];class F{constructor(t=k(),i=Ga,e=0,s=0){this.g=t.C(),this.size=i.C(),this.ta=e,this.padding=s}offset(t){return new F(this.g.add(t),this.size,this.ta)}frame(t){return this.offset(k(t*(this.size.x+2*this.padding),0))}}class Wa{constructor(t){this.image=t,this.size=k(t.width,t.height);var i=G.createTexture();G.bindTexture(3553,i),t&&t.width?G.texImage2D(3553,0,6408,6408,5121,t):(t=new Uint8Array([255,255,255,255]),G.texImage2D(3553,0,6408,1,1,0,6408,5121,t)),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),this.na=i}}function Ra(t,i=k(1),e,s=new u,a=0,n,h=new u(0,0,0,0)){var r,c,o,l,b=e&&Va[e.ta];b?(r=k(1).$(b.size),c=e.g.x*r.x,o=e.g.y*r.y,l=e.size.x*r.x,e=e.size.y*r.y,r=r.scale(0),(b=b.na)!=Xa&&(Ya(),G.bindTexture(3553,Xa=b)),Za(t.x,t.y,n?-i.x:i.x,i.y,a,c+r.x,o+r.y,c-r.x+l,o-r.y+e,ra(s),ra(h))):Za(t.x,t.y,i.x,i.y,a,0,0,0,0,0,ra(s))}function $a(t){Ra(Aa,I,void 0,t,void 0,!1)}function J(t,i,e=1,s=new u){var a=new u(0,0,0),n=Ua;n.fillStyle=s.toString(),n.lineWidth=0,n.strokeStyle=a.toString(),n.textAlign="center",n.font=e+"px arial",n.textBaseline="middle",n.lineJoin="round",i=i.C(),t=(t+"").split("\n"),i.y-=(t.length-1)*e/2,t.forEach(t=>{n.fillText(t,i.x,i.y,void 0),i.y+=e})}function ab(t,i=0){return K[i]&&!!(1&K[i][t])}function L(t,i=0){return K[i]&&!!(2&K[i][t])}let bb=!1;function cb(t,i=0){return ab(t,i+1)}let K=[[]];function db(){for(const t of K)for(const i in t)t[i]&=1}function eb(){function i(t){return "KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t}onkeydown=t=>{t.repeat||(bb=!1,K[0][t.code]=3,K[0][i(t.code)]=3)},onkeyup=t=>{K[0][t.code]=4,K[0][i(t.code)]=4},onmousedown=t=>{O&&"running"!=O.state&&O.resume(),bb=!1,K[0][t.button]=3,fb(t),t.button&&t.preventDefault()},onmouseup=t=>K[0][t.button]=2&K[0][t.button]|4,onmousemove=t=>fb(t),onwheel=t=>t.ctrlKey?0:Math.sign(t.deltaY),oncontextmenu=()=>!1,onblur=()=>{K=[[]]},gb&&ib()}function fb(t){var i;return C?(i=C.getBoundingClientRect(),k(C.width,C.height).multiply(k(ba(t.x,i.left,i.right),ba(t.y,i.top,i.bottom)))):k()}const jb=[];function kb(){var i,e;if(navigator&&navigator.getGamepads&&document.hasFocus()){var s=navigator.getGamepads();for(let t=s.length;t--;){var a=s[t],n=K[t+1]||(K[t+1]=[]),h=jb[t]||(jb[t]=[]);if(a){for(var r=0;r<a.axes.length-1;r+=2)h[r>>1]=(i=k(a.axes[r],a.axes[r+1]),void 0,na(k((e=t=>.3<t?ba(t,.3,.8):t<-.3?-ba(-t,.3,.8):0)(i.x),e(-i.y))));for(r=a.buttons.length;r--;){var c=a.buttons[r],o=cb(r,t);n[r]=c.pressed?o?1:3:o?4:0,bb||=!t&&c.pressed}la(a=k((cb(15,t)&&1)-(cb(14,t)&&1),(cb(12,t)&&1)-(cb(13,t)&&1)))&&(h[0]=na(a))}}}}const gb=void 0!==window.ontouchstart;function ib(){function i(t){O&&"running"!=O.state&&O.resume();var i=t.touches.length;return i?(fb(k(t.touches[0].clientX,t.touches[0].clientY)),e?bb=!1:K[0][0]=3):e&&(K[0][0]=2&K[0][0]|4),e=i,document.hasFocus()&&t.preventDefault(),!0}document.addEventListener("touchstart",t=>i(t),{passive:!1}),document.addEventListener("touchmove",t=>i(t),{passive:!1}),document.addEventListener("touchend",t=>i(t),{passive:!1}),onmousedown=onmouseup=()=>0;let e}let O=new AudioContext,lb;class mb{constructor(t){this.Na=40,this.Oa=.7,this.W=0,t&&(this.W=null!=t[1]?t[1]:.05,t[1]=0,this.sa=[nb(...t)],this.sampleRate=44100)}play(i,e=1,s=1,a=1,n=!1){if(this.sa){var h;if(i){if(h=this.Na){var r=ma(Aa,i);if(h*h<r)return ;e*=ba(r**.5,h,h*this.Oa)}h=2*new t(32*(i.x-Aa.x)+D.x/2-.5,-32*(i.y-Aa.y)+D.y/2-.5).x/C.width-1}return i=s+s*this.W*a*ja(-1,1),this.Fa=O.createGain(),this.source=ob(this.sa,e,i,h,n,this.sampleRate,this.Fa)}}stop(){this.source&&this.source.stop(),this.source=void 0}}function ob(t,i=1,s=1,a=0,n=!1,h=44100,r){const c=O.createBuffer(t.length,t[0].length,h),o=O.createBufferSource();return t.forEach((t,i)=>c.getChannelData(i).set(t)),o.buffer=c,o.playbackRate.value=s,o.loop=n,(r=r||O.createGain()).gain.value=i,r.connect(lb),t=new StereoPannerNode(O,{pan:e(a,-1,1)}),o.connect(t).connect(r),"running"!=O.state?O.resume().then(()=>o.start()):o.start(),o}function nb(t=1,i=.05,s=220,a=0,n=0,h=.1,r=0,c=1,o=0,u=0,l=0,b=0,f=0,d=0,m=0,y=0,g=0,p=1,v=0,w=0,x=0){var k=2*aa,U=o*=500*k/44100/44100;i=s*=ja(1+i,1-i)*k/44100;let S=[],j=0,O=0,A=0,I=1,V=0,F=0,M=0;var z=k*Math.abs(x)*2/44100,C=Math.cos(z),G=1+(R=Math.sin(z)/2/2),z=-2*C/G,R=(1-R)/G;let L=(1+Math.sign(x)*C)/2/G,T=-(Math.sign(x)+C)/G,B=0,D=0,J=0,K=0;for(u*=500*k/44100**3,m*=k/44100,l*=k/44100,b*=44100,f=44100*f|0,G=(a=44100*a+9)+(v*=44100)+(n*=44100)+(h*=44100)+(g*=44100)|0;A<G;S[A++]=M*t)++F%(100*y|0)||(M=r?1<r?2<r?3<r?Math.sin(j**3):e(Math.tan(j),1,-1):1-(2*j/k%2+2)%2:1-4*Math.abs(Math.round(j/k)-j/k):Math.sin(j),M=(f?1-w+w*Math.sin(k*A/f):1)*Math.sign(M)*Math.abs(M)**c*(A<a?A/a:A<a+v?1-(A-a)/v*(1-p):A<a+v+n?p:A<G-g?(G-A-g)/h*p:0),M=g?M/2+(g>A?0:(A<G-g?1:(G-A)/g)*S[A-g|0]/2/t):M,x&&(M=K=L*B+T*(B=D)+L*(D=M)-R*J-z*(J=K))),C=(s+=o+=u)*Math.cos(m*O++),j+=C+C*d*Math.sin(A**5),I&&++I>b&&(s+=l,i+=l,I=0),!f||++V%f||(s=i,o=U,I=I||1);return S}let pb=[],qb=k();function Pa(t,i=k(),e){var s=Math.max(t.x-i.x/2|0,0),a=Math.max(t.y-i.y/2|0,0),n=Math.min(t.x+i.x/2,qb.x);for(t=Math.min(t.y+i.y/2,qb.y);a<t;++a)for(i=s;i<n;++i){var h=pb[a*qb.x+i];if(h&&(!e||0<h))return !0}return !1}let rb,G,sb,Xa,tb,ub,Q,vb,wb,Ab,Bb;function Cb(){rb=document.createElement("canvas"),G=rb.getContext("webgl2",{antialias:!0}),C.parentElement.appendChild(rb);var t=G.createProgram();G.attachShader(t,Db("#version 300 es\nprecision highp float;uniform mat4 m;in vec2 g;in vec4 p,u,c,a;in float r;out vec2 v;out vec4 d,e;void main(){vec2 s=(g-.5)*p.zw;gl_Position=m*vec4(p.xy+s*cos(r)-vec2(-s.y,s)*sin(r),1,1);v=mix(u.xw,u.zy,g);d=c;e=a;}",35633)),G.attachShader(t,Db("#version 300 es\nprecision highp float;uniform sampler2D s;in vec2 v;in vec4 d,e;out vec4 c;void main(){c=texture(s,v)*d+e;}",35632)),G.linkProgram(t),sb=t,t=new ArrayBuffer(44e4),Q=new Float32Array(t),vb=new Uint32Array(t),tb=G.createBuffer(),ub=G.createBuffer(),t=new Float32Array([wb=0,0,1,0,0,1,1,1]),G.bindBuffer(34962,ub),G.bufferData(34962,t,35044)}function Gb(){G.viewport(0,0,rb.width=C.width,rb.height=C.height),G.clear(16384),G.useProgram(sb),G.activeTexture(33984),Va[0]&&G.bindTexture(3553,Xa=Va[0].na);let r=Ab=Bb=0;var t=(t,i,e,s)=>{t=G.getAttribLocation(sb,t);var a=e&&44,n=e&&1,h=1==e;G.enableVertexAttribArray(t),G.vertexAttribPointer(t,s,i,h,a,r),G.vertexAttribDivisor(t,n),r+=s*e},i=(G.bindBuffer(34962,ub),t("g",5126,0,2),G.bindBuffer(34962,tb),G.bufferData(34962,44e4,35048),t("p",5126,4,4),t("u",5126,4,4),t("c",5121,1,4),t("a",5121,1,4),t("r",5126,4,1),t=k(64).$(D),k(-1).A(Aa.multiply(t)));G.uniformMatrix4fv(G.getUniformLocation(sb,"m"),!1,[t.x,0,0,0,0,t.y,0,0,1,1,1,1,i.x,i.y,0,0])}function Db(t,i){return i=G.createShader(i),G.shaderSource(i,t),G.compileShader(i),i}function Ya(){var t;wb&&(t=Bb?1:771,G.blendFuncSeparate(770,t,1,t),G.enable(3042),G.bufferSubData(34962,0,Q),G.drawArraysInstanced(5,0,4,wb),wb=0,Bb=Ab)}function Za(t,i,e,s,a,n,h,r,c,o,u=0){(1e4<=wb||Bb!=Ab)&&Ya();var l=11*wb++;Q[l++]=t,Q[l++]=i,Q[l++]=e,Q[l++]=s,Q[l++]=n,Q[l++]=h,Q[l++]=r,Q[l++]=c,vb[l++]=o,vb[l++]=u,Q[+l]=a}let Ka=[],La=[],Hb=0,w=0,Ib=0,Jb=0;const Kb=[],Lb=[];function Mb(){La=Ka.filter(t=>t.Z);for(const t of Ka)t.parent||(function t(i){if(!i.J){i.update();for(const e of i.children)t(e)}}(t),Ia(t));Ka=Ka.filter(t=>!t.J)}function Nb(){function tt(t){return Math.sin(6.283184*t)}var it,et,st,at,nt,ht=[tt,function (t){return t%1<.5?1:-1},function (t){return t%1*2-1},function (t){return (t=t%1*4)<2?t-1:3-t}];this.M=function (t){et=(it=t).K,st=0,at=t.G*t.F*(et+1)*2,nt=new Int32Array(at)},this.L=function (){for(var t,i,e=new Int32Array(at),s=it.O[st],a=it.G,n=it.F,h=0,r=0,c=!1,o=[],u=0;u<=et;++u)for(var l=s.p[u],b=0;b<n;++b){(v=l?s.c[l-1].f[b]:0)&&(s.i[v-1]=s.c[l-1].f[b+n]||0,v<17)&&(o=[]);for(var f=ht[s.i[16]],d=s.i[17]/512,K=2**(s.i[18]-9)/a,U=s.i[19],m=s.i[20],O=135.82764118168*s.i[21]/44100,V=1-s.i[22]/255,y=1e-5*s.i[23],F=s.i[24]/32,T=s.i[25]/512,N=6.283184*2**(s.i[26]-9)/a,g=s.i[27]/255,p=s.i[28]*a&-2,v=(u*n+b)*a,w=0;w<4;++w)if(t=l?s.c[l-1].n[b+w*n]:0){if(!o[t]){for(var x,k=o,S=t,j=i=void 0,A=s,I=t,P=ht[A.i[0]],Y=A.i[1],Z=A.i[3]/32,Q=ht[A.i[4]],H=A.i[5],W=A.i[8]/32,M=A.i[9],z=A.i[10]*A.i[10]*4,C=A.i[11]*A.i[11]*4,G=A.i[12]*A.i[12]*4,E=1/G,$=-A.i[13]/16,R=A.i[14],X=a*2**(2-A.i[15]),L=new Int32Array(z+C+G),q=0,_=0,B=x=0;x<z+C+G;x++,B++){0<=B&&(B-=X,j=.003959503758*2**((I+(15&(R=R>>8|(255&R)<<4))+A.i[2]-128-128)/12),i=.003959503758*2**((I+(15&R)+A.i[6]-128-128)/12)*(1+8e-4*A.i[7]));var D=1,J=(x<z?D=x/z:z+C<=x&&(D=(1-(D=(x-z-C)*E))*3**($*D)),P(q+=j*D**Z)*Y);J+=Q(_+=i*D**W)*H,M&&(J+=(2*Math.random()-1)*M),L[x]=80*J*D|0}k[S]=L}for(S=o[t],t=0,k=2*v;t<S.length;t++,k+=2)e[k]+=S[t]}for(t=0;t<a;t++)(k=e[w=2*(v+t)])||c?(c=O,U&&(c*=f(K*w)*d+.5),r+=(c=1.5*Math.sin(c))*(k=V*(k-r)-(h+=c*r)),k=3==m?r:1==m?k:h,y&&(k=(k*=y)<1?-1<k?tt(.25*k):-1:1,k/=y),c=1e-5<(k*=F)*k,i=k*(1-(S=Math.sin(N*w)*T+.5)),k*=S):i=0,p<=w&&(i+=e[w-p+1]*g,k+=e[w-p]*g),e[w]=0|i,e[w+1]=0|k,nt[w]+=0|i,nt[w+1]+=0|k}return ++st/it.N},this.I=function (){var t=44+2*at-8,i=t-36,e=new Uint8Array(44+2*at);for(e.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]),t=0,i=44;t<at;++t){var s=nt[t];e[i++]=255&(s=s<-32767?-32767:32767<s?32767:s),e[i++]=s>>8&255}return e},this.getData=function (t,i){for(var e=2*Math.floor(44100*t),s=Array(i),a=0;a<2*i;a+=1){var n=e+a;s[a]=0<t&&n<nt.length?nt[n]/32768:0}return s}}let Ob,R,Pb,Qb,I,Rb,Sb,Tb,Ub,Vb,S,Wb,Xb,Yb,Zb,$b,U,ac,gc,hc,V,ic,jc;const kc=new mb([1.1,,378,.03,.06,.18,1,2.2,,,105,.08,,,,.1,,.59,.02]),lc=new mb([,,389,.03,.02,.04,1,2.5,-1,-1,,,,,129,,,.54,.02,,-1341]),mc=new mb([,,163,.07,.25,.22,,3.5,2,158,,,.06,,,,,.69,.18,.1,-948]),nc=(new mb([2,,62,.03,.01,.46,3,0,,,,,,1.8,,.3,.47,.43,.16]),new mb([3,,12,.03,.04,.009,,1.7,-2,,4,.02,,,,,.49,.87,.01,.25])),oc=new mb([,,118,.05,.24,.3,,1.1,-10,,,,.1,,,,,.99,.12]),pc=new mb([,,188,.03,.05,.19,3,3.5,,,,,.05,1.4,,.1,,.97,.04,.36]),qc=new mb([1.8,,438,.09,.29,.38,,2,,,462,.09,.04,,,.1,.06,.56,.18,.15,152]),rc=new mb([2.3,,155,.01,.15,.2,,.2,,-8,-146,.07,,,.1,,.19,.51,.27,,760]),sc=(rc.W=.3,new mb([1.7,,433,.02,.04,.02,4,3.7,,,,,,1.5,,.2,.04,.65,.09,,206]));sc.W=.3;let Y=document.createElement("audio");Y.loop=!0,Y.volume=1;let tc,uc,vc,wc,xc;var yc=new Nb,zc=(yc.M({O:[{i:[0,91,128,0,3,95,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,32,83,3,116,4],p:[1,1,1,1,2,1,1,1,2,1,1,1,2,1],c:[{n:[112,,,,117,,,,116,,,,117,,,,112,,,,117,,,,116,,,,117],f:[]},{n:[114,,,,119,,,,118,,,,119,,,,114,,,,119,,,,118,,,,119],f:[]}]},{i:[0,97,116,79,0,100,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[2,2,2,2,2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[125,,,,,,,,,,,,,,,,125,,125],f:[]}]},{i:[0,31,128,64,0,28,128,0,64,31,3,8,56,85,0,0,0,60,4,1,2,255,0,0,32,61,5,15,2],p:[1,1,2,2,2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[,,,,125,,,,,,,,,,,,,,,,125],f:[]}]},{i:[0,222,152,0,2,220,98,1,0,1,2,0,60,0,0,0,0,0,0,0,3,255,0,0,32,47,3,31,2],p:[1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[],f:[]}]}],G:5513,F:32,K:13,N:4}),!1),Bc=(setInterval(function (){var t;!zc&&(zc=1<=yc.L())&&(t=yc.I(),tc=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),Ac("title"))}),new Nb),Cc=(Bc.M({O:[{i:[0,63,128,0,3,112,128,0,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,131,83,3,130,4],p:[1,1,4,1,1,4,1,1,1,1,4],c:[{n:[115,,,,,,120,,,,,,118,,,,115,,,,,,120,,,,,,118],f:[]},{n:[110,,,,,,110,,,,,,,,,,108,,,,,,106,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]},{n:[],f:[]},{n:[115,,,,,,115,,,,,,,,,,113,,,,,,113,,,,,,,,,,,,,,,,,,,,,,116,,,,,,,,,,,,,,,,115],f:[]}]},{i:[3,255,152,0,2,160,152,12,190,0,2,0,60,0,0,0,0,0,0,0,3,255,0,67,79,47,3,157,2],p:[1,1,1,2,2,3,5,5,2,2,4],c:[{n:[],f:[]},{n:[115,,,,,,,,,,,,,,,,115,,,,,,118,,,,,,116],f:[]},{n:[115,,,,,,115,,,,,,,,,,120,,118,,,,106,,,,,,115,,,,,,,,,,,,,,,,116,,,,,,,,,,118],f:[]},{n:[115,,,,,,115,,,,,,,,,,120,,118,,,,,,,,,,115,,,,,,,,,,,,,,,,116,,,,,,,,,,118],f:[]},{n:[115],f:[]}]},{i:[0,128,116,79,0,125,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,125,0,184,0,0,0,0],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[115,,,,,,,,,,,,,,,,115],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,11,108,5,16,4],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[115,,,,115,,,,,,,,115,,,,115,,,,115,,,,,,,,115],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,12,108,5,0,4],p:[1,2,3,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[124,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]},{n:[103,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]}]},{i:[3,160,128,64,3,160,128,0,64,33,4,7,52,85,0,0,3,60,4,1,2,255,0,0,16,61,5,0,6],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[],f:[]}]}],G:5088,F:32,K:10,N:6}),!1),Dc=(setInterval(function (){var t;!Cc&&(Cc=1<=Bc.L())&&(t=Bc.I(),uc=URL.createObjectURL(new Blob([t],{type:"audio/wav"})))}),new Nb),Ec=(Dc.M({O:[{i:[0,63,128,0,3,112,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,131,83,3,130,4],p:[1,1,1,1,2,1,1,1,1,2],c:[{n:[115,,,,,,115,,,,,,,,,,115,,,,,,115,,,,,,113],f:[]},{n:[110,,,,,,110,,,,,,,,,,108,,,,,,106,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]}]},{i:[3,255,152,0,0,160,152,12,246,0,2,0,60,0,0,0,0,0,0,0,3,255,0,67,52,47,3,157,2],p:[1,1,2,2,3,1,1,2,2,3],c:[{n:[],f:[]},{n:[115,,,,,,,,,,,,,,,,115,,,,,,118,,,,,,116],f:[]},{n:[110,,,,,,122,,,,,,,,,,120,,118,,,,106,,,,,,115,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]}]},{i:[0,128,116,79,0,125,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,125,0,113,0,0,0,0],p:[2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[,,,,,,,25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,220]},{n:[103,,,,,,,,,,,,,,,,103],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,11,108,5,16,4],p:[2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[,,,,103,,,,,,,,103,,,,,,,,103,,,,,,,,103],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,12,108,5,0,4],p:[2,2,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[103,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]}]},{i:[3,160,128,64,3,160,128,0,64,33,4,7,52,85,0,0,3,60,4,1,2,255,0,0,16,61,5,0,6],p:[1,1,1,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]}]}],G:5513,F:32,K:9,N:6}),!1),Fc=(setInterval(function (){var t;!Ec&&(Ec=1<=Dc.L())&&(t=Dc.I(),vc=URL.createObjectURL(new Blob([t],{type:"audio/wav"})))}),new Nb),Gc=(Fc.M({O:[{i:[0,63,128,0,3,112,128,0,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,131,83,3,130,4],p:[1,1,4,1,1,4,1,1,1,1,4],c:[{n:[115,,,,,,120,,,,,,118,,,,115,,,,,,120,,,,,,118],f:[]},{n:[110,,,,,,110,,,,,,,,,,108,,,,,,106,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]},{n:[],f:[]},{n:[115,,,,,,115,,,,,,,,,,113,,,,,,113,,,,,,,,,,,,,,,,,,,,,,116,,,,,,,,,,,,,,,,115],f:[]}]},{i:[3,255,152,0,2,160,152,12,190,0,2,0,60,0,0,0,0,0,0,0,3,255,0,67,79,47,3,157,2],p:[1,1,1,2,2,3,5,5,2,2,4],c:[{n:[],f:[]},{n:[115,,,,,,,,,,,,,,,,115,,,,,,118,,,,,,116],f:[]},{n:[115,,,,,,115,,,,,,,,,,120,,118,,,,106,,,,,,115,,,,,,,,,,,,,,,,116,,,,,,,,,,118],f:[]},{n:[115,,,,,,115,,,,,,,,,,120,,118,,,,,,,,,,115,,,,,,,,,,,,,,,,116,,,,,,,,,,118,,,,,,,,,,139],f:[]},{n:[115],f:[]}]},{i:[0,128,116,79,0,125,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,125,0,184,0,0,0,0],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[115,,,,,,,,,,,,,,,,115],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,11,108,5,16,4],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[115,,,,115,,,,,,,,115,,,,115,,,,115,,,,,,,,115],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,12,108,5,0,4],p:[1,2,3,2,2,2,2,2,2,2,2],c:[{n:[],f:[]},{n:[124,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]},{n:[103,,,,103,,,,,,,,103,,,,,,,,,,103,,,,,,103],f:[]}]},{i:[3,160,128,64,3,160,128,0,64,33,4,7,52,85,0,0,3,60,4,1,2,255,0,0,16,61,5,0,6],p:[1,1,1,1,1,1,1,1,1,1,1],c:[{n:[],f:[]}]}],G:5088,F:32,K:10,N:6}),!1);setInterval(function (){var t;!Gc&&(Gc=1<=Fc.L())&&(t=Fc.I(),wc=URL.createObjectURL(new Blob([t],{type:"audio/wav"})))});let Hc=document.createElement("audio");Hc.loop=!1,Hc.volume=1;var Ic=new Nb,Jc=(Ic.M({O:[{i:[0,138,116,0,3,138,128,4,0,0,47,48,93,63,124,3,0,139,4,1,3,64,39,3,15,147,1,0,0],p:[1],c:[{n:[139],f:[]}]}],G:5513,F:32,K:0,N:1}),!1);setInterval(function (){var t;!Jc&&(Jc=1<=Ic.L())&&(t=Ic.I(),xc=URL.createObjectURL(new Blob([t],{type:"audio/wav"})))}),Ha=.7;const Kc=k(80,44),Lc=k(40,22);function Mc(){Hc.currentTime=0,Hc.volume=.3,Hc.src=xc,Hc.play()}function Ac(t){Y.pause(),Y.currentTime=0,"title"==t&&(Y.volume=.3,Y.src=tc),"action"==t&&(Y.volume=.3,Y.src=uc),"puzzle"==t&&(Y.volume=.3,Y.src=vc),"gameover"==t&&(Y.volume=.3,Y.src=wc),Y.play()}function Nc(i){for(let t=0;t<i.m.length;t++)A(i.m[t]);i.m=[]}I=Kc;class Oc extends Ja{constructor(){super(void 0,k(1,1),R.ia),this.color=sa,B(this),this.B=this.j=1,this.ba=9,this.speed=.1,this.state="idle",this.mode="puzzle",this.V=!1,this.Ma=50,this.La=60,this.oa=this.U=this.ua=this.u=this.pa=0,this.ka=1,this.currentFrame=0,this.ma=k(1,1),this.items=[],this.m=[],this.ca=this.da=0}update(){if("puzzle"==this.mode){this.move=k(0,0),(L("ArrowLeft")||L(14,1))&&this.g.x>this.size.x&&(this.move=k(-1,0),this.s=!0),(L("ArrowRight")||L(15,1))&&this.g.x<I.x-(this.size.x+1)&&(this.move=k(1,0),this.s=!1),(L("ArrowUp")||L(12,1))&&this.g.y<I.y-(this.size.y+1)&&(this.move=k(0,1)),(L("ArrowDown")||L(13,1))&&this.g.y>this.size.y+1&&(this.move=k(0,-1)),0<this.move.length()?(--this.u,this.V=!0):this.V=!1,this.g=this.g.add(this.move);for(var t=0;t<V.length;t++)this.g.x==V[t].g.x&&this.g.y==V[t].g.y&&null!=V[t].H&&(S.g=k(V[t].H.g),Mc())}if("action"==this.mode&&(Aa=this.g,this.ea=bb?jb[0]&&jb[0][0]||k():k((ab("ArrowRight")?1:0)-(ab("ArrowLeft")?1:0),(ab("ArrowUp")?1:0)-(ab("ArrowDown")?1:0)),this.ea.x<0&&(this.s=!0),0<this.ea.x&&(this.s=!1),this.h=this.h.add(na(this.ea,1).scale(this.speed)),this.h.length()<.2&&"idle"!=this.state&&(this.state="idle"),.2<this.h.length())&&"walking"!=this.state&&(Rb.active()||(Rb.set(Sb+this.U),Ub.set(1),nc.play()),this.state="walking"),(L("Space")||L(0,1))&&0<(t=this.m.length))if($b&&ca(this.g,this.size,$b.g,$b.size)){for(t=0;t<this.m.length;t++)hc+=this.m[t].points,--this.u;rc.play(),Nc(this)}else sc.play(),A(this.m[t-1]),this.m.splice(t-1,1);for(L("KeyM")&&(this.mode="action"==this.mode?"puzzle":"action"),L("KeyF")&&(Wb=!0),t=0;t<this.items.length;t++)w>=this.items[t].R.time&&("Rabbit Foot"==this.items[t].displayName&&(this.speed=.1),"Clover"==this.items[t].displayName&&(this.B=1),"Salt"==this.items[t].displayName&&(this.speed=.1),"Catnip"==this.items[t].displayName&&(this.speed=.1),this.items.splice(t,1));super.update()}P(t){if(t instanceof Pc&&(this.items.length!=this.da&&("Key"!=t.displayName&&t.R.set(5),this.items.push(t),"Rabbit Foot"==t.displayName&&(this.speed=.2),"Clover"==t.displayName&&(this.B=200),"Salt"==t.displayName&&(this.speed=.05),"Catnip"==t.displayName)&&(this.speed=.8),(t.T==Z.v?qc:t.type==Qc.ga?oc:pc).play(),A(t)),t instanceof Rc&&(this.m.length!=this.ca&&this.m.push(t),oc.play(),A(t)),t instanceof Sc&&(this.B-=t.ka,lc.play(),this.B<1)&&Tc(),t instanceof Uc)return null!=t.H&&(this.g=k(t.H.g),Mc()),!1;if(t=t instanceof Vc||t instanceof Wc)t:{t=Z.v;for(var i=0;i<this.items.length;i++)if(this.items[i].T==t){t=!0;break t}t=!1}if(t){if("action"==this.mode)for(t=Z.v,i=0;i<this.items.length;i++)if(this.items[i].T==t){A(this.items[i]),this.items.splice(i,1);break}mc.play(null,1,1,1.8),Xc()}return !0}fa(){Ra(this.g,this.size,R.ia.frame(2*w%2|0),new u(1,1,1,1),0,this.s)}}class Sc extends Ja{constructor(){super(k(r(I.x),r(5,I.y)),k(1,2),R.qa),this.color=ua,B(this),this.ka=this.j=1,this.X=20,this.Y=this.g.add(k(r(-this.X,this.X),r(-this.X,this.X))),this.home=k(this.g.x,this.g.y),this.o=!1,this.visible=!0}update(){"action"==S.mode?this.o?ma(this.g,this.home)**.5<1?this.o=!1:this.h=this.h.add(this.home.A(this.g).normalize().scale(.1)):ma(this.g,this.Y)**.5<1?this.o=!0:this.h=this.h.add(this.Y.A(this.g).normalize().scale(.1)):this.o?ma(this.g,this.home)**.5<1?this.o=!1:S.V&&(this.g=this.g.add(this.home.A(this.g).normalize())):ma(this.g,this.Y)**.5<1?this.o=!0:S.V&&(this.g=this.g.add(this.Y.A(this.g).normalize())),super.update()}P(t){t instanceof Yc&&(this.o=!this.o),t instanceof Zc&&(this.o=!this.o)}fa(){this.visible&&Ra(this.g,this.size,R.qa.frame(2*w%2|0))}}const Qc={ga:0,Ra:1,Sa:2},Z={v:0,xa:1,ya:2,va:3,wa:4};class Pc extends Ja{constructor(t,i,e){e==Z.v?super(t,k(1,1),R.key):super(t,k(1,1),R.item),this.type=i,this.T=e,this.displayName="",e==Z.v&&(this.displayName="Key"),e==Z.xa&&(this.displayName="Rabbit Foot"),e==Z.ya&&(this.displayName="Salt"),e==Z.va&&(this.displayName="Catnip"),e==Z.wa&&(this.displayName="Clover"),this.R=new za(5),va(this.R),B(this),this.j=0}update(){w>=this.R.time&&destroy()}}class Rc extends Ja{constructor(){var t=r(3);super(k(r(I.x),r(I.y)),k(1,1),R.Ia),0==t&&(this.displayName="Mushroom",this.points=10),1==t&&(this.displayName="Sassafras",this.points=10),2==t&&(this.displayName="Willow",this.points=10),B(this),this.j=0}}class Yc extends Ja{constructor(){var t=r(1,4);super(k(r(I.x),r(I.y)),k(t,t),R.Qa),B(this),this.j=0}}class Vc extends Ja{constructor(){super(k(r(I.x),r(5,I.y)),k(6,6),R.Ha),B(this),this.j=0}}class Wc extends Ja{constructor(){super(k(r(I.x),r(5,I.y)),k(4,4),R.Da),B(this),this.j=0}}class Uc extends Ja{constructor(){super(k(r(I.x),r(5,I.y)),k(1,2),R.s),B(this),this.j=0,this.H=null,this.B=1}}class $c extends Ja{constructor(){super(k(I.x/2,I.y/2),k(3,3),R.Ba),B(this),this.j=0}}class Zc extends Ja{constructor(t,i){super(t,i),B(this),this.j=0,this.color=sa}}function jd(t=null){null==t?ac.push(new Pc(k(r(I.x),r(5,I.y)),r(0,Object.keys(Qc).length),r(1,Object.keys(Z).length-1))):ac.push(new Pc(k(r(I.x),r(5,I.y)),r(0,Object.keys(Qc).length),t))}function Xc(){Aa=k(20,11),S.h=k(0,0),S.state="idle";for(var i=0;i<V.length;i++)A(V[i]);if(V=[],kd(),ld(),"action"==S.mode?(S.mode="puzzle",I=Lc,A(Vb),Vb=new Wc):(S.mode="action",A(Vb),Vb=new Vc,I=Kc,Qb+=1,Tb,Tb<1&&(Tb=1),S.da+=1,S.ca+=1),S.g=k(r(1,6),r(1,6)),Vb.g=k(r(I.x),r(5,I.y)),V.push(new Uc),V.push(new Uc),ma(V[1].g,Vb.g)**.5>ma(V[0].g,Vb.g)**.5?V[1].H=V[0]:V[0].H=V[1],md(),jc.push(new Zc(k(-.5,I.y/2),k(1,100))),jc.push(new Zc(k(I.x+.5,I.y/2),k(1,100))),jc.push(new Zc(k(I.x/2,I.y+.5),k(100,1))),jc.push(new Zc(k(I.x/2,.5),k(100,1))),"action"==S.mode){for(nd("action"),i=0;i<50;i++)ic.push(new Yc);i=r(20);for(let t=0;t<i;t++)gc.push(new Rc);jd(),jd(),U.push(new Sc),A($b),S.U=S.u,od(),va(Rb),va(Ub),Ac("action")}else S.oa=Math.ceil(Rb.get()),S.ua+=S.u,S.u=r(S.Ma,S.La+1),S.pa=S.u+S.oa,$b=new $c,jd(Z.v),nd("puzzle"),pd(),Ac("puzzle");Wb=!0}function Tc(){S.h=k(0,0);var i=S;for(let t=0;t<i.items.length;t++)i.items[t].T!=Z.v&&(A(i.items[t]),i.items.splice(t,1));Nc(S),S.speed=.1,S.B=1,S.state="idle",--S.ba,S.ba<1&&(A(S),A(Vb),Ac("gameover"),Pb=!0,Ob=!1),S.g=k(r(1,6),r(1,6)),"action"==S.mode?od():S.u=S.pa}function od(){va(Rb=new za(Sb+S.U)),va(Ub=new za(1))}function nd(t){if("action"==t)for(let t=0;t<U.length;t++)U[t].visible=!0,B(U[t]);if("puzzle"==t)for(t=0;t<U.length;t++)U[t].visible=!1,B(U[t],!1,!1,!1)}function kd(){for(let t=0;t<ic.length;t++)A(ic[t]);ic=[]}function ld(){for(let t=0;t<jc.length;t++)A(jc[t]);jc=[]}function md(){for(let t=0;t<ac.length;t++)A(ac[t]);ac=[]}function pd(){for(let t=0;t<gc.length;t++)A(gc[t]);gc=[]}!function (s,a,n,h,t,i=document.body){function r(t=0){var i=t-Ib;for(Ib=t,Jb+=i,Jb=Math.min(Jb,50),c(),t=0,Jb<0&&-9<Jb&&(t=Jb,Jb=0);0<=Jb;Jb-=1e3/60)w=Hb++/60,gb||document.hasFocus()||(K=[[]]),kb(),s(),Kb.forEach(t=>t()),Mb(),a(),db();Jb+=t,D=k(C.width,C.height),Ua.imageSmoothingEnabled=Sa.imageSmoothingEnabled=!1,Gb(),n(),Ka.sort((t,i)=>t.ra-i.ra);for(const e of Ka)e.J||e.fa();h(),Lb.forEach(t=>t()),wb&&Ya(),requestAnimationFrame(r)}function c(){var t,i;Fa.x?(C.width=Fa.x,C.height=Fa.y,t=innerWidth/innerHeight,i=C.width/C.height,(rb||C).style.width=C.style.width=Ta.style.width=t<i?"100%":"",(rb||C).style.height=C.style.height=Ta.style.height=t<i?"":"100%"):(C.width=Math.min(innerWidth,Ba.x),C.height=Math.min(innerHeight,Ba.y)),Ta.width=C.width,Ta.height=C.height,D=k(C.width,C.height)}i.style.cssText="margin:0;overflow:hidden;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#000;image-rendering:pixelated;user-select:none;-webkit-user-select:none;touch-action:none;-webkit-touch-callout:none",i.appendChild(C=document.createElement("canvas")),Sa=C.getContext("2d"),eb(),(lb=O.createGain()).connect(O.destination),lb.gain.value=.3,Cb(),i.appendChild(Ta=document.createElement("canvas")),Ua=Ta.getContext("2d"),C.style.cssText=Ta.style.cssText="position:absolute",rb&&(rb.style.cssText="position:absolute"),c(),i=t.map((e,s)=>new Promise(t=>{const i=new Image;i.crossOrigin="anonymous",i.onerror=i.onload=()=>{Va[s]=new Wa(i),t()},i.src=e})),t.length||i.push(new Promise(t=>{Va[0]=new Wa(new Image),t()})),Promise.all(i).then(function (){new Promise(t=>t(function (){Fa=k(1280,720),Wb=!1,Zb=Yb=Xb=1,Aa=I.scale(.5),hc=0,Sb=Tb=20,va(Ub=new za(1)),Pb=Ob=!1,ic=[],jc=[],U=[],ac=[],gc=[],V=[];var t=0,i=16,e=("number"===typeof i&&(i=k(i)),Va[0]);const s=i.add(k(0));"number"===typeof t&&(t=0<(e=e.size.x/s.x|0)?k(t%e,t/e|0):k()),t=k(t.x*s.x,t.y*s.y),R={ia:new F(t,i,0,0),qa:new F(k(32,0),k(16,32)),Ha:new F(k(64,0),k(64,64)),Ia:new F(k(0,16),k(16,16)),item:new F(k(0,32),k(16,16)),Qa:new F(k(0,48),k(16,16)),s:new F(k(0,64),k(16,16)),key:new F(k(0,80),k(16,16)),Ba:new F(k(0,96),k(16,16)),Da:new F(k(0,112),k(16,16))},$b=new $c}())).then(r)})}(function (){if((L(0)||L("Space")||L(0,1)||L(1,1))&&(!Ob||Pb)){for(var t=0;t<U.length;t++)A(U[t]);U=[],md(),pd(),kd(),ld(),kc.play(),Ob=!0,Pb=!1,Qb=hc=0,Tb=20,S=new Oc,t=new Pc(k(0,0),Qc.ga,Z.v),S.items.push(t),A(t),Vb=new Vc,Xc(),Y.pause(),Y.currentTime=0}null!=S&&"action"==S.mode?(Ob&&w>=Ub.time&&(nc.play(),Ub.set(1)),Ob&&w>=Rb.time&&Tc()):Ob&&S.u<1&&Tc()},function (){},function (){Ob&&("action"==S.mode?$a(new u(0,.4,0)):$a(new u(.43,.3,.21)))},function (){if(Ob){J("Level: "+Qb,k(80,40),30,sa),J("Lives: "+S.ba,k(80,70),30,sa),"action"==S.mode?Rb.active()?J("Timer: "+ia(Math.abs(Rb.get())),k(80,100),30,sa):J("Timer: "+ia(Sb+S.U),k(80,100),30,sa):J("Motions: "+S.u,k(80,100),30,new u(0,0,0));for(var t="",i=0;i<S.items.length;i++)t+=S.items[i].displayName+", ";for(J("Items: "+t,k(80,130),30,sa),t="",i=0;i<S.m.length;i++)t+=S.m[i].displayName+", ";J("Ingredient: "+t,k(100,160),30,sa),J("Score: "+hc,k(80,190),30,new u(0,0,0))}else Pb?(J("Game Over",k(D.x/2,D.y/2),160,ta),J("Level "+Qb+" Reached",k(D.x/2,D.y/2+100),60,ta),J("Final Score: "+hc,k(D.x/2,D.y/2+200),60,ta)):(J("Boots the Cat",k(D.x/2,70),80),J("in",k(D.x/2,D.y/2-100),80),J("Boots and the",k(D.x/2,D.y-260),80),J("Black Cauldron",k(D.x/2,D.y-170),80));Wb&&($a(new u(0,0,0,Yb)),(Yb-=1/(60*Zb))<=0)&&(Wb=!1,Yb=Xb)},["s.png"])</script>