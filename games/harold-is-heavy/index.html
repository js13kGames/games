<title>Harold is Heavy - js13kGames 2023</title><style>body,html{width:100vw;height:100vh;margin:0;padding:0;background-color:#2c1b2e}#d1{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center}#d2{max-width:100vw;max-height:100vh;aspect-ratio:48/27}#canvas{width:100%;height:100%}</style><div id=d1><div id=d2><canvas id=canvas></canvas></div></div><script>function k(){function P(t){return Math.sin(6.283184*t)}function k(t){return.003959503758*2**((t-128)/12)}var V,D,K,B,j,z,C=[P,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){return(t=t%1*4)<2?t-1:3-t}];this.e=function(i){D=(V=i).p,K=0,B=i.T*i.N*(D+1)*2,j=new Int32Array(B),z=[];for(let t=0;t<i.S;t++)z.push(new Int32Array(B))},this.R=function(){for(var t,i,s,h,e,a,n,r=new Int32Array(B),o=V.I[K],M=V.T,y=V.N,l=0,x=0,c=!1,f=[],m=0;m<=D;++m)for(s=o.G[m],t=0;t<y;++t){for(var L=s?o.c[s-1].f[t]:0,u=(L&&(o.m[L-1]=o.c[s-1].f[t+y]||0,L<17)&&(f=[]),C[o.m[16]]),d=o.m[17]/512,g=2**(o.m[18]-9)/M,w=o.m[19],E=o.m[20],b=43.23529*o.m[21]*3.141592/44100,p=1-o.m[22]/255,v=1e-5*o.m[23],A=o.m[24]/32,R=o.m[25]/512,S=6.283184*2**(o.m[26]-9)/M,O=o.m[27]/255,T=o.m[28]*M&-2,I=(m*y+t)*M,N=0;N<4;++N)if(i=s?o.c[s-1].n[t+N*y]:0){f[i]||(f[i]=function(t,i){for(var s,h,e,a,n=C[t.m[0]],r=t.m[1],o=t.m[3]/32,y=C[t.m[4]],l=t.m[5],x=t.m[8]/32,c=t.m[9],f=t.m[10]*t.m[10]*4,m=t.m[11]*t.m[11]*4,L=t.m[12]*t.m[12]*4,u=1/L,d=-t.m[13]/16,g=t.m[14],w=M*2**(2-t.m[15]),E=new Int32Array(f+m+L),b=0,p=0,v=0,A=0;v<f+m+L;v++,A++)0<=A&&(A-=w,e=k(i+(15&(g=g>>8|(255&g)<<4))+t.m[2]-128),a=k(i+(15&g)+t.m[6]-128)*(1+8e-4*t.m[7])),s=1,v<f?s=v/f:f+m<=v&&(s=(1-(s=(v-f-m)*u))*3**(d*s)),h=n(b+=e*s**o)*r,h+=y(p+=a*s**x)*l,c&&(h+=(2*Math.random()-1)*c),E[v]=80*h*s|0;return E}(o,i));for(var H=f[i],U=0,G=2*I;U<H.length;U++,G+=2)r[G]+=H[U]}for(U=0;U<M;U++)(e=r[h=2*(I+U)])||c?(a=b,w&&(a*=u(g*h)*d+.5),x+=(a=1.5*Math.sin(a))*(a=p*(e-x)-(l+=a*x)),e=3==E?x:1==E?a:l,v&&(e=(e*=v)<1?-1<e?P(.25*e):-1:1,e/=v),c=1e-5<(e*=A)*e,n=e*(1-(a=Math.sin(S*h)*R+.5)),e*=a):n=0,T<=h&&(n+=r[h-T+1]*O,e+=r[h-T]*O),r[h]=0|n,r[1+h]=0|e,j[h]+=0|n,j[1+h]+=0|e,z[K][h]+=0|n,z[K][1+h]+=0|e}return++K/V.S},this.v=function(t,i){for(var s=void 0===i?j:z[i],h=t.createBuffer(2,B/2,44100),e=0;e<2;e++)for(var a=h.getChannelData(e),n=e;n<B;n+=2)a[n>>1]=s[n]/65536;return h},this.L=function(){var t=44+2*B-8,i=t-36,s=new Uint8Array(44+2*B);s.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var h=0,e=44;h<B;++h){var a=j[h];s[e++]=255&(a=a<-32767?-32767:32767<a?32767:a),s[e++]=a>>8&255}return s},this.getData=function(t,i){for(var s=2*Math.floor(44100*t),h=new Array(i),e=0;e<2*i;e+=1){var a=s+e;h[e]=0<t&&a<j.length?j[a]/32768:0}return h}}const i=45*Math.PI/180,t=90*Math.PI/180,V=180*Math.PI/180,s=.3696875,l={e(){l.E=document.getElementById("canvas"),l.t=l.E.getContext("2d"),l.b(!0)},b(t){var i=window.devicePixelRatio,s=l.E.clientWidth,h=l.E.clientHeight,e=s*i;i*=h,!t&&l.E.width===e&&l.E.height===i||(l.E.width=e,l.E.height=i,l.scale=(10*Math.min(e/240,i/135)|0)/10,l.width=Math.ceil(e/l.scale),l.height=Math.ceil(i/l.scale),l.i={h:l.width/2|0,o:l.height/2|0},l.clientWidth=s,l.clientHeight=h,l.t.imageSmoothingEnabled=!1),l.E.style.cursor="none"},l(){l.t.fillRect(0,0,l.width,l.height)},u:t=>0<=t.h&&0<=t.o&&t.h<l.width&&t.o<l.height},h={volume:.3,sampleRate:44100,x:new(window.AudioContext||webkitAudioContext),destination:void 0,Q:function(...t){return this.M(this.A(...t))},M:function(...t){const s=this.x.createBuffer(t.length,t[0].length,this.sampleRate),i=this.x.createBufferSource();return t.map((t,i)=>s.getChannelData(i).set(t)),i.buffer=s,i.connect(this.destination),i.start(),i},A:function(t=1,i=.05,s=220,h=0,e=0,a=.1,n=0,r=1,o=0,y=0,l=0,x=0,c=0,f=0,m=0,L=0,u=0,d=1,g=0,w=0){let E,b,p=2*Math.PI,v=this.sampleRate,A=o*=500*p/v/v,M=s*=(1+2*i*Math.random()-i)*p/v,R=[],S=0,O=0,T=0,I=1,N=0,H=0,U=0;for(y*=500*p/v**3,m*=p/v,l*=p/v,x*=v,c=c*v|0,b=(h=h*v+9)+(g*=v)+(e*=v)+(a*=v)+(u*=v)|0;T<b;R[T++]=U)++H%(100*L|0)||(U=n?1<n?2<n?3<n?Math.sin((S%p)**3):Math.max(Math.min(Math.tan(S),1),-1):1-(2*S/p%2+2)%2:1-4*Math.abs(Math.round(S/p)-S/p):Math.sin(S),U=(c?1-w+w*Math.sin(p*T/c):1)*(0<U?1:-1)*Math.abs(U)**r*t*this.volume*(T<h?T/h:T<h+g?1-(T-h)/g*(1-d):T<h+g+e?d:T<b-u?(b-T-u)/a*d:0),U=u?U/2+(u>T?0:(T<b-u?1:(b-T)/u)*R[T-u|0]/2):U),E=(s+=o+=y)*Math.cos(m*O++),S+=E-E*f*(1-1e9*(Math.sin(T)+1)%2),I&&++I>x&&(s+=l,M+=l,I=0),!c||++N%c||(s=M,o=A,I=I||1);return R},O:function(t=0,i=440){return i*2**(t/12)}},e={I:[{m:[1,192,128,0,1,191,116,9,0,0,6,22,34,0,0,0,0,69,3,1,1,23,167,0,32,77,6,7,6],G:[,,2,2,2,2,1,1,1,3,1,1,1,3,4,1,4,3,1,1,1,3,1,1,1,5],c:[{n:[125,137,125,,,,125,,130,,130,,125,,,,125,125,125,,,,125,,130,,130,,125,,,,128,,128,140,,,128,,134,,134,,,128,,,128,,128,128,,,128,,134,,134,,,128,,,132,,132,,134,,132,,125,,125,,,,130,,132,,132,,134,,132,,125,,125,,,135,130,,,,,134,,,,,,,,,,,,132,,,,134,,,,,,142,,144,,,,132],f:[]},{n:[125,,125,,,,125,,130,,130,,125,,,,125,,125,,,,125,,130,,130,,125,,,,128,,128,,,,128,,134,,134,,,,,,128,,128,128,,,128,,134,,134,,,128,,,132,,132,,134,,132,,125,,125,,,,,,132,,132,,134,,132,,125,,125,,,,130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144],f:[]},{n:[125,137,125,,,,125,,130,,130,,125,,,,144,,144,,142,,142,,140,,140,,137,,137,,128,,128,140,,,128,,134,,134,,,128,,,,132,,132,,130,,130,,128,,128,,125,,125,132,,132,,134,,132,,125,,125,,,,130,,,,,,,,,,,,,,,,,,,,,134,,,,,,,,,,,,132],f:[]},{n:[125,137,125,,,,125,,,,130,,125,,,,125,125,125,,,,125,,130,,130,,132,,,,128,,128,140,,,,123,,,134,,,128,,,128,,128,128,,,128,,134,,134,,,130,,,132,,132,,134,,128,,128,,125,,,,130,,132,,132,,134,,132,,125,,125,,,,128,,,,,134,,,,,,130,,,,,,132,,,,134,,,,123,,125,,127,,,,123],f:[]},{n:[125,,125,,,,125,,130,,,,125,,,,144,,144,,142,,142,,140,,140,,137,,137,,128,,128,140,,,128,,134,,,,,128,,,,132,,,,130,,,,128,,,,125,,,132,,132,,,,132,,125,,,,,,,,,,,,,,,,,,,,,,,,,,,134],f:[]}]},{m:[3,100,128,0,3,201,128,2,0,0,0,6,49,0,0,0,0,139,4,1,3,30,184,119,244,147,6,24,6],G:[2,3,2,2,2,2,2,2,2,3,2,2,2,3,2,2,2,3,2,2,2,3,2,2,2,3],c:[{n:[],f:[]},{n:[113,,113,,113,,113,,118,,118,,118,,118,,113,,113,,113,,113,,118,,118,,118,,118],f:[]},{n:[113,,113,,113,,113,,118,,118,,118,,118,,113,,111,,113,,115,,116,,118,,120,,122],f:[]}]},{m:[0,0,128,0,0,0,128,0,0,125,0,1,59,0,0,0,0,0,0,0,1,193,171,0,29,39,3,88,3],G:[,,,,,,4,4,4,5,4,4,4,5,,,4,5,4,4,4,5,4,4,4],c:[{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[113,,,,,,,,113,,,,,,,,113,,,,,,,,113],f:[]},{n:[113,,,,,,,,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,113,,,,113,,,,113,,,,113,113,113],f:[]}]},{m:[0,160,128,64,0,160,128,0,64,210,4,7,52,85,0,0,0,60,4,1,2,255,0,0,32,61,5,32,6],G:[4,4,4,5,4,5,4,4,4,5,4,4,4,5,4,4,4,5,4,4,4,5,4,4,4,5],c:[{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[,,,,113,,,,,,,,113,,,,,,,,113,,,,,,,,113],f:[]},{n:[,,,,113,,,,,,,,113,,,,113,,,,113,,,,113,,,,113],f:[]}]},{m:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],G:[,4,4,5,4,5,4,4,4,5,4,4,4,5,,,4,5,4,4,4,5,4,4,4],c:[{n:[],f:[]},{n:[],f:[]},{n:[],f:[]},{n:[,113,113,,,113,,,,113,113,,,113,,,,113,113,,,113,,,,113,113,,,113],f:[]},{n:[,113,113,,,113,,,,113,113,,,113,,,113,,113,,113,,113,,113,,113,,113,,113,,,,,,,,,,,,,,,,,,,,,,,,,,,113,,,,113],f:[]}]}],T:5513,N:32,p:25,S:5},a={e(){a.H=!1,a.D=!1,a.K=!0,a.P=!0,a.U=0,a.V=0,a.g=[5.02,,7,,,.18,,.37,,25,124,.03,.03,,,,.13,.35,.01],a.B=[,,315,,.08,.07,,.77,-16,,,,,,,,,.91,.01],a.k=[1.33,,423,.01,,.06,2,2.64,-3.8,,,,,.1,,.2,,.54,.01],a.q=[1.11,,779,.01,.2,.48,4,4.56,.4,,,,.02,.9,,1,,.34,.13],a.j=[2.05,,374,.01,.05,.02,2,.59,-8.2,,,,,,,.5,.29,.65,.09],a.F=[1.01,,491,,.01,.05,,1.02,25,,,,,,,.1,,.45,.08],a.C=[,,433,.01,.18,.24,,.51,,,418,,.06,.1,,,,.43,.25,.11],a.Y=[1.81,,135,.01,.04,.18,1,.11,-6.6,,,,,.2,,.3,.15,.74,.09]},W(){a.H||(h.x=a.t=new AudioContext,a.Z=a.t.createGain(),a.Z.connect(a.t.destination),h.destination=a.Z,a.H=!0)},X(){if(!a.J){for(this.$=new k,this.$.e(e);1!==this.$.R(););this._=[],this.tt=[];for(let t=0;t<e.S;t++){var i=this.$.v(a.t,t),s=(this.it=a.t.createBufferSource(),a.t.createGain());s.connect(a.Z),this._.push(s),this.it.buffer=i,this.it.loop=!0,this.it.connect(s),this.tt.push(this.it)}this.st=a.t.currentTime+.1;for(let t=0;t<e.S;t++)this.tt[t].start(this.st);a.J=!0}a.D=!0},at(){a.D&&(this.V=this.P?.3:0,this.U=this.K?1:0,h.volume=this.V,this.P?h.volume=.3:h.volume=0)},Q(t){a.D&&h.Q(...t)},mt(){a.D&&a.Z.gain.linearRampToValueAtTime(0,a.t.currentTime+1)},pt(){a.D&&a.Z.gain.linearRampToValueAtTime(1,a.t.currentTime+1)}},n={e(){n.map={KeyW:r.et.ht,KeyA:r.et.nt,KeyS:r.et.rt,KeyD:r.et.ot,Space:r.et.lt,Enter:r.et.ft,ArrowUp:r.et.ht,ArrowLeft:r.et.nt,ArrowDown:r.et.rt,ArrowRight:r.et.ot,Escape:r.et.ut},n.yt=[{x:0,y:0,ct:0},{x:0,y:-t,ct:1},{x:0,y:t,ct:1},{x:0,y:0,ct:0},{x:-t,y:0,ct:1},{x:-i,y:-i,ct:1},{x:-i,y:i,ct:1},{x:-t,y:0,ct:1},{x:t,y:0,ct:1},{x:i,y:-i,ct:1},{x:i,y:i,ct:1},{x:t,y:0,ct:1},{x:0,y:0,ct:0},{x:0,y:-t,ct:1},{x:0,y:t,ct:1},{x:0,y:0,ct:0}],n.xt=[],window.addEventListener("keydown",t=>{t=n.map[t.code],a.W(),t&&(n.xt[t]=!0)}),window.addEventListener("keyup",t=>{var i=n.map[t.code];i&&(n.xt[i]=!1),"1"<=t.key&&t.key<="9"&&(P.dt=Number(t.key)-1,P.wt.pop())}),n.is()},at(){var t=(n.xt[r.et.ht]?1:0)+(n.xt[r.et.rt]?2:0)+(n.xt[r.et.nt]?4:0)+(n.xt[r.et.ot]?8:0);n.as=n.yt[t]},is(){for(var t of(n.as=n.yt[0],Object.values(r.et)))n.xt[t]=!1}},r={et:{ht:11,rt:12,nt:13,ot:14,lt:22,Mt:21,At:30,ft:95,ut:96,Ot:97,Tt:98,Et:40,Nt:41,St:42},e(){this.as={x:0,y:0,ct:0},this.ms={},this.Rt={},this.xt={},this.It={},n.e()},at(){for(var t of(n.at(),Object.values(r.et))){var i=n.xt[t];this.ms[t]=!this.xt[t]&&i,this.Rt[t]=this.xt[t]&&!i,this.ms[t]?this.It[t]=1:this.xt[t]&&i&&this.It[t]++,this.xt[t]=i}this.as=n.as},Gt(t){},vt(t){}},o={e(){this.Lt={x:0,y:0},this.Ht=void 0,this.bt={x:0,y:0}},at(){this.Ht&&(this.Lt=this.Ht),r.ms[r.et.Et]&&(this.Dt={...this.Lt}),r.Kt&&(this.Lt={x:this.Dt.x-r.Pt.x,y:this.Dt.y-r.Pt.y})}};function x(t,i){return i={x:i.x-t.x,y:i.y-t.y},0===(t=Math.sqrt(i.x*i.x+i.y*i.y))?{x:0,y:0,ct:0}:{x:i.x/t,y:i.y/t,ct:t}}function y(t,i){return{x:Math.cos(t),y:Math.sin(t),ct:i||1}}function c(t){return{x:t.x*(t.ct||1),y:t.y*(t.ct||1)}}function f(t){return{Ut:t.x/8|0,r:t.y/8|0}}function m(t){return{x:8*t.Ut,y:8*t.r}}function L(t){return{h:t.x+l.i.h-o.Lt.x,o:t.y+l.i.o-o.Lt.y}}function u(t){return{x:t.h-l.i.h+o.Lt.x,y:t.o-l.i.o+o.Lt.y}}function d(t){return{x:t.x+4,y:t.y+4}}function g(t,i,s){return t<i?i:s<t?s:t}function w(t,i,s,h){return`rgba(${t},${i},${s},${h})`}function E(t,i){var s=document.createElement("canvas");return s.width=t,s.height=i,t=s.getContext("2d"),{E:s,t:t}}const b={kt:[[0,0,7,13]],qt:[[0,13,15,10],[15,13,15,10],[30,13,15,10],[45,13,15,10],[60,13,15,10],[75,13,15,10]],jt:[[0,23,9,7],[9,23,9,7],[18,23,9,7],[27,23,9,7],[36,23,9,7],[45,23,9,7],[54,23,9,7],[63,23,9,7]],Ft:[[0,30,28,8],[28,30,28,8],[56,30,28,8],[84,30,28,8]],Ct:[[0,38,1,1],[1,38,1,1]],Yt:[[0,39,13,13],[13,39,13,13],[26,39,13,13]],Wt:[[0,52,21,33],[21,52,21,33],[42,52,21,33],[63,52,21,33],[84,52,21,33]],font:[[0,85,180,12]],zt:[[0,97,12,8],[12,97,12,8],[24,97,12,8]],Zt:[[0,105,7,11],[7,105,7,11],[14,105,7,11]],Xt:[[0,116,10,7],[10,116,10,7],[20,116,10,7],[30,116,10,7]],Qt:[[0,123,15,11],[15,123,15,11],[30,123,15,11],[45,123,15,11]],Jt:[[0,134,1,1],[1,134,1,1],[2,134,1,1]],sign:[[0,135,10,9]],$t:[[0,144,7,6]],_t:[[0,150,10,10],[10,150,10,10],[20,150,10,10]],ti:[[0,160,8,8],[8,160,8,8],[16,160,8,8],[24,160,8,8],[32,160,8,8],[40,160,8,8],[48,160,8,8],[56,160,8,8],[64,160,8,8],[72,160,8,8]],ii:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAACoCAMAAAB+BzTgAAAAPFBMVEUAAAAoV2MsGy4vK1xElIlFfNZXJTttjDKPzMuUNT2cZWysMjK0ukfIFArRtIzUbjPjQmLytj3/9OD////yvyr4AAAAAXRSTlMAQObYZgAABTxJREFUeNrsloFq5CAQQAcBtlAa5ib//6/XwfEeImuhG1dz+HYTnTFJnlMrK6Lix624q7SK3lBat/SW3tJb+lfOzq70e6zlfrzPeZOSMyAcqfx4PFQ1vRZ6QDheWTMp/RRKbzR9ZuOH2thi+5tU402qqR9K6o9+Kgy2Vki90C27F0saLA0pIfVTmPoXSxUOJanG9+Jw7AL5TCn5mYjYE3UghDEqjBMOJiXOVUunCgjbBOFQvhxvM20n2j4yiy86/nVrOj9MDNa0p8M8BJa2r6YBy9q3HbiRPdzG/p7YN1Ne6xBUEiUgC9w8QTkQgmqwq2ZmHx/2xurj7C82E/wFpUiRBS4Q4Oox5gb+bqEnjEPvdgbreV5ddRwzEWNNqvwp2tsRrBeMw3mYMyBN9RHLkG/Emoddaf3RgQukTgek6PceLFeR/sh/Rmx1t/I0jrU4wvOw0vcI8zULfZjjZ5z9tDTZN5y9rP5d3Nptj6i1WMkJi2RFsq9rV57RRrTwmn6yLmxN57w8vhGTUF/SGUK5/f0Mq5bav//W8vrOEhv0IbfioNmsDf8E1kku56whaAgu9JPLxJDAWcM52krUligqaiGlIlqkTZbDVLO0kVNhVBa0Ns3SGsVuUaYwS9+eSDsxhl7raHMKa46AVdLGZVR2rriZZmrrkDb2ChVV9uV3OlNT9AITY8M1P3LST6CmpjOqinYlXfRi27DcyfNhUavqnIWAtpkHpn5SpI0dj0rPwLKtn/3E2g1KFmlWymRrtWiEHMWOqUiR9tNkLITdr8ppuyeHL6nZta70wpks3otgasbWRo7siiA2raSbzWaz2Ww2m83Zzfc5z1PEv+XwTwQx5kefuJfn8Iz8cei/Kh2ScTUP5kXx6cBVXM3Rkf4t+TFNlaJyMeZBB+6hCMQn0pF7bS0hTWXjIB/xrypdxS9U+qRlTVPhqEjln+O+dLum88MR5f9F7kg7S9o8q/bzntmyxhErPBPjT/J0xV0Ej/MWkK0+rfRZV76SZu1e68ye7g1Q6QjLqZ1HvhnjIkz+QmcEOQKM8nt5P4PIcJFQWSpObjTsRvK3nTPasRSEwTD+x0VhTyTs+z/stoAlDiFzp23ih9K69OIL6TLOxSgy1gGPea4RyJjlCgFyGZjn+kAmDgLzXBuIRe4fyG6SK7U+GMxzjdYRaG6gB0oh/w6V0uNfdvaUE2h1xhiUg9q2l6AdRD4hcA0GpAn0YGSr44EfQT8W/yM6ZNSQ0Wb9ABlwqNRoYqMzaKZQY7YiLYGjlV9cJHC0AYBfMn1g6x9CGTOVb02AfCeH5jFzCptGPkrEomPWG18V+HvqseuQyZu1NmvQxQlpgiZO+6dz2BhOHX1DZWLt66oqMDCtk/LnpRNSQgyRQwJdk7K6wJU6pHNC4Hkuzau6pJFSKvdUuqw6VdIR1TmK9NRZkXQoVkGk586KpIuV7PTU2VBPd2c7p4ecG11a/TktB7Qu6YFhfSh/XtoHZw80TDmHiocp6eOIRzisSZdhTDryVlvbaV/Be3rccYDAWQPB25POzh45Z4PKjEVrZw2bznyZfTVNDWn0rNZZknRmKWs/DF/pV/qVfqV1S78/XP40vo1w4j1dHOvYl33n+7N8iOXznfCg9OAc1mVf+WZnkl5USG8Nkb46+yq9rizM4t/tgjzeKh2K7iaWzdmfz0uDpAmW5uo6KPsGX6K/V7qwyd42Z3muHb2L9Fbr6822JM31D0iLY2jOstO1o0tLd+nOdtY/Ij1x9rWjVxZmljDCxQ9Iz52lp88jb+J8S3v8B76dr+s6d/atAAAAAElFTkSuQmCC"},p={si(t){var i=new Image;i.onload=t,i.src=b.ii,p.sh=i},e(){p.qt=[b.qt.map(v,{x:7,y:4})],p.qt.push(p.qt[0].map(t=>A(M(t.hi),t.hh))),p.Xt=[b.Xt.map(v)],p.Xt.push(p.Xt[0].map(t=>A(M(t.hi),t.hh))),p.Qt=b.Qt.map(v,{x:7,y:5}),p.Yt=b.Yt.map(v),p.Wt=b.Wt.map(v),p.Jt=b.Jt.map(v),p.$t=b.$t.map(v),p.jt=b.jt.map(v,{x:4,y:0}),p.Zt=[b.Zt.map(v,{x:3,y:6})],p.Zt.push(p.Zt[0].map(t=>A(M(t.hi),t.hh))),p.zt=[b.zt.map(v,{x:5,y:4})],p.zt.push(p.zt[0].map(t=>A(M(t.hi),t.hh))),p.kt=b.kt.map(v),p.Ct=b.Ct.map(v),p.sign=b.sign.map(v),p.font=v(b.font[0]),p.Ft=b.Ft.map(v),p.ti=b.ti.map(v),p._t=b._t.map(v)},ei(t,i,s,h){t.drawImage(i.hi,s-i.hh.x,h-i.hh.y)},ni(t,i,s){var{h:i,o:h}=this.ri(t,i);s?(l.t.save(),l.t.translate(i+t.hh.x,h+t.hh.y),l.t.rotate(s),l.t.drawImage(t.hi,-t.hh.x,-t.hh.y),l.t.restore()):l.t.drawImage(t.hi,i,h)},ai(t,i,s){var{h:i,o:h}=this.ri(t,i);l.t.drawImage(t.hi,i-1,h-s+t.hi.height,t.hi.width+2,s)},ri:(t,i)=>({h:i.x-t.hh.x-o.Lt.x+l.i.h,o:i.y-t.hh.y-o.Lt.y+l.i.o})};function v(t,i){return A(([t,s,h,e]=[...t],a=p.sh,(n=E(h,e)).t.drawImage(a,t,s,h,e,0,0,h,e),n.E),i);var s,h,e,a,n}function A(t,i){var s=t.width;return(i="object"!=typeof i?{}:i).hh||(i.hh={x:s/2|0,y:t.height/2|0}),i.gt||(i.gt=[-i.hh.x,-i.hh.y,t.width,t.height]),{hi:t,...i}}function M(t){var i=E(t.width,t.height);return i.t.translate(t.width,0),i.t.scale(-1,1),i.t.drawImage(t,0,0),i.E}const R={10:0,32:3,33:3,39:2,44:3,46:3,73:2},S={},O={e(){O.oi=p.font.hi,O.li=T(O.oi,w(0,0,0,1)),O.fi=T(O.oi,w(90,20,90,.15)),O.blue=T(O.oi,w(200,40,220,1)),O.ui=T(O.oi,w(240,50,200,.2)),O.red=T(O.oi,w(240,50,50,1)),O.yi=T(O.oi,w(44,27,46,1)),O.tan=T(O.oi,w(209,180,140,1)),O.ci=T(O.oi,w(227,66,98,1)),O.xi=D(O.oi,"#f2b63d","#fff4e0"),O.di=D(O.oi,"#ffaa5e","#ffd4a3",w(255,0,0,.7))},wi(t,i,s,h,e=1,a=O.xi,n){for(var r of this.Mi(i,e)){var o;S[r.c]?t.drawImage(S[r.c].hi,s+r.h,h+r.o-(S[r.c].hi.height+4)/2):(o=4*(r.c-32),n&&t.drawImage(n,o%180,6*(o/180|0),3,5,s+r.h,h+r.o+1,3*e,5*e),t.drawImage(a,o%180,6*(o/180|0),3,5,s+r.h,h+r.o,3*e,5*e))}},Ai(t,i,s,h,e,a,n=1,r=O.xi,o){let y=s,l=h,x=i.split(" ");for(var c of x){for(;"\n"===c[0];)c=c.slice(1),y=s,l+=6*n;var f=O.Oi(c,n);y+f-s>e&&(y=s,l+=6*n),O.wi(t,c,y,l,n,r,o),y+=f+R[32]}},Oi:(t,i)=>t.split("").reduce((t,i)=>t+(R[i.charCodeAt(0)]||4),0)*i,measure(t,i=1){let s=0,h=0;for(var e of this.Mi(t,i))s=Math.max(s,e.h+(R[e.c]||4)*i),h=e.o+7*i;return{w:s,mi:h}},*Mi(i,s=1){let h=0,e=0;for(let t=0;t<i.length;t++){var a=i.charCodeAt(t);10!==a?(yield{c:a,h:h,o:e},h+=(R[a]||4)*s):(h=0,e+=7*s)}}};function T(t,i){var s=E(t.width,t.height);return s.t.fillStyle=i,s.t.fillRect(0,0,t.width,t.height),s.t.globalCompositeOperation="destination-in",s.t.drawImage(t,0,0),s.E}function D(t,i,s,h){var e=E(t.width,t.height);return e.t.fillStyle=s,e.t.fillRect(0,0,t.width,t.height),e.t.fillStyle=i,e.t.fillRect(0,0,t.width,1),e.t.fillRect(0,6,t.width,1),h&&(e.t.fillStyle=h,e.t.fillRect(0,0,t.width,t.height)),e.t.globalCompositeOperation="destination-in",e.t.drawImage(t,0,0),e.E}class I{constructor(t,i,s,h){this.eh=t,this.Lt={...i},this.angle=s,this.bt=c(y(this.angle,1.7)),this.a=10*Math.PI/180,this.pi=!0,this.Ti=1,this.r=h,this.Ei=-1,this.d=60}at(){++this.Ei===this.d&&(this.Ni=!0),this.bt.x*=.9,this.bt.y=g(this.bt.y+.11,-10,2),this.a*=.99,this.r+=this.a}Si(){p.ni(p.Qt[this.eh],this.Lt,this.r)}}class K{constructor(t){this.eh=0,this.Lt={...t},this.pi=!0,this.Ei=-1,this.d=30,this.Ri=!0}at(){++this.Ei===this.d&&(this.Ni=!0),16===this.Ei&&this.eh++,25===this.Ei&&this.eh++}Si(){p.ni(p.Yt[this.eh],this.Lt,this.r)}}class N{constructor(t,i){this.eh=0,this.Lt={...t},this.angle=Math.random()*Math.PI*2,this.bt=c(y(this.angle,2.7)),this.a=10*Math.PI/180,this.pi=!0,this.Ti=1,this.r=Math.random()*Math.PI*2,this.Ei=-1-(i||0),this.d=12,this.z=1,this.Ri=!0}at(){++this.Ei===this.d&&(this.Ni=!0),this.bt.x*=.9,this.bt.y*=.9,this.a*=.99,this.r+=this.a}Si(){p.ni(p.$t[this.eh],this.Lt,this.r)}}class B{constructor(t){this.Lt={...t},this.bt={x:0,y:0},this.gt=[{x:-7,y:-5},{x:7,y:6}],this.Ei=0,this.r=0,this.z=5,this.Ii=!0,this.Ri=!0,this.pi=!0,this.Gi=!0,this.id=Math.random()}at(){this.Ei++,5===this.Ei?(this.bt.y=-4.9196875,this.Gi=!1,a.Q(a.F)):5<this.Ei&&this.Ei<32?this.r=this.Ei/32*Math.PI*2:32===this.Ei?(this.r=0,this.bt.x=3.7,this.bt.y=-5.289375000000001,a.Q(a.C)):32<this.Ei&&(this.bt.y-=.18484375),this.Ei%3==0&&P.Li.vi(new N(this.Lt,0)),this.bt.y+=.33271875,0<this.bt.x&&(this.Hi=0),this.bt.x<0&&(this.Hi=1),L(this.Lt).h>l.width&&(this.Ni=!0,P.Li.bi())}Si(){p.ni(p.Xt[0][0],this.Lt,this.r)}}const j=["pn TO MOVE HAROLD","SPACEBAR TO JUMP","","HAROLD IS HEAVY! SLAM THE GROUND\nNEAR CRATES TO BREAK THEM OPEN","BREAK OPEN EVERY CRATE AND RESCUE\nYOUR FRIENDS TO COMPLETE THE LEVEL","THE KING'S KNIGHTS ARE STILL LOOKING FOR \nYOU... TRY LANDING ON THEM!","SOME FLOATING PLATFORMS ARE UNSTABLE.\nLAND ON THEM FROM HIGH ENOUGH AND YOU\nCAN TEMPORARILY KNOCK THEM DOWN!","SOME ENEMIES ARE TOO SPIKY TO LAND ON.\nTRY LANDING NEAR THEM TO SOFTEN THEM UP!"];class z{constructor(t,i){this.Di={...t},this.gt=[{x:-7,y:-5},{x:7,y:6}],this.Ii=!0,this.Ki=i-1,this.Lt=d(m(t)),this.Lt.y=8*(t.r+1)-this.gt[1].y,this.Ei=0,this.nh=j[this.Ki],this.Pi=!1,this.Ui=O.measure(this.nh)}at(){var t,i;this.Ei++,0<this.Vi&&this.Vi--,0<this.gi&&this.gi--,!this.gi&&!this.Vi&&Math.random()<.01&&(this.Vi=30),!this.gi&&!this.Vi&&Math.random()<.01&&(this.gi=8),this.Pi=(t=this.Lt,i=P.Li.$.Lt,Math.abs(t.x-i.x)+Math.abs(t.y-i.y)<12)}Si(){p.ni(p.sign[0],{x:this.Lt.x+0,y:this.Lt.y+0})}Bi(){var t=(l.width-this.Ui.w)/2,i=l.height/2+24;l.t.fillStyle=w(44,27,46,.6),l.t.fillRect(t-2,i-2,this.Ui.w+3,this.Ui.mi+2),O.wi(l.t,this.nh,(l.width-this.Ui.w)/2,l.height/2+24,1,O.oi,O.yi)}}const C={ki(i,t){var s,h=t.filter(t=>t.Lt&&t.bt&&!t.Ni);for(let t=0;t<5;t++)for(var e of h)C.qi(i,e);for(s of h)s.Lt.x+=s.bt.x,s.Lt.y+=s.bt.y},qi(t,h){if(h.Gi){var e,i=[h.Lt.x+h.gt[0].x,h.Lt.x+h.gt[1].x],s=[h.Lt.y+h.gt[0].y,h.Lt.y+h.gt[1].y];for(e of(h.bt.x<=0?i[0]+=h.bt.x:i[1]+=h.bt.x,h.bt.y<=0?s[0]+=h.bt.y:s[1]+=h.bt.y,function*(s){for(let i=s[0].y/8|0;8*i<s[1].y;i++)for(let t=s[0].x/8|0;8*t<s[1].x;t++)yield{Ut:t,r:i}}(i=[{x:i[0],y:s[0]},{x:i[1],y:s[1]}])))if(!t.ji(e.Ut,e.r)){var a,n,r=m(e),o=[];r.y+2>=h.Lt.y+h.gt[1].y&&(a=r.y-h.gt[1].y,o.push({Lt:{x:h.Lt.x,y:a},bt:{x:h.bt.x,y:0},Fi:e})),r.x>=h.Lt.x+h.gt[1].x&&(a=r.x-h.gt[1].x,o.push({Lt:{x:a,y:h.Lt.y},bt:{x:0,y:h.bt.y}})),r.x<=h.Lt.x-h.gt[1].x&&(n=r.x+8-h.gt[0].x,o.push({Lt:{x:n,y:h.Lt.y},bt:{x:0,y:h.bt.y}})),r.y<h.Lt.y&&(n=r.y+8-h.gt[0].y,o.push({Lt:{x:h.Lt.x,y:n},bt:{x:h.bt.x,y:0}}));let i=o[0],s=x(h.Lt,i.Lt).ct;for(let t=1;t<o.length;t++){var y=x(h.Lt,o[t].Lt).ct;y<s&&(s=y,i=o[t])}h.Lt=i.Lt,h.bt=i.bt,i.Fi&&h.Ci&&h.Ci(e)}}}},Y=[{Yi:[{name:"FLOOR1",ti:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,7,8,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,1,1,1,1,8,0,0,0,0,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,0,0,0,0,0,0,0,7,1,8],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[7,1,1,1,1,1,1,1,1,1,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4],[0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,7,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4],[0,0,0,4,4,3,4,4,3,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,3,4,4,3,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,3,4,4,3,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4],[0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Wi:[{name:"SPAWN",x:2,y:6},{name:"SIGN01",x:2,y:11},{name:"SIGN02",x:11,y:11},{name:"BOX",x:51,y:-1},{name:"SIGN04",x:44,y:3},{name:"BOX",x:67,y:7},{name:"SIGN05",x:55,y:-1}],areas:[],id:0}],bounds:[[0,0],[69,24]],zi:[2,6,0]},{Yi:[{name:"FLOOR1",ti:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,5,0,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,2,2,0,0,9,9,9,0,0,0,9,9,9,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,2,2,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,2,2,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,3,4,4],[7,1,1,1,1,1,1,1,1,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,7,1,1,8,0,2,2,0,0,0,0,0,0,0,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,3,4,4],[0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,4,4,2,2,2,2,2,2,2,2,2,2,2,2,2,4,4,1,1,1,8,0,0,0,0,0,0,0,7,1,1,1,8,0,0,0,0,0,0,0,4,4,3,4,4],[0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,3,3,3,3,3,3,3,3,3,4,4,4,4,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,3,4,4],[0,0,4,4,4,4,3,4,4,4,4,0,0,0,0,0,0,0,0,7,1,1,1,8,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,3,4,4],[0,0,4,4,4,3,3,3,4,4,4,0,7,1,1,1,8,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,3,4,4],[0,0,4,4,3,3,3,3,3,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,3,3,3,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,4,3,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4],[0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4]],Wi:[{name:"SPAWN",x:4,y:2},{name:"BOX",x:47,y:9},{name:"KNIGHT",x:15,y:13},{name:"KNIGHT",x:22,y:12},{name:"KNIGHT",x:45,y:6},{name:"KNIGHT",x:49,y:6},{name:"BOX",x:69,y:10},{name:"BOX",x:58,y:10},{name:"SIGN06",x:26,y:9},{name:"BOX",x:81,y:5},{name:"KNIGHT",x:79,y:-1},{name:"KNIGHT",x:83,y:-1}],areas:[],id:0}],bounds:[[0,0],[84,22]],zi:[4,2,0]},{Yi:[{name:"FLOOR1",ti:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,5,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,5,0,5,0,5,0,0,0,0,0,0,0,0,0,0,5,0,5,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,5,6,6,6,5,0,0,0,5,0,0,5,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,7,1,1,1,8,0,0,0,5,6,6,6,5,0,0,0,5,5,5,5,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0,0,0,5,6,6,5,0,0,0,5,6,6,6,5,0,0,0,0,0,0,9,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,1,1,8,0,0,0,5,6,6,5,0,0,0,7,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,5,6,6,6,6,0,0,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,7,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0],[0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,2,2,2,2,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,6,6,6,0,0,0,0,0,0,0,0,0,0,0,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,6,6,6,0,0,0,0,0,0,0,0,9,0,0,2,2,1,8,0,0,0,0,0,0,0,0,0,0,0,9,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,6,6,6,0,0,0,0,0,9,0,0,0,0,0,4,4,2,2,1,8,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,6,6,6,0,0,9,0,0,0,0,0,0,0,0,0,0,4,4,2,2,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,7,1,1,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,2,2,1,8,0,0,7,1,1,1,1,1,1,1,1,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Wi:[{name:"SPAWN",x:11,y:8},{name:"BOX",x:61,y:20},{name:"SLAM",x:39,y:24},{name:"SIGN07",x:39,y:14},{name:"HEDGEHOG",x:17,y:12},{name:"BOX",x:11,y:4},{name:"BOX",x:45,y:17},{name:"SIGN08",x:25,y:19},{name:"HEDGEHOG",x:9,y:23},{name:"BOX",x:8,y:23}],areas:[],id:0}],bounds:[[0,0],[65,33]],zi:[11,8,0]},{Yi:[{name:"FLOOR1",ti:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,5,0,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,9,0,0,0,9,0,0,0,6,6,6,6,6,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,6,6,6,5,5],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,5,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0],[0,0,0,0,0,5,0,0,5,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,6,6,5,0],[0,0,0,0,0,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0],[0,0,0,0,0,5,6,6,6,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,6,5,0],[0,0,0,0,5,5,6,6,6,6,6,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,6,5,5,0],[0,0,0,0,6,6,6,6,5,6,6,5,6,6,6,5,0,0,0,0,0,0,0,5,6,6,6,5,6,6,6,5,0],[0,0,0,0,6,6,6,6,5,6,6,6,6,6,6,5,0,5,0,5,0,5,0,5,6,6,6,5,6,6,6,5,0],[0,0,0,0,6,6,6,6,5,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,5,5,6,6,5,0],[0,0,0,0,5,5,5,5,5,5,5,5,6,6,6,5,6,5,6,5,6,5,6,5,6,6,6,5,6,6,6,5,0],[0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,0],[0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,0],[0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,0],[0,0,0,0,0,5,6,6,6,6,6,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,0],[7,1,1,1,1,5,5,5,5,5,5,5,6,6,5,5,5,5,5,5,5,5,6,6,5,5,5,5,6,6,6,5,0],[0,0,2,2,2,5,6,6,5,6,6,5,6,6,6,6,6,6,6,6,5,6,6,6,5,6,6,6,6,6,5,5,0],[0,0,0,4,4,5,6,6,5,6,6,5,6,6,6,6,6,6,6,6,5,6,6,6,5,6,6,6,6,6,6,5,0],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,5,6,6,5,5,6,6,6,6,6,6,5,0],[0,0,0,0,0,5,6,6,5,6,6,5,6,6,6,6,6,6,6,6,5,6,6,6,5,6,6,6,5,6,6,5,0],[0,0,0,0,0,5,6,6,5,6,6,5,6,6,6,6,6,6,6,6,5,6,6,6,5,6,6,6,5,6,6,5,0],[0,0,0,0,0,5,5,5,5,5,5,5,6,6,6,5,5,5,5,5,5,5,6,6,5,5,5,5,5,5,5,5,0],[0,0,0,0,0,9,9,9,9,9,9,9,0,0,0,9,9,9,9,9,0,0,0,0,0,9,9,9,9,9,9,9,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,7,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,7,1,1,8,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,9,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0]],Wi:[{name:"SPAWN",x:1,y:15},{name:"KNIGHT",x:8,y:21},{name:"KNIGHT",x:17,y:24},{name:"KNIGHT",x:16,y:27},{name:"BOX",x:13,y:31},{name:"BOX",x:6,y:16},{name:"BOX",x:26,y:27},{name:"KNIGHT",x:28,y:25},{name:"KNIGHT",x:13,y:24},{name:"SLAM",x:13,y:16},{name:"HEDGEHOG",x:19,y:21}],areas:[],id:0}],bounds:[[0,0],[33,38]],zi:[1,15,0]}];class H{constructor(t){this.Lt={...t},this.angle=Math.random()*Math.PI*.8+1.1*Math.PI,this.bt=c(y(this.angle,1.5)),this.Lt.x+=3*this.bt.x,this.Lt.y+=5,this.bt.x/=10,this.z=12,this.Ti=1,this.r=0,this.Ei=-1,this.d=12,this.Ri=!0,this.pi=!0}at(){++this.Ei===this.d&&(this.Ni=!0),this.bt.x*=.99,this.bt.y=g(this.bt.y+s/2,-5,5)}Si(){p.ni(p.Jt[0],this.Lt,this.r)}}class U{constructor(t,i,s){this.frames=t,this.Zi=i,this.Xi=s,this.Qi=[],this.Ji=[];var h=t/2;for(let t=0;t<=h;t++)this.Qi.push(2*Math.random()-1),this.Ji.push(2*Math.random()-1);this.eh=-1}at(){var t,i,s,h;return this.eh++,this.eh>=this.frames?(this.x=0,this.y=0,!1):(t=this.eh/2,h=1-this.eh/this.frames,this.x=this.Zi*h*(this.Qi[i=0|t]+(t-i)*(this.Qi[s=1+i]-this.Qi[i])),this.y=this.Xi*h*(this.Ji[i]+(t-i)*(this.Ji[s]-this.Ji[i])),!0)}}class Q{constructor(t){this.eh=0,this.Lt={...t},this.pi=!0,this.Ei=-1,this.d=30,this.Ri=!0}at(){++this.Ei===this.d&&(this.Ni=!0),6===this.Ei&&this.eh++,12===this.Ei&&this.eh++,18===this.Ei&&this.eh++,24===this.Ei&&this.eh++}Si(){p.ni(p.Wt[this.eh],this.Lt,this.r)}}class F{constructor(t){this.$i=t,this.frames=[],this._i=0}ts(){this.frames.length<3e3&&this.frames.push({as:{...r.as},ms:{...r.ms}})}is(){this._i=0}ss(){this._i<this.frames.length?(this.as=this.frames[this._i].as,this.ms=this.frames[this._i].ms,this._i++):(this.as={x:0,y:0,ct:1},this.ms={})}done(){return this._i>=this.frames.length}}class W{constructor(t){this.Lt={...t},this.bt={x:0,y:0},this.eh=0,this.Ti=4,this.hs=0,this.es=0,this.Hi=0,this.ns=!0,this.rs=0,this.os=1,this.z=10,this.ls=this.Lt.y,this.rh=1,this.fs=[this.Lt,this.Lt],this.us=!1,this.gt=[{x:-4,y:-4},{x:4,y:5}],this.Vt=[{x:-4,y:-4},{x:4,y:5}],this.Bt=[{x:-6,y:4},{x:6,y:5}],this.Ri=!0,this.Gi=!0}at(){let t,i=r;this.ys?this.ys.ts():this.ss&&(this.ss.ss(),i=this.ss),this.fs[1]={...this.fs[0]},this.fs[0]={...this.Lt},2===this.rh?(this.cs++,30<this.cs&&P.xs()):(this.Lt.y<this.ls&&(this.ls=this.Lt.y),t=i.as.x*i.as.ct*1.3,i.as.y,i.as.ct,this.bt.x=g((this.bt.x+t)/2,-1.3,1.3),i.ms[r.et.lt]&&(this.rs=P.eh),!this.ns&&P.eh-this.rs<=8&&(this.ns=!0,this.rs=0,this.bt.y=-4.9196875,a.Q(a.B)),this.bt.y<0?this.eh=3:0<this.bt.y?(this.ns=!0,this.eh=4,12<this.Lt.y-this.ls&&(this.eh=5)):Math.abs(this.bt.x)<.1?this.eh=0:this.eh=Math.floor(this.Lt.x/8)%2+1,this.bt.y+=s,5<this.bt.y&&(this.bt.y=5),0<this.bt.x&&(this.Hi=0),this.bt.x<0&&(this.Hi=1))}Ci(t){if(!this.us){var i=this.Lt.y-this.ls;if(this.ls=this.Lt.y,this.ns&&(this.ns=!1),4<i){for(var s of(P.Li.Ci(t,72<i),P.Li.ds.push(new U(12,0,3)),P.Li.ws(new U(15,0,9),t),P.Li.ah))s.os&&s.os!==this.os&&Math.abs(s.Lt.x-this.Lt.x)<24&&Math.abs(s.Lt.y-this.Lt.y)<4&&s.Ms(this);72<i&&a.Q(a.j)}}}Si(){var t;2!==this.rh&&(t=f(this.Lt),t=(t=P.Li.As[t.r+1]?.[t.Ut])&&t.y?t.y:0,72<this.Lt.y-this.ls&&(l.t.globalAlpha=.2,p.ni(p.qt[this.Hi][this.eh],{x:this.fs[1].x,y:this.Lt.y+t-4})),72<this.Lt.y-this.ls&&(l.t.globalAlpha=.4,p.ni(p.qt[this.Hi][this.eh],{x:this.fs[0].x,y:this.Lt.y+t-2})),l.t.globalAlpha=1,p.ni(p.qt[this.Hi][this.eh],{x:this.Lt.x,y:this.Lt.y+t}))}attack(t){t.Os(this)}ps(t){2!==this.rh&&(this.rh=2,this.us=!0,this.bt.x=0,this.cs=0,P.Li.vi(new Q({x:this.Lt.x,y:t-2})),a.Q(a.q))}Ts(t){2!==this.rh&&(this.rh=2,this.us=!0,this.bt.x=0,this.cs=0,P.Li.vi(new Q({x:this.Lt.x,y:this.Lt.y})),a.Q(a.q))}}const Z={ki(t,i){var s,h,e,a=i.filter(t=>t.os);for(s of(a.sort((t,i)=>t.os-i.os),a))if(s.Bt)for(var n of a)s.os===n.os||n.Ii||s.us||n.gt&&(h=function(i){return i.Bt.map(t=>({x:t.x+i.Lt.x,y:t.y+i.Lt.y}))}(s),e=function(i){return i.Vt?i.Vt.map(t=>({x:t.x+i.Lt.x,y:t.y+i.Lt.y})):(s=i).gt.map(t=>({x:t.x+s.Lt.x,y:t.y+s.Lt.y}));var s}(n),h[1].x>=e[0].x)&&e[1].x>=h[0].x&&h[1].y>=e[0].y&&e[1].y>=h[0].y&&s.attack(n)}};class q{constructor(t){this.Di={...t},this.gt=[{x:-7,y:-5},{x:7,y:6}],this.Ii=!0,this.Lt=d(m(t)),this.Lt.y=8*(t.r+1)-this.gt[1].y,this.Ei=0,this.gi=0}at(){this.Ei++,0<this.Vi&&this.Vi--,0<this.gi&&this.gi--,!this.gi&&!this.Vi&&Math.random()<.01&&(this.Vi=30),!this.gi&&!this.Vi&&Math.random()<.01&&(this.gi=8)}Si(){let t=0,i=0;this.gi&&(i=-1),this.Vi&&(20<this.Vi||this.Vi<10)&&(t=1),p.ni(p.Qt[0],{x:this.Lt.x+t,y:this.Lt.y+i})}Ci(t){this.Di.r===t.r-1&&Math.abs(this.Di.Ut-t.Ut)<=2&&!this.Ni&&(P.Li.vi(new K({x:this.Lt.x,y:this.Lt.y})),P.Li.vi(new I(1,{x:this.Lt.x,y:this.Lt.y},225*Math.PI/180,0)),P.Li.vi(new I(2,{x:this.Lt.x+2,y:this.Lt.y},246*Math.PI/180,0)),P.Li.vi(new I(2,{x:this.Lt.x+2,y:this.Lt.y},292*Math.PI/180,V)),P.Li.vi(new I(3,{x:this.Lt.x+4,y:this.Lt.y},270*Math.PI/180,i)),P.Li.vi(new I(1,{x:this.Lt.x+10,y:this.Lt.y},315*Math.PI/180,0)),P.Li.vi(new B(this.Lt)),this.Ni=!0)}}class X{constructor(t){this.eh=0,this.Lt={...t},this.pi=!0,this.Ei=-1,this.d=56,this.Ri=!0,this.Lt.y=this.Lt.y+8-this.Lt.y%8+2}at(){++this.Ei===this.d&&(this.Ni=!0),this.eh=Math.floor(8*this.Ei/16),7<this.eh&&(this.eh=7)}Si(){p.ni(p.jt[this.eh],this.Lt)}}class ${constructor(t){this.Lt={...t},this.bt={x:0,y:0},this.eh=0,this.Ti=4,this.hs=0,this.es=0,this.Hi=1,this.ns=!0,this.os=2,this.z=4,this.gt=[{x:-3,y:-6},{x:3,y:6}],this.Vt=[{x:-3,y:-6},{x:3,y:0}],this.Bt=[{x:-3,y:-6},{x:3,y:6}],this.Ri=!0,this.Gi=!0,this.Ei=0,this.stack=[],this.stack.push({Es:-1}),this.stack.push({mt:5})}at(){this.Ei++;var t,i=this.stack[this.stack.length-1];P.Li.Ns(this)?i.mt?(this.bt.x=0,this.eh=0,i.mt--,i.mt<1&&this.stack.pop()):i.Es?(this.bt.x+=.5*this.Hi/5,this.bt.x=g(this.bt.x,-.5,.5),t=f({x:this.Lt.x+this.bt.x,y:this.Lt.y}),(P.Li.ji(t.Ut,t.r+1)||this.bt.x<0&&this.Lt.x-8*(t.Ut-1)<12&&!P.Li.ji(t.Ut-1,t.r)||0<this.bt.x&&8*(t.Ut+1)-this.Lt.x<12&&!P.Li.ji(t.Ut+1,t.r))&&(this.bt.x=0,this.stack.push({turn:-1}),this.stack.push({mt:20})),this.eh=Math.floor(this.Ei/10)%2+1):i.turn?(this.eh=0,this.Hi=-this.Hi,this.bt.x=-this.bt.x,this.stack.pop()):i.Ss&&(i.Ss--,2===i.Ss&&P.Li.vi(new X(this.Lt)),0===i.Ss&&(this.Ni=!0),this.eh=2-Math.floor(i.Ss/3)):(this.eh=0,this.bt.x*=.9),this.bt.y+=s}Si(){this.us?p.ni(p.Yt[this.eh],this.Lt):p.ni(p.Zt[1===this.Hi?0:1][this.eh],this.Lt)}Ms(t){this.us||this.stack.push({mt:12})}Os(t){this.us||(this.us=!0,this.stack=[{Ss:8}],P.Li.Rs--,a.Q(a.Y))}attack(t){t.Ts(this)}}class J{constructor(t){this.Lt={...t},this.bt={x:0,y:0},this.eh=0,this.Ti=4,this.hs=0,this.es=0,this.Hi=1,this.ns=!0,this.os=2,this.z=4,this.r=0,this.gt=[{x:-5,y:-4},{x:6,y:4}],this.Bt=[{x:-5,y:-4},{x:6,y:4}],this.Vt=[{x:-5,y:-4},{x:6,y:4}],this.Ri=!0,this.Gi=!0,this.Ei=0,this.stack=[],this.stack.push({Es:-1}),this.stack.push({mt:5})}at(){this.Ei++;var t,i=this.stack[this.stack.length-1];this.Ii=!i.Is,this.r=0,i.mt?(this.eh=0,i.mt--,i.mt<1&&this.stack.pop()):i.Es?(P.Li.Ns(this)||(this.eh=0,this.bt.x*=.9),this.bt.x+=.5*this.Hi/5,this.bt.x=g(this.bt.x,-.5,.5),t=f({x:this.Lt.x+this.bt.x,y:this.Lt.y}),(P.Li.ji(t.Ut,t.r+1)||this.bt.x<0&&this.Lt.x-8*(t.Ut-1)<12&&!P.Li.ji(t.Ut-1,t.r)||0<this.bt.x&&8*(t.Ut+1)-this.Lt.x<12&&!P.Li.ji(t.Ut+1,t.r))&&(this.bt.x=0,this.stack.push({turn:-1}),this.stack.push({mt:20})),this.eh=Math.floor(this.Ei/10)%2+1):i.turn?(this.eh=0,this.Hi=-this.Hi,this.bt.x=-this.bt.x,this.stack.pop()):i.Ss?(i.Ss--,2===i.Ss&&P.Li.vi(new X(this.Lt)),0===i.Ss&&(this.Ni=!0),this.eh=2-Math.floor(i.Ss/3)):i.Gs?(i.Gs++,2===i.Gs&&(this.bt.x=0),4===i.Gs&&(this.bt.y=-2.3),this.r=i.Gs/10*Math.PI,10===i.Gs&&(this.stack.pop(),this.stack.push({vs:1,Is:!0}))):i.vs&&(i.vs++,120<i.vs&&this.stack.pop(),this.r=Math.PI,this.eh=Math.floor(i.vs/5)%2+1),this.bt.y+=s}Si(){this.us?p.ni(p.Yt[this.eh],this.Lt):p.ni(p.zt[1===this.Hi?0:1][this.eh],this.Lt,this.r)}Ms(t){this.us||this.stack.push({Gs:1})}Os(t){this.us||(this.us=!0,this.stack=[{Ss:8}],P.Li.Rs--,a.Q(a.Y))}attack(t){t.Ts(this)}}class _{constructor(t){this.eh=0,this.Lt={...t},this.Ei=0,this.d=15,this.z=5,this.pi=!0,this.Ri=!0}at(){++this.Ei===this.d&&(this.Ni=!0),this.Lt.y+=1}Si(){l.t.globalAlpha=.6,p.ni(p.kt[this.eh],this.Lt),l.t.globalAlpha=1}}class t0{constructor(t){this.eh=Math.floor(2*Math.random()),this.Lt={...t},this.Ei=0,this.d=15,this.z=4,this.pi=!0,this.Ri=!0}at(){++this.Ei===this.d&&(this.Ni=!0),this.Lt.y+=.5}Si(){l.t.globalAlpha=1,p.ni(p.Ct[this.eh],this.Lt)}}class G{constructor(t){var i=Math.floor(3*Math.random());this.eh=Math.floor(4*Math.random()),this.Lt={x:t?l.width/2+40*Math.random():l.width+1,y:Math.floor(30*Math.random()+2)},this.bt={x:0-[.1,.2,.3][i],y:0},this.z=-1,this.Ri=!0,this.pi=!0}at(){this.Lt.x<-30&&(this.Ni=!0)}Si(){l.t.drawImage(p.Ft[this.eh].hi,this.Lt.x,this.Lt.y)}}class i0{constructor(t,i){(P.Li=this).$i=t,this.Ls=Y[this.$i],this.ti=this.Ls.Yi[0].ti.map(t=>[...t]),this.As=this.Ls.Yi[0].ti.map(t=>t.map(t=>({x:0,y:0}))),this.ah=[],this.ds=[],this.Hs=[],this.bs=[],this.Ei=0,this.Ds=0,this.Ks=0,this.$=new W(m({Ut:this.Ls.zi[0],r:this.Ls.zi[1]})),i?(i.is(),this.$.ss=i):(this.ss=new F(t),this.$.ys=this.ss),this.vi(this.$),this.vi(new N(this.$.Lt)),this.vi(new N(this.$.Lt)),this.vi(new N(this.$.Lt)),this.vi(new N(this.$.Lt)),this.vi(new G(!0)),this.Ps=0,this.Us=0,this.Rs=0;for(const t of this.Ls.Yi[0].Wi)"BOX"===t.name?(this.vi(new q({Ut:t.x,r:t.y})),this.Ps++):"KNIGHT"===t.name?(this.vi(new $(m({Ut:t.x,r:t.y}))),this.Rs++):"HEDGEHOG"===t.name?(this.vi(new J(m({Ut:t.x,r:t.y}))),this.Rs++):t.name.startsWith("SIGN")?this.vi(new z({Ut:t.x,r:t.y},Number(t.name.slice(4)))):"SLAM"===t.name&&this.bs.push(this.Vs({Ut:t.x,r:t.y}));o.Lt={...this.$.Lt}}at(){this.Ei++,4===this.Ei&&a.Q(a.g);let t=m({Ut:0,r:this.ti.length-1}).y,i=t-67.5;o.Ht={x:this.$.Lt.x,y:Math.min(this.$.Lt.y,i)},o.at(),this.$.Lt.y>t&&this.$.ps(t);var s=[...this.ah];for(const t of s)t.at();C.ki(this,s),Z.ki(this,s);for(let t=0;t<this.ah.length;t++)this.ah[t].Ni&&(this.ah.splice(t,1),t--);for(let t=0;t<this.ds.length;t++)this.ds[t].at()||(this.ds.splice(t,1),t--);for(let t=0;t<this.Hs.length;t++)15<this.Hs[t].s++&&(this.Hs.splice(t,1),t--);0<this.gs&&(this.gs--,this.Bs()),0<this.Ks&&this.Ks--,this.ks()}Si(){l.t.fillStyle="#457cd6",l.t.fillRect(0,0,l.width,l.height);var t,i=Math.floor(10*g(this.$.Lt.y/(8*this.ti.length),0,1/0)+4);l.t.fillStyle="#4b3b9c",l.t.fillRect(0,l.height-i,l.width,i);let s=0,h=0;for(t of(this.ds.forEach(t=>{s+=t.x,h+=t.y}),l.t.translate(s,h),this.ah))-1===t.z&&t.Si();this.qs(),this.js();var e,a,n=[];for(e of this.ah)-1<e.z&&e.Si(),e.Pi&&n.push(e);for(a of n)a.Bi();var r=g(Math.floor(this.Ei/5)-5,0,this.Ps);for(let t=0;t<r;t++){var o=this.Us>t?0:3;l.t.drawImage(p.Xt[0][o].hi,l.width-11*t-13,3)}}js(){var e=L({x:0,y:0}),a=this.ti,n=this.As,t=f(u({h:0,o:0})),i=f(u({h:240,o:135})),s=g(t.r-1,0,a.length-1),r=g(i.r+2,0,a.length-1),o=g(t.Ut-1,0,a[0].length-1),y=g(i.Ut+2,0,a[0].length-1);for(let i=s;i<=r;i++)for(let t=o;t<=y;t++)(6===a[i][t]||0<i&&0<n[i][t].y&&6===a[i-1][t])&&l.t.drawImage(p.ti[6].hi,8*t+e.h,8*i+e.o);for(let h=s;h<=r;h++)for(let s=o;s<=y;s++)if(0<a[h][s]&&6!==a[h][s]){let i=0;for(let t=0;t<this.bs.length;t++)h===this.bs[t].r&&s>=this.bs[t].Fs&&s<=this.bs[t].Cs&&(0<this.Ks&&i++,6<this.Ks)&&i++;l.t.drawImage(p._t[i].hi,8*s+e.h-1+n[h][s].x,8*h+e.o-1+n[h][s].y)}for(let i=s;i<=r;i++)for(let t=o;t<=y;t++)0<a[i][t]&&6!==a[i][t]&&l.t.drawImage(p.ti[a[i][t]].hi,8*t+e.h+n[i][t].x,8*i+e.o+n[i][t].y)}qs(){for(let i=0;i<this.As.length;i++)for(let t=0;t<this.As[0].length;t++)this.As[i][t].x=0,this.As[i][t].y=0;for(let t=0;t<this.Hs.length;t++){var i,s=this.Hs[t];for(i of s.ti){let t=0;s.s<9&&t++,s.s<6&&t++,s.s<4&&t++,s.s<2&&t++,this.As[i.r][i.Ut].y+=t}}}ji(t,i){return i<0||i>=this.ti.length||t<0||t>=this.ti[0].length||this.ti[i][t]<1||6===this.ti[i][t]}Ns(t){return t=f({x:t.Lt.x,y:t.Lt.y+t.gt[1].y}),!this.ji(t.Ut,t.r)}Ci(i,t){if(t)for(let t=0;t<this.bs.length;t++){var s=this.bs[t];if(i.r===s.r&&s.Fs<=i.Ut&&i.Ut<=s.Cs)for(let t=s.Fs;t<=s.Cs;t++){this.ti[s.r+1][t]=this.ti[s.r][t],this.ti[s.r][t]=5===this.ti[s.r+1][t]?6:0;var h=this.$.Lt;this.vi(new _({x:h.x,y:h.y}))}}for(var e of this.ah)e.Ci&&e.Ci(i);this.vi(new H(this.$.Lt)),this.vi(new H(this.$.Lt)),this.vi(new H(this.$.Lt)),this.vi(new H(this.$.Lt)),this.Ks=12,this.gs=4}Bs(){for(let t=0;t<this.bs.length;t++){var i,s=this.bs[t];this.ji(s.Fs,s.r)||(i=8*(s.Fs+Math.random()*(s.Cs+1-s.Fs)),s=8*s.r+8+1,this.vi(new t0({x:i,y:s})))}}bi(){this.Us++,this.Us===this.Ps&&(P.Li.$.ys&&(P.Ys=P.Li.$.ys),P.dt++,P.wt.pop(),P.Ws[this.$i].time=this.Ei,P.Ws[this.$i].time=this.Rs)}vi(i){i.z||(i.z=1);for(let t=0;t<this.ah.length;t++)if(this.ah[t].z>i.z)return void this.ah.splice(t,0,i);this.ah.push(i)}zs(t){this.ds.push(t)}ws(t,i){var s=[];for(let t=i.Ut;0<=t&&this.ji(t,i.r-1)&&!this.ji(t,i.r);t--)s.push({Ut:t,r:i.r});for(let t=i.Ut+1;t<this.ti[0].length&&this.ji(t,i.r-1)&&!this.ji(t,i.r);t++)s.push({Ut:t,r:i.r});this.Hs.push({Zs:t,ti:s,s:0})}Vs(i){let t=i.r,s=i.Ut,h=i.Ut;for(let t=i.Ut;0<=t&&this.ji(t,i.r+1)&&!this.ji(t,i.r);t--)s=t;for(let t=i.Ut+1;t<this.ti[0].length&&this.ji(t,i.r+1)&&!this.ji(t,i.r);t++)h=t;return{r:t,Fs:s,Cs:h}}ks(){this.ah.filter(t=>t instanceof G).length<1&&(this.vi(new G),this.Ds=this.Ei),300<this.Ei-this.Ds&&Math.random()<.01&&(this.vi(new G),this.Ds=this.Ei)}}class s0{constructor(){this.nh=["THANKS FOR PLAYING HAROLD IS HEAVY!","","","HAROLD'S ADVENTURE IS OVER FOR NOW, BUT YOU CAN KEEP","PLAYING IF YOU WANT! TRY PRESSING 1 2 3 4 ON YOUR KEYBOARD","TO TELEPORT BACK TO YOUR FAVORITE LEVEL.","",""],this.frames=0,this.nh[this.nh.length-1]=`SPEEDRUN SCORE    ${P.Xs()}X`}at(){this.frames++,30===this.frames&&P.Ys&&(this.ss=P.Ys,this.level=new i0(this.ss.$i,this.ss)),this.level&&this.level.at()}Si(){this.level&&(this.level.Si(),l.t.globalAlpha=.6),l.t.fillStyle="#457cd6",l.t.fillRect(0,0,l.width,l.height),l.t.globalAlpha=1;for(let t=0;t<this.nh.length;t++){var i=O.measure(this.nh[t],1).w;O.wi(l.t,this.nh[t],(l.width-i)/2,30+10*t,1,O.oi,O.yi)}}}class h0{constructor(){this.nh=["HAROLD","IS","HEAVY"],this.Ei=-12}at(){this.Ei++,36===this.Ei&&a.X(),65<this.Ei&&P.wt.pop()}Si(){l.t.fillStyle="#2c1b2e",l.t.fillRect(0,0,l.width,l.height),l.t.fillStyle="#457cd6",l.t.fillRect(l.width/2-65,l.height/2-8,130,16),l.t.fillRect(l.width/2-64,l.height/2-9,128,18);var i=g(this.Ei/6,0,10);for(let t=0;t<10;t++){var s=i>t?0:3,h=3*Math.sin(t*Math.PI*2/9+this.Ei*Math.PI*2/60);l.t.drawImage(p.Xt[0][s].hi,12*t+(l.width-120)/2,l.height/2-3+h)}this.Qs()}Qs(){var t="LOADING...",i=O.measure(t,1).w;this.Ei%30<24&&O.wi(l.t,t,(l.width-i)/2,l.height/20+25,O.xi,O.yi)}}class e0{constructor(){this.nh=["HAROLD","IS","HEAVY"],this.Lt=[{y:-20},{y:-20},{y:-20}],this.bt=[{y:0},{y:0},{y:0}],this.ds=[],this.Ei=0,this.Js=-1}at(){this.Ei++,this.bt[0].y=g(this.bt[0].y+s,0,5),15<this.Lt[0].y&&(this.bt[1].y=g(this.bt[1].y+s,0,5)),15<this.Lt[1].y&&(this.bt[2].y=g(this.bt[2].y+s,0,5)),this.Lt[0].y<45?this.Lt[0].y+=this.bt[0].y:this.ds[0]||(this.ds[0]=new U(12,0,3)),this.Lt[1].y<60?this.Lt[1].y+=this.bt[1].y:this.ds[1]||(this.ds[1]=new U(12,0,3)),this.Lt[2].y<75?this.Lt[2].y+=this.bt[2].y:this.ds[2]||(this.ds[2]=new U(12,0,3)),0<=this.Js&&this.Js++,30<this.Js&&(P.wt.pop(),P.wt.push(new h0)),(r.ms[r.et.lt]||r.ms[r.et.ft])&&(this.Js=0);for(let t=0;t<3;t++)this.ds[t]&&this.ds[t].at()}Si(){l.t.fillStyle="#457cd6",l.t.fillRect(0,0,l.width,l.height);let i=0,s=0;for(let t=0;t<3;t++)this.ds[t]&&(i+=this.ds[t].x,s+=this.ds[t].y);l.t.translate(i,s);for(let t=this.nh.length-1;0<=t;t--){var h=O.measure(this.nh[t],2).w;l.t.globalAlpha=1,O.wi(l.t,this.nh[t],(l.width-h)/2,this.Lt[t].y-1,2,O.yi),O.wi(l.t,this.nh[t],(l.width-h)/2,this.Lt[t].y+1,2,O.yi),O.wi(l.t,this.nh[t],(l.width-h)/2-1,this.Lt[t].y,2,O.yi),O.wi(l.t,this.nh[t],(l.width-h)/2+1,this.Lt[t].y,2,O.yi),O.wi(l.t,this.nh[t],(l.width-h)/2,this.Lt[t].y,2,O.ci)}if(50<this.Lt[2].y&&this.Qs(),0<=this.Js){let t=0;8<this.Js&&(t=(this.Js-8)*(l.width/2-40)/20),l.t.fillStyle="#2c1b2e",l.t.beginPath(),l.t.moveTo(l.width/2-t,0),l.t.lineTo(l.width/2+40+t,0),l.t.lineTo(l.width/2+0+t,l.height),l.t.lineTo(l.width/2-40-t,l.height),l.t.closePath(),l.t.fill()}}Qs(){var t="PRESS SPACE OR ENTER TO START",i=O.measure(t,1).w;this.Ei%30<24&&O.wi(l.t,t,(l.width-i)/2,l.height-10,1,O.oi,O.yi)}}const P=new class{e(){p.si(()=>{l.e(),p.e(),O.e(),r.e(),a.e(),o.e(),window.addEventListener("blur",()=>this.mt()),window.addEventListener("focus",()=>this.pt()),this.is(),this.start()})}is(){this.wt=[],this.$s=0,this.dt=0,this.Ws=[{time:300,Rs:10},{time:300,Rs:10},{time:300,Rs:10},{time:300,Rs:10}],this.wt.push(new e0)}start(){this.eh=0,this._s=[0],this.at(),window.requestAnimationFrame(t=>this.th(t))}th(t){var i=(new Date).getTime();40<=this._s.length&&this._s.shift(),this.ih=1e3/((this._s[this._s.length-1]-this._s[0])/this._s.length),t-this.$s>=1e3/60&&(this.eh++,this.$s=t,l.b(),this.at(),this.Si(l.t)),window.requestAnimationFrame(t=>this.th(t)),t=(new Date).getTime(),this._s.push(this._s[this._s.length-1]+t-i)}at(){r.at(),r.ms[r.et.Ot]&&(a.K=!a.K),r.ms[r.et.Tt]&&(a.P=!a.P),0===this.wt.length&&(this.dt>=Y.length?this.wt.push(new s0):this.wt.push(new i0(this.dt))),this.screen=this.wt[this.wt.length-1],this.screen.at(),a.at()}Si(){l.t.setTransform(1,0,0,1,0,0),l.t.scale(l.scale,l.scale),this.screen.Si()}mt(){this.oh||(this.oh=!0,a.mt())}pt(){this.oh&&(this.oh=!1,a.pt())}xs(){this.wt.pop()}Xs(){let i=1e4;for(let t=0;t<this.Ws.length;t++)i=(i-=3*this.Ws[t].time)-20*this.Ws[t].Rs;var t=String(i);return 3<t.length?t.slice(0,1)+","+t.slice(1):t}};P.e()</script>