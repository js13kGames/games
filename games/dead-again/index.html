<script>const t=Math.PI,i=t=>t<0?-t:t,s=(t,i)=>t<i?t:i,h=(t,i)=>i<t?t:i,e=(t,i=0,s=1)=>t<i?i:s<t?s:t,a=(t,i=0,s=1)=>s-i?e((t-i)/(s-i)):0,n=(t,i=0,s=1)=>i+e(t)*(s-i),o=(t,s,h,e)=>2*i(t.x-h.x)<s.x+e.x&2*i(t.y-h.y)<s.y+e.y,r=(t=1,i=0)=>i+(t-i)*Math.random(),l=(t=1,i=0)=>0|r(t,i),u=(t=1)=>0<t?c(t*r(0/t,1)**.5):new v,c=(i=1)=>f(new v,r(2*t),i),d=(t=new w,i=new w(0,0,0,1),s)=>s?t.ka(i,r()):new w(r(t.r,i.r),r(t.O,i.O),r(t.b,i.b),r(t.a,i.a)),g=(t=0,i)=>null==t.x?new v(t,null==i?t:i):new v(t.x,t.y);function f(t,i=0,s=1){return t.x=s*Math.sin(i),t.y=s*Math.cos(i),t}function y(t,i){return(t.x-i.x)**2+(t.y-i.y)**2}function p(t,i=1){var s=t.length();return i<s?t.scale(i/s):t}function x(t,i){return 0<=t.x&&0<=t.y&&t.x<i.x&&t.y<i.y}class v{constructor(t=0,i=0){this.x=t,this.y=i}B(){return new v(this.x,this.y)}add(t){return new v(this.x+t.x,this.y+t.y)}o(t){return new v(this.x-t.x,this.y-t.y)}multiply(t){return new v(this.x*t.x,this.y*t.y)}scale(t){return new v(this.x*t,this.y*t)}length(){return(this.x**2+this.y**2)**.5}normalize(t=1){var i=this.length();return i?this.scale(t/i):new v(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var i=Math.cos(t);return t=Math.sin(t),new v(this.x*i-this.y*t,this.x*t+this.y*i)}direction(){return i(this.x)>i(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new v(Math.floor(this.x),Math.floor(this.y))}ka(t,i){return this.add(t.o(this).scale(e(i)))}}class w{constructor(t=1,i=1,s=1,h=1){this.r=t,this.O=i,this.b=s,this.a=h}B(){return new w(this.r,this.O,this.b,this.a)}add(t){return new w(this.r+t.r,this.O+t.O,this.b+t.b,this.a+t.a)}o(t){return new w(this.r-t.r,this.O-t.O,this.b-t.b,this.a-t.a)}scale(t,i=t){return new w(this.r*t,this.O*t,this.b*t,this.a*i)}ka(t,i){return this.add(t.o(this).scale(e(i)))}toString(){return`rgb(${255*this.r|0},${255*this.O|0},${255*this.b|0},${this.a})`}}class m{constructor(t){this.time=null==t?void 0:H+t}set(t=0){this.time=H+t}active(){return H<=this.time}get(){return null!=this.time?H-this.time:0}}let z=g(1920,1200),j="arial",b=g(16),M=g(1),C=g(),A=h(b.x,b.y),S=0,D=80;const F=1/60;let B,k=[],I=[],G=0,H=0,R=0,T=0;function N(){q=g(Y.width,Y.height),W.imageSmoothingEnabled=!1}function J(){I=k.filter(t=>t.Fa);const t=i=>{if(!i.ba){i.update();for(const s of i.children)t(s)}};for(const i of k)i.parent||t(i);k=k.filter(t=>!t.ba),H=++G/60}function K(t){if(!t.ba){t.ba=1,t.parent&&t.parent.removeChild(t);for(const i of t.children)K(i,i.parent=0)}}function L(t,i){i=i.scale(1/t.j),t.j&&(t.h=t.h.add(i))}function O(t,i=0,s=0,h=1){t.Fa=i,t.Ha=s,t.ma=h}class P{constructor(t=g(),i=M,s=-1,h=b,e=0,a,n=0){this.g=t.B(),this.size=i,this.La,this.F=s,this.K=h,this.angle=e,this.color=a,this.Sa,this.j=1,this.ua=this.D=.99,this.R=0,this.Aa=.8,this.ea=1,this.za=n,this.h=new v,this.xa=0,this.Da=H,this.children=[],this.ma=1,k.push(this)}update(){var t=this.parent;if(t)this.g=this.Ua.multiply(g(t.N?-1:1,1)).rotate(-t.angle).add(t.g),this.angle=(t.N?-1:1)*this.Ta+t.angle;else if(this.h.x=e(this.h.x,-1,1),this.h.y=e(this.h.y,-1,1),t=this.g.B(),this.g.x+=this.h.x=this.D*this.h.x,this.g.y+=this.h.y=this.D*this.h.y+0*this.ea,this.angle+=this.xa*=this.ua,this.j){var s,a,r,l,u,d,f,y=this.h.y<0;if(this.ja&&(s=this.ja.h?this.ja.h.x:0,this.h.x=s+(this.h.x-s)*this.Aa,this.ja=0),this.Fa)for(var p of I)!this.Ha&!p.Ha||p.ba||p.parent||p==this||!o(this.g,this.size,p.g,p.size)||!this.ga(p)|!p.ga(this)||(o(t,this.size,p.g,p.size)?(s=(a=(s=t.o(p.g)).length())<.01?c(.001):s.scale(.001/a),this.h=this.h.add(s),p.j&&(p.h=p.h.o(s))):(s=this.size.add(p.size),a=2*(t.y-p.g.y)>s.y+0,r=2*i(t.y-p.g.y)<s.y,l=2*i(t.x-p.g.x)<s.x,!a&&!l&&r||(this.g.y=p.g.y+(s.y/2+.001)*(t.y-p.g.y<0?-1:1),p.ja&&y||!p.j?(y&&(this.ja=p),this.h.y*=-this.R):p.j&&(u=(this.j*this.h.y+p.j*p.h.y)/(this.j+p.j),d=p.h.y*(p.j-this.j)/(this.j+p.j)+2*this.h.y*this.j/(this.j+p.j),f=h(this.R,p.R),this.h.y=n(f,u,this.h.y*(this.j-p.j)/(this.j+p.j)+2*p.h.y*p.j/(this.j+p.j)),p.h.y=n(f,u,d))),a||!r&&l||(this.g.x=p.g.x+(s.x/2+.001)*(t.x-p.g.x<0?-1:1),p.j?(s=(this.j*this.h.x+p.j*p.h.x)/(this.j+p.j),a=p.h.x*(p.j-this.j)/(this.j+p.j)+2*this.h.x*this.j/(this.j+p.j),r=h(this.R,p.R),this.h.x=n(r,s,this.h.x*(this.j-p.j)/(this.j+p.j)+2*p.h.x*p.j/(this.j+p.j)),p.h.x=n(r,s,a)):this.h.x*=-this.R)));this.ma&&Dt(this.g,this.size,this)&&!Dt(t,this.size,this)&&(s=Dt(new v(t.x,this.g.y),this.size,this),p=Dt(new v(this.g.x,t.y),this.size,this),!s&&p||(this.ja=y,this.h.y*=-this.R,(y=(t.y-this.size.y/2|0)-(t.y-this.size.y/2))<0&&y>this.D*this.h.y+0*this.ea&&(this.h.y=this.D?(y-0*this.ea)/this.D:0),this.g.y=t.y),p&&(this.g.x=t.x,this.h.x*=-this.R))}}J(){Z(this.g,this.La||this.size,this.F,this.K,this.color,this.angle,this.N)}ha(t){return 0<t}ga(){return 1}}const E=new Image;let Y,W,$,U,q=g();const X=t=>t.o(C).multiply(g(A,-A)).add(q.scale(.5)).o(g(.5));function Z(t,i=g(1),s=-1,h=b,e=new w,a=0,n){!function(t,i,s,h,e){var a=W;t=X(t),i=i.scale(A),a.save(),a.translate(t.x+.5|0,t.y+.5|0),a.rotate(s),a.scale(h?-i.x:i.x,i.y),e(a),a.restore()}(t,i,a,n,t=>{var i,a,n,o;s<0?(t.fillStyle=e,t.fillRect(-.5,-.5,1,1)):(a=B.x/h.x|0,i=s%a*h.x+.3,a=(s/a|0)*h.y+.3,n=h.x-.6,o=h.y-.6,t.globalAlpha=e.a,t.drawImage(E,i,a,n,o,-.5,-.5,1,1))})}function V(t,i,s,h){Z(t,i,-1,b,s,h,0)}function _(t,i,s=.1,h){i=g((i.x-t.x)/2,(i.y-t.y)/2),s=g(s,2*i.length()),V(t.add(i),s,h,i.angle())}function Q(t){W.globalCompositeOperation=t?"lighter":"source-over"}function tt(t,i,s=1,h=new w,e=0,a=new w(0,0,0),n="center"){var o=j;U.fillStyle=h,U.lineWidth=e,U.strokeStyle=a,U.textAlign=n,U.font=s+"px "+o,U.textBaseline="middle",U.lineJoin="round",i=i.B(),(t+"").split("\n").forEach(t=>{e&&U.strokeText(t,i.x,i.y),U.fillText(t,i.x,i.y),i.y+=s})}function it(t,i,s=1,h){tt(t,X(i),s*A,h,-1*A,void 0,"right")}const st=(t,i=0)=>lt[i]&&1&lt[i][t]?1:0,ht=(t,i=0)=>lt[i]&&2&lt[i][t]?1:0,et=(t,i=0)=>lt[i]&&4&lt[i][t]?1:0;let at=g(),nt=g(),ot=0;const rt=t=>gt[0]&&gt[0][t]||g();let lt=[[]];function ut(){for(const t of lt)for(const i in t)t[i]&=1}onkeydown=t=>{t.repeat||(lt[ot=0][ct(t.keyCode)]=3)},onkeyup=t=>{lt[0][ct(t.keyCode)]=4};const ct=t=>87==t?38:83==t?40:65==t?37:68==t?39:t,dt=(onmousedown=t=>{lt[ot=0][t.button]=3,onmousemove(t),t.button&&t.preventDefault()},onmouseup=t=>lt[0][t.button]=2&lt[0][t.button]|4,onmousemove=t=>nt=dt(t),onwheel=t=>t.ctrlKey||(t.deltaY<0?-1:1),oncontextmenu=()=>!1,t=>{if(!Y)return g();var i=Y.getBoundingClientRect();return g(Y.width,Y.height).multiply(g(a(t.x,i.left,i.right),a(t.y,i.top,i.bottom)))}),gt=[];function ft(){if(S&&null!=xt.time){var t=gt[0]||(gt[0]=[]);t[0]=g(wt.x,-wt.y),t[1]=g(mt.x,-mt.y),t=lt[1]||(lt[1]=[]);for(let s=10;s--;){var i=3==s?2:2==s?3:s;t[i]=vt[s]?1+2*!st(i,1):4*st(i,1)}}}const yt=void 0!==window.ontouchstart;if(yt){let t,i;ontouchstart=ontouchmove=ontouchend=s=>{s.button=0;var h=s.touches.length;return h?(i||bt([Mt(0,i=1)]),s.x=s.touches[0].clientX,s.y=s.touches[0].clientY,(t?onmousemove:onmousedown)(s)):t&&onmouseup(s),t=h,!s.cancelable}}let pt,xt=new m,vt=[],wt=g(),mt=g();class zt{constructor(t){this.D=t[1]||0,t[1]=0,this.i=Mt(...t)}play(t,i=1,s=1,h=1){var e=0;if(t){if(900<(e=y(C,t)))return;i*=a(e**.5,30,21),e=2*X(t).x/Y.width-1}return bt([this.i],i,s+s*this.D*h*r(-1,1),e)}}class jt{constructor(){this.i=function(t,i,s,h=125){let e,a,n,o,r,l,u,c,d,g,f,y,p,x,v=0,w=[],m=[],z=[],j=0,b=0,M=1,C={},A=44100/h*60>>2;for(;M;j++)w=[M=c=y=0],s.forEach((h,S)=>{for(u=i[h][j]||[0,0,0],M|=!!i[h][j],x=y+(i[h][0].length-2-!c)*A,p=S==s.length-1,a=2,o=y;a<u.length+p;c=++a){for(r=u[a],d=a==u.length+p-1&&p||g!=(u[0]||0)|r|0,n=0;n<A&&c;n++>A-99&&d&&(f+=(f<1)/99))l=(1-f)*w[v++]/2||0,m[o]=(m[o]||0)-l*b+l,z[o]=(z[o++]||0)+l*b+l;r&&(f=r%1,b=u[1]||0,r|=0)&&(w=C[[g=u[v=0]||0,r]]=C[[g,r]]||((e=[...t[g]])[2]*=2**((r-12)/12),0<r?Mt(...e):[]))}y=x});return[m,z]}(...os)}play(t=1,i=1){return bt(this.i,t,1,0,i)}}function bt(t,i=1,s=1,h=0,a=0){var n,o;if((pt=pt||new(window.AudioContext||webkitAudioContext)).resume(),"running"==pt.state)return n=pt.createBuffer(t.length,t[0].length,44100),o=pt.createBufferSource(),t.forEach((t,i)=>n.getChannelData(i).set(t)),o.buffer=n,o.playbackRate.value=s,o.loop=a,(t=pt.createGain()).gain.value=.5*i,t.connect(pt.destination),(window.StereoPannerNode?o.connect(new StereoPannerNode(pt,{pan:e(h,-1,1)})):o).connect(t),o.start(),o}function Mt(e=1,a=.05,n=220,o=0,l=0,u=.1,c=0,d=1,g=0,f=0,y=0,p=0,x=0,v=0,w=0,m=0,z=0,j=1,b=0,M=0){let C,A,S=2*t,D=g*=500*S/44100/44100,F=[],B=(a=n*=(1+a*r(-1,1))*S/44100,0),k=0,I=0,G=1,H=0,R=0,T=0;for(f*=500*S/44100**3,w*=S/44100,y*=S/44100,p*=44100,x=44100*x|0,A=(o=44100*o+9)+(b*=44100)+(l*=44100)+(u*=44100)+(z*=44100)|0;I<A;F[I++]=T)++R%(100*m|0)||(T=c?1<c?2<c?3<c?Math.sin((B%S)**3):h(s(Math.tan(B),1),-1):1-(2*B/S%2+2)%2:1-4*i(Math.round(B/S)-B/S):Math.sin(B),T=(x?1-M+M*Math.sin(S*I/x):1)*(T<0?-1:1)*(T<0?-T:T)**d*e*.5*(I<o?I/o:I<o+b?1-(I-o)/b*(1-j):I<o+b+l?j:I<A-z?(A-I-z)/u*j:0),T=z?T/2+(z>I?0:(I<A-z?1:(A-I)/z)*F[I-z|0]/2):T),C=(n+=g+=f)*Math.cos(w*k++),B+=C-C*v*(1-1e9*(Math.sin(I)+1)%2),G&&++G>p&&(n+=y,a+=y,G=0),!x||++H%x||(n=a,g=D,G=G||1);return F}let Ct=[],At=g();const St=(t,i=0)=>{x(t,At)&&(Ct[(0|t.y)*At.x+t.x|0]=i)};function Dt(t,i=g(),e){var a=h(t.x-i.x/2|0,0),n=h(t.y-i.y/2|0,0),o=s(t.x+i.x/2,At.x);for(t=s(t.y+i.y/2,At.y);n<t;++n)for(i=a;i<o;++i){var r=Ct[n*At.x+i];if(r&&(!e||e.ha(r,new v(i,n))))return 1}}function Ft(t){var s=(s=ri.g).floor(),h=(t=t.floor()).o(s),e=i(h.x),a=-i(h.y),n=h.x<0?-1:1;h=h.y<0?-1:1;let o=e+a;for(let i=s.x,r=s.y;;){if((s=x(s=g(i,r),At)?Ct[(0|s.y)*At.x+s.x|0]:0)&&0<s)return new v(i+.5,r+.5);if(i==t.x&r==t.y)break;a<=(s=2*o)&&(o+=a,i+=n),s<=e&&(o+=e,r+=h)}}class Bt{constructor(t,i=0,s=0,h=new w){this.i=t,this.direction=i,this.N=s,this.color=h}}function kt(i,s){var h=s.floor().add(i.g).add(g(.5));(function(t,i){var s=g(1);const h=t.m;h.save(),i=i.o(t.g).multiply(t.K),s=s.multiply(t.K),h.translate(i.x,t.i.height-i.y),h.rotate(0),h.scale(s.x,s.y),(t=>{t.clearRect(-.5,-.5,1,1)})(h),h.restore()})(i,h),null!=(s=x(s,i.size)&&i.data[(0|s.y)*i.size.x+s.x|0]).i&&Z(h,g(1),s.i,i.K,s.color,s.direction*t/2,s.N)}function It(t,i,s){var h=li;x(t,h.size)&&(h.data[(0|t.y)*h.size.x+t.x|0]=i,s&&kt(h,t))}function Gt(){var t=li;t.i.width=t.size.x*t.K.x,t.i.height=t.size.y*t.K.y,t.A=[Y,W,C,A],Y=t.i,W=t.m,C=t.size.scale(.5),A=t.K.x,N();for(let i=t.size.x;i--;)for(let s=t.size.y;s--;)kt(t,g(i,s));[Y,W,C,A]=t.A}class Ht extends P{constructor(t=At,s=b){var h=g(1);for(super(g(0),t,-1,s,0,void 0,0),this.i=document.createElement("canvas"),this.m=this.i.getContext("2d"),this.scale=h,this.s,this.data=[],t=this.size,t=i(t.x*t.y);t--;)this.data.push(new Bt)}update(){}J(){}Ba(){var t=X(this.g.add(g(0,this.size.y*this.scale.y)));(this.s?U:W).drawImage(this.i,t.x,t.y,A*this.size.x*this.scale.x,A*this.size.y*this.scale.y)}}function Rt(t){var i=null!=t.s.x?new v(r(-.5,.5),r(-.5,.5)).multiply(t.s).rotate(t.angle):u(.5*t.s);i=new Nt(t.g.add(i),t.F,t.K,t.angle+r(t.L,-t.L));const s=t.U;var h=(o=t=>t+t*r(s,-s))(t.pa),e=o(t.G),a=o(t.qa),n=o(t.speed),o=o(t.$)*(2*(0|r(2))-1);const l=r(t.C,-t.C),c=d(t.M,t.na,t.T),g=d(t.aa,t.fa,t.T);i.s=c,i.i=g.o(c),i.h=f(new v,t.angle+l,n),i.xa=o,i.H=h,i.G=e,i.l=a-e,i.A=t.A,i.D=t.D,i.ua=t.ua,i.R=t.R,i.Aa=t.Aa,i.ea=t.ea,i.ma=t.ma,i.m=t.m,i.za=t.za,i.N=r()<.5,i.C=t.va,t.oa&&t.oa(i)}class Tt extends P{constructor(i,s,h=0,e=0,a=100,n=t,o=-1,r=b,l=new w,u=new w,c=new w(1,1,1,0),d=new w(1,1,1,0),g=.5,f=.1,y=1,p=.1,x=.05,m=1,z=1,j=0,M=t,C=.1,A=.2,S,D,F=1,B=(D?1e9:0)){super(i,new v,o,r,s,void 0,B),this.s=h,this.l=e,this.H=a,this.C=n,this.M=l,this.na=u,this.aa=c,this.fa=d,this.T=F,this.pa=g,this.G=f,this.qa=y,this.speed=p,this.$=x,this.D=m,this.ua=z,this.ea=j,this.L=M,this.A=C,this.U=A,this.ma=S,this.m=D,this.i=0}update(){if(this.parent&&super.update(),!this.l||H-this.Da<=this.l){if(+this.H){var t=1/this.H;for(this.i+=F;0<this.i;this.i-=t)Rt(this)}}else K(this)}J(){}}class Nt extends P{constructor(t,i,s,h){super(t,new v,i,s,h)}J(){var t=s((H-this.Da)/this.H,1),i=this.G+t*this.l,h=(i=new v(i,i),this.A/2);h=new w(this.s.r+t*this.i.r,this.s.O+t*this.i.O,this.s.b+t*this.i.b,(this.s.a+t*this.i.a)*(t<h?t/h:1-h<t?(1-t)/h:1)),this.m&&Q(1),Z(this.g,i,this.F,this.K,h,this.angle,this.N),this.m&&Q(),1==t&&(this.color=h,this.size=i,this.C&&this.C(this),this.ba=1)}}var Jt;function Kt(){Lt(),document.body.style.cursor="crosshair",S=1,ni=ai=0,ri=null}function Lt(){let t=13;yt&&(t-=3),A=s(window.innerWidth,window.innerHeight)/t,D=80*A/32}function Ot(){var t=ri?ri.V:12,i=ri?ri.X:0,s=ri?ri.W:0,h=ri?ri.u.F:15,e=ri?ri.u.I:6;let a;gs=[],ri=void 0,vi=[],wi={},di=[],fi=[],yi=[],pi=[],xi=[],Et=0,function(){for(const t of k)t.parent||K(t);k=k.filter(t=>!t.ba)}(),ei=Ri[ni%Ri.length],Jt=new qi,ri=new es,C=ui.B(),ri.V=t,ri.X=i,ri.W=s,(a=new(20==h?$i:16==h?Ui:Wi)(ri.g)).I=e,s=rs(0,-.1,7,i=[0,12,14,15,0,12,15,14],t=[void 0,void 0,void 0,void 0,2,2,2,2,0,0,0,0,2,2,2,2,0,0,0,0,7,7,7,7,5,5,5,5,9,9,11,11,13,15,17,19]),os[1][1].push(s),i=rs(0,.1,14,i,t),os[1][1].push(i),i=Array(t.length).fill(0),t=Array(t.length/2).fill(0),os[1][0].push(rs(1,0,7,s=[0,0,void 0,void 0,0,0,void 0,void 0],[0,0,0,0])),os[1][1].push(rs(1,0,7,s,i)),os[1][1].push(rs(2,.1,7,[void 0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,void 0,0,0],t)),ls||(ls=new jt,us=ls.play(cs))}function Pt(t){let i,s,h;for(;s=y(i=g(r(ks[ei.map].w),r(ks[ei.map].Z)),ri.g)**.5,h=Dt(i,g(1)),s<t||h;);return i}var Et=0;function Yt(){var i=1/30;if(1==(Gs=e(Gs+(0==Is?-i/1.5:i),0,1))&&(Is=0,Hs&&(Hs(),Hs=void 0)),0==Bi)Z(C,g(4),6,ii,new w(1,1,1,h(0,.2*Math.sin(G*t/1e3)))),Xt="DEAD AGAIN",ai&&(Zt="Score: "+ai+"  Top: "+localStorage.Ga),Vt="Click to start",(et(0)||ht(0,1))&&(Wt(),yt&&!document.fullscreenElement&&(document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():document.body.webkitRequestFullScreen?document.body.webkitRequestFullScreen():document.body.mozRequestFullScreen&&document.body.mozRequestFullScreen()),Ns(()=>{ni=ai=0,ri=null,Ot(),Ut(1)}));else if(1==Bi){for(var s of di)gs.push(new ds(s.g,.002,1,3,2/60));for(r()<.1&&gs.push(new ds(ri.g,-.001,0,5,r(5))),i=0;i<gs.length;i++)(s=gs[i]).update(),0===s.Ca&&(gs.splice(i,1),i--);if(Zt=3e3<(new Date).getTime()-$t?"":"Level "+(ni+1),_t--,(i=ei.ia+ci-Et+di.length)<=3&&(Vt=i+" left"),0==i)Ut(3),ri.u.reload(),fs(xs,C,2,.8,0,1e3);else{if(ci=ni/Ri.length|0,di.length<ei.sa+ci&&Et<ei.ia+ci&&_t<=0){i=Pt(5),s=0;var a,n=r();for(let t=0;t<ei.da.length;t++)if(n<=(s+=ei.da[t].Y)){var o=ei.da[t].type;break}a=new("v"==o?as:"g"==o?ss:ns)(i),di.push(a),Et++,_t=r(120)}if(ri.v<=0)Ut(2),localStorage.Ga=h(ai,localStorage.Ga||0);else{if(ri.u&&0==G%150)if(qt||0!=hs())0!=hs()&&(qt=!1);else{for(var l of(a=0,k))l instanceof Ti&&a++;a<4&&(l=new Ti(Pt(7),ri.u.F),xs.play(l.g,.5,3),qt=!0)}l=at,yt&&ri.u&&(l=ri.g.add(f(g(0),ri.u.angle+t/2).normalize(6))),C=C.ka(ri.g.add(l.o(ri.g).scale(.5)),.03),.01<oi.length()&&(oi=oi.multiply(g(-.7))),C=C.add(oi)}}}else 2==Bi?(Zt="YOU DIED",4e3<(new Date).getTime()-$t&&Ut(0)):3==Bi&&(Zt="Level "+(ni+1)+" cleared",2e3<(new Date).getTime()-$t&&(Vt="Click to continue",ht(0)||ht(0,1))&&(Wt(3),Ns(()=>{ni++,Ot(),Ut(1)})))}function Wt(t=5){for(let i=0;i<t;i++)vs.play(C.add(g(10,0)),1,.5+i/10),setTimeout(()=>Ms.play(C.add(g(-10,0)),.5,2+i/5,.5),300+50*i)}var $t=(new Date).getTime();function Ut(t){Vt=Zt=Xt=void 0,$t=(new Date).getTime(),Bi=t}var qt,Xt,Zt,Vt,_t=0;function Qt(){}function ti(){var t;for(null!=(t=Jt)&&t.J(),t=0;t<pi.length;t++)pi[t].Ba();for(t=0;t<xi.length;t++){var i=xi[t];V(i.g,g(1/12,2/12),i.color,i.angle),0<i.la&&(i.g=i.g.add(i.h),i.h.y-=1/144,i.angle+=i.Pa,i.la--)}for(t=0;t<fi.length;t++)for(i=0;i<fi[t].pattern.length;i++)fi[t].pattern[i]&&V(g(fi[t].g.x-(2+i%4)/12,fi[t].g.y-(2+Math.floor(i/4))/12),g(1.1/12),fi[t].color);for(t=0;t<vi.length;t++)Z((i=vi[t]).g,g(1/3),i.F,si,ji,i.angle);for(t=0;t<yi.length;t++)V((i=yi[t]).g,g(i.size/12),i.color)}const ii=g(12),si=g(4),hi=g(.6,.8);j="Courier New";let ei,ai=0,ni=0,oi=g(0),ri=null;var li,ui,ci=0,di=[],gi={},fi=[],yi=[],pi=[],xi=[],vi=[],wi={},mi=[],zi=new w(0,0,0),ji=new w,bi=ji.scale(.5),Mi=new w(172/255,50/255,50/255),Ci=new w(217/255,160/255,.4),Ai=new w(217/255,87/255,99/255),Si=new w(99/255,155/255,1),Di=new w(251/255,242/255,54/255),Fi=new w(55/255,148/255,110/255),Bi=0,ki={v:1,ya:1,ta:.06},Ii={v:22,ya:5,ta:.5},Gi={v:1,ya:.5,ta:.2,Oa:5},Hi={v:1,ya:.5,ta:.05};const Ri=[{map:0,ia:10,sa:3,da:[{Y:1}]},{map:1,ia:12,sa:3,da:[{Y:1}]},{map:3,ia:15,sa:4,da:[{Y:.5},{type:"v",Y:.5}]},{map:4,ia:15,sa:4,da:[{Y:.5},{type:"g",Y:.5}]},{map:2,ia:1/0,sa:5,da:[{Y:.4},{type:"v",Y:.3},{type:"g",Y:.3}]}];class Ti extends P{constructor(t,i){super(t,g(1),20==i?23:16==i?22:21,ii),this.i=g(.5)}update(){o(this.g,this.i,ri.g,ri.$)&&(22==this.F?ri.X+=12:23==this.F?ri.W+=6:ri.V+=24,ps.play(this.g),K(this))}}function Ni(i,s,h,e){return new Tt(i,0,0,s,r(10,20),t,-1,void 0,h||Mi,h||Mi,zi,zi,2*s,e||.12,e||.1,r(.1,.4),2/12,.5,1,0,t,.1,.5,!1,!1,!1,1e8)}class Ji extends P{constructor(i,s){super(i,g(1),s,ii,r(-t/8,t/8),ji),O(this,!0,!0),this.Ia=!1}ha(){return Pi(),Bs.play(),Ni(this.g,r(.4,.8),bi),K(this),!1}}function Ki(t,i){t=t.g.add(t.h.normalize(r(.2,.6))),yi.push({g:t,color:zi});for(let s=0;s<4;s++)yi.push({size:i?3:1,g:t.add(u(1/12)),color:new w(0,0,0,r(.1,.5))});Ni(t.B(),.1,Di,.06)}class Li extends P{constructor(t,i,s,h){super(t,g(.15),-1,ii,0,i),this.A=s,this.i=h||1,this.m=0,O(this,!0,!0,!0),this.s=zs}update(){this.m++,this.m>this.A?K(this):super.update()}ha(t,i){return 11==t&&(t=i.x+"_"+i.y,gi[t].v--,Ki(this,!0),Bs.play(i,1.5),Ni(i.add(g(.5)),.1,ji,.25),gi[t].v<=0&&(It(i,new Bt(12,l(4),!1,new w(1,1,1,r(.2,.5))),!0),Gt(),Bs.play(i,3),Ni(i.add(g(.5)),.3,ji,.5),St(i,0))),Ki(this),K(this),this.s.play(),!1}ga(t){if(!(this.i<=0)&&t instanceof ts){if(t.v<=0)return!1;var i=s(t.v,this.i);if(t.ca(this.h.B(),this.g.B(),i),this.i-=i,this.i<=0)return void K(this);this.s.play(this.g,2)}return!1}}class Oi extends P{constructor(i,s,h,e){super(i,s,h,e,0,new w(1,1,1,.7)),this.i=0,this.m=1,this.s=t,O(this,!1,!1,!0),this.G=Ni(this.g,r(.5,1)),this.A=90}update(){this.i++,this.angle=this.m*s(1,this.i/10)*this.s/2,this.h.x=.9*this.h.x,this.h.y=.9*this.h.y,this.G.g=this.g,this.A&&(r()<.1&&Ei(this.g),this.A--),super.update()}J(){}Ba(){super.J()}}function Pi(){oi=g(r(-.5,.5),r(-.5,.5))}function Ei(t){t={g:t.add(u(.2)),color:Mi.scale(r()),pattern:[]};for(let i=0;i<16;i++)t.pattern.push(.5<r()?1:0);fi.push(t)}class Yi extends P{constructor(t,i){super(t,g(1),i,ii),this.A=.7,this.L=this.size.y,this.i=.4,this.P=6,this.wa=18,this.T=g(.4),this.I=this.P,this.s=!1,this.l=void 0,this.H=.25,this.G=void 0,this.C=!1,this.aa=js,this.$=bs}update(){if(this.S&&0<this.S.v){if(yt&&ht(0,1))return void this.reload();if(et(82)||et(32))return void this.reload();var e=-this.angle;ot?.1<rt(1).length()&&(e=Math.atan2(rt(1).y,rt(1).x)):yt||(e=Math.atan2(at.y-this.S.g.y,at.x-this.S.g.x)),this.g.x=this.S.g.x+this.A*Math.cos(e),this.g.y=this.S.g.y+this.A*Math.sin(e),this.angle=-e,this.size.y=i(this.angle)>t/2?-this.L:this.L,1==Bi&&(yt?(et(1,1)||ht(13))&&this.m():ht(0)&&this.m()),this.s&&H>this.l.time&&(this.C=!1,20==this.F?(this.C=ri.W<=0,ri.W=h(0,ri.W-1)):16==this.F?(this.C=ri.X<=0,ri.X=h(0,ri.X-1)):(this.C=ri.V<=0,ri.V=h(0,ri.V-1)),this.C||(this.aa.play(),this.I=s(this.P,this.I+1),this.l.set(this.H)),this.I==this.P||this.C)&&(this.l.time=void 0,this.s=!1),this.I<=0&&!this.s&&this.reload()}else{var a;this.S||(a=o(this.g,this.T,ri.g,ri.$),0<ri.v&&a&&!this.U&&((e=ri).u&&(e.u.size.y=this.L,e.u.angle=0,e.u.S=null,e.u.g=this.g.B(),ps.play(this.g)),(this.S=e).u=this),this.U=a)}super.update()}J(){var t;this.S&&(yt||20==this.F)&&!this.s&&.4<r()&&(t=Ft(t=ri.g.add(g(100*Math.cos(-this.angle),100*Math.sin(-this.angle)))).o(ri.g).length()-r(1,1.2),t=this.g.add(g(t*Math.cos(-this.angle),t*Math.sin(-this.angle))),_(this.g,t,.02,Mi)),super.J()}m(t){return ls&&(us=us||ls.play(cs)),this.s||this.I<=0?(this.$.play(this.g),!1):(yt||(Js="#fff",Ks=1),Ni(this.g.add(this.g.o(this.S.g).normalize(1-this.A)),.1,Di,.06),this.I--,this.G.play(this.g,3,.5),this.G.play(this.g,3,1),this.G.play(this.g,3,1.02),xi.push({g:this.g.B(),h:g(r(-1/30,1/30),1.1/12),Pa:.3,angle:0,color:t,la:l(20,40)}),!0)}reload(){this.s||this.I==this.P||(this.l=new m(this.H),this.s=!0)}}class Wi extends Yi{constructor(t){super(t,15),this.A=.7,this.i=.4,this.I=this.P=6,this.wa=18,this.H=.25,this.G=ws}m(){if(super.m(Ci)){let t=new Li(this.g.B(),Ci,28);t.h.x=Math.cos(-this.angle)*this.i,t.h.y=Math.sin(-this.angle)*this.i}return!0}}class $i extends Yi{constructor(t){super(t,20),this.A=.3,this.i=.5,this.P=1,this.wa=19,this.I=this.P,this.H=2,this.G=vs}m(){if(super.m(Si)){let t=new Li(this.g.B(),Si,40,12);t.h.x=Math.cos(-this.angle)*this.i,t.h.y=Math.sin(-this.angle)*this.i}return!0}}class Ui extends Yi{constructor(t){super(t,16),this.i=this.A=.3,this.P=2,this.wa=17,this.I=this.P,this.H=.6,this.G=ms}m(){if(super.m(Ai)){var i=t/6;let s=-this.angle-i/2;for(let t=0;t<4;t++){let t=new Li(this.g.B(),Ai,22);t.h.x=Math.cos(s)*this.i,t.h.y=Math.sin(s)*this.i,s+=i/4}}return!0}}class qi{constructor(){var s=ks[ei.map],h=s.w,e=s.Z;gi={},li=new Ht(g(h,e),ii),At=g(h,e);for(var a=(Ct=[]).length=i(At.x*At.y);a--;)Ct[a]=0;for(a=0;a<e;a++)for(let i=0;i<h;i++){It(g(i,e-1-a),new Bt(12,l(4),!1,new w(1,1,1,r(.2,.5))));let n=s.data[i+a*h];if(n){--n;let o=g(i+.5,e-1-a+.5);if(0==n)ui=o;else if(15==n)new Wi(o);else if(16==n)new Ui(o);else if(20==n)new $i(o);else if(4==n)di.push(new is(o));else if(21==n)new Ti(o,15);else if(22==n)new Ti(o,16);else if(23==n)new Ti(o,20);else{11==n?gi[i+"_"+(e-1-a)]={v:3}:(gs.push(new ds(o,.02,.7,1.05,0)),vi.push({g:o.add(u(5/12)),F:229+l(11),angle:r(2*t)})),St(g(i,e-1-a),n);try{14!=n&&9!=n||n!=s.data[i+(a+1)*h]-1||(n=14==n?24:13)}catch(t){}It(g(i,e-1-a),new Bt(n,0,24!=n&&r()<.5))}}}Gt()}J(){li.Ba()}}function Xi(t,i){var s=t.h.length();s<(i*=s*s)&&(i=s),s=t.h.normalize(i),t.h=t.h.o(s)}function Zi(t,i,s,h=1,e=1){r()>i||(i=.5,t.i&&(i=(i=t.i.length()/10)<1?.5:.5/(i*i)),fs(t.U,t.g,s*i,h,1,50,e))}function Vi(t){for(let s=0;s<t.oa.length;s++){var i=t.oa[s];for(let s=0;s<i.pattern.length;s++)i.pattern[s]&&V(g(t.g.x+i.g.x-s%2/12,t.g.y+i.g.y-Math.floor(s/2)/12),g(1/12),Mi)}}class _i extends P{constructor(i,s,h){super(i,s,h,g(9,12)),this.L=0,this.s=60,this.$=g(.5),this.m=void 0,O(this,!0,!0),this.j=1,this.R=.1,this.D=1,this.A=0,this.N=!1,this.v=3,this.oa=[],this.T=r(2*t),this.na=this.U=this.i=this.G=void 0}update(){.01<this.h.length()?(this.L=(this.L+1)%this.s,this.N=this.L>this.s/2,this.A=this.L>this.s/2?0:1/12):(this.L=0,this.N=!1),this.na&&(this.na.g=this.g),super.update()}J(){Z(g(this.g.x,this.g.y+this.A),this.size,this.F,this.K,this.color,this.angle,this.N),this.H()}H(){this.m&&this.i&&this.i.y<=0&&Z(this.g.add(g((0<this.i.x?1:0)/12,.25+this.A)),g(.25),this.m,si),Vi(this)}}function Qi(i){var s=(i.i||ri.g.o(i.g)).angle()-i.T,h=2*t/100;s=(s+100*t)%(2*t),i.T+=(s<0?-s:s)<h?s:0<s&&(s<0?-s:s)<t?h:-h,h=f(g(1),i.T,4/12),_(s=i.g.add(g(.25,.125)),s.add(h),1.2/12,i.G),_(s=i.g.add(g(-.25,.125)),s.add(h),1.2/12,i.G)}class ts extends _i{constructor(t,i,s,h){super(t,i,s),this.Ka=h.ta+.1*h.ta*ci,this.v=h.v+Math.floor(ci*h.ya),this.qa=20,this.pa=100,this.fa=r(this.qa,this.pa),this.C=.1,this.aa=.01,this.va=this.i=void 0,this.U=Ms}update(){if(this.fa--<=0&&(this.i=ri.g.o(this.g),this.fa=r(this.qa,this.pa),Zi(this,.3,r(.9,1.2))),r()<.1){let i=g(0);this.i&&(i=this.i.normalize(this.C));var t=u(this.aa);L(this,i=i.add(t))}Xi(this,1.5),this.h=p(this.h,this.Ka),super.update()}ha(t,i){return this.va&&y(i,this.va)<.01&&r()<.1&&(t=(t=i.add(g(.5))).ka(this.g,.5),gs.push(new ds(t,.02,0,r(1,2),r(1,2)))),this.va=i.B(),!0}ga(t){var i;return t instanceof ts&&(i=t.g.o(this.g)).length()<.7&&(L(t,i=i.normalize(r(.1)/(i.length()+.001))),Zi(this,.1,.9,1)),t instanceof es&&Zi(this,.1,.3,r(2,3)),t instanceof Ji&&t.Ia&&this.ca(t.h,t.g,1),!1}ca(i,s,h){if(!(this.v<=0)){this.v-=h,L(this,i.scale(1+h)),this.na=Ni(this.g,r(h/4,h/2));for(var e=h;e--;)Ei(s);if(this.v<=0){if(Zi(this,1,3,r(2,2.5),r(5)),(s=h=new Oi(this.g.B(),this.size.B(),this.F,this.K)).h.x=i.x/3,s.h.y=i.y/3,s.m=0<i.x?1:-1,s.s=-t/2+r(t)+t,pi.push(h),di.splice(di.indexOf(this),1),this instanceof is){for(;0<di.length;)di[0].v=1,di[0].ca(i,di[0].g,1);ai+=10,Ut(3),ri.u.reload(),fs(xs,C,2,.8,0,1e3)}return K(this),ai++,!0}for(i=h;i--;){for((h={g:s.o(this.g).scale(.33),pattern:[]}).g=h.g.add(u(.2)),e=4;e--;)h.pattern.push(0|r(2));this.oa.push(h)}return!1}}}class is extends ts{constructor(t){super(t,g(1.5,2),5,Ii),this.j=12,this.M=this.Ea=this.ra=!1,this.l=void 0,this.Ma=Cs,this.Na=As,this.Ja=Ss,this.m=9}update(){if(2!=Bi){if(this.M){if(this.m=19,this.l.g=this.g.B(),!(H>this.Qa.time))return;this.M=!1,this.Ea=!0,this.Ra=new m(1),this.l.h=p(ri.g.o(this.g),.3),this.l.xa=r(-.1,.1),this.l.Ia=!0,this.Na.play(this.g)}if(this.Ea){if(!(H>this.Ra.time))return;this.m=9}super.update(),this.N!=this.ra&&(Pi(),this.Ma.play(this.g),this.ra=this.N)}}H(){Z(this.g.add(g((-1<ri.g.o(this.g).x?1:0)/12,7/12+this.A)),g(.5),this.m,g(6)),Vi(this)}ga(){return!0}ha(t,i){if(!this.M)return 0<i.x&&0<i.y&&i.x<li.size.x&&i.y<li.size.y&&(It(i,0,!0),St(i,0)),this.M=!0,this.Ja.play(this.g),this.l=new Ji(this.g.B(),t),this.Qa=new m(1),!0}}class ss extends ts{constructor(t){super(t,hi,4,Hi),this.m=228,this.j=2,this.color=this.G=bi.B(),this.M=r(30,120),this.l=!1,this.U=Fs}update(){this.M--,this.M<0&&(this.M=r(30,120),this.l=!this.l,this.color.a=this.l?1:.3,this.G.a=this.color.a),O(this,this.l,this.l,this.l),super.update()}H(){Qi(this),super.H()}}function hs(){var t=ri;return 16==t.u.F?t.u.I+t.X:20==t.u.F?t.u.I+t.W:t.u.I+t.V}class es extends _i{constructor(){super(ui,hi,0),this.m=225,this.s=20,O(this,!0,!0),this.j=1,this.D=.95,this.N=!1,this.u=void 0,this.V=3,this.W=this.X=0,this.v=1,this.C=ys}update(){if(super.update(),0<this.v){let t=0,i=0;1==Bi&&(ot?(t=.01*rt(0).x,i=.01*rt(0).y):(st(38)&&(i=.01),st(37)&&(t=-.01),st(40)&&(i=-.01),st(39)&&(t=.01))),L(this,new v(t,i)),Xi(this,1.1)}else this.u&&(this.u=this.u.S=null),this.D=.1}ga(i){if((i instanceof as&&i.l||i instanceof ns||i instanceof ss||i instanceof is||i instanceof Ji)&&(i=this.g.o(i.g)).length()<.5&&(this.v--,i.normalize(.001),L(this,i),Ni(this.g,.05),r()<.3&&Ei(this.g.B()),0==this.v)){for(i=0;i<10;i++)Ei(this.g),Ni(this.g,r());this.angle=t/2,this.C.play(this.g)}return!1}J(){var t;super.J(),0<this.v&&(_(this.g.add(g(.25,.125+this.A)),this.u.g,1/12,Mi),_(this.g.add(g(-.25,.125+this.A)),this.u.g,1/12,Mi),(t=this.u.g.o(this.g)).y<=0&&Z(this.g.add(g((0<t.x?1:0)/12,.25+this.A)),g(.25),this.m,si))}}class as extends ts{constructor(t){super(t,hi,3,Gi),this.j=2,this.i=void 0,this.C=r(.3,.5),this.aa=.5,this.s=20,this.M=void 0,this.l=this.ra=!1,this.U=Ds}update(){this.l||(this.angle=this.L>this.s/2?0:t,this.ra?H>this.M.time&&(this.angle=0,this.m=227,this.s=15,Ni(this.g,r(),Si),this.F=2,this.v+=Gi.Oa+ci,this.j=2,this.C=r(.4,.5),this.qa=20,this.pa=50,this.aa=0,this.l=!0,this.U=Ms,this.D=.95):o(this.g,this.$,ri.g,ri.$)&&(mi.push({g:this.g.B(),la:60,F:7}),this.M=new m(2),this.ra=!0,this.C=-this.C)),super.update()}J(){super.J()}ca(t,i,s){return this.i=void 0,Zi(this,1,this.l?1:.3),super.ca(t,i,s)}}class ns extends ts{constructor(t){super(t,hi,1,ki),this.m=226,this.j=2,this.G=Fi,this.l=240,this.g.y-=.5,this.aa=.01,this.C=r(.2,.3),this.D=0,Zi(this,1,r(.9,1.1),1)}update(){var t;0<this.l?(0==this.l%20&&Ni(this.g.o(g(0,this.size.y/2)),.4,Ci),this.l--,t=1-this.l/240,this.K=g(9,12*t),this.size=g(this.size.x,.8*t),this.g.y+=.5/240,0==this.l&&(Zi(this,1,1,1.5),this.h=g(0))):(this.i&&(this.D=.95),super.update())}ca(t,i,s){return this.fa+=r(10,30),this.i=void 0,Zi(this,1,2,r(2,3)),super.ca(t,i,s)}H(){this.l<=0&&super.H(),this.i||(this.T=t),Qi(this)}}var os=[[[,0,43,.01,,.3,2,,,,,,,,,.02,.01],[20,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02]],[[],[]],[0,1],50];function rs(t,i,s,h,e){var a=[];a.push(t),a.push(i);for(const t of e)for(const i of h)a.push(s+i+t);return a}var ls,us,cs=.6;class ds{constructor(t,i,s,h,e=0){this.g=t,this.D=s,this.i=h,this.K=i,this.Ca=Math.round(60*e)}update(){--this.Ca;for(const h of di)if(h.ha){var i=h.g.o(this.g),s=i.length();if(!(s>this.i)){let e=this.K;s>this.D&&(e*=(1+Math.cos((1-a(s,this.D,this.i))*t))/2),L(h,i=i.normalize(r(e)))}}}}var gs=[];function fs(t,i,s,h,e=0,a=0,n=1){for(let o=0;o<n;o++)setTimeout(()=>t.play(i,s,h,e),a*(o+1))}var ys=new zt([1,,440,,.1,1,3,1,-.2,,50,,,.4,,.05,.05,.9,.5]),ps=new zt([1,.1,200,,,,4,,,1.2,50,.57,,,,.2,.2,,.2]),xs=new zt([2,0,685,0,.57,.3,0,3,.6,0,174,.08,.04,0,0,0,.15,.7,.1,.32]),vs=new zt([3,,164.8138,,,,4,,,,,,,,,-.3]),ws=new zt([1,,164.8138,,,,4,,,,,,,,,-.3]),ms=new zt([3,,352,.07,.01,.2,4,3,,.4,,,.15,1.5,,.7,.12,.2]),zs=new zt([1,.3,440,.01,0,0,0,1,19.9,6.7,600,.09,.3,3.6,11,.2,0,.9,0,.1]),js=new zt([,.3,,.01,,.01,4,,20,6,600,.07,.3,3.6,12,,,,,.12]),bs=new zt([1,,65,,,.02,4,,,,,,,2,,,,1,,0]),Ms=new zt([1,.5,329.6276,.16,.62,.33,,.5,,,-50,.14,.13,2.5,28,,,.9,.07,.12]),Cs=new zt([3.5,,15,.02,.1,.05,,3.67,,.6,,,.13,1.8,,.3,,.35,.01]),As=new zt([,,1650,.01,.09,.02,4,.5,1,,,.06,,,13,,,.9,.1]),Ss=new zt([1.08,,50,,.18,.45,4,,,,,,.01,.3,,1.2,,.3,.11]),Ds=new zt([,.1,3665.40639,.12,.05,.09,3,.7,7.4,2.5,,.19,,.9,12,,.04,-.57,.13]),Fs=new zt([2,.1,130,.06,.2,.5,0,1,0,-2,0,.3,.3,.1,0,.1,.01,.8,.07,0]),Bs=new zt([1.08,,50,,.18,.45,4,,,,,,.01,.3,,1.7,,.3,.11]);let ks=[{w:32,Z:20,data:[14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,14,14,14,14,14,14,14,14,14,14,14,14,11,11,11,11,11,11,,,,,,11,11,,,,11,,,,11,,,11,11,,,,11,11,11,11,11,11,11,11,,,,,,,,,,,,,,,1,,,,,,,,,,,,11,11,11,11,11,11,,,,10,10,10,,,,,,,,,,,,,,,,,,,,,11,11,11,11,,,,,,,,,,,,11,,,11,,,,11,,,,,,,11,,,11,11,11,11,,,,11,,,,,,,,,,,,,,,,,,11,,,,,,,,11,11,11,,,,,,,15,15,15,15,,,,,,,,,,,,,,,,,,,,11,11,11,,,,,,,15,,,,,,,,11,,,,11,,,,,,,,,,11,11,11,,,,,,,,15,22,,15,,,,,,,,,,,,,,11,,,,,,11,11,,,,,,,,15,15,15,15,,,,,,,,,,,,,,,,,11,,,11,11,,,11,,,,,,,,,,,,,11,,,,11,,,,,,,,,,,11,11,,,,,,,,,,,,,11,,,,,,,,,,11,,,,,,,,11,11,,,,,,,11,,,,,,,,,,,,,,,,,,,,,,,11,11,11,,,,,,,,,,,,,,,,11,,,,11,,,,,,11,,,,11,11,10,,,,10,10,10,10,10,,,11,,,,,,,,,,,,,,,,,,,11,11,10,,,,10,,,,10,,,,,,,,,,,,,,,,,,,11,15,12,15,11,10,,,,10,,14,9,10,,,,,,,,11,,,,11,,,,,,,11,15,22,15,11,10,,,,10,,10,10,10,,,,,,,,,,,,,,,11,,,11,11,15,15,15,11,10,9,16,9,10,,,,,,,,,11,,,,,,,,,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,14,14,14,10,10,10,10,10,10,10,10,10,10,10,10]},{w:20,Z:32,data:[15,15,15,15,11,11,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,11,,,,,,,,,,,11,15,,,9,,23,15,15,,,,1,,,,,,,,,15,,,,,,15,15,,,9,,,9,,,9,,,,15,,,,,,15,15,,,,,,,,,,,,,12,,,9,,,15,15,,,,,,17,,,,,,,15,15,15,15,15,15,15,15,,,,,,,,,,,,,,,,,,11,15,15,,,,,,,,,,,11,,,,,,,,15,15,,,9,,,9,,,9,,,,,,,,,,15,15,,,11,,,,,,,,,,,,,,,,15,15,,,,,,,,,,,,11,,,,,,,15,15,,,,,,,,,,,,,,,15,,,,15,15,,,,,10,10,10,10,10,,,,,,15,,,,15,15,11,,,,10,,,23,10,,,,,,15,,,,15,15,,,,,10,,10,9,10,,,,,,,,,11,15,15,,,,,10,,10,10,10,,,,,,,,,,15,15,,,,,10,,,,,,,,,,,,,,15,15,,,,,10,10,10,10,10,,,,,,,,,,15,15,,,,,,,,,,,,,9,,,9,,,15,15,,,,,,,,,,,,,,,,,,,15,15,,,11,,,,11,,,,,,,,,,,,15,15,,,,,,,,,,,,,,,,,,11,15,15,,,,,,,,,,,,,,,,11,11,15,15,15,15,15,15,15,15,15,12,15,,,,11,11,11,11,15,15,15,15,15,,,,,,,,15,,,,,,,11,11,15,15,15,15,,,9,,,,,15,,,,,,,,,11,11,15,15,,,9,,,,,15,,,,,,,,,,,15,15,,,,,,,,15,,,11,15,15,11,,,,,15,15,,,9,,,,,15,,,,,,,,,,,15,15,,23,9,,,,,12,,,,,,,,,,11,15,15,,,,,,,,15,,,,,,,,,11,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,11,11,15,15,15,15,15]},{w:32,Z:20,data:[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,,,,,,11,,,,,,,,,11,,,,,11,,,,,,,,,,,15,15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,15,,,,,,,,11,,,,,,,,,,11,,,,9,,,9,,,24,,,15,15,,,,11,,,,,,,,11,,,,,,,,,,,,,9,,,9,,,15,15,,,,,,,,,,15,15,15,15,15,,,,,,,,,,,,,,11,,,15,15,,,,,,,,,11,15,24,,21,15,,15,15,,,15,,,,,,,,11,,,15,15,,,,,,,,,,15,,,,15,,,,,,15,,,,,9,,,,,,15,15,,,,,,,11,,,15,15,12,15,15,,,,,,,,,,,9,,,,,,15,15,,,11,,,,,,,,,,,,,,,,,,,,,,9,,,9,,,15,15,,,,,,,,,,,,,,,,,,,,,11,,,,,,,,,,15,15,,,,,,,,,,,,,,,1,,11,,,,,,,,,,,,,,15,15,,,9,9,,,9,9,,,,,,,,,11,,,,,,,9,9,,,9,,,15,15,,,,,,,,,,,15,15,15,,,,11,,,,,,,,,,,9,,,15,15,,,,,,,,,,,15,,,,,,,,,,,,,,,,,,,,15,15,,,,,,,,,,,15,,,,,,,,11,,5,,,,11,11,,,,,15,15,,,9,,,,9,9,,,15,15,15,15,,,,,,,,,,,,,,,,9,15,15,,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,15,,,,,11,,,,,,,,,,,11,,,,,,11,,,,,,,,,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15]}];!function t(){if(!document.body)return setTimeout(t,100);Os(0),Os(1),function(){var t=Kt,i=Yt,h=Qt,e=ti,n=Ls;E.onerror=E.onload=()=>{B=g(E.width,E.height),document.body.style="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none",document.body.appendChild(Y=document.createElement("canvas")),W=Y.getContext("2d"),Y.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",document.body.appendChild($=document.createElement("canvas")),U=$.getContext("2d"),$.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",t(),S&&yt&&(ontouchstart=ontouchmove=ontouchend=t=>{if(S){wt=g(),mt=g(),vt=[],t.touches.length&&(null==xt.time&&bt([Mt(0)]),ot=1,xt.set());var i=g(D,q.y-D),s=q.o(g(D,D));for(const h of t.touches)y(t=dt(g(h.clientX,h.clientY)),i)**.5<D&&(wt=p(t.o(i).scale(2/D)),vt[0]=1),y(t,s)**.5<D&&(mt=p(t.o(s).scale(2/D)),vt[1]=1)}}),o()};const o=(t=0)=>{var r=t-R;for(R=t,T=s(T+r,50),$.width=Y.width=s(innerWidth,z.x),$.height=Y.height=s(innerHeight,z.y),q=g(Y.width,Y.height),t=0,T<0&&-9<T&&(t=T,T=0);0<=T;T-=1e3/60)document.hasFocus()||(lt=[[]]),at=nt.add(g(.5)).o(q.scale(.5)).multiply(g(1/A,-1/A)).add(C),ft(),i(),J(),h(),ut();T+=t,N(),e(),k.sort((t,i)=>t.za-i.za);for(const t of k)t.ba||t.J();n(),function(){var t;S&&null!=xt.time&&(t=a(xt.get(),4,3))&&(U.save(),U.globalAlpha=.3*t,U.strokeStyle="#fff",U.lineWidth=3,U.fillStyle=0<wt.x**2+wt.y**2?"#fff":"#000",U.beginPath(),t=g(D,q.y-D),U.arc(t.x,t.y,D/2,0,9),U.fill(),U.stroke(),t=g(q.x-D,q.y-D),U.fillStyle=0<mt.x**2+mt.y**2?"#fff":"#000",U.beginPath(),U.arc(t.x,t.y,D/2,0,9),U.fill(),U.stroke(),U.restore())}(),requestAnimationFrame(o)};E.src="t.png"}()}();var Is=0,Gs=1,Hs=void 0;const Rs=[[.5,0,0,.25],[.25,.25,0,.25],[.5,.5,0,.25],[0,0,.5,.25],[0,.5,.5,.25]],Ts=new w(.2,0,0);function Ns(t){Hs||(Hs=t,Is=1)}var Js=void 0,Ks=0;function Ls(){if(Lt(),ri){for(var t=ks[ei.map],h=g(0),e=0;e<t.w;e++)for(var a=0;a<t.Z;a++){var n,o=e+.5,l=a+.5;i(o-C.x)-1>$.width/(2*A)||i(l-C.y)-1>$.height/(2*A)||(n=p(n=g(ri.g.x-o,ri.g.y-l),s(1.5,n.length())),h.x=o+n.x,h.y=l+n.y,!(n=Ft(h))||n.x==o&&n.y==l||((o=wi[e+"_"+a]||{x:o,y:l,alpha:0}).alpha=s(1,o.alpha+.1),wi[e+"_"+a]=o))}for(u in t=g(1.01),e=zi.B(),wi)(a=wi[u]).alpha-=.01,a.alpha<=0?delete wi[u]:(h.x=a.x,h.y=a.y,e.a=a.alpha,V(h,t,e));for(h=0;h<mi.length;h++){var u=mi[h];Z(u.g,g((60-u.la)/6),u.F,ii,ji.scale(.15)),u.la--,u.la<=0&&(mi.splice(h,1),h--)}if(h=s(1,$.width/(12*A)),V(u=g(C.x-$.width/(2*A)+6*h,C.y+$.height/(2*A)-h),g(8,2).scale(h),ji.scale(.4)),Z(g(u.x-5*h,u.y),g(200<G%240?-2:2,2).scale(h),5,ii,ji.scale(.7)),t=ji.scale(.2,1),e=g(1.5,.5).scale(h),V(u.o(g(3*h,-.6*h)),e,t),V(u.o(g(3*h,0)),e,t),V(u.o(g(3*h,.6*h)),e,t),t=g(.45).scale(h),Z(u.o(g(3.5*h,-.6*h)),t,18,ii),Z(u.o(g(3.5*h,0)),t,19,ii),Z(u.o(g(3.5*h,.6*h)),t,17,ii),t=.4*h,e=ji.scale(.9),a=2.5*h,o=u.y-.025,it(ri.V,g(u.x-a,o+.6*h),t,e),it(ri.W,g(u.x-a,o),t,e),it(ri.X,g(u.x-a,o-.6*h),t,e),ri.u)for(t=0;t<ri.u.P;t++)Z(g(u.x-1.4*h+.95*t*h,u.y),g(h),ri.u.wa,ii,t+1>ri.u.I?ji.scale(.2):ji);u=2*A,tt(ai.toString(),g($.width-2*A*h,A*h),u,Mi,u/15,zi)}if(Xt)for(h=.007*(1.5+Math.sin(G/50)),u=0;u<10;u++)tt(Xt,g(r(1-h,1+h)*Y.width/2,r(1-h,1+h)*Y.height/3),Y.width/10,zi.ka(Mi,u/10));Zt&&(h=Y.width/20,tt(Zt,g(Y.width/2,Y.height/2),h,Mi,h/15,zi)),Vt&&(h=.5+Math.sin(G/10)/2,1==Bi&&(h=1),u=Mi.scale(h),h=Y.width/30,tt(Vt,g(Y.width/2,4*Y.height/5),h,u,h/15,zi)),h=function(t){var i=t=>((t=255*t|0)<16?"0":"")+t.toString(16);return"#"+i(t.r)+i(t.O)+i(t.b)}(u=new w(...Rs[ni%Ri.length]).ka(Ts,Gs)),u=u.a,0<Ks&&(Ks--,u=.5,h=Js),U.rect(0,0,q.x,q.y),U.globalAlpha=u,U.fillStyle=h,U.fill()}function Os(t){let i={w:(t=ks[t]).Z,Z:t.w,data:[]};for(let s=0;s<i.Z;s++)for(let h=0;h<i.w;h++)i.data[i.w-1-h+i.w*(i.Z-1-s)]=t.data[s+t.w*h];ks.push(i)}</script>