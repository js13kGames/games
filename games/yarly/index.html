<meta name=viewport content="width=device-width"><title>YARLY! - js13kGames 2012</title><div class=game><div class=bowl></div><p class=roll>ROLL</p><table class=card><tr><td>Aces<td><tr><td>Twos<td><tr><td>Threes<td><tr><td>Fours<td><tr><td>Fives<td><tr><td>Sixes<td><tr><td>BONUS<td><tr><td>3 of a kind<td><tr><td>4 of a kind<td><tr><td>Full House<td><tr><td>Small Straight<td><tr><td>Large Straight<td><tr><td>Chance<td><tr><td>YARLY!<td><tr><td>TOTAL<td></table></div><div id=inst><h1>How to play YARLY!</h1><ol><li>Roll the dice.<li>Pick the dice you want to score with.<li>When you've picked 5 dice, pick a score. If you can't score, pick a row to put 0 in.<li>Score as much as you can!</ol></div><style>body{font-family:sans-serif;background-size:90px 90px;background-color:#111;background-image:-webkit-linear-gradient(45deg,#222 25%,transparent 25%,transparent),-webkit-linear-gradient(-45deg,#222 25%,transparent 25%,transparent),-webkit-linear-gradient(45deg,transparent 75%,#222 75%),-webkit-linear-gradient(-45deg,transparent 75%,#222 75%)}.big{-webkit-transform:scale(1.06)}#inst{width:800px;margin:auto;padding:0 10px;box-sizing:border-box;color:#eeb}p{margin:0}::selection{background:0 0}.card{right:10px;top:10px;position:absolute;width:235px;color:#353331}td{padding:1px 4px;margin:1px;background:#ccbfa9;min-width:80px;-webkit-transition:all .2s ease-in-out}.open{background:#84cc77;cursor:pointer}.done{background:#ebdbc1}.game{font-weight:700;position:relative;width:800px;height:526px;margin:auto;background:#ffeac7;overflow:hidden;box-shadow:inset 0 0 160px rgba(12,33,2,.3),0 0 20px;border-radius:5px}.bowl{top:20px;margin:0 85px;position:relative;width:460px;height:460px;border-radius:250px;background:#c20000;background-image:-webkit-radial-gradient(center center,farthest-side circle,#d10000 0,#a80000 91%,#cb0000 95%,#a80000 100%);box-shadow:0 0 25px rgba(0,0,0,.4);-webkit-transform-origin:50%}.roll{position:absolute;right:30px;bottom:10px;cursor:pointer;color:#684f16;padding:24px 0;text-shadow:0 0 7px #ffbf00;font-size:26px;width:100px;height:110px;box-sizing:border-box;text-align:center;box-shadow:inset 0 2px 10px rgba(255,255,255,.4),inset -1px -6px 19px,2px 5px 20px rgba(0,0,0,.4);-webkit-transform:perspective(100px) rotate3D(-22,0,0,20deg);border-radius:8px;background-image:-webkit-linear-gradient(left,#634f20 0,#ffbf00 40%,#5c491f 100%);z-index:2}.tra{-webkit-transition:all .3s ease-in-out}.roll:hover{-webkit-transform:perspective(100px) rotate3D(-23,0,-2,20deg)}.rolla,.rolla:hover{-webkit-transform:perspective(100px) rotate3D(-151,0,-380,50deg)}@-webkit-keyframes rollb{0%{bottom:10px}100%{bottom:30px}}.rollb,.rollb:hover{-webkit-animation:rollb .2s ease 6 alternate}.die{top:380px;left:600px;position:absolute;margin:10px;padding:0;width:45px;height:45px;background:#f2ece6;box-shadow:1px 1px 15px rgba(0,0,0,.4),inset 0 0 6px rgba(171,154,115,.4);border-radius:6px;-webkit-transform-origin:50%;-webkit-transition-property:all;-webkit-transition-duration:.5s;-webkit-transition-timing-function:ease-in-out;z-index:1}.die:hover{-webkit-transition:all .2s ease-in-out}.click{cursor:pointer}.die ul{margin:0;padding:0;list-style-type:none;position:relative;padding:30px;margin:19px;-webkit-margin-before:0}.die li{display:block;position:absolute;background:#333;display:block;width:8px;height:8px;border-radius:5px;background-image:-webkit-radial-gradient(50% 50%,circle closest-side,#aaa,#222 45%,#333 100%);box-shadow:0 0 6px rgba(0,0,0,.3)}.n2 li,.n3 li{left:-12px}.n4 li,.n5 li,.n6 li{left:10px}.n2 li:nth-child(2),.n3 li:nth-child(2){left:10px;top:30px}.n4 li:nth-child(odd),.n5 li:nth-child(odd),.n6 li:nth-child(odd){left:-12px}.n6 li:nth-child(3),.n6 li:nth-child(4){top:19px}.n6 li:nth-child(5),.n6 li:nth-child(6){top:7px}.n2 li,.n3 li,.n4 li:nth-child(3),.n4 li:nth-child(4),.n5 li:nth-child(3),.n5 li:nth-child(4){top:8px}.n1 li,.n3 li:nth-child(3),.n5 li:nth-child(5){left:-1px;top:19px}.die li{opacity:0}.n1 li:nth-child(-n+1){opacity:1}.n2 li:nth-child(-n+2){opacity:1}.n3 li:nth-child(-n+3){opacity:1}.n4 li:nth-child(-n+4){opacity:1}.n5 li:nth-child(-n+5){opacity:1}.n6 li:nth-child(-n+6){opacity:1}</style><script>function e(e){for(var t=document.getElementsByClassName(e),n=[],s=0;s<t.length;s++)n.push(t[s]);return n}function n(e){return Math.floor(Math.random()*e)}for(var t,o=[],s=e("bowl")[0],i=e("roll")[0],l=0;l<5;l++){r=n(6)+1,t=void 0,(t=document.createElement("div")).classList.add("die"),t.classList.add("n"+r),t.n=r,t.innerHTML="<ul><li><li><li><li><li><li>";var r=t;r.addEventListener("click",function(){var e=this;if(!(-1==c.indexOf(e)||4<o.length)&&e.classList.contains("click")){o.push(e),c.splice(c.indexOf(e),1),e.style.left="-75px",e.style.top=64*o.length+"px",e.style.webkitTransform="rotate(0deg)",e.classList.remove("click");var t=[1,1,1,1,1,1];o.sort(function(e,t){return e.n-t.n});for(var n=0;n<o.length;n++){var s=o[n].n-1;""==d[s].children[1].innerText&&p(s),t[s]+=1}var i=0,l=0,r=0;for(n=0;n<6;n++)i<t[n]&&(i=t[n]),6==t[n]&&p(13),4<t[n]&&p(8),3<t[n]&&p(7),(t[n]<2||3<t[n])&&(l=0),2!==t[n]&&3!==t[n]||l++,3===t[n]&&r++,4===l&&p(10),5===l&&p(11);if(p(12),5===o.length&&4===i&&1===r&&p(9),h=0,5==o.length){for(var a=0,n=0;n<14;n++)6!=n&&d[n].children[0].classList.contains("open")&&a++;if(0==a)for(h=1,n=0;n<14;n++)6!=n&&p(n)}}},!0),s.appendChild(r)}var c=e("die"),d=document.getElementsByTagName("tr"),a=d[14].children[1],f=0,v=0,u=0,L=0,m=0,h=0;function p(s){var e=d[s].children[0];e.classList.contains("done")||e.classList.contains("open")||(d[s].addEventListener("click",function(){var e=s+1;if(!(o.length<5)&&d[e-1].children[0].classList.contains("open")){var t=0;if(v=0,i.innerText="ROLL",e<7){for(var n=0;n<o.length;n++)e===o[n].n&&(t+=e);u+=t}if(e<10&&6<e||13==e||9==e)for(n=0;n<o.length;n++)t+=o[n].n;for(10===e&&(t=25),11===e&&(t=30),12===e&&(t=40),14===e&&(t=50),1==h&&(t=0),d[e-1].children[1].innerText=t,d[e-1].children[0].className="done",m++,L+=t,62<u&&(d[6].children[1].innerText=35,L+=35),n=0;n<d.length;n++)d[n].children[0].classList.remove("open");for(13===m&&(a.innerText=L,a.classList.add("big"),setTimeout(function(){a.classList.remove("big")},400)),i.classList.add("rolla"),n=0;n<5;n++)c.push(o[n]);setTimeout(function(){for(var e=0;e<5;e++)c[e].style.left="600px",c[e].style.top="380px",c[e].classList.remove("click"),o.splice(0,1);setTimeout(function(){i.classList.remove("rolla")},400)},400)}}),e.classList.add("open"),e.classList.add("big"),setTimeout(function(){e.classList.remove("big")},400))}i.addEventListener("click",function(){if(!(5===o.length||1==f||2<v)){if(""!=a.innerText)for(var e=0;e<15;e++)d[e].children[0].className="",d[e].children[1].innerText="";f=1;var t=0;for(0<v&&(i.classList.add("rolla"),t=400),i.classList.add("tra"),v++,e=0;e<c.length;e++)c[e].style.left="600px",c[e].style.top="380px",c[e].classList.remove("click");setTimeout(function(){i.classList.remove("rolla"),setTimeout(function(){i.classList.add("rollb"),setTimeout(function(){i.classList.remove("rollb"),i.classList.add("rolla");for(var e=0;e<c.length;e++){var t=n(6)+1;c[e].style.left=n(250)+70+"px",c[e].style.top=65*e+n(6)+77+"px",c[e].className="click die n"+t,c[e].n=t,c[e].style.webkitTransform="rotate("+n(180)+"deg)"}i.innerText="ROLL\n"+v+"/3",setTimeout(function(){i.classList.remove("rolla"),f=0},400)},400)},2*t)},t)}},!0)</script>