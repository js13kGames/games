<!doctype html><title>Lost in CYBERSPACE - Terminal</title><div class="output container"><h3>Lost in <span class=logo>CYBERSPACE</span> - Terminal</h3><div class=t id=terminal><p>Welcome NAVIGATOR!</p><br><p>Type `help` for list of available commands.</div><p class=ti-wrapper><input class="ti color-green" id=ti autofocus=true spellcheck=false></div><div class=scanlines></div><script>!function(e,s,a){function n(e,s){let a=[],n=0;for(let s=0;s<8;s++){let t=(s*e+n)%8;void 0!==a[t]&&(t=(s*e+ ++n)%8),a[t]=s}return s&&(a=a.concat(a.splice(0,s))),a}function t(e,s){let a=[];for(let e=0;e<8;e++){a[e]=[];for(let s=0;s<8;s++)a[e][s]=0}return i(a,0,0,e,s),a[0][0]--,a}function i(e,s,a,n,t){if(e[s][a])return void e[s][a]++;let o,l;e[s][a]=1,l=a,(o=s+1)<8&&-1===n[a].indexOf(o)&&i(e,o,l,n,t),o=s,(l=a+1)<8&&-1===t[s].indexOf(l)&&i(e,o,l,n,t),l=a,(o=s-1)>=0&&-1===n[a].indexOf(s)&&i(e,o,l,n,t),o=s,(l=a-1)>=0&&-1===t[s].indexOf(a)&&i(e,o,l,n,t)}function o(e){let s=[];for(let n=0;n<4;n++){let t=e[n],i=(4*n+e[(n+1)%4]+e[(n+2)%4])%16;t===i&&(i=15-t),(4===a.abs(t-i)||1===a.abs(t-i)&&~~(t/4)==~~(i/4))&&(t=(16+t-5)%16,i=(i+5)%16),[t,i].forEach((e=>{let a=[e%4,~~(e/4)];1!==n&&3!==n||(a[0]=a[0]+4),2!==n&&3!==n||(a[1]=a[1]+4),s.push(a)}))}return{trapsSeed:e,trapsXY:s}}function l(e){const s=[3,1,3,1,3,1,3,1,3,1,3,1,3,1,3],a=[2,0,2,0,2,0,2,0,2,0,2,0,2,0,2];let n=[];for(let e=0;e<8;e++)n.push(s.slice(0)),e<7&&n.push(a.slice(0));if(e&&e.walls){let s;if(e.walls.rowWalls){s=e.walls.rowWalls;for(let e=0;e<8;e++)s[e][0]&&(n[2*e][2*s[e][0]-1]=0),s[e][1]&&(n[2*e][2*s[e][1]-1]=0)}if(e.walls.colWalls){s=e.walls.colWalls;for(let e=0;e<8;e++)s[e][0]&&(n[2*s[e][0]-1][2*e]=0),s[e][1]&&(n[2*s[e][1]-1][2*e]=0)}}if(e.traps&&e.traps.trapsXY)for(let s of e.traps.trapsXY)n[2*s[1]][2*s[0]]=4;return e.target&&(n[2*e.target[1]][2*e.target[0]]=5),n.map((function(s,a){let n=0;return s.join("").replace(/0/g,'<span class="char"></span>').replace(/1|2/g,(function(s){return e&&e.walls?"1"===s?'<span class="char">-</span>':"2"===s?'<span class="char">|</span>':void 0:'<span class="char"></span>'})).replace(/3|4|5/g,(function(s){let t=a/2,i="&#9830;";if("4"===s&&(i="&#8709;"),"5"===s&&(i="X"),e.colors){let s;return s=t<4?n<4?y[e.colors[0]]:y[e.colors[1]]:n<4?y[e.colors[2]]:y[e.colors[3]],n++,'<span class="char" style="color: '+s+'">'+i+"</span>"}return'<span class="char">'+i+"</span>"}))})).join("\n")}function r(e){if(5!==(e=e.replace("0x","").split("")).length)throw new Error("Code length is not valid.");if(5!==(e=e.map((e=>parseInt(e,16))).filter((e=>!isNaN(e)))).length)throw new Error("Code contains invalid characters");return e}function c(e){let s=e.map((e=>e%4));if(s.some(((e,a)=>s.indexOf(e)!==a)))throw new Error("Duplicated colors in different sectors");return s}function d(e){let s=function(e,s,a,i){if(0===e||0===a)return null;let o=function(e,s){return{rowWalls:e.map((function(e,a){return[e,7-s[a]]})),colWalls:s.map((function(s,a){return[s,7-e[a]]}))}}(n(e,s),n(a,i)),l=t(o.rowWalls,o.colWalls);return-1===l.reduce(((e,s)=>e.concat(s))).indexOf(0)?l.reduce(((e,s)=>e.concat(s))).filter((e=>1===e)).length<5?null:{rowSpread:e,rowOffset:s,colSpread:a,colOffset:i,rowWalls:o.rowWalls,colWalls:o.colWalls,connections:l}:null}((e=e.map((e=>e%8)))[0],e[1],e[2],e[3]);if(!s)throw new Error("Code contains invalid walls definition");return s}function p(e){if((e=e.map((e=>e%8)))[0]!==e[2]||e[1]!==e[3])throw new Error("Code contains invalid target definition");return e.splice(0,2)}function v(e){let s={},a=[];if(e&&e.length)for(let n=0;n<e.length;n++){let t=e[n],i=null;try{i=r(t)}catch(e){a.push(t)}if(i){let n=i.shift()%4;try{switch(n){case 0:s.colors=c(i),s.colors.code=t;break;case 1:s.walls=d(i),s.walls.code=t;break;case 2:s.traps=o(i),s.traps.code=t;break;case 3:s.target=p(i),s.target.code=t}}catch(e){a.push(t)}}}else a.push("No codes defined");return a.length&&(s.errors=a),s}function h(e){if(6!==(e=e.replace("0x","")).length)throw new Error("Code length is not valid.");if(4!==(e=[e.substr(0,1),e.substr(1,2),e.substr(3,2),e.substr(5,1)].map((e=>parseInt(e,16))).filter((e=>!isNaN(e)))).length)throw new Error("Code contains invalid characters");let s=e.slice(0,3).reduce(((e,s,a)=>e+s*(2*a+1)),0);if((s%=16)!==e[3])throw new Error("This score code is invalid");return{time:e[1],moves:e[2]}}function f(e,s){let a=function(){let e;if(localStorage)try{e=localStorage.getItem("LOST_IN_CYBERSPACE_TOP_HACKERS"),e=JSON.parse(e)}catch(e){}return e||JSON.parse(JSON.stringify(A))}();e&&(a[e]=s),function(e){localStorage&&localStorage.setItem("LOST_IN_CYBERSPACE_TOP_HACKERS",JSON.stringify(e))}(a);let n=[];return Object.keys(a).forEach((e=>n.push([e,a[e]]))),(n=n.map((e=>{let s=h(e[0]);return{code:e[0],name:e[1],time:s.time,moves:s.moves}}))).sort(((e,s)=>e.time!==s.time?s.time-e.time:e.moves-s.moves)),n}function b(e){setTimeout((()=>{N.value=e,N.focus()}),1)}function u(e){g();let s=v(e);S("MAP OF THE NETWORK:"),S(l(s)+C()+E(s),"tm"),function(e,s){e.length?s&&s.length&&s.forEach((e=>S("<b>"+e+"</b> is not a valid ACCESS_CODE."))):S("Network codes not provided.")}(e,s.errors),b("")}function m(e){return e?"0x"+e.replace("0x","").toUpperCase():"unknown"}function w(e,s,a){return"<li class='"+e+"'>["+m(a)+"] "+s+"</li>"}function E(e){let s="<ul class='tm-l'>";return e.colors&&e.colors.length?s+=w("color-springgreen","Sectors",e.colors.code):s+=w("color-red","Sectors"),e.walls?s+=w("color-springgreen","Connections",e.walls.code):s+=w("color-red","Connections"),e.traps?s+=w("color-springgreen","Traps",e.traps.code):s+=w("color-red","Traps"),e.target&&e.target.length?s+=w("color-springgreen","Target coordinates",e.target.code):s+=w("color-red","Target coordinates"),s+"</ul>"}function C(){let e="<div class='tm-lt'>Legend:<ul>";return e+="<li>&#9670; - node</li>",e+="<li>| - connection</li>",e+="<li>&#8709; - trap</li>",(e+="<li>X - target</li>")+"</ul></div>"}function g(){S("<span class='color-green'>> "+N.value+"</span>")}function S(s,a="",n=T){let t=e.createElement("p");t.setAttribute("class","out "+a),t.innerHTML=s,n.appendChild(t)}function O(){let a=(k=N.value).split(" ").filter((e=>e)),n=a.splice(0,1)[0],t="sudo"===n;t&&(n=a.splice(0,1)[0]),-1===a.indexOf("-h")&&-1===a.indexOf("--help")||(a=[n],n="help"),"help"===n||"man"===n?a[0]?function(e){if(g(),"help"===e)S("<div>NAME</div><div class='pad'><b>help</b> -- display help for given command or list of available commands.</div><div>SYNOPSIS</div><div class='pad'><b>help</b> [COMMAND]</div><div>DESCRIPTION</div><div class='pad'>The <b>help</b> command will display list of available commands.<br/><br/>If COMMAND is given as argument <b>help</b> will show details given COMMAND.</div><div>EXAMPLES</div><div class='pad'>The following is how to display help for <b>nmap</b> command:</div><div class='pad'>`help nmap`</div><div>ALIASES</div><div class='pad'><b>man</b></div>");else if("nmap"===e){S("<div>NAME</div><div class='pad'><b>nmap</b> -- display the map of network nodes</div><div>SYNOPSIS</div><div class='pad'><b>nmap</b> [ACCESS_CODE ...]</div><div>DESCRIPTION</div><div class='pad'>The <b>nmap</b> command displays the map of network nodes based on the ACCESS_CODEs provided as arguments.<br><br>There are 4 ACCESS_CODEs that can be found by HACKER in 4 sectors of the network. Each ACCESS_CODE provides different data to the map: Sectors, Connections, Traps and Target.<br><br>The <b>nmap</b> command accepts between 0-4 ACCESS_CODEs, case insensitive with optional 0x prefix.</div><div>EXAMPLES</div><div class='pad'>The following is how to display map of nodes with [Sectors], [Traps] and [Connections]:</div><div class='pad'>`nmap 0xC16F8 D1234 EF4D0`</div>");let e=v("0xC16F8 D1234 EF4D0".split(" "));S(l(e)+C()+E(e),"tm pad")}else S("top"===e?"<div>NAME</div><div class='pad'><b>top</b> -- display the list of top hacker teams' scores.</div><div>SYNOPSIS</div><div class='pad'><b>top</b> [NETWORK_TOP_HACKER_CODE] [TEAM_NAME]</div><div>DESCRIPTION</div><div class='pad'>The <b>top</b> command displays the list of the scores of top hackers teams.<br/><br/>If the NETWORK_TOP_HACKER_CODE and optionally the TEAM_NAME is provided new top score record will be added to the list, so you can compare your performance with the best of the best.</div><div>EXAMPLES</div><div class='pad'>The following is how to add your noob score to top hackers list:</div><div class='pad'>`top 0xF0020F N00BS`</div>":"make-me-a-sandwich"===e?"<div>NAME</div><div class='pad'><b>make-me-a-sandwich</b> -- makes you a sandwich.</div><div>SYNOPSIS</div><div class='pad'><b>make-me-a-sandwich</b></div><div>DESCRIPTION</div><div class='pad'>The <b>make-me-a-sandwich</b> command will make you a sandwich.<br>If you know how to ask for it.</div><div>EXAMPLES</div><div class='pad'>The following is not how to get a sandwich:</div><div class='pad'>`make-me-a-sandwich`</div>":"cat"===e?"<div>NAME</div><div class='pad'><b>cat</b></div><div>SYNOPSIS</div><div class='pad'><b>cat</b></div><div>DESCRIPTION</div><div class='pad'>The <b>cat</b> command.</div><div>EXAMPLES</div><div class='pad'>`cat`</div>":"No help entry for "+e);b("")}(a[0]):(g(),S("<div>Available commands:</div><div class='pad'>- <b>nmap [ACCESS_CODE...]</b> -- display the map of network nodes</div><div class='pad'>- <b>help [COMMAND]</b> -- display detailed help for given command</div><div class='pad'>- <b>top</b> -- display the list of top hacker teams' scores</div><div class='pad'>- <b>make-me-a-sandwich</b></div><div class='pad'>- <b>cat</b></div>"),b("")):"nmap"===n?u(a):"top"===n?function(e){g();let s,a=e[0],n=e.slice(1).join(" ");if(a)try{h(a),a=m(a)}catch(e){s="<b>"+a+"</b> is not a valid NETWORK_TOP_HACKER_CODE. You can get one after successfully hacking the network.",a=null}S("<div>&nbsp;&nbsp;&nbsp;TOP HACKERS<br>&nbsp;&nbsp;-------------</div><div>&nbsp;&nbsp;&nbsp;<span class='col'>TIME LEFT:</span> <span class='col'>SWITCHES:</span> <span>TEAM:</span><br>"+f(a,n).map((s=>(s.code===m(e[0])?"<div class='color-green'>~&nbsp;":"<div>&nbsp;&nbsp;")+" <span class='col'>"+`0${~~(s.time/60)}:${s.time%60<10?"0":""}${s.time%60}</span> <span class='col'>`+s.moves+"</span> <span>"+(s.name||"Anonymous")+"</span></div>")).join("")+"</div>"),s&&S(s),b("")}(a):"make-me-a-sandwich"===n?function(e,s){g(),S(e||s.indexOf("--please")>-1||s.indexOf("please")>-1?"Okay. <a href='https://www.xkcd.com/149/'>https://www.xkcd.com/149/</a>":"What? Make it yourself."),b("")}(t,a):"cat"===n?(g(),S("<span class='color-red'>,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`</span><br><span style='color: "+y[2]+"'>.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,</span><br><span style='color: "+y[0]+"'>*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,---/V\\<br><span style='color: "+y[1]+"'>`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.</span>&nbsp;&nbsp;&nbsp;&nbsp;~|__(o.o)<br><span style='color: "+y[3]+"'>^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'^`*.,*'</span>&nbsp;&nbsp;UU&nbsp;&nbsp;UU"),b("")):(g(),S("COMMAND NOT FOUND: "+N.value),b("")),s.scrollTo(0,e.body.scrollHeight)}let y=["#3C5","#3CF","#FC3","#F3C"],A={"0x16C0D6":"bartaz + calanthe","0x2FE011":"Project 2501","0x1D2065":"Oracle/Braniac","0x6A60AA":"The Lone Gunmen","0xE6F0E1":"Acid Burn 'n' Crash Override","0x8A014C":"Wasp & Bob the Dog","0xC6010C":"Johnny Mnemonic and Jones","0xA40139":"Martin Brice with Cosmo","0x92A18F":"fsociety","0x310203":"Neo & Trinity"},T=e.getElementById("terminal"),N=e.getElementById("ti"),k="";e.addEventListener("keydown",(e=>{e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(N.focus(),13===e.which?O():38===e.which?(b(k),N.focus()):40===e.which&&b(""))})),e.addEventListener("click",(s=>{s.target!==e.documentElement&&s.target!==e.body&&s.target!==e.querySelector(".container")||N.focus()}))}(document,window,Math)</script><style>body,input{font-family:Monaco,Consolas,monospace}.container{margin-left:20px}.container p{margin:10px 0 0}h1,h3{margin-top:0}.out{max-width:800px}.t{color:#fff;width:100%;font-size:18px}.ti-wrapper{position:relative}.ti-wrapper::before{content:">";color:#1fc;font-size:18px;display:block;position:absolute;left:0;top:0;width:16px;height:24px}.tm{white-space:pre;position:relative;line-height:20px}.tm .char{font-size:20px;width:18px;height:18px;display:inline-block}.tm-l,.tm-lt{position:absolute;left:330px;line-height:21px}.tm-lt{top:0}.tm-l{bottom:0}.ti{display:block;outline:0;border:none;background:0 0;font-size:18px;line-height:20px;margin-left:20px;width:95%;height:24px}body,ul{margin:0}.color-green{color:#1fc}.color-springgreen{color:#0f7}.color-red{color:red}.pad{padding-left:36px}.col{display:inline-block;width:120px}*{box-sizing:border-box}body{background:#031e11;color:#fff;-webkit-font-smoothing:none;-moz-osx-font-smoothing:grayscale;line-height:1.4}h1{font-size:4rem;margin-bottom:1rem;color:#1fc}h3{font-size:24px}p{margin-bottom:2rem}a,a:visited{border-bottom:.2rem solid #1fc;color:#1fc;text-decoration:none}.logo,a:active,a:focus,a:hover{background:#1fc;color:#031e11}ul{padding:6px 0 0}li{list-style-type:none}.output{padding:3rem 2rem;pointer-events:auto;text-shadow:0 .2rem 1rem #0c7b46;font-size:22px}.scanlines{top:0;left:0;height:100%;width:100%;background:linear-gradient(to bottom,rgba(255,255,255,0),rgba(255,255,255,0) 50%,rgba(0,0,0,.2) 70%,rgba(0,0,0,.6));background-size:100% .3rem;position:fixed;pointer-events:none}::selection{background:#1fc;color:#031e11}</style>