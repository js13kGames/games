// ZzFX - Zuper Zmall Zound Zynth - Micro Edition MIT License - Copyright 2019 Frank Force https://github.com/KilledByAPixel/ZzFX This is a minified build of zzfx for use in size coding projects. You can use zzfxV to set volume. Feel free to minify it further for your own needs!
"use strict";const zzfx=(...$)=>zzfxP(zzfxG(...$)),zzfxV=.3,zzfxR=44100,zzfxX=new AudioContext,zzfxP=(...$)=>{let _=zzfxX.createBuffer($.length,$[0].length,44100),z=zzfxX.createBufferSource();return $.map(($,z)=>_.getChannelData(z).set($)),z.buffer=_,z.connect(zzfxX.destination),z.start(),z},zzfxG=($=1,_=.05,z=220,e=0,n=0,t=.1,f=0,s=1,r=0,a=0,x=0,c=0,i=0,o=0,u=0,l=0,b=0,m=1,X=0,d=0,g=0)=>{let h=2*Math.PI,P=$=>$<0?-1:1,B=r*=500*h/44100/44100,G=z*=(1+2*_*Math.random()-_)*h/44100,p=[],w=0,C=0,D=0,I=1,R=0,S=0,V=0,j,k,q=h*Math.abs(g)*2/44100,v=Math.cos(q),y=Math.sin(q)/2/2,A=1+y,E=-2*v/A,F=(1-y)/A,H=(1+P(g)*v)/2/A,J=-(P(g)+v)/A,K=H,L=0,M=0,N=0,O=0;for(e=44100*e+9,X*=44100,n*=44100,t*=44100,b*=44100,a*=500*h/85766121e6,u*=h/44100,x*=h/44100,c*=44100,i=44100*i|0,$*=.3,k=e+X+n+t+b|0;D<k;p[D++]=V*$)!(++S%(100*l|0))&&(V=(i?1-d+d*Math.sin(h*D/i):1)*P(V=f?f>1?f>2?f>3?Math.sin(w**3):Math.max(Math.min(Math.tan(w),1),-1):1-(2*w/h%2+2)%2:1-4*Math.abs(Math.round(w/h)-w/h):Math.sin(w))*Math.abs(V)**s*(D<e?D/e:D<e+X?1-(D-e)/X*(1-m):D<e+X+n?m:D<k-b?(k-D-b)/t*m:0),V=b?V/2+(b>D?0:(D<k-b?1:(k-D)/b)*p[D-b|0]/2/$):V,g&&(V=O=K*L+J*(L=M)+H*(M=V)-F*N-E*(N=O))),w+=(j=(z+=r+=a)*Math.cos(u*C++))+j*o*Math.sin(D**5),I&&++I>c&&(z+=x,G+=x,I=0),i&&!(++R%i)&&(z=G,r=B,I=I||1);return p};