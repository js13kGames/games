<!doctype html><meta name=viewport content="width=device-width"><script src=/2018/webxr/aframe.js></script><script>!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){window.addEventListener("load",(function(){var e,t,i=document.querySelector("a-scene"),n=i.querySelector("#dynamicCamera"),r=i.querySelector("#staticCamera"),o=i.querySelector("a-light"),a=i.querySelector("#enemy"),u=i.querySelectorAll(".enemyP"),c=(i.querySelectorAll("#head"),i.querySelector("#hideKillAnime")),l=i.querySelector("#gameTimer"),m=i.querySelector("#enemyTimer"),s=i.querySelector("#offlineTxt"),d=i.querySelector("#killTxt"),f=i.querySelector("#gun"),y=i.querySelector("#Dgun"),v=i.querySelector("#enemyStats"),S=i.querySelector("#laser"),h=i.querySelector("#gameStats"),b=(f=i.querySelector("#gun"),i.querySelector("#gameOverTxt")),p=i.querySelector("#gamewinTxt"),q=f.querySelector("#showGunAnime"),w=f.querySelector("#turnGunAnime"),T=i.querySelector("#fireTxt"),A=s.querySelector("#hideBackupAnime"),g=a.querySelector("#enemyLandingAnime"),x=i.querySelector("[cursor]"),E=i.querySelector("#startMenu"),M=E.querySelector("a-animation"),D=120,j=60;positve=!1,E.addEventListener("click",(function(){})),M.addEventListener("animationstart",(function(){n.setAttribute("camera",{active:!1}),n.emit("hideDynamicCamera",{},!1),r.emit("showStaticCamera",{},!1),r.setAttribute("camera",{active:!0}),setTimeout((function(){r.emit("viewUp",{},!1),setTimeout((function(){a.emit("moveDown",{},!1),r.emit("viewDown",{},!1)}),1400)}),1e3),x.object3D.visible=!1})),g.addEventListener("animationend",(function(){o.emit("backupMode",{},!1),setTimeout((function(){s.emit("showBackup",{},!1),setTimeout((function(){s.emit("hideBackup",{},!1),o.emit("offlineMode",{},!1)}),2e3)}),2e3)})),A.addEventListener("animationend",(function(){setTimeout((function(){T.emit("showFireTxt",{},!1),setTimeout((function(){f.emit("showGun",{},!1)}),500)}),500)})),q.addEventListener("animationend",(function(){f.emit("turnGun",{},!1),T.emit("hideFireTxt",{},!1)})),w.addEventListener("animationend",(function(){setTimeout((function(){d.emit("showKillTxt",{},!1),setTimeout((function(){d.emit("hideKillTxt",{},!1)}),2e3)}),500)})),c.addEventListener("animationend",(function(){f.setAttribute("visible","false"),r.setAttribute("camera",{active:!1}),r.emit("hideStaticCamera",{},!1),n.emit("showDynamicCamera",{},!1),y.emit("showDGun",{},!1),v.emit("showEnemyStats",{},!1),h.emit("showGameStats",{},!1),n.setAttribute("camera",{active:!0}),x.object3D.visible=!0,S.emit("shootLaser",{},!1),e=setInterval((function(){0===j&&D>1&&(clearInterval(e),clearInterval(t),o.emit("off",{},!1),n.setAttribute("camera",{active:!1}),n.emit("hideDynamicCamera",{},!1),r.emit("showStaticCamera",{},!1),r.setAttribute("camera",{active:!0}),p.emit("showWinTxt",{},!1),setTimeout((function(){window.location.reload(!0)}),3e3)),1===D&&(clearInterval(e),o.emit("off",{},!1),n.setAttribute("camera",{active:!1}),n.emit("hideDynamicCamera",{},!1),r.emit("showStaticCamera",{},!1),r.setAttribute("camera",{active:!0}),b.emit("showgameOverTxt",{},!1),setTimeout((function(){window.location.reload(!0)}),3e3)),l.setAttribute("value",--D+" sec"),120!==D&&60!==j&&D%5==0&&((positive=!0)?(positive=!1,a.object3D.position.x=`-${Math.floor(20*Math.random())+8}`,a.object3D.position.z=`-${Math.floor(20*Math.random())+8}`):(positive=!0,a.object3D.position.x=Math.floor(20*Math.random())+8,a.object3D.position.z=Math.floor(20*Math.random())+8))}),1e3)})),x.addEventListener("mouseenter",(function(e){"head"==e.detail.intersectedEl.id&&(t=setInterval((function(){j--,m.setAttribute("value",j)}),1e3),u.forEach((function(e){e.setAttribute("color","red")})))})),x.addEventListener("mouseleave",(function(e){"head"==e.detail.intersectedEl.id&&(clearInterval(t),u.forEach((function(e){e.setAttribute("color","grey")})))})),x.addEventListener("mouseenter",(function(e){console.log(e.detail.intersectedEl)}))}))}])</script><title>Backup Bot - js13kGames 2018</title><body><a-scene><a-entity id=staticCamera position="0 2 0" visible=false><a-animation begin=viewUp attribute=rotation to="54.7 0 0" duration=1500></a-animation><a-animation begin=viewDown attribute=rotation to="0 0 0" duration=500></a-animation><a-animation begin=hideStaticCamera attribute=visible to=false duration=1></a-animation><a-animation begin=showStaticCamera attribute=visible to=true duration=1></a-animation><a-cylinder id=gun visible=false color=brown height=1 radius=0.25 position="0 -1.526 -0.8"><a-animation id=showGunAnime begin=showGun attribute=visible to=true duration=1></a-animation><a-animation begin=hideGun attribute=visible to=false duration=1></a-animation><a-animation id=turnGunAnime begin=turnGun attribute=position to="0 -1.526 -1.5" duration=1000></a-animation></a-cylinder></a-entity><a-entity id=dynamicCamera position="0 2 0" look-controls camera="active: true"><a-animation begin=resetPos attribute=position to="0 2 0" duration=1></a-animation><a-animation begin=hidedynamicCamera attribute=visible to=false duration=1></a-animation><a-animation begin=showdynamicCamera attribute=visible to=true duration=1></a-animation><a-entity cursor="fuse: true; fuseTimeout: 800" position="0 0 -1" material="color: red; shader: flat" geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"></a-entity><a-cylinder id=Dgun visible=false color=brown height=1 radius=0.25 position="0 -1.526 -1.5"><a-animation begin=showDGun attribute=visible to=true duration=1></a-animation></a-cylinder><a-cylinder id=laser visible=false color=red height=40 radius=0.01 position="-0.025 -0.542 20" rotation="100 0 0"><a-animation id=showlaserAnime begin=shootLaser attribute=position to="-0.025 -0.542 -5.590" duration=1000></a-animation><a-animation begin=shootLaser attribute=visible to=true duration=1></a-animation></a-cylinder><a-entity id=enemyStats visible=false><a-text value=enemyLife align=left color=white width=15 position="9.806 7.622 -9.904"></a-text><a-text id=enemyTimer value=60 align=left color=white width=15 position="13.216 7.622 -9.904"></a-text><a-animation begin=showEnemyStats attribute=visible to=true duration=1></a-animation></a-entity><a-entity id=gameStats visible=false><a-text value="BackupBattery time" align=right color=white width=15 position="-12 7.622 -9.904"></a-text><a-text id=gameTimer value="120 sec" align=left color=white width=15 position="-11.5 7.622 -9.904"></a-text><a-animation begin=showGameStats attribute=visible to=true duration=1></a-animation></a-entity></a-entity><a-plane id=startMenu color=black height=0.85 width=5.3 position="0 3 -2"><a-text id=startMenuTxt value="click/gaze to start" align=center color=#9c780a width=15></a-text><a-animation begin=click attribute=visible to=false></a-animation></a-plane><a-text id=offlineTxt value="Offline mode... starting Backup power..." align=center color=white width=15 visible=false position="0 4.387 -7.536"><a-animation begin=showBackup attribute=visible to=true duration=1></a-animation><a-animation id=hideBackupAnime begin=hideBackup attribute=visible to=false duration=1></a-animation></a-text><a-text id=fireTxt value="Aim the cursor to enemy head (sphere)" align=center color=white width=15 visible=false position="0 4.387 -7.536"><a-animation begin=showFireTxt attribute=visible to=true duration=1></a-animation><a-animation id=hideBackupAnime begin=hideFireTxt attribute=visible to=false duration=1></a-animation></a-text><a-text id=killTxt value="To bring online back.. kill him before backup battery runs out" align=center color=white width=15 visible=false position="0 4.387 -7.536"><a-animation begin=showKillTxt attribute=visible to=true duration=1></a-animation><a-animation id=hideKillAnime begin=hideKillTxt attribute=visible to=false duration=1></a-animation></a-text><a-text id=gameOverTxt value="Game Over No more Online" align=center color=white width=15 visible=false position="0 4.387 -7.536"><a-animation begin=showgameOverTxt attribute=visible to=true duration=1></a-animation><a-animation begin=hidegameOverTxt attribute=visible to=false duration=1></a-animation></a-text><a-text id=gamewinTxt value="you have won, ONLINE back..." align=center color=white width=15 visible=false position="0 4.387 -7.536"><a-animation begin=showWinTxt attribute=visible to=true duration=1></a-animation><a-animation begin=hideWinTxt attribute=visible to=false duration=1></a-animation></a-text><a-entity id=enemy material="color: red" position="4 50 -10"><a-box class=enemyP height=3 depth=1.5 color=grey></a-box><a-sphere class=enemyP id=head radius=0.8 position="0 1.9 0" color=grey></a-sphere><a-animation id=enemyLandingAnime begin=moveDown attribute=position to="4 2 -10" duration=500></a-animation></a-entity><a-light type=ambient color=#fff><a-animation begin=off attribute=visible to=false duration=1></a-animation><a-animation begin=on attribute=visible to=true duration=1></a-animation><a-animation begin=offlineMode attribute=color to=#939393 duration=1></a-animation><a-animation begin=backupMode attribute=color to=#000 duration=1></a-animation><a-animation begin=normalMode attribute=color to=#fff duration=1></a-animation></a-light><a-plane rotation="-90 0 0" width=50 height=50 color=#8FABAD position="25 0 25"></a-plane><a-plane rotation="-90 0 0" width=50 height=50 color=#8FABAD position="-25 0 -25"></a-plane><a-plane rotation="-90 0 0" width=50 height=50 color=#4D8186 position="-25 0 25"></a-plane><a-plane rotation="-90 0 0" width=50 height=50 color=#4D8186 position="25 0 -25"></a-plane><a-sky color=black></a-sky></a-scene>