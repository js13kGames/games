<!doctype html><title>Black Kate - js13kGames 2025</title><meta content="width=device-width,user-scalable=no" name=viewport><body style=margin:0;overflow:hidden;background-color:#000><canvas id=c></canvas><script>var t=Math,e=t.floor,l=t.ceil,o=t.round,a=t.min,n=t.max,r=t.hypot,i=t.abs,h=t.random,s=(t.atan2,t.cos,t.sin,2*t.PI),f=Number.MAX_VALUE,x=(t,e,l)=>a(e,n(t,l)),y=(t,e,l)=>t+l*(e-t),u=(t,e)=>y(t,e,h()),c=t=>h()<t;function g(t){return t[o(u(0,t.length-1))]}function d(t,e){let l=e.reduce((t,e)=>t+e,0),o=h()*l,a=0;for(let l=0;l<t.length;l++)if(a+=e[l],o<a)return t[l];return t[0]}var p=document,w="ontouchstart"in window,m=t=>t.getContext("2d"),b=()=>p.createElement("canvas"),v=()=>m(b()),k=t=>t.canvas,A=(t,e)=>k(t).width=e,I=(t,e)=>k(t).height=e,S=(t,e,l,a)=>t.drawImage(e,o(l),o(a)),M=()=>performance.now(),C=t=>JSON.parse(JSON.stringify(t)),D=t=>`rgba(${t>>16&255}, ${t>>8&255}, ${255&t}, ${(t>>24&255)/255})`,R=(t,e,l,o,a,n,r)=>{t.fillStyle=((t,e,l,o,a,n,r)=>{let i=t.createLinearGradient(e,l,o,a);return i.addColorStop(0,D(n)),i.addColorStop(1,D(r)),i})(t,e,l,e,l+a,n,r),t.fillRect(e,l,o,a)},T=(t,e)=>{let l=m(t),o=t.width,a=t.height,n=l.getImageData(0,0,o,a),r=n.data,i=0;for(;i<r.length;){let t=r.slice(i,i+4);e(t),r.set(t,i),i+=4}l.putImageData(n,0,0)},$=t=>{var e=b(),l=m(e);return e.width=t.width,e.height=t.height,l.drawImage(t,0,0),e},O=new Uint32Array(1),P=(t,e)=>{let l=m(e),o=t/2,a=l.getImageData(0,0,e.width,e.height),n=a.data,r=0;for(;r<n.length;){let e=n[r],l=n[r+1],a=n[r+2];n[r]=e-o+t*h(),n[r+1]=l-o+t*h(),n[r+2]=a-o+t*h(),r+=4}l.putImageData(a,0,0)},E=[],N={},G={},B=t=>{let e=E.length;return E.push(t),e},U=(t,e)=>{if(-1==t)return-1;let l=`${t}_${e}`;if(!N[l]){let o=e>>24&255,a=e>>16&255,n=e>>8&255,r=255&e,i=$(E[t]);T(i,t=>{t[0]=a,t[1]=n,t[2]=r,t[3]&&(t[3]=o)}),N[l]=B(i)}return N[l]},W=(t,e=10)=>{if(!G[t]){let l=E[t];P(e,l)}},L=[[[.6,0,100,,,.2,1,.5,,-10,,,,3,,,,10],[.7,0,110,,,.2,2,.1,,,,,,,,,,,.1,.4],[1.3,0,300,,,0,4,3,,,300,,,1,,,,.3,.2],[,0,110,,.13,.7,3,.2,,,,,.04,.3,,.02,1,,.3,.1],[1.5,0,110,,.03,.06,,8,,,,,.02,.4,-.1,,.15,2]],[[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,3,,15,,3,,15,,],[3,.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,1,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,4,,16,16,4,,16,16,4,,16,,4,,16,16,4,,16,16,4,,16,16,3,,15,15,3,,15,15],[3,.4,,,,,20,,,,,,23,,,,,,25,,,,,,27,,,,,,25,,,,27,,,,,,,,,,,,,,,,28,,27,,,,25,,,,27,,,,25,,]],[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,1,1],[1,.1,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,1,,13,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,4,,16,,3,,15,,3,,15,,],[4,.1,32,,32,32,32,32,,,30,30,,32,32,32,,32,32,,30,30,32,32,32,,32,32,32,32,,32,30,30,32,,32,32,32,,30,,32,32,32,,32,,30,,32,32,32,32,32,,,32,32,32,,30,30,30,30,30]],[[,-.1,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,1,,,,],[2,.1,1,,,,1,,,,,,,,1,,,,,,,,1,,,,,,,,1,,,1,,,,,1,,,,,,,,1,,,,,,,,1,,1,,,1,1,,1,1,1,1],[1,.1,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,1,,13,,1,,13,13,1,,13,13,4,,16,16,4,,16,16,4,,16,,4,,16,16,4,,16,16,4,,16,16,3,,,,,,,,],[3,.4,,,,,25,,,-1,,,23,,,,,,25,,,,,,27,,,,,-1,25,,,,20,,,,,,,,,,,,,,,,20,23,27,,,-1,25,,,,27,,,,25,,]]],[0,0,1,1,2,2,3],,],j=(...t)=>{let e=_.createBufferSource(),l=_.createBuffer(t.length,t[0].length,Y);return t.map((t,e)=>l.getChannelData(e).set(t)),e.buffer=l,e},H=(t=1,e=.05,l=220,o=0,a=0,n=.1,r=0,i=1,h=0,s=0,f=0,x=0,y=0,u=0,c=0,g=0,d=0,p=1,w=0,m=0)=>{let b,v,k=2*Math.PI,A=h*=500*k/Y**2,I=(0<c?1:-1)*k/4,S=l*=(1+2*e*Math.random()-e)*k/Y,M=[],C=0,D=0,R=0,T=1,$=0,O=0,P=0;for(s*=500*k/Y**3,c*=k/Y,f*=k/Y,x*=Y,y=Y*y|0,v=(o=99+Y*o)+(w*=Y)+(a*=Y)+(n*=Y)+(d*=Y)|0;R<v;M[R++]=P)++O%(100*g|0)||(P=r?1<r?2<r?3<r?Math.sin((C%k)**3):Math.max(Math.min(Math.tan(C),1),-1):1-(2*C/k%2+2)%2:1-4*Math.abs(Math.round(C/k)-C/k):Math.sin(C),P=(y?1-m+m*Math.sin(2*Math.PI*R/y):1)*(0<P?1:-1)*Math.abs(P)**i*t*V*(R<o?R/o:R<o+w?1-(R-o)/w*(1-p):R<o+w+a?p:R<v-d?(v-R-d)/n*p:0),P=d?P/2+(d>R?0:(R<v-d?1:(v-R)/d)*M[R-d|0]/2):P),b=(l+=h+=s)*Math.sin(D*c-I),C+=b-b*u*(1-1e9*(Math.sin(R)+1)%2),D+=b-b*u*(1-1e9*(Math.sin(R)**2+1)%2),T&&++T>x&&(l+=f,S+=f,T=0),!y||++$%y||(l=S,h=A,T=T||1);return M},V=.3,Y=44100,_=new(window.AudioContext||webkitAudioContext),z=_.createGain();z.gain.value=.3;var F,J,X,q={value:.6},K=[,,418,.01,.01,.03,4,2.1,-1,,,,,.2,,.2,,.67,.03,,107],Q=[,1,48,,.04,.01,4,1.6,1,-26,300,,,1.3,,.1,,.9,.03],Z=[.5,.4,500,.1,.01,,,1.8,-.5,-20,100,.5,,2.5,,,,.1,.1,,400],tt=[2.1,0,65.40639,.03,.6,.16,2,3.7,,-.5,,,,.2,,.1,.01,.33,.08],et=[2,,61,.08,.24,.42,,3.7,9,,,,,1.4,,.1,.21,.32,.09],lt=(t=!1)=>{(t||"suspended"===_.state)&&_.resume().catch()},ot=(t,e=1)=>{let l=_.createGain();l.gain.value=q.value*e;let o=((...t)=>j(H(...t)))(...t);o.connect(l),o.loop=!1,l.connect(_.destination),o.start()},at=()=>ot(Z,.5),nt=()=>ot(K),rt=()=>ot(Q);(J=F||(F={})).U=t=>{let e=J.L(t);e>0&&(t.x/=e,t.y/=e)},J.L=t=>r(t.x,t.y),J.G=(t,e)=>r(t.x-e.x,t.y-e.y),J.ht=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),J.v=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),J.gt=(t,e)=>({x:t.x*e,y:t.y*e}),(X||(X={})).ut=(t,e)=>t.x<e.x&&e.x<t.x+t.w&&t.y<e.y&&e.y<t.y+t.h;var it,ht,st=M(),ft=0,xt=t=>{let e=0;for(let l of t)e+=l.o;return e},yt=(t,e)=>{let l=0;e%=xt(t);for(let o=0;o<t.length;o++){let a=t[o];if(l+=a.o,e<=l)return a.t}return 0},ut=(t,e)=>e>=xt(t),ct=[],gt={p:[{t:63,o:.1},{t:64,o:.1},{t:65,o:.1}],f:{x:16,y:16}},dt={p:[{t:66,o:.1},{t:67,o:.2},{t:68,o:.2}],f:{x:8,y:8}},pt={p:[{t:69,o:.1},{t:70,o:.2},{t:71,o:.2}],f:{x:8,y:8}},wt=t=>{let e=ct.indexOf(t);-1!=e&&ct.splice(e,1)},mt=(t,e)=>{ct.push({p:t.p,l:0,i:{t:-1,x:e.x-t.f.x,y:e.y-t.f.y}})},bt=[],vt=()=>it,kt=[],At=t=>{let e={c:t,g:0,r:{n:{x:0,y:0},b:!1},a:t.a,I:1,e:{x:0,y:0},D:{x:0,y:0},l:0,i:{t:-1},u:{t:-1},E:0,j:0,F:null};return kt.push(e),bt.push(e),e},It=t=>{let e=null,l=t.c,o=l.C;switch(t.g){case 0:e=o.et,(0!=t.r.n.x||0!=t.r.n.y)&&(t.g=1,t.l=0),Mt(t);break;case 1:0==t.r.n.x&&0==t.r.n.y?(t.g=0,t.l=0):e=i(t.r.n.x)>i(t.r.n.y)?o.nt:o.rt,F.U(t.r.n),t.e.x+=t.r.n.x*l.S*ft,t.e.y+=t.r.n.y*l.S*ft,Mt(t);break;case 2:e=t.p||o.Y,ut(e,t.l)&&(t.g=0,t.l=0,t.p=void 0);break;case 3:e=t.p||o.V,ut(e,t.l)&&(t.g=0,t.l=0,t.p=void 0);break;case 4:e=t.p||o.J,xt(e)<=t.l+ft&&((t=>{let e=kt.indexOf(t);-1!=e&&kt.splice(e,1),(t=>{let e=bt.indexOf(t);-1!=e&&bt.splice(e,1)})(t)})(t),e=null)}t.e.x+=t.D.x*ft,t.e.y+=t.D.y*ft,t.D.x*=.9,t.D.y*=.9,t.r.n.x>0?t.I=1:t.r.n.x<0&&(t.I=-1),e&&(t.l+=ft,t.i.t=yt(e,t.l),t.i.A=t.I<0,t.u.t=U(t.i.t,1426063360),t.u.A=t.i.A),t.E=0,t.j!=t.i.t&&(t.j=t.i.t,t.E=l.H[t.j]||0)},St=t=>{let e=t.c;t.i.x=t.e.x-e.f.x,t.i.y=t.e.y-e.f.y,t.u.X=.4,t.u.x=t.e.x-e.f.x+0,t.u.y=t.e.y-e.f.y*t.u.X},Mt=t=>{if(t.r.b){let e=t.c.C;t.g=2,t.p=g([e.Y,e.ct,e.ft]),t.l=0}},Ct=(()=>{let t=[];return t[33]=61,t[35]=0,t[46]=62,t[47]=-1,t.push(25,26,27,28,29,30,31,32,33,34),t[64]=0,t.push(35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60),t})(),Dt=t=>Ct[t],Rt=(t,e)=>{if(-1==e.t)return;t.save();let l=E[e.t],a=1,n=e.X||1,r=o(e.x||0),i=o(e.y||0);e.A&&(a=-1,r+=l.width),e._&&(n=-1,i+=l.height),t.transform(a,0,0,n,r,i),S(t,l,0,0),t.restore()},Tt={W:-1,n:{x:0,y:0},z:30,dt:10,k:{x:0,y:0},T:-1,b:{x:0,y:0},it:30},$t={state:0,timout:0},Ot={m:{x:0,y:0},q:!1},Pt=!1,Et=[],Nt=0,Gt=[],Bt=[4278190080,4294939392,4287898002,4289362242,4284354049,4290735454,4278215936,4278217323,4278261885],Ut={P:!0,R:"enemy",a:100,S:20,f:{x:16,y:31},C:{et:[{t:92,o:.3},{t:93,o:.3},{t:92,o:.3},{t:94,o:.3},{t:95,o:.3},{t:94,o:.3}],nt:[{t:92,o:.2},{t:96,o:.2},{t:92,o:.2},{t:97,o:.2}],rt:[{t:92,o:.2},{t:101,o:.2},{t:92,o:.2},{t:102,o:.2}],Y:[{t:92,o:.2},{t:98,o:.2}],ct:[{t:98,o:.2},{t:99,o:.2},{t:100,o:.2},{t:99,o:.2}],ft:[{t:92,o:.2},{t:103,o:.2},{t:104,o:.2},{t:103,o:.2}],V:[{t:106,o:.5},{t:105,o:.3}],st:[{t:110,o:.5},{t:109,o:.3}],B:[{t:105,o:.2},{t:106,o:.5},{t:107,o:1},{t:108,o:.3},{t:109,o:.2}],J:[{t:110,o:.2},{t:111,o:.2},{t:112,o:.2},{t:113,o:1},{t:-1,o:.2},{t:113,o:.2},{t:-1,o:.2},{t:113,o:.2},{t:-1,o:.2},{t:113,o:.2}],at:[{t:105,o:.2},{t:106,o:.5},{t:107,o:1},{t:-1,o:.2},{t:107,o:.2},{t:-1,o:.2},{t:107,o:.2},{t:-1,o:.2},{t:107,o:.2}],mt:[{t:114,o:0}]},H:{98:5,100:10,104:20}},Wt=[],Lt=t=>{let e=C(Ut);e.S=u(10,20);let l=Wt.length,o=e.C;for(let e in o){let a=o[e];jt(a,Bt,t,l)}for(let o in e.H){let a=Vt(Number(o),Bt,t,l);e.H[a]=e.H[o]}Wt.push(e)},jt=(t,e,l,o)=>{for(let a of t)a.t=Vt(a.t,e,l,o)},Ht={},Vt=(t,e,l,o)=>{if(-1==t)return-1;let a=`${t}_${o}`;if(!Ht[a]){let o=$(E[t]);((t,e,l)=>{T(t,t=>{let o=(t=>{let e=t[0],l=t[1],o=t[2],a=t[3];return O[0]=a<<24|e<<16|l<<8|o,O[0]})(t),a=e.indexOf(o);-1!=a&&((t,e)=>{let l=t>>24&255,o=t>>16&255,a=t>>8&255,n=255&t;e[0]=o,e[1]=a,e[2]=n,e[3]=l})(l[a],t)})})(o,e,l),(t=>{let e=m(t),l=e.getImageData(0,0,t.width,t.height),o=l.data;for(let e=1;e<t.width-1;e++)for(let l=1;l<t.height-1;l++){let a=4*(l*t.width+e),n=o.slice(a,a+4),r=4*(l*t.width+e-1),i=o.slice(r,r+4),h=4*(l*t.width+e+1),s=o.slice(h,h+4);0!=n[3]&&0==i[3]?(n[0]*=.5,n[1]*=.5,n[2]*=.5,o.set(n,a)):0!=n[3]&&0==s[3]&&(n[0]*=.9,n[1]*=.9,n[2]*=.9,o.set(n,a))}e.putImageData(l,0,0)})(o),P(10,o),Ht[a]=B(o)}return Ht[a]},Yt=t=>{let e=At(t);return e.F={M:{O:1,$:2},pt:0,Q:0,N:!1},Gt.push(e),e},_t=t=>{let e=Gt.indexOf(t);-1!=e&&Gt.splice(e,1)},zt=t=>{let e=Et.indexOf(t);-1!=e&&Et.splice(e,1)},Ft=1,Jt=(t,e)=>qt(t,e,18,5),Xt=(t,e)=>qt(t,e,50,20),qt=(t,e,l,o)=>{let a=F.v(e.e,t.e);return i(a.x)<l&&i(a.y)<o},Kt=[],Qt=["bob","jay","jack","serg","alex","john","mike","buba","val","noah","levi","leo","alan","ben","kyle","ivan"],Zt=0,te={P:!1,R:"kate",a:1e3,S:40,f:{x:16,y:29},C:{et:[{t:72,o:.2},{t:73,o:.2},{t:74,o:.2},{t:73,o:.2},{t:72,o:.2},{t:75,o:.2}],nt:[{t:72,o:.1},{t:76,o:.1},{t:77,o:.1},{t:76,o:.1}],rt:[{t:83,o:.1},{t:84,o:.1},{t:83,o:.1},{t:85,o:.1}],Y:[{t:72,o:.05},{t:80,o:.1}],ct:[{t:80,o:.1},{t:81,o:.1},{t:82,o:.1},{t:81,o:.1}],ft:[{t:72,o:.05},{t:78,o:.05},{t:79,o:.1},{t:78,o:.1}],V:[{t:86,o:.5}],st:[{t:87,o:.5}],B:[{t:87,o:.3},{t:88,o:.3},{t:89,o:1},{t:90,o:.3},{t:91,o:.3},{t:72,o:.3}],J:[{t:72,o:.1},{t:87,o:.3},{t:88,o:.3},{t:89,o:1},{t:-1,o:.2},{t:89,o:.2},{t:-1,o:.2},{t:89,o:.2},{t:-1,o:.2},{t:89,o:.2}],at:[{t:72,o:1}],mt:[]},H:{80:10,82:20,79:30}},ee=()=>ht,le=document.getElementById("c");le.style.imageRendering="pixelated";var oe=m(le),ae=200,ne=200,re={x:0,y:0},ie=1,he=(t,e,l,o)=>{for(let a=0;a<l.length;a++){let n=l[a].toUpperCase().charCodeAt(0),r=Dt(n);if(void 0!==r){let l=U(r,o),n=E[l];void 0!==n&&S(oe,n,t+8*a,e)}}},se=(t,e,l,o)=>{he(t-1,e-1,l,4278190080),he(t+1,e-1,l,4278190080),he(t+1,e+1,l,4278190080),he(t+1,e-1,l,4278190080),he(t,e,l,o)},fe=()=>{let t=w?"TAP TO START AGAIN":"PRESS ANY KEY",e=w?"":"TO START AGAIN";se((ae-8*t.length)/2,160,t,4294967295),se((ae-8*e.length)/2,172,e,4294967295)},xe=t=>{oe.fillStyle=D(t),oe.fillRect(0,0,le.width,le.height)},ye={},ue={},ce=!1,ge=t=>ue[t],de=(t,e,l)=>{t.push({i:{t:6},e:{x:e,y:l},f:{x:16,y:32},s:{x:-16,y:-10,w:32,h:12}}),c(.5)&&t.push({i:{t:g([19,20,21,22,23,24])},e:{x:e,y:l},f:{x:4+u(-1,1),y:41+u(-1,1)},s:{x:0,y:0,w:0,h:0}}),c(.5)&&t.push({i:{t:g([19,20,21,22,23,24])},e:{x:e,y:l},f:{x:0+u(-1,1),y:43+u(-1,1)},s:{x:0,y:0,w:0,h:0}})},pe=(t,e,l)=>{t.push({i:{t:7},e:{x:e,y:l},f:{x:16,y:32},s:{x:-6,y:-7,w:12,h:10}})},we=(t,e,l)=>{if(t.push({i:{t:0},e:{x:e,y:l},f:{x:32,y:64},s:{x:-34,y:-22,w:68,h:25}}),c(.9)){let a=g(Wt),n=o(u(0,2));t.push({i:{t:a.C.mt[0].t},e:{x:e+n,y:l+n},f:{x:12,y:50},s:{x:0,y:0,w:10,h:10}}),t.push({i:{t:g([19,20,21,22,23,24])},e:{x:e,y:l},f:{x:8+u(-1,1),y:36+u(-1,1)},s:{x:0,y:0,w:0,h:0}})}},me=(t,e)=>{let o=((t,e,o,a)=>{let n=b(),r=m(n),i=E[o[0]];n.width=t,n.height=e;let h=l(t/i.width),s=l(e/i.height);for(let t=0;t<h;t++)for(let e=0;e<s;e++)i=E[d(o,a)],r.drawImage(i,t*i.width,e*i.height);return n})(t,e,[2,3,4,5],[3,2,1,1]),a=m(o);a.fillStyle="black",a.fillRect(0,0,o.width,1),R(a,0,0,o.width,30,1996488704,0),R(a,0,o.height-30,o.width,30,0,1996488704);let n=150;for(;n-- >0;){a.globalAlpha=u(.1,.3);let l=E[g([115,116,117,118,119])];S(a,l,u(0,t),u(0,e))}return P(10,o),o},be=(t,e)=>{let o=((t,e)=>{let o=b(),a=m(o);o.width=t,o.height=e;let n=E[8],r=l(t/n.width),i=l(e/n.height);for(let t=0;t<r;t++)for(let e=0;e<i;e++)a.drawImage(n,t*n.width,e*n.height);return o})(t,e),a=m(o),n=[9,10,11],r=[2,1,1];for(let e=0;e<t;e+=70)for(let l=0;l<t;l+=16){let t=E[d(n,r)];S(a,t,e,l)}return((t,e)=>{for(let l=0;l<t.length;l+=3){let o=t[l+1],a=t[l+2],n=E[t[l]];S(e,n,o,a)}})([12,57,0,12,197,0,12,407,0,13,123,0,13,320,0],a),ke(a,89,30),ke(a,159,30),ke(a,229,30),R(a,0,o.height-40,o.width,40,0,1996488704),P(10,o),o},ve=(t,e,l,o)=>{for(let a=0;a<6;a++){let n=g(e);Rt(t,{t:n,x:7*a+l,y:o})}};function ke(t,e,l){t.setTransform(1,0,0,1,e,l),(t=>{for(let e of[{t:14},{t:15,y:16},{t:14,y:32,_:!0},{t:16,x:16},{t:14,x:32,A:!0},{t:15,x:32,y:16,A:!0},{t:14,x:32,y:32,_:!0,A:!0},{t:17,x:16,y:16},{t:16,x:16,y:32,_:!0},{t:18,x:3,y:15},{t:18,x:16,y:15},{t:18,x:29,y:15},{t:18,x:3,y:30},{t:18,x:16,y:30},{t:18,x:29,y:30}])Rt(t,e)})(t),ve(t,[19,20,21],-1,-1),ve(t,[21,22,20],-1,14),ve(t,[23],-1,28),t.resetTransform()}var Ae=()=>{kt.splice(0,kt.length),bt.splice(0,bt.length),(()=>{Kt=[];for(let t=0;t<12;t++){let e=t/11,l=y(3,2,e),a=o(y(2,5,e)),n=o(y(100,150,e)),r=y(30,35,e),i=o(y(1,3,e));Kt.push({lt:i,xt:[{M:{O:l,$:1.2*l},tt:a,c:-1,a:n,S:r}]})}Kt.push({lt:3,xt:[{M:{O:2,$:2.4},tt:3,c:1,a:150,S:35},{M:{O:2,$:2.4},tt:1,c:0,a:500,S:35}]})})(),(t=>{it=t;for(let t of it.K)t.i.x=t.e.x-t.f.x,t.i.y=t.e.y-t.f.y,t.u&&(t.u.x=t.e.x-t.f.x,t.u.y=t.e.y-t.f.y*t.u.X),bt.push(t)})((()=>{W(19,20),W(20,20),W(21,20),W(22,20),W(23,20),W(24,20);let t=me(400,150),e=be(400,95),l=b(),o=m(l);l.width=400,l.height=245,S(o,e,0,0),S(o,t,0,95);let a=B(l);W(6);let n=[];for(let t=0;t<10;t++)de(n,90+21*t,120);de(n,84,114),de(n,273,114),W(7);for(let t=0;t<10;t++)pe(n,100+20*t,130);W(0);for(let t=0;t<6;t++)we(n,80+45*t,240);return{s:{x:10,y:100,w:380,h:140},ot:{t:a},d:{x:0,y:0},K:n}})()),ht=At(te);let t=vt(),e=ee();e.e.x=t.s.x+50,e.e.y=t.s.y+t.s.h/2},Ie=()=>{0===((()=>{let t=st;st=M(),ft=(st-t)/1e3})(),(()=>{let t=window.innerWidth,l=window.innerHeight;ie=a(t/ae,l/ne),le.width=n(ae,t/ie),le.height=n(ne,l/ie),le.style.width=`${t}px`,le.style.height=`${l}px`,re.x=e((le.width-ae)/2),re.y=0})(),(()=>{if("getGamepads"in navigator){Ot.m.x=0,Ot.m.y=0,Ot.q=!1;let t=navigator.getGamepads(),e=!1;for(let l of t)if(l&&l.connected){l.axes.length>=2&&(Ot.m.x+=l.axes[0],Ot.m.y+=l.axes[1]),l.axes.length>=4&&(Ot.m.x+=l.axes[2],Ot.m.y+=l.axes[3]);for(let t=0;t<l.buttons.length;t++)if(l.buttons[t].pressed)switch(e=!0,t){case 12:Ot.m.y-=1;break;case 13:Ot.m.y+=1;break;case 14:Ot.m.x-=1;break;case 15:Ot.m.x+=1;break;case 0:case 1:case 2:case 3:Ot.q=!0}}i(Ot.m.x)<.2&&(Ot.m.x=0),i(Ot.m.y)<.2&&(Ot.m.y=0),F.U(Ot.m),Pt!=e&&(t=>{ce=t})(Pt=e)}})(),$t.state)?((()=>{if(!w)return;if(Tt.n.x=60,Tt.n.y=le.height-60,Tt.b.x=le.width-60,Tt.b.y=le.height-60,-1==Tt.W){Tt.k.x=Tt.n.x,Tt.k.y=Tt.n.y;for(let t in ye){let e=ye[t];if(e.Z&&F.G(Tt.n,e)<Tt.z+20){Tt.W=Number(t),Tt.k.x=e.x,Tt.k.y=e.y;break}}}else{let t=ye[Tt.W];t?(Tt.k.x=t.x,Tt.k.y=t.y):Tt.W=-1}let t=F.v(Tt.k,Tt.n);if(F.L(t)>Tt.z&&(F.U(t),Tt.k.x=Tt.n.x+t.x*Tt.z,Tt.k.y=Tt.n.y+t.y*Tt.z),-1==Tt.T)for(let t in ye){let e=ye[t];e.Z&&F.G(Tt.b,e)<Tt.it+20&&(Tt.T=Number(t))}else ye[Tt.T]||(Tt.T=-1)})(),(()=>{let t=(()=>{let t=[],e=vt(),l=n(e.s.x,e.d.x-30),o=e.d.x,r={x:l,y:e.s.y+32,w:o-l,h:e.s.h-32-64};r.w>0&&t.push(r);let i=e.d.x+ae,h=a(e.s.x+e.s.w,e.d.x+ae+30),s={x:i,y:e.s.y+32,w:h-i,h:e.s.h-32-64};return s.w>0&&t.push(s),t})();if(t.length&&!Gt.length)if(Kt.length){let e=[...Wt];e.shift(),e.shift();let l=Kt.shift();(t=>{Ft=t})(l.lt);for(let o of l.xt)for(let l=0;l<o.tt;l++){let l=C(-1==o.c?g(e):Wt[o.c]);l.a=o.a,l.S=o.S,0==o.c?l.R="boss":l.R=g(Qt);let a=Yt(l);a.F.M=o.M;let n=g(t);a.e.x=n.x+u(0,n.w),a.e.y=n.y+u(0,n.h)}}else 1==kt.length&&($t.state=1,ot(et,1.5))})(),(()=>{if(ht&&(kt.includes(ht)||($t.state=2,ot(tt,1.5)),!(ht.a<=0))){if(ht.r.n.x=0,ht.r.n.y=0,ht.r.b=!1,(ge(37)||ge(65))&&(ht.r.n.x=-1,Zt=0),(ge(39)||ge(68))&&(ht.r.n.x=1,Zt=0),(ge(38)||ge(87))&&(ht.r.n.y=-1,Zt=0),(ge(40)||ge(83))&&(ht.r.n.y=1,Zt=0),(ge(32)||ge(88))&&(ht.r.b=!0,Zt=0),-1!=Tt.W){let t=F.v(Tt.k,Tt.n);ht.r.n.x=t.x,ht.r.n.y=t.y,Zt=1}-1!=Tt.T&&(ht.r.b=!0,Zt=1),(0!=Ot.m.x||0!=Ot.m.y)&&(ht.r.n.x=Ot.m.x,ht.r.n.y=Ot.m.y,Zt=2),Ot.q&&(ht.r.b=!0,Zt=2)}})(),(()=>{(Nt-=ft)<0&&(Nt=u(3,5),Et.splice(0,Et.length));let t=ee();for(let t of Gt){if(t.a<=0||!kt.includes(t)){_t(t),zt(t);continue}t.r.n.x=0,t.r.n.y=0,t.r.b=!1;let e=t.F;e.N||(e.Q+=ft,e.Q>e.pt&&(e.Q=0,e.pt=u(e.M.O,e.M.$),e.N=!0))}(t=>{for(;Et.length<Ft;){let e,l=f;for(let o of Gt)if((0==o.g||1==o.g)&&o.a>0&&!Et.includes(o)){let a=F.G(t.e,o.e);l>a&&(l=a,e=o)}if(!e)break;Et.push(e)}for(;Et.length>Ft;){let e,l=0;for(let o of Et){let a=F.G(o.e,t.e);l<a&&(l=a,e=o)}e&&zt(e)}})(t);for(let e of Gt)if(!(e.a<=0||e.p==e.c.C.B||1!=e.g&&0!=e.g||t.a<=0||t.p==t.c.C.B))if(Jt(e,t)){let l=e.F;if(l.N){l.N=!1;let o=F.v(t.e,e.e);e.I=x(-1,1,o.x),e.r.b=!0,Et.includes(e)||Et.push(e)}}else{let l=!1;if(Et.includes(e)?l=!0:Xt(e,t)||(l=!0),l){let l=F.v(t.e,e.e);F.U(l),e.r.n.x=l.x,e.r.n.y=l.y}}(()=>{for(let t=0;t<Gt.length;t++){let e=Gt[t];if(1==e.g||0==e.g)for(let l=t+1;l<Gt.length;l++){let t=Gt[l];if(1==t.g||0==t.g){let l=F.v(t.e,e.e);0==l.x&&0==l.y&&(l.x=1);let o=F.L(l);if(o<10){let a=(10-o)/o;e.e.x-=l.x*a,e.e.y-=l.y*a,t.e.x+=l.x*a,t.e.y+=l.y*a}}}}})()})(),(()=>{for(let t of kt.values())It(t)})(),(()=>{let t=vt();for(let e of kt)for(let l of t.K){if(0==l.s.w&&0==l.s.h)continue;let t=l.e.x+l.s.x,o=l.e.y+l.s.y,n=t+l.s.w,r=o+l.s.h,i=e.e.x-t,h=e.e.y-o,s=n-e.e.x,f=r-e.e.y;if(i>0&&h>0&&s>0&&f>0){let t=a(i,h,s,f);i==t&&(e.e.x-=i),h==t&&(e.e.y-=h),s==t&&(e.e.x+=s),f==t&&(e.e.y+=f)}}})(),(()=>{for(let t of kt){if(t.a<=0||!t.E)continue;let e=null,l=f,o=f;for(let a of kt)if(!(a.a<=0||a.p==a.c.C.B)&&t.c.P!=a.c.P){let n=a.e.x-t.e.x;if(n*t.I>0){let r=i(n),h=i(t.e.y-a.e.y);r<25&&h<10&&(!e||l>r||o>h)&&(e=a,l=r,o=h)}}if(e){e.a-=t.E,e.D.x+=t.I*t.E/100*300,t.D.x+=10*t.I;let l=t.E>=20?(rt(),gt):(nt(),c(.5)?pt:dt);mt(l,F.ht(e.e,{x:u(-3,3),y:u(-14,-18)}));let o=e.c.C;e.a>0?(e.g=3,e.l=0,e.p=d([o.V,o.st,o.B],[10,10,1])):(e.g=4,e.p=g([o.J,o.at]),e.l=0,e.c.P)}else t.c.P||at()}})(),(()=>{let t=vt();for(let e of kt.values())e.e.x=x(t.s.x,t.s.x+t.s.w,e.e.x),e.e.y=x(t.s.y,t.s.y+t.s.h,e.e.y)})(),(()=>{for(let t of ct){let e=xt(t.p);t.l+=ft,t.l>e?wt(t):t.i.t=yt(t.p,t.l)}})()):($t.timout+=ft,$t.timout>3&&ce&&($t.state=0,Ae())),(()=>{let t=vt(),e=ee();t.d.x=e.e.x-100,t.d.y=e.e.y-100})(),(()=>{let t=vt(),e=E[t.ot.t];-t.d.x>0&&(t.d.x=0),-t.d.x+e.width<ae&&(t.d.x=e.width-ae),-t.d.y>0&&(t.d.y=0),-t.d.y+e.height<ne&&(t.d.y=e.height-ne)})(),(()=>{for(let t of kt.values())St(t)})(),(()=>{oe.clearRect(0,0,le.width,le.height);let t=vt();oe.save(),oe.setTransform(1,0,0,1,re.x,re.y),oe.save(),oe.translate(o(-t.d.x),o(-t.d.y)),Rt(oe,t.ot),oe.shadowBlur=2,oe.shadowColor="black";for(let t of kt)Rt(oe,t.u);for(let e of t.K)e.u&&Rt(oe,e.u);oe.shadowBlur=0,bt.sort((t,e)=>t.e.y==e.e.y?e.e.x-t.e.x:t.e.y-e.e.y);for(let t of bt)Rt(oe,t.i);for(let t of ct)Rt(oe,t.i);oe.restore(),oe.fillStyle="black",le.width<le.height?(oe.fillRect(0,-re.y,ae,re.y),oe.fillRect(0,ne,ae,ne)):(oe.fillRect(-re.x,0,re.x,ae),oe.fillRect(ae,0,ae,ne)),(()=>{switch($t.state){case 0:let t=ee(),e=x(0,o(t.c.a),o(t.a)),l=`${t.c.R} ${e}`;se(5,5,l,4288282521);let a="LEVEL "+(13-Kt.length),n=8*a.length;se(ae-n-5,5,a,4294967193);let r=[...Gt];if(r.sort((t,e)=>t.a-e.a),r.length>=1){let t=r[0],e=x(0,o(t.c.a),o(t.a)),l=`${t.c.R} ${e}`;se(5,187,l,4294941081)}if(r.length>=2){let t=r[1],e=x(0,o(t.c.a),o(t.a)),l=`${t.c.R} ${e}`;se(195-8*l.length,187,l,4294941081)}break;case 2:xe(2573598720);let i="GAME OVER";se((ae-8*i.length)/2,96,i,4294967295),fe();break;case 1:xe(2566940160);let h="CONGRATULATIONS!";se((ae-8*h.length)/2,96,h,4294967295),fe()}})(),oe.restore(),1==Zt&&(oe.strokeStyle=D(2583691263),oe.lineWidth=2,oe.beginPath(),oe.arc(o(Tt.n.x),o(Tt.n.y),Tt.z,0,s),oe.closePath(),oe.stroke(),-1!=Tt.W&&(oe.beginPath(),oe.arc(o(Tt.k.x),o(Tt.k.y),Tt.dt,0,s),oe.closePath(),oe.stroke()),oe.strokeStyle=D(2583625728),oe.lineWidth=2,oe.beginPath(),oe.arc(o(Tt.b.x),o(Tt.b.y),Tt.it,0,s),oe.closePath(),oe.stroke(),-1!=Tt.T&&(oe.fillStyle=D(872349696),oe.fill()))})(),ge(85)&&(z.gain.value-=.01),ge(73)&&(z.gain.value+=.01),z.gain.value=x(0,1,z.gain.value),ge(74)&&(q.value-=.01),ge(75)&&(q.value+=.01),q.value=x(0,1,q.value),requestAnimationFrame(Ie)};!async function(){await async function(){let t=await(await fetch("r")).arrayBuffer(),e=new Uint8Array(t),l=0,o=4*e[l++],a=e.slice(l,l+o);l+=o;let n=e[l++];for(;n--;){let t=e[l++],o=e[l++],n=t*o,r=e.slice(l,l+n);l+=n;let i=v();A(i,t),I(i,o);let h=i.getImageData(0,0,t,o);for(let t=0;t<r.length;t++){let e=r[t]<<2;h.data.set(a.slice(e,e+4),t<<2)}i.putImageData(h,0,0),E.push(k(i))}}(),(async()=>{let t=await(async t=>(await async function(){return new Promise(t=>{setTimeout(t,50)})}(),((t,e,l,o=125)=>{let a,n,r,i,h,s,f,x,y,u,c,g,d,p,w,m=0,b=[],v=[],k=[],A=0,I=0,S=1,M={},C=44100/o*60>>2;for(;S;A++)b=[S=x=c=d=0],l.map((o,c)=>{for(f=e[o][A]||[0,0,0],S|=!!e[o][A],w=d+(e[o][0].length-2-!x)*C,p=c==l.length-1,n=2,i=d;n<f.length+p;x=++n){for(h=f[n],y=n==f.length+p-1&&p||u!=(f[0]||0)|h|0,r=0;r<C&&x;r++>C-99&&y?g+=(g<1)/99:0)s=(1-g)*b[m++]/2||0,v[i]=(v[i]||0)-s*I+s,k[i]=(k[i++]||0)+s*I+s;h&&(g=h%1,I=f[1]||0,(h|=0)&&(b=M[[u=f[m=0]||0,h]]=M[[u,h]]||(a=[...t[u]],a[2]=(a[2]||220)*2**((h-12)/12),h>0?H(...a):[])))}d=w});return[v,k]})(...t)))(L),e=j(...t);e.connect(z),e.loop=!0,e.start(),z.connect(_.destination),_.resume()})(),(()=>{p.onkeydown=t=>{lt(),ce=!0,ue[t.keyCode]=!0,t.preventDefault()},p.onkeyup=t=>{ce=!1,(t=>{delete ue[t]})(t.keyCode),t.preventDefault()},le.onmousedown=t=>{ce=!0,lt(),t.preventDefault()},le.onmousemove=t=>{t.preventDefault()},le.onmouseup=t=>{ce=!1,t.preventDefault()};let t=(t,e)=>{let l=t.changedTouches;for(let t=0;t<l.length;t++){let{clientX:o,clientY:a,identifier:n}=l[t];e(n,{x:o/ie,y:a/ie,Z:!1})}t.preventDefault()};le.ontouchstart=e=>{ce=!0,Zt=1,t(e,(t,e)=>{ye[t]=e,e.Z=!0})},le.ontouchmove=e=>{t(e,(t,e)=>{ye[t]=e})},le.ontouchend=e=>{ce=!1,t(e,(t,e)=>{delete ye[t]})},le.ontouchcancel=e=>{t(e,(t,e)=>{delete ye[t]})}})(),(()=>{Lt([4278190080,4294939392,4289374890,4294967295,4294967295,4294939392,4284900966,4284900966,4278190080]),Lt([4278190080,4294939392,4279308561,4279308561,4279308561,4294939392,4279308561,4279308561,4278190080]);let t=[4278781958,4288375884,4289288514],e=[4293378730,4291399795,4292983441,4290545251,4283776301],l=[4281545523,4281223767,4278211731],o=[4278190131,4286151563,4278211731,4278206244],a=[4278190080,4293651435,4280749057];for(let n=0;n<10;n++){let n=g(t),r=g(e),i=g(l),h=g(o),s=g(a),f=i,x=i,y=i,u=r,d=h,p=h;c(.1)&&(n=r),c(.5)&&(y=r),c(.2)&&(u=4279308561),c(.5)&&(p=r),Lt([n,r,f,x,y,u,d,p,s])}})(),Ae(),Ie()}()</script>