<!doctype html><title>Mewsterpiece - js13kGames 2025</title><style>body{margin:0;padding:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,#f7f7f9,#ececf1);color:#1f2328}.splash-page{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;z-index:10000;transition:opacity .5s ease,visibility .5s ease}.splash-page.hidden{opacity:0;visibility:hidden;pointer-events:none}.splash-content{text-align:center;color:#fff;max-width:500px;padding:40px;background:#ffffff1a;border-radius:20px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);box-shadow:0 20px 40px #0000001a}.splash-title{font-size:48px;font-weight:800;margin:0 0 16px;text-shadow:0 4px 8px rgba(0,0,0,.3);background:linear-gradient(45deg,#fff,#f0f0f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.splash-subtitle{font-size:20px;font-weight:600;margin:0 0 12px;opacity:.9}.splash-description{font-size:16px;margin:0 0 32px;opacity:.8;line-height:1.5}.player-name-input{margin:0 0 24px;text-align:left}.player-name-input label{display:block;font-size:16px;font-weight:600;color:#ffffffe6;margin-bottom:8px}.player-name-input input{width:100%;padding:12px 16px;font-size:16px;border:2px solid rgba(255,255,255,.3);border-radius:12px;background:#ffffff1a;color:#fff;backdrop-filter:blur(10px);transition:all .3s ease;box-sizing:border-box}.player-name-input input::placeholder{color:#fff9}.player-name-input input:focus{outline:0;border-color:#fff9;background:#ffffff26;box-shadow:0 0 0 3px #ffffff1a}.start-game-btn{font-size:18px;font-weight:700;padding:16px 32px;background:linear-gradient(135deg,#4f46e5,#06b6d4);border:none;border-radius:50px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 20px #4f46e566;text-transform:uppercase;letter-spacing:1px}.start-game-btn:hover{transform:translateY(-2px);box-shadow:0 12px 30px #4f46e580;background:linear-gradient(135deg,#4338ca,#0891b2)}.start-game-btn:active{transform:translateY(0);box-shadow:0 6px 15px #4f46e566}.tab-navigation{display:flex;justify-content:center;margin-bottom:24px;gap:8px}.tab-button{padding:12px 24px;border:2px solid #e5e7eb;background:#fff;color:#667085;border-radius:12px;font-weight:600;cursor:pointer;transition:all .2s ease}.tab-button:hover{border-color:#4f46e5;color:#4f46e5;transform:none;box-shadow:0 4px 12px #4f46e526}.tab-button.active{background:linear-gradient(135deg,#4f46e5,#06b6d4);border-color:transparent;color:#fff;box-shadow:0 8px 20px #4f46e540}.tab-content{display:none}.tab-content.active{display:block}.gallery-header{text-align:center;margin-bottom:32px}.gallery-header h2{margin:0 0 8px;color:#1f2328;font-size:28px;font-weight:700}.gallery-header p{margin:0;color:#667085;font-size:16px}.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;max-width:1200px;margin:0 auto;padding:0 20px;align-items:start}.gallery-item{position:relative;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #00000014}.gallery-item:hover{transform:translateY(-2px);box-shadow:0 8px 24px #0000001f}.gallery-item img{width:100%;height:200px;object-fit:cover;display:block}.gallery-item-info{padding:12px;background:#fff}.gallery-item-title{font-weight:600;color:#1f2328;margin:0 0 4px;font-size:14px}.gallery-item-date{font-size:12px;color:#667085;margin:0}.gallery-item-actions{position:absolute;top:8px;right:8px;display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.gallery-item:hover .gallery-item-actions{opacity:1}.gallery-action-btn{width:32px;height:32px;border-radius:6px;background:#ffffffe6;border:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:14px}.gallery-action-btn:hover{background:#fff;border-color:#4f46e5;color:#4f46e5}.clear-all-btn{grid-column:1/-1;margin-bottom:20px;padding:12px 24px;background:#dc2626;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-all-btn:hover{background:#b91c1c;transform:none;box-shadow:0 4px 12px #dc26264d}.gallery-empty{text-align:center;padding:60px 20px;color:#667085}.gallery-empty h3{margin:0 0 12px;font-size:20px;font-weight:600}.gallery-empty p{margin:0;font-size:16px}.controls{margin:16px auto 12px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;padding:12px 16px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 30px #00000014,0 1px 2px #0000000f;width:fit-content}#canvas{display:block;margin:0 auto;border:1px solid #e5e7eb;border-radius:12px;background:#fff;cursor:crosshair;box-shadow:0 20px 50px #0000001f,0 2px 8px #00000014}.status{margin-top:12px;font-size:14px;color:#667085;text-align:center}button{--b1:#4f46e5;--b2:#06b6d4;--hover1:#4338ca;--hover2:#0891b2;border:none;padding:10px 16px;border-radius:999px;color:#fff;font-weight:700;letter-spacing:.2px;background:linear-gradient(135deg,var(--b1),var(--b2));box-shadow:0 10px 20px #4f46e540,0 2px 6px #06b6d440;transition:transform .1s ease,box-shadow .2s ease,background .3s ease;cursor:pointer}button:hover{background:linear-gradient(135deg,var(--hover1),var(--hover2));box-shadow:0 14px 26px #4f46e54d,0 4px 10px #06b6d447}button:active{transform:translateY(1px)}.below-canvas{margin:10px auto 16px;display:flex;justify-content:center}#syncOverlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:#fffc;backdrop-filter:blur(2px);z-index:1000}.overlay-content{padding:10px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:#475467;font-weight:600;box-shadow:0 10px 30px #00000014,0 1px 2px #0000000f}label{font-weight:600;color:#475467}#radiusValue{padding:2px 8px;border-radius:8px;background:#f2f4f7;border:1px solid #e5e7eb;font-variant-numeric:tabular-nums;color:#475467}#colorPicker{width:44px;height:34px;padding:0;border:1px solid #e5e7eb;border-radius:8px;background:#fff}#colorPicker::-webkit-color-swatch-wrapper{padding:4px;border-radius:8px}#colorPicker::-webkit-color-swatch{border:none;border-radius:6px}.color-history{display:flex;gap:4px;flex-wrap:wrap;max-width:200px}.color-history-item{width:24px;height:24px;border:2px solid #e5e7eb;border-radius:6px;cursor:pointer;transition:all .2s ease;position:relative}.color-history-item:hover{border-color:#4f46e5;transform:scale(1.1);box-shadow:0 2px 8px #4f46e54d}.color-history-item:active{transform:scale(.95)}#radiusSlider{width:240px;background:0 0}#radiusSlider::-webkit-slider-runnable-track{height:6px;background:linear-gradient(90deg,#e5e7eb,#d1d5db);border-radius:999px}#radiusSlider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:-6px;width:18px;height:18px;background:#1f6feb;border:2px solid #fff;border-radius:50%;box-shadow:0 1px 2px #0003}#radiusSlider::-moz-range-track{height:6px;background:linear-gradient(90deg,#e5e7eb,#d1d5db);border-radius:999px}#radiusSlider::-moz-range-thumb{width:18px;height:18px;background:#1f6feb;border:2px solid #fff;border-radius:50%;box-shadow:0 1px 2px #0003}#canvas:hover{box-shadow:0 24px 60px #00000024,0 4px 12px #0000001a}.controls:focus-within{box-shadow:0 12px 34px #00000017,0 1px 4px #00000014}.cat-thumbnails{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.cat-thumbnail{width:60px;height:60px;border:2px solid #e5e7eb;border-radius:8px;background:#f9fafb;position:relative;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.cat-thumbnail:hover{border-color:#1f6feb;transform:translateY(-2px);box-shadow:0 4px 12px #1f6feb26}.cat-thumbnail.current{border-color:#1f6feb;background:#eff6ff;box-shadow:0 0 0 2px #1f6feb33}.cat-thumbnail.completed{border-color:#10b981;background:#f0fdf4}.cat-thumbnail.locked{opacity:.5;cursor:not-allowed}.cat-thumbnail.locked:hover{transform:none;border-color:#e5e7eb;box-shadow:none}.cat-thumbnail svg{width:100%;height:100%;padding:8px;display:flex;align-items:center;justify-content:center}.cat-thumbnail .lock-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;color:#9ca3af}.cat-thumbnail .level-number{position:absolute;bottom:2px;right:2px;background:#1f6feb;color:#fff;font-size:10px;font-weight:600;padding:2px 4px;border-radius:4px;line-height:1}.game-info-overlay{position:fixed;top:20px;left:20px;z-index:1000;padding:16px;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 4px 12px #00000014,0 1px 2px #0000000f;display:flex;flex-direction:column;align-items:center;gap:8px;transition:all .2s ease}.game-info-overlay:hover{box-shadow:0 8px 20px #0000001f,0 2px 4px #00000014}.game-info-overlay .timer{font-size:24px;font-weight:700;color:#1f6feb;text-align:center}.game-info-overlay .level-info{font-size:16px;font-weight:600;color:#475467;text-align:center}.status-indicator{position:fixed;top:20px;right:20px;z-index:1000;transition:opacity .3s ease,visibility .3s ease}.status-indicator.hidden{opacity:0;visibility:hidden;pointer-events:none}.status-content{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#fff;border:1px solid #e5e7eb;border-radius:20px;box-shadow:0 4px 12px #00000014,0 1px 2px #0000000f;font-size:12px;color:#475467;font-weight:500;transition:all .2s ease}.status-spinner{width:12px;height:12px;border:2px solid #e5e7eb;border-top:2px solid #1f6feb;border-radius:50%;animation:spin 1s linear infinite}.status-indicator.connected .status-content{border-color:#10b981;background:#f0fdf4}.status-indicator.connected .status-spinner{border-color:#10b981;border-top-color:#10b981;animation:none}.status-indicator.offline .status-content{border-color:#f59e0b;background:#fffbeb}.status-indicator.offline .status-spinner{border-color:#f59e0b;border-top-color:#f59e0b;animation:none}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}</style><div class=splash-page id=splashPage><div class=splash-content><h1 class=splash-title>Mewsterpiece</h1><p class=splash-subtitle>Collaborative Cat Drawing Game<p class=splash-description>Draw cats together with other players in real-time!<div class=player-name-input><label for=playerNameInput>Your Name:</label><input id=playerNameInput placeholder="Enter your name" maxlength=20></div><button class=start-game-btn id=startGameBtn>OK</button></div></div><div class=status-indicator id=statusIndicator><div class=status-content><div class=status-spinner></div><span id=statusText>Searching for other players...</span></div></div><div class=tab-navigation><button class="active tab-button" id=drawTab>Draw</button><button class=tab-button id=archiveTab>Archive</button></div><div class=game-info-overlay><div class=timer><span id=timerDisplay>5:00</span></div><div class=level-info><span id=levelDisplay>Level 1: Tilly</span></div></div><div class="active tab-content" id=drawContent><div class=controls><label>Color:</label><input id=colorPicker type=color value=#000000><div class=color-history id=colorHistory></div><label for=radiusSlider>Size:</label><input id=radiusSlider type=range value=5 max=60 min=1 step=1><span id=radiusValue>5</span></div><canvas height=600 id=canvas width=800></canvas><div class=status><div>Click and drag to paint pixels</div><div>All painters are connected in real-time using Lab13 SDK</div></div></div><div class=tab-content id=archiveContent><div class=gallery-header><h2>Archived Pictures</h2><p>Your completed artwork, from newest to oldest</div><div class=gallery-grid id=galleryGrid></div></div><script type=module>import{PartySocket as e}from"/2025/online/partysocket.js";const t=(e,t="i",n=440)=>"0"===e?0:n*Math.pow(2,(-t.charCodeAt(0)+e.charCodeAt(0))/12),n=(e,t,n,o)=>{const{noteLengthMs:s=200,volume:i=.1}=o||{};if(0===t)return;const a=e,l=a.createOscillator(),r=a.createGain(),c=a.createGain();l.connect(c),c.connect(r),r.connect(a.destination),l.frequency.setValueAtTime(t,n),l.type="sine",r.gain.setValueAtTime(i,n),c.gain.setValueAtTime(.5,n),c.gain.setTargetAtTime(.001,n+.1,.05);const d=s/1e3;l.start(n),l.stop(n+d-.01),l.onended=()=>{l.disconnect(),c.disconnect(),r.disconnect()}},o=e=>{let o,s,i=0;const a=new Set;return{play(l){const{noteLengthMs:r=200,loop:c=!0,volume:d=.1,baseNote:m="i",onNotesPlayed:u}={...l},p=r/1e3,g=Math.max(...e.map(e=>e.length)),y=g*p;(!o||"closed"===o.state)&&(o=new AudioContext),i=o.currentTime;const h=()=>{for(let s=0;g>s;s++){const l=i+s*p;for(const i of e){const e=i[s];if(!e)continue;const a=t(e,m);n(o,a,l,{noteLengthMs:r,volume:d})}if(u){const e=setTimeout(()=>u(s),s*r);a.add(e)}}i+=y};h(),c&&(s=setInterval(h,1e3*y))},stop(){a.forEach(e=>clearTimeout(e)),a.clear(),s&&clearInterval(s),o&&"closed"!==o.state&&o.close()}}},s=(e,t=window.socket)=>{t.send(e)},i=(e,t,n=window.socket)=>{n.addEventListener("message",n=>{const o=""+n.data;o.startsWith(e)&&t(o.slice(e.length))})},a=(e,t,n,o=window.socket)=>{((e,t,n=window.socket)=>{s(`@${e}|${t}`,n)})(e,`${t}${n}`,o)},l=(e,t,n=window.socket)=>{s(`${e}${t}`,n)},r=e=>"_"+e,c=(e,t=window.socket)=>{i("+",e,t)},d=(e,t=window.socket)=>{i("-",e,t)},m=e=>JSON.parse(JSON.stringify(e)),u=e=>{const{socket:t=window.socket}=e||{};let n=t.id;return((e,t=window.socket)=>{i("@",e,t)})(e=>{n=e},t),{getMyId:()=>n}},p="@players",g=new Set;function y(e,t,n=!1,o){const s={},i=t=>{n?delete e[t]:e[t]=null,s[t]=null,o?.startsWith("@")&&g.add(t)};return Object.keys(t).forEach(a=>{if((e=>o?.startsWith("@")&&g.has(e))(a))return void i(a);const l=t[a],r=e[a];if(null===l)i(a);else if(l&&"object"==typeof l&&!Array.isArray(l)&&r&&"object"==typeof r&&!Array.isArray(r)){const e=y(r,l,n,a);Object.keys(e).length>0&&(s[a]=e)}else l!==r&&(e[a]=l,s[a]=l)}),s}const h=e=>{const t=(n,o=[])=>{if("object"!=typeof n||null===n)return n;for(const s in n){if(!{}.hasOwnProperty.call(n,s))continue;const i=n[s];"object"==typeof i&&null!==i?t(i,[...o,s]):n[s]=e(n,s,i,o)}return n};return t},f=e=>{if("object"!=typeof e||null===e)return e;const t={...e};return Object.keys(t).forEach(e=>{e.startsWith("_")?delete t[e]:"object"==typeof t[e]&&null!==t[e]&&(t[e]=f(t[e]))}),t},v=e=>{const{lengthMs:t=50,rate:n=48e3,throttleMs:o=t,defaultVolume:s=1}={},i=t/1e3*n,a=new AudioContext,l=a.createBuffer(1,i,n),r=l.getChannelData(0);for(let t=i;t--;)r[t]=e(t);let c=0;const d=(e=s)=>{const t=a.createBufferSource(),n=a.createGain();t.buffer=l,t.connect(n),n.connect(a.destination),n.gain.value=e,t.start()};return o>0?(e=1)=>{const t=Date.now();t-c>=o&&(d(e),c=t)}:d},w=(()=>{const{autoStopMs:e=0,volume:t=.1}={},n=new AudioContext;let o,s=!1,i=.1,a=0;const l=n.createGain();return l.connect(n.destination),{start(r=t,c=e){if(i=r,l.gain.value=i,s)return void(c&&(clearTimeout(o),o=setTimeout(()=>s=!1,c)));s=!0,a=0;const d=()=>{if(!s)return;const e=n.createBufferSource(),t=n.createBuffer(1,1024,n.sampleRate),o=t.getChannelData(0);for(let e=1024;e--;)o[e]=(a++,2*Math.random()-1);e.buffer=t,e.connect(l),e.onended=d,e.start()};d(),c&&(o=setTimeout(()=>s=!1,c))},stop(){s=!1,clearTimeout(o)},volume(e){i=e,l.gain.value=i}}})(),x=v(e=>(2*Math.random()-1)*Math.exp(-e/500)),b=v(e=>{if(e>6e3)return null;var t=(e=>(6e3-e)/6e3)(e);return Math.sin(.01*e*Math.sin(.009*e+Math.sin(e/200))+Math.sin(e/100))*t*t}),k=o(["v0vvvx0v0x0zzzzzzz","q0qqqs0q0s0uuuuuuu","j0jjjl0j0l0rrrrrrr","00000000000nnnnnnn","00000000000iiiiiii","00000000000fffffff","00000000000VVVVVVV"]),S=[{cat:{name:"Tilly",path:"M90 50 C75 35 105 35 90 20 M75 35 L60 20 M105 35 L120 20 M70 50 C50 70 50 90 70 110 C80 120 100 120 110 110 C130 90 130 70 110 50 M70 110 L60 140 M80 110 L70 140 M100 110 L90 140 M110 110 L100 140 M110 110 C130 130 150 150 170 130 M85 45 C85 45 85 50 85 50 M95 45 C95 45 95 50 95 50 M90 50 L90 60 M85 60 L65 60 M95 60 L115 60",bounds:{minX:50,minY:20,maxX:170,maxY:150}},song:o(["ll0n0j0jYll00uYvusqs[p0pp00qpnlj0n0q00l0^p00s000v0u0s0pq","ii0j0e0e00i00q000Y^0T00dd000000g0j0n00]00`0000000000d0d","0Y0^000000Y000000000000``000000[0^0]0000000000000000`0`"])},{cat:{name:"Whiskers",path:"M100 30 C85 15 115 15 100 0 M85 15 L70 0 M115 15 L130 0 M80 30 C60 50 60 80 80 100 C90 120 110 120 120 100 C140 80 140 50 120 30 M80 100 L70 140 M90 100 L80 140 M110 100 L100 140 M120 100 L110 140 M100 100 C120 120 140 140 160 120 M90 25 C90 25 90 30 90 30 M110 25 C110 25 110 30 110 30 M100 30 L100 40 M90 40 L70 40 M110 40 L130 40",bounds:{minX:60,minY:0,maxX:160,maxY:140}},song:o(["l0n0j0jYll00uYvusqs[p0pp00qpnlj0n0q00l0^p00s000v0u0s0pq","ii0j0e0e00i00q000Y^0T00dd000000g0j0n00]00`0000000000d0d","0Y0^000000Y000000000000``000000[0^0]0000000000000000`0`"])},{cat:{name:"Shadow",path:"M100 40 C80 20 120 20 100 0 M80 20 L60 0 M120 20 L140 0 M80 40 C60 60 60 100 80 120 C80 140 120 140 120 120 C140 100 140 60 120 40 M80 120 L70 160 M90 120 L80 160 M110 120 L100 160 M120 120 L110 160 M100 120 C80 140 60 160 40 140 M90 30 C90 30 90 35 90 35 M110 30 C110 30 110 35 110 35 M100 35 L100 45 M90 45 L70 45 M110 45 L130 45",bounds:{minX:40,minY:0,maxX:140,maxY:160}},song:o(["in0j0jYll0iuYvusqs^pTppddqpnlj0n0q0nl0^p0`s000v0u0s0pqll","0i0^0e0e00Y00q000Y[0000``000000g0j0]0000000000000000d0d","0Y00000000000000000000000000000[0^000000000000000000`0`"])},{cat:{name:"Luna",path:"M70 46a24 24 0 1 1 0 48 24 24 0 1 1 0-48M54 58 44 40l20 10Zm32 0 10-18-20 10ZM62 70h4m12 0h4m-14 8 2 2 2-2m-2 2v5m0 0c-4 3-8 3-10 0m10 0c4 3 8 3 10 0M52 74l-22-4m22 8H30m22 4-22 4m58-12 22-4m-22 8h22m-22 4 22 4m-20 14c30 10 50 40 40 70-10 20-50 22-70 0-8-10-6-22 4-30m6-42c8 12 8 32 2 52m0 0 10 20 10-20m28 0c30 0 40-30 20-40-10-4-18 2-16 12 2 14 22 18 32 8",bounds:{minX:30,minY:40,maxX:160,maxY:192}},song:o(["0j0jYlleiuYvusqs^p[ppddqpnlj0n0q0nl]^p0`s000v0u0s0pqllin","0Y0^0e0000000q000YT0000``000000g0j000000000000000000d0d","0000000000000000000000000000000[0^000000000000000000`0`"])},{cat:{name:"Mittens",path:"m90 60 10-20 10 20c20 2 30 20 30 38 2 32-12 62-40 70s-52-12-50-36c2-22 20-34 34-34-14-8-18-20-14-30m14 18h6m18 0h6M96 96l2 2 2-2m-2 2v4m0 0c-4 2-8 2-10 0m10 0c4 2 8 2 10 0M76 92l-20-2m20 6H56m20 4-20 2m48-10 20-2m-20 6h20m-20 4 20 2m-4 48c40 0 44-32 20-38-8 0-10 8-4 12 10 8 20 2 24-6",bounds:{minX:48,minY:40,maxX:164,maxY:176}},song:o(["ijYlle0uYvusqs[p0pp0Tqpnlj0n0q0glj^p0gs00`v0u0s0pqlldndj","0Y0^000e00i00p000Y^0000dd000000[0^0^00^0000000000000`0`","0000000000Y000000000000``"])},{cat:{name:"Pumpkin",path:"m80 60 10-20 10 20c12 2 18 12 18 24 0 16-14 28-28 28s-28-12-28-28c0-12 6-22 18-24m4 22h4m8 0h4m-10 6v4m0 0c-5 3-9 3-12 0m12 0c5 3 9 3 12 0m8 18c30 10 42 38 22 60-20 20-60 18-72-6-6-12 0-26 12-32m6-6v24m8 0v18m38-18c24 0 30-22 12-28-10-4-14 4-10 10 8 12 26 12 34 0",bounds:{minX:54,minY:40,maxX:160,maxY:190}},song:o(["vusqsgpgppi0qpnljYn0q00ld^p00s0g0v0u0s[pqll0n0j0j`lld0uY","ii0j0[0000Y0000000^0V00d`000000[0j0l00000^0000000000`0d","0Y0^0000000000000000000`000000000^0`000000000000000000`"])},{cat:{name:"Nova",path:"m90 54 10-18 10 18c16 4 24 18 24 32 0 20-16 36-34 36s-34-16-34-36c0-14 8-28 24-32m-4 28h6m16 0h6M96 92v6m0 0c-6 4-10 4-14 0m14 0c6 4 10 4 14 0m0 20c30 10 46 38 26 58-20 18-60 16-72-8-6-12 0-28 14-34m-2-4v24m10 0v18m34-18c34 0 42-30 20-36-8 0-10 8-4 12 12 8 26 2 32-8",bounds:{minX:58,minY:36,maxX:168,maxY:194}},song:o(["lp0ppd0qpnlj0q0q0[l0ll0n0j0jYllg0u`vusqs^p0Ts000v0u0s0pq","XX0j000^00iV0n0000^0Y00e0000000X0p0n00[00`0000000000d0d","000[000000Y000000000000]000000000^0[0000000000000000`0`","00000000000000000000000Y"])},{cat:{name:"Cosmo",path:"m120 84 8-18 8 18c14 6 20 20 18 34-4 28-28 46-54 44s-46-24-42-48c2-14 14-24 30-26-12-6-16-18-12-28m16 40h6m16 0h6m-16 8v6m0 0c-6 4-10 4-14 0m14 0c6 4 10 4 14 0m12 26c30 0 38-24 18-30-10 0-12 8-6 12 12 8 28 4 34-6",bounds:{minX:54,minY:60,maxX:176,maxY:164}},song:o(["gggiiifffdddgggiiikkknnnpnkpnkrpkrpksrksrkuskuskwwwuuuxxxwwwuspk","000000000000000000fffdddg00g00f00f00p00p00p00p00sssrrrsssrrrk[kf","000000000000000000000000000000c00c00g00g00f00f00pppnnnpppnnnV0g","000000000000000000000000000000000000d00d00c00c00gggfffllliii00_","000000000000000000000000000000000000_00_00_00_00ddd]]]gggfff","000000000000000000000000000000000000000000W00W00___ZZZ```bbb","000000000000000000000000000000000000000000000000[[[VVV[[[ZZZ","000000000000000000000000000000000000000000000000XXX000XXXVVV"])},{cat:{name:"Ziggy",path:"M60 112c4-16 18-26 36-28l10-18 10 18c16 4 24 16 22 28-2 14-16 22-32 22-14 0-30-6-38-14-2 12-8 22-16 30q-6 6-12 6m46-56h6m16 0h6m-16 8v6m0 0c-6 4-10 4-14 0m14 0c6 4 10 4 14 0m30 18c28-2 32-24 14-30-8-2-10 6-6 12 8 14 24 16 34 6",bounds:{minX:40,minY:66,maxX:184,maxY:156}},song:o(["pgkdgkogdssspgkdgkogksssdpkdgkigcsssdgpdgkigcigcdfgfgigiklkigfc","d00000i00igdXXX___d__igc_g_______igc__k]]][[[]]]_][_][SZ[]_][Z]","_00000000000KKKKKK_PP]_`K_KKKKPPP]_`KK_KKKPPPNNNKKKQQQNSSPRSSVW","000000000000000000P00NNN0K0000000NNN00K000000000000MMM0NN"])},{cat:{name:"Pixel",path:"m78 70 10-18 10 18c18 2 28 16 28 30 0 20-16 36-36 36s-36-16-36-36c0-14 10-28 24-30m-6 22h6m18 0h6m-18 8v6m0 0c-6 4-10 4-14 0m14 0c6 4 10 4 14 0m4 30c24 10 38 32 26 46-16 12-44 8-54-8-6-10-2-24 10-30m36 10c30 0 36-26 18-32-10-2-12 8-6 12 12 8 28 4 36-6",bounds:{minX:54,minY:52,maxX:168,maxY:194}},song:o(["00nnnnjeljennnnjeoginlnqqqqjbvjnxnlzzzzsqxxxvsqsqssqsvqsqolqqqqnlvnlsnlusqqlslousqlqqqqsqonln","00ejee00e00ejee00j00j00ljnl00e00o00jjjq00qsqq00cccc00q0oc00lnll00l00l00ilii0o`0qpn0iiii0nliij","00^^^^00]00^^^^00e00^00bbbb00000i00000j00iiig00000000g00000bbbb00c00b00cccc00000`j0eeee0i","00000000000000000`00000000000000000000000000000000000000000000000000000]]]]"])}],L=6e4,M={currentLevel:0,timeRemaining:L,isInLevel:!0,isInBreak:!1,breakTimeRemaining:0,shared:{img:"",startedAt:Date.now()},isDrawing:!1,isInitialized:!1,completedPictures:new Map,hasDrawnPixels:!1,playerName:"Anonymous",currentSong:null,colorHistory:[]};function C(){const e=Date.now()-M.shared.startedAt,t=7e4,n=e%t,o=L>n,s=!o,i=Math.floor(e/t)%S.length;let a=0,l=0;return o?a=L-n:l=t-n,{...M,currentLevel:i,timeRemaining:a,isInLevel:o,isInBreak:s,breakTimeRemaining:l}}(()=>{try{const e=localStorage.getItem("mewsterpiece-pictures-index");e&&JSON.parse(e).forEach(e=>{const t=localStorage.getItem("mewsterpiece-picture-"+e);if(t){const n=JSON.parse(t);M.completedPictures.set(e,n)}})}catch(e){}})(),(()=>{try{const e=localStorage.getItem("mewsterpiece-color-history");e&&(M.colorHistory=JSON.parse(e))}catch(e){M.colorHistory=[]}})(),(()=>{try{const e=localStorage.getItem("mewsterpiece-player-name");e&&(M.playerName=e)}catch(e){}})(),(()=>{window.PartySocket=e;const t="mewsterpiece".split("/"),{host:n="relay.js13kgames.com",global:o=!0}={},s=new window.PartySocket({host:n,party:t[0],room:t.join("/"),id:Math.random().toString(36).substring(2,15)});o&&(window.socket=s)})();const{getMyId:N}=u(),{updateMyState:E,getPlayerStates:I}=(e=>{const{positionPrecision:t=0,rotationPrecision:n=2,rotationUnits:o="d",debug:s=!1}=e||{},{getMyId:g}=u(),v=(g(),()=>{}),w=(e=>(t,n)=>{const o=e();return o?{...n,[p]:{...n[p],[o]:t[p]?.[o]||{}}}:n})(g),x=new Set,b=((e=0)=>h((t,n,o)=>["x","y","z"].includes(n)?((e,t=0)=>0===t?Math.round(e):Math.round(e*Math.pow(10,t))/Math.pow(10,t))(o,e):o))(t),k=((e=2,t=!1)=>h((n,o,s)=>{return["rx","ry","rz"].includes(o)?(i=t?(e=>(0>(e%=360)&&(e+=360),e))(s):(e=>{const t=2*Math.PI;return 0>(e%=t)&&(e+=t),e})(s),0===e?Math.round(i):Math.round(i*Math.pow(10,e))/Math.pow(10,e)):s;var i}))(n,"d"===o),S=(e=>{const{onBeforeSendState:t=e=>e,onStateReceived:n=(e,t)=>t,onDeltaReceived:o=e=>e,onBeforeSendDelta:s=e=>e,onAfterStateUpdated:g=()=>{},socket:h=window.socket,deltaThrottleMs:v=50,debug:w=!1}=e||{};let x={[p]:{}};c(e=>{C("Client joined:",e),b(e)},h),d(e=>{C("Client left:",e),E(e,null)},h);const b=e=>{const n=t(m(x)),o=f(n);C("Sending state to client",e,JSON.stringify(o,null,2)),a(e,r("s"),JSON.stringify(o),h)};let k=null,S={};const L=(e=window.socket)=>{if(0===Object.keys(S).length||k)return;const t=s(m(S)),n=f(t);C("Sending delta to all",JSON.stringify(n,null,2)),l(r("d"),JSON.stringify(n),e),S={},k=setTimeout(()=>{k=null,C("in timeout, pending delta is",JSON.stringify(S,null,2)),L(e)},v)},{getMyId:M}=u({socket:h}),C=(M(),()=>{});((e,t=window.socket)=>{i(r("s"),t=>{const n=JSON.parse(t);e(n)},t)})(e=>{C("Received new state from peer",JSON.stringify(e,null,2));const t=n(x,e);C("Normalized state from peer",JSON.stringify(t,null,2)),x=t,g(x,t)},h),((e,t=window.socket)=>{i(r("d"),t=>{const n=JSON.parse(t);e(n)},t)})(e=>{const t=o(e);C("Received delta from client",JSON.stringify(t,null,2)),I(t,!1)},h);const N=(e,t=!1)=>{const n=x[p]?.[e]||{};return t?m(n):n},E=(e,t)=>{I({[p]:{[e]:t}})},I=(e,t=!0)=>{const n=y(x,e,!0);Object.keys(n).length>0&&(C("Updating state",JSON.stringify({localState:x,delta:e,changes:n},null,2)),g(x,n)),t&&(y(S,n),Object.keys(S).length>0&&C("Pending delta",JSON.stringify(S,null,2)),L(h))};return{getState:(e=!1)=>e?m(x):x,getMyState(e=!1){const t=M();return N(t,e)},getPlayerStates:(e=!1)=>e?m(x[p]):x[p],getPlayerState:N,updateMyState(e){const t=M();E(t,e)},updatePlayerState:E,updateState:I}})({onBeforeSendDelta:e=>b(k(e)),onBeforeSendState:e=>b(k(e)),onStateReceived:(e,t)=>w(e,t),onAfterStateUpdated(t,n){v("onAfterStateUpdated",JSON.stringify(t,null,2),JSON.stringify(n,null,2)),(t=>{for(const n in t[p]){if(n===g()||x.has(n))continue;x.add(n),v("Adding missing player",n);const o=t[p][n];e?.onPlayerStateAvailable?.(n,o)}})(t)},...e});return d(e=>{S.updatePlayerState(e,null)}),S})({});function j(e){M.currentSong&&(M.currentSong.stop(),M.currentSong=null);const t=S[e].song;t.play({}),M.currentSong=t}function q(){M.currentSong&&(M.currentSong.stop(),M.currentSong=null),k.play({loop:!1,noteLengthMs:100})}const Y=e=>{const t=B.toDataURL("image/webp");a(e,"s",JSON.stringify({...M.shared,img:t}))};i("s",e=>{M.shared=JSON.parse(e),C();const t=new Image;t.onload=()=>{A.clearRect(0,0,B.width,B.height),A.drawImage(t,0,0)},t.onerror=()=>{},t.src=M.shared.img}),c(e=>{Y(e)}),i("p",e=>{if(M.isInBreak)return;const[t,n,o,s]=e.split("|");ce(+t,+n,o,+s)});const P=(e,t,n,o)=>{l("p",`${e}|${t}|${n}|${o}`)};i("?s",e=>{Y(e)});const B=document.getElementById("canvas"),A=B.getContext("2d"),T=document.createElement("canvas");T.width=window.innerWidth,T.height=window.innerHeight,T.style.position="fixed",T.style.top="0",T.style.left="0",T.style.pointerEvents="none",T.style.zIndex="10001";const X=T.getContext("2d");document.body.appendChild(T),window.addEventListener("resize",()=>{T.width=window.innerWidth,T.height=window.innerHeight});const z=document.getElementById("colorPicker"),R=document.getElementById("colorHistory"),D=document.getElementById("radiusSlider"),O=document.getElementById("radiusValue"),_=document.getElementById("statusIndicator"),$=document.getElementById("statusText"),J=document.getElementById("splashPage"),H=document.getElementById("startGameBtn"),K=document.getElementById("playerNameInput");K&&M.playerName&&"Anonymous"!==M.playerName&&(K.value=M.playerName),H.addEventListener("click",()=>{(e=>{try{localStorage.setItem("mewsterpiece-player-name",e),M.playerName=e}catch(e){}})(K?.value.trim()||"Anonymous"),J.classList.add("hidden"),j(0),M.isInitialized=!0,le(),ge(),pe(M.currentLevel)});const V=document.getElementById("timerDisplay"),W=document.getElementById("levelDisplay"),Z=document.getElementById("drawTab"),U=document.getElementById("archiveTab"),G=document.getElementById("drawContent"),Q=document.getElementById("archiveContent"),F=document.getElementById("galleryGrid"),ee=document.createElement("div");ee.style.position="absolute",ee.style.top="50%",ee.style.left="50%",ee.style.transform="translate(-50%, -50%)",ee.style.backgroundColor="rgba(0, 0, 0, 0.9)",ee.style.color="white",ee.style.padding="30px",ee.style.borderRadius="12px",ee.style.fontSize="16px",ee.style.fontWeight="bold",ee.style.zIndex="100",ee.style.display="none",ee.style.textAlign="center",ee.style.minWidth="300px",ee.style.maxWidth="500px",B.parentElement?.appendChild(ee);const te=document.createElement("div");te.style.fontSize="20px",te.style.marginBottom="15px",te.textContent="BREAK TIME - No Drawing Allowed";const ne=document.createElement("div");ne.style.fontSize="14px",ne.style.marginBottom="20px",ne.style.color="#e5e7eb";const oe=document.createElement("img");oe.style.maxWidth="200px",oe.style.maxHeight="150px",oe.style.borderRadius="8px",oe.style.marginBottom="15px",oe.style.border="2px solid #374151",oe.style.backgroundColor="white",oe.style.padding="10px",oe.style.display="block",oe.style.marginLeft="auto",oe.style.marginRight="auto";const se=document.createElement("button");function ie(){B.style.cursor="crosshair"}se.style.backgroundColor="#10b981",se.style.color="white",se.style.border="none",se.style.padding="10px 20px",se.style.borderRadius="6px",se.style.fontSize="14px",se.style.fontWeight="bold",se.style.cursor="pointer",se.style.marginBottom="10px",se.style.display="block",se.style.marginLeft="auto",se.style.marginRight="auto",se.textContent="⬇️ Download Image",ee.appendChild(te),ee.appendChild(ne),ee.appendChild(oe),ee.appendChild(se),A.imageSmoothingEnabled=!1;let ae=+(D?.value??5);function le(){R.innerHTML="",M.colorHistory.forEach(e=>{const t=document.createElement("div");t.className="color-history-item",t.style.backgroundColor=e,t.title=e,t.addEventListener("click",()=>{z.value=e,b(),ie(),E({brushColor:e,playerName:M.playerName})}),R.appendChild(t)})}function re(e){const t=B.getBoundingClientRect();return{x:Math.floor(e.clientX-t.left),y:Math.floor(e.clientY-t.top)}}function ce(e,t,n,o=ae){A.fillStyle=n,A.beginPath(),A.arc(e+.5,t+.5,o,0,2*Math.PI),A.fill(),M.hasDrawnPixels=!0}function de(e){Z.classList.toggle("active","draw"===e),U.classList.toggle("active","archive"===e),G.classList.toggle("active","draw"===e),Q.classList.toggle("active","archive"===e),"archive"===e&&me()}function me(){if(F.innerHTML="",M.completedPictures.size>0){const e=document.createElement("button");e.textContent="Clear All Pictures",e.className="clear-all-btn",e.addEventListener("click",()=>{confirm("Are you sure you want to delete all completed pictures? This cannot be undone.")&&((()=>{try{Array.from(M.completedPictures.keys()).forEach(e=>{localStorage.removeItem("mewsterpiece-picture-"+e)}),localStorage.removeItem("mewsterpiece-pictures-index"),M.completedPictures.clear()}catch(e){}})(),me())}),F.appendChild(e)}0!==M.completedPictures.size?Array.from(M.completedPictures.entries()).sort(([,e],[,t])=>t.completedAt-e.completedAt).forEach(([e,t])=>{const n=((e,t,n,o,s)=>{const i=document.createElement("div");i.className="gallery-item";const a=document.createElement("img");a.src=t,a.alt=`${n} - Level ${s+1}`;const l=document.createElement("div");l.className="gallery-item-info";const r=document.createElement("h3");r.className="gallery-item-title",r.textContent=`Level ${s+1}: ${n}`;const c=document.createElement("p");c.className="gallery-item-date",c.textContent=new Date(o).toLocaleDateString();const d=document.createElement("div");d.className="gallery-item-actions";const m=document.createElement("button");m.className="gallery-action-btn",m.innerHTML="⬇️",m.title="Download",m.addEventListener("click",e=>{e.stopPropagation(),ue(t,`mewsterpiece-level-${s+1}-${n}.png`)});const u=document.createElement("button");return u.className="gallery-action-btn",u.innerHTML="🗑️",u.title="Delete",u.addEventListener("click",t=>{t.stopPropagation(),confirm("Are you sure you want to delete this picture?")&&((e=>{M.completedPictures.delete(e);try{localStorage.removeItem("mewsterpiece-picture-"+e);const t=Array.from(M.completedPictures.keys());localStorage.setItem("mewsterpiece-pictures-index",JSON.stringify(t))}catch(e){}})(e),me())}),d.appendChild(m),d.appendChild(u),l.appendChild(r),l.appendChild(c),i.appendChild(a),i.appendChild(l),i.appendChild(d),i.addEventListener("click",()=>{((e,t,n)=>{const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.8)",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.zIndex="1000";const s=document.createElement("div");s.style.backgroundColor="white",s.style.padding="20px",s.style.borderRadius="8px",s.style.maxWidth="80%",s.style.maxHeight="80%",s.style.overflow="auto";const i=document.createElement("h3");i.textContent=`Level ${e+1}: ${n}`,i.style.marginBottom="10px";const a=document.createElement("img");a.src=t,a.style.maxWidth="100%",a.style.height="auto";const l=document.createElement("button");l.textContent="Close",l.style.marginTop="10px",l.style.padding="8px 16px",l.style.backgroundColor="#374151",l.style.color="white",l.style.border="none",l.style.borderRadius="4px",l.style.cursor="pointer",l.addEventListener("click",()=>{document.body.removeChild(o)}),s.appendChild(i),s.appendChild(a),s.appendChild(l),o.appendChild(s),o.addEventListener("click",e=>{e.target===o&&document.body.removeChild(o)}),document.body.appendChild(o)})(s,t,n)}),i})(e,t.imageData,t.catName,t.completedAt,t.levelIndex);F.appendChild(n)}):F.innerHTML='\n      <div class="gallery-empty">\n        <h3>No completed pictures yet</h3>\n        <p>Complete some levels to see your artwork here!</p>\n      </div>\n    '}function ue(e,t){const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function pe(e){M.currentLevel=e,M.hasDrawnPixels=!1;const t=S[e].cat;A.clearRect(0,0,B.width,B.height),he(e),W.textContent=`Level ${e+1}: ${t.name}`,l("?s",N())}function ge(){const e=C();if(e.currentLevel!==M.currentLevel){M.currentLevel=e.currentLevel,M.hasDrawnPixels=!1;const t=S[M.currentLevel].cat;j(M.currentLevel),A.clearRect(0,0,B.width,B.height),he(M.currentLevel),W.textContent=`Level ${M.currentLevel+1}: ${t.name}`}if(e.isInLevel)M.timeRemaining=e.timeRemaining,M.isInLevel=!0,M.isInBreak=!1,V.textContent=(e=>`${Math.floor(e/6e4)}:${(""+Math.floor(e%6e4/1e3)).padStart(2,"0")}`)(M.timeRemaining),B.style.opacity="1",ee.style.display="none";else if(e.isInBreak){if(!M.isInBreak&&(q(),M.isInitialized)){const e=B.toDataURL("image/webp"),t=S[M.currentLevel].cat;((e,t,n)=>{if(!M.hasDrawnPixels)return;const o=`${e}-${Date.now()}`,s={imageData:t,completedAt:Date.now(),catName:n,levelIndex:e};M.completedPictures.set(o,s);try{localStorage.setItem("mewsterpiece-picture-"+o,JSON.stringify(s));const e=Array.from(M.completedPictures.keys());localStorage.setItem("mewsterpiece-pictures-index",JSON.stringify(e))}catch(e){}})(M.currentLevel,e,t.name),((e,t,n)=>{ne.textContent=`Your ${t} image has been saved! You can download it below.`,oe.src=e,oe.alt=`Level ${n+1}: ${t}`,se.onclick=()=>{ue(e,`mewsterpiece-level-${n+1}-${t}.png`)}})(e,t.name,M.currentLevel),Q.classList.contains("active")&&me()}M.isInLevel=!1,M.isInBreak=!0,M.breakTimeRemaining=e.breakTimeRemaining,V.textContent=`Next level in ${Math.ceil(M.breakTimeRemaining/1e3)}...`,B.style.opacity="0.5",ee.style.display="block"}e.isInLevel&&0>=e.timeRemaining&&!Array.from(M.completedPictures.values()).some(t=>t.levelIndex===e.currentLevel)&&ye(),(()=>{X.clearRect(0,0,T.width,T.height);const e=I(),t=B.getBoundingClientRect();Object.entries(e).forEach(([e,n])=>{if(void 0!==n.mouseX&&void 0!==n.mouseY){X.save();const o=t.left+n.mouseX,s=t.top+n.mouseY,i=.003*Date.now(),a=.95+.05*Math.sin(i+e.charCodeAt(0));X.beginPath(),X.arc(o,s,(n.brushSize||5)*a,0,2*Math.PI),X.strokeStyle=n.brushColor||"#000000",X.lineWidth=2,X.stroke(),X.globalAlpha=1,X.fillStyle="#ffffff",X.strokeStyle="#000000",X.lineWidth=2,X.font="12px Arial";const l=n.playerName||"P"+e.slice(-2),r=o-X.measureText(l).width/2,c=s-(n.brushSize||5)-5;X.strokeText(l,r,c),X.fillText(l,r,c),X.restore()}})})(),requestAnimationFrame(ge)}function ye(){q(),M.currentLevel=(M.currentLevel+1)%S.length,pe(M.currentLevel),j(M.currentLevel)}function he(e){const t=S[e].cat;A.clearRect(0,0,B.width,B.height);const n=t.bounds.maxX-t.bounds.minX,o=t.bounds.maxY-t.bounds.minY,s=.8*Math.min(B.width/n,B.height/o),i=(B.width-n*s)/2-t.bounds.minX*s,a=(B.height-o*s)/2-t.bounds.minY*s;A.save(),A.translate(i,a),A.scale(s,s);const l=new Path2D(t.path);A.strokeStyle="#374151",A.lineWidth=3/s,A.lineCap="round",A.lineJoin="round",A.stroke(l),A.restore()}function fe(e){if(_&&$){switch(_.classList.remove("searching","connected"),_.classList.add(e),e){case"searching":$.textContent="Searching for other players...";break;case"connected":$.textContent="Connected"}_.classList.remove("hidden")}}O&&(O.textContent=ae+""),D?.addEventListener("input",()=>{ae=+D.value,O&&(O.textContent=ae+""),ie(),E({brushSize:ae,playerName:M.playerName})}),z?.addEventListener("change",()=>{b(),ie(),(()=>{M.colorHistory.unshift(z.value);const e=new Set;M.colorHistory=M.colorHistory.filter(t=>!e.has(t)&&(e.add(t),!0)),M.colorHistory.length>10&&(M.colorHistory=M.colorHistory.slice(0,10)),(()=>{try{localStorage.setItem("mewsterpiece-color-history",JSON.stringify(M.colorHistory))}catch(e){}})()})(),le(),E({brushColor:z.value,playerName:M.playerName})}),ie(),B.addEventListener("mousedown",e=>{if(!M.isInitialized||M.isInBreak)return;M.isDrawing=!0;const t=re(e),n=z.value;ce(t.x,t.y,n,ae),x(.2),P(t.x,t.y,n,ae),E({mouseX:t.x,mouseY:t.y,brushSize:ae,brushColor:n,playerName:M.playerName})}),B.addEventListener("mousemove",e=>{if(!M.isInitialized||M.isInBreak)return;const t=re(e);if(M.isDrawing){const e=z.value;ce(t.x,t.y,e,ae),w.start(.005,5),P(t.x,t.y,e,ae)}E({mouseX:t.x,mouseY:t.y,brushSize:ae,brushColor:z.value,playerName:M.playerName})}),B.addEventListener("mouseup",()=>{M.isDrawing=!1,w.stop(),E({playerName:M.playerName})}),B.addEventListener("mouseleave",()=>{M.isDrawing=!1,E({playerName:M.playerName})}),document.addEventListener("keydown",e=>{"Enter"===e.key&&ye()}),((e,t=window.socket)=>{t.addEventListener("open",()=>{fe("connected"),E({mouseX:0,mouseY:0,brushSize:ae,brushColor:z.value,playerName:M.playerName})})})(),((e,t=window.socket)=>{t.addEventListener("close",()=>{fe("searching")})})(),((e,t=window.socket)=>{t.addEventListener("error",()=>{fe("searching")})})(),fe("searching"),setTimeout(()=>{_&&_.classList.contains("searching")&&fe("searching")},5e3),Z.addEventListener("click",()=>de("draw")),U.addEventListener("click",()=>de("archive")),le()</script>