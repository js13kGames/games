<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Together Again</title><style type="text/css">body{background-color:#000}.canvas-container{border-bottom:1px solid #fff;border-top:1px solid #fff;overflow:hidden}.best-time,.current-time{color:#fff;font-family:Courier New,Courier,monospace;margin-top:5px;position:absolute}.best-time{left:10px}.current-time{right:10px}.best-time.hidden,.current-time.hidden{display:none}</style></head><body><div class="canvas-container"><canvas id="canvas"></canvas></div><span class="best-time hidden">Best Time: <span class="best-time__timer">--</span></span> <span class="current-time hidden">Current Time: <span class="current-time__timer">--</span></span><script type="text/javascript">!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n(1),n(2),n(3)},function(e,t,n){"use strict";var i=new function(){var e,t,n,i,r,a,o,l,s,c,u,h;this._params=new function(){this.setSettings=function(e){for(var t=0;t<24;t++)this[String.fromCharCode(97+t)]=e[t]||0;this.c<.01&&(this.c=.01);var n=this.b+this.c+this.e;if(n<.18){var i=.18/n;this.b*=i,this.c*=i,this.e*=i}}},this.reset=function(){var e=this._params;i=100/(e.f*e.f+.001),r=100/(e.g*e.g+.001),a=1-e.h*e.h*e.h*.01,o=-e.i*e.i*e.i*1e-6,e.a||(u=.5-e.n/2,h=5e-5*-e.o),l=1+e.l*e.l*(e.l>0?-.9:10),s=0,c=1==e.m?0:(1-e.m)*(1-e.m)*2e4+32},this.totalReset=function(){this.reset();var i=this._params;return e=i.b*i.b*1e5,t=i.c*i.c*1e5,n=i.e*i.e*1e5+12,3*((e+t+n)/3|0)},this.synthWave=function(f,d){var y=this._params,x=1!=y.s||y.v,g=y.v*y.v*.1,v=1+3e-4*y.w,w=y.s*y.s*y.s*.1,m=1+1e-4*y.t,p=1!=y.s,b=y.x*y.x,S=y.g,M=y.q||y.r,T=y.r*y.r*y.r*.2,P=y.q*y.q*(y.q<0?-1020:1020),L=y.p?32+((1-y.p)*(1-y.p)*2e4|0):0,C=y.d,k=y.j/2,I=y.k*y.k*.01,O=y.a,A=e,E=1/e,R=1/t,j=1/n,_=5/(1+y.u*y.u*20)*(.01+w);_>.8&&(_=.8),_=1-_;for(var q,H,U,W,z,N,D=!1,F=0,Y=0,B=0,X=0,V=0,G=0,K=0,J=0,Q=0,Z=0,$=new Array(1024),ee=new Array(32),te=$.length;te--;)$[te]=0;for(te=ee.length;te--;)ee[te]=2*Math.random()-1;for(te=0;te<d;te++){if(D)return te;if(L&&++Q>=L&&(Q=0,this.reset()),c&&++s>=c&&(c=0,i*=l),(i*=a+=o)>r&&(i=r,S>0&&(D=!0)),H=i,k>0&&(Z+=I,H*=1+Math.sin(Z)*k),(H|=0)<8&&(H=8),O||((u+=h)<0?u=0:u>.5&&(u=.5)),++Y>A)switch(Y=0,++F){case 1:A=t;break;case 2:A=n}switch(F){case 0:B=Y*E;break;case 1:B=1+2*(1-Y*R)*C;break;case 2:B=1-Y*j;break;case 3:B=0,D=!0}M&&((U=0|(P+=T))<0?U=-U:U>1023&&(U=1023)),x&&v&&((g*=v)<1e-5?g=1e-5:g>.1&&(g=.1)),N=0;for(var ne=8;ne--;){if(++K>=H&&(K%=H,3==O))for(var ie=ee.length;ie--;)ee[ie]=2*Math.random()-1;switch(O){case 0:z=K/H<u?.5:-.5;break;case 1:z=1-K/H*2;break;case 2:z=.225*(((z=1.27323954*(W=6.28318531*((W=K/H)>.5?W-1:W))+.405284735*W*W*(W<0?1:-1))<0?-1:1)*z*z-z)+z;break;case 3:z=ee[Math.abs(32*K/H|0)]}x&&(q=G,(w*=m)<0?w=0:w>.1&&(w=.1),p?(V+=(z-G)*w,V*=_):(G=z,V=0),X+=(G+=V)-q,z=X*=1-g),M&&($[J%1024]=z,z+=$[(J-U+1024)%1024],J++),N+=z}N*=.125*B*b,f[te]=N>=1?32767:N<=-1?-32768:32767*N|0}return d}};window.jsfxr=function(e){i._params.setSettings(e);var t=i.totalReset(),n=new Uint8Array(4*((t+1)/2|0)+44),r=2*i.synthWave(new Uint16Array(n.buffer,44),t),a=new Uint32Array(n.buffer,0,44);a[0]=1179011410,a[1]=r+36,a[2]=1163280727,a[3]=544501094,a[4]=16,a[5]=65537,a[6]=44100,a[7]=88200,a[8]=1048578,a[9]=1635017060,a[10]=r,r+=44;for(var o=0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";o<r;o+=3){var c=n[o]<<16|n[o+1]<<8|n[o+2];s+=l[c>>18]+l[c>>12&63]+l[c>>6&63]+l[63&c]}return s}},function(e,t,n){"use strict";var i=document,r=(window,document.getElementsByClassName("canvas-container")[0]),a=r.clientWidth,o=window.navigator.userAgent.match(/andro|ipho|ipa|ipo|windows ph/i),l=void 0,s=void 0,c=void 0,u=void 0,h=void 0,f=void 0,d=void 0,y=void 0,x=void 0,g=void 0,v=void 0,w=void 0,m=void 0,p=void 0,b=Math.PI,S=window.innerWidth&&3*window.innerWidth||4e3,M=window.innerHeight&&window.innerHeight-100||400,T=10,P=10,L=20,C=10,k=M/6,I=Math.max(M/10,30),O=I,A=40,E=10,R=o?5:10,j=30,_=I/2,q=(o?2:1)*a/3,H=2*M/3,U=200,W=50,z=8,N=40,D=120,F=!1,Y=!1,B=!1,X=!1,V=!1,G=null,K={time:99999999,dom:document.getElementsByClassName("best-time__timer")[0]};window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,17)};var J=0,Q=null,Z=0,$=null,ee=jsfxr([0,,.1948,.1242,.3918,.7943,.0103,-.5478,,,,,,.3884,.1022,,.1452,-.0243,1,,,.027,,.5]),te=jsfxr([3,,.3197,.6861,.154,.0513,,-.2049,,,,.261,.6416,,,,,,1,,,,,.5]),ne=jsfxr([0,,.309,,.1242,.4867,,.3666,,,,,,.2139,,.4974,,,1,,,,,.5]),ie=jsfxr([0,.0022,.4543,.2404,.8076,.5005,,,.5697,,,-.0109,.5901,,-.3525,,4e-4,.2765,.9915,.7359,.4253,,.0097,.26]),re=jsfxr([1,,.2975,,.4004,.244,,.4834,,,,,,,,.486,,,1,,,,,.26]),ae=jsfxr([3,.5512,.0161,.5228,.8802,.0014,,.362,.0582,,-.3579,.1778,.4555,.5,.992,-.0377,-.0339,.072,.495,.0101,.8163,.0362,.3013,.5]),oe=jsfxr([3,.03,.27,.75,.76,.0237,,,,,,,,,,.5116,,,1,,,,,.5]),le=[];!function(){for(var e=0,t=o?80:160;e*t<S;){var n=Math.min(Math.max(e*(S/10),I),S-I);le.push({x:n,speed:e%3+1,onTop:!!(e%2),movingLeft:Math.random(0,1)>.5,zone:n<S/3?1:n<2*S/3?2:3}),e*(2*t)<S&&le.push({x:Math.min(Math.max(Math.floor(e*(4/3)*(S/10)),I),S-I),speed:2.5,onTop:!!(e%2),movingLeft:Math.random(0,1)>.5,zone:0}),e++}}();var se={drawLine:function(e,t,n,i,r){s.beginPath(),s.strokeStyle="white",r&&s.setLineDash([10,5]),s.moveTo(e,t),s.lineTo(n,i),s.stroke()},renderOnce:function(e){s.save(),e(),s.restore()},isIntersecting:function(e,t,n,i,r,a,o,l){var s=e-n/2,c=e+n/2,u=t-i/2,h=t+i/2,f=r-o/2,d=r+o/2,y=a-l/2,x=a+l/2;return f<c&&d>s&&y<h&&x>u||s<d&&c>f&&y<h&&x>u||s<d&&c>f&&u<x&&h>y||f<c&&d>s&&u<x&&h>y},calculateDistance:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},isCircleRectangleIntersecting:function(e,t,n,i,r,a,o){return se.calculateDistance({x:e,y:t},{x:i,y:r})<n},scrollIntoView:function(){if(!Y){var e=r.scrollLeft,t=Math.max(Math.min(f.x-a/3,l.width-a),0);if(t>e)var n=setInterval(function(){var e=r.scrollLeft;e>=t?clearInterval(n):r.scrollLeft=e+10},10);else var i=setInterval(function(){var e=r.scrollLeft;e<=t?clearInterval(i):r.scrollLeft=e-10},10)}},winningScroll:function(){var e=S-a,t=setInterval(function(){var n=r.scrollLeft;if(n>=e)return B=!0,void clearInterval(t);r.scrollLeft=n+10},10)},playSound:function(e){var t=new Audio;t.src=e,t.play()},sleep:async function(e){return new Promise(function(t){setTimeout(t,e)})}};function ce(){(y=this).x=l.width-40,y.y=l.height/2,y.theta=0,y.bullet=null,y.render=function(){se.renderOnce(function(){s.fillStyle="blue",s.beginPath(),s.moveTo(l.width,y.y-15),s.lineTo(l.width,y.y+15),s.lineTo(y.x,y.y),s.fill(),X&&(se.playSound(oe),y.y++)}),Y&&(y.bullet=null),y.bullet&&y.bullet.render()},y.update=async function(){if(Q&&null==y.bullet){var e=se.calculateDistance(Q,{x:Q.x,y:y.y}),t=se.calculateDistance(y,Q),n=180*Math.asin(e/t)/b;y.bullet=new function(e,t,n,i,r){(x=this).x=e,x.y=t,x.theta=n,x.targetPlanet=i,x.top=r,x.isTravellingUp=function(){return x.top},x.update=function(){var e=x.theta/180*b,t=x.x-R*Math.cos(e),n=x.y+(x.isTravellingUp()?-1:1)*R*Math.sin(e);x.x=t,x.y=n},x.render=function(){se.renderOnce(function(){s.fillStyle="orange",s.translate(x.x+A/2,x.y+E/2),s.rotate((x.isTravellingUp()?1:-1)*b/180*x.theta),s.fillRect(-A/2,-E/2,A,E)})}}(y.x,l.height/2,n,Q,Q.y<l.height/2)}else if(null!==y.bullet&&(y.bullet.update(),(y.bullet.x<0||y.bullet.x>S||y.bullet.y>M||y.bullet.y<0)&&(y.bullet=null),se.isCircleRectangleIntersecting(y.bullet.targetPlanet.x,y.bullet.targetPlanet.y,I/2,y.bullet.x,y.bullet.y,A,E))){se.playSound(te);var i=y.bullet.targetPlanet;i.bulletsCount++;var r=i.bulletsCount,a=Math.floor(100*(z-r)/z);a<100&&(w=new fe).setText("HEALTH:"+a+"/100",i.x+20,i.y+(i.y>l.height/2?-1:1)*(I/2+20),a>25?"white":"red"),i.bulletsCount>=z&&c.init(),y.bullet=null}}}function ue(e,t,n,i,r){return{x:e,y:t,speed:n,movingLeft:i,zone:r,isMoving:!0,hasPlayer:!1,wireHolders:[],bullet:null,bulletsCount:0}}function he(){(d=this).attached=[],d.addPlanet=function(e,t,n,i,r){n?d.attached.push(new ue(e,O/2,t,i,r)):d.attached.push(new ue(e,l.height-O/2,t,i,r))},d.intersects=function(e,t){return!!e&&se.isIntersecting(e.x,e.y,I,O,t.x,t.y,I,O)},d.isPlayerIntersecting=function(e){var t=null;return e.some(function(e){return!!se.isCircleRectangleIntersecting(e.x,e.y,I/2,f.x,f.y,T,P)&&(t=e,!0)}),t},d.renderFirstPlanet=function(){se.renderOnce(function(){s.fillStyle="hsla(120, 100%, 50%, 1)",s.beginPath(),s.arc(I/2,l.height/2,I/2,0,10),s.fill()})},d.render=function(){d.renderFirstPlanet(),d.attached.forEach(function(e,t){se.renderOnce(function(){if(e.isMoving)s.fillStyle="hsla(0, 0%, 50%, 1)",s.beginPath(),s.arc(e.x,e.y,I/2,0,10),s.fill();else{var n=s.createRadialGradient(e.x,e.y,I/8,e.x,e.y,I);n.addColorStop(0,"hsla("+20*t+", 100%, 50%, 1)"),n.addColorStop(1,"hsla(0, 100%, 100%, 0.5)"),s.fillStyle=n,s.beginPath(),s.arc(e.x,e.y,I/2,0,10),s.fill();for(var i=e.bulletsCount,r=[{x:e.x+I/2-_/2,y:e.y},{x:e.x,y:e.y+O/2-_/2},{x:e.x-I/2+_/2,y:e.y},{x:e.x,y:e.y-O/2+_/2}],a=0,o=null;i;)o=r[a%4],s.fillStyle="hsla(0, 0%, 50%, 0.5)",s.beginPath(),s.arc(o.x,o.y,_/2,0,10),s.fill(),i--,a++}}),se.renderOnce(function(){e.wireHolders.forEach(function(e){s.fillStyle="white",s.beginPath(),s.arc(e.x,e.y,3,0,10),s.fill()})}),e.bullet&&e.bullet.render()})},d.update=function(){d.attached.forEach(function(e,t){if(e.isMoving){var n=e.x;if(e.x=e.x+(e.movingLeft?-1:1)*e.speed,1===e.zone){var i=S/3;(e.x<0||e.x>i)&&(e.movingLeft=!e.movingLeft,e.x=n)}else if(2===e.zone){var r=S/3,a=2*S/3;(e.x<r||e.x>a)&&(e.movingLeft=!e.movingLeft,e.x=n)}else if(3===e.zone){var o=2*S/3,c=S;(e.x<o||e.x>c)&&(e.movingLeft=!e.movingLeft,e.x=n)}else(e.x<0||e.x>l.width)&&(e.movingLeft=!e.movingLeft,e.x=n)}if(e,B&&null==e.bullet){var u=se.calculateDistance(y,{x:y.x,y:e.y}),h=se.calculateDistance(y,e),f=180*Math.asin(u/h)/b;e.bullet=new function(e,t,n,i){var r=this;return r.x=e,r.y=t,r.theta=n,r.top=i,r.isTravellingUp=function(){return r.top},r.update=function(){var e=r.theta/180*b,t=r.x+j*Math.cos(e),n=r.y+(r.isTravellingUp()?-1:1)*j*Math.sin(e);r.x=t,r.y=n},r.render=function(){se.renderOnce(function(){s.fillStyle="orange",s.translate(r.x+A/2,r.y+E/2),s.rotate((r.isTravellingUp()?1:-1)*b/180*r.theta),s.fillRect(-A/2,-E/2,A,E)})},r}(e.x,e.y,f,Q.y>l.height/2)}else null!==e.bullet&&(e.bullet.update(),se.isCircleRectangleIntersecting(y.x,y.y,C/2,e.bullet.x,e.bullet.y,A,E)&&(se.playSound(te),e.bullet=null))})}}function fe(e,t,n){var i={};return i.x=e,i.y=t,i.text="",i.renderCount=0,i.bordered=n,i.meta={},i.setText=function(e,t,n,r){i.text=e,i.renderCount=200,i.x=Math.min(Math.max(t,U/2),l.width-U),i.y=n,i.color=r},i.render=function(){i.renderCount>0&&(se.renderOnce(function(){i.bordered&&(s.strokeStyle="white",s.strokeRect(i.x-U/2,i.y-W/2,U,W)),s.fillStyle=i.color||"#ecf0f1",s.textAlign="left",s.font="14px sans-serif",s.fillText(i.text,i.x-U/2+10,i.y)}),i.renderCount--)},i}function de(){(g=this).textArr=[],g.newMessage=async function(e){s.save();var t=0;s.fillStyle="#ecf0f1",s.textAlign="left",s.font=o?"10px sans-serif":"14px sans-serif",await new Promise(function(e){var n=setInterval(function(){s.clearRect(0,0,S,M),s.strokeStyle="white",s.strokeRect(a/2-D/2,l.height-N-10,D,N),s.fillText("SKIP >",a/2-D/2+10,l.height-N+5),s.strokeStyle="white",s.strokeRect(a/2-q/2,l.height/2-H/2,q,H),g.textArr.forEach(function(e){var n=l.height/2+H/2-e.translateY-10,i=a/2-q/2+10;s.fillText(e.text,i,n),e.translateY+=t}),++t>8&&(clearInterval(n),e())},30)}),se.playSound(ie);var n=l.height/2+H/2-10,i=a/2-q/2+10;s.fillText(e,i,n),await se.sleep(2e3),g.textArr.push({text:e,translateY:0}),s.restore()}}function ye(){var e=this;c=this,G=new function(){var e=this;e.time=0,document.getElementsByClassName("current-time")[0].classList.remove("hidden"),document.getElementsByClassName("best-time")[0].classList.remove("hidden"),e.dom=document.getElementsByClassName("current-time__timer")[0],e.dom.innerText="00:00",e.reset=function(){e.time=0,e.dom.innerText="00:00"},e.increment=function(){e.time++,e.dom.innerText=e.convertToText(e.time)},e.convertToText=function(t){return e.pad(String(Math.floor(t/60)))+":"+e.pad(String(t%60))},e.pad=function(e){return 1===e.length?"0"+e[0]:e}},setInterval(function(){G.increment()},1e3),c.init=function(){se.playSound(re),G.reset(),r.scrollLeft=0,J=0,Q=null,Z=0,$=null,c=e,f=new function(e,t){(f=this).x=e,f.y=t,f.top=1,f.crossingStart={x:e,y:t},f.crossing=!1,f.setCoords=function(e,t){f.x=e,f.y=t},f.isTop=function(){return f.top},f.render=function(){se.renderOnce(function(){s.fillStyle="red",s.fillRect(f.x-T/2,f.y-P/2,T,P)}),se.renderOnce(function(){se.drawLine(f.crossingStart.x,f.crossingStart.y,f.x,f.y,!0)})},f.update=function(){if(f.crossing){var e=h.theta/180*b,t=f.x+L*Math.cos(e),n=f.y+(f.isTop()?1:-1)*L*Math.sin(e);f.setCoords(t,n);var i=l.height-O-P/2,r=O+P/2,o=null;f.y>l.height?(f.x=f.crossingStart.x,f.y=f.crossingStart.y,f.crossing=!1):J>0&&f.y>i?(o=d.isPlayerIntersecting(d.attached.filter(function(e){return e.y>l.height/2})))&&(se.playSound(ne),o.isMoving&&(v.meta.connectedPlanets++,v.setText(v.meta.connectedPlanets+"/"+v.meta.totalPlanets+" planets online",f.x+a/3,l.height/2),v.meta.connectedPlanets===v.meta.totalPlanets&&(console.log("win!"),Y=!0,se.playSound(ae),se.winningScroll())),Q&&(Q.hasPlayer=!1),o.hasPlayer=!0,o.isMoving=!1,o.wireHolders.push({x:f.x,y:f.y}),Q=o,f.setCoords(f.x,f.y),f.crossing=!1,f.top=0,u.addWire(f.crossingStart.x,f.crossingStart.y,f.x,f.y),f.crossingStart={x:f.x,y:f.y},se.scrollIntoView()):f.y<0?(f.x=f.crossingStart.x,f.y=f.crossingStart.y,f.crossing=!1):J<0&&f.y<r&&(o=d.isPlayerIntersecting(d.attached.filter(function(e){return e.y<l.height/2})))&&(se.playSound(ne),o.isMoving&&(v.meta.connectedPlanets++,v.setText(v.meta.connectedPlanets+"/"+v.meta.totalPlanets+" planets online",f.x+a/3,l.height/2),v.meta.connectedPlanets===v.meta.totalPlanets&&(console.log("win!"),Y=!0,se.playSound(ae),se.winningScroll())),Q&&(Q.hasPlayer=!1),o.hasPlayer=!0,o.isMoving=!1,o.wireHolders.push({x:f.x,y:f.y}),Q=o,f.setCoords(f.x,f.y),f.crossing=!1,f.top=1,u.addWire(f.crossingStart.x,f.crossingStart.y,f.x,f.y),f.crossingStart={x:f.x,y:f.y},se.scrollIntoView())}}}(I,l.height/2),h=new function(e){(h=this).theta=e,h.render=function(){if(!f.crossing){var e=h.theta/180*b,t=f.x,n=f.y,i=f.x+k*Math.cos(e),r=f.y+(f.isTop()?1:-1)*k*Math.sin(e);se.renderOnce(function(){se.drawLine(t,n,i,r,!0)})}}}(30),u=new function(){(u=this).attached=[],u.addWire=function(e,t,n,i){u.attached.push(new function(e,t,n,i){return{x1:e,y1:t,x2:n,y2:i}}(e,t,n,i))},u.render=function(){u.attached.forEach(function(e){se.renderOnce(function(){se.drawLine(e.x1,e.y1,e.x2,e.y2,!1)})})}},d=new he,y=new ce,g=new de,(v=new fe(f.x+a/3,l.height/2,!0)).meta.connectedPlanets=0,v.meta.totalPlanets=le.length,le.forEach(function(e){d.addPlanet(e.x,e.speed,e.onTop,e.movingLeft,e.zone)}),B=!1,Y=!1,X=!1},c.render=function(){se.renderOnce(function(){s.fillStyle="black",s.fillRect(0,0,l.width,l.height)}),d.render(),u.render(),h.render(),f.render(),y.render(),v.render(),w&&w.render(),p&&p.render(),m&&m.render()},c.update=function(){d.update(),f.update(),y.update(),B&&(B=!1,(m=new fe(S-100,M/3,!0)).setText("@all: Let's kill the beast",S-100,M/3),setTimeout(function(){X=!0,G.time<K.time&&(K.time=G.time,K.dom.innerText=G.dom.innerText,(p=new fe(S-100,2*M/3,!1)).setText("Congrats! High Score achieved!",S-100,2*M/3)),setTimeout(function(){c.init()},2e3)},2e3))},c.clear=function(){s.clearRect(0,0,l.width,l.height)},c.deltaPlayerY=function(){$&&(J=f.y-$),$=f.y};c.init(),function e(){return requestAnimationFrame(function(){c.clear(),c.deltaPlayerY(),c.update(),c.render(),e()})}()}onload=async function(){(l=i.querySelector("#canvas")).width=S,l.height=M,(s=l.getContext("2d")).fillStyle="white",s.textAlign="left",s.font=o?"12px Courier New":"18px Courier New",s.fillText("Together Again",a/3-100,l.height/2),s.strokeStyle="white",s.strokeRect(2*a/3-D/2,l.height/2-N/2,D,N),s.fillText("Play",2*a/3-D/2+10,l.height/2)};var xe=function(e){var t=e.x||e.touches&&e.touches[0]&&e.touches[0].clientX,n=e.y||e.touches&&e.touches[0]&&e.touches[0].clientY;t>a/2-D/2&&t<a/2+D/2&&n>M-N-10&&n<M+N-10&&(V=!0,window.removeEventListener("touchstart",we,!0),setTimeout(function(){window.addEventListener("touchend",we,!0)},100),new ye)},ge=async function(e){var t=e.x||e.touches&&e.touches[0]&&e.touches[0].clientX,n=e.y||e.touches&&e.touches[0]&&e.touches[0].clientY;if(t>2*a/3-D/2&&t<2*a/3+D/2&&n>l.height/2-N/2&&n<l.height/2+N/2){F=!0,s.clearRect(0,0,l.width,l.height);var i=new de;!V&&await i.newMessage("Little Nobi: Hello, is anyone online ?"),!V&&await i.newMessage("0 / 29 planets online"),!V&&await i.newMessage("Oh no, looks like.."),!V&&await i.newMessage("Tadka, the alien spaceship"),!V&&await i.newMessage("has destroyed the connectivity of all the planets."),!V&&await i.newMessage("I have to re-connect the world"),!V&&await i.newMessage("through my special wires.."),!V&&await i.newMessage("Only when we are Together Again"),!V&&await i.newMessage("is when Tadka will be destroyed !"),!V&&await i.newMessage("Let's go .!"),!V&&setTimeout(function(){window.removeEventListener("touchstart",we,!0),window.addEventListener("touchend",we,!0),new ye},2e3)}},ve=function(e){var t=e.clientX||e.targetTouches&&e.targetTouches[0].clientX,n=t-Z;Z=t,f&&!f.crossing&&(h.theta=Math.min(160,Math.max(20,h.theta-n)))},we=function(e){F?f||V?f&&f.crossing||(se.playSound(ee),f&&(f.crossing=!0,u.addWire(f.crossingStart.x,f.crossingStart.y,f.x,f.y),f.crossingStart={x:f.x,y:f.y})):xe(e):ge(e)};o?(window.addEventListener("touchmove",ve,!0),window.addEventListener("touchstart",we,!0)):(window.addEventListener("mousemove",ve,!0),window.addEventListener("click",we,!0))},function(e,t,n){}]);</script></body></html>