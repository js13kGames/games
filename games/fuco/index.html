<!doctype html><title>Fuco, The Game</title><meta content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=0" name=viewport><style>html{background:#9e9e9e}body{margin:0;font-family:'Open Sans',sans-serif;font-weight:300;background:#9e9e9e;visibility:hidden}#canv{width:100%;height:100%;position:absolute;top:0;left:0;visibility:hidden;-webkit-transition:all .25s linear;-moz-transition:all .25s linear;-ms-transition:all .25s linear;-o-transition:all .25s linear;transition:all .25s linear}.slide-out{-webkit-transform:translate(-200%,0);-moz-transform:translate(-200%,0);-ms-transform:translate(-200%,0);-o-transform:translate(-200%,0);transform:translate(-200%,0)}.game-over-screen,.home-screen{text-align:center;position:absolute;width:100%;height:100%;top:0;left:0}.game-over-screen{display:none}.logo{display:inline-block}.flourish{display:inline-block}.play,.play-again{cursor:pointer;font-family:'Open Sans',sans-serif;font-weight:300;display:inline-block;border:2px solid #424242;border-radius:.2em;opacity:0;outline:0;background:0 0;-webkit-transition:opacity 1.5s ease-in-out,background-color .25s ease-in-out;-moz-transition:opacity 1.5s ease-in-out,background-color .25s ease-in-out;-ms-transition:opacity 1.5s ease-in-out,background-color .25s ease-in-out;-o-transition:opacity 1.5s ease-in-out,background-color .25s ease-in-out;transition:opacity 1.5s ease-in-out,background-color .25s ease-in-out}.play-again:hover,.play:hover{background:rgba(208,248,206,.2)}button::-moz-focus-inner{border:0}</style><canvas id=canv></canvas><div class=home-screen><svg class=logo height=29.96875 id=svg2 version=1.1 viewBox="-2 0 106 30" width=101.78125><defs id=defs4></defs><g transform=translate(-49,-457.48645)><g transform=translate(0,308.2677) id=flowRoot3805 style="font-size:40px;font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;line-height:125%;letter-spacing:0;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Ubuntu;-inkscape-font-specification:Ubuntu Medium"><path d="m 49.526249,179.07259 -0.01875,-28.70433 17.52,0 0,4.28 -12.48,0 0,7.08 11.08,0 0,4.28 -11.08,0 0,12.08 -6.052464,0.0938" id=path3814 style="fill:none;stroke:#5677fc;stroke-linejoin:miter;stroke-opacity:1;font-family:Ubuntu;-inkscape-font-specification:Ubuntu Medium"/><path d="m 82.21875,178.68826 c -1.893345,0 -3.52001,-0.26667 -4.88,-0.8 -1.360008,-0.56 -2.49334,-1.33334 -3.4,-2.32 -0.880005,-0.98667 -1.533338,-2.14667 -1.96,-3.48 -0.42667,-1.33333 -0.640003,-2.8 -0.64,-4.4 l 0,-17.32 5.08,0 0,16.84 c -8e-6,1.25334 0.133325,2.33334 0.4,3.24 0.293324,0.88 0.693324,1.6 1.2,2.16 0.533323,0.56 1.146656,0.97333 1.84,1.24 0.719988,0.26667 1.519987,0.4 2.4,0.4 0.879985,0 1.679984,-0.13333 2.4,-0.4 0.719983,-0.26667 1.333316,-0.68 1.84,-1.24 0.533315,-0.56 0.933314,-1.28 1.2,-2.16 0.293314,-0.90666 0.43998,-1.98666 0.44,-3.24 l 0,-16.84 5.08,0 0,17.32 c -2.5e-5,1.6 -0.226691,3.06667 -0.68,4.4 -0.426691,1.33333 -1.093357,2.49333 -2,3.48 -0.880021,0.98666 -2.013354,1.76 -3.4,2.32 -1.386684,0.53333 -3.907901,0.78125 -5.801218,0.78125" id=path3816 style="fill:none;stroke:#5677fc;stroke-linejoin:miter;stroke-opacity:1;font-family:Ubuntu;-inkscape-font-specification:Ubuntu Medium"/><path d="m 111.98375,178.68826 c -2.08001,0 -3.94668,-0.32 -5.6,-0.96 -1.65334,-0.64 -3.05334,-1.57334 -4.2,-2.8 -1.14667,-1.25333 -2.02667,-2.77333 -2.64,-4.56 -0.613336,-1.78666 -0.920002,-3.83999 -0.92,-6.16 -2e-6,-2.31999 0.346664,-4.37332 1.04,-6.16 0.72,-1.78665 1.69333,-3.29331 2.92,-4.52 1.22666,-1.25331 2.66666,-2.19998 4.32,-2.84 1.65332,-0.63998 3.42665,-0.95998 5.32,-0.96 1.14665,2e-5 2.18665,0.0934 3.12,0.28 0.93331,0.16002 1.74665,0.34669 2.44,0.56 0.69331,0.21336 1.26664,0.44002 1.72,0.68 0.45331,0.24002 0.77331,0.41336 0.96,0.52 l -1.48,4.12 c -0.64002,-0.39998 -1.56002,-0.77331 -2.76,-1.12 -1.17335,-0.37331 -2.45335,-0.55998 -3.84,-0.56 -1.20001,2e-5 -2.32001,0.21335 -3.36,0.64 -1.04001,0.40002 -1.94668,1.01335 -2.72,1.84 -0.74668,0.82668 -1.33334,1.86668 -1.76,3.12 -0.42667,1.25335 -0.64001,2.70668 -0.64,4.36 -1e-5,1.46668 0.15999,2.81334 0.48,4.04 0.34666,1.22667 0.86666,2.29334 1.56,3.2 0.69332,0.88 1.57332,1.57333 2.64,2.08 1.06665,0.48 2.34665,0.72 3.84,0.72 1.78665,0 3.23998,-0.17333 4.36,-0.52 1.11998,-0.37333 1.98664,-0.72 2.6,-1.04 l 1.36,4.12 c -0.32002,0.21333 -0.76002,0.42666 -1.32,0.64 -0.53336,0.21333 -1.17336,0.42666 -1.92,0.64 -0.74669,0.18666 -1.58669,0.33333 -2.52,0.44 -0.93335,0.13333 -2.62708,0.2 -3.69373,0.2" id=path3818 style="fill:none;stroke:#5677fc;stroke-linejoin:miter;stroke-opacity:1;font-family:Ubuntu;-inkscape-font-specification:Ubuntu Medium"/><path d="m 128.6275,164.20826 c -1e-5,1.52001 0.18666,2.90667 0.56,4.16 0.37332,1.22667 0.90666,2.28 1.6,3.16 0.71999,0.85334 1.58666,1.52 2.6,2 1.01332,0.48 2.15999,0.72 3.44,0.72 1.25332,0 2.38665,-0.24 3.4,-0.72 1.01331,-0.48 1.86665,-1.14666 2.56,-2 0.71998,-0.88 1.26664,-1.93333 1.64,-3.16 0.37331,-1.25333 0.55998,-2.63999 0.56,-4.16 -2e-5,-1.51999 -0.18669,-2.89332 -0.56,-4.12 -0.37336,-1.25332 -0.92002,-2.30665 -1.64,-3.16 -0.69335,-0.87998 -1.54669,-1.55998 -2.56,-2.04 -1.01335,-0.47998 -2.14668,-0.71998 -3.4,-0.72 -1.28001,2e-5 -2.42668,0.24002 -3.44,0.72 -1.01334,0.48002 -1.88001,1.16002 -2.6,2.04 -0.69334,0.88002 -1.22668,1.93335 -1.6,3.16 -0.37334,1.22668 -0.56001,2.60001 -0.56,4.12 m 21.64,0 c -3e-5,2.37334 -0.36003,4.46667 -1.08,6.28 -0.69336,1.81334 -1.65336,3.33333 -2.88,4.56 -1.20002,1.2 -2.61336,2.10666 -4.24,2.72 -1.62669,0.61333 -3.81,0.92 -5.64998,0.92 -1.84001,0 -3.1367,-0.30667 -4.79002,-0.92 -1.62668,-0.61334 -3.05334,-1.52 -4.28,-2.72 -1.2,-1.22667 -2.16,-2.74666 -2.88,-4.56 -0.72,-1.81333 -1.08,-3.90666 -1.08,-6.28 0,-2.37332 0.36,-4.45332 1.08,-6.24 0.72,-1.81332 1.69333,-3.33331 2.92,-4.56 1.25333,-1.22664 2.69332,-2.14664 4.32,-2.76 1.62665,-0.61331 3.34665,-0.91998 5.16,-0.92 1.81332,2e-5 3.53331,0.30669 5.16,0.92 1.62664,0.61336 3.03998,1.53336 4.24,2.76 1.22664,1.22669 2.19997,2.74668 2.92,4.56 0.71997,1.78668 1.07997,3.86668 1.08,6.24" id=path3820 style="fill:none;stroke:#5677fc;stroke-linejoin:miter;stroke-opacity:1;font-family:Ubuntu;-inkscape-font-specification:Ubuntu Medium"/></g></g></svg><br><svg class=flourish height=744.09448 id=svg3822 version=1.1 viewBox="0 0 1050 744" width=1052.3622 xmlns=http://www.w3.org/2000/svg><defs id=defs3824></defs><g transform=translate(0,-308.2677)><path d="m -8.9309459,416.75454 8.8545122,4.64732 C 18.727101,385.31027 43.795598,352.46852 73.449007,324.4951 103.10494,296.52437 137.38202,273.38758 174.58495,256.68724 c 1e-5,0 2e-5,-10e-6 4e-5,-2e-5 37.20075,-16.70514 77.30546,-26.96362 117.99257,-30.54641 10e-6,0 3e-5,0 4e-5,-10e-6 40.6874,-3.57969 82.00682,-0.4882 121.63463,9.48146 49.00493,12.29675 95.06744,34.75602 140.02173,58.71214 10e-6,10e-6 2e-5,10e-6 3e-5,2e-5 45.22565,24.12797 89.85809,50.04299 137.48609,69.81939 47.4815,19.73683 98.6214,33.15074 150.19502,30.89019 25.8922,-1.14689 51.6472,-6.52575 75.61068,-16.42068 23.7821,-9.816 45.79456,-24.2755 63.31988,-43.15821 2e-5,-2e-5 4e-5,-4e-5 6e-5,-6e-5 23.16838,-24.97135 38.25468,-57.54168 41.12198,-91.4565 2.8619,-33.91771 -6.8023,-68.9289 -27.57584,-95.83709 -10.40047,-13.4635 -23.55671,-24.7511 -38.35932,-33.08493 -14.77432,-8.32 -31.24191,-13.69314 -48.11919,-15.27395 -3e-5,-3e-6 -6e-5,-6e-6 -9e-5,-8e-6 -16.90899,-1.580799 -34.12819,0.719398 -50.07679,6.470928 -15.91698,5.73816 -30.61604,14.96643 -42.34298,27.14965 -2e-5,2e-5 -4e-5,4e-5 -6e-5,6e-5 -11.80022,12.26379 -20.45634,27.43774 -25.39762,43.69011 -4.94256,16.25202 -6.19201,33.65474 -3.22431,50.36255 2.96911,16.70756 10.132,32.59045 20.34289,46.10977 10.21053,13.51958 23.51492,24.73593 38.72868,32.1397 -15.17037,-7.49229 -28.38706,-18.77463 -38.49218,-32.31725 -10.10476,-13.54288 -17.14324,-29.40711 -19.99674,-46.03399 -2.85491,-16.62665 -1.50625,-33.90545 3.48973,-50.00021 4.99724,-16.09436 13.66464,-31.07751 25.39954,-43.12799 10e-6,-1e-5 2e-5,-2e-5 3e-5,-3e-5 11.65888,-11.97677 26.24328,-21.00548 41.98995,-26.5817 15.78089,-5.58639 32.78021,-7.753217 49.40987,-6.09853 16.60334,1.6491 32.78317,7.04086 47.27087,15.30754 14.51547,8.28463 27.38271,19.45881 37.50607,32.72537 20.24309,26.51154 29.49849,60.96612 26.51029,94.14391 -2.9837,33.19045 -17.9893,65.01749 -40.7711,89.29985 -17.22781,18.36888 -38.88255,32.38848 -62.24329,41.88603 -23.5566,9.57317 -48.86791,14.695 -74.28483,15.67845 -50.68391,1.98514 -101.02271,-11.60893 -147.95566,-31.37575 -47.08481,-19.85208 -91.37494,-45.93553 -136.59715,-70.38862 -3e-5,-10e-6 -6e-5,-3e-5 -8e-5,-4e-5 -44.93158,-24.32307 -91.33995,-47.24198 -141.21046,-60.12448 -40.36541,-10.40111 -82.4925,-13.81057 -124.05439,-10.39471 -3e-5,0 -6e-5,1e-5 -9e-5,1e-5 -41.56209,3.41276 -82.60727,13.65464 -120.81032,30.53722 -2e-5,1e-5 -5e-5,3e-5 -8e-5,4e-5 -38.20095,16.88743 -73.442237,40.36371 -104.000788,68.85624 -30.56107,28.48984 -56.474832,62.02875 -76.0332079,99.02784 z" id=path4362 style=fill:none;fill-rule:evenodd;stroke:#000000;stroke-opacity:1;stroke-width:3;stroke-miterlimit:4;stroke-dasharray:none transform=translate(0,308.2677) /><path d="m -8.8822732,724.88654 8.8175966,4.71698 C 18.699179,694.01803 50.424911,665.16003 87.796636,649.82376 c 37.365414,-15.35189 80.371084,-17.17682 119.046734,-4.94805 38.67998,12.21529 72.98613,38.47298 94.92742,72.78748 1e-5,10e-6 1e-5,10e-6 2e-5,2e-5 21.95097,34.30839 31.49044,76.60482 26.32045,117.17316 -2.64025,20.64649 -9.00977,40.95807 -20.01302,58.56549 -10e-6,2e-5 -2e-5,3e-5 -2e-5,4e-5 -10.99703,17.59669 -26.73837,32.48309 -45.62354,41.05028 -18.86679,8.56235 -40.97577,10.62224 -60.69798,4.18753 -19.70075,-6.41957 -36.81476,-21.63721 -44.12348,-41.09632 -1e-5,-1e-5 -1e-5,-2e-5 -2e-5,-4e-5 -4.28995,-11.39709 -5.24786,-24.06555 -2.70195,-36.01526 1e-5,-10e-6 1e-5,-3e-5 1e-5,-4e-5 2.54486,-11.94993 8.59093,-23.16753 17.20927,-31.88444 8.61784,-8.71743 19.79403,-14.91971 31.79241,-17.61897 11.99831,-2.69962 24.79318,-1.89024 36.38985,2.32335 -11.54904,-4.34244 -24.37178,-5.30819 -36.47806,-2.7259 -12.1062,2.58263 -23.45794,8.70534 -32.28707,17.43879 -8.8286,8.73394 -15.10246,20.047 -17.83411,32.20281 -10e-6,2e-5 -10e-6,3e-5 -10e-6,5e-5 -2.73059,12.15605 -1.90763,25.10481 2.36364,36.85151 7.30909,20.05762 24.63949,35.90827 44.92885,42.75685 20.2861,6.83947 43.07927,5.02825 62.68715,-3.63057 19.59903,-8.65826 36.02357,-23.7863 47.55353,-41.83066 10e-6,-1e-5 10e-6,-2e-5 2e-5,-4e-5 11.52632,-18.03774 18.338,-38.83231 21.25989,-59.9856 5.76053,-41.57518 -3.49734,-85.13275 -25.80135,-120.88527 -10e-6,-10e-6 -10e-6,-2e-5 -2e-5,-3e-5 -22.31369,-35.74639 -57.46044,-63.34535 -97.65357,-76.5478 -40.19749,-13.18899 -85.02233,-11.84358 -124.492218,3.84274 -39.463577,15.70194 -73.127045,45.56788 -93.4517352,83.05167 z" id=path4368 style=fill:none;stroke:#000000;stroke-width:3;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none /></g></svg><br><span class=high-score></span><br><button class=play>PLAY</button></div><div class=game-over-screen><div class=game-over-text></div><br><div class=score></div><div class=best></div><button class=play-again>PLAY AGAIN</button></div><script>function roundRect(t,e,n,o,l,a,i,c){void 0===c&&(c=!0),void 0===a&&(a=5),e-=o/2,n-=l/2,t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+o-a,n),t.quadraticCurveTo(e+o,n,e+o,n+a),t.lineTo(e+o,n+l-a),t.quadraticCurveTo(e+o,n+l,e+o-a,n+l),t.lineTo(e+a,n+l),t.quadraticCurveTo(e,n+l,e,n+l-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),c&&t.stroke(),i&&t.fill()}function shuffle(t){for(var e,n,o=t.length;o>0;)n=Math.floor(Math.random()*o),e=t[--o],t[o]=t[n],t[n]=e;return t}function distanceBetween(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function angleBetween(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}function Color(t,e,n,o){t=void 0===t?0:t,e=void 0===e?0:e,n=void 0===n?0:n,o=void 0===o?1:o,this.r=t,this.g=e,this.b=n,this.a=o,this.cache={}}Color.prototype.alpha=function(t){if(this.cache[t])return this.cache[t];var e=new Color(this.r,this.g,this.b,t);return this.cache[t]=e,this.cache[t]},Color.prototype.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},Color.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a};var endGameTexts=shuffle(["Good one! Now see if you can beat it!","You Rock! Let's do it again!","Great job! But can you beat it?","You're unstoppable! Keep it up!","Amazing! I bet you can't beat it though..."]),endGameIndex=0,RATIO=window.devicePixelRatio||1,WIDTH=window.innerWidth*RATIO,HEIGHT=window.innerHeight*RATIO,SCALE=HEIGHT,PI=Math.PI,TAO=2*PI,WIDTH2=~~(WIDTH/2),HEIGHT2=~~(HEIGHT/2),RADIUS=~~(SCALE/5.6),$white=new Color(249,249,249),$bgColor=new Color(158,158,158),canv=document.getElementById("canv");canv.width=WIDTH,canv.height=HEIGHT;var ctx=canv.getContext("2d");ctx.lineJoin=ctx.lineCap="round",ctx.translate(WIDTH2,HEIGHT2);var completionBaseline=0,palletSize=SCALE/20,palletBoxSize=palletSize+SCALE/60,palletMargin=SCALE/60,pallet=[],intervals=[],completion=0,isDrawing=!1,lastPoint=null,selectedPallet=null,time=60,levelIndex=0,isPlaying=!1;canv.addEventListener("mousedown",(function(t){isPlaying&&(drawStart({x:t.clientX*RATIO,y:t.clientY*RATIO}),t.stopPropagation(),t.preventDefault())})),canv.addEventListener("touchstart",(function(t){isPlaying&&(drawStart({x:t.touches[0].clientX*RATIO,y:t.touches[0].clientY*RATIO}),t.stopPropagation(),t.preventDefault())})),canv.addEventListener("mousemove",(function(t){isPlaying&&(draw({x:t.clientX*RATIO,y:t.clientY*RATIO}),t.stopPropagation(),t.preventDefault())})),canv.addEventListener("touchmove",(function(t){isPlaying&&(draw({x:t.touches[0].clientX*RATIO,y:t.touches[0].clientY*RATIO}),t.stopPropagation(),t.preventDefault())})),canv.addEventListener("mouseup",(function(t){isPlaying&&(t.stopPropagation(),t.preventDefault(),drawEnd())})),canv.addEventListener("touchend",(function(t){isPlaying&&(t.stopPropagation(),t.preventDefault(),drawEnd())})),window.addEventListener("keydown",(function(t){if(t.which>=49&&t.which<59){var e=t.which-49;pallet[e]&&(selectedPallet=pallet[e],paintPallet())}}));var cy=1.5*-RADIUS,levels=[[{color:new Color(86,119,252),path:function(t){t.arc(0,cy,RADIUS,0,TAO)}}],[{color:new Color(86,119,252),path:function(t){t.arc(0,cy,RADIUS,PI/2,PI+PI/2)}},{color:new Color(145,167,255),path:function(t){t.arc(0,cy,RADIUS,PI+PI/2,TAO+PI/2)}}],[{color:new Color(42,54,177),path:function(t){var e=TAO/3,n=TAO/3*2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}},{color:new Color(86,119,252),path:function(t){var e=TAO/3,n=RADIUS*Math.cos(0),o=cy+RADIUS*Math.sin(0);t.lineTo(n,o),t.arc(0,cy,RADIUS,0,e),t.lineTo(0,cy)}},{color:new Color(145,167,255),path:function(t){var e=TAO/3*2,n=TAO,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}}],[{color:new Color(42,54,177),path:function(t){var e=TAO/4,n=TAO/4*2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}},{color:new Color(86,119,252),path:function(t){var e=TAO/4*2,n=TAO/4*3,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}},{color:new Color(145,167,255),path:function(t){var e=TAO/4,n=RADIUS*Math.cos(0),o=cy+RADIUS*Math.sin(0);t.lineTo(n,o),t.arc(0,cy,RADIUS,0,e),t.lineTo(0,cy)}},{color:new Color(255,152,0),path:function(t){var e=TAO/4*3,n=TAO,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}}],[{color:new Color(42,54,177),path:function(t){var e=PI/2+PI/6,n=-PI/2-PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n)}},{color:new Color(255,204,128),path:function(t){var e=-PI/2,n=-PI/2-PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!0);var a=PI/2+PI/6,i=PI/2;t.arc(0,cy,RADIUS,a,i,!0)}},{color:new Color(255,152,0),path:function(t){var e=-PI/2,n=-PI/2+PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n);var a=PI/2-PI/6,i=PI/2;t.arc(0,cy,RADIUS,a,i)}},{color:new Color(86,119,252),path:function(t){var e=-PI/2+PI/6,n=PI/2-PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n)}}],[{color:new Color(255,152,0),path:function(t){t.arc(0,cy,RADIUS,0,TAO),t.arc(0,cy,RADIUS/2,0,TAO,!0)}},{color:new Color(37,155,36),path:function(t){t.arc(0,cy,RADIUS/2,0,TAO)}}],[{color:new Color(255,152,0),path:function(t){t.arc(0,cy,RADIUS,0,TAO),t.arc(0,cy,RADIUS/3*2,0,TAO,!0)}},{color:new Color(37,155,36),path:function(t){t.arc(0,cy,RADIUS/3*2,0,TAO),t.arc(0,cy,RADIUS/3,0,TAO,!0)}},{color:new Color(114,213,114),path:function(t){t.arc(0,cy,RADIUS/3,0,TAO)}}],[{color:new Color(37,155,36),path:function(t){var e=PI/2+PI/4,n=PI/2+PI/4*2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!1);var a=-PI/2+PI/4*2,i=-PI/2+PI/4;t.arc(0,cy,RADIUS,a,i,!0)}},{color:new Color(86,119,252),path:function(t){var e=PI/2,n=PI/2+PI/4,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!1);var a=-PI/2+PI/4,i=-PI/2;t.arc(0,cy,RADIUS,a,i,!0)}},{color:new Color(255,152,0),path:function(t){var e=-PI/2,n=-PI/2-PI/4,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!0);var a=PI/2-PI/4,i=PI/2;t.arc(0,cy,RADIUS,a,i,!1)}},{color:new Color(66,66,66),path:function(t){var e=PI/2+PI/4*2,n=PI/2+PI/4*3,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!1);var a=-PI/2+PI/4*3,i=-PI/2+PI/4*2;t.arc(0,cy,RADIUS,a,i,!0)}}],[{color:new Color(66,189,65),path:function(t){var e=-PI/2-PI/6,n=-PI/2-PI/2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!0),t.lineTo(-RADIUS/2,cy)}},{color:new Color(86,119,252),path:function(t){var e=TAO/6*2,n=TAO/6*3,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}},{color:new Color(255,241,118),path:function(t){var e=TAO/6,n=TAO/6*2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.lineTo(o,l),t.arc(0,cy,RADIUS,e,n),t.lineTo(0,cy)}},{color:new Color(86,119,252),path:function(t){var e=TAO/6,n=RADIUS*Math.cos(0),o=cy+RADIUS*Math.sin(0);t.lineTo(n,o),t.arc(0,cy,RADIUS,0,e),t.lineTo(0,cy)}},{color:new Color(255,183,77),path:function(t){var e=-PI/2,n=-PI/2-PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!0),t.lineTo(-RADIUS/2,cy),t.lineTo(0,cy)}},{color:new Color(243,108,96),path:function(t){var e=-PI/2,n=-PI/2+PI/6,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!1),t.lineTo(RADIUS/2,cy),t.lineTo(0,cy)}},{color:new Color(66,189,65),path:function(t){var e=-PI/2+PI/6,n=-PI/2+PI/2,o=RADIUS*Math.cos(e),l=cy+RADIUS*Math.sin(e);t.moveTo(o,l),t.arc(0,cy,RADIUS,e,n,!1),t.lineTo(RADIUS/2,cy)}}],[{color:new Color(0,102,255),path:function(t){var e=SCALE/17.77,n=SCALE/32,o=SCALE/9.7,l=SCALE/10.6;t.moveTo(-l,cy-o),t.lineTo(l,cy-o),t.lineTo(l,cy-e),t.lineTo(-n,cy+e),t.lineTo(l,cy+e),t.lineTo(l,cy+o),t.lineTo(-l,cy+o),t.lineTo(-l,cy+e),t.lineTo(n,cy-e),t.lineTo(-l,cy-e),t.lineTo(-l,cy-o)}},{color:new Color(0,0,0),path:function(t){t.arc(0,cy,RADIUS,0,TAO)}}]];function newGame(){intervals.length,clearIntervals(),levelIndex=0,completion=0,isDrawing=!1,lastPoint=null,selectedPallet=null,time=60,isPlaying=!0,setPallet(),repaint(),intervals.push(setInterval((function(){completion=getCompletion()/completionBaseline,paintCompletion(),completion>=.8&&levelIndex+1<levels.length&&(levelIndex++,slide(),setTimeout((function(){repaint()}),250))}),500)),intervals.push(setInterval((function(){if(time--,paintTime(),time<=0){isPlaying=!1,clearIntervals();var t=getScore(),e=saveScore();hideGame(),ga("send","event","game","end","score",t),showEnd(t,e)}}),1e3))}function slide(){canv.className=canv.className+" slide-out",setTimeout((function(){canv.className=canv.className.replace("slide-out","")}),250)}function getScore(){return 100*levelIndex+100*completion|0}function saveScore(){var t=localStorage.highScore||0,e=getScore();return parseInt(t)<e&&(localStorage.highScore=e,!0)}function clearIntervals(){for(var t=intervals.length;t--;)window.clearInterval(intervals[t]);intervals=[]}function paintBg(){ctx.fillStyle=$bgColor.toString(),ctx.fillRect(-WIDTH2,-HEIGHT2,WIDTH,HEIGHT)}function paintTime(){var t=SCALE/30,e=SCALE/60,n=time+"s",o=WIDTH2-e-2*t,l=-HEIGHT2+t+e;ctx.fillStyle=$bgColor.toString(),ctx.fillRect(o,l-t,3*t,t+2),ctx.textAlign="left",ctx.fillStyle=time<=10?"#c41411":"#424242",ctx.font="bold "+t+'px "Open Sans", sans',ctx.fillText(n,o,l)}function isOnTimeText(t){var e=SCALE/30,n=SCALE/60,o=WIDTH2-n-3*e,l=-HEIGHT2+e+n+e;return t.x>o&&t.y<l}function repaint(){paintBg(),paintLevel(),selectedPallet=null,setPallet(),paintPallet(),completionBaseline=getCompletion(!0),paintCompletion(),paintTime(),isDrawing=!1}function paintCompletion(){var t=SCALE/30,e=SCALE/60,n=-WIDTH2+e,o=-HEIGHT2+t+e,l=~~(100*Math.max(0,completion-.02))+"%";ctx.fillStyle=$bgColor.toString(),ctx.fillRect(n,o-t,2*t,t+2),ctx.textAlign="left",ctx.fillStyle="#222",ctx.font="bold "+t+'px "Open Sans", sans',ctx.fillText(l,n,o)}function isOnCompletionText(t){var e=SCALE/30,n=SCALE/60,o=-WIDTH2+n+3*e,l=-HEIGHT2+e+n+e;return t.x<o&&t.y<l}function getCompletion(t){for(var e=ctx.getImageData(WIDTH2-RADIUS,0,2*RADIUS,HEIGHT2).data,n=0,o=e.length,l=o;l>=4;){var a=e[l-3],i=e[l-2],c=e[l-1];t?(a<240||i<240||c<240)&&158!==a&&158!==i&&158!==c&&(n+=1):a>240&&i>240&&c>240&&(n+=1),l-=~~(o/1e3)}return n}function paintLevel(){var t=levels[levelIndex];ctx.beginPath(),ctx.arc(0,1.5*-RADIUS,RADIUS,0,2*PI,!1),ctx.fillStyle=$white.toString(),ctx.fill(),ctx.beginPath(),ctx.arc(0,1.5*RADIUS,RADIUS,0,2*PI,!1),ctx.fillStyle=$white.toString(),ctx.fill();for(var e=t.length;e--;){var n=t[e];ctx.fillStyle=n.color.toString(),ctx.beginPath();var o=1.5*-RADIUS;ctx.moveTo(0,o),n.path(ctx,0,o),ctx.fill()}0===levelIndex&&(ctx.fillStyle="#000",ctx.font=SCALE/25+'px "Open Sans", sans',ctx.textAlign="center",ctx.fillText("Color Me!",0,1.5*RADIUS+SCALE/25/3))}function setPallet(){for(var t=[],e=levels[levelIndex],n=e.length;n--;){var o=e[n];t.push(o.color)}n=t.length;for(var l={};n--;)l[c=t[n]]&&t.splice(n,1),l[c]=!0;n=t.length,pallet=[];var a=~~(t.length/2),i=-palletBoxSize*a-palletMargin*a;for(t.length%2==0&&(i+=palletBoxSize/2+palletMargin/2);n--;){var c,r={color:c=t[n],x:i,y:0};pallet.push(r),i+=palletBoxSize+palletMargin}selectedPallet||(selectedPallet=pallet[0])}function paintPallet(){var t=pallet.length,e=palletBoxSize,n=palletSize;for(ctx.fillStyle=$bgColor.toString(),ctx.fillRect(-WIDTH2,-e/2-1,WIDTH,e+2);t--;)pallet[t]===selectedPallet&&(ctx.fillStyle=$white.toString(),ctx.fillRect(pallet[t].x-e/2,-e/2,e,e)),ctx.fillStyle=pallet[t].color.toString(),roundRect(ctx,pallet[t].x,0,n,n,SCALE/150,!0,!1)}function selectPallet(t){for(var e=pallet.length;e--;)if(distanceBetween({x:pallet[e].x+WIDTH2,y:pallet[e].y+HEIGHT2},t)<palletBoxSize/2){selectedPallet=pallet[e],paintPallet();break}}function drawStart(t){isDrawing=!0,lastPoint=t,selectPallet(t)}function drawEnd(){isDrawing=!1}function getRegion(){for(var t=levels[levelIndex],e=t.length;e--;){var n=t[e];if(n.color.equals(selectedPallet.color))return n}throw new Error("Poly not found")}function draw(t){if(isDrawing){for(var e=t,n=distanceBetween(lastPoint,e),o=angleBetween(lastPoint,e),l=getRegion(),a=SCALE/24|0,i=0;i<n;i+=5){var c=lastPoint.x+Math.sin(o)*i-WIDTH2|0,r=lastPoint.y+Math.cos(o)*i-HEIGHT2|0;if(!(r<SCALE/20+5&&r>-SCALE/20-5)){var s={x:c,y:r};if(!isOnCompletionText(s)&&!isOnTimeText(s)){var I=ctx.createRadialGradient(c,r,a/4|0,c,r,a/2|0);I.addColorStop(0,selectedPallet.color.toString()),I.addColorStop(.5,selectedPallet.color.alpha(.5).toString()),I.addColorStop(1,selectedPallet.color.alpha(0).toString()),ctx.fillStyle=I,ctx.fillRect(c-a/2|0,r-a/2|0,a,a),r<0?r+=1.5*RADIUS*2|0:r-=1.5*RADIUS*2|0,s.y=r,isOnCompletionText(s)||isOnTimeText(s)||((I=ctx.createRadialGradient(c,r,a/4|0,c,r,a/2|0)).addColorStop(0,selectedPallet.color.toString()),I.addColorStop(.5,selectedPallet.color.alpha(.5).toString()),I.addColorStop(1,selectedPallet.color.alpha(0).toString()),ctx.fillStyle=I,ctx.fillRect(c-a/2|0,r-a/2|0,a,a),r<0&&(ctx.save(),ctx.beginPath(),l.path(ctx),ctx.clip(),(I=ctx.createRadialGradient(c,r,a/4|0,c,r,a/2|0)).addColorStop(0,$white.toString()),I.addColorStop(.9,$white.alpha(1).toString()),I.addColorStop(1,$white.alpha(0).toString()),ctx.fillStyle=I,ctx.fillRect(c-a/2|0,r-a/2|0,a,a),ctx.fillRect(c-a/2|0,r-a/2|0,a,a),ctx.restore()))}}}lastPoint=e}}var CWIDTH=Math.min(window.innerWidth,window.innerHeight),CHEIGHT=CWIDTH,$homeScreen=document.getElementsByClassName("home-screen")[0],$endScreen=document.getElementsByClassName("game-over-screen")[0],$endText=document.getElementsByClassName("game-over-text")[0],$score=document.getElementsByClassName("score")[0],$best=document.getElementsByClassName("best")[0],$logo=document.getElementsByClassName("logo")[0],$flourish=document.getElementsByClassName("flourish")[0],$play=document.getElementsByClassName("play")[0],$playAgain=document.getElementsByClassName("play-again")[0],$highScore=document.getElementsByClassName("high-score")[0],$paths=document.getElementsByTagName("path");$logo.style.marginTop=CHEIGHT/2-CHEIGHT/3+"px",$logo.style.width=CWIDTH/2+"px",$logo.style.height=CWIDTH/4+"px",$flourish.style.marginTop=-CHEIGHT/20+"px",$flourish.style.width=CWIDTH/3+"px",$flourish.style.height=CWIDTH/5+"px",$play.style.marginTop=CHEIGHT/20+"px",$play.style.width=CWIDTH/4+"px",$play.style.height=CWIDTH/7+"px",$play.style.fontSize=CWIDTH/20+"px",$play.addEventListener("click",start),$play.addEventListener("touchstart",start),$playAgain.addEventListener("click",(function(){ga("send","event","game","play","again"),start()})),$playAgain.addEventListener("touchstart",(function(){ga("send","event","game","play","again"),start()})),localStorage.highScore&&($highScore.innerHTML="best: "+localStorage.highScore,$highScore.style.fontSize=CWIDTH/30+"px"),setTimeout((function(){$play.style.opacity=1}));var pathLengths=[114.63752746582031,135.55255126953125,115.6463851928711,147.36000061035156,3442.748291015625,1806.394775390625,8450.58984375,8450.58984375];function hideHome(){$homeScreen.style.display="none"}function randomEndText(){var t=endGameTexts[endGameIndex];return endGameIndex++,endGameIndex%=endGameTexts.length,t}function showEnd(t,e){t=t||0,$score.innerHTML=(e?"New High Score: ":"Score: ")+t,$score.style.fontSize=CWIDTH/20+"px",$best.style.fontSize=CWIDTH/30+"px",e||($best.innerHTML="Best: "+localStorage.highScore||0),$endScreen.style.display="block",$endText.innerHTML=t<100?"Are you even trying?":randomEndText(),$endText.style.fontSize=CWIDTH/20+"px",$endText.style.marginTop=CHEIGHT/2-CHEIGHT/6+"px",$playAgain.style.marginTop=CHEIGHT/20+"px",$playAgain.style.width=CWIDTH/2+"px",$playAgain.style.height=CWIDTH/7+"px",$playAgain.style.fontSize=CWIDTH/20+"px",setTimeout((function(){$playAgain.style.opacity=1}),100)}function hideEnd(){$endScreen.style.display="none"}function start(){hideHome(),hideEnd(),showGame(),newGame()}function showGame(){canv.style.visibility="visible"}function hideGame(){canv.style.visibility="hidden"}function simulatePathDrawing(t,e){var n=pathLengths[e];t.style.transition=t.style.WebkitTransition="none",t.style.strokeDasharray=n+" "+n,t.style.strokeDashoffset=n,t.getBoundingClientRect(),t.style.transition=t.style.WebkitTransition="stroke-dashoffset 1.25s ease-in-out",t.style.strokeDashoffset="0",t.style.strokeWidth="2px"}window.addEventListener("load",(function(){for(var t=$paths.length;t--;)simulatePathDrawing($paths[t],t);document.body.style.visibility="visible"}))</script>