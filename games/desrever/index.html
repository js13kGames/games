<!doctype html><title>desreveR</title><body style=text-align:center;background:#2e3719><canvas id=view style=background:#2e3719;margin-top:100px></canvas><script>!function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,(function(e){var n=t[i][1][e];return r(n||e)}),l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SfxrParams(){this.setSettings=function(e){for(var t=0;24>t;t++)this[String.fromCharCode(97+t)]=e[t]||0;this.c<.01&&(this.c=.01);var n=this.b+this.c+this.e;if(.18>n){var o=.18/n;this.b*=o,this.c*=o,this.e*=o}}}function SfxrSynth(){var e,t,n,o,r,a,i,s,u,c,l,f;this._params=new SfxrParams,this.reset=function(){var e=this._params;o=100/(e.f*e.f+.001),r=100/(e.g*e.g+.001),a=1-e.h*e.h*e.h*.01,i=-e.i*e.i*e.i*1e-6,e.a||(l=.5-e.n/2,f=5e-5*-e.o),s=1+e.l*e.l*(e.l>0?-.9:10),u=0,c=1==e.m?0:(1-e.m)*(1-e.m)*2e4+32},this.totalReset=function(){this.reset();var o=this._params;return e=o.b*o.b*1e5,t=o.c*o.c*1e5,n=o.e*o.e*1e5+12,3*((e+t+n)/3|0)},this.synthWave=function(p,d){var m=this._params,h=1!=m.s||m.v,A=m.v*m.v*.1,y=1+3e-4*m.w,j=m.s*m.s*m.s*.1,b=1+1e-4*m.t,w=1!=m.s,g=m.x*m.x,v=m.g,S=m.q||m.r,O=m.r*m.r*m.r*.2,C=m.q*m.q*(m.q<0?-1020:1020),x=m.p?32+((1-m.p)*(1-m.p)*2e4|0):0,P=m.d,M=m.j/2,T=m.k*m.k*.01,R=m.a,D=e,_=1/e,E=1/t,I=1/n,z=5/(1+m.u*m.u*20)*(.01+j);z>.8&&(z=.8),z=1-z;for(var G,J,B,F,U,k,Q=!1,N=0,V=0,q=0,Y=0,K=0,W=0,X=0,L=0,H=0,Z=0,$=new Array(1024),ee=new Array(32),te=$.length;te--;)$[te]=0;for(te=ee.length;te--;)ee[te]=2*Math.random()-1;for(te=0;d>te;te++){if(Q)return te;if(x&&++H>=x&&(H=0,this.reset()),c&&++u>=c&&(c=0,o*=s),(o*=a+=i)>r&&(o=r,v>0&&(Q=!0)),J=o,M>0&&(Z+=T,J*=1+Math.sin(Z)*M),8>(J|=0)&&(J=8),R||(0>(l+=f)?l=0:l>.5&&(l=.5)),++V>D)switch(V=0,++N){case 1:D=t;break;case 2:D=n}switch(N){case 0:q=V*_;break;case 1:q=1+2*(1-V*E)*P;break;case 2:q=1-V*I;break;case 3:q=0,Q=!0}S&&(0>(B=0|(C+=O))?B=-B:B>1023&&(B=1023)),h&&y&&(1e-5>(A*=y)?A=1e-5:A>.1&&(A=.1)),k=0;for(var ne=8;ne--;){if(++X>=J&&(X%=J,3==R))for(var oe=ee.length;oe--;)ee[oe]=2*Math.random()-1;switch(R){case 0:U=l>X/J?.5:-.5;break;case 1:U=1-X/J*2;break;case 2:U=.225*((0>(U=1.27323954*(F=6.28318531*((F=X/J)>.5?F-1:F))+.405284735*F*F*(0>F?1:-1))?-1:1)*U*U-U)+U;break;case 3:U=ee[Math.abs(32*X/J|0)]}h&&(G=W,0>(j*=b)?j=0:j>.1&&(j=.1),w?(K+=(U-W)*j,K*=z):(W=U,K=0),Y+=(W+=K)-G,U=Y*=1-A),S&&($[L%1024]=U,U+=$[(L-B+1024)%1024],L++),k+=U}k*=.125*q*g,p[te]=k>=1?32767:-1>=k?-32768:32767*k|0}return d}}var _classColliderJs=require("./class/Collider.js"),_classColliderJs2=_interopRequireDefault(_classColliderJs),_classComponentJs=require("./class/Component.js"),_classComponentJs2=_interopRequireDefault(_classComponentJs),_classGameJs=require("./class/Game.js"),_classGameJs2=_interopRequireDefault(_classGameJs),_classGameObjectJs=require("./class/GameObject.js"),_classGameObjectJs2=_interopRequireDefault(_classGameObjectJs),_classInputJs=require("./class/Input.js"),_classInputJs2=_interopRequireDefault(_classInputJs),_classJumpJs=require("./class/Jump.js"),_classJumpJs2=_interopRequireDefault(_classJumpJs),_classPhysicsBodyJs=require("./class/PhysicsBody.js"),_classPhysicsBodyJs2=_interopRequireDefault(_classPhysicsBodyJs),_classRectJs=require("./class/Rect.js"),_classRectJs2=_interopRequireDefault(_classRectJs),_classRectRendererJs=require("./class/RectRenderer.js"),_classRectRendererJs2=_interopRequireDefault(_classRectRendererJs),_classScoreDisplayJs=require("./class/ScoreDisplay.js"),_classScoreDisplayJs2=_interopRequireDefault(_classScoreDisplayJs),_classScrollingTerrainJs=require("./class/ScrollingTerrain.js"),_classScrollingTerrainJs2=_interopRequireDefault(_classScrollingTerrainJs),_classSpriteRendererJs=require("./class/SpriteRenderer.js"),_classSpriteRendererJs2=_interopRequireDefault(_classSpriteRendererJs),_classTransformJs=require("./class/Transform.js"),_classTransformJs2=_interopRequireDefault(_classTransformJs),_classVector2Js=require("./class/Vector2.js"),_classVector2Js2=_interopRequireDefault(_classVector2Js),synth=new SfxrSynth;window.jsfxr=function(e){synth._params.setSettings(e);var t=synth.totalReset(),n=new Uint8Array(4*((t+1)/2|0)+44),o=2*synth.synthWave(new Uint16Array(n.buffer,44),t),r=new Uint32Array(n.buffer,0,44);r[0]=1179011410,r[1]=o+36,r[2]=1163280727,r[3]=544501094,r[4]=16,r[5]=65537,r[6]=44100,r[7]=88200,r[8]=1048578,r[9]=1635017060,r[10]=o,o+=44;for(var a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";o>a;a+=3){var u=n[a]<<16|n[a+1]<<8|n[a+2];s+=i[u>>18]+i[u>>12&63]+i[u>>6&63]+i[63&u]}return s};var canvas=document.getElementById("view"),_input=_classInputJs2.default.instance,options={canvas:canvas},_game=_classGameJs2.default.instance;_game.SetCanvas(options),_game.init(),_input.Attach(),_game.Loop();var clock=new _classGameObjectJs2.default;clock.AddComponent(new _classScoreDisplayJs2.default),clock.name="Clock",_game.objs.push(clock);var musicFormula="((t*5&t>>7)|(t*3&t>>10))&255",softSynth=function softSynth(f){return eval("for(var t=0,S='RIFF_oO_WAVEfmt "+atob("EAAAAAEAAQBAHwAAQB8AAAEACAA")+"data';++t<3e5;)S+=String.fromCharCode("+f+")")},a=new Audio("data:audio/wav;base64,"+btoa(softSynth(musicFormula)));a.volume=.04,a.play(),setInterval((function(){a.pause(),a.currentTime=0,a.play()}),37500)},{"./class/Collider.js":2,"./class/Component.js":3,"./class/Game.js":5,"./class/GameObject.js":6,"./class/Input.js":8,"./class/Jump.js":9,"./class/PhysicsBody.js":12,"./class/Rect.js":14,"./class/RectRenderer.js":15,"./class/ScoreDisplay.js":16,"./class/ScrollingTerrain.js":17,"./class/SpriteRenderer.js":18,"./class/Transform.js":20,"./class/Vector2.js":21}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="Collider"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./Component.js")).default);n.default=o,t.exports=n.default},{"./Component.js":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.Update=function(){},this.Draw=function(){}},t.exports=n.default},{}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Input.js")),i=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.Update=function(){a.default.instance.isSpaceDown&&n.gameObject.Destroy()}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=i,t.exports=n.default},{"./Component.js":3,"./Input.js":8}],5:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(e("./Collider.js")),i=(o(e("./Component.js")),e("./DestroyOnSpace.js")),s=o(i),u=o(e("./GameObject.js")),c=o(e("./ImageRenderer.js")),l=o(e("./Input.js")),f=o(e("./Jump.js")),p=(o(e("./Particle.js")),e("./Parallax.js")),d=o(p),m=o(e("./PhysicsBody.js")),h=o(e("./Player.js")),A=(o(e("./Rect.js")),e("./RectRenderer.js")),y=o(A),j=o(e("./ScoreDisplay.js")),b=o(e("./ScrollingTerrain.js")),w=o(e("./SpriteRenderer.js")),g=(o(e("./TextRenderer.js")),e("./Transform.js")),v=o(g),S=o(e("./Vector2.js")),O=Symbol(),C=Symbol(),x=function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.shakeFrames=0,this.hasStarted=!1,this.paused=!1,this.startTime=new Date,this.currentScore=0,this.color={black:"rgba(0,0,0,0)",dark:"rgba(0,0,0,0.5)",light:"rgba(255,255,255,0.5)",white:"rgba(255,255,255,1)",transparent:"rgba(255,255,255,0)"},this.platformCount=0,this.objs=[],this.speed=2,this.logo=new Image,this.logo.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAAA3BAMAAADQ9pRxAAAAD1BMVEUAAAAtNhlScyPA3YuTuWMW5n24AAAAAXRSTlMAQObYZgAABClJREFUSMfclIGRayEIRXc7WNAGMGmAYANG+q/p34tvkuxsB5+ZyFPhcFEnX/+dyct+vs74Yd/Cn1yRP58bsNf3H/tEvPE1uRZehX+pMA7vhCsX7gPMnSvg+40udosIk6BzCRgSuIgd0cPuh/vXiiGyN9N60LyAzCbSAyO/wSD3t9jmHC9GTIT3XcnaMhMojTKV3LdbaK821Lw7ycxmBDBshQJygpGwLdqX9H3kgKpGJBheDA2pUpPiaBdjxqkMs+aoOKyDMROsw+hgBPfhMGdV1wYSGVcrS2T6GMOEDB2jIyRliIQKDYxNPwqlWJDRFpRfjLan2GGIbVfBRwPDdFjbqkST4cVwzLmOT97Wxeh7KZQjxNR4mCwPxgIzqrralp5kGMXByFA3ZVodhy9VI4MH6dacRwWpiF1k+BCIyCAsEQPf3CFJ3oxYohILv7jVG4OqhTyWDQxEPyz3ESR3LLFID9HeD6NTPxvSgHmrEeGdDHZYC9Z3XAzWmYJGHWnFUDIGGX3PJGNmouRNEnMvMbnRT7IuJN93BnjDMNy3fDCeS00SwSgBM+EsJwTJYUAIGAEGogJ+dG7U38WbgbQOhvenEYOQmNSbS9IVUqMYsnKBIYMlL4ZcjHOpK+gBsY1yGQ49KhsMyYsBO2I3axTD98UQUTKUHjbzxi0DuTOENwMvyjc24dnLi8GHO+sZKnXQmraZhkoQAEjdCUjwgA1tnOdTmp9erLHp+RDMwWiEeV+3SS2HaGRACC+dRgZ6W9IuHaOHe5/1MB6xegS22jMm8NSqd7E6Q5zqPoxBRlt1T2QItpCd3oO2aja1M7seJwT5YUiS0dABlNth+GEgMhyMnJuMSeKDSouhOdskSxkIMIIylkiQwTdWDE0YGDkzVZIe6XIY41/tZYCjQAxC0XgDIXsB2Kvs/c+0fL6FEmsmmcSvjg6lDzqCHaMKwiS5mGD85s8dGlkW44Fy0BiQJfwmWraLRo2AAWgEdvbhD+JFRcLSDBdIPWSsDRXPI/IouLrFQdkKUSO4tn+5N3CyhQGKUaJgobvTkIsBg34KNmJw+2MmHEvPPEW587wZhkMqT3Tbo0xaJOKNnyi+Y4aYmZvRE+xPW7YyD7ikGI6MXWawQ3LUc7IZjKhp3xN5jJkY5Jx2bRQ3cI5TNL5cxt3GilHBeOzz5+GGplI+CsFL06mWUDoj5CCC5FpcwllM/a6sEhEIRee0sSwupTYYbDGLlwMgRWiWz87L4n9j4KVg1NhqCgaNh4fU0o8+Nq6HMxftcSj8zclYk9LDi9HfC5tHNZ/b9ciY1YbFcGnGbBeLMRWbeTA+KUaDTcZeOfrqdczaGdqXFQbka95xqrZJUObqOhlVCTmeuRI3q53rJQPLbYa4F8MXI0Xo4Z/BxxpTH7ZT08kNETF1G3CtmvFl/QOLpEU6gnTAeQAAAABJRU5ErkJggg==",this.Update=function(){!n.hasStarted&&l.default.instance.isSpaceDown&&(n.StartGame(),n.hasStarted=!0),n.paused||n.objs.forEach((function(e){e.Update()}))},this.Draw=function(){n.shakeFrames>0&&(n.CTX.save(),n.CTX.translate(3*Math.random()-1.5,3*Math.random()-1.5)),n.CTX.mozImageSmoothingEnabled=!1,n.CTX.webkitImageSmoothingEnabled=!1,n.CTX.msImageSmoothingEnabled=!1,n.CTX.imageSmoothingEnabled=!1,n.CTX.clearRect(0,0,n.canvas.width,n.canvas.height),n.objs.forEach((function(e){e.Draw(n.CTX)})),n.shakeFrames>0&&(n.CTX.restore(),n.shakeFrames--)},this.Loop=function(){n.Update(),n.Draw(),requestAnimationFrame(n.Loop)},this.ResizeCanvas=function(e,t){n.canvas.width=e,n.canvas.height=t},this.reset=function(e){n.hasStarted=!1,"NonPlayer"===e?n.objs.forEach((function(e){"Player"!==e.name&&"Clock"!==e.name&&e.Destroy()})):n.objs.forEach((function(e){"Clock"!==e.name&&e.Destroy()}))},this.init=function(){n.reset(),n.scale=3,n.resolution=new S.default(320,188),n.CTX=n.canvas.getContext("2d"),n.objs=[],n.ResizeCanvas(n.resolution.x*n.scale,n.resolution.y*n.scale),n.CTX.scale(n.scale,n.scale),n.SpawnParallax(),n.SpawnStartMenu();var e=new u.default;e.AddComponent(new j.default),e.name="Clock",n.objs.push(e)},this.StartGame=function(){e.instance.SetScrollingTerrainSpeed(2.5),n.SpawnPlayer(new S.default(250,130),new S.default(18,18)),n.SpawnPlatform(new S.default(0,150),new S.default(500,200)),n.SpawnCatch(),n.startTime=new Date,n.currentScore=0},this.SetCanvas=function(e){n.canvas=e.canvas},this.SpawnPlatform=function(e,t){var o=new u.default;o.transform=new v.default({position:e,size:t}),o.AddComponent(new a.default),o.AddComponent(new b.default({speed:n.speed})),o.AddComponent(new w.default({animated:!1,tiled:!0,tiledIndex:7})),o.name="Platform";var r=new u.default;return r.transform=new v.default({position:new S.default(e.x+t.x,e.y+5),size:new S.default(2,t.y-10)}),r.AddComponent(new a.default),r.AddComponent(new b.default({speed:n.speed})),r.AddComponent(new y.default),r.color="rgba(255,0,0,0)",r.name="CollisionDeath",n.objs.push(o),n.objs.push(r),o},this.SpawnPlayer=function(e,t){var o=new u.default;o.transform=new v.default({position:e,size:t}),o.AddComponent(new a.default),o.AddComponent(new h.default),o.AddComponent(new m.default({kinematic:!1})),o.AddComponent(new f.default({input:l.default.instance})),o.AddComponent(new w.default({animated:!0,animations:[{name:"Walk",frames:[0,1,2,1]},{name:"Jump",frames:[3]}]})),o.color=n.color.transparent,o.name="Player",n.objs.push(o)},this.SpawnCatch=function(){var e=new u.default;e.transform=new v.default({position:new S.default(0,220),size:new S.default(320,10)}),e.AddComponent(new a.default),e.AddComponent(new y.default),e.color="rgba(255,0,0,1)",e.name="CollisionDeath",n.objs.push(e)},this.SetScrollingTerrainSpeed=function(e){n.speed=e,n.objs.forEach((function(t){var n=t.GetComponent("ScrollingTerrain");n&&n.speed&&(n.speed=e)}))},this.SpawnStartMenu=function(){var e=new u.default,t=new S.default(166,59);e.transform=new v.default({size:t,position:new S.default(n.resolution.x/2-t.x/2,n.resolution.y/2-t.y/2-50)}),e.AddComponent(new c.default({})),e.name="Logo",e.AddComponent(new s.default),n.objs.push(e)},this.SpawnParallax=function(){var e=new u.default;e.transform=new v.default({position:S.default.zero(),size:n.resolution}),e.AddComponent(new d.default({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAAAiAgMAAABEnu15AAAADFBMVEUAAABSdCSTuWPA3YsKQP1cAAAAAXRSTlMAQObYZgAAAEtJREFUKM9jGCDAiMRWgFBMqCpEMPQ0QJXjkhAg2zUOFCt2oDxIeHBJHMAl8YBEGxoocJ0CphCRoc5CesJA2Ep5LFIOmB0IxwgCAABPXAXsrhitAAAAAABJRU5ErkJggg==",size:new S.default(95,34),tickFrames:120,repeat:!0})),e.name="Stars",n.objs.push(e);var t=new u.default;t.transform=new v.default({position:new S.default(20,15),size:new S.default(42,40)}),t.AddComponent(new d.default({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUBAMAAACQZWsAAAAAD1BMVEUAAACTuWPA3YtSdCQtNhlaMa0FAAAAAXRSTlMAQObYZgAAAH9JREFUCNddztENAkEIBFA9KxjmGmBuC5DFAkzW/msSTv1xEsILfMDlPw78CBfzOw0AfJ4umXw0r4y0Kax2BozTWQYzmKZoo72c9zYC82HlDSCMx4yysA/HK9hWHOYj+7I8KRk/9pQOZ1uaVdHe1HGcz82mr1ItTI690LlFovsbJFMTBF1I6sMAAAAASUVORK5CYII=",size:new S.default(21,20),tickFrames:45,repeat:!1,scale:2})),t.name="Moon",n.objs.push(t);var o=new u.default;o.transform=new v.default({position:new S.default(0,94),size:n.resolution}),o.color="#2e3719",o.AddComponent(new y.default),n.objs.push(o);var r=new u.default;r.transform=new v.default({position:new S.default(0,44),size:new S.default(n.resolution.x,81)}),r.AddComponent(new d.default({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAbAgMAAACfC0DrAAAACVBMVEUAAAAuNxlScyNJmFCcAAAAAXRSTlMAQObYZgAAAQBJREFUKM99zkFOxDAMBVAGCRbsB4krcIo5wiz4lpy9KyWnQNzBEcmKBY5wTsmUtrTqIL53T9a3b/7Nw9cf+Nb7x/Umd+9X+hR7ra97FYvUPnd48AGQuFu+t3jRQU9bfM4elZT6+1Zrs2qZ4X7eaCKHd2MtuuKtNleKLOhlc0vJlALE4esbjwo3qt4C4vrz0SAKZGYAy72DKUsWEjIFXpaCJIWbhEZRAJmVI9GQdBwAw2kqkKLSIblaFHCYKu6QNHQJqSMAyJg1FE5BagEphKYvjojIyXxsjRgzNgOCqKExY87YjEu4ojBs4UmDGSeHLHr+USIVUhCWnC46XxH85vwNOQCNbZlGlfEAAAAASUVORK5CYII=",size:new S.default(84,27),tickFrames:22,scale:3,repeat:!0})),r.name="BackMountain",n.objs.push(r);var a=new u.default;a.transform=new v.default({position:new S.default(0,100),size:new S.default(n.resolution.x,57)}),a.AddComponent(new d.default({sprite:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAATAgMAAAB6s2L8AAAADFBMVEUAAAAuNxmTuWNSdCS1ShlGAAAAAXRSTlMAQObYZgAAALhJREFUGNNjIAcwBmARXLZsKYbYwmUrZ6Gr1YoMmxY1AUWIY9m6WbOWRi1bgSzIuWzlq1krV61MQxZctTvtd/2qV8uyHBCOWVn+7+Xcv+GvS5H0S6Z+rUy/ez00/easpQIwhavSr4ZNzQ1dGhqfOS0EKshaGXt31dTQ0LCroWFrp0EF7e9WXg0FgqzQ0PitYQsggn+BQktDoSBsCViMPxQJTA2dCXZVeCgqCABZgyaWGgp0TygGCAAAjbBYWvu9u1wAAAAASUVORK5CYII=",size:new S.default(80,19),tickFrames:5,scale:3,translation:55,repeat:!0})),a.name="FrontMountain",n.objs.push(a);var i=new u.default;i.transform=new v.default({position:new S.default(0,0),size:n.resolution}),i.color="rgba(0,0,0,0.45)",i.AddComponent(new y.default),n.objs.push(i)}}return r(e,null,[{key:"instance",get:function(){return this[O]||(this[O]=new e(C)),this[O]}}]),e}();n.default=x,t.exports=n.default},{"./Collider.js":2,"./Component.js":3,"./DestroyOnSpace.js":4,"./GameObject.js":6,"./ImageRenderer.js":7,"./Input.js":8,"./Jump.js":9,"./Parallax.js":10,"./Particle.js":11,"./PhysicsBody.js":12,"./Player.js":13,"./Rect.js":14,"./RectRenderer.js":15,"./ScoreDisplay.js":16,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./TextRenderer.js":19,"./Transform.js":20,"./Vector2.js":21}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Transform.js")),a=o(e("./Vector2.js")),i=o(e("./Game.js"));n.default=function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.name="GO",this.transform=new r.default({position:new a.default(10,10),size:new a.default(10,10)}),this.collider=!0,this.components=[],this.Update=function(){t.components.forEach((function(e){e.Update()}))},this.Draw=function(e){t.components.forEach((function(t){t.Draw(e)}))},this.GetComponent=function(e){var n=null;return t.components.forEach((function(t){t.componentName===e&&(n=t)})),n},this.AddComponent=function(e){t.components.push(e),e.gameObject=t},this.Destroy=function(){var e=i.default.instance.objs.indexOf(t);e>-1&&(i.default.instance.objs[e]=null,i.default.instance.objs.splice(e,1))},this.isOnScreen=function(){var e=t.transform,n=!1;return e.position.x<i.default.instance.resolution.x&&e.position.y+e.size.y>0&&e.position.y<i.default.instance.resolution.y&&(n=!0),n}},t.exports=n.default},{"./Game.js":5,"./Transform.js":20,"./Vector2.js":21}],7:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=(o(e("./Vector2.js")),e("./Game.js")),i=(o(a),function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="ImageRenderer",this.image=new Image,this.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAAA3BAMAAADQ9pRxAAAAD1BMVEUAAAAtNhlScyPA3YuTuWMW5n24AAAAAXRSTlMAQObYZgAABClJREFUSMfclIGRayEIRXc7WNAGMGmAYANG+q/p34tvkuxsB5+ZyFPhcFEnX/+dyct+vs74Yd/Cn1yRP58bsNf3H/tEvPE1uRZehX+pMA7vhCsX7gPMnSvg+40udosIk6BzCRgSuIgd0cPuh/vXiiGyN9N60LyAzCbSAyO/wSD3t9jmHC9GTIT3XcnaMhMojTKV3LdbaK821Lw7ycxmBDBshQJygpGwLdqX9H3kgKpGJBheDA2pUpPiaBdjxqkMs+aoOKyDMROsw+hgBPfhMGdV1wYSGVcrS2T6GMOEDB2jIyRliIQKDYxNPwqlWJDRFpRfjLan2GGIbVfBRwPDdFjbqkST4cVwzLmOT97Wxeh7KZQjxNR4mCwPxgIzqrralp5kGMXByFA3ZVodhy9VI4MH6dacRwWpiF1k+BCIyCAsEQPf3CFJ3oxYohILv7jVG4OqhTyWDQxEPyz3ESR3LLFID9HeD6NTPxvSgHmrEeGdDHZYC9Z3XAzWmYJGHWnFUDIGGX3PJGNmouRNEnMvMbnRT7IuJN93BnjDMNy3fDCeS00SwSgBM+EsJwTJYUAIGAEGogJ+dG7U38WbgbQOhvenEYOQmNSbS9IVUqMYsnKBIYMlL4ZcjHOpK+gBsY1yGQ49KhsMyYsBO2I3axTD98UQUTKUHjbzxi0DuTOENwMvyjc24dnLi8GHO+sZKnXQmraZhkoQAEjdCUjwgA1tnOdTmp9erLHp+RDMwWiEeV+3SS2HaGRACC+dRgZ6W9IuHaOHe5/1MB6xegS22jMm8NSqd7E6Q5zqPoxBRlt1T2QItpCd3oO2aja1M7seJwT5YUiS0dABlNth+GEgMhyMnJuMSeKDSouhOdskSxkIMIIylkiQwTdWDE0YGDkzVZIe6XIY41/tZYCjQAxC0XgDIXsB2Kvs/c+0fL6FEmsmmcSvjg6lDzqCHaMKwiS5mGD85s8dGlkW44Fy0BiQJfwmWraLRo2AAWgEdvbhD+JFRcLSDBdIPWSsDRXPI/IouLrFQdkKUSO4tn+5N3CyhQGKUaJgobvTkIsBg34KNmJw+2MmHEvPPEW587wZhkMqT3Tbo0xaJOKNnyi+Y4aYmZvRE+xPW7YyD7ikGI6MXWawQ3LUc7IZjKhp3xN5jJkY5Jx2bRQ3cI5TNL5cxt3GilHBeOzz5+GGplI+CsFL06mWUDoj5CCC5FpcwllM/a6sEhEIRee0sSwupTYYbDGLlwMgRWiWz87L4n9j4KVg1NhqCgaNh4fU0o8+Nq6HMxftcSj8zclYk9LDi9HfC5tHNZ/b9ciY1YbFcGnGbBeLMRWbeTA+KUaDTcZeOfrqdczaGdqXFQbka95xqrZJUObqOhlVCTmeuRI3q53rJQPLbYa4F8MXI0Xo4Z/BxxpTH7ZT08kNETF1G3CtmvFl/QOLpEU6gnTAeQAAAABJRU5ErkJggg==",this.alpha=1,this.Draw=function(e){e.globalAlpha=n.alpha;var t=n.gameObject.transform;e.drawImage(n.image,t.position.x,t.position.y,t.size.x,t.size.y),e.globalAlpha=1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default));n.default=i,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=Symbol(),a=Symbol(),i=function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isSpaceDown=!1,this.KeyDown=function(e){if(32===e.keyCode)n.isSpaceDown=!0},this.KeyUp=function(e){if(32===e.keyCode)n.isSpaceDown=!1},this.Attach=function(){window.addEventListener("keydown",n.KeyDown),window.addEventListener("keyup",n.KeyUp)}}return o(e,null,[{key:"instance",get:function(){return this[r]||(this[r]=new e(a)),this[r]}}]),e}();n.default=i,t.exports=n.default},{}],9:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Game.js")),i=o(e("./GameObject.js")),s=o(e("./Transform.js")),u=o(e("./Vector2.js")),c=o(e("./ScrollingTerrain.js")),l=o(e("./SpriteRenderer.js")),f=o(e("./Particle.js")),p=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.input=e.input,this.SpriteRenderer=null,this.jumpOne=!1,this.doubleJump=!1,this.jumpForce=-9.5,this.lastJumpTime=-9999,this.jumpCD=300,this.soundSource=jsfxr([0,,.3667,,.2549,.3988,,.1116,,,,,,.5939,,,,,.9699,,,.117,,.5]),this.jumpSound=new Audio(this.soundSource),this.soundPitchMin=.9,this.soundPitchMax=3,this.Update=function(){if(n.gameObject&&(n.pb=n.gameObject.GetComponent("PhysicsBody"),n.SpriteRenderer=n.gameObject.GetComponent("SpriteRenderer")),n.input.isSpaceDown&&n.pb){if(n.jumpOne&&!n.doubleJump&&n.lastJumpTime+n.jumpCD<=Date.now()){var e=n.jumpForce;n.pb.velocity.y>1.9&&(e=1.1*n.jumpForce),n.Jump(e),n.doubleJump=!0}!n.jumpOne&&n.pb.grounded&&n.lastJumpTime+n.jumpCD<=Date.now()&&(n.Jump(n.jumpForce),n.pb.grounded=!1,n.jumpOne=!0)}n.pb&&n.pb.grounded&&(n.jumpOne=!1,n.doubleJump=!1),n.SpriteRenderer&&(n.pb&&n.pb.grounded?n.SpriteRenderer.currentAnimation=0:n.SpriteRenderer.currentAnimation=1)},this.Jump=function(e){if(n.lastJumpTime+n.jumpCD<=Date.now()){n.lastJumpTime=Date.now(),n.jumpSound.pause(),n.jumpSound.currentTime=0,n.jumpSound.playbackRate=Math.random()*(n.soundPitchMax-n.soundPitchMin)+n.soundPitchMin,n.jumpSound.play();var t=new i.default;t.name="JumpUpParticle",t.transform=new s.default({position:new u.default(n.gameObject.transform.position.x,n.gameObject.transform.position.y+.25*n.gameObject.transform.size.y),size:new u.default(.75*n.gameObject.transform.size.x,.75*n.gameObject.transform.size.y)}),t.AddComponent(new l.default({animated:!0,animations:[{name:"Jump",frames:[8,8,8]}],playOnce:!0})),t.AddComponent(new f.default({})),t.AddComponent(new c.default({speed:a.default.instance.speed})),t.GetComponent("SpriteRenderer").ticksPerFrame=8,a.default.instance.objs.push(t),n.gameObject&&(n.pb=n.gameObject.GetComponent("PhysicsBody")),n.pb&&(n.pb.velocity.y=e)}}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=p,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],10:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Game.js")),i=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.size=e.size,this.DrawPatternContext=function(){n.patternContext.drawImage(n.sprite,0,0,n.size.x*n.scale,n.size.y*n.scale)},this.scale=e.scale||1,this.sprite=new Image,this.sprite.src=e.sprite,this.patternCanvas=document.createElement("canvas"),this.patternCanvas.width=e.size.x*this.scale,this.patternCanvas.height=e.size.y*this.scale,this.patternContext=this.patternCanvas.getContext("2d"),this.patternContext.mozImageSmoothingEnabled=!1,this.patternContext.webkitImageSmoothingEnabled=!1,this.patternContext.msImageSmoothingEnabled=!1,this.patternContext.imageSmoothingEnabled=!1,this.repeat=e.repeat,this.DrawPatternContext(),this.tickFrames=e.tickFrames||60,this.tickPixels=1,this.currentFrame=0,this.translation=e.translation||0,this.Update=function(){n.currentFrame++,n.translation+=n.tickPixels/n.tickFrames,n.DrawPatternContext()},this.Draw=function(e){var t=n.gameObject.transform;if(e.fillStyle=e.createPattern(n.patternCanvas,"repeat"),n.repeat)e.save(),e.translate(t.position.x+n.translation,t.position.y),e.fillRect(t.position.x-n.translation,0,t.size.x+n.translation,t.size.y),e.restore();else{e.save();var o=n.translation%a.default.instance.resolution.x,r=Math.sin(o);e.translate(o,r),e.fillRect(t.position.x+22,t.position.y-13,t.size.x,t.size.y),e.restore()}}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=i,t.exports=n.default},{"./Component.js":3,"./Game.js":5}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.lifeTime=e.lifeTime||500,this.startTime=Date.now(),this.Update=function(){!n.spriteRender&&n.gameObject&&(n.spriteRenderer=n.gameObject.GetComponent("SpriteRenderer")),Date.now()>=n.startTime+n.lifeTime?n.gameObject.Destroy():n.spriteRenderer&&(n.spriteRenderer.alpha=1-(Date.now()-n.startTime)/n.lifeTime)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./Component.js")).default);n.default=o,t.exports=n.default},{"./Component.js":3}],12:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Vector2.js")),i=o(e("./Game.js")),s=o(e("./GameObject.js")),u=o(e("./Rect.js")),c=o(e("./SpriteRenderer.js")),l=o(e("./Particle.js")),f=o(e("./Transform.js")),p=o(e("./ScrollingTerrain.js")),d=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="PhysicsBody",this.gravity=new a.default(0,.3),this.velocity=a.default.zero(),this.acceleration=a.default.zero(),this.collider=null,this.isKinematic=e&&e.kinematic||!1,this.game=i.default.instance,this.grounded=!1,this.lastGrounded=!1,this.hitSoundSource=jsfxr([3,,.0507,,.2369,.7984,,-.6757,,,,,,,,,,,1,,,.1483,,.5]),this.hitSound=new Audio(this.hitSoundSource),this.Update=function(){n.gameObject&&!n.collider&&(n.collider=n.gameObject.GetComponent("Collider")),n.isKinematic||n.Step()},this.Step=function(){n.velocity.x+=n.acceleration.x+n.gravity.x,n.velocity.y+=n.acceleration.y+n.gravity.y,n.velocity.x*=.9,n.velocity.y*=.9;var e=!1,t=!1,o=n.gameObject.transform,r=new u.default;r.init(o.position.x+n.velocity.x,o.position.y,o.size.x,o.size.y);var d=new u.default;d.init(o.position.x,o.position.y+n.velocity.y,o.size.x,o.size.y);var m=0;if(null!==!n.collider&&n.game.objs.forEach((function(o){if(null!==o.GetComponent("Collider")&&o!==n.gameObject){var a=o.transform,i=new u.default;i.init(a.position.x,a.position.y,a.size.x,a.size.y),n.AABB(r,i)&&(e=!0),n.AABB(d,i)&&(t=!0,m=a.position.y-n.gameObject.transform.size.y,"CollisionDeath"===o.name&&"Player"===n.gameObject.name&&n.gameObject.GetComponent("Player").Die())}})),e||(n.gameObject.transform.position.x+=n.velocity.x),t){if(n.gameObject.transform.position.y=m,"Player"===n.gameObject.name&&n.lastGrounded!==n.grounded){n.hitSound.pause(),n.hitSound.currentTime=0,n.hitSound.playbackRate=1.75*Math.random()+.75,n.hitSound.play(),i.default.instance.shakeFrames=5;var h=new s.default;h.name="JumpParticle",h.transform=new f.default({position:new a.default(n.gameObject.transform.position.x,n.gameObject.transform.position.y),size:new a.default(n.gameObject.transform.size.x,n.gameObject.transform.size.y)}),h.AddComponent(new c.default({animated:!0,animations:[{name:"puff",frames:[4,5,6]}],playOnce:!0})),h.AddComponent(new l.default({})),h.AddComponent(new p.default({speed:i.default.instance.speed})),h.GetComponent("SpriteRenderer").ticksPerFrame=7,i.default.instance.objs.push(h)}n.lastGrounded=n.grounded,n.grounded=!0}else n.gameObject.transform.position.y+=n.velocity.y,n.lastGrounded=n.grounded,n.grounded=!1},this.AABB=function(e,t){var n=!1;return e.position.x<t.position.x+t.size.x&&e.position.x+e.size.x>t.position.x&&e.position.y<t.position.y+t.size.y&&e.size.y+e.position.y>t.position.y&&(n=!0),n}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=d,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./Rect.js":14,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],13:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Game.js")),i=o(e("./GameObject.js")),s=o(e("./Transform.js")),u=o(e("./Vector2.js")),c=o(e("./ScrollingTerrain.js")),l=o(e("./SpriteRenderer.js")),f=o(e("./Particle.js")),p=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="Player",this.lastBump=Date.now(),this.timeStep=1e4,this.speedStep=.25,this.deathSoundSource=jsfxr([0,,.05,.18,.85,.42,.08,.1259,-.3,.05,.25,.5133,.5094,,-.193,.29,.04,-.06,.9786,.0143,.9207,,-.1832,.5]),this.deathSound=new Audio(this.deathSoundSource),this.soundSource=jsfxr([2,.0659,.2122,.4074,.5489,.5002,,-.29,.1331,,.9816,-.0915,.2788,-.2408,.0016,.583,-.0046,-.9982,.1595,8e-4,.2498,.0502,,.5]),this.speedSound=new Audio(this.soundSource),this.speedSound.pause(),0!=this.speedSound.currentTime&&(this.speedSound.currentTime=0),this.speedSound.play(),a.default.instance.startTime=Date.now(),a.default.instance.currentScore=0,this.Update=function(){n.lastBump+n.timeStep<=Date.now()&&(n.lastBump=Date.now(),a.default.instance.speed+=n.speedStep,a.default.instance.SetScrollingTerrainSpeed(a.default.instance.speed),n.speedSound.pause(),n.speedSound.currentTime=0,n.speedSound.play(),a.default.instance.shakeFrames=5),a.default.instance.currentScore=(Date.now()-a.default.instance.startTime)/1e3},this.Die=function(){for(var e=0;50>e;e++){var t=n.gameObject.transform.size.x,o=(2*Math.random()-1)*t,r=(2*Math.random()-1)*t,p=.75*Math.random()+.1,d=new i.default;d.name="DeathParticle",d.transform=new s.default({position:new u.default(n.gameObject.transform.position.x+o,n.gameObject.transform.position.y+r),size:new u.default(n.gameObject.transform.size.x*p,n.gameObject.transform.size.y*p)}),d.AddComponent(new l.default({animated:!0,animations:[{name:"Death",frames:[9]}],playOnce:!1})),d.AddComponent(new f.default({lifeTime:2e3})),d.AddComponent(new c.default({speed:a.default.instance.speed})),d.GetComponent("SpriteRenderer").ticksPerFrame=8,a.default.instance.objs.push(d)}a.default.instance.SetScrollingTerrainSpeed(.25),n.gameObject.Destroy(),n.deathSound.pause(),n.deathSound.currentTime=0,n.deathSound.play(),a.default.instance.shakeFrames=120,setTimeout((function(){a.default.instance.reset("All"),a.default.instance.init()}),3e3)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=p,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./GameObject.js":6,"./Particle.js":11,"./ScrollingTerrain.js":17,"./SpriteRenderer.js":18,"./Transform.js":20,"./Vector2.js":21}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(e("./Vector2.js"));n.default=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&(t.hasOwnProperty("size")&&t.hasOwnProperty("position")&&(this.size=t.size,this.position=t.position),t.hasOwnProperty("x")&&t.hasOwnProperty("y")&&(this.position=new o.default(x,y)),t.hasOwnProperty("width")&&t.hasOwnProperty("height")&&(this.size=new o.default(width,height))),this.init=function(e,t,r,a){n.position=new o.default(e,t),n.size=new o.default(r,a)}},t.exports=n.default},{"./Vector2.js":21}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.Draw=function(e){var t=n.gameObject.transform,o=[t.position.x,t.position.y,t.size.x,t.size.y];e.fillStyle=n.gameObject.color,e.fillRect.apply(e,o)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./Component.js")).default);n.default=o,t.exports=n.default},{"./Component.js":3}],16:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Vector2.js")),i=o(e("./Game.js")),s=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.tensMinutes=0,this.minutes=0,this.tensSeconds=0,this.seconds=0,this.numberSprite=new Image,this.numberSprite.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAAAQAgMAAACq3T9hAAAACVBMVEUAAAAAAADA3YtcMJ56AAAAAXRSTlMAQObYZgAAASdJREFUKM89kUuKwzAQREsL5wYWaE5j30AL10Dv1QPOabxwAtnPZnTKqZZJTNOoy4+iP0hcMEdWbKmSVQ+SlwJ9U6+wyIqWjns/9Lj3v0sBgcwz7ZEVIpw18yBN5fi1wFafXpHL2gax2FqBKCWm5wKfLRscNmMQvQpCagVNYhDNSjE0lMQgfngKQjoLW4i7CC9zwSa8n87HvjZBSEdWCQMRHijA5PLQCIQLwnTIw7ADInwQ3yfg5AOwHY5btWh2EJfHtFfAZA6UMM+LcuYLfHvkh+AiQg01SFmUp27RqW8mxSrm4dHg4THmT9S0Y2MiXA50EZ5aKD42OTYW+55tczI/Y0gby0YL/Ta2Hjf76r+aU82ONVQpIj6Xi7vP3EiOok7X0Td8rv8PJl+BaBKlx8oAAAAASUVORK5CYII=",this.frameSize=new a.default(12,16),this.outputSize=new a.default(6,8),this.Update=function(){var e=i.default.instance.currentScore,t=e/60|0,o=e-60*t|0,r=(10>t?"0"+t:t)+":"+(10>o?"0"+o:o);n.tensMinutes=r.charAt(0),n.minutes=r.charAt(1),n.tensSeconds=r.charAt(3),n.seconds=r.charAt(4)},this.Draw=function(e){e.drawImage(n.numberSprite,n.tensMinutes*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.minutes*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+1*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,10*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+2*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.tensSeconds*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+3*n.outputSize.x,3,n.outputSize.x,n.outputSize.y),e.drawImage(n.numberSprite,n.seconds*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,3+4*n.outputSize.x,3,n.outputSize.x,n.outputSize.y)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=s,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],17:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Game.js")),i=o(e("./Vector2.js")),s=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="ScrollingTerrain",this.speed=e.speed||2.5,this.link=null,this.Update=function(){if(null===n.link&&"Platform"===n.gameObject.name&&n.gameObject.transform.position.x>-50){var e=new i.default(n.RandomRangePlatformSize(64,384,64),200),t=n.gameObject.transform.position.x-e.x-n.RandomRange(150,50),o=n.gameObject.transform.position.y+n.RandomRange(30,-30);if(o>n.gameObject.transform.position.y)t-=.5*(o-n.gameObject.transform.position.y);o=Math.min(Math.max(o,50),150),n.link=a.default.instance.SpawnPlatform(new i.default(t,o),e)}n.gameObject.transform.position.x+=n.speed,n.gameObject.isOnScreen()||n.gameObject.Destroy()},this.RandomRange=function(e,t){return Math.floor(Math.random()*(e-t))+t},this.RandomRangePlatformSize=function(e,t,n){var o=Math.floor(Math.random()*(e-t))+t;return o-o%n}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);n.default=s,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],18:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./Component.js")),a=o(e("./Vector2.js")),i=(o(e("./Game.js")),function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.componentName="SpriteRenderer",this.animations=e.animations||[],this.animated=e.animated||!1,this.tiled=e.tiled||!1,this.tiledIndex=e.tiledIndex||null,this.lastAnimation=0,this.currentAnimation=0,this.sprite=new Image,this.sprite.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAgBAMAAACRPbx3AAAAFVBMVEUAAABScyP///8uNxmTuWMtNhnA3YtYE71vAAAAAXRSTlMAQObYZgAABHxJREFUWMPNl0+P0zAQxUOycGa0Ts/BSHsueJUzVt2eiVRzpgTl+38E3njqjGkLFAsQs3+Siavk1/c89qT55xFCICIcPVEIzX8XD96Q8Z6Yj0z40Pyd+FD93QMxGFGPA1jTbdrmOlprbVMX3RZ8sIfPagBNiJDvSBQnOgPeQLF8eagCHGeRIeCsArDfxxgnczQRQUZghis4OakScFm2PvmEs9+X0PfA62MfwwQJ/QaXgNeWhEgy8VAFOD+TAI51gD0RKM2Ew9GcMWwJ2KzAts7ir7ShE81jjcUeuk3UUzQREh4pAdmhvXLY2gHHmiqFs+8X+0QzHK4AjLGHxz5CyQlzMQEOttRqENOB/SNAqdKfSPh+dBaAc9UyA/UIbCZSzIBQSwlboWMpV8CHh+9XTPAp4dV45xhwcTUCNj5NQAbEIU6bs4IweSimICOmQ36+J1MSSpXm7GrcjU/2aXGuqQhD7C0B0PdE0wGXwAbFysIYmM0WgABSAuSkgOW4Sji7ZXbbqq2ujxIUDofFbxJga1tdatIZiFsBVKACUKr0AriU0LmxTsDmFX9XLhGiF31DCxMBJCm2AgIRP81aOv4SQKpUHb8BOFcCvjgYIkrzj9hjJrKIla9lkwUOQmaA04Y2hWVSpcjLcaTqMQJ5TWyWr/7A210IIR4iiEQ2BeQkSbgCdk9f7GmDR5aAUgQ6/qcAm+RxP+0BCE4B1BVFqoX9Zacz4Nv5/RsArqZKlQqCjm9LvnpAD0Dz+iPx8QMDpj0DUOUUxO8K3TkGeJqdbq0dktmtEsq4Ij0HjjrAz9IHfiUOTy/42hlJAaVk8qVxcV++2IUBVcJlcQWgjOfhjn4L0NoyO/eBJvBN0lacV+QS0NqUD2eY7egcgDoFZLqiV5HxvPd2ZH4HkCe7RuA+sCfjH/ZxiuTzZ2z2GMZenIzp2XMCVIuVB6mMjysgOXcvoAihWvoQKfZ+46VhpWJxtrrMILRVAJfj2DVaFcw8FoanosiA7+gR8/B+wGFYtUQfYkA1HY1PS+GUAdXj854ihVM+P+w6fSRwl8LhJOCuc1nAR1DeD2hXQPx4w1txP10CWm5p9G1EmkHVq0Nh7t496m2fn0VABQw7R9vsMACR3AHHfzkYAQpOPeLoDfV9LKrEFh5fttOwFoCOaFsA7jjRdQ8fgLVneZnyNuBl864NvGXrWMEpoo6Nf9VTH0kBVbJBX00UAQI+E6mEkDQZWq58voDq9LO3AO05BrHP8oH/CSD3gfSJYPUKaNO0EyS1WuMd+AKVHr9jGsWBwcE/3gUoQCoC8lZfNYLZM+DBvyRIaIJajBjyLa7eleFeFx5zFWspaIJZQPD2GlAFy2IAhVPQ2dwXcy4eEoXDHn2gfwCnJ7PeoSRaWXWS4Xkrnl7K4bgkOsVTwMKgZlBazmW3QgwyLoJ64tfiaTkRUIm8It30Q/1U99RipVE5bwOKYiuu5FmHNuU5M4Tynbw5eSLaUHNXaHNSXirU1Kyo/JKwNGXgHJS3h3mbNIfXL5YlmK/hl2jfAI6jDMvS6W0wAAAAAElFTkSuQmCC",this.frameSize=new a.default(32,32),this.totalFrames=4,this.frameIndex=0,this.tickCount=0,this.ticksPerFrame=12,this.patternCanvas=document.createElement("canvas"),this.patternCanvas.width=2*this.frameSize.x,this.patternCanvas.height=2*this.frameSize.y,this.patternContext=this.patternCanvas.getContext("2d"),this.patternContext.mozImageSmoothingEnabled=!1,this.patternContext.webkitImageSmoothingEnabled=!1,this.patternContext.msImageSmoothingEnabled=!1,this.patternContext.imageSmoothingEnabled=!1,this.patternContext.drawImage(this.sprite,this.frameSize.x*this.tiledIndex,0,this.frameSize.x,this.frameSize.y,0,0,2*this.frameSize.x,2*this.frameSize.y),this.alpha=1,this.playOnce=e.playOnce,this.Update=function(){n.animated&&(n.animations.forEach((function(e,t){t===n.currentAnimation&&(n.totalFrames=e.frames.length,n.lastAnimation!=n.currentAnimation&&(n.frameIndex=0,n.tickCount=0,n.lastAnimation=n.currentAnimation))})),n.tickCount++,n.tickCount>n.ticksPerFrame&&(n.tickCount=0,n.frameIndex<n.totalFrames-1?n.frameIndex++:n.frameIndex=0),n.playOnce&&n.frameIndex===n.totalFrames-1&&n.tickCount===n.ticksPerFrame&&n.gameObject.Destroy())},this.Draw=function(e){e.globalAlpha=n.alpha;var t=n.gameObject.transform;if(n.animated&&e.drawImage(n.sprite,n.animations[n.currentAnimation].frames[n.frameIndex]*n.frameSize.x,0,n.frameSize.x,n.frameSize.y,t.position.x,t.position.y,t.size.x,t.size.y),n.tiled){e.save(),e.translate(t.position.x,t.position.y);var o=e.createPattern(n.patternCanvas,"repeat");e.fillStyle=o,e.fillRect(0,0,t.size.x,t.size.y),e.restore()}e.globalAlpha=1}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default));n.default=i,t.exports=n.default},{"./Component.js":3,"./Game.js":5,"./Vector2.js":21}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.text=e.text||"TEST",this.font=e.font||"10px sans-serif",this.fontWeight=e.fontWeight||"normal",this.textAlign=e.textAlign||"start",this.fillStyle=e.fillStyle||"black",this.Draw=function(e){e.font=n.font,e.fontWeight=n.fontWeight,e.textAlign=n.textAlign,e.fillStyle=n.fillStyle,e.fillText(n.text,n.gameObject.transform.position.x,n.gameObject.transform.position.y)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./Component.js")).default);n.default=o,t.exports=n.default},{"./Component.js":3}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){for(var o=!0;o;){var r=e,a=t,i=n;u=void 0,o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(i)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=i,o=!0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.position=e.position,this.size=e.size}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(function(e){return e&&e.__esModule?e:{default:e}}(e("./Component.js")).default);n.default=o,t.exports=n.default},{"./Component.js":3}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.x=t,this.y=n}return o(e,null,[{key:"zero",value:function(){return new e(0,0)}}]),e}();n.default=r,t.exports=n.default},{}]},{},[1])</script>