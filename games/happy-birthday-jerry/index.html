<!doctype html><html><head><meta name=viewport content="width=device-width,user-scalable=no,viewport-fit=cover,maximum-scale=1,user-scalable=no"><title>Happy Birthday, Jerry! - js13kGames 2025</title><style>body,html{width:100%;height:100%;margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;overscroll-behavior:none;overflow:hidden;position:fixed;touch-action:none}body{display:flex;justify-content:center;align-items:center}#game{display:block;width:100%;height:100%;image-rendering:pixelated;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:none}</style></head><body></body></html><script>const t=document.createElement("canvas"),e=t.getContext("2d");e.imageSmoothingEnabled=!1;const o=800,n=600;function a(){const t=window.innerWidth,e=window.innerHeight;if(t>e){const a=e/n,i=(t-a*o)/a;return{width:Math.floor(o+i),height:n}}{const a=t/o,i=(e-a*n)/a;return{width:o,height:Math.floor(n+i)}}}let{width:i,height:r}=a();t.id="game",t.width=i,t.height=r,t.style.width="100%",t.style.height="100%",document.body.appendChild(t);const l=120;let c=r-l;const f={x:50,y:c,width:32,height:32,velocityY:0,velocityX:0,t:!0,o:!1,angle:0,i:0,h:0,l:0,M:0,u:!1,A:!1},s={x:0,y:0};let h=0,d=0,m=1,y=0;const u=100,x=50,g=200,M=new Array(x);let T=0;const p=new Array(u);let A=0;const v=new Array(g);let w=0;const S=new Array(x);for(let t=0;t<x;t++){S[t]=new Array(5);for(let e=0;e<5;e++)S[t][e]={x:0,y:0,p:0}}for(let t=0;t<u;t++)p[t]={x:0,y:0,width:0,height:0,velocityX:0,color:"",m:!1,q:0,S:0};for(let t=0;t<x;t++)M[t]={x:0,y:0,p:0,opacity:0,velocityX:0,R:S[t],k:0};for(let t=0;t<g;t++)v[t]={x:0,y:0,color:"#ff69b4",type:0};const b=new Array(400);let k=0;for(let t=0;t<400;t++)b[t]={x:0,y:0,velocityX:0,velocityY:0,v:0,color:"",size:0,angle:0,B:0};const O=new Image;O.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAYAAAAzI3woAAAAAXNSR0IArs4c6QAAAItJREFUSIntldsKgDAMQ7fh//9yfF7tvR2CmKcS5JjFMsf49WHB6ZU4KwiGMGteiHM5AZmXpjiLM9+U1tDRJiRxDSEIkZ5NcRYxTAAAdu7iTC5lQm2cjqWmYUqcaqDWMBQYrVkK08XZltG6hbXFpb7GfTDor8PbmPdTRbnbDk1mtk7kacnidl3AZ3QDlt087b4sEH4AAAAASUVORK5CYII=";const I=new Image;I.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAOFJREFUOI2lUqsOwjAUPZ0iTfiEORJSicQgEHwKYsGgJjY5xNQMmeBTJiZmkMiGBLdPIFlwQ7V0t+22hKPu65xze1PgTzBfQyZVb+bicnDOWkVKpKBCOnERm6jEroxGhdgcVwBYdCd8+NUSCaaICpSsEJjuqzgdNGlOIZOqH2zwyjOM5dl7reMmKgEATG3geuMcBOqalGy6uVDU8e+IRR3roorT5RO054L+B8ftphchh2w7AMB5n2uSq367PxgADI4o2w4i5F5HEXKrPvkPTHcXtIBaydzCJ6RmrQ3Mhg905gsYkmbkPNV3MAAAAABJRU5ErkJggg==";let R=3;const E=[];let V=!1,P=!1,Y=0,q=0,X=0,B=parseInt(localStorage.getItem("birthdayGameHighScore")||"0"),G=0,D=0,C="",z=1,L=0,J="",$=1,j=0,H=0;const U=150;let K=!1,W=0;const Q=new Array(50);let F=0;for(let t=0;t<50;t++)Q[t]={x:0,y:0,velocityX:0,velocityY:0,rotation:0,B:0,I:"",color:"",size:0,v:0};let N=.7;const Z=new(window.AudioContext||window.webkitAudioContext);function _(t,e,o,n){F=0;const a=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b","#eb4d4b","#6c5ce7"];for(let i=0;i<t.length&&F<50;i++){const r=t[i];if(" "===r)continue;const l=e+i*n,c=Q[F];c.x=l,c.y=o,c.velocityX=15*(Math.random()-.5),c.velocityY=10*-Math.random()-5,c.rotation=0,c.B=.3*(Math.random()-.5),c.I=r,c.color=a[i%a.length],c.size=48,c.v=60,F++}}function tt(){const t=Z.createOscillator(),e=Z.createGain();t.connect(e),e.connect(Z.destination),t.type="sine",t.frequency.setValueAtTime(200,Z.currentTime),t.frequency.exponentialRampToValueAtTime(400,Z.currentTime+.1),e.gain.setValueAtTime(.3,Z.currentTime),e.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.2),t.start(Z.currentTime),t.stop(Z.currentTime+.2)}function et(){const t=Z.createOscillator(),e=Z.createGain();t.connect(e),e.connect(Z.destination),t.type="square",t.frequency.setValueAtTime(800,Z.currentTime),t.frequency.exponentialRampToValueAtTime(100,Z.currentTime+.05),e.gain.setValueAtTime(.2,Z.currentTime),e.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.05),t.start(Z.currentTime),t.stop(Z.currentTime+.05)}function ot(){[{O:262,delay:0,duration:200},{O:262,delay:200,duration:200},{O:294,delay:400,duration:400},{O:262,delay:800,duration:400},{O:349,delay:1200,duration:400},{O:329,delay:1600,duration:600}].forEach(t=>{setTimeout(()=>{const e=Z.createOscillator(),o=Z.createGain();e.connect(o),o.connect(Z.destination),e.type="sine",e.frequency.setValueAtTime(t.O,Z.currentTime),o.gain.setValueAtTime(.15,Z.currentTime),o.gain.exponentialRampToValueAtTime(.01,Z.currentTime+t.duration/1e3),e.start(Z.currentTime),e.stop(Z.currentTime+t.duration/1e3)},t.delay)})}function nt(){[{O:262,delay:0,duration:200},{O:262,delay:200,duration:200},{O:523,delay:400,duration:400},{O:440,delay:800,duration:400},{O:349,delay:1200,duration:400},{O:329,delay:1600,duration:400},{O:294,delay:2e3,duration:400}].forEach(t=>{setTimeout(()=>{const e=Z.createOscillator(),o=Z.createGain();e.connect(o),o.connect(Z.destination),e.type="sine",e.frequency.setValueAtTime(t.O,Z.currentTime),o.gain.setValueAtTime(.2,Z.currentTime),o.gain.exponentialRampToValueAtTime(.01,Z.currentTime+t.duration/1e3),e.start(Z.currentTime),e.stop(Z.currentTime+t.duration/1e3)},t.delay)})}for(let t=0;t<10;t++){const t=30*Math.random()+20,e=Math.floor(4*Math.random())+2,o=M[T];o.x=Math.random()*i*3,o.y=300*Math.random()+50,o.p=t,o.opacity=.4*Math.random()+.3,o.velocityX=-.2-.3*Math.random(),o.k=e;for(let n=0;n<e;n++){const e=o.R[n];e.x=(Math.random()-.5)*t*1.4,e.y=(Math.random()-.5)*t*1,e.p=t*(.5+.4*Math.random())}T++}for(let t=0;t<30;t++){const t=v[w];t.x=Math.random()*i*4,t.y=Math.random()*l,t.type=0;const e=["#ff69b4","#ff1493","#dda0dd","#da70d6","#ffffff","#ffb6c1"];t.color=e[Math.floor(Math.random()*e.length)],w++}A=0;for(let t=0;t<8&&A<u;t++){const e=["#ff3333","#33ff33","#ffff33","#ff33ff","#3333ff"],o=60,n=40,a=1.2*o,r=t%2==0?100*Math.random()+U:350*Math.random()+U,l=f.x+i+200*t+150*Math.random(),c=p[A];c.x=l,c.width=o,c.height=a+n,c.y=r,c.velocityX=-1.5,c.color=e[Math.floor(Math.random()*e.length)],c.m=!1,c.q=0,c.S=0,A++,7===t&&(H=l)}let at=!1,it=0,rt=0,lt=0;function ct(t){e.save(),e.globalAlpha=t.opacity,e.globalAlpha=1,e.fillStyle="#ffffff",e.globalCompositeOperation="screen";for(let o=0;o<t.k;o++){const n=t.R[o],a=Math.floor(t.x+n.x-s.x),i=Math.floor(t.y+n.y-s.y);e.beginPath(),e.arc(a,i,n.p,0,2*Math.PI),e.fill()}e.restore()}function ft(t){const o=Math.floor(t.x-s.x),n=Math.floor(c+t.y-s.y);e.save(),e.fillStyle=t.color;for(let t=0;t<5;t++){const a=t*Math.PI*2/5,i=o+4*Math.cos(a),r=n-8+4*Math.sin(a);e.beginPath(),e.arc(i,r,3,0,2*Math.PI),e.fill()}e.fillStyle="#ffff00",e.beginPath(),e.arc(o,n-8,2,0,2*Math.PI),e.fill(),e.restore()}function st(t){const o=Math.floor(t.x-s.x),n=c-t.y,a=Math.floor(n-s.y),i=o+t.width/2,r=a+36;e.fillStyle=t.color,e.beginPath(),e.ellipse(i,r,t.width/2,36,0,0,2*Math.PI),e.fill(),e.fillStyle=t.color,e.beginPath();const l=a+72-4,f=a+72+2;e.moveTo(i,l),e.lineTo(i-3,f),e.lineTo(i+3,f),e.closePath(),e.fill(),e.strokeStyle="#ffffff",e.lineWidth=2,e.beginPath();const h=f;e.moveTo(i,h);for(let t=1;t<=8;t++){const o=t/8,n=h+40*o,a=4*o,r=Math.sin(.1*n+.1*q)*a;e.lineTo(i+r,n)}e.stroke()}function ht(t,e,o){let n=0;for(let a=0;a<400&&n<20;a++)if(b[a].v<=0){const i=b[a];i.x=t,i.y=e,i.velocityX=12*(Math.random()-.5),i.velocityY=12*(Math.random()-.5),i.v=40+20*Math.random(),i.color=o,i.size=10*Math.random()+6,i.angle=Math.random()*Math.PI*2,i.B=.3*(Math.random()-.5),n++,a>=k&&(k=a+1)}}function dt(t){const o=Math.floor(t.x-s.x),n=Math.floor(t.y-s.y);e.save(),e.translate(o+t.size/2,n+t.size/2),e.rotate(t.angle),e.fillStyle=t.color,e.fillRect(-t.size/2,-t.size/2,t.size,t.size),e.restore()}function mt(t,e){const o=c-e.y,n=e.x+e.width/2,a=o+36,i=e.width/2,r=n-i,l=a-36,f=2*i;return t.x<r+f&&t.x+t.width>r&&t.y<l+72&&t.y+t.height>l}let yt=0,ut=0;const xt=1e3/60;let gt=0;function Mt(){if(!V&&!K){K=!0,W=0;const t="Happy Birthday, Jerry!",e=48;return _(t,i/2-t.length*e/2,r/2-100,e),ot(),void setTimeout(()=>{V=!0,K=!1,R=3},1e3)}if(P&&!K){if(Date.now()-Y<1e3)return;K=!0,W=0;const t="Great Job!",e=36;return _(t,i/2-t.length*e/2,r/2-50,e),ot(),void setTimeout(()=>{P=!1,V=!0,K=!1,R=3,X=0,G=0,D=0,C="",z=1,L=0,J="",$=1,j=0,H=0,f.x=50,f.y=c,f.velocityX=0,f.velocityY=0,f.t=!0,f.o=!1,f.angle=0,f.A=!1,s.x=0,s.y=c-r+l,h=0,y=0,d=0,m=1,A=0,T=0,w=0;for(let t=0;t<k;t++)b[t].v=0;k=0;const t=["#ff3333","#33ff33","#ffff33","#ff33ff","#3333ff"];for(let e=0;e<8&&A<u;e++){const o=e%2==0?100*Math.random()+U:350*Math.random()+U,n=p[A];n.x=f.x+i/2+200*e+150*Math.random(),n.width=60,n.height=112,n.y=o,n.velocityX=-1.5,n.color=t[Math.floor(Math.random()*t.length)],n.m=!1,n.q=0,n.S=0,A++}for(let t=0;t<10&&T<x;t++){const t=30*Math.random()+20,e=Math.floor(4*Math.random())+2,o=M[T];o.x=Math.random()*i*2,o.y=300*Math.random()+50,o.p=t,o.opacity=.4*Math.random()+.3,o.velocityX=-.2-.3*Math.random(),o.k=e;for(let n=0;n<e;n++){const e=o.R[n];e.x=(Math.random()-.5)*t*1.4,e.y=(Math.random()-.5)*t*1,e.p=t*(.5+.4*Math.random())}T++}for(let t=0;t<20&&w<g;t++){const t=v[w];t.x=Math.random()*i*2,t.y=Math.random()*l,t.type=0;const e=["#ff69b4","#ff1493","#dda0dd","#da70d6","#ffffff","#ffb6c1"];t.color=e[Math.floor(Math.random()*e.length)],w++}},1e3)}if(!at&&!P){at=!0;const t=performance.now();f.t?(f.velocityY=-1.2,f.t=!1,f.A=!1,rt=t,function(){const t=Z.createOscillator(),e=Z.createGain();t.connect(e),e.connect(Z.destination),t.type="triangle",t.frequency.setValueAtTime(150,Z.currentTime),t.frequency.exponentialRampToValueAtTime(300,Z.currentTime+.1),e.gain.setValueAtTime(.2,Z.currentTime),e.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.1),t.start(Z.currentTime),t.stop(Z.currentTime+.1)}()):t-rt<300&&!f.A&&!f.o?(f.velocityY=-1.5,f.A=!0,f.u=!0,f.M=.3,rt=t,function(){const t=Z.createOscillator(),e=Z.createGain();t.connect(e),e.connect(Z.destination),t.type="sine",t.frequency.setValueAtTime(400,Z.currentTime),t.frequency.exponentialRampToValueAtTime(800,Z.currentTime+.15),e.gain.setValueAtTime(.25,Z.currentTime),e.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.15),t.start(Z.currentTime),t.stop(Z.currentTime+.15)}()):(t-lt<300?(f.velocityY=-1.5,it=0):f.o?f.o=!1:(f.o=!0,f.velocityY=Math.max(f.velocityY,2),f.velocityX=7),rt=t)}}function Tt(){at=!1,it=0,!f.t&&f.o&&(f.o=!1)}requestAnimationFrame(function t(o=0){requestAnimationFrame(t);const n=Math.min(o-yt,100);if(yt=o,ut+=n,ut<xt)return;if(ut-=xt,gt=o,q++,K){W=Math.min(1,W+.02);for(let t=0;t<F;t++){const e=Q[t];e.v>0&&(e.x+=e.velocityX,e.y+=e.velocityY,e.velocityY+=.5,e.rotation+=e.B,e.v--)}}e.save(),e.translate(i/2,r/2),e.scale(m,m),Math.abs(d)>.01&&e.rotate(d),e.translate(-i/2,-r/2),e.fillStyle="#87CEEB",e.fillRect(-i,2*-r,3*i,4*r),e.fillStyle="#27ae60",e.fillRect(-i,c-s.y,3*i,3*r);let a=0;for(let t=0;t<w;t++){const e=v[t];if(e.x>=s.x-.5*i){if(t!==a){const o=v[a];v[a]=e,v[t]=o}ft(e),a++}}w=a;let S=0;for(let t=0;t<T;t++){const e=M[t];if(e.x+=e.velocityX,e.x>=s.x-.5*i){if(t!==S){const o=M[S];M[S]=e,M[t]=o}ct(e),S++}}T=S;let _=0;for(let t=0;t<A;t++){const e=p[t];e.x+=e.velocityX;let o=!0;if(e.x<s.x-.5*i)o=!1;else{if(e.m&&(e.q=(e.q||0)+1,e.S=(e.S||0)+.3,e.y-=e.S,e.q>=10)){const t=c-e.y;ht(e.x+e.width/2,t+e.height/2,e.color),o=!1}if(o&&mt(f,e)&&!e.m){e.m=!0,e.q=0,e.S=1,G++,e.color===C?D++:(D=1,C=e.color);let t=1,n=1;if(G>=10&&(t=Math.floor(G/10)+1,G%10==0&&(J=`${G} BALLOON STREAK! x${t}`,L=120,j=60,nt())),D>=3&&(n=D,(3===D||D>3)&&(J=`COLOR COMBO x${D}!`,L=120,j=60,nt())),z=t*n,X+=1*z,X>B&&(B=X,localStorage.setItem("birthdayGameHighScore",B.toString())),f.velocityY>0)tt(),lt=performance.now(),f.velocityY=-10.5,f.velocityX=5,at&&(f.velocityY=-1.5,it=0),f.u=!0,f.M=.3,f.A=!1;else{et();const t=c-e.y;ht(e.x+e.width/2,t+e.height/2,e.color),o=!1}}}if(o){if(t!==_){const o=p[_];p[_]=e,p[t]=o}st(e),_++}}A=_,Math.random()<.02&&function(){if(T>=x)return;const t=30*Math.random()+20,e=Math.floor(4*Math.random())+2,o=M[T];o.x=s.x+1.5*i+400*Math.random(),o.y=300*Math.random()+50,o.p=t,o.opacity=.4*Math.random()+.3,o.velocityX=-.2-.3*Math.random(),o.k=e;for(let n=0;n<e;n++){const e=o.R[n];e.x=(Math.random()-.5)*t*1.4,e.y=(Math.random()-.5)*t*1,e.p=t*(.5+.4*Math.random())}T++}(),Math.random()<.08&&function(){if(w>=g)return;const t=v[w];t.x=s.x+1.5*i+200*Math.random(),t.y=Math.random()*l,t.type=0;const e=["#ff69b4","#ff1493","#dda0dd","#da70d6","#ffffff","#ffb6c1"];t.color=e[Math.floor(Math.random()*e.length)],w++}(),Math.random()<.06&&function(){if(A>=u)return;const t=["#ff3333","#33ff33","#ffff33","#ff33ff","#3333ff"];let e;e=0===H||s.x+1.5*i-H>120?100*Math.random()+U:350*Math.random()+U;const o=s.x+1.5*i+200*Math.random(),n=p[A];n.x=o,n.width=60,n.height=112,n.y=e,n.velocityX=-1.5,n.color=t[Math.floor(Math.random()*t.length)],n.m=!1,n.q=0,n.S=0,A++,H=o}();for(let t=0;t<k;t++){const e=b[t];e.v>0&&(e.x+=e.velocityX,e.y+=e.velocityY,e.velocityY+=.2,e.angle+=e.B,e.v--,e.v>0&&dt(e))}if(f.t?(f.l++,f.l>=15&&(f.h=(f.h+1)%2,f.l=0)):f.h=0,f.u)f.angle+=f.M,f.M*=.95,f.M<.05&&(f.u=!1,f.M=0);else{f.o?f.i=Math.PI/4:f.i=0;let t=f.i-f.angle;for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;f.angle+=.1*t}P||(at&&it<15&&f.velocityY<0&&(f.velocityY+=-.9,it++),f.o,f.velocityY+=.2,f.t?f.velocityX=5:f.o||(f.velocityX=5),f.y+=f.velocityY,f.x+=f.velocityX);const ot=f.o?100:0;h+=.015*(ot-h);let rt=0;f.o&&!f.u&&(rt=.05*Math.max(-Math.PI/3,Math.min(Math.PI/3,f.angle))),d+=.02*(rt-d);let Mt=1;f.t||(Mt=f.o?.8:.9),m+=.08*(Mt-m);let Tt=0;if(f.t||(Tt=f.o?-60:-30),y+=.08*(Tt-y),s.x=f.x-i/5+h,s.y=c-r+l+y,function(t){return t.y+t.height}(f)>=c?(!f.t&&V&&(function(){if(R>0){const t=R-1;E.push({x:30+40*t,y:30,velocityX:4*Math.random()-2,velocityY:-3-2*Math.random(),angle:0,B:.3*(Math.random()-.5),scale:1,opacity:1,v:60}),R--,0===R&&(P=!0,Y=Date.now(),[{O:523,delay:0,duration:200},{O:523,delay:200,duration:200},{O:493,delay:400,duration:400},{O:392,delay:800,duration:400},{O:440,delay:1200,duration:400},{O:392,delay:1600,duration:800}].forEach(t=>{setTimeout(()=>{const e=Z.createOscillator(),o=Z.createGain();e.connect(o),o.connect(Z.destination),e.type="sine",e.frequency.setValueAtTime(t.O,Z.currentTime),o.gain.setValueAtTime(.15,Z.currentTime),o.gain.exponentialRampToValueAtTime(.01,Z.currentTime+t.duration/1e3),e.start(Z.currentTime),e.stop(Z.currentTime+t.duration/1e3)},t.delay)}))}}(),function(){const t=Z.createOscillator(),e=Z.createGain();t.connect(e),e.connect(Z.destination),t.type="sawtooth",t.frequency.setValueAtTime(80,Z.currentTime),t.frequency.exponentialRampToValueAtTime(40,Z.currentTime+.1),e.gain.setValueAtTime(.3,Z.currentTime),e.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.1),t.start(Z.currentTime),t.stop(Z.currentTime+.1)}(),G=0,D=0,C="",z=1),f.y=c-f.height,f.velocityY=0,f.t=!0,f.o=!1,f.u=!1,f.M=0,f.A=!1,it=0):f.t=!1,function(){const t=Math.floor(f.x+f.width/2-s.x+0),o=Math.floor(c-s.y+60-30),n=.5*(c-(f.y+f.height))/400,a=Math.max(.25,Math.min(1.2,1-n)),i=Math.max(.3,.5*a);e.save(),e.globalAlpha=i,e.fillStyle="#111",e.beginPath(),e.ellipse(t,o,f.width*a*1.7,f.height*a*.5,0,0,2*Math.PI),e.fill(),e.restore()}(),function(){const t=18*f.h+1;e.save(),e.imageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1;const o=Math.floor(f.x+f.width/2-s.x),n=Math.floor(f.y+f.height/2-s.y);e.translate(o,n),e.rotate(f.angle),e.drawImage(O,t,1,16,16,-48,-48,96,96),e.restore()}(),e.restore(),V&&!P&&function(){for(let t=0;t<R;t++)e.save(),e.imageSmoothingEnabled=!1,e.translate(30+40*t,30),e.drawImage(I,-16,-16,32,32),e.restore();e.save(),j>0?($=1+.2*Math.sin(.3*j),j--):$=1,e.font="20px monospace",e.textAlign="right",e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=3;const t=`High Score: ${B}`;e.strokeText(t,i-20,30),e.fillText(t,i-20,30),e.save(),e.translate(i-20,60),e.scale($,$);const o=z>1?`Current Score: ${X} x${z}`:`Current Score: ${X}`;z>1&&(e.fillStyle="#ffff00"),e.strokeText(o,0,0),e.fillText(o,0,0),e.restore(),e.restore(),e.save(),e.font="20px monospace",e.textAlign="right",e.fillStyle=C||"#ffffff",e.strokeStyle="#000000",e.lineWidth=3;const n=`Color Streak: ${D}`;e.strokeText(n,i-20,90),e.fillText(n,i-20,90),e.fillStyle="#ffffff";const a=`Pop Streak: ${G}`;if(e.strokeText(a,i-20,115),e.fillText(a,i-20,115),e.restore(),L>0){e.save(),e.font="bold 48px monospace",e.textAlign="center",e.textBaseline="middle";const t=5*L%360;e.fillStyle=`hsl(${t}, 70%, 50%)`,e.strokeStyle="#000",e.lineWidth=4;const o=10*Math.sin(.2*L),n=1+.2*Math.sin(.3*L);e.translate(i/2,r/3+o),e.scale(n,n),e.strokeText(J,0,0),e.fillText(J,0,0),e.restore(),L--}for(let t=E.length-1;t>=0;t--){const o=E[t];e.save(),e.imageSmoothingEnabled=!1,e.globalAlpha=o.opacity,e.translate(o.x,o.y),e.rotate(o.angle),e.scale(o.scale,o.scale),e.drawImage(I,-16,-16,32,32),e.restore(),o.x+=o.velocityX,o.y+=o.velocityY,o.velocityY+=.3,o.angle+=o.B,o.opacity*=.98,o.v--,o.v<=0&&E.splice(t,1)}}(),V||function(){if(N=K?Math.max(0,.4*(1-W)):.4,e.fillStyle=`rgba(0, 0, 0, ${N})`,e.fillRect(0,0,i,r),K)return;e.font="bold 48px monospace",e.textAlign="center",e.strokeStyle="#000",e.lineWidth=4;let t=i/2-264;for(let o=0;o<22;o++){const n="Happy Birthday, Jerry!"[o],a=20*Math.sin(.006*q+.3*o),i=(20*o+.1*q)%360;e.fillStyle=`hsl(${i}, 70%, 50%)`,e.save(),e.translate(t+24*o,r/3+a),e.strokeText(n,0,0),e.fillText(n,0,0),e.restore()}e.font="24px monospace",e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=3,e.textAlign="center";const o="Pop the balloons to celebrate Jerry's birthday!";e.fillStyle="#45b7d1",e.strokeText(o,i/2,r/2),e.fillText(o,i/2,r/2),e.fillStyle="#fff";const n="Press space, tap, or click to jump";e.strokeText(n,i/2,r/2+40),e.fillText(n,i/2,r/2+40);const a="Hold jump to dive";e.strokeText(a,i/2,r/2+80),e.fillText(a,i/2,r/2+80);const l="Press jump twice to double jump (once per jump)";e.strokeText(l,i/2,r/2+120),e.fillText(l,i/2,r/2+120),e.fillStyle="#ff6b6b";const c="If you hit the ground, you lose a cupcake!";e.strokeText(c,i/2,r/2+160),e.fillText(c,i/2,r/2+160);const f="- Press jump to start -",s=1+.1*Math.sin(.005*q);e.font=20*s+"px monospace",e.fillStyle="#ffff00",e.strokeText(f,i/2,r-100),e.fillText(f,i/2,r-100)}(),P&&function(){if(N=K?Math.max(0,.3*(1-W)):.3,e.fillStyle=`rgba(0, 0, 0, ${N})`,e.fillRect(0,0,i,r),K)return;e.font="bold 64px monospace",e.textAlign="center",e.strokeStyle="#000",e.lineWidth=4;let t=i/2-160;for(let o=0;o<10;o++){const n="Great Job!"[o],a=25*Math.sin(.006*q+.3*o),i=(40*o+.1*q)%360;e.fillStyle=`hsl(${i}, 70%, 50%)`,e.save(),e.translate(t+32*o,r/3+a),e.strokeText(n,0,0),e.fillText(n,0,0),e.restore()}e.font="32px monospace",e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=3,e.textAlign="center";const o=`Score: ${X}`;e.strokeText(o,i/2,r/2+20),e.fillText(o,i/2,r/2+20);const n=`High Score: ${B}`;e.strokeText(n,i/2,r/2+60),e.fillText(n,i/2,r/2+60);const a=Date.now()-Y,l=Math.min(1,a/1e3);if(l>0){e.save(),e.globalAlpha=l;const t="- Press jump to play again -",o=1+.1*Math.sin(.005*q);e.font=24*o+"px monospace",e.fillStyle="#ffff00",e.strokeText(t,i/2,r-100),e.fillText(t,i/2,r-100),e.restore()}}(),K){e.save(),e.font="bold 48px monospace",e.textAlign="center",e.textBaseline="middle";for(let t=0;t<F;t++){const o=Q[t];if(o.v>0){const t=o.v/60;e.globalAlpha=t,e.fillStyle=o.color,e.strokeStyle="#000",e.lineWidth=4,e.save(),e.translate(o.x,o.y),e.rotate(o.rotation),e.strokeText(o.I,0,0),e.fillText(o.I,0,0),e.restore()}}e.restore()}}),window.addEventListener("keydown",t=>{" "===t.key&&(t.preventDefault(),Mt())}),window.addEventListener("keyup",t=>{" "===t.key&&(t.preventDefault(),Tt())}),window.addEventListener("mousedown",t=>{t.preventDefault(),Mt()}),window.addEventListener("mouseup",t=>{t.preventDefault(),Tt()}),window.addEventListener("touchstart",t=>{t.preventDefault(),Mt()},{passive:!1}),window.addEventListener("touchend",t=>{t.preventDefault(),Tt()},{passive:!1}),window.addEventListener("touchcancel",t=>{t.preventDefault(),Tt()},{passive:!1}),window.addEventListener("contextmenu",t=>{t.preventDefault()}),window.addEventListener("selectstart",t=>{t.preventDefault()}),window.addEventListener("dragstart",t=>{t.preventDefault()}),window.addEventListener("resize",()=>{const o=a();i=o.width,r=o.height,t.width=i,t.height=r,e.imageSmoothingEnabled=!1,c=r-l,f.t&&(f.y=c-f.height)})</script>