<title>Dr1v3n Wild - js13kGames 2024</title><body><script>let c=Math.PI,aa=(a,t=1)=>(a%t+t)%t,e=(a,t=0,i=1)=>a<t?t:i<a?i:a,da=(a,t,i)=>(i-=t)?e((a-t)/i):0,g=(a,t,i)=>t+e(a)*(i-t),fa=(a=1,t=0)=>a+e(Math.random())*(t-a);function k(a,t,i){var e=180/c,s=new DOMMatrix;return a&&s.translateSelf(a.x,a.y,a.z),t&&s.rotateSelf(t.x*e,t.y*e,t.z*e),i&&s.scaleSelf(i.x,i.y,i.z),s}function ha(t){for(let a=t.length;a;){var i=ia(a--);[t[a],t[i]]=[t[i],t[a]]}return t}function ja(a){var t=a%60|0,i=a%1*1e3|0;return `${a/60|0}:${t<10?"0"+t:t}.`+(i<10?"00":i<100?"0":"")+i}let u=(a,t,i)=>null==t&&null==i?new ka(a,a,a):new ka(a,t,i);function oa(a,t){return u(a.x-t.x,a.y-t.y,a.z-t.z)}function qa(a){var t=ta;return u(a.x/t.x,a.y/t.y,a.z/t.z)}function ua(a,t){return u(a.y*t.z-a.z*t.y,a.z*t.x-a.x*t.z,a.x*t.y-a.y*t.x)}function va(a){var t=wa,i=Math.cos(t),t=Math.sin(t);return u(a.x*i-a.z*t,a.y,a.x*t+a.z*i)}function xa(a,t){var i=Math.cos(t);return t=Math.sin(t),u(a.x*i-a.y*t,a.x*t+a.y*i,a.z)}function ya(a,t=1){return A(a.x,a.y,a.z,t)}class ka{constructor(a=0,t=0,i=0){this.x=a,this.y=t,this.z=i}N(){return u(this.x,this.y,this.z)}abs(){return u(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}add(a){return u(this.x+a.x,this.y+a.y,this.z+a.z)}multiply(a){return u(this.x*a.x,this.y*a.y,this.z*a.z)}scale(a){return u(this.x*a,this.y*a,this.z*a)}length(){return (this.x**2+this.y**2+this.z**2)**.5}normalize(a=1){var t=this.length();return t?this.scale(a/t):u(a)}max(a){return u(Math.max(this.x,a.x),Math.max(this.y,a.y),Math.max(this.z,a.z))}min(a){return u(Math.min(this.x,a.x),Math.min(this.y,a.y),Math.min(this.z,a.z))}floor(){return u(floor(this.x),floor(this.y),floor(this.z))}round(){return u(Math.round(this.x),Math.round(this.y),Math.round(this.z))}m(a,t){return this.add(oa(a,this).scale(e(t)))}transform(a){return a=a.transformPoint(this),u(a.x,a.y,a.z)}}let Aa=(a,t,i,e)=>A(a,t,i,e);function A(a=0,t=0,i=1,s=1){var c=new Ba,h=(a=aa(a,1),t=e(t),i=e(i),(a,t,i)=>6*(i=aa(i,1))<1?a+6*(t-a)*i:2*i<1?t:3*i<2?a+(t-a)*(4-6*i):a);return c.r=h(i=2*i-(t=i<.5?i*(1+t):i+t-i*t),t,a+1/3),c.v=h(i,t,a),c.b=h(i,t,a-1/3),c.a=s,c}function Ca(a,t=.1){return new Ba(e(a.r+t),e(a.v+t),e(a.b+t),a.a)}class Ba{constructor(a=1,t=1,i=1,e=1){this.r=a,this.v=t,this.b=i,this.a=e}N(){return new Ba(this.r,this.v,this.b,this.a)}m(a,t){return t=e(t),new Ba(g(t,this.r,a.r),g(t,this.v,a.v),g(t,this.b,a.b),g(t,this.a,a.a))}toString(){return `rgb(${255*this.r},${255*this.v},${255*this.b},${this.a})`}}function ia(a=1,t=0){return 0|B(J,a,t)}function B(a,t=1,i=0){return a.seed^=a.seed<<13,a.seed^=a.seed>>>17,a.seed^=a.seed<<5,i+(t-i)*Math.abs(a.seed%1e9)/1e9}function N(a,t){for(a.seed=t+1|0,t=3;t--;)B(a)}function O(a,t,i){return B(a,t,i)*a.sign()}function P(a,t=.5){return B(a)<t}function Da(a=0){var t=J;return a*=B(t)**.5,t=B(t,2*c),u(a*Math.cos(t),a*Math.sin(t))}function Ea(a,t=1){return a[B(J)**t*a.length|0]}class Fa{constructor(a=0){N(this,a)}sign(){return P(this)?-1:1}angle(a=1){return B(this,2*Math.PI*a)}P(a,t=.1,i=0){var s=e((1-B(J,i))*(a.r+O(this,t))),c=e((1-B(J,i))*(a.v+O(this,t)));return t=e((1-B(J,i))*(a.b+O(this,t))),new Ba(s,c,t,a.angle)}}let J=new Fa;function Ga(a){return null!=a.time}class Ha{constructor(){this.setTime=this.time=void 0}set(a=0){this.time=Ia+a,this.setTime=a}active(){return Ia<this.time}get(){return Ga(this)?Ia-this.time:0}}let Ja,Ka,La,Q,Ra,Sa,Ta,Ua;function Va(a,t){return t=Q.createShader(t),Q.shaderSource(t,a),Q.compileShader(t),t}function Wa(){var a=Q.createProgram();return Q.attachShader(a,Va("#version 300 es\nprecision highp float;uniform vec4 l,g,a,f;uniform mat4 m,o;in vec4 p,n,u,c;out vec4 v,d,q;void main(){gl_Position=m*o*p;v=u,q=f;d=c*(a+vec4(g.xyz*dot(l.xyz,normalize((transpose(inverse(o))*n).xyz)),1));}",35633)),Q.attachShader(a,Va("#version 300 es\nprecision highp float;in vec4 v,d,q;uniform sampler2D s;out vec4 c;void main(){c=v.z>0.?d:texture(s,v.xy)*d;float f=clamp(gl_FragCoord.z/gl_FragCoord.w/1e5,0.,1.);v.w>0.?c:c=vec4(mix(c.xyz,q.xyz,f*f),c.a*clamp(4.-gl_FragCoord.z/gl_FragCoord.w/2e4,0.,1.));}",35632)),Q.linkProgram(a),a}let Ya=(a,t=1)=>{t?Q.enable(a):Q.disable(a)};function Za(a=0){Q.polygonOffset(0,-a),Ya(32823,!!a)}function $a(a=1,t=1){Ya(2929,!!a),Q.depthMask(!!t)}function ab(a=new DOMMatrix){var t=Ka?bb:cb,i=Ka?db:R;Q.uniform4f(Q.getUniformLocation(Ra,"l"),eb.x,eb.y,eb.z,0),Q.uniform4f(Q.getUniformLocation(Ra,"g"),t.r,t.v,t.b,0),Q.uniform4f(Q.getUniformLocation(Ra,"a"),i.r,i.v,i.b,0),Q.uniform4f(Q.getUniformLocation(Ra,"f"),fb.r,fb.v,fb.b,0),t=Sa.subarray(0,16*Ta),a=a.scaleSelf(100,100,100),Q.uniformMatrix4fv(Q.getUniformLocation(Ra,"o"),0,a.toFloat32Array()),Q.bufferSubData(34962,0,t),Q.drawArrays(5,0,Ta),Ta=0,++Ua}function gb(a,t,i,e){for(var s=a.length,c=(s<2e4-Ta||ab(),u(1));s--;)jb(a[s],t?t[s]:c,e?e[s]:c,i)}function kb(a,t,i,e){var s=a.length,c=(s+2<2e4-Ta||ab(),u(1));for(jb(a[s-1],c,c,i);s--;)jb(a[s],t?t[s]:c,e?e[s]:c,i);jb(a[0],c,c,i)}function lb(a,t){var i=a.length,e=(i+2<2e4-Ta||ab(),u(1));for(jb(a[i-1],e,e,t[i-1]);i--;)jb(a[i],e,e,t[i]);jb(a[0],e,e,t[0])}function jb(a,t,i,e){var s=16*Ta;Sa[s++]=a.x/100,Sa[s++]=a.y/100,Sa[s++]=a.z/100,Sa[s++]=1,Sa[s++]=t.x,Sa[s++]=t.y,Sa[s++]=t.z,Sa[s++]=0,Sa[s++]=i.x,Sa[s++]=i.y,Sa[s++]=i.z,Sa[s++]=!Ja,Sa[s++]=e.r,Sa[s++]=e.v,Sa[s++]=e.b,Sa[+s]=e.a,++Ta}let eb,bb,db,fb,mb,ob,pb,sb,tb,ub,R=new Ba,cb=new Ba(0,0,0),vb=new Ba(1,0,0),wb=new Ba(1,1,0),xb=new Ba(0,1,0),yb=new Ba(0,0,1),zb=new Ba(.5,.5,.5);class Ab{constructor(a){var t=Bb;this.g=qa(a.add(u(2))),this.size=qa(t.add(u(-4)))}}function Db(a,t=1){for(var i=[],s=[],c=a.length+2,h=2;h--;)for(var n=c;n--;){var o=(b=e(n-1,0,c-3))>>1,b=b%2==c%2?o:c-3-o;(b=a[b=h?b:aa(c+2-b,a.length)].N()).z=h?t:-t,i.push(b),s.push(u(0,0,b.z))}for(c=a.length;c--;){b=a[c];var r,o=a[(c+1)%a.length],l=u(0,0,t);n=[h=b.add(l),h,n=o.add(l),b=oa(b,l),o=oa(o,l),o],h=ua(oa(b,o),oa(h,b)).normalize();for(r of n)i.push(r),s.push(h)}return new Eb(i,s)}function Fb(a,t,i){gb(a.points,a.kb,i),ab(t)}function Gb(a,t,i,e){var s=a.Wa.map(a=>u(e.size.x*(1-a.x)+e.g.x,a.y*e.size.y+e.g.y));gb(a.points,a.kb,i,s),ab(t)}class Eb{constructor(a,t,i){this.points=a,this.kb=t,this.Wa=i}transform(a,t,i){let e=k(a,t,i),s=k(0,t);return new Eb(this.points.map(a=>a.transform(e)),this.kb.map(a=>a.transform(s)),this.Wa)}}function Hb(a,t){var i=Ib.add(u(0,800,1e3)),e=u(5e3,800);lb(ob.points.map(a=>a.multiply(e).add(i)),[a,a,t,t])}function Jb(t,i,a,e,s=0){var c=ob,h=i.x<0,n=(i=u(Math.abs(i.x),i.y),c.points.map(a=>a.multiply(i).add(t)));s*=i.y,n[0].x+=s,n[1].x+=s,e?(h&&(e.g.x+=e.size.x,e.size.x*=-1),kb(n,0,a,c=c.Wa.map(a=>a.multiply(e.size).add(e.g)))):kb(n,0,a)}function Kb(t,a,i){var e,s,c;1&2e4<t.z||(e=new Ba(0,0,0,.7),s=u(a,0,i),c=new Ab(u(1,0).scale(512)),kb(a=(i=pb).points.map(a=>u(a.x*s.x+t.x,t.y,a.z*s.z+t.z)),0,e,i=i.Wa.map(a=>a.multiply(c.size).add(c.g))))}function Lb(s=0){$a(s,s);var c=new Mb(Nb).Pa;for(let a=1e3,t,i;a--;)if((t=U[c+a])&&i){let h=t.g,n=i.g;if(!(a%(1+7*e(a/1e3)|0))){let c=[t.ra,t.ra,i.ra,i.ra];if(b(4e3+5*h.z,t.Bb),!s&&(b(t.width,t.Aa,void 0,i.width),a<500)){var o=2*t.width/1400-.2;for(let a=1;a<o;++a)b(30,t.ab,1400*a-t.width,void 0,1400*a-i.width)}function b(a,t,i=0,e=a,s=i){a=[u(h.x+a+i,h.y,h.z),u(h.x-a+i,h.y,h.z),u(n.x+e+s,n.y,n.z),u(n.x-e+s,n.y,n.z)],t.a&&kb(a,c,t)}i=t}}else i=t;ab(),$a()}function Ob(a,t,i,e,s){var c,h,n;100*t.y<a.z||Math.abs(a.x)-Math.abs(t.x)>4*a.z+1e3||a.z<0||(c=e.ec,h=t.y*(1+e.ob),n=e.i,e=e.Fc*s,n&&Kb(a.add(u(0,10)),t.y*n,t.y*n/6),Jb(a.add(u(0,h)),t,i,new Ab(c.scale(512)),e))}let V;function Qb(a){var t=a.j.N();return t.x+=O(J,a.ca),t.z+=O(J,a.hb),ya(t)}class X{constructor(a,t=1e3,i=0,e=0,s=0,c=1){this.ec=a,this.size=t,this.mb=i,this.Fc=e,this.Ab=s,this.Za=c,this.Ra=this.ob=0,this.i=1.2,this.j=u(0,0,1),this.ca=.05,this.hb=.01}}class Rb{constructor(a,t,i,e=R,s=1){this.zc=a,this.nb=t,this.offset=i,this.color=e,e=t.size*s,this.scale=u(e),a=a.width,i.x<2*a&&i.x>2*-a&&t.Ra?this.scale.x*=i.x<0?-1:1:t.Za&&P(J)&&(this.scale.x*=-1),this.ya=t.Ab*Math.abs(e)}l(){var a=this.zc;Ob(a.g.add(this.offset),this.scale,this.color,this.nb,Sb(a))}}function Sb(a){return a=a.offset,Math.sin(Ia+.001*(a.x+a.z))/2}function Tb(a,t,i=0,e=0,s=1){i=u(i,e),s*=1+O(J,t.mb),e=Qb(t),t=new Rb(a,t,i,e,s),a.pb.push(t)}class Ub{constructor(a,t,i){45e3<a&&(i=0),this.offset=t,this.width=i,this.pitch=0,this.ra=u(),this.pb=[],t=a/4500;var e=this.level=Vb?Vb.level:0|t,s=Wb(e),h=Wb(t+1),n=da(t%1,.9,1),o=(t=25<a&&a<30||4490<a%4500,e=a>>3==Xb/100>>3,this.Qa=s.Xb&&a%4500%495<36,s.o.m(h.o,n)),b=s.O.m(h.O,n),s=s.A.m(h.A,n),h=(a/9|0)%2?.1:0;this.Bb=Ca(o,Math.cos(2*a/c)/20),this.Aa=Ca(s,h&&.05),e?this.Aa=A(0,.8,.5):t&&(this.Aa=R),this.ab=b,h&&(this.ab.a=0),this.Qa&&(this.ab=this.Bb=this.Aa),45e3==a?Tb(this,V.$b):0==a%4500&&a<45e3&&(Tb(this,V.Yb,500-i),Tb(this,V.Zb,i-500)),30==a&&(Tb(this,V.ac),a=-(i+100),Tb(this,V.vc,a,1450),Tb(this,V.wc,a,850),Tb(this,V.rc,a),i+=100,Tb(this,V.sc,i,1500),Tb(this,V.tc,i,350),Tb(this,V.uc,i),J.seed=1055752394)}}class Mb{constructor(a){var t=this.Pa=a/100|0,i=this.nc=a/100%1;U[t]&&U[1+t]?(this.g=U[t].g&&U[1+t].g?U[t].g.m(U[1+t].g,i):u(0,0,a),this.pitch=g(i,U[t].pitch,U[1+t].pitch),this.offset=U[t].offset.m(U[1+t].offset,i),this.width=g(i,U[t].width,U[1+t].width)):this.offset=this.g=u(this.pitch=this.width=0,0,a)}}let Yb,Wb=a=>Vb||Yb[0|a]||Yb[0];class Zb{constructor(a,t,i,e=V.Lb){(Yb[a]=this).level=a,this.Wb=t,this.hc=i,this.ia=29,this.wb=0,this.U=.2,this.Ya=45,this.xb=1,this.u=5,this.fc=0,this.qb=.5,this.o=A(.08,.2,.7),this.F=R,this.B=A(.57,1,.5),this.O=R,this.A=A(0,0,.5),this.D=A(.15,1,.95,.7),this.$a=1,this.Y=.3,this.lc=e,this.ba=2,this.G=.8,this.ka=A(.15,1,.95),this.s=3,this.I=1,this.S=.5,this.T=0,this.X=.6,this.K=.5,this.C=0,this.L=.7,this.M=50,this.H=150}}let ta=u(4096,4096,1),Bb=u(512,512),$b,Y=[],ac,bc=.3;class cc{constructor(a){this.oc=a[1]||0,this.qc=dc(...a)}play(a=1,t=1,i=1){return ec(this.qc,a,t+this.oc*i*fa(-t,t))}}let fc;function ec(a,t=1,i=1){var e,s;if("running"==(fc=fc||new AudioContext).state)return e=fc.createBuffer(1,a.length,44100),s=fc.createBufferSource(),e.getChannelData(0).set(a),s.buffer=e,s.playbackRate.value=i,(a=fc.createGain()).gain.value=bc*t,a.connect(fc.destination),s.connect(a),s.start(),s;fc.resume()}function dc(a=1,t,i=220,e=0,s=0,h=.1,n=0,o=1,b=0,r=0,u=0,l=0,f=0,d=0,V=0,v=0,Z=0,w=1,g=0,x=0,y=0){let Q=b*=500*(t=2*c)/44100/44100,m=i*=t/44100,z=[],J=0,I=0,A=0,p=1,N=0,Y=0,M=0,B=t*Math.abs(y)*2/44100,X=Math.cos(B),S=Math.sin(B)/2/2,R=1+S,T=(B=-2*X/R,S=(1-S)/R,(1+(y<0?-1:1)*X)/2/R),F=-((y<0?-1:1)+X)/R,U=0,P=0,O=0,k=0;for(r*=500*t/44100**3,V*=t/44100,u*=t/44100,l*=44100,f=44100*f|0,R=(e=44100*e+9)+(g*=44100)+(s*=44100)+(h*=44100)+(Z*=44100)|0;A<R;z[A++]=M*a)++Y%(100*v|0)||(M=n?1<n?1-(2*J/t%2+2)%2:1-4*Math.abs(Math.round(J/t)-J/t):Math.sin(J),M=(f?1-x+x*Math.sin(t*A/f):1)*(M<0?-1:1)*Math.abs(M)**o*(A<e?A/e:A<e+g?1-(A-e)/g*(1-w):A<e+g+s?w:A<R-Z?(R-A-Z)/h*w:0),M=Z?M/2+(Z>A?0:(A<R-Z?1:(R-A)/Z)*z[A-Z|0]/2/a):M,y&&(M=k=T*U+F*(U=P)+T*(P=M)-S*O-B*(O=k))),X=(i+=b+=r)*Math.cos(V*I++),J+=X+X*d*Math.sin(A**5),p&&++p>l&&(i+=u,m+=u,p=0),!f||++N%f||(i=m,b=Q,p=p||1);return z}let hc=new cc([,0,220,.01,.08,.05,,.5,,,,,,,,,.3,.9,.01,,-99]),ic=new cc([,0,40,.2,.2,.2,,,,,,,,300,,,,,,,-80]),jc=new cc([3,.3,500,,,,,2,6,,,,,1,,.3,,1,.05,,-2200]),kc=new cc([4,.2,400,.01,.01,.01,,.8,-60,-70,,,.03,.1,,,.1,.5,.01,.4,400]),lc=new cc([.3,0,980,,,,,3,,,,,,,,.03,,,,,500]),mc=new cc([1.5,,110,.04,,2,,6,,1,330,.07,.05,,,,.4,.8,,.5,1e3]),nc=new cc([,,120,.1,,1,,3,,.6,,,,1,,.2,.4,.1,1,,500]);function oc(a){a=new pc(a),qc.push(a),a.update()}function rc(a){return Math.max(120,120+20*(Wb(a.g.z/45e4).s-1-a.da))}class pc{constructor(a,t){this.g=u(0,0,a),this.color=t,this.V=this.$=this.Xa=this.oa=0,this.za=u(230,200,380),this.h=u(),this.color||(this.color=0|fa(9,0)?A(fa(),fa(.5,.9),.5):0|fa(2,0)?R:A(0,0,.1),(this.gb=0|fa(2,0))&&(this.za.z=450,this.Ac=A(fa(),fa(.5,1),fa(.2,1))),t=Wb(this.g.z/45e4),this.da=0|fa(t.s,0),!sc&&a<tc.g.z&&(this.da=0<tc.g.x?0:t.s-1),this.pa=1400*this.da-1400*(Wb(this.g.z/45e4).s-1)/2,this.h.z=rc(this))}update(){var a=rc(this),t=this.oa?(--this.oa,-1):this.h.z<a?.5:this.h.z>a+10?-.5:0,a=new Mb(this.g.z),i=new Mb(this.g.z+100);this.da=Math.min(this.da,Wb(this.g.z/45e4|0).s-1),this.pa=g(.01,this.pa,1400*this.da-1400*(Wb(this.g.z/45e4).s-1)/2),this.g.x=this.pa,this.g.z+=this.h.z=Math.max(0,this.h.z+t),t=this.pa;for(c of qc)if(this.g.z<c.g.z&&this.g.z>c.g.z-1e3&&Math.abs(t-c.pa)<500){var e=this.h,s=this.h.z,c=c.h.z++;e.z=Math.min(s,c),this.oa=30;break}this.g.x=a.g.x+t,this.g.y=a.offset.y,i=oa(i.g,a.g),this.V=Math.atan2(i.x,i.z),this.Xa=this.V/2,this.$=a.pitch,a=this.g.z-tc.g.z,this.Cb|=7e4<a||a<-2e3}l(){var t=new Mb(this.g.z);if((n=this.g.N()).y+=75,n.z-=Nb,!(n.z<0)){var a=t.pitch,i=this.$,e=k(0,u(0,this.V),0),s=(i=k(n,u(i,0)).multiply(e)).multiply(k(0,0,u(450,this.gb?700:500,450))),h=($a(this!=tc,0),Za(60),new Ba(0,0,0,.5));if(t=u(n.x,t.g.y,n.z).add(va(u(0,0,-60))),n=u(-720,200,600),a=k(t,u(a,0)).multiply(e).multiply(k(0,0,n)),Gb(pb,a,h,new Ab(u(2,0).scale(512))),Za(),$a(),Fb(tb,s,this.color),a=130,e=-440,this.gb&&(a=50,e=-560,s=u(0,290,-250),h=this.Ac,t=u(240,s.y,300),Za(20),Fb(mb,i.multiply(k(s,0,t)),h)),Za(),!(4e4<this.g.z-tc.g.z)){h=u(50,110,110);var s=k(0,u(this.g.z/400,this.Xa),h),h=k(0,u(this.g.z/400,0),h),t=A(0,0,.2),n=u(240,25,220),o=u(240,25,-300);for(let a=4;a--;){var b=a<2?n:o;Za(this.gb&&1<a&&20),Fb(ub,i.multiply(k(u(a%2?b.x:-b.x,b.y,b.z))).multiply(a<2?s:h),t)}for(Za(60),Fb(mb,i.multiply(k(u(0,a,e),0,u(140,50,20))),A(0,0,.1)),s=this.oa,h=2;h--;)t=A(0,1,s?.5:.2),Ka=!s,Fb(mb,i.multiply(k(u(180*(h?1:-1),a-25,e-10),0,u(40,25,5))),t),Ka=1,Fb(mb,i.multiply(k(u(180*(h?1:-1),a+25,e-10),0,u(40,25,5))),R);this==tc&&(Fb(mb,i.multiply(k(u(0,10,440),0,u(240,30,30))),A(0,0,.5)),Gb(ob,i.multiply(k(u(0,a-80,e-20),u(0,c,0),u(80,25,1))),R,new Ab(u(3,0).scale(512))),a=k(0,u(0,c)),Gb(ob,i.multiply(k(u(0,230,-200),u(c/2-.2,0,0),u(140)).multiply(a)),R,new Ab(u(4,0).scale(512)))),Za()}}}}class uc extends pc{constructor(){super(2e3,A(0,.8,.5)),this.Ma=this.xa=this.ga=this.Ba=0,this.Hb=new Ha}l(){sc||super.l()}update(){if(sc)this.g.z+=this.h.z=20;else{var a=()=>{this.Hb.active()||(jc.play(da(this.h.z,0,50)),this.Hb.set(.5))},t=(a=.99)=>{this.h.z*=a,this.xa<0&&(kc.play(da(this.h.z,0,50)),this.xa=500*fa(1,1.5),this.h.y+=Math.min(50,this.h.z)*fa(.1,.2))},i=(this.xa-=this.h.z,!vc&&0<wc&&!xc.active()&&(lc.play(),xc.set(.26),wc--),tc.g.z);if(!Ga(yc)&&i>zc&&(++Ac,zc+=45e4,Bc+=40,10<=Ac&&!Ga(yc)?(Cc=1,mc.play(),yc.set(),vc||(Xb=0,(Dc<Ec||!Ec)&&(Ec=Dc,Fc=1),Gc())):wc=3),!Hc)for(var s of qc){var i=oa(this.g,s.g).abs(),c=this.za.add(s.za);s!=this&&i.x<c.x&&i.z<c.z&&(this.h.z=s.h.z/2,s.h.z=Math.max(s.h.z,1.5*this.h.z),this.h.x=200*(this.g.x-s.g.x<0?-1:1),a())}var h,n=(1&Y.ArrowRight)-(1&Y.ArrowLeft),o=1&Y.ArrowUp,b=1&Y.Space||1&Y.ArrowDown,r=(ac&&(n=((void 0)[0]&&(void 0)[0][0]||u()).x,o=!!(1&(void 0)[0][0])||!!(1&(void 0)[0][7]),b=!!(1&(void 0)[0][1]||1&(void 0)[0][2]||1&(void 0)[0][3]||1&(void 0)[0][6])),((Ic=o?0:Ic)||1&Y[0])&&(Ic=1,n=e(10*($b.x-.5),-1,1),o=1&Y[0],b=1&Y[2]),Hc&&(o=1,n=0),Ga(yc)&&(o=n=b=0),this.oa=b,s=Math.max(20+50*o,this.h.z),this.Ba+=.01*s,1<this.Ba&&(--this.Ba,ic.play(.1,s/40+fa(.1))),c=e(this.h.z/200),this.h.y+=-3,this.h.x*=.5,this.g=this.g.add(this.h),i=(s=new Mb(this.g.z)).Pa,s.width+1e3);if(this.g.x=e(this.g.x,-r,r),r=this.ga,(this.ga=this.g.y<s.offset.y)?(this.g.y=s.offset.y,h=s.pitch,this.$=g(.2,this.$,h),h=u(0,Math.cos(h),Math.sin(h)).scale(-1.2*(Math.cos(h)*this.h.y+Math.sin(h)*this.h.z)),Ga(yc)||(this.h=this.h.add(h)),r||(r=da(h.length(),20,80),kc.play(2*r,.5),this.ga=1),(r=U[i])&&!r.Qa&&Math.abs(this.g.x)>s.width-this.za.x&&!Hc&&t(),b?this.h.z-=4:o?this.h.z+=+o*(1+-.5*e(c))*(1+8*e(da(this.h.z,100,0)**2)):this.h.z<30&&(this.h.z*=.9)):(this.$*=.99,this.ga=0),this.h.z=Math.max(0,.998*this.h.z),n=0<Jc?0:.4*n,Hc&&(n=e(-this.g.x/2e3,-1,1),this.g.x=e(this.g.x,-s.width,s.width)),o=e(this.h.z/50),this.Xa=g(.1,this.Xa,1.5*n),this.Ma=g(.05,this.Ma,n),this.V=g(o*o,this.V,this.Ma),this.h.x+=this.h.z*(this.ga?1.8*this.Ma*(1+-.5*e(c)):0)-.04*this.h.z**1.5*s.offset.x,Cc&&(this.V=g(yc.get(),this.V,-1)),0<Jc&&(this.h.z=0),Ga(yc)&&(this.h=this.h.scale(.95)),!Hc)for(c=-20;c<20;++c)if(n=U[i+c])for(var l of n.pb)l.ya&&(o=n.offset.add(l.offset),b=oa(this.g,o),r=230+l.ya,430<Math.abs(b.z)||Math.abs(b.x)>r||(l.nb.Qb?(l.ya=0,t(.75)):l.nb.Rb?(l.ya=0,kc.play(3*da(this.h.z,0,50),.2),this.h.z*=.8):(this.h.x=99*((Math.abs(o.x)+r+200>s.width?-o.x:b.x)<0?-1:1),this.h.z*=.8,a())))}}}function Kc(a,t,i=.1,e=R,s="arial",c="center",h=400,n="",o,b=.07,r){i*=Lc.y,o&&(o*=Lc.y),t=t.multiply(Lc);var u=Mc;u.lineCap=u.lineJoin="round",u.font=n+` ${h} ${i}px `+s,u.textAlign=c,i*=b,u.fillStyle=new Ba(0,0,0,e.a),i&&u.fillText(a,t.x+i,t.y+i,o),(u.lineWidth=r)&&u.strokeText(a,t.x,t.y,o),u.fillStyle=e,u.fillText(a,t.x,t.y,o)}bc=.3;let Hc=0,vc=0,Vb,Nc=1/60,Oc=u(0,680,1050),Lc,Pc,Mc,Ia,Qc,Rc,Sc,Tc,Bc,Jc,Uc,yc,zc,Dc,Ac,Cc,Vc,Fc,sc=1,Wc=0,wc,xc,Ib,Xc,Nb,wa,Ic,U,qc,tc;function Yc(){Ia=Qc=Rc=Sc=Nb=Bc=Dc=Ac=Cc=Vc=Fc=vc=wc=0,Jc=4,wa=sc?fa(7):.8,Bc=50,zc=45e4,Uc=new Ha,yc=new Ha,Tc=new Ha,xc=new Ha,Ib=u(),Xc=u(),qc=[],N(J,1331),U=[];for(var t=0,i=0,s=0,c=ia(1e5),h=0,n=1,o=0,b=1,r=0;r<95e3;++r){var a,l,f=0|(v=r/4500),d=Wb(f),v=Wb(v-1),Z=da(r%4500,0,500);31496==r&&N(J,7),v=700*g(Z,v.s,d.s),Z=(Z=r%4500)<100||4400<Z,(Z|=!f&&r<400)||44500<r?t=i=s=0:(f=d.S,Z=d.T,a=d.X,t--<0&&(t=ia(100,400),s=P(J,f)?O(J,Z,a):0),f=d.K,Z=d.C,a=d.L,l=d.M,d=d.H,i--<0&&(i=ia(100,400),n=P(J,f)?(h=B(J,Z,a),B(J,l,d)):(h=0,l))),d=s,Z=o+=e(.01)*(h-o),f=b+=e(.01)*(n-b),o&&(c+=Z/f),Z=c,a=aa(Z,1),Z=g(a*a*(3-2*a),B(new Fa(Z),-1,1),B(new Fa(Z+1),-1,1)),U[r]=new Ub(r,u(d,20*Z*f,100*r),v)}for(c=1,h=s=i=t=0;h<U.length;++h)if(o=h%4500,n=U[h],b=Wb(n.level),(r=U[h-1])&&(n.pitch=Math.atan2(r.offset.y-n.offset.y,100),n.ra=ua(u(0,n.offset.y-r.offset.y,100),u(1,0)).normalize()),o||(c=1),!(n.Qa||h<50)){for(d=v=r=0;d<150;d+=20)(f=U[h+d])&&d<150&&(0<(f=f.offset.x)?r=Math.max(r,f):v=Math.max(v,-f));let a;if(h<45e3&&(.5<v||.5<r)&&(a=v-r<0?-1:1,0==h%10)&&Tb(n,V.bc,a*(n.width+500)),b.wa){if(r=b.wa.Bc,v=b.wa.Cc,100<o&&o<4400&&(d=i,s--<0&&(s=(i=!i)?r?10:ia(200,600):ia(300,600)),i)){Tb(n,v&&!d?V.vb:b.wa,0),v&&0==h%50&&Tb(n,V.Ub,0,1600);continue}}else i=s=0;r=b.U,0==h%b.Ya&&P(J,r)?(o=b.xb,b=n.width*o,Tb(n,r=V.J[ia(V.J.length)],(v=a?-a:J.sign())*B(J,b+600,b+800),0,o)):b.hc&&(P(J,.001)&&(c=P(J,.4)?1:P(J,.1)?0:B(J)),r=b.u,v=b.qb,0==h%r)&&P(J,v*c)?Tb(n,b.hc,(b.fc||(h%(2*r)<r?1:-1))*(n.width+B(J,700,1e3))):40<o&&o<4460&&t--<0&&b.Ga&&P(J,b.Fa)&&(Tb(n,o=b.Ga,O(J,n.width/4,n.width)),t=B(J,5,10),o.Rb||o.Qb||(t*=2))}qc.push(tc=new uc),sc&&(tc.g.z=6e4+2*Wc%9*45e4)}function Zc(){sc?((2&Y[0]||2&Y.Space||ac&&(2&(void 0)[0][0]||2&(void 0)[0][9]))&&(sc=0,Yc()),60<Ia&&(++Wc,Yc())):(0<Jc&&!Uc.active()&&(--Jc,hc.play(1,Jc?1:2),Uc.set(1)),(1<yc.get()&&(2&Y[0]||ac&&2&(void 0)[0][0])||9<yc.get())&&(sc=1,Wc=0,Yc()),(2&Y.Escape||ac&&2&(void 0)[0][8])&&(kc.play(2),sc=1,++Wc,Yc()),vc?Jc=0:2&Y.KeyF&&(vc=1,nc.play(.5,3)),Jc||vc||Ga(yc)||(Dc+=Nc,a=Bc,(Bc-=Nc)<3&&(0|a)!=(0|Bc)&&hc.play(1,3),a=tc.g.z,Xb&&!Vc&&a>Xb&&5e3<a&&(mc.play(1,2),Vc=1),Bc<=0&&(5e3<a&&(!Xb||a>Xb)&&(Vc=1,Xb=a,Gc()),Bc=0,yc.set(),nc.play()))),a=sc||tc.h.z<20;var a,t,i=Wb((tc.g.z+(a?0:18e4))/45e4).I;i&&qc.length<10*i&&!Ga(yc)&&!Tc.active()&&(oc(tc.g.z+(a?-1300:fa(5e4,6e4))),Tc.set(fa(1,2)/i));for(t of qc)t.update();qc=qc.filter(a=>!a.Cb)}function $c(a=0){requestAnimationFrame($c),Lc=u(Pc.width=innerWidth,Pc.height=innerHeight);var t=a-Rc;Rc=a,Sc+=t;let i=0;for((Sc=Math.min(Sc,50))<0&&-9<Sc&&(i=Sc,Sc=0);0<=Sc;Sc-=1e3/60){Ia=Qc++/60,Zc(),document.hasFocus()||(Y=[]),Nb=tc.g.z-Oc.z;var s=new Mb(Nb),h=new Mb(tc.g.z);wa+=tc.h.z*s.offset.x/2e4,Ib.y=h.offset.y+(sc?1e3:Oc.y),Ib.x=tc.g.x,Xc.x=g(.1,Xc.x,s.pitch/3);let a,t,i;var n,h=new Mb(Nb),q=h.Pa,_=h.nc;for(i=t=a=0;a<1e3;++a){var o,b=q+a;U[b]&&(o=a<1?1-_:1,U[b].g=U[b].offset.N(),U[b].g.x=i+=t+=2*o*U[b].g.x,U[b].g.z-=Nb)}for(n in Y)Y[n]&=1}Sc+=i,Q.viewport(0,0,La.width=Pc.width,La.height=Pc.height),Ua=Ta=0,Q.texParameteri(3553,10241,9728),Q.texParameteri(3553,10240,9728);var a=k(Ib,Xc).inverse(),t=1/Math.tan(.5),t=new DOMMatrix([t/(Pc.width/Pc.height),0,0,0,0,t,0,0,0,0,10001/9999,2.000200020002,0,0,-1,0]).multiply(a),r=(Q.uniformMatrix4fv(Q.getUniformLocation(Ra,"m"),0,t.toFloat32Array()),$a(Ka=Ja=0,0),N(J,13),Nb/45e4),l=Wb(r),f=Wb(r-1),d=r%1,v=da(d,0,.1),a=f.F.m(l.F,v),t=f.B.m(l.B,v),a0=(Hb(a,t),eb=va(u(0,1,1)).normalize(),bb=a.m(R,.8).m(cb,.3),db=t.m(R,.8).m(cb,.3),fb=t.m(R,.5),new Ab(u().scale(512))),t0=new Ab(u(1,0).scale(512)),i0=1300*g(v,f.G,l.G),e0=f.ka.m(l.ka,v),s0=aa(wa+c,2*c)-c;for(let a=0;a<1;a+=.05){var Z=e0.N();Z.a=a?(1-a)**7:1,Jb(Ib.add(u(-5e3*s0,i0,1e3)),u(100*(1+30*a)),Z,a?t0:a0)}for(let a=99;a--;){var c0=f.D.m(l.D,v),h0=g(v,f.$a,l.$a),n0=g(v,f.Y,l.Y),w=-5e3*wa+B(J,1e4)+50*Ia*B(J,1,1.5),w=aa(w,1e4)-5e3,o0=B(J,1300),x=B(J,300,800);Jb(Ib.add(u(w,o0,1e3)),u(x*h0,x*n0),c0,new Ab(u(1,0).scale(512)))}var y=l.lc,b0=new Ab(y.ec.scale(512)),r0=l.ba;for(let a=99;a--;){var m=a/99,z=+e(m)+1,z=r<.5?1:d<.1?(d/.1)**z:.9<d?1-((d-1)/.1+1)**z:1,m=1.01+e(m)*(1.07-1.01),p=B(J,100,200)*r0,u0=u(B(J,1,2)*(y.Za?p*J.sign():p),p,p),m=aa(-5e3*wa/m+B(J,1e4),1e4)-5e3,z=g(z,1.5*-p,B(J,p)),p=Qb(y);Jb(Ib.add(u(m,z,1e3)),u0,p,b0)}var M,a=.2+r,t=Ca(Wb(a-1).o.m(Wb(a).o,da(a%1,0,.1)),.1);Jb(Ib.add(u(0,-800,1e3)),u(5e3,800),t),ab(),$a(),Ka=Ja=1,Ja=0,Lb(1),Lb(),Ja=1;for(M of qc)M.l();$a(1,0),Ka=0;var X,l0=new Mb(Nb).Pa;for(let a=1e3;a--;){var S=l0+a,T=U[S];if(T){N(J,1331+S);for(var f0 of T.pb)f0.l();var I=Wb(T.level),d0=T.width;if(!T.Qa)for(let a=3;a--;){var F,W,j,D,C,V0,v0,L,G=(S+a)%2?1:-1;G==I.wb?(W=(j=V.ic).size*(1+O(J,j.mb)),F=d0+B(J,12e3,8e4),D=Ia-S/70,Ob(T.g.add(u(G*F+2e3*Math.sin(D),0)),u(G*W,.4*W,W),R,j,9*Math.cos(D))):(F=T.offset.z/45e4,W=Wb(1+F),D=(j=P(J,da(F%1,.9,1))?W:I).Wb,j.Wb&&(L=(C=Ea(D,j.ia)).size*(1+O(J,C.mb)),G=G*B(J,d0+C.size+8*C.Ab*L,3e4),G=T.g.add(u(G,0)),V0=Sb(T),v0=Qb(C),L=u(L),C.Za&&P(J)&&(L.x*=-1),Ob(G,L,v0,C,V0)))}}}if(ab(),sc){for(let e=2;e--;){var Z0=e?"DR1V3N":"WILD",K=u(.5,.3-.15*e).multiply(Lc),w0=Lc.y/9,E=Mc;E.strokeStyle=cb,E.textAlign="center";let i=0;for(let t=2;t--;)for(let a=0;a<Z0.length;a++){var $=Math.sin(a-2*Ia-2*e),g0=(E.font=`italic 900 ${w0+$*Lc.y/20}px arial`,Z0[a]),H=E.measureText(g0).width;if(t)i+=H;else{var x0=K.x+H/2-i/2;for(let a=2;a--;){var y0=a*Lc.y/99;E.fillStyle=A(.15-$/9,1,a?0:.75-.25*$),E.fillText(g0,x0+y0,K.y+y0)}K.x+=H}}}Ec&&(a=ja(Ec),Kc("BEST TIME",u(.5,.9),.07,void 0,"monospace",void 0,900,void 0,void 0,void 0,3),Kc(a,u(.5,.97),.07,void 0,"monospace",void 0,900,void 0,void 0,void 0,3))}else Uc.active()||Jc?(t=1-Ia%1,a=!Jc&&Uc.active()?"GO!":0|Jc,(X=(Jc?vb:xb).N()).a=t,Kc(a,u(.5,.2),.25-.1*t,X,void 0,void 0,900,void 0,void 0,.03)):(a=.04*(1-Math.abs(Math.sin(2*Ia))),Ga(yc)?(t=Cc?wb:R,X=.04*(1-Math.abs(Math.sin(2*Ia+c/2))),Kc(Cc?"YOU":"GAME",u(.5,.2),.1+a,t,void 0,void 0,900,"italic",.5,void 0,4),Kc(Cc?"WIN!":"OVER!",u(.5,.3),.1+X,t,void 0,void 0,900,"italic",.5,void 0,4),(Fc||Vc&&!Ec)&&Kc("NEW RECORD",u(.5,.6),.08+a/4,vb,"monospace",void 0,900,void 0,void 0,void 0,3)):Uc.active()||vc||Kc(0|Bc,u(.5,.13),.14,Bc<3?vb:Bc<10?wb:R,void 0,void 0,900,void 0,void 0,.04),vc||(Cc?Kc(ja(Dc),u(.5),.08,void 0,"monospace",void 0,900,void 0,void 0,void 0,3):(Kc(ja(Dc),u(.01,.05),.05,void 0,"monospace","left"),Kc("STAGE "+(Ac+1),u(.99,.05),.05,void 0,"monospace","right"))))}let Ec=+localStorage.DW1||0,Xb=+localStorage.DW2||0;function Gc(){localStorage.DW1=Ec,localStorage.DW2=Xb}(()=>{document.body.appendChild(La=document.createElement("canvas")),Q=La.getContext("webgl2",{alpha:!1,antialias:!1}),Ra=Wa(),Sa=new Float32Array(new ArrayBuffer(128e4)),Q.useProgram(Ra),Q.bindBuffer(34962,Q.createBuffer()),Q.bufferData(34962,128e4,35048),Q.blendFunc(770,771),Ya(3042),Ya(2884);let t=0;var a=a=>{a=Q.getAttribLocation(Ra,a),Q.enableVertexAttribArray(a),Q.vertexAttribPointer(a,4,5126,0,64,t),t+=16};a("p"),a("n"),a("u"),a("c")})(),document.body.appendChild(Pc=document.createElement("canvas")),Mc=Pc.getContext("2d"),La.style.cssText=Pc.style.cssText="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);",(()=>{mb=Db([u(-1,1),u(1,1),u(1,-1),u(-1,-1)]);var a=[u(-1,1),u(1,1),u(-1,-1),u(1,-1)],t=a.map(a=>a.multiply(u(.5,-.5,.5)).add(u(.5)));for(ob=new Eb(a,a.map(()=>u(0,0,1)),t),pb=ob.transform(0,u(c/2,0)),a=[],t=12;t--;)a.push(xa(u(1,0),t/12*c*2));sb=Db(a),tb=(tb=Db([u(-1,.5),u(-.7,.4),u(-.2,.5),u(.1,.5),u(1,.2),u(1,.2),u(1,0),u(-1,0)],.5)).transform(0,u(0,-c/2)),ub=sb.transform(0,u(0,-c/2))})(),(()=>{onkeydown=a=>{ac=0,a.repeat||(Y[a.code]=3)},onkeyup=a=>{Y[a.code]=4},onmousedown=a=>{ac=0,Y[a.button]=3,$b=t(u(a.x,a.y))},onmouseup=a=>Y[a.button]=2&Y[a.button]|4,onmousemove=a=>$b=t(u(a.x,a.y)),oncontextmenu=()=>!1;let t=a=>u(a.x/Lc.x,a.y/Lc.y)})(),(()=>{function a(a,t){V.restore(),V.save(),V.setTransform(512,0,0,512,512*a,512*t),V.beginPath(),V.rect(0,0,1,1),V.clip()}function r(a,t,i,e=0,s=9){l(a,t,i,i,0,e,s)}function M(a=.5,t=.5,i=1,e=1,s=0){V.save(),V.translate(a,t),V.rotate(s),V.fillRect(-i/2,-e/2,i,e),V.restore()}function X(a=R,t=0){V.fillStyle=a,t&&([t=R]=[a],V.strokeStyle=t)}function l(a=.5,t=.5,i=.5,e=.5,s=0,c=0,h=9){V.beginPath(),V.ellipse(a,t,Math.max(0,i),Math.max(0,e),s,c,h),V.fill()}function S(t,i,s,c,h=.1,n=200){for(let a=n=u(s-t,c-i).length()*n+1|0;a--;)M(t+e(a/n)*(s-t),i+e(a/n)*(c-i),h,h)}function t(t=.5,i=.5,e=.5,s=0){V.beginPath();for(let a=3;a--;){var h=2*a/3*c;V.lineTo(t+e*Math.sin(h+s),i-e*Math.cos(h+s))}V.fill()}function h(a,t=.5,i=.5,e=1,s=.95,c=0,h="arial",n="center",o=400,b=""){V.save(),V.scale(.05,.05),t/=.05,i/=.05,s/=.05,c/=.05,V.font=b+` ${o} ${e/.05}px `+h,V.textBaseline="middle",V.textAlign=n,V.lineWidth=c,V.lineCap=V.lineJoin="round",c&&V.strokeText(a,t,i,s),V.fillText(a,t,i,s),V.restore()}function i(a,t,i,e,s,c,h=300,n=.1){for(X(c),M(a,t,i,e,s),h=h*i+1;h--;){var o=B(J,i*n),b=O(J,i-o),r=xa(u(1,0),s).scale(b/2),l=(X(J.P(c,.05,.7)),b=B(J,e/4,e),O(J,e-b)),l=xa(u(0,1),s).scale(l/2);M(a+(r=r.add(l)).x,t+r.y,o,b,s)}}function s(h=.5,n=.1,o=.7,a=.01,b=.7,r=.7,l=.3,f=0,d=.03,V=520,v=u(0,0,1),Z=0,w=.01){for(let s=Math.max(1,V*o*.1),c=s;0<c--;n+=B(J,a))for(let a=V*n,t=a,i=0,e=o;0<t--;){var x=t/a,y=c/s,m=B(J,.2,.5),z=(y<Math.abs(b-x)/20&&(m=B(J,.2)),P(J,.05)?m=B(J,1):y>r+Math.abs(b-x)*l?m*=2:b<x&&(m/=3),B(J,d,2*d)),A=(e+=i=-(i<0?-1:1)*B(J,w),v.N());A.z=m*A.z+Z,X(m=ya(A,.3)),M(h+g(x,-n,n),1-y*e-f-z+O(J,w),z,z,O(J,2))}}function T(t,i,e,s=vb){var h=J.angle(),n=1+O(J,.08);e=B(J,.6*e,e),X(J.P(R,.2)),r(t.x,t.y,e*B(J,.5,1)),s=J.P(s,.3);for(let a=i;a--;){var o=a/i*c*2+h,b=t.add(xa(u(e/.8,0),o));X(J.P(s,.2)),l(b.x,b.y,e,e/2,o**n)}}function n(t=0,i=0,e=.6,s=0,c){var h=ia(5,9),n=B(J,.03,.05);for(let a=70;a--;){var o=.5+O(J,.25),o=new v(o,1,O(J,.25),O(J,-.6,-1),.5,.02),b=A(t,i,e+B(J,.4));o.color=b,o.iterations=99,o=o.l(),P(J,s)&&T(o,h,n,c)}}function o(t=1,a=.9,i=A(0,0,.1),e=R,s=.05,c=e,h=.2,n=0,o=0,b=.1){for(let a=2;a--;)X(a?A(0,0,.1):c),M(.5-h*t+.01*a,.5+n,b),M(.5+h*t+.01*a,.5+n,b);X(i),o&&M(.5,a/2+n,t+s,a+s),X(e),M(.5,a/2+n,t,a),X(i),M(.5,a/2+n,t-s,a-s)}function b(a,t,i,e=.5,s=.24,c=.46){o(1,.6,i,R,.05,cb,e),X(R,1),h(a,.5,s,.31,.85,.01),h(t,.5,c,.2,.8,.01)}function f(a){M(.5,.58,1,.16);var t=A(.08,.4,.2);i(.03,.75,.06,.53,0,t),i(.97,.75,.06,.53,0,t),X(vb),h(a,.5,.6,.15,1,.01,void 0,void 0,600)}function d(a){X(cb),M(.5-.45*a,.5,.1),X(A(0,0,.2)),M(.49-.45*a,.5,.1),X(R),M(.5,0,1,.5),X(A(.3,.7,.5)),h("CHECK",.5,.14,.22,.95,.02,void 0,void 0,600)}let V=Mc;Pc.width=ta.x,Pc.height=ta.y,N(J,13);class v{constructor(a,t,i,e,s,c=.1,h=0,n=cb,o=.1){this.x=a,this.y=t,this.Dc=i,this.Ec=e,this.jc=s,this.cc=c,this.lb=h,this.color=n,this.style=this.bb=0,this.iterations=50,this.P=o}l(){var t=u();for(let a=0;a<this.iterations;++a){this.color&&X(J.P(this.color,this.bb,this.P));var i=a/this.iterations;t.x=this.x+this.Dc*i,t.y=this.y+this.Ec*i+this.jc*i*i,i=this.style?Math.sin(i*c)*(this.cc-this.lb)+this.lb:g(i,this.cc,this.lb),M(t.x,t.y,i,i)}return t}}class Z{constructor(){this.g=u(.5,1),this.ja=.09,this.xc=.01,this.la=1.2,this.ma=.1,this.na=451,this.kc=.9,this.Ka=3,this.Sb=.06,this.Tb=.03,this.mc=.98,this.Z=.02,this.fa=.01,this.ib=.005,this.ea=.3,this.qa=.4,this.cb=vb,this.zb=1,this.La=.5,this.yb=this.jb=this.Ca=this.yc=0}l(){let o=0,b=[],r=this.ja,l=this.la,f=this.ma,d=this.na,V=this.kc,v=this.yb,Z=this.jb,w=this.Ka,i=this.Sb,e=this.Tb,g=this.mc,x=this.Z,y=this.fa,m=this.ib,s=this.ea,c=this.qa,h=this.La,z=(a,t,i,e=0,s=0,c=P(J)?1:-1)=>{if(!(1e4<o++))if(t<m){if(P(J,w))for(t=Math.max(1,0|w);t--;)b.push(a)}else{var h,n=a.add(xa(u(0,-i),e));X(A(.1,.6,B(J,.1,.2))),S(a.x,a.y,n.x,n.y,t),s>d*t&&(a=B(J,.5,1)*this.zb,h=B(J,.5,1)*this.zb,z(n,t*a,i*h,e+c*(l+O(J,f))),c*=-1,s=0,P(J,Z)&&z(n,t*a,i*h,e+c*(l+O(J,f))),t*=V),t<r/2&&P(J,v)||this.yc&&300<o||(e*=1-y,z(n,t*g,i,e+O(J,x),s+1,c))}};for(var n in z(this.g,r,this.xc),ha(b)){let a=b[n],t=n/b.length;var n=(1-t)*i,p=h+O(J,.2);t=.1+B(J,t,1)*c,X(J.P(A(s,p,t),.1)),M((a=a.add(Da(e))).x,a.y,n,n,J.angle()),P(J,this.Ca)&&T(a,5,B(J,.01,.02),this.cb)}}}X(R),a(0,0),r(.5,.5,.45),a(1,0);for(var w,x=40;x--;)X(A(0,0,1,x/300)),r(.5,.5,.5-x/80);a(2,0);for(let a=40,t;a--;)X(Aa(0,0,1,t=a/40)),M(.5,.5,.5-t/3,.9-t/3);a(3,0),X(A(0,0,.8)),M(),X(A(.7,.9,.25),1),h("JS-13K",.5,.6,1,.9,.03,"monospace"),a(4,0),h("13",.5,.6,1,1,.04,void 0,void 0,900),a(5,0),f("START"),a(6,0),d(1),a(7,0),d(-1),a(0,1);var y=new v(.3,.29,.3,.5,.5,.02,.06);for(y.color=A(.1,.5,.1),y.bb=.1,y.l(),y=12;y--;){var m=y/12*2*c;(m=new v(.3,.23,.3*Math.sin(m),.3*Math.cos(m)-.1,.2,.05,.005)).style=1;var z=A(.3,.6,B(J,.3,.5));m.color=z,m.bb=.1,m.l()}for(a(1,1),N(J,13),(new Z).l(),a(2,1),N(J,192),(x=new Z).ja=.1,x.na=300,x.Ka=0,x.la=1.2,x.ma=.2,x.yb=.03,x.fa=.05,x.Z=.1,x.l(),a(3,1),N(J,131),(x=new Z).Ka=0,x.ja=.08,x.ma=.5,x.la=1.5,x.Z=.05,x.fa=.01,x.l(),a(4,1),N(J,400),(x=new Z).Z=.1,x.la=1.5,x.ma=.1,x.ea=0,x.La=.7,x.qa=.7,x.fa=.02,x.Ca=.05,x.cb=R,x.l(),a(5,1),N(J,1333),(x=new Z).jb=1,x.na=800,x.ja=.04,x.ib=.005,x.la=1.5,x.Z=.1,x.ma=.2,x.Ka=4,x.Tb=.04,x.ea=.2,x.fa=.002,x.Ca=.01,x.l(),a(6,1),N(J,293),(x=new Z).ja=.07,x.Z=.05,x.ea=.08,x.qa=.6,x.La=1,x.l(),N(J,13),a(0,2),o(),X(R,1),h("JS",.25,.27,.5,.35,.02,"courier"),h("GAMES",.5,.66,.5,.9,.02,"courier"),X(A(1,.8,.5),1),h("13K",.67,.27,.5,.5,.02,"courier"),a(1,2),o(1,.6,cb,A(0,0,.2)),X(A(.6,1,.5),1),h("ZZFX",.47,.38,.55,.8,.05),X(wb,1),h("ZZFX",.5,.35,.55,.8,.05),X(A(.96,1,.5),1),h("ZZFX",.53,.32,.55,.8,.05),a(2,2),o(1,.4,R,cb),X(cb,1),h("GitHub",.5,.22,.3,.9,.01),a(3,2),b("FRANK FORCE","GAME BY",cb,0,.42,.2),a(4,2),b("HARRIS","WALZ",A(.6,.9,.3)),a(5,2),o(1,.6,R,cb),X(A(.65,.9,.45)),r(.28,.3,.2),M(.58,.3,.08,.4),M(.71,.14,.22,.08),M(.75,.3,.13,.08),r(.81,.22,.12,4.7,7.9),X(R),r(.28,.3,.12),r(.81,.22,.04),a(7,2),w=A(0,.9,.6),o(.9,.9,R,A(0,0,.2)),X(w,1),r(.5,.37,.32),h("AVALANCHE",.5,.8,.13,1,.003),X(R),t(.5,.37,.23),X(w),S(.47,.52,.62,.26,.07),a(0,3),n(),a(1,3),n(.23,.5,.3,.3),a(2,3),n(.35,.5,.3,.3,wb),a(3,3),N(J,5),n(.3,.5,.3,.64,yb),a(4,3),N(J,5),(x=new Z).ea=.5,x.qa=1.2,x.Sb=.04,x.na=300,x.fa=.01,x.Ca=.01,x.cb=yb,x.l(),a(5,3),N(J,9),(x=new Z).ea=.13,x.qa=.5,x.La=.9,x.jb=1,x.na=500,x.ib=.008,x.ja=.1,x.l(),a(0,4),i(.5,.5,.04,1,0,x=A(.08,.4,.2)),i(.5,.06,.03,.2,c/2,x),i(.5,.12,.03,.2,c/2,x),a(1,4),s(),a(2,4),s(.55,.08,.53,.015,.6,.7,.5),s(.4,.1,.45,.012,.3,.7),s(.6,.2,.2,.005,.4,.6),a(3,4),x=39;x--;){var p=B(J,.002,.015);s(.5+O(J,.45),B(J,.005,.02),B(J,.02,.05),.005,.4,.3,.3,.02,p)}for(a(4,4),x=199;x--;){var p=.5+O(J,.45),U=B(J,.003,.006),k=u(.13,.3,.7);s(p,B(J,.03),B(J,.05),.005,.4,.3,.3,.03,U,500,k,.4)}for(a(5,4),N(J,9),x=99;x--;)p=x/99,s(.05+e(p)*(.95-.05),.01,.02+.11*e(p),.01,.3,.6,.5,0,.01,500,u(.53,1,1),.4-.2*p);for(a(6,4),s(.85,.05,.53,.002,.6,.7,.5,-.1,.02,1e3),s(.15,.05,.53,.002,.6,.7,.5,-.1,.02,1e3),s(.5,.42,.25,.002,.5,.7,.5,.2,.02,1e3,void 0,void 0,0),a(7,4),X(A(0,0,1)),M(1,1,.4,.5),M(0,1,.4,.5),X(A(0,0,.7)),M(.5,.75,1,.15),a(0,5),o(.5,.5,R,cb,.04,zb,.3,.3,1),X(cb),t(.42,.5,.12,-c/2),V.lineWidth=.09,V.beginPath(),V.arc(.44,.7,.2,3*c/2,2*c),V.stroke(),a(0,6),f("GOAL"),a(2,6),x=2;x--;)for(p=9;p--;)U=p/9,X(A(0,0,x?.2:.9)),r(.5+.05*x,.5+U/2,.3,.4);for(a(3,6),X(cb),M(.5,.6,.3,1),x=19;x--;)M(.5+O(J,.14),.1,B(J,.02),B(J,.1));for(x=33;x--;)for(p=9;p--;)U=.37+.03*p,k=.13+.03*x,X(Aa(B(J,.1,.15),B(J,.5,1),(p&x)%2?0:B(J,.3,1)**3)),M(U,k,.03*.7,.03*.7);for(a(6,6),N(J,9),s(.5,0,.25,.04,.5,1,1,-.1,void 0,1e3,u(0,0,.7),.7),a(7,6),s(.45,.1,.5,.025,.3,.7,.8,void 0,void 0,void 0,u(0,0,.7),.7),s(.7,.1,.25,.02,.3,.8,void 0,void 0,void 0,void 0,u(0,0,.7),.6),p=(x=V.getImageData(0,512,ta.x,ta.y)).data,U=3;U<p.length;U+=4)p[U]=p[U]<99?0:255;V.putImageData(x,0,512)})();var ad=Q,bd=ad.bindTexture,cd=Pc;let dd=Q.createTexture();Q.bindTexture(3553,dd),Q.texImage2D(3553,0,6408,6408,5121,cd),bd.call(ad,3553,dd),(V={Ic:[]}).va=new X(u(0,1),1500,.2,.1,.04),V.ua=new X(u(1,1),2e3,.5,.06,.1),V.W=new X(u(2,1),1e3,.6,.04),V.ta=new X(u(3,1),800,.3,.03,.06),V.sb=new X(u(4,1),1500,.3,.1,.04),V.Sa=new X(u(5,1),1e3,.5,.1,.06),V.rb=new X(u(6,1),1500,.3,.1,.1),V.tb=new X(u(4,3),1300,.3,.06,.1),V.ub=new X(u(5,3),1e3,.3,.06,.1),V.Ta=new X(u(3,1),1e4,.5,.1,.1),V.Ta.j=u(.8,0,.5),V.va.Ra=V.sb.Ra=1,V.va.i=V.ua.i=V.W.i=V.ta.i=V.sb.i=V.Sa.i=V.rb.i=V.tb.i=V.ub.i=V.Ta.i=.7,V.Gc=[],V.aa=new X(u(0,3),500,.5,1),V.aa.j=u(.3,.4,.5),V.Da=new X(u(0,3),600,.3,1),V.Da.j=u(.13,.6,.7),V.Ea=new X(u(1,3),500,.3,1),V.eb=new X(u(2,3),500,.3,1),V.Db=new X(u(3,3),500,.3,1),V.fb=new X(u(0,3),700,.3,1),V.fb.j=u(0,.8,.5),V.Fb=new X(u(0,3),300,.5,1),V.Fb.j=u(.4,1,.9),V.Eb=new X(u(0,3),1e3,.5,1),V.Eb.j=u(.4,.4,.5),V.J=[],V.J.push(V.wc=new X(u(1,2),500,0,.02,.5,0)),V.J.push(V.uc=new X(u(0,2),600,0,.02,1,0)),V.J.push(V.tc=new X(u(2,2),750,0,.02,.5,0)),V.J.push(V.rc=new X(u(7,2),600,0,.02,1,0)),V.J.push(V.vc=new X(u(5,2),600,0,.02,.5,0)),V.J.push(V.Hc=new X(u(4,2),300,0,.02,1,0)),V.sc=new X(u(3,2),500,0,.02,1,0),V.bc=new X(u(0,5),500,0,.05,.5),V.bc.Ra=1,V.pc=new X(u(1,4),1e3,.3,0,.6,0),V.R=new X(u(2,4),800,.3,0,.6,0),V.sa=new X(u(1,4),5e3,.7,0,.6,0),V.sa.j=u(.08,1,.8),V.sa.ca=.01,V.ha=new X(u(2,4),8e3,.5,0,.25,0),V.ha.j=u(.05,1,.8),V.ha.ca=.01,V.Na=new X(u(2,4),8e3,.7,0,.5,0),V.Na.j=u(.05,1,.8),V.Na.ca=.01,V.Oa=new X(u(2,4),5e3,.5,0,1,0),V.Oa.j=u(.8,1,.8),V.Oa.ca=.2,V.Vb=new X(u(1,4),1e3,.5,0,.5,0),V.Vb.j=u(0,0,.2),V.Ua=new X(u(6,4),1e4,0,0,0,0),V.Ua.j=u(.05,1,.8),V.Ua.Bc=1,V.Va=new X(u(7,4),5e3,0,0,0,0),V.Va.j=u(0,0,.1),V.Va.Cc=1,V.vb=new X(u(7,4),5e3,0,0,0,0),V.vb.j=u(0,0,.8),V.Ha=new X(u(3,4),1e3,.2,0,.9),V.Ia=new X(u(4,4),1e3,.2,0,.9),V.Ha.Qb=V.Ia.Rb=1,V.Ha.ob=V.Ia.ob=-.02,V.ic=new X(u(5,4),6e3,.5,1),V.ac=new X(u(5,0),2300,0,.01,0,0),V.$b=new X(u(0,6),2300,0,.01,0,0),V.Yb=new X(u(6,0),1e3,0,.01,0,0),V.Zb=new X(u(7,0),1e3,0,.01,0,0),V.dc=new X(u(0,4),1800,0,0,.03,0),V.dc.i=.3,V.Gb=new X(u(2,6),500,.4,.05,.5,0),V.Gb.hb=.5,V.Ub=new X(u(0,0),200,0,0,0,0),V.Ja=new X(u(3,6),0,0,0,0,1),V.Ja.ca=V.Ja.hb=.1,V.Ja.j=u(1),V.Lb=new X(u(7,6)),V.Lb.j=u(.25,.5,.6),V.Mb=new X(u(7,6)),V.Mb.j=u(.05,.7,.7),V.Ib=new X(u(7,6)),V.Ib.j=u(.1,.5,.6),V.Nb=new X(u(6,6)),V.Nb.j=u(.1,.5,.6),V.Jb=new X(u(6,6)),V.Jb.j=u(.15,.5,.8),V.Ob=new X(u(7,6)),V.Ob.j=u(0,0,1),V.Kb=new X(u(6,6)),V.Kb.j=u(.2,.4,.8),V.Pb=new X(u(7,6)),V.Pb.j=u(.7,.5,.6),V.Ub.i=V.Ha.i=V.Ia.i=V.Ua.i=V.Va.i=V.vb.i=V.ic.i=V.sa.i=V.ha.i=V.Na.i=V.Oa.i=V.Ta.i=V.ac.i=V.$b.i=V.Yb.i=V.Zb.i=0,Yb=[];let Z,ed=0;(Z=new Zb(ed++,[V.aa,V.va,V.R],V.va)).wb=-1,Z.ba=.5,Z.U=.3,Z.I=.7,Z.S=.6,Z.T=.2,Z.C=.2,Z.L=.4,Z.M=10,Z.H=20,(Z=new Zb(ed++,[V.ua,V.aa,V.Sa,V.W,V.Ea,V.Db,V.eb],V.Sa,V.Nb)).u=10,Z.ia=9,Z.B=A(.5,.3,.5),Z.A=A(.05,.4,.2),Z.o=A(.2,.4,.4),Z.D=A(0,0,1,.3),Z.Y=.2,Z.G=.7,Z.U=.1,Z.S=.7,Z.K=.8,Z.C=.3,Z.H=100,(Z=new Zb(ed++,[V.Da,V.ta,V.R,V.W],V.dc,V.Jb)).u=50,Z.qb=1,Z.F=A(.15,1,.9),Z.B=A(.5,.7,.6),Z.A=A(.1,.2,.2),Z.O=A(0,0,1,.5),Z.o=A(.1,.2,.5),Z.fc=1,Z.Y=.05,Z.G=.9,Z.Xb=1,Z.s=2,Z.Ga=V.Ia,Z.Fa=.003,Z.wa=V.Va,Z.I=.7,Z.Ya=91,Z.xb=8,Z.T=.2,Z.X=.5,Z.K=1,Z.L=.2,Z.M=30,Z.H=60,(Z=new Zb(ed++,[V.Fb,V.ta,V.tb,V.R,V.W],V.tb,V.Ob)).u=31,Z.F=A(.5,.2,.4),Z.B=R,Z.A=A(0,0,.5,.3),Z.o=A(.6,.3,.9),Z.D=A(0,0,.8,.5),Z.ba=3,Z.O=A(0,0,1,.5),Z.G=.7,Z.Ga=V.Ha,Z.Fa=.001,Z.I=1.5,Z.T=.4,Z.K=.8,Z.C=.3,Z.M=80,Z.H=160,(Z=new Zb(ed++,[V.sa,V.Da,V.rb,V.ha,V.eb,V.ta,V.W,V.R],V.rb,V.Ib)).ia=2,Z.u=31,Z.F=A(.7,1,.7),Z.B=A(.2,1,.9),Z.A=A(0,0,.15),Z.o=A(.1,.4,.5),Z.D=A(0,0,1,.3),Z.Y=.1,Z.ka=A(0,1,.7),Z.Fa=.01,Z.U=.1,Z.I=.7,Z.S=1,Z.T=.2,Z.X=.8,Z.K=.9,Z.C=.4,Z.H=120,(Z=new Zb(ed++,[V.fb,V.ub,V.R,V.W],V.ub,V.Ja)).u=31,Z.F=wb,Z.B=vb,Z.A=A(0,0,.1),Z.O=A(.15,1,.7),Z.o=A(.05,.5,.4),Z.D=A(.15,1,.5,.5),Z.Ya=23,Z.U=.5,Z.ba=1,Z.G=.5,Z.ka=A(.15,1,.8),Z.Xb=1,Z.s=5,Z.I=2,Z.S=.3,Z.T=.5,Z.X=.9,Z.C=.3,Z.L=.6,Z.M=80,Z.H=160,(Z=new Zb(ed++,[V.Da,V.aa,V.Gb,V.ta,V.W],V.ua,V.Kb)).ia=2,Z.u=50,Z.F=A(.5,1,.5),Z.B=A(0,1,.8),Z.A=A(.6,.3,.15),Z.o=A(.2,.3,.5),Z.O=A(0,0,1,.5),Z.U=0,Z.D=A(.15,1,.9,.3),Z.ba=4,Z.G=1.5,Z.I=.5,Z.qb=1,Z.u=50,Z.T=.1,Z.C=.4,Z.L=.8,Z.M=100,(Z=new Zb(ed++,[V.Eb,V.va,V.Ea,V.pc,V.R,V.ha],V.R,V.Mb)).ia=5,Z.u=9,Z.F=A(0,1,.8),Z.B=A(.6,1,.6),Z.O=A(0,0,0,0),Z.A=A(0,.6,.2,.8),Z.o=A(.1,.5,.4),Z.wb=1,Z.D=A(0,1,.96,.8),Z.$a=.6,Z.G=.7,Z.ka=A(.1,1,.7),Z.Ga=V.R,Z.Fa=.01,Z.I=0,Z.S=.8,Z.X=.6,Z.K=1,Z.C=.4,Z.L=.8,Z.M=10,Z.H=60,(Z=new Zb(ed++,[V.fb,V.Oa,V.Ta],V.Vb,V.Pb)).u=50,Z.F=A(.05,1,.8),Z.B=A(.15,1,.7),Z.O=A(0,1,.9),Z.A=A(.6,1,.1),Z.o=A(.6,1,.6),Z.D=A(.9,1,.5,.3),Z.Y=.2,Z.ka=cb,Z.s=4,Z.I=1.5,Z.S=.7,Z.T=.3,Z.X=.8,Z.K=1,Z.C=.5,Z.L=.9,Z.M=100,(Z=new Zb(ed++,[V.aa,V.Na,V.Ea,V.ha,V.sa],V.sb)).u=30,Z.F=A(.2,1,.9),Z.B=A(.55,1,.5),Z.A=A(0,0,.1),Z.o=A(.1,.5,.7),Z.D=A(0,0,1,.5),Z.G=.7,Z.wa=V.Ua,Z.ba=0,Z.S=.8,Z.X=1,Z.K=1,Z.C=.3,Z.L=.9,Z.H=80,(Z=new Zb(ed++,[V.Ea,V.eb,V.Db,V.aa,V.ua,V.Sa],V.ua)).ia=1,Z.o=A(.2,.3,.5),Z.u=Z.s=Z.U=0,Z.G=.5,Yc(),$c()</script>
