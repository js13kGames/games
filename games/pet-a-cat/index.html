<script>document.write('<!doctype html><html><meta content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=0" name=viewport><title>Pet-A-Cat - js13kGames 2025</title><style>*,:after,:before,:focus{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;outline:0!important;-webkit-appearance:none}html{line-height:1;-webkit-text-size-adjust:100%}button{font:inherit}:root{--bg:#000;--color:#c45a5a;--shadow:#b34a4a;--vw:1vw;--vh:1vh}body,body *{text-shadow:0 0 3px #000;display:flex;justify-content:center;align-items:center;position:relative;font-family:Comic Sans MS,Chalkboard SE,Comic Neue,Trebuchet MS,Times,serif}body,html{width:100vw;min-width:100vw;max-width:100vw;height:100vh;min-height:100vh;max-height:100vh;width:calc(var(--vw,1vw) * 100);min-width:calc(var(--vw,1vw) * 100);max-width:calc(var(--vw,1vw) * 100);height:calc(var(--vh,1vh) * 100);min-height:calc(var(--vh,1vh) * 100);max-height:calc(var(--vh,1vh) * 100);margin:0;padding:0;overscroll-behavior-y:none}body{align-items:flex-end;color:#ccc;font-size:24px;background:var(--bg);position:fixed;inset:0}small{width:100%;display:block;line-height:1;font-size:.75rem;text-align:right}h1,h2{margin:0;font-size:32px;width:100%;color:#fff}h2{font-size:24px}a{text-decoration:underline;color:var(--color);font-weight:700;cursor:pointer}hr{width:100%;border-color:#333;margin:16px 0}p{margin:0 0 8px;width:100%;line-height:1.2}b{color:#fff;margin-bottom:8px}ul{padding:0;margin:0;list-style:none;text-align:center}div{display:flex;justify-content:center;align-items:center}svg{filter:drop-shadow(0 0 5px #000)}.modal{position:fixed;width:100%;height:100%;z-index:100;opacity:0}.modal.active{opacity:1;z-index:100}.modal-overlay{position:absolute;width:10000%;height:10000%;background-color:#000000bf;z-index:101}.modal-container{position:absolute;padding:16px;z-index:102;background-color:var(--bg);border:2px solid var(--color);box-shadow:0 0 15px var(--shadow);border-radius:8px;text-align:center;flex-direction:column;min-width:300px;max-width:600px;overflow:hidden;transform:translateY(50px);transition:transform .5s}.active .modal-container{transform:translateY(0)}.modal-container header{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-bottom:16px}.modal-container main{font-size:18px;flex-direction:column}.modal-container footer{margin-top:16px}.modal button:first-of-type{margin-left:0}.modal button:last-of-type{margin-right:0}button{margin:0 .5rem;border:none;background:var(--bg-start,#555);padding:12px 24px;font-size:18px;font-weight:700;border-radius:8px;color:var(--color);cursor:pointer;box-shadow:0 4px 15px #0000004d;transition:.3s;position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:1px}button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:#ffffff1a;transition:left .5s}button:hover{transform:scale(1.05) translateY(-2px);box-shadow:0 6px 20px #0006}button:hover:before{left:100%}button:active{transform:scale(.98) translateY(0);box-shadow:0 2px 10px #0000004d}button.disabled{pointer-events:none;opacity:.25}button.muted{opacity:.5}button.normal{--color:#fff;--bg-start:#4a4a4a;--bg-end:#666}button.primary{--color:#fff;--bg-start:#c45a5a;--bg-end:#b34a4a;animation:2s ease-in-out infinite primaryPulse,10s ease-in-out infinite playButtonBounce}button.danger{--color:#fff;--bg-start:#95736c;--bg-end:#7a5f59}button.primary:hover{background:#b34a4a;box-shadow:0 6px 25px #c45a5a99}button.danger:hover{background:#7a5f59;box-shadow:0 6px 25px #95736c80}@keyframes primaryPulse{0%,to{box-shadow:0 4px 15px #0000004d,0 0 #c45a5a80}50%{box-shadow:0 4px 15px #0000004d,0 0 0 8px #c45a5a00}}@keyframes playButtonBounce{0%,80%,92%,to{transform:translateY(0)}82%{transform:translateY(-8px)}84%{transform:translateY(-2px)}86%{transform:translateY(-6px)}88%{transform:translateY(-1px)}90%{transform:translateY(-3px)}}.fireflies{position:fixed;z-index:0;filter:blur(1px);pointer-events:none}.edge-button{position:absolute;width:48px;height:48px;padding:8px;border:2px solid #fff;border-radius:8px;opacity:.4;z-index:5;cursor:pointer}.edge-button:hover{opacity:.6}.edge-button svg{fill:#fff;width:100%;height:100%}.edge-button.active{opacity:1}.edge-button.link{opacity:.8}.edge-button.link:hover{opacity:1}.game-over-container{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#00000080;color:#fff;font-size:4rem;visibility:hidden;opacity:0;transition:.25s ease-in-out;z-index:50}.game-over-container.active{visibility:visible;opacity:1}.game-over-container h1{margin-bottom:2rem}.game-over-container .final-score{font-size:3rem;margin-bottom:0}.game-over-container .subtitle{font-size:1.2rem;color:#ccc;font-style:italic;margin-bottom:2rem}.game-over-container .instruction{font-size:1rem;color:#ccc;font-style:italic;margin-bottom:2rem;display:none}.difficulty-button{margin:0 .5rem;border:none;background:var(--difficulty-color,#8b9dc3);padding:12px 24px;font-size:18px;font-weight:700;border-radius:8px;color:#fff;cursor:pointer;box-shadow:0 4px 15px #0000004d;transition:.3s;position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:1px;animation:2s ease-in-out infinite difficultyPulse}.difficulty-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:#ffffff1a;transition:left .5s}.difficulty-button:hover{transform:scale(1.05) translateY(-2px);box-shadow:0 6px 20px #0006}.difficulty-button:hover:before{left:100%}.difficulty-button:active{transform:scale(.98) translateY(0);box-shadow:0 2px 10px #0000004d}@keyframes difficultyPulse{0%,to{box-shadow:0 4px 15px #0000004d,0 0 0 0 var(--difficulty-color,rgba(139,157,195,.4))}50%{box-shadow:0 4px 15px #0000004d,0 0 0 8px transparent}}.game{flex-direction:column;width:100%;height:100%}.game *{transition:.2s ease-in-out}.eyes{position:absolute;width:100px;height:100px;cursor:pointer;padding:10px;border-radius:25px;top:-50px;left:-50px;background-color:#000;box-shadow:0 0 50px #000;z-index:10}.eyes svg{width:100%;height:100%}.background-pattern{position:absolute;inset:0;pointer-events:none;width:100%;height:100%;background-color:#000;opacity:.8;background-image:linear-gradient(#161616 1px,transparent 1px),linear-gradient(to right,#161616 1px,#000 1px);background-size:50px 50px;animation:5s linear infinite backgroundSlide}@keyframes backgroundSlide{0%{background-position:0 0}to{background-position:-50px -50px}}.survival-time{color:#fff;font-size:1.2rem;margin-bottom:2rem}.damage-effect{transition:transform .2s ease-in-out}.title-screen{position:absolute;width:100%;height:100%;background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:space-between;z-index:50}.game-title{font-size:2.5rem;margin-bottom:1rem;color:#e67b7b;text-shadow:2px 2px 8px rgba(196,90,90,.5),0 0 15px rgba(230,123,123,.3);font-weight:700;letter-spacing:2px;animation:3s ease-in-out infinite titleGlow,4s ease-out infinite titleBounce;transform:scale(1);transition:transform .3s;white-space:nowrap;padding:.5rem 0}.game-title:hover{transform:scale(1.05)}@keyframes titleGlow{0%,to{color:#e67b7b;filter:drop-shadow(0 0 15px rgba(196,90,90,.7))}50%{color:#ffa8a8;filter:drop-shadow(0 0 25px rgba(255,168,168,.9))}}@keyframes titleBounce{0%,to{transform:translateY(4px) rotate(0) scale(.95)}25%{transform:translateY(-8px) rotate(-3deg) scale(1.05)}50%{transform:translateY(0) rotate(0) scale(1)}75%{transform:translateY(-12px) rotate(3deg) scale(1.05)}}.game-subtitle{font-size:1.2rem;margin-bottom:2rem;color:#aaa;font-style:italic}.leaderboard{margin-bottom:2rem;text-align:center;display:flex;flex-direction:column;min-height:200px;justify-content:flex-start;opacity:.9}.leaderboard-title{font-size:1.2rem;margin-bottom:1rem;color:#bbb}.leaderboard-list{display:flex;flex-direction:column;gap:.5rem;align-items:center}.leaderboard-item{display:flex;justify-content:center;align-items:center;padding:.3rem .8rem;border-radius:4px;min-width:150px;font-size:.9rem}.leaderboard-item .score{font-weight:700}.leaderboard-item.rank-1{background:#ffd7001a;font-size:1.1em}.leaderboard-item.rank-1 .score{color:gold}.leaderboard-item.rank-2{background:#c0c0c01a;font-size:1.05em}.leaderboard-item.rank-2 .score{color:silver}.leaderboard-item.rank-3{background:#cd7f321a;font-size:1em}.leaderboard-item.rank-3 .score{color:#cd7f32}.leaderboard-item.rank-lower{background:#8080800d;font-size:.8em;padding:.2rem .6rem}.leaderboard-item.rank-lower .score{color:#aaa}.leaderboard-empty{color:#aaa;font-style:italic}.game-title-container{display:flex;flex-direction:column;align-items:center;margin-top:130px}.lives-container{position:absolute;bottom:1rem;right:0;color:#fff;font-size:2rem;display:flex;align-items:center;gap:.5rem;z-index:40;width:100%}.lives-container svg{width:3rem;height:3rem;transition:.25s ease-in-out;filter:drop-shadow(0 0 8px rgba(196,90,90,.6)) drop-shadow(0 0 15px rgba(230,123,123,.3));animation:1.5s ease-in-out infinite heartBeat}.lives-container svg.used{transform:scale(.6);fill:#80808080;stroke:#80808080;filter:drop-shadow(0 0 3px rgba(128,128,128,.3));animation:none}@keyframes heartBeat{0%,to{transform:scale(1) translateY(0)}50%{transform:scale(1.1) translateY(-4px)}}.level-container{position:absolute;top:1rem;color:#fff;font-size:1.5rem;z-index:40;font-weight:700;display:flex;align-items:center;gap:.25rem}.difficulty-value{font-weight:700;text-transform:uppercase;letter-spacing:.1em}.progress-bar{position:relative;width:300px;height:20px;background-color:var(--bg);border:1px solid var(--shadow);padding:2px;border-radius:4px;overflow:hidden;justify-content:flex-start}.progress{height:14px;border-radius:2px;background-color:var(--color)}.level-progress-container{position:absolute;top:2rem;left:0;right:0;z-index:30;padding:1rem;display:flex;flex-direction:column;align-items:center;gap:.5rem}.level-progress-container .progress-bar{width:80%;height:12px;background-color:#0000004d;border:1px solid rgba(255,255,255,.2);border-radius:6px}.level-progress-container .progress{height:6px;transition:width .3s ease-out,background-color .3s ease-out;border-radius:4px}.level-progress-text{color:#fff;font-size:.9rem;text-align:center;opacity:.8;text-transform:uppercase;letter-spacing:.05em}.debug-sound-panel{position:fixed;bottom:10px;right:10px;display:flex;flex-direction:column;gap:5px;background:#000c;padding:10px;border-radius:5px;border:1px solid #333;z-index:1000;font-family:monospace}.debug-title{color:#fff;font-size:12px;text-align:center;margin-bottom:5px;border-bottom:1px solid #333;padding-bottom:5px}.debug-sound-btn{background:#222;color:#fff;border:1px solid #444;padding:4px 8px;border-radius:3px;font-size:10px;cursor:pointer;transition:.2s;font-family:monospace}.debug-sound-btn:hover{background:#333;border-color:#555}.debug-sound-btn:active{background:#111;transform:scale(.95)}</style><div class=background-pattern></div>');function t(...t){const e=C.createBuffer(t.length,t[0].length,b),n=C.createBufferSource();return t.map((t,n)=>e.getChannelData(n).set(t)),n.buffer=e,n.connect(C.destination),n.start(),n}function e(t=1,e=.05,n=220,a=0,o=0,s=.1,r=0,i=1,l=0,c=0,u=0,h=0,d=0,p=0,f=0,v=0,M=0,m=1,w=0,g=0){const x=2*Math.PI,C=b,O=l*=500*x/C/C,I=[];let $,D,A=n*=(1+2*e*Math.random()-e)*x/C,k=0,z=0,S=0,T=1,E=0,B=0,F=0;for(c*=500*x/C**3,f*=x/C,u*=x/C,h*=C,d=d*C|0,D=(a=a*C+9)+(w*=C)+(o*=C)+(s*=C)+(M*=C)|0;D>S;I[S++]=F)++B%(100*v|0)||(F=r?r>1?r>2?r>3?Math.sin((k%x)**3):Math.max(Math.min(Math.tan(k),1),-1):1-(2*k/x%2+2)%2:1-4*Math.abs(Math.round(k/x)-k/x):Math.sin(k),F=(d?1-g+g*Math.sin(x*S/d):1)*(F>0?1:-1)*Math.abs(F)**i*t*y*(a>S?S/a:a+w>S?1-(S-a)/w*(1-m):a+w+o>S?m:D-M>S?(D-S-M)/s*m:0),F=M?F/2+(M>S?0:(D-M>S?1:(D-S)/M)*I[S-M|0]/2):F),$=(n+=l+=c)*Math.cos(f*z++),k+=$-$*p*(1-1e9*(Math.sin(S)+1)%2),T&&++T>h&&(n+=u,A+=u,T=0),!d||++E%d||(n=A,l=O,T=T||1);return I}function n(t,e=null){const n=t.split("."),o=n.shift(),s=document.createElement(o);return n.forEach(t=>{s.classList.add(t)}),"string"==typeof e?((t,e)=>{t.textContent=e})(s,e):Array.isArray(e)?e.forEach(t=>a(s,t)):null!=e&&a(s,e),s}function a(t,e){t.insertAdjacentElement("beforeend",e)}function o(t,e){return e&&(t=t.replace("[fill]",`fill="${e}"`)),(new DOMParser).parseFromString(t,"image/svg+xml").documentElement}function s(t){const e=getComputedStyle(t),n=new WebKitCSSMatrix(e.transform);return {x:n.m41,y:n.m42,scale:Math.sqrt(n.a*n.a+n.b*n.b),rotate:Math.round(Math.atan2(n.b,n.a)*(180/Math.PI)),opacity:parseFloat(e.opacity)}}function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function i(t,e,n){return Math.min(Math.max(t,e),n)}function l(t){let e=t,n=[];return {get value(){return e},set value(t){e=t,(()=>{for(let t of n)t(e)})()},subscribe(t){return n.push(t),()=>{n=n.filter(e=>e!==t)}}}}function c(){ if(!k)return ;D.seed. value=O.t();const t=Object.entries(D).reduce((t,[e,n])=>(t[e]=n. value,t),{}),e=btoa(JSON.stringify(t));localStorage.setItem(I,e)}function u(t,e,a){const o=n("button."+a,t);return o.onclick=t=>{d(S.o),e(t)},o}function h(){null!=A&&A.remove()}function d(n){D.i. value&&null!=C&&((...n)=>{t(e(...n))})(...n)}function p(t,e,n,a,o){t&&t.clearRect(0,0,n,a),((t,e,n,a)=>{ if(100>t.length)for(let e=0;10>e;e++)t.push(new a);for(let a=0;t.length>a;a++)t[a].move(),t[a].show(),(0>t[a].x||t[a].x>e||0>t[a].y||t[a].y>n)&&t.splice(a,1)})(e,n,a,o)}function f(t,e){const n=F++;t.style.transition="none";const a=Date.now(),o=e.duration??1e3,r=e.l??P.u;s(t);const i={...s(t),...e.from??{}};return N[n]=s=>{const l=Math.max(0,Math.min(1,(s-a)/o)),c=e.to;let u="";const h=i.x??0;u+=void 0!==c.x?`translateX(${h+(c.x-h)*r(l)}px) `:`translateX(${h}px) `;const d=i.y??0;u+=void 0!==c.y?`translateY(${d+(c.y-d)*r(l)}px) `:`translateY(${d}px) `;const p=i.scale??1;u+=void 0!==c.scale?`scale(${p+(c.scale-p)*r(l)}) `:`scale(${p}) `;const f=i.rotate??0;u+=void 0!==c.rotate?`rotate(${f+(c.rotate-f)*r(l)}deg) `:`rotate(${f}deg) `;const v=i.opacity??1; if(void 0!==c.opacity){const e=v+(c.opacity-v)*r(l);t.style.opacity=""+e}else t.style.opacity=""+v;t.style.transform=u,1===l&&(delete N[n],t.style.transition="",e.h?.())},n}function v(t){return t.toLocaleString()}function M(){const t=D.p. value;let e=j[0];for(const n of j){ if(n.p>t)break;e=n}return D.level. value!==e.level&&(D.level. value=e.level),e}function m(t){return j.find(e=>e.level===t)||j[0]}function w(t=!1){const e=[],n=Math.floor(.7*Z);for(let t=0;n>t;t++)e.push("evil");const a=Math.floor(.15*Z);for(let t=0;a>t;t++)e.push("heart");const o=Math.floor(.15*Z);for(let t=0;o>t;t++)e.push("dead"); if(t){const t=e.filter(t=>"evil"===t),n=e.filter(t=>"evil"!==t),a=[...t.slice(5),...n];for(let t=a.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[a[t],a[e]]=[a[e],a[t]]}return [...t.slice(0,5),...a]}for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function g(){D.v. value>0||H||(()=>{H=!0;const t=document.querySelectorAll(".eyes");t.forEach(t=>{const e=t.getAttribute("data-id"); if(e){const n=J.find(t=>t.id===e);n&&(n.M>R||"heart"===n.type)&&f(t,{to:{opacity:0,scale:0},duration:200,l:P.m,h(){t.remove(),U(e)}})}}),setTimeout(()=>{d(S.C)},600),setTimeout(()=>{t.forEach(t=>t.remove()),J.length=0,Q&&Q()},"dead"===D.O. value?1500:1e3)})();const t=Date.now(); if(Object.values(N).forEach(e=>e(t)),t-G>L&&!H&&!Y){(()=>{0===q.length&&(q=w());const t=q.shift(),{clientWidth:e,clientHeight:s}=at;let l,c,u,h,p,v=0;const m=Date.now(),g=`cat-eye-${m}-${Math.random().toString(36).substring(7)}`;for(;;){l=r(0,e),c=r(0,s),u=r(-30,30),u>-10&&0>u?u=r(-30,-10):u>=0&&10>u&&(u=r(10,30)),h=i(l,V/2,e-V/2),p=i(c,2*X+V/2,s-V/2-X);let n=!1;for(const t of J) if(K>Math.sqrt(Math.pow(h-t.x,2)+Math.pow(p-t.y,2))){n=!0;break} if(!n){J.push({x:h,y:p,id:g,M:m,type:t});break} if(v++,v>=10)return void console.warn("Could not find a suitable spot for cat eye after multiple attempts.")}const x=n("div.eyes"); if("heart"===t){const t=o(E.I,"transparent"),e=o(E.I,"transparent");t.querySelector("path").setAttribute("fill","none"),t.querySelector("path").setAttribute("stroke","#fff"),t.querySelector("path").setAttribute("stroke-width","32"),e.querySelector("path").setAttribute("fill","none"),e.querySelector("path").setAttribute("stroke","#fff"),e.querySelector("path").setAttribute("stroke-width","32"),t.style.position="absolute",t.style.width="30px",t.style.height="30px",t.style.left="15px",t.style.top="35px",e.style.position="absolute",e.style.width="30px",e.style.height="30px",e.style.right="15px",e.style.top="35px",a(x,t),a(x,e)}else if("dead"===t){const t=o(E.x,"#fff"),e=o(E.x,"#fff");t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.left="20px",t.style.top="40px",e.style.position="absolute",e.style.width="20px",e.style.height="20px",e.style.right="20px",e.style.top="40px",a(x,t),a(x,e)}else{const t=o(E.$,"#fff");a(x,t)}x.setAttribute("data-id",g),x.setAttribute("data-type",t),x.style.transform=`translate(${h}px, ${p}px) rotate(${u}deg)`,a(at,x);const y=M(),b=setTimeout(()=>{ if("heart"===t||"dead"===t||D.v. value>0&&(D.O. value="evil",D.v. value=D.v. value-1,R=m),x.style.zIndex="11",x.style.pointerEvents="none",x.style.backgroundColor="transparent",x.style.boxShadow="none","heart"===t)x.querySelectorAll("svg").forEach(t=>{t.querySelector("path").setAttribute("stroke","#ffffff66")}),f(x,{to:{opacity:0,scale:0},duration:300,l:P.m,h(){f(x,{to:{opacity:0},duration:300,l:P.D,h(){x.remove(),U(g)}})}});else if("dead"===t)x.querySelectorAll("svg").forEach(t=>{t.querySelector("path").setAttribute("fill","#ffffff66")}),f(x,{to:{opacity:0,scale:0},duration:300,l:P.m,h(){x.remove(),U(g)}});else{const t=x.querySelector("svg");t&&(t.style.fill="#f00"),f(x,{to:{scale:2,rotate:u>0?r(-15,-5):r(5,15),x:i(h,V/2,e-V/2),y:i(p,2*X+V/2,s-V/2-X)},duration:300,l:P.A,h(){f(x,{to:{opacity:0},duration:300,l:P.D,h(){x.remove(),U(g)}})}})}},y.k);x.addEventListener("click",()=>{ if(!H) if(clearTimeout(b),x.style.zIndex="11",x.style.pointerEvents="none",x.style.backgroundColor="transparent",x.style.boxShadow="none","dead"!==t&&d(S.S),"heart"===t){const t=x.querySelectorAll("svg");D.T. value>D.v. value?(D.v. value=D.v. value+1,t.forEach(t=>{t.querySelector("path").setAttribute("fill","#ff69b4")})):(D.p. value+=25,t.forEach(t=>{t.querySelector("path").setAttribute("fill","#ffd700")})),f(x,{to:{scale:1.5,rotate:u>0?r(-10,-5):r(5,10),x:i(h,V/2,e-V/2),y:i(p,2*X+V/2,s-V/2-X)},duration:1e3,l:P.B,h(){f(x,{to:{opacity:0},duration:300,l:P.D,h(){x.remove(),U(g)}})}})}else"dead"===t?(D.v. value>0&&(D.O. value="dead",D.v. value=D.v. value-1,R=m),x.querySelectorAll("svg").forEach(t=>{t.querySelector("path").setAttribute("fill","#ff0000")}),f(x,{to:{scale:2,rotate:u>0?r(-15,-5):r(5,15),x:i(h,V/2,e-V/2),y:i(p,2*X+V/2,s-V/2-X)},duration:300,l:P.A,h(){f(x,{to:{opacity:0},duration:200,l:P.D,h(){x.remove(),U(g)}})}})):(D.p. value+=10,x.querySelectorAll("svg").forEach(t=>{t.querySelector("path").setAttribute("fill","#ffffff66")}),f(x,{to:{opacity:0,scale:0},duration:300,l:P.m,h(){x.remove(),U(g)}}))})})(),G=t;const e=M();L=r(e.F,e.N)}D.P. value=t,requestAnimationFrame(g)}function x(){let t=.01*window.innerWidth,e=.01*window.innerHeight;document.documentElement.style.setProperty("--vw",t+"px"),document.documentElement.style.setProperty("--vh",e+"px")}const y=.3,b=44100;let C=null;const O={seed:0,L(t){O.seed=t},t(){return O.seed},random(){O.seed+=1831565813;let t=O.seed;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}},I="pet-a-cat",$={seed:l(12),P:l(Date.now()),i:l(null),level:l(1),v:l(3),T:l(3),G:l(0),O:l(null),p:l(0),H:l([])};let D,A,k=!1,z=!1;const S={o:[1.03,.5,355,,,0,,.71,12,,-752,.03,,,,,,.22,.01],rotate:[1.02,.5,1133,,.01,.01,1,1.06,,.3,,,,.1,52,,,.13,.01],R:[1.37,,1133,1,.1,.27,,1.45,-2,,136,.09,.18,.2,,,.1,.83,.13],Y:[1.03,.5,411,,.19,.33,1,.98,,,133,.04,.15,,,,,.53,.18],W:[1.03,.5,300,,.05,,,.7,12,,-700,.07,,,,,,.3,.1],q:[1.2,.5,355,,.02,.06,,.71,14,,100,.05,,,,,,.3,.01],Z:[1,.05,264,.18,.02,.006,4,2.2,-.1,0,-3,.24,.01,0,1,0,0,.53,.19,0,-878],j:[1.1,,66,.01,.09,.12,4,1.6,,6,,,.02,1.2,,,,.57,.07,.01],J:[.9,,68,.2,,.2,4,0,-33,,50,,.13,,,,.35,.85,.2,.06,-1195],S:[.5,,1e3,.05,.2,.2,2,,3,-15,,,,.1,,,,.7,.05],K:[,0,1e3,.15,.1,,1,.3,,-15,,,,,,,,.6,.1],C:[1.2,,76,.16,,.02,,1.7,4,,-30,.06,.12,,,,,.76,.47,.07,145],V:[.5,,914,,.03,.002,2,.3,,17,,,,,,,,.78,.03,.02,-624]},T=((t,n,a,o=125)=>{let s,r,i,l,c,u,h,d,p,f,v,M=0,m=0,w=0,g=0,x=[];const y=[],C=[];let O=0,I=0,$=1;const D={},A=b/o*60>>2;for(;$;O++)x=[$=d=w=0],a.map((o,b)=>{for(h=n[o][O]||[0,0,0],$|=!!n[o][O],v=w+(n[o][0].length-2-!d)*A,f=b==a.length-1,r=2,l=w;h.length+f>r;d=++r){for(c=h[r],p=r==h.length+f-1&&f||M!=(h[0]||0)|c,i=0;A>i&&d;i++>A-99&&p&&(m+=(1>m)/99))u=(1-m)*x[g++]/2||0,y[l]=(y[l]||0)-u*I+u,C[l]=(C[l++]||0)+u*I+u;c&&(m=c%1,I=h[1]||0,(c|=0)&&(x=D[`i${M=h[g=0]||0}n${c}`]=D[`i${M}n${c}`]||(s=[...t[M]],s[2]*=2**((c-12)/12),c>0?e(...s):[])))}w=v});return [y,C]})([[.5,0,43,,,.25,,,,,,,,.1]],[[[,,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33]],[[,,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33]]],[0],50),E={i:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 24 24"><path d="m6 7 8-5v20l-8-5V7zM0 17h4V7H0v10zM20 4l-1 1a9 9 0 0 1 0 14l1 1c3-2 4-5 4-8s-1-6-4-8zm0 8c0-2-1-4-3-5l-1 1 2 4-2 4 1 1c2-1 3-3 3-5z"/></svg>',X:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 24 24"><path d="M13 7c5-4-1-4 0-7-4 4 1 4 0 7zm-3 0c3-3-1-3 0-5-2 3 1 3 0 5zm9 3-2-2H7l-2 2v1h14v-1zm-3 4-2 8h-4l-2-8h8zm2-2H6l2 12h8l2-12z"/></svg>',U:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 -8 71 63"><path d="M60 5a59 59 0 0 0-15-4l-1 3a54 54 0 0 0-17 0 37 37 0 0 0-2-4 58 58 0 0 0-14 5A60 60 0 0 0 0 46a59 59 0 0 0 18 8 42 42 0 0 0 4-5v-1l-6-2v-1a30 30 0 0 0 2-1 42 42 0 0 0 36 0l1 1v1l-6 2a47 47 0 0 0 4 7 59 59 0 0 0 18-10A60 60 0 0 0 60 5ZM24 37c-4 0-7-3-7-7s3-7 7-7c3 0 6 3 6 7s-3 7-6 7Zm23 0c-3 0-6-3-6-7s3-7 6-7c4 0 7 3 7 7s-3 7-7 7Z"/></svg>',$:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 512 512"><path d="M74 168C-91 375 220 342 220 342 139 289 74 168 74 168zm5 140c-8-14-4-37 12-68l11 14 19 62 7-31a561 561 0 0 0 51 49c-52 2-89-7-100-26zm359-140s-65 121-146 174c0 0 311 33 146-174zm-5 140c-11 19-48 28-100 26a561 561 0 0 0 51-49l7 31 19-62a734 734 0 0 0 11-14c16 31 20 54 12 68z" /></svg>',_:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 512 512"><path d="M190 22h-2c39 75 187 158 308 333C457 195 280 22 190 22zM84 65c61 99 249 213 375 379C420 283 173 63 84 65zm-68 82c60 87 195 155 355 345-39-161-265-348-355-345z" transform="translate(0 1)"/></svg>',I:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 512 512"><path d="M480 156c0 162-224 325-224 325S32 318 32 156c0-91 70-125 108-125 77 0 116 66 116 66s39-66 116-66c38 0 108 34 108 125z" transform="translate(0 1)"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" [fill] viewBox="0 0 24 24"><path d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/></svg>'};class B{constructor(t,e,s,r,i){this.path=s,this.renderState=t=>{this.root.classList.toggle("active",!0===t),"sound"===this.path&&null!=C&&(t?C.resume():C.suspend())},this.root=n("div.edge-button",o(e,"#fff")),this.root.style.top=r+"px",this.root.style.right=i+"px",a(t,this.root),"sound"===s&&(this.renderState(D.i. value),this.root.onclick=()=>{d(S.o),D.i. value=!D.i. value,this.renderState(D.i. value)})}}let F=0;const N={},P={tt(t){return Math.pow(t,2)},et(t){return -(Math.pow(t-1,2)-1)},nt(t){return 1>(t/=.5)?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},ot(t){return Math.pow(t,3)},st(t){return Math.pow(t-1,3)+1},rt(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},it(t){return Math.pow(t,4)},lt(t){return -(Math.pow(t-1,4)-1)},ct(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},ut(t){return Math.pow(t,5)},ht(t){return Math.pow(t-1,5)+1},dt(t){return 1>(t/=.5)?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},ft(t){return 1-Math.cos(t*(Math.PI/2))},vt(t){return Math.sin(t*(Math.PI/2))},Mt(t){return -.5*(Math.cos(Math.PI*t)-1)},D(t){return 0===t?0:Math.pow(2,10*(t-1))},wt(t){return 1===t?1:1-Math.pow(2,-10*t)},u(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},gt(t){return -(Math.sqrt(1-t*t)-1)},xt(t){return Math.sqrt(1-Math.pow(t-1,2))},yt(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},bt(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},m(t){var e=1.70158;return t*t*((e+1)*t-e)},Ct(t){var e=1.70158;return (t-=1)*t*((e+1)*t+e)+1},Ot(t){var e=1.70158;return 1>(t/=.5)?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},B(t){return -1*Math.pow(4,-8*t)*Math.sin(2*Math.PI*(6*t-1)/2)+1},It(t){var e=1.70158;return 1>(t/=.5)?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},$t(t){var e=1.70158;return t*t*((e+1)*t-e)},A(t){var e=1.70158;return (t-=1)*t*((e+1)*t+e)+1},Dt(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},At(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},kt(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},zt(t){return Math.pow(t,4)},St(t){return Math.pow(t,.25)},Tt(t){return t}};let Q=null,L=2e3,G=0,H=!1,R=0,Y=!1,W=null,q=[];const Z=20,j=[{p:0,F:1500,N:2500,k:3e3,level:1,name:"Kitten",color:"#87CEEB"},{p:50,F:1200,N:2e3,k:2500,level:2,name:"House Cat",color:"#98FB98"},{p:100,F:900,N:1500,k:2e3,level:3,name:"Alley Cat",color:"#F0E68C"},{p:200,F:700,N:1200,k:1800,level:4,name:"Wild Cat",color:"#DDA0DD"},{p:350,F:500,N:1e3,k:1500,level:5,name:"Hunter",color:"#FFA500"},{p:500,F:400,N:800,k:1300,level:6,name:"Predator",color:"#FF6347"},{p:750,F:300,N:600,k:1e3,level:7,name:"Nightmare",color:"#DC143C"},{p:1e3,F:300,N:450,k:1e3,level:8,name:"Shadow",color:"#8B0000"}],J=[],K=150,V=100,X=70,U=t=>{const e=J.findIndex(e=>e.id===t);e>-1&&J.splice(e,1)},_={},tt={};class et{constructor(t,e,o,s){this.min=e,this.max=o,this. value=s,this.Et=n("div.progress"),this.container=n("div.progress-bar",this.Et),this.Bt(s),a(t,this.container)}Ft(){return Math.min(100,Math.max(0,(this. value-this.min)/(this.max-this.min)*100))}Bt(t){this. value=t,this.Et.style.width=this.Ft()+"%"}}let nt,at,ot;window.addEventListener("DOMContentLoaded",()=>{nt=document.body,(()=>{const t=localStorage.getItem(I),e=t?atob(t):"{}",n=JSON.parse(e);D=Object.entries($).reduce((t,[e,a])=>(t[e]=void 0!==n?.[e]?l(n[e]):a,t),{}),O.L(D.seed. value),k=!0})(),setInterval(c,15e3),globalThis.onbeforeunload=()=>{c()},function (){const t=n("canvas.fireflies");a(nt,t);let e=t.getContext("2d"),o=t.width=window.innerWidth,s=t.height=window.innerHeight; if(e){class n{constructor(){this.x=Math.random()*o,this.y=Math.random()*s,this.s=2*Math.random(),this.Nt=2*Math.random()*Math.PI,this.Pt=this.s*this.s/4}move(){this.x+=this.Pt*Math.cos(this.Nt),this.y+=this.Pt*Math.sin(this.Nt),this.Nt+=20*Math.random()*Math.PI/180-10*Math.PI/180}show(){e&&(e.beginPath(),e.arc(this.x,this.y,this.s,0,2*Math.PI),e.fillStyle="#666",e.fill())}}let a=[];window.addEventListener("resize",()=>{o=t.width=window.innerWidth,s=t.height=window.innerHeight,p(e,a,o,s,n)}),p(e,a,o,s,n),setInterval(()=>{p(e,a,o,s,n)},1e3/30)}}(),D.v. value=D.T. value,D.p. value=0,D.level. value=1,at=((t,e=360,a=780,o="bottom",s="default")=>{const r=n("div.scaleable-container");return r.classList.add(s),r.style.transformOrigin=o,r.style.transition="none",r.style.width=e+"px",r.style.minWidth=e+"px",r.style.maxWidth=e+"px",r.style.height=a+"px",r.style.minHeight=a+"px",r.style.maxHeight=a+"px",new ResizeObserver(t=>{t.forEach(t=>{((t,e,n,a,o,s="default")=>{null==_[s]&&(_[s]={width:1,height:1,Qt:1}),_[s].width=a/e,_[s].height=o/n,_[s].Qt=Math.min(_[s].width,_[s].height),t.style.transform=`scale(${_[s].Qt})`,null!=tt[s]&&tt[s](_[s])})(r,e,a,t.contentRect.width,t.contentRect.height,s)})}).observe(t),r})(nt,360,780,"bottom","game"),a(nt,at),(t=>{const e=n("div.lives-container"),s=[];for(let t=0;D.T. value>t;t++){const r=n("div");r.style.position="relative",r.style.display="inline-block";const i=o(E.I,"#c45a5a");i.style.animationDelay=.75*t+"s",a(r,i),s.push(i),a(e,r)}let r=D.v. value;const i=t=>{for(let e=0;D.T. value>e;e++)t>e?s[e].classList.remove("used"):e>=t&&r>e?(l(s[e]),s[e].classList.add("used")):s[e].classList.add("used");r=t},l=t=>{d(S.W);const e=D.O. value;let n;n="dead"===e?o(E.x,"#666"):o(E._,"#c45a5a"),n.style.position="absolute",n.style.top="dead"===e?"-2px":"0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.zIndex="10",n.style.pointerEvents="none","dead"===e&&(n.style.transform="scale(1.5) rotate(45deg)"),a(t.parentElement,n),f(n,"dead"===e?{to:{rotate:90,scale:.6},duration:500,l:P.bt,h(){f(n,{to:{opacity:0},duration:300,l:P.et,h(){n.remove()}})}}:{to:{opacity:0},duration:800,l:P.et,h(){n.remove()}})};D.v.subscribe(i),i(D.v. value),a(t,e)})(at),(t=>{const e=n("div.level-container"),o=n("span.difficulty-value","Kitten");a(e,o);let s=1;const r=t=>{const n=m(t);o.textContent=n.name,o.style.color=n.color,t>s&&f(e,{to:{scale:1.2},duration:150,l:P.Ct,h(){f(e,{to:{scale:1},duration:150,l:P.Ct})}}),s=t};D.level.subscribe(r),r(D.level. value),a(t,e)})(at),(t=>{const e=n("div.level-progress-container"),o=n("div.level-progress-text",""),s=new et(e,0,100,0);a(e,o);let r=0,i=!1,l=1;const c=[{p:0,level:1},{p:50,level:2},{p:100,level:3},{p:200,level:4},{p:350,level:5},{p:500,level:6},{p:750,level:7},{p:1e3,level:8}],u=()=>{const t=D.p. value,n=D.level. value,a=c[c.length-1].level; if(n>l&&f(e,{to:{y:4},duration:150,l:P.bt,h(){f(e,{to:{y:0},duration:150,l:P.Ct})}}),l=n,n>=a){ if(s.Bt(100),!i&&t>=1e3)return i=!0,r=t,void(o.textContent=v(t)); if(!1===i)return ; if(r!==t){const e=r,n=t-e,a=Math.min(500,30*Math.abs(n)),s=Date.now(),i=()=>{const l=Date.now()-s,c=Math.min(l/a,1);r=Math.round(e+n*(1-Math.pow(1-c,2))),o.textContent=v(r),1>c?requestAnimationFrame(i):(r=t,o.textContent=v(t))};requestAnimationFrame(i)}else o.textContent=v(t);return }const u=c.find(t=>t.level===n),h=c.find(t=>t.level===n+1); if(!u||!h)return ;s.Bt(Math.min((t-u.p)/(h.p-u.p)*100,100));const d=m(n);s.Et.style.backgroundColor=d.color;const p=h.p-t; if(p>0){const t=m(n+1);o.textContent=`${v(p)} to ${t.name}`}else o.textContent=a>n?"Level Up!":v(t)};D.p.subscribe(u),D.level.subscribe(u),u(),a(t,e)})(at),(t=>{const e=n("div.game-over-container"),o=n("p.final-score"),s=n("p.subtitle","points"),r=n("p.instruction",""),i=n("button.difficulty-button","PLAY AGAIN");i.onclick=()=>{window.location.reload()},a(e,o),a(e,s),a(e,r),a(e,i),Q=()=>{const n=D.p. value,a=m(D.level. value);var l;(t=>{ if(0===t)return ;const e=[...D.H. value];e.push(t),e.sort((t,e)=>e-t),D.H. value=e.slice(0,5)})(n),0===n?(o.innerHTML="",s.innerHTML="",r.innerHTML='<span style="color: #ccc; font-size: 1rem;">Tap the cat eyes to score points!</span>',r.style.display="block"):(o.innerHTML=`<span style='font-weight: bold; color: ${a.color};'>${v(n)}</span>`,s.innerHTML=`<span style="color: ${a.color};">points</span>`,r.style.display="none"),i.textContent=1e3>(l=n)?750>l?500>l?350>l?200>l?100>l?50>l?25>l?l>0?"GOOD TRY!":"TRY AGAIN!":"NICE!":"WELL DONE!":"GREAT JOB!":"AWESOME!":"FANTASTIC!":"AMAZING!":"INCREDIBLE!":"LEGENDARY!",i.style.setProperty("--difficulty-color",a.color);const c=(t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16),s=Math.max(0,Math.min(255,n+-20)),r=Math.max(0,Math.min(255,a+-20)),i=Math.max(0,Math.min(255,o+-20));return `#${s.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`})(a.color);i.style.setProperty("--difficulty-color-dark",c);const u=t.querySelector(".score-container"),h=t.querySelector(".lives-container"),d=t.querySelector(".level-container"),p=t.querySelector(".level-progress-container");u&&(u.style.display="none"),h&&(h.style.display="none"),d&&(d.style.display="none"),p&&(p.style.display="none"),e.classList.add("active")},a(t,e)})(at);const e=(t=>{const e=n("div.title-screen"),a=n("div.game-title-container"),o=n("div.game-title","Pet-A-Cat");a.appendChild(o);const s=n("div.game-subtitle","or get a scratch...");a.appendChild(s);const r=u("Play",t,"primary");a.appendChild(r),e.appendChild(a);const i=D.H. value,l=n("div.leaderboard"); if(i.length>0){const t=n("h3.leaderboard-title","Top Scores");l.appendChild(t);const e=n("div.leaderboard-list");i.forEach((t,a)=>{const o=n("div.leaderboard-item"),s=a+1;o.classList.add(1===s?"rank-1":2===s?"rank-2":3===s?"rank-3":"rank-lower"),o.innerHTML=`<span class="score">${v(t)}</span>`,e.appendChild(o)}),l.appendChild(e)}return e.appendChild(l),e})(()=>{e.remove(),D.G. value=Date.now(),q=w(!0),D.p.subscribe(()=>{null===W&&(W=setTimeout(()=>{M(),W=null},500))}),M(),g()});a(at,e),null==D.i. value&&((t,e,o,s=[],r,i="none",l=!0)=>{h();const c=n("div.modal-overlay");l&&(c.onclick=()=>{h()});let d=[];for(let t=0;s.length>t;t+=1){const e=s[t];d.push(u(e.content,t=>{null!=e.Lt&&e.Lt(t),h()},e.type))}"string"==typeof e&&(e=n("h2",e)),"string"==typeof o&&(o=n("p",o)),A=n("div.modal."+i,[c,n("div.modal-container",[n("header",e),n("main",o),n("footer",d)])]),a(t,A),requestAnimationFrame(()=>{A.classList.add("active")})})(at,"Play with sound?","",[{type:"muted",content:"No",Lt(){D.i. value=!1}},{type:"primary",content:"Meow!",Lt(){D.i. value=!0,ot&&ot.renderState(D.i. value)}}]),nt.onclick=()=>{z||(z=!0,C=new AudioContext,t(...T).loop=!0,D.i. value?C.resume():C.suspend())},ot=new B(nt,E.i,"sound",8,8),x()}),window.addEventListener("resize",x)</script>