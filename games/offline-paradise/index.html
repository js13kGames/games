<!DOCTYPE html><html><title>Offline Paradise - js13kGames 2018</title><head><style>body{margin:0;background:#222}.overlay,body{display:flex;width:100vw;height:100vh;overflow:hidden;align-items:center;justify-content:center;color:#eee;background:#222;font-family:sans-serif}.overlay{position:fixed;display:none}body.loading .overlay{display:flex}canvas{width:100%;height:100%;object-fit:contain}</style></head><body class=loading><canvas width=1920 height=1080></canvas><div class=overlay>Generating assets...</div><script>let t,h,s,i,a=1/60;var e=null,n=null,r=null,l=null;let o=0;var c={},f={};let u={37:1,39:4,38:2,40:8,16:16,90:32,32:32};document.addEventListener("keydown",({keyCode:t})=>{(t=u[t])&&(f[t]=c[t],c[t]=!0)},!1),document.addEventListener("keyup",({keyCode:t})=>{(t=u[t])&&(f[t]=c[t],c[t]=!1)},!1);var b={ma:"data:image/gif;base64,R0lGODlhLAAcAKIAAOA1/2wx8juz/znnWv+zO////9PT0////yH5BAEAAAcALAAAAAAsABwAAAP/eLrQ+3DIQQh8pdzb3J5TNWxHlpFMB1wgJY6XeW5doEbgK22yZj4qWyOwaFFAi55SlqoBbMVcS7GsEJTObIDYIkypPWulFxQ+t1zj7mEIi68n1fB5Tk9QB4PeJCbL6WhEeCQyYz0HQzaKaCx3KEuHiHOBjV8xkAV6EJQfajxMepqDnZ4QbRkGo6NSSKaieAKxg6xrqhCxsnhdXjBgPyi4ubo5Ir6/JMEBuKshFoiRG8qx0sK2Ch2YBSsHAsrU1ShfDdnaW9PJy5XifmSBuObpD7QYfnJo3fjBAjgSvLUlWOzd+xbvQLNWVLBlAKDthjtv0nDo6HXtT8MOCx4WNOgCDyEQB3+2PeD0gZc1OQsSAAA7",Y:[{x:0,y:0,i:13,h:13,j:11,l:11},{x:14,y:0,i:13,h:9,j:7,l:1},{x:28,y:0,i:16,h:15,j:9,l:8},{x:17,y:10,i:11,h:9,j:10,l:8},{x:0,y:15,i:16,h:13,j:6,l:12},{x:16,y:20,i:12,h:8,j:2,l:7},{x:29,y:16,i:15,h:12,j:8,l:6}]},A={ma:"data:image/gif;base64,R0lGODlhswAFAIAAAAAAAP///yH5BAEAAAEALAAAAACzAAUAAAKRDB52kIrL3IOJRlNRfo3d2mGgs11L2Z2QF5oi5sZU1tR2qcGtHfN+7Rr5IkSe5wjqJXfLW1C3ZEGfL8Xt+lodNZ8sadOanITAb1XHSoe5a1PO20TD4+cuFjiG6oXSUDn+pFT0N9XXl8RBNhckpbb3YecEGSkzZmFpIZkokmfZZgjnabS5BYlnyhSYIor3YxVQAAA7"},y={ma:"data:image/gif;base64,R0lGODlhGwADAIAAABgQK////yH5BAEAAAEALAAAAAAbAAMAAAIQjA+RaLkK25lsvUufjC6iAgA7",Y:[{x:0,y:0,i:3,h:3,j:1,l:1},{x:4,y:0,i:3,h:3,j:1,l:1},{x:8,y:0,i:3,h:3,j:1,l:1},{x:12,y:0,i:3,h:3,j:1,l:1},{x:16,y:0,i:3,h:3,j:1,l:1},{x:20,y:0,i:3,h:3,j:1,l:1},{x:24,y:0,i:3,h:3,j:1,l:1}]},w={ma:"data:image/gif;base64,R0lGODlhRgANAJEAAP/yqtSGIf///wAAACH5BAEAAAIALAAAAABGAA0AAAKnlBV5y53RomRvxgAydIpmsFHdUpFfSI5GAqLrKbYpppn1warvjdAgJ8P5XL3gCjNi8YTGR4nJcz57w2OVKk3BEJ8ttuTzIrO0LLf7szp33U349v4p0fP2GS3Hu/XsbXyvF5eHN2h358fX5/IGUSf315h4iBJGaUhFp2izVLmZdhh1CZrGiCNa+pLDphQy9jmEZMoqG1uUmVpbdtba8lpTy6VKS3qiWwAAOw==",Y:[{x:1,y:0,i:8,h:13,j:4,l:13},{x:10,y:0,i:9,h:13,j:5,l:13},{x:21,y:0,i:8,h:13,j:4,l:13},{x:30,y:0,i:10,h:13,j:5,l:13},{x:40,y:0,i:10,h:13,j:5,l:13},{x:50,y:0,i:10,h:13,j:5,l:13},{x:60,y:0,i:10,h:13,j:5,l:13}]},g={ma:"data:image/gif;base64,R0lGODlhCQAIAJEAAJeXl////wAAAAAAACH5BAEAAAIALAAAAAAJAAgAAAIUhG8CwR3G0FNtTRqvslps5oWeUQAAOw==",Y:[{x:0,y:0,i:9,h:8,j:10,l:8}]};let d,x=new AudioContext,m=x.createDynamicsCompressor();function M(t){return Math.sin(2*Math.PI*t)}function p(){return 2*Math.random()-1}function S(t,h){for(let s=0;s<h.length-1;s++){let[i,a,e=1]=h[s],[n,r]=h[s+1];if(i<=t&&t<n)return t=(t-i)/(n-i),a+(t=1<e?Math.pow(t,e):1-Math.pow(1-t,1/e))*(r-a)}return h[h.length-1][1]}function v(t){return"number"==typeof t?[[0,t],[1,t]]:t}function R(t,h){let s=(t=Math.tan(Math.PI*t/x.sampleRate))*t,i=1/(1+(h=1/h)*t+s);return[i/1,-2*i,i/1,2*i*(s-1),i*(1-h*t+s)]}function I(t,h){let s=(t=1/Math.tan(Math.PI*t/x.sampleRate))*t,i=1/(1+(h=1/h)*t+s);return[i/1,2*i,i/1,2*i*(1-s),i*(1-h*t+s)]}function E(t,h){let s=(t=1/Math.tan(Math.PI*t/x.sampleRate))*t,i=1/(1+(h=1/h)*t+s);return[i*t*h,0,-i*t*h,2*i*(1-s),i*(1-h*t+s)]}function C(t,h,s,i){let a=0,e=0;for(let n=0;n<t.length;++n){let r=h(S(n/(t.length-1),s),S(n/(t.length-1),i)),l=t[n],o=l*r[0]+a;t[n]=o,a=l*r[1]-o*r[3]+e,e=l*r[2]-o*r[4]}return t}function P(t,h){return C(t,R,v(h),v(Math.SQRT1_2))}function O(t,h,s=Math.SQRT1_2){return C(t,E,v(h),v(s))}function B(t){for(let h=0;h<t.length;h++)t[h]*=3,t[h]=-1>t[h]?-1:1<t[h]?1:Math.sin(t[h]*Math.PI/2),t[h]/=3;return t}function D(t,h){let s=0;t.forEach(t=>{s=Math.max(s,t.length)});let i=new Float32Array(s);return t.forEach((s,a)=>{for(let e=0;e<s.length;e++)h(i,a,s,e,t.length)}),i}function T(t){return D(t,(t,h,s,i,a)=>{t[i]+=s[i]/a})}function j(t,h){t=new Float32Array(t*x.sampleRate);for(let s=0;s<t.length;s++)t[s]=h(s/t.length,s/x.sampleRate);return t}function G(t,h){for(let s=0;s<t.length;s++)t[s]*=S(s/t.length,h);return t}function L(){let t=[[0,.01,2],[1,0]],h=p();return G(T([P(j(.3,function(){return Math.random()<5e3/x.sampleRate&&(h=p()),h}),900),O(j(.3,function(s){return Math.random()<S(s,t)&&(h=p()),h}),100)]),[[0,0],[.1,1,.8],[.2,.3,.9],[1,0]])}function F(){let t=0,h=[[0,40,.2],[1,20]],s=p();return function(t){return D(t,(t,h,s,i,a)=>{0===h&&(t[i]=1),t[i]*=s[i]/a})}([j(.2,function(s){return t+=S(s,h)/x.sampleRate,40*(2*Math.abs(t%1*2-1)-1)}),G(B(j(.2,function(){return Math.random()<500/x.sampleRate&&(s=p()),s})),[[0,1,.5],[1,0]])])}function H(){return O(G(j(.2,p),[[0,0,.5],[.1,.5,.2],[1,0]]),2e3)}function N(){let t=p(),h=0,s=[[0,2e3,.2],[1,200]];return G(j(.3,function(i){return 1<=h&&(t=p(),--h),h+=S(i,s)/x.sampleRate,t}),[[0,.5,.5],[1,0]])}function k(){let t=0,h=[[0,440,.2],[1,2200]];return G(j(.5,function(s){return t+=S(s,h)/x.sampleRate,(2*Math.abs(t%1*2-1)-1+(t%1*2-1))/2}),[[0,0,.5],[.1,1,.5],[1,0]])}m.knee.setValueAtTime(40,0),m.threshold.setValueAtTime(-12,0),m.connect(x.destination);let J=t=>0<t?1:0>t?-1:0,K=(t,h,s)=>t>h?Math.max(t-s,h):Math.min(t+s,h);function U(t,h){return t.x+t.width>h.x&&t.x<h.x+h.width&&t.y+t.height>h.y&&t.y<h.y+h.height}function W(t){return Math.floor(t*Math.random())}let X,Q,Z,q,z,Y,V,$,_,tt,ht,st=(t,h,s,i,a)=>{for(;h<=i;h++)for(let i=t;i<=s;i++)a(i,h)};async function it(t,h,s){let i=document.createElement("canvas");i.width=t,i.height=h,await s(i.getContext("2d"));let a=await new Promise(t=>i.toBlob(t));return new Promise(t=>{let h=new Image;h.onload=()=>t(h),h.src=URL.createObjectURL(a)})}function at(t,h){let[,s,i]=/^(\w+)\((.*)\)$/.exec(t);return`${s}(${i},${h})`}async function et(){await new Promise(t=>requestAnimationFrame(t))}function nt(t,h,s,i){let a={};t.forEach(t=>{var e=t.slice(1).join("|");a[e]||(a[e]=s(440*Math.pow(2,t[1]/12),...t.slice(2))),e=a[e];var n=h;t=Math.round(x.sampleRate*t[0]*60/i),Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);for(let h=0;h<n.length;h++){let s=e[h%e.length],i=n[h%n.length],a=Math.min(t+s.length,i.length);for(let h=t;h<a;h++)i[h]+=s[h-t]}})}function rt(t,h,s){let i=[];for(let a=0;a<s;a++)t.forEach(([t,...s])=>{i.push([t+h*a,...s])});return i}function lt(t,h){return t.map((t,s)=>[t,h[s]])}function ot(t,h){return t.forEach(t=>{t[0]+=h}),t}class ct{constructor(t){let h=x.createGain();this.Pb=t.map(t=>{let s=t.source,i=x.createGain();if(i.gain.value=t.volume,s.connect(i),i.connect(h),t.W){let h=x.createGain();h.gain.value=t.W,i.connect(h),h.connect(d)}return{source:s,Ac:i.gain}}),h.connect(m)}play(){this.Pb.forEach(t=>{t.source.start()})}}function ft(t){let h,s=t/x.sampleRate,i=0,a=0;return G(j(3,function(){return h=Math.round((1*M(i)+1*M(i/2)+.1*M(2*i)+.001*M(3*i)+1e-4*M(4*i))/2.111*5)/5,i+=s,a+=1/x.sampleRate,125e-6<=a&&(i+=p()*s*.6,a-=125e-6),h}),[[0,0,.5],[.001,1,.1],[1,0]])}function ut(t,h){var s=new Float32Array(32/h*60*x.sampleRate),i=[0,.75,1.5,2,2.75,3.5,4,4.75,5.5,6,6.75,7.5];(i=[...lt(i,[4,7,11,4,7,11,12,11,4,12,11,4]),...ot(lt(i,[4,7,11,4,7,11,12,11,4,12,11,4]),8),...ot(lt(i,[4,5,12,4,5,12,12,11,4,12,11,4]),16),...ot(lt(i,[2,7,11,2,7,11,12,11,2,12,11,2]),24)]).push([30.5,14]),nt(i,s,ft,h),t.set(s,0),t.set(s,s.length),t.set(s,2*s.length),t.set(s,3*s.length);for(let t=0,h=(s=[[0,16],[4,17],[6,19],[8,21],[16,24],[20,23],[22,24],[24,19]]).length;t<h;t++){var[a,e,...n]=s[t];s.push([a,e+12,...n])}nt(s=ot(s,32),t,ft,h)}function bt(t,h){{let t=new Float32Array(32/h*60*x.sampleRate);var s=[.5,1.25],i=lt(s,[-12,-12]);let a=lt(s,[-15,-15]),e=lt(s,[-19,-19]);s=lt(s,[-17,-17]),nt(i=[...rt(i,2,4),...ot(rt(a,2,4),8),...ot(rt(e,2,4),16),...ot(rt(s,2,4),24)],t,ft,h),h=t}t.set(h,0),t.set(h,h.length),t.set(h,2*h.length),t.set(h,3*h.length)}function At(t,h){h+=.2;let s=t/x.sampleRate,i=[[0,-.5,2],[.1,1,2],[1,-1]],a=0,e=1/1.01;t=[[0,0],[.1/h,1],[(h-.2)/h,.5],[1,0]];let n=[[0,200,.5],[.1/h,2e3,.5],[(h-.2)/h,1e3,.5],[1,200]];return function(t,h){return C(t,I,v(h),v(Math.SQRT1_2))}(G(j(h,function(){let t=S(a%1,i)/2;return t+=S(1.01*a%1,i)/3,t+=S(a*e%1,i)/6,a+=s,t}),t),n)}function yt(t,h){var s=60/h;nt(s=ot([[0,-8,4*s],[4,-7,2*s],[6,-5,2*s],[8,-3,4*s],[12,-1,2*s],[14,0,2*s],[16,0,4*s],[20,-1,2*s],[22,0,2*s],[24,2,3*s],[27,0,1*s],[28,-1,4*s]],64).concat(ot([[0,0,4*s],[0,4,4*s],[4,-1,2*s],[4,2,2*s],[6,-3,2*s],[6,0,2*s],[8,-3,4*s],[8,0,4*s],[12,-3,2*s],[12,0,2*s],[14,-5,2*s],[14,-1,2*s],[16,-7,4*s],[16,-3,4*s],[20,-5,2*s],[20,-1,2*s],[22,-3,2*s],[22,0,2*s],[24,-5,4*s],[24,0,4*s],[28,-5,4*s],[28,-1,4*s]],96)),t,At,h)}function wt(){let t,h=[[0,400,.07],[1,80]],s=0;return P(G(T([j(.4,function(i){return t=M(s),s+=S(i,h)/x.sampleRate,t}),O(j(.4,p),3e3,1)]),[[0,1,.2],[1,0]]),400)}function gt(t,h){nt(ot(rt([[1],[3],[5],[7],[7.75]],8,8),64),t,wt,h)}function dt(){let t,h=[[0,380,.1],[.8,30]],s=0;return G(j(.4,function(i){return t=(M(s)+(2*Math.abs(s%1*2-1)-1))/2,s+=S(i,h)/x.sampleRate,t}),[[0,0],[.01,1,.2],[1,0]])}function xt(t,h){nt(ot(rt([[0],[2.5],[4],[5.5],[6.5]],8,8),64),t,dt,h)}function mt(t,h){return t=[[0,h,.2],[1,0]],G(P(j(.4,p),3e3),t)}function Mt(t,h){let s=ot(rt([[0,0,.25],[.5,0,1]],1,64),64);s=[...s,...ot(rt([[14.25,0,.5],[15.25,0,.5]],16,4),64)],nt(s,t,mt,h)}function pt(t){return Math.pow(10,t/20)}async function St(t){t=t();let h=x.createBuffer(1,t.length,x.sampleRate);return h.getChannelData(0).set(t),await et(),h}function vt(t){return new Promise(h=>{let s=new Image;s.onload=()=>{t.C=s,h(t)},s.src=t.ma})}let Rt=document.querySelector("canvas"),It=Rt.getContext("2d");It.imageSmoothingEnabled=!1;var Et=[1,0,0,1,0,0];function Ct(t){t=100*i.scale/t,Et[0]=t,Et[3]=t,Et[4]=Rt.width/2-i.x*t,Et[5]=Rt.height/2-i.y*t,It.setTransform(...Et)}function Pt(){It.globalAlpha=1}function Ot(...t){It.drawImage(...t)}function Bt(t,h,s,i,a){It.fillStyle=t,It.fillRect(h,s,i,a)}function Dt(t,h,s,i,a){It.beginPath(),It.arc(s,i,a,0,2*Math.PI),t&&(It.fillStyle=t,It.fill()),h&&(It.strokeStyle=h,It.stroke())}function Tt(t,h,s,i=0,a=1,e=1,n=0){jt(h,s,()=>{It.rotate(n),It.scale(a,e);let h=t.Y[i];Ot(t.C,h.x,h.y,h.i,h.h,-h.j,-h.l,h.i,h.h)})}function jt(t,h,s){It.save(),It.translate(t,h),s(),It.restore()}class Gt{constructor(t,h){this.B=t,this.w=h}s(t,...h){this.B[this.w].vb&&this.B[this.w].vb(this),this.w=t,this.B[this.w].N&&this.B[this.w].N(...h)}f(){this.B[this.w].A&&this.B[this.w].A(this)}}class Lt extends Gt{constructor(t){super({0:{A:()=>{this.alpha=0}},1:{N:h=>{this.g=0;let s=-.5+Math.random()+(1===h.I?Math.PI:0);t.x=t.Kb=h.x+20*Math.cos(s),t.y=t.Lb=h.y+20*Math.sin(s),t.rotation=0,t.M=h},A:()=>{this.g+=a;let h=.1+3*a,s=this.g/h;s*=2-s;let i=t.M.y+t.Ga;t.x=t.Kb+(t.M.x+t.hb-t.Kb)*s,t.y=t.Lb+(i-t.Lb)*s,t.alpha=s,this.g>=h&&this.s(2)}},2:{A:()=>{t.x=t.M.x+t.hb,t.y=t.M.y+t.Ga,t.rotation=0}},3:{N:()=>{this.g=20,t.rotation=Math.PI/2},A:()=>{t.x=t.M.x+t.hb,t.y=t.M.y+t.Ga;let h=this.g/20;t.rotation=-J(t.I)*Math.PI/2*h*h,this.g--,0==this.g&&this.s(2)}},4:{N:(h,s)=>{t.M=null,this.a=h,this.b=s,this.mc=4*Math.random()-2},A:()=>{t.x+=this.a*a,t.y+=this.b*a,t.rotation+=this.mc*a,t.alpha=K(t.alpha,0,2*a),0>=t.alpha&&this.s(0)}}},0)}}class Ft{constructor(t){this.y=this.x=0,this.I=this.X=t,this.rotation=0,this.hb=-2*t,this.Ga=-6,this.alpha=0,this.B=new Lt(this)}Ma(t){this.M!==t&&this.B.s(1,t)}Ha(t,h){0!==this.B.w&&this.B.s(4,t,h)}f(){this.I+=(this.X-this.I)/5,this.B.f()}bb(t){this.M&&(this.Ga=t)}Ta(){this.B.s(3)}c(){0>=this.alpha||(It.globalAlpha=this.alpha,Tt(z,this.x,this.y,0,this.I,1,this.rotation),Pt())}}class Ht{constructor(){this.m=[new Ft(-1),new Ft(1)],this.Ba=[0,1]}Ma(t){for(let h of this.m)h.Ma(t)}Ha(t,h){for(let s of this.m)s.Ha(t,h)}Ta(){for(let t of this.m)t.Ta()}f(){for(let t of this.m)t.f()}bb(t){for(let h of this.m)h.bb(t)}nc(t){switch(t){case 0:this.Ba=[0,1],this.m[0].X=-1,this.m[1].X=1;break;case-1:this.Ba=[1,0],this.m[0].X=-1,this.m[1].X=-1;break;case 1:this.Ba=[0,1],this.m[0].X=1,this.m[1].X=1}}c(){this.Ba.forEach(t=>this.m[t].c())}}function Nt(t,h=1,s=!1){let i=x.createBufferSource();if(i.buffer=t,s&&((t=x.createGain()).gain.value=2*h,i.connect(t),t.connect(d)),1!==h){let t=x.createGain();t.gain.setValueAtTime(h,0),i.connect(t),i.onended=()=>t.disconnect(m),t.connect(m)}else i.connect(m);i.start()}class kt{constructor(t,h,s){this.color=t,t=Math.random()*Math.PI*2,this.x=Math.cos(t)*s,this.y=Math.sin(t)*s,this.Aa=h,this.alpha=0,this.Nb=1/h}c(){this.Aa--,this.alpha+=this.Nb,0>=this.Aa||(Dt(this.color,null,this.x,this.y,this.Aa),It.globalAlpha=this.alpha,Dt("#888",null,this.x,this.y,this.Aa),Pt())}}class Jt{constructor(t,s){this.x=t,this.y=s,this.g=0,this.Qb=[{ua:new kt("#d48621",18,0),Fa:0},{ua:new kt("#fff2aa",9,8),Fa:.1},{ua:new kt("#d48621",9,7),Fa:.2},{ua:new kt("#fff2aa",9,6),Fa:.3}],i.Ja(1),Nt(_),h.Sa=2}f(){this.g+=a,1<=this.g&&h.jc()}c(){jt(this.x,this.y,()=>{this.Qb.forEach(t=>{this.g<t.Fa||t.ua.c()})})}}class Kt{constructor(t,h){this.x=t,this.y=h,this.K=W(Z.Y.length),this.g=1}f(){this.g-=a,0>=this.g&&h.gc(this)}c(){It.globalAlpha=.5*this.g,Tt(Z,this.x,this.y,this.K),Pt()}}class Ut{constructor(t,h){this.color=t,this.alpha=h,this.uc=1-h}f(){this.alpha=K(this.alpha,this.uc,a)}c(){It.globalAlpha=this.alpha,Bt(this.color,0,0,Rt.width,Rt.height),Pt()}}let Wt=0;class Xt{constructor(t,h){this.x=t,this.y=h,this.alpha=0,this.index=Wt++%X.Y.length}c(){It.globalAlpha=this.alpha,this.alpha+=.1,Tt(X,this.x,this.y,this.index)}}let Qt=[1,2,3,5,8];class Zt{constructor(t){for(this.$b=t,this.ta=s.x,this.aa=s.y-6,this.g=0,this.nb=[],this.Bb=[],t=0;5>t;t++)this.Bb.push({r:0,ra:0})}f(){if(this.g++,this.$b||(60==this.g&&h.Ia(new Ut("#fff",0)),120==this.g&&t.ac()),10<this.g&&240>this.g)for(let t=0;5>t;t++){var i=this.Bb[t];i.r+=2,i.ra+=Qt[t]*(1-this.g/240);let a=s.x+Math.cos(i.ra)*i.r;i=s.y+Math.sin(i.ra)*i.r,h.F(a-1,i-1,2,2)&&this.nb.push(new Xt(a,i))}}c(){this.nb.forEach(t=>t.c()),Pt(),It.lineWidth=1,Dt(null,"#fff",this.ta,this.aa,Math.pow(this.g,1.125)),Dt(null,"#fff",this.ta,this.aa,Math.pow(this.g,1.25))}}let qt=It.createRadialGradient(Rt.width/2,Rt.height/2,200,Rt.width/2,Rt.height/2,1e3);qt.addColorStop(0,"#eeeeee00"),qt.addColorStop(1,"#eeeeee53");class zt{constructor(){this.alpha=1}f(){this.alpha-=2*a,0>this.alpha&&h.hc(this)}c(){It.globalAlpha=this.alpha,Bt(qt,0,0,Rt.width,Rt.height),Pt()}}class Yt{constructor(t,h,s=1,i=1){this.x=8*t,this.y=8*h,this.width=8*s,this.height=8*i}get lb(){return this.x/8}get Pa(){return this.y/8}f(){}c(){}}class Vt{constructor(){}start(t){this.active=!0,this.g=t}stop(){this.g=0,this.active=!1}f(){this.active&&(this.g--,0>=this.g&&(this.active=!1))}}class $t extends Gt{constructor(t){super({0:{N:()=>{t.va()},A:()=>{t.J&&this.s(1)}},1:{N:()=>{t.va()},A:()=>{c[16]&&this.s(2)}},2:{N:()=>{this.Qa=.1,t.Ob()},A:()=>{c[16]?(this.Qa-=a,0>=this.Qa&&this.s(3)):this.s(1)}},3:{A:()=>{c[16]||4===t.ea.w||this.s(1)}}},0)}Tb(){this.s(0)}}class _t extends Gt{constructor(t){super({5:{A:()=>{t.J&&(this.La=0,t.ic()),t.Na&&this.sb(t)||t.Va()}},4:{N:s=>{t.Sb(s),this.la=.25,-240==t.b&&(this.la-=.06),t.xa.active?t.m.Ta():(this.La++,t.bc()),h.Ia(new zt)},A:()=>{this.la-=a,0>=this.la?this.s(6):0==o%2&&h.L(new Kt(t.v.x+Math.random()*t.$,t.v.y+Math.random()*t.ha))}},6:{N:()=>{this.Ua=.08,t.qc()},A:()=>{t.Na&&0===this.La&&this.sb(t)||(t.Va(),this.Ua-=a,0>=this.Ua&&this.s(5))},vb:()=>{8!==t.ka&&t.tc()}}},5)}sb(t){if(!t.da.active||!t.J&&0<this.La)return!1;let h=1*!!c[1]|2*!!c[2]|4*!!c[4]|8*!!c[8]||2;return h&=1*!t.F(t.x-1,t.y)|2*!t.F(t.x,t.y-1)|4*!t.F(t.x+1,t.y)|8*!t.J,0!==h&&5!==h&&10!==h&&15!==h&&(this.s(4,h),!0)}kb(t,h){4===this.w&&(t.ka&=~h,0===t.ka&&this.s(6))}}class th extends Yt{constructor(t,h){super(t,h),this.eb=t,this.fb=h,this.x+=4,this.y+=8,this.Z=3,this.sa=8,this.$=6,this.ha=8,this.I=1,this.V=this.b=this.a=0,this.na=!0,this.cb=.5,this.ka=this.H=this.G=0,this.O=this.Ra=720,this.cc=320,this.da=new Vt,this.xa=new Vt,this.m=new Ht,this.K=this.gb=0,this.ab=this.Ab=1,this.Oa=new $t(this),this.ea=new _t(this)}f(){if(this.na)if(this.wa){this.m.f(),this.cb=K(this.cb,a,a);let t=a*this.cb;this.move(this.a*t,this.b*t)}else this.y>h.height+100?this.ba():((this.J=this.F(this.x,this.y+1)&&!this.ja(this.x,this.y+1,{qa:2}))&&this.xa.start(4),c[32]&&!f[32]&&this.da.start(4),c[32]||this.da.stop(),this.Oa.f(),this.ea.f(),0!==this.a&&(this.I=J(this.a)),this.move(this.a*a,this.b*a),this.da.f(),this.xa.f(),this.xc(),this.m.f());else this.mb.f(),this.m.f()}xc(){this.K=0,this.m.nc(J(this.a)),4===this.ea.w?this.K=0===this.a?0:3:this.J?100<Math.abs(this.a)&&(this.K=Math.floor(this.gb)%2+1,this.gb+=.1):100<Math.abs(this.a)?(this.K=1,100<this.b&&(this.K=4)):this.K=100<this.b?5:0;let t=0>this.b?Math.min(.1,-this.b/100):0;this.Ab=1-t,this.ab=1+2*t,this.m.bb([-8,-7,-8,-7,-7,-8,-7][this.K]),this.ab}Ob(){this.m.Ma(this)}va(){this.m.Ha(-Math.max(10,Math.abs(this.a/8))*J(this.a||this.I),-this.b/8)}bc(){this.va(),this.Oa.Tb()}Sb(t){this.ka=t,this.b=this.a=0,1&t&&this.a--,2&t&&this.b--,4&t&&this.a++,8&t&&this.b++,0!==this.a&&0!==this.b?(this.a*=170,this.b*=170):(this.a*=240,this.b*=240),240==this.b&&(this.b=320),Nt(Y)}Va(){let t=160*(-!!c[1]+!!c[4]),h=this.J?1:.5;0===t?this.a=K(this.a,t,800*h*a):0===this.a?this.a=this.J?.1*t:K(this.a,t,800*h*a):(0<t?1:0>t?-1:0)===J(this.a)?this.a=K(this.a,t,800*h*a):(0<t?1:0>t?-1:0)!==J(this.a)&&(this.a=K(this.a,t,3200*h*a)),!this.Na&&this.xa.active&&this.da.active&&(this.b=-128,this.V=.4,this.da.stop(),Nt($)),this.J||(this.V-=a,0<this.V&&c[32]?this.b+=160*a:(0>=this.V||!c[32])&&(this.b=K(this.b,this.cc,this.O*a),this.V=0))}move(t,h){let s=h=>{2&h.qa&&.5<=Math.abs(t)?this.ba():this.ec(h.a)},i=t=>{2&t.qa?this.ba():this.fc(t.b)};Math.abs(t)>Math.abs(h)?(this.Ya(t,s),this.Za(h,i)):(this.Za(h,i),this.Ya(t,s))}ec(t=0){t=(0<t?1:0>t?-1:0)===J(this.a)?t:0;let h=Math.abs(t-Math.abs(this.a));this.a=t,200<=h&&(this.Eb(),this.ea.kb(this,5))}fc(t=0){if(t=(0<t?1:0>t?-1:0)===J(this.b)?t:0,230<=Math.abs(t-Math.abs(this.b))||-200>this.b){this.Eb();for(let t=-2;2>=t;t++)h.L(new Kt(this.x+4*t,this.y-1-2*Math.random()));h.Sa=320==Math.abs(this.b)?2:1,this.V=0,this.ea.kb(this,10)}this.b=t}Eb(){i.Ja(.4),Nt(V,.2)}ic(){this.O=this.Ra}qc(){this.O=0}tc(){this.O=this.Ra}Ya(t,h){if(this.G+=t,0!==(t=Math.round(this.G))){this.G-=t;let s=0<t?1:0>t?-1:0;for(;0!==t;){let i=this.F(this.x+s,this.y);if(i){h&&h(i);break}this.x+=s,t-=s}}}Za(t,h){if(this.H+=t,0!==(t=Math.round(this.H))){this.H-=t;let s=0<t?1:0>t?-1:0;for(;0!==t;){let i=this.F(this.x,this.y+s);if(i){h&&h(i);break}this.y+=s,t-=s}}}ja(t,s,i){return h.ja(t-this.Z,s-this.sa,this.$,this.ha,i)}F(t,s){return h.F(t-this.Z,s-this.sa,this.$,this.ha)}get v(){return{x:this.x-this.Z,y:this.y-this.sa,width:this.$,height:this.ha,ta:this.x-this.Z+this.$/2,aa:this.y-this.sa+this.ha/2}}get Na(){return 3===this.Oa.w}get tb(){return 4===this.ea.w}ub(t){return t.y===this.y&&this.x-this.Z+this.$>t.x&&this.x-this.Z<t.x+t.width}c(){this.m.c(),this.na?Tt(q,this.x,this.y,this.K,this.I*this.Ab,this.ab):this.mb.c()}ba(){this.na&&(this.na=!1,this.mb=new Jt(this.x,this.v.aa),this.va())}oc(){this.wa||(this.wa=!0,this.Ub=new Zt,h.L(this.Ub),i.Ja(1),Nt(tt,.2,!0))}}class hh{constructor(){this.o={}}Ka(t){this.o[t.x+";"+t.y]=t}u(t,h,s=0){return(t=this.o[t+";"+h])?s?t.qa&s?t:null:t:null}ob(t){for(let h in this.o)t(this.o[h])}}class sh{constructor(t){this.ia={},this.o=t}async pa(){this.o.ob(t=>{let h=Math.floor(t.x/60),s=Math.floor(t.y/60),i=h+";"+s;this.ia[i]=this.ia[i]||{x:h,y:s,o:[]},this.ia[i].o.push(t)}),await Promise.all(Object.values(this.ia).map(t=>this.dc(t)))}async dc(t){t.C=await it(480,480,h=>{h.translate(480*-t.x,480*-t.y),t.o.forEach(t=>t.c(this.o,h))})}c(){st(Math.floor(i.Ib(0)/8/60),Math.floor(i.Jb(0)/8/60),Math.floor(i.Ib(Rt.width-1)/8/60),Math.floor(i.Jb(Rt.height-1)/8/60),(t,h)=>{let s=this.ia[`${t};${h}`];s&&Ot(s.C,480*t,480*h)})}}class ih{constructor(t,h){this.z=t,this.color=h,(t=It.createRadialGradient(Rt.width/2,Rt.height/2,400,Rt.width/2,Rt.height/2,1100)).addColorStop(0,at(h,0)),t.addColorStop(1,h),this.Xb=t}async pa(){this.C=await it(80,80,t=>{t.fillStyle=this.color,t.beginPath();for(let h=0;80>h;h++){let h=1+W(8),s=1+W(8);t.rect(W(80-h),W(80-s),h,s)}t.fill()})}c(){let{z:t,C:h,Xb:s}=this;Ct(t);let i=t/15*80;st(Math.floor(-Et[4]/Et[0]/i),Math.floor(-Et[5]/Et[3]/i),Math.floor((Rt.width/Et[0]-Et[4]/Et[0])/i),Math.floor((Rt.height/Et[3]-Et[5]/Et[3])/i),(t,s)=>{Ot(h,t*i,s*i,i,i)}),It.setTransform(1,0,0,1,0,0),Bt(s,0,0,Rt.width,Rt.height)}}class ah{async pa(){this.P=[new ih(900,n),new ih(300,r)],await Promise.all(this.P.map(t=>t.pa()))}c(){Bt(e,0,0,Rt.width,Rt.height),this.P.forEach(t=>t.c())}}class eh{constructor(){this.o=new hh,this.Fb=new Set,this.P={120:new Set,100:new Set,50:new Set},this.ya=new Set,this.D=new Set,this.Hb=new sh(this.o),this.jb=new ah,this.Ia(new Ut("#fff",1))}async Zb(){await this.jb.pa(),await this.Hb.pa();for(let t of this.D)t.U&&await t.U()}vc(){this.height=this.width=0,this.o.ob(t=>{this.width=Math.max(this.width,8*t.x),this.height=Math.max(this.height,8*t.y)})}pc(t){s=t,this.xb=t.eb,this.yb=t.fb}jc(){for(let t of this.D)t.reset&&t.reset();s=new th(this.xb,this.yb)}L(t,h=100){this.P[h].add(t),this.D.add(t),t.Mb=h}gc(t){this.D.delete(t),this.P[t.Mb].delete(t)}ib(t){this.Fb.add(t),this.L(t)}Ka(t){this.o.Ka(t)}Ia(t){this.ya.add(t)}hc(t){this.ya.delete(t)}ja(t,h,s,i,{qa:a=7,Wa:e=null}={}){if(1&a&&(e=this.F(t,h,s,i,{Wa:e})))return e;var n=Math.floor(t/8);for(e=Math.floor(h/8),t=Math.floor((t+s-1)/8),h=Math.floor((h+i-1)/8),i=n;i<=t;i++)for(s=e;s<=h;s++)if(n=this.o.u(i,s,a))return n;return null}F(t,h,s,i,{Wa:a=null}={}){var e=Math.floor(t/8);let n=Math.floor(h/8),r=Math.floor((t+s-1)/8),l=Math.floor((h+i-1)/8);for(;e<=r;e++)for(let t=n;t<=l;t++){let h=this.o.u(e,t,1);if(h)return h}for(let e of this.Fb)if(e!==a&&e.T&&U({x:t,y:h,width:s,height:i},e))return e;return null}f(){if(this.Sa)this.Sa--;else{for(let t of this.D)t.f();s&&s.f();for(let t of this.ya)t.f();i.f()}}c(){It.setTransform(1,0,0,1,0,0),this.jb.c(),Ct(120);for(let t of this.P[120])t.c();Ct(100),this.Hb.c();for(let t of this.P[100])t.c();s&&s.c(),Ct(50);for(let t of this.P[50])t.c();It.setTransform(1,0,0,1,0,0);for(let t of this.ya)t.c()}}class nh{constructor(){this.fa=this.Ca=this.Db=this.Cb=this.Ea=this.Da=this.R=this.Gb=this.y=this.x=0,this.scale=2,this.ca=1}f(){this.zc(),this.yc(),this.wc(),this.x=this.Gb+this.Da,this.y=this.R+this.Ea}wc(){let t=Math.min(6,8*this.fa*this.fa),h=2*Math.random()*Math.PI;this.Ca&&(this.Cb=t*Math.cos(h),this.Db=t*Math.sin(h)),this.Ca=!this.Ca,this.Da+=.75*(this.Cb-this.Da),this.Ea+=.75*(this.Db-this.Ea),this.fa=K(this.fa,0,a)}yc(){let t=s.v.aa,i=this.pb()/10,a=this.pb()/6,e=h=>{this.R+=(t+h-this.R)/8};s.J?e(0):t<this.y-a?this.R=t+a:t>this.y+a?this.R=t-a:t<this.y-i?e(i):t>this.y+i&&e(-i),this.R=Math.max(0,Math.min(this.R,h.height)),this.Gb=Math.max(0,Math.min(s.x,h.width))}zc(){this.ca=K(this.ca,0,a/4),this.scale=4-2*this.ca*this.ca}Ja(t){this.fa=Math.min(1,this.fa+t),this.Ca=!0}pb(){return Rt.height/this.scale}Ib(t){return(t-Rt.width/2)/this.scale+this.x}Jb(t){return(t-Rt.height/2)/this.scale+this.y}}class rh{async load(){h=new eh,i=new nh,this.Vb(),await h.Zb()}}class lh{constructor(t,h,s){this.x=t,this.y=h,this.qa=s}}class oh extends lh{constructor(t,h){super(t,h,1)}c(t,h){t=(this.x%24+24)%24/24;let s=(this.y%24+24)%24/24;h.globalAlpha=1-t*(1-t)*s*(1-s)-.01+.02*Math.random(),h.fillStyle=l,h.fillRect(8*this.x,8*this.y,8,8)}}class ch extends lh{constructor(t,h){super(t,h,3)}Wb(t){let h=this.x,s=this.y,i=t.u(h,s-1,2)||t.u(h,s+1,2),a=t.u(h-1,s,2)||t.u(h+1,s,2);return t.u(h-1,s,1)&&i?3:t.u(h+1,s,1)&&i?1:t.u(h,s-1,1)&&a?0:t.u(h,s+1,1)&&a?2:t.u(h-1,s,1)?3:t.u(h+1,s,1)?1:t.u(h,s-1,1)?0:t.u(h,s+1,1)?2:0}c(t,h){h.fillStyle=l;let s=8*this.x,i=8*this.y;switch(t=this.Wb(t)){case 0:case 2:for(var a=0;8>a;a+=2){var e=a/2%2;h.fillRect(s+a,i+(2===t?e:0),1,8-e)}break;case 1:case 3:for(a=0;8>a;a+=2)e=a/2%2,h.fillRect(s+(1===t?e:0),i+a,8-e,1)}h.stroke()}}class fh extends Yt{constructor(t,h,s,i,a,e){super(t,h,s,i),this.eb=this.x,this.fb=this.y,this.rc=a,this.sc=e,this.reset(),this.T=!0}reset(){this.x=this.eb,this.y=this.fb,this.a=this.rc,this.b=this.sc,this.H=this.G=0,this.T=!0}async U(){this.C=await it(this.width,this.height,t=>{st(0,0,this.width/8-1,this.height/8-1,(h,s)=>{t.fillStyle=at(l,.94-.01+.02*Math.random()),t.fillRect(8*h,8*s,8,8)})})}f(){this.T=!1,this.G+=this.a*a,this.H+=this.b*a;let t=Math.round(this.G),h=Math.round(this.H);this.G-=t,this.H-=h;var i=this.ja(this.x+t,this.y+h);i&&((this.a&&J(i.a)===-J(this.a)||this.b&&J(i.b)===-J(this.b))&&(i.a*=-1,i.b*=-1),0<this.a?t-=(this.x+t)%8*2:0>this.a?t-=2*((this.x+t)%8-8):h=0<this.b?h-(this.y+h)%8*2:h-2*((this.y+h)%8-8),this.a*=-1,this.b*=-1),i=s.ub(this),this.x+=t,this.y+=h,s.na&&(i?s.move(t,0>h||!s.tb?h:0):U(s.v,this)&&(t?s.Ya(0<t?this.x+this.width-s.v.x:this.x-s.v.x-s.v.width,()=>{s.ba()}):h&&s.Za(0<h?this.y+this.height-s.v.y:this.y-s.v.y-s.v.height,()=>{s.ba()}))),this.T=!0}ja(t,s){return h.F(t,s,this.width,this.height,{Wa:this})}c(){Ot(this.C,this.x,this.y)}}let uh=0,bh="#f00 #fff #0f0 #00f #0ff #ff0 #f0f".split(" ");class Ah{constructor(t,h){this.qb=t,this.rb=h,t=5+10*Math.random(),h=2*Math.random()*Math.PI,this.x=this.qb+Math.cos(h)*t,this.y=this.rb+Math.sin(h)*t,this.a=10*Math.sin(h),this.b=10*-Math.cos(h),this.O=500,this.color=bh[uh++%bh.length]}f(){this.x+=this.a*a,this.y+=this.b*a,this.Yb(this.O,this.qb,this.rb),s.wa&&(this.O=K(this.O,100,100))}Yb(t,h,s){h=this.x-h,s=this.y-s;let i=Math.max(1,h*h+s*s);this.a+=-t*h/i*a,this.b+=-t*s/i*a}}class yh extends Yt{constructor(t,h){for(super(t,h),this.zb=[],t=0;20>t;t++)this.zb.push(new Ah(this.x+4,this.y+4));this.alpha=1}f(){var t=s.v,h=Math.abs(this.x+4-t.ta);256>(h=h*h+(t=Math.abs(this.y+4-t.aa))*t)&&(s.tb||260<=s.b)&&s.oc(),s.wa&&(this.alpha=K(this.alpha,0,a))}c(){It.globalAlpha=this.alpha;for(let t=0;20>t;t++){let h=this.zb[t],s=Math.round(Math.random()*Math.random()*8);for(let t=0;t<s;t++)h.f();Bt(h.color,h.x-1,h.y-1,2,2)}Pt()}}class wh extends Yt{constructor(t,h,s){super(t,h),this.text=s}async U(){this.C=await function(t){let{width:h,height:s}=function(t){let h=0,s=0,i=0,a=0;for(let e=0;e<t.length;e++)" "===t[e]?i+=6:t[e].match(/\n|#/)?(i=0,a+=6):(i+=6,h=Math.max(i,h),s=Math.max(a+6,s));return{width:h,height:s}}(t);return it(h+1,s+1,i=>{i.fillStyle=e,i.fillRect(0,0,h+1,s+1);{let h=1,s=1;for(let a=0;a<t.length;a++)" "===t[a]?h+=6:t[a].match(/\n|#/)?(h=1,s+=6):(i.drawImage(Q.C,6*(t.charCodeAt(a)-65),0,5,5,h,s,5,5),h+=6)}})}(this.text)}c(){Ot(this.C,this.x,this.y)}}var gh=[{ga:{1:[[0,0,56,50],[126,56,23,34],[149,56,25,22],[149,63,33,15],[182,63,16,11],[198,60,8,14],[206,57,11,17],[217,62,13,12],[222,74,28,24],[250,66,9,32],[270,74,16,16],[286,82,16,8],[294,90,48,8],[30,50,96,10],[301,15,25,43],[318,58,8,28],[318,74,16,12],[334,63,8,7],[340,15,12,46],[340,15,32,40],[342,64,8,6],[350,63,11,7],[361,58,23,12],[374,67,66,31],[440,67,22,7],[446,15,48,33],[462,58,8,16],[55,45,27,25],[92,60,34,4]],2:[[230,73,20,1],[342,63,8,1],[352,55,20,1],[384,66,30,1]]},D:[[3,59,44],[4,246,66,4,4,-60,0],[5,466,53],[6,157,46,"WHAT IS THE CAUSE OF THIS^"],[6,180,59,"PRESS SPACE TO JUMP"],[6,233,50,"AND WHERE DID THESE OBSTACLES COME FROM^"],[6,295,78,"HOLD SHIFT TO SUMMON WINGS"],[6,344,82,"USING YOUR WINGS] PRESS#SPACE TO DASH"],[6,451,57,"LOOK AT THAT["],[6,470,54,"DASH THROUGH IT TO RELEASE#THE ESSENCE OF THIS PARADISE["],[6,86,40,"PARADISE HAS BEEN TURNED OFFLINE\\\\\\"],[7,225,61],[7,337,62],[7,337,89],[8,334,74,8,5]]},{ga:{1:[[0,0,54,50],[106,49,6,52],[112,0,22,46],[118,49,6,52],[130,59,38,42],[136,50,8,51],[149,45,13,4],[153,0,38,37],[153,0,42,34],[168,45,11,56],[179,42,3,25],[179,79,13,22],[182,45,14,22],[196,39,3,28],[199,36,6,31],[205,47,14,20],[212,67,7,14],[213,0,11,38],[216,42,27,10],[219,75,7,15],[226,63,6,6],[226,80,6,6],[226,95,6,6],[232,69,7,6],[232,87,7,3],[239,58,34,22],[273,0,17,80],[37,50,17,16],[54,42,10,24],[60,0,74,24],[64,47,16,19],[80,34,8,67],[88,24,24,6],[88,55,42,46],[88,95,124,6],[94,38,7,7]],2:[[101,38,1,7],[111,30,1,16],[112,46,22,1],[112,54,6,1],[124,54,6,1],[130,58,6,1],[144,58,24,1],[148,45,1,4],[149,44,13,1],[149,49,13,1],[153,37,38,1],[162,45,1,4],[178,42,1,3],[179,41,3,1],[182,42,1,3],[191,34,1,3],[191,34,4,1],[192,67,20,1],[192,79,1,16],[195,39,1,6],[196,38,3,1],[205,46,11,1],[213,38,11,1],[219,52,24,1],[219,74,7,1],[219,90,7,1],[224,0,1,38],[232,68,7,1],[232,86,7,1],[232,90,7,1],[239,57,33,1],[272,0,1,58],[60,24,28,1],[64,46,16,1],[88,30,24,1],[88,54,18,1],[93,38,1,7],[94,37,7,1],[94,45,7,1]]},D:[[3,56,41],[5,182,75],[7,139,49],[7,234,41],[8,243,38,29,8]]},{ga:{1:[[0,1,50,50],[112,1,8,43],[112,57,8,31],[120,66,10,22],[130,75,62,13],[134,1,71,58],[192,66,21,22],[205,88,8,9],[213,70,13,27],[226,77,93,20],[237,64,5,2],[257,1,4,65],[286,54,13,12],[309,1,6,61],[319,61,9,5],[319,71,9,26],[328,92,23,5],[337,1,14,86],[337,1,52,85],[344,97,7,21],[351,106,47,12],[365,1,3,91],[389,1,12,15],[395,64,15,22],[398,92,6,26],[404,105,19,13],[408,1,41,15],[408,23,41,4],[415,57,34,20],[423,27,2,91],[425,1,24,117],[50,44,8,35],[56,1,32,32],[58,50,9,29],[67,59,13,20],[73,33,7,16],[80,1,8,53],[80,60,8,19],[88,67,24,12]],2:[[112,56,8,1],[226,76,93,1],[237,63,5,1],[286,53,13,1],[319,60,9,1],[319,70,9,1],[328,61,1,5],[328,71,1,21],[336,1,1,86],[337,0,64,1],[351,105,47,1],[351,86,14,1],[368,86,21,1],[389,16,12,1],[395,63,15,1],[395,86,15,1],[398,91,6,1],[408,0,41,1],[408,16,8,1],[408,22,8,1],[408,27,15,1],[58,49,9,1],[72,33,1,16],[80,59,8,1],[88,66,24,1]]},D:[[3,52,43],[4,112,49,8,3,0,100],[4,139,65,5,7,0,120],[4,144,64,5,7,0,120],[4,149,63,5,7,0,120],[4,154,62,5,7,0,120],[4,159,61,5,7,0,120],[4,164,60,5,7,0,120],[4,175,64,14,10,0,100],[4,215,66,4,4,100,0],[4,351,92,14,5,0,100],[4,368,92,30,5,0,100],[4,400,55,5,6,0,-200],[4,404,92,19,5,0,100],[4,419,77,4,4,-120,0],[4,58,44,5,5,60,0],[4,72,49,5,5,60,0],[4,89,60,7,3,60,0],[5,421,19],[7,123,65],[7,208,65],[7,339,91],[8,222,66,4,4]]},{ga:{1:[[0,0,26,105],[0,0,41,67],[110,44,16,17],[134,0,95,56],[134,56,15,7],[134,70,8,19],[142,81,43,8],[149,0,26,66],[185,70,17,19],[208,0,8,70],[216,0,13,59],[224,69,5,6],[239,61,5,7],[257,61,13,7],[283,69,5,6],[294,0,8,72],[308,70,18,4],[31,79,15,4],[31,88,7,17],[38,73,24,5],[38,78,8,5],[38,97,32,8],[41,61,6,6],[47,0,33,43],[47,43,15,12],[54,55,8,23],[54,84,4,6],[69,60,5,11],[69,76,12,12]],2:[[134,63,15,1],[134,69,8,1],[142,80,43,1],[185,69,9,1],[223,69,1,6],[224,68,5,1],[224,75,5,1],[229,69,1,6],[238,61,1,7],[239,60,5,1],[239,68,5,1],[244,61,1,7],[256,61,1,7],[257,60,13,1],[257,68,13,1],[26,67,1,38],[27,67,20,1],[270,61,1,7],[282,69,1,6],[283,68,5,1],[283,75,5,1],[288,69,1,6],[31,78,7,1],[31,83,15,1],[38,72,16,1],[46,96,24,1],[47,55,7,1],[53,84,1,6],[54,83,4,1],[54,90,4,1],[58,84,1,6],[62,43,18,1],[68,76,1,12],[69,59,5,1],[69,71,5,1],[69,75,12,1],[69,88,12,1],[81,76,1,12]]},D:[[3,43,60],[4,149,66,3,4,60,0],[4,172,66,3,4,60,0],[4,255,69,7,4,-80,0],[5,322,67],[7,112,43],[7,197,69],[7,41,96],[8,126,57,8,4],[8,142,70,3,3],[8,152,70,3,3],[8,162,70,3,3],[8,172,70,3,3],[8,182,70,3,3],[8,202,76,100,4],[8,31,73,7,5],[8,47,61,7,3],[8,47,92,3,3],[8,62,89,3,3],[8,64,58,3,3],[8,77,47,3,3],[8,77,68,3,3],[8,78,96,3,3],[8,88,83,3,3],[8,94,42,3,3]]},{ga:{1:[[0,0,46,45],[103,65,14,10],[118,52,10,8],[128,44,11,16],[131,57,20,12],[46,31,19,14],[47,69,14,11],[61,61,20,12],[70,71,34,15],[93,49,14,9]],2:[]},D:[[3,90,70],[6,84,64,"THANKS FOR PLAYING["]]}];class dh{constructor(){this.text=new wh(0,0,"OFFLINE PARADISE")}U(){return this.text.x=s.x-48,this.text.y=s.y-30,this.text.U()}f(){}c(){It.globalAlpha=1-(1-i.ca)*(1-i.ca),Bt(e,i.x-300,i.y-300,600,600),this.text.c(),Pt()}}let xh;class mh extends Yt{U(){this.kc=this.lb,this.lc=this.Pa;let t=this.lb,s=this.Pa,i=this.Pa;for(;-10<=s&&!h.o.u(t,s-1);)s--;this.y=8*s,this.height=8*(i-s+1)}f(){xh!==this&&U(this,s.v)&&(xh=this,h.xb=this.kc,h.yb=this.lc)}}class Mh extends Yt{constructor(t,h,s,i){super(t,h,s,i),this.reset()}reset(){this.T=!0,this.$a=!1,this.S=0}async U(){this.C=await it(this.width,this.height,t=>{st(0,0,this.width/8-1,this.height/8-1,(h,s)=>{t.fillStyle=at(l,.94-.01+.02*Math.random()),t.fillRect(8*h,8*s,8,8)});let h=t.getImageData(0,0,this.width,this.height);for(var s=2;s<this.width-2;s++)h.data[4*(s+1*this.width)+3]=0,h.data[4*(s+(this.height-2)*this.width)+3]=0;for(s=2;s<this.height-2;s++)h.data[4*(1+s*this.width)+3]=0,h.data[4*(this.width-2+s*this.width)+3]=0;t.putImageData(h,0,0)})}f(){if(!this.T){if(this.S+=a,!(15<=this.S))return;this.reset()}if(U(this,s.v))s.ba();else{var t=s.ub(this);t&&!this.$a?this.$a=!0:!t&&this.$a&&(this.T=!1)}}c(){let t;if(.2>this.S)t=1-this.S/.2;else{if(!(14.8<this.S))return;t=1-(15-this.S)/.2}let h=1*this.width,s=this.height*t,i=this.x+(this.width-h)/2,a=this.y+(this.height-s)/2;It.globalAlpha=(t+1)/2,Ot(this.C,i,a,h,s),Pt()}}class ph extends rh{constructor(t){super(),this.oa=t}Vb(){let{ga:t,D:s}=gh[this.oa];!function(t){e=`hsl(${t=(240+70*t)%360}, 0%, 93%)`,n=`hsl(${t+=20}, 1%, 70%)`,r=`hsl(${t+=20}, 5%, 49%)`,l=`hsl(${t+20}, 21%, 17%)`}(this.oa);for(let s in t){let i={1:oh,2:ch}[s];t[s].forEach(([t,s,a,e])=>{st(t,s,t+a-1,s+e-1,(t,s)=>h.Ka(new i(t,s)))})}s.forEach(t=>{let s=t.slice(1);switch(t[0]){case 3:h.pc(new th(...s));break;case 4:h.ib(new fh(...s));break;case 8:h.ib(new Mh(...s));break;case 5:h.L(new yh(...s));break;case 6:h.L(new wh(...s),120);break;case 7:h.L(new mh(...s))}}),0===this.oa&&h.L(new dh,50),this.oa===gh.length-1&&h.L(new Zt(!0)),h.vc()}}class Sh{constructor(){}f(){return this.za&&(this.Xa=!0,this.wb(this.za),this.za=null),this.Xa}ac(){this.za||(this.za=new ph(this.Rb.oa+1))}async wb(t){this.Rb=t,this.Xa=!0,await t.load(),this.Xa=!1}}function vh(){requestAnimationFrame(vh),t.f()||(h.f(),o++,[1,4,2,8,16,32].forEach(t=>{f[t]=c[t]}),h.c())}!async function(){await async function(){[X,Q,Z,q,z]=await Promise.all([b,A,y,w,g].map(vt)),await et(),[Y,V,$,_,tt]=await Promise.all([L,F,H,N,k].map(St)),async function(){let t=x.createConvolver(),h=function(){function t(t){let h=0,s=[];do{s.push([h,t?1:.45]),t=!t,h+=.1875,s.push([h-1e-7,0])}while(1>=h);return s}let h=t(!0),s=t(!1),i=[[0,0,.5],[.05,1,.5],[1,0]];return[G(G(j(4,p),h),i),G(G(j(4,p),s),i)]}(),s=x.createBuffer(2,h[0].length,x.sampleRate);s.getChannelData(0).set(h[0]),s.getChannelData(1).set(h[1]),t.buffer=s,d=t,d.connect(m),await et()}(),ht=await async function(){let t=7680*x.sampleRate/120,[h,s,i,a,e,n]=await Promise.all([ut,bt,yt,gt,xt,Mt].map(h=>async function(t,h){let s=x.createBufferSource();return s.loop=!0,t((h=x.createBuffer(1,h,x.sampleRate)).getChannelData(0),120),s.buffer=h,await et(),s}(h,t)));return new ct([{source:h,volume:pt(-14),W:1},{source:s,volume:pt(-14),W:1},{source:i,volume:pt(-14),W:1},{source:a,volume:pt(-7.1),W:pt(-6)},{source:e,volume:pt(-4.9),W:0},{source:n,volume:pt(-23),W:0}])}(),document.body.classList.remove("loading")}(),t=new Sh,await(async()=>{ht.play(),await t.wb(new ph(0))})(),vh()}()</script></body></html>