var t=Object.defineProperty,s=(s,i,e)=>(((s,i,e)=>{i in s?t(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e})(s,"symbol"!=typeof i?i+"":i,e),e);const i=new class{constructor(){s(this,"ticks_per_second",1e3),s(this,"ticks",0),s(this,"seconds",0),s(this,"delta",0),s(this,"previous_ticks",0),s(this,"previous_seconds",0),s(this,"pause_timer",0)}t(t){t>=this.i&&(this.i=t)}o(t,s=0){let i=this.seconds,e=this.delta;return Math.floor((i-s-e)/t)<Math.floor((i-s)/t)}l(t,s){let i=Math.floor(t)-this.delta;return t>=s&&i<s}u(t,s=0){let i=this.seconds;return h=2*t,(e=i-s)-Math.floor(e/h)*h>=t;var e,h}};const e=new class{constructor(){s(this,"app_time_last"),s(this,"app_time_accumulator",0)}_(t){const s=()=>{t.p()},e=h=>{let r=Math.min(25,h-(this.g??h));this.g=h,this.A+=r,i.delta=r/i.ticks_per_second,i.i>0?i.i-=i.delta:(i.m=i.k,i.k+=r,i.M=i.seconds,i.seconds+=i.delta,s()),t.v(),requestAnimationFrame(e)};requestAnimationFrame(e)}};const h=new class{constructor(){s(this,"bounds"),s(this,"_click"),s(this,"_click_clear",!0),s(this,"_move"),s(this,"_move_clear",!0)}get click(){return this.B}get move(){return this.j}C(t){this.K=!1,this.j=t}D(t){this.I=!1,this.B=t}N(t){const s=t=>{let s=[t.clientX,t.clientY],{bounds:i}=this;return s[0]-=i.left,s[1]-=i.top,s[0]/=i.width,s[1]/=i.height,s};t.addEventListener("click",(t=>this.D(s(t)))),t.addEventListener("mousemove",(t=>this.C(s(t))));const i=()=>{this.bounds=t.getBoundingClientRect()};document.addEventListener("scroll",i),window.addEventListener("resize",i),i()}update(){this.I?this.B&&(this.I=!1,this.B=void 0):this.B&&(this.I=!0),this.K?this.j&&(this.K=!1,this.j=void 0):this.j&&(this.K=!0)}},r=class{constructor(){s(this,"_btn_pre",!1),s(this,"_btn",0)}get F(){return this.U}get R(){return this.G>0}S(t){this.G="down"===t?1:0}update(){1!==this.G||this.U?this.U=!1:this.U=!0,1===this.G&&(this.G=2)}};s(r,"make",(()=>new r));let n=r;const o=new class{constructor(){s(this,"action_map"),s(this,"key_map"),this.q={jump:n.make(),left:n.make(),right:n.make(),down:n.make(),pickup:n.make(),music:n.make()},this.V={i:"jump",j:"left",k:"down",l:"right",w:"jump",a:"left",s:"down",d:"right",ArrowUp:"jump",ArrowLeft:"left",ArrowDown:"down",ArrowRight:"right",x:"pickup",c:"pickup"," ":"pickup",m:"music"},document.addEventListener("keydown",(t=>{var s;return null==(s=this.q[this.V[t.key]])?void 0:s.S("down")})),document.addEventListener("keyup",(t=>{var s;return null==(s=this.q[this.V[t.key]])?void 0:s.S("up")}))}F(t){return this.q[t].F}R(t){return this.q[t].R}update(){for(let t of Object.keys(this.q))this.q[t].update()}};const a=new class{constructor(){s(this,"image"),s(this,"info")}async load(){var t;this.H=await(t="data:image/png;base64,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",new Promise((s=>{let i=new Image;i.onload=()=>s(i),i.src=t}))),this.info="bounce\n\n0*0*1\n1*1*2\n2*2*3\n3*3*4\n4*4*5\n5*5*6\n6*6*7\n7*7*8\n8*8*9\n\n0*80*0\n0*96*0\n0*80*16\n0*96*16\n0*80*32\n0*96*32\n0*80*48\n0*96*48\n0*80*64\n\n\ndust\n\n0*0*s\n1*1*m\n2*2*l\n\n1*0*80\n1*32*80\n1*64*80\n\n\nfly\n\n0*3*idle\n\n0*96*80\n0*96*64\n0*0*96\n0*16*96\n\n\nghoul\n\n0*3*idle\n\n0*32*96\n0*48*96\n0*64*96\n0*80*96\n\n\nplayer\n\n0*1*jump\n2*3*idle\n\n0*96*96\n0*0*112\n0*16*112\n0*32*112\n\n\nsun\n\n0*0*idle\n\n2*0*0".split("\n\n\n").map((t=>{let[s,i,e]=t.split("\n\n");return{name:s,tags:i.split("\n").map((t=>{let[s,i,e]=t.split("*");return{from:parseInt(s),to:parseInt(i),name:e}})),T:e.split("\n").map((t=>{let[s,i,e,h,r,n,o,a]=function(t){let[s,i,e]=t,h=0,r=0,[n,o]=0===s?[16,16]:1===s?[32,16]:2===s?[80,80]:[0,0],[a,l]=[n,o];return[h,r,n,o,i,e,a,l]}(t.split("*").map((t=>parseInt(t))));return{fx:s,fy:i,W:e,Z:h,J:r,P:n,X:o,Y:a,duration:100}}))}}))}},l=class{constructor(t,s,i,e){this.r=t,this.O=s,this.b=i,this.a=e}get css(){return`rgba(${this.r},${this.O},${this.b},${this.a})`}};s(l,"hex",(t=>new l((16711680&t)>>16,(65280&t)>>8,255&t,255))),s(l,"lightpurple",l.hex(11841221)),s(l,"lightblue",l.hex(4293053)),s(l,"background",l.hex(11841221)),s(l,"light",l.hex(15657718)),s(l,"darkblue",l.hex(1586258)),s(l,"darkred",l.hex(11807859)),s(l,"red",l.hex(14569562)),s(l,"lightred",l.hex(14569562)),s(l,"green",l.hex(2158244)),s(l,"purple",l.hex(9142708)),s(l,"darkpurple",l.hex(7559539)),s(l,"darkgreen",l.hex(44683)),s(l,"grey",l.hex(13488870)),s(l,"white",l.hex(15657718)),s(l,"all",[l.background,l.darkblue,l.light,l.lightblue,l.red,l.darkred,l.green,l.purple]),s(l,"lerp",((t,s,i)=>(i<0&&(i=0),i>1&&(i=1),new l(t.r+(s.r-t.r)*i,t.O+(s.O-t.O)*i,t.b+(s.b-t.b)*i,t.a+(s.a-t.a)*i))));let c=l;const u=class{constructor(t,s){this.canvas=t,this.L=s}get width(){return this.canvas.width}get height(){return this.canvas.height}clear(t=c.background){let{L:s}=this;s.clearRect(0,0,this.width,this.height)}$(t,s){let{L:i}=this;i.save(),i.translate(t,s)}pop(){let{L:t}=this;t.restore()}line(t=c.red,s,i,e,h){let{L:r}=this;r.fillStyle=t.css,r.lineWidth=1,r.beginPath(),r.moveTo(Math.floor(s),Math.floor(i)),r.lineTo(Math.floor(e),Math.floor(h)),r.stroke()}rect(t=c.red,s,i,e,h){let{L:r}=this;r.fillStyle=t.css,r.fillRect(s,i,e,h)}tt(t=c.red,s,i,e,h){let{L:r}=this;r.strokeStyle=t.css,r.lineWidth=1,r.strokeRect(s+1,i+1,e-2,h-2)}st(t,s,i,e=64,h=c.light,r){let{L:n}=this,o=n.measureText(t).width;return"c"===r?(s-=o/2,n.textBaseline="middle"):n.textBaseline="alphabetic",n.font=`${e}px 'Courier New', monospace`,n.fillStyle=h.css,n.fillText(t,s,i),o}it(t,s,i,e=1,h=1){let{fx:r,fy:n,J:o,P:a,X:l,Y:c}=t.current_frame,{et:u,ht:d}=t,x=s-r-u,_=i-n-d;this.rt(x,_,o,a,l,c,e,h)}rt(t,s,i,e,h,r,n=1,o=1){let{L:l}=this,{H:c}=a;l.save();let u=h,d=r,x=u*Math.abs(n),_=d*Math.abs(o);l.scale(Number(n.toFixed(2)),Number(o.toFixed(2))),n<0&&(t*=-1,t-=x),o<0&&(s*=-1,s-=_),l.drawImage(c,i,e,u,d,Math.round(t),Math.round(s),Math.round(x),Math.round(_)),l.restore()}};s(u,"make",((t,s,i=!0)=>{let e=document.createElement("canvas");i&&e.classList.add("pixelated");let h=e.getContext("2d");const r=()=>{e.width=t,e.height=s,h.imageSmoothingEnabled=i};return document.addEventListener("scroll",r,{capture:!0,passive:!0}),window.addEventListener("resize",r,{passive:!0}),r(),new u(e,h)}));let d=u;const x=(t,s,i,e,h,r)=>t<=h&&h<=t+i&&s<=r&&r<=s+e,_=t=>t.split("r").map((t=>parseFloat(t)));class p{constructor(){s(this,"_data"),s(this,"life"),s(this,"objects"),s(this,"pools"),s(this,"_mouses"),s(this,"_scheds"),this.nt=[],this.ot=[],this.lt=new Map,this._scheds=[]}ct(t){return this.ut=t,this}dt(t,s,i,e,h){let r=((t,s,i,e)=>[t,s,i,e].join("r"))(t,s,i,e);this.lt.set(r,{...h,xt:!1})}_t(t,s){this._scheds.push([t,s])}gt(t,s){return(new t).ct(s).init()}make(t,s={}){let i=this.gt(t,s);return this.ot.push(i),i}wt(t,s={},i=7){let e=this.gt(t,s);return this.ot.push(e),this.nt.push([e,i]),e}remove(t){let s=this.ot.indexOf(t);if(-1===s)throw"noscene rm";this.ot.splice(s,1),s=this.nt.findIndex((([s])=>s===t)),-1!==s&&this.nt.splice(s,1)}init(){return this.At=0,this.ft(),this}update(){var t,s,e;if(0===this.At&&this.yt(),this.ot.forEach((t=>t.update())),this.At+=i.delta,this._scheds=this._scheds.map((([t,s])=>(t-i.delta<0&&s(),[t-i.delta,s]))).filter((t=>t[0]>0)),this.nt.slice(0).forEach((([t,s])=>{let i=this.nt.filter((s=>s[0].constructor.name===t.constructor.name));if(i.length>s){let t=i[0][0];this.remove(t)}})),h.click){let s=320*h.click[0],i=180*h.click[1];for(let[e,h]of this.lt)x(..._(e),s,i)&&(null==(t=h.D)||t.call(h))}if(h.move){let t=320*h.move[0],i=180*h.move[1];for(let[h,r]of this.lt)x(..._(h),t,i)?r.xt||(r.xt=!0,null==(s=r.kt)||s.call(r)):(r.xt&&(null==(e=r.Mt)||e.call(r)),r.xt=!1)}this.bt()}vt(t,s){this.zt(t,s),this.ot.forEach((i=>i.vt(t,s))),this.Bt(t,s)}ft(){}yt(){}bt(){}Bt(t,s){}zt(t,s){}}class g extends p{constructor(){super(...arguments),s(this,"x",0),s(this,"y",0),s(this,"scale_x",1),s(this,"scale_y",1),s(this,"_current_frame",0),s(this,"__elapsed",0)}get data(){return this.ut}get info(){let t=a.info.find((t=>t.name===this.jt));if(!t)throw`nosprite ${this.jt}`;return t}get tag(){let t=this.info.tags.find((t=>t.name===this.Ct));if(!t)throw`notag ${this.jt} ${this.Ct}`;return t}get jt(){return this.data.name}get Ct(){return this.data.tag||"idle"}Qt(t,s){this.x=t,this.y=s}get current_frame(){let{from:t}=this.tag;return this.info.T[this._current_frame+t]}get Kt(){return this.data.Kt??"c"}get et(){if("tl"===this.Kt)return 0;let{W:t}=this.current_frame;return"c"===this.Kt||"bc"===this.Kt?t/2:0}get ht(){if("tl"===this.Kt)return 0;let{Z:t}=this.current_frame;return"c"===this.Kt?t/2:"bc"===this.Kt?t:0}Dt(t){this.data.tag=t,this._current_frame=0,this.__elapsed=0}bt(){let{from:t,to:s}=this.tag,{duration:e}=this.current_frame,h=s-t;this.__elapsed+=1e3*i.delta,this.__elapsed>=e&&(this.__elapsed-=e,this._current_frame===h?this._current_frame=0:this._current_frame+=1)}Bt(t,s){let{x:i,y:e,It:h,Nt:r}=this;t.it(this,i,e,h,r)}}function w(t,s,i){return Math.max(Math.min(t,i),s)}const A=t=>Math.sin(t),f=t=>(t%6.28-3.14)/6.28,y=t=>w(1e3*Math.sin(t),-1,1);let m,k;m=new AudioContext,k=m.sampleRate;let M=[["intro",[[0,2,3,5,7,12],1.3],0]],b=[["start",.737,t=>(t*=-999)&&.6*A(t/(20+A(t/900+A(t/440+A(t/222)))-t/400))],["click",.737,t=>(t*=-999)&&.6*A(t/(20+A(t/900+A(t/440+A(t/222)))-t/400))],["open",.93,t=>.555*y(30*A(3*t)/(30-3*t)*A(y(t)))+.455*f(2/f(3*f(4/y(3*Math.random()*A(.2*t)+6/A(t)*.8))))]];const v=async t=>{async function s(){return new Promise((t=>setTimeout(t,0)))}function i(s){t(s)}let e,h,r,n,o,a,l={},c={},u=!0;async function d(t,i){let e=m.createBuffer(1,k*t,k),h=e.getChannelData(0),r=e.length;for(let s=0;s<r;s++)h[s]=i(44100*s/k)*(1-s/r);return await s(),e}async function x([t,i],e){const h=[],r=[],o=[4,2,.5,3,4][e],a=[1,.5,.25,2,2][e++],l=[-15,-20,-19,-12];r.push([e*e*3*.5%2,e%2],[.5*(e*e*3+9*e)%2,(e+1)%2],[.5*(e*e*2+11*e)%2,(e+1)%2]);for(let s=0;s<3;s++){const i=8*s,r=[0,3,-5][s];for(let t=0;t<8;t++)h.push([l[(7*e+2*s+(t>>1)+t*t*3)%4]+r,t+i,6,1]);for(let n=0;n<8/a;n++)(n+n*n+s+3*e)%7<4&&h.push([-3+r+t[(n+n*n*2+s*s*2+e)%t.length],n*a+i,o,2])}const c=m.createBuffer(1,8*k*3*i,k),u=c.getChannelData(0);for(let n=0;n<h.length;n++){let t,e,r,o;[t,e,r,o]=h[n];const a=Math.floor(e*i*k),l=r*i*k;for(let s=0;s<l;s++){let i=0;const e=s/l;i+=1==o?2*w(A(s/(6*2**(-t/12)*2*2)+A(s/8e3))*(44*Math.exp(23*-e)+1),-1,1):7*f(s/(24.18*2**(-t/12)*2)),u[a+s]+=i*Math.min(e*Math.exp(-e*(10+7*o))*100,1)/500}await s()}for(let d=0;d<44;d+=2){for(let t=0;t<r.length;t++){let s,e;[e,s]=r[t];const h=Math.floor(.5*k*s),o=Math.floor((e+d)*k*i);for(let t=0;t<.1*k;t++)u[t+o]+=n[t+h]}await s()}return c}function _(t){let s=e;t&&(e=m.createBufferSource(),e.buffer=t,e.loop=!0,e.connect(u?o:a),e.start()),setTimeout((()=>{null==s||s.stop()}),700),o.gain.setTargetAtTime(u?1:0,m.currentTime,.5),a.gain.setTargetAtTime(u?0:1,m.currentTime,.5),u=!u}return await async function(){let t=b.length+M.length+1;for(let s in b){let[e,h,r]=b[s],n=await d(h,r);i((Number(s)+1)/t),l[e]=n}r=m.createBuffer(1,k,k),n=r.getChannelData(0);const e=.1*k;for(let s=0;s<e;s++)n[s]+=.01*(A(s/(70+s/300))+Math.random()/3)*(1-s/e),n[Math.floor(.5*k)+s]+=.01*Math.random()*(1-s/e);await s(),h=m.createBuffer(1,3*k,k);const u=h.getChannelData(0);for(let s=0;s<3*k;s++){const t=s/k;u[s]=w(Math.sin(s/120)*(10+10*A(s/1e4+t*t*t*4)),-1,1)*t/50}await s();for(let s in M){let[e,h,r]=M[s],n=await x(h,r);i((b.length+(Number(s)+1))/t),c[e]=n}o=new GainNode(m),o.connect(m.destination),a=new GainNode(m),a.connect(m.destination)}(),[t=>function(t){let s=m.createBufferSource();s.buffer=t,s.connect(m.destination),s.start()}(l[t]),t=>function(t){if(!t)return void _();if(!c[t])throw`nomusic ${t}`;_(c[t])}(t)]},z=class{constructor(){s(this,"_loaded",!1),s(this,"_fx"),s(this,"_music"),s(this,"_music_onoff",!0),s(this,"_last_music")}get loaded(){return this.Ft}async load(t){this.loaded||([this.Ut,this.Et]=await v(t),this.Ft=!0,t(1))}get Rt(){return this._music_onoff}set Rt(t){var s,i;this._music_onoff=t,this._music_onoff?null==(i=this.Et)||i.call(this,this.Gt):null==(s=this.Et)||s.call(this)}fx(t){var s;null==(s=this.Ut)||s.call(this,t)}St(t){var s;this.Gt=t,this.Rt&&(null==(s=this.Et)||s.call(this,t))}};s(z,"make",(()=>new z));const B=z.make();function j(t,s){return s<<8*(4-t)}const C=[[[0,3,8,12],[3,16,9,12],[16,20,10,12]]],Q=0,K={[Q]:!0,2:!0};function D(t,s,i,e){return j(1,t)|j(2,s)|j(3,i)|j(4,e)}const I={[D(1,2,1,2)]:[4,0],[D(1,2,2,2)]:[1,0],[D(2,2,2,2)]:[3,2],[D(2,Q,2,2)]:[0,2],[D(2,2,2,Q)]:[3,2],[D(2,Q,2,Q)]:[3,2]},N={2:I,3:I},F=[0,0],U={2:F,3:F,1:[3,1]},E=class{constructor(t){s(this,"sx"),s(this,"sy"),this.cluster=t}get X(){return 16}get Y(){return 16}get qt(){return K[this.cluster]}Vt(t){var s;let[i,e]=(null==(s=N[this.cluster])?void 0:s[t])??U[this.cluster];this.J=16*i,this.P=16*e}};s(E,"cluster",(t=>new E(t)));let R=E;const G=16,S=class{constructor(t){this.grid=t}Ht(){!function(t){const s=t.length,i=t[0].length;for(let e=0;e<s;e++)for(let s=0;s<i;s++){let i=0;[[e,s-1],[e-1,s],[e+1,s],[e,s+1]].forEach((([s,e],h)=>{var r,n;i|=j(h+1,(null==(n=null==(r=t[s])?void 0:r[e])?void 0:n.cluster)??Q)})),t[e][s].Vt(i)}}(this.grid)}Tt(t){let s=Math.floor(t.x/G),i=Math.floor(t.y/G),e=Math.floor((t.x+t.w-1)/G),h=Math.floor((t.y+t.h-1)/G);for(let r=s;r<=e;r++)for(let s=i;s<=h;s++)this.grid[r][s]=R.cluster(t.cluster)}Wt(t,s,i){let{x:e,y:h,w:r,h:n}=t,o=r/2;try{return this.Zt(e-o+s,h-n+i,r,n)}catch(a){return!0}}Zt(t,s,i=1,e=1){let h=t/G,r=s/G,n=(t+i-1)/G,o=(s+e-1)/G;if(h<0||n>=20||r<0||o>=12)throw`outbounds ${t} ${s}`;for(t=h;t<=n;t++)for(s=r;s<=o;s++)if(t=Math.floor(t),s=Math.floor(s),this.grid[t][s].qt)return!0;return!1}get Jt(){let t=[];for(let s=0;s<20;s++)for(let i=0;i<12;i++)t.push([s*G,i*G,this.grid[s][i]]);return t}};s(S,"make",(()=>{let t=[];for(let i=0;i<=20;i++)t.push(new Array(12).fill(R.cluster(1)));C.forEach((s=>{s.forEach((s=>{let[i,e,h,r]=s;for(;h<r;){let s=i;for(;s<e;)t[Math.floor(s)][Math.floor(h)]=R.cluster(2),s++;h++}}))}));let s=new S(t);return s.Ht(),s}));let q=S,V=[c.red,c.darkred];class H extends p{constructor(){super(...arguments),s(this,"grid"),s(this,"_anims_by_tile"),s(this,"debug",!1)}ft(){this.grid=q.make(),this.Pt=new Map}bt(){i.o(.86543)&&([V[1],V[0]]=[V[0],V[1]])}Bt(t){this.grid.Jt.forEach((([s,i,e])=>{if(this.debug)e.qt&&t.tt(V[(s+i)/G%2],s,i,G,G);else{let h=s,r=i,{J:n,P:o,X:a,Y:l}=e;t.rt(h,r,n,o,a,l)}}))}}const T=((t=1)=>()=>{var s=1e4*Math.sin(t++);return s-Math.floor(s)})();function W(t){return t[function(t,s=T){return Math.floor(s()*t)}(t.length)]}const Z=class{constructor(){s(this,"_elapsed",0),s(this,"time_left",120),s(this,"time_begin",!1),s(this,"experience",["play"])}get Xt(){return this._elapsed<15?"iMi<3^:p^<3iMi":this.experience.includes("pickup")?"joy's are us":'"x" to pickup'}get code(){return"hello"}get Yt(){return 0}get Ot(){return Math.ceil(this._elapsed)}get Lt(){return this.time_left<=13}get $t(){return 0===this.time_left}track(t){this.experience.push(t)}update(){this._elapsed+=i.delta,this.ts&&(this.time_left-=i.delta,this.time_left<0&&(this.time_left=0))}};s(Z,"make",(()=>new Z)),s(Z,"from_code",(t=>new Z));let J=Z;function P(t,s,i,e){return Math.abs(Math.sqrt(t*t+s*s)-Math.sqrt(i*i+e*e))}[new J,new J].every((t=>J.from_code(t.code).code===t.code))?console.log("codes ok"):console.log("codes wrong");const X=t=>t/320*1920,Y=t=>t/180*1080,O=t=>t/1920*320,L=t=>t/1080*180,$=1e-5,tt=2.58002,st=2.7812,it=(t,s)=>Math.sqrt(Math.abs(t*t-s*s));class et extends p{constructor(){super(...arguments),s(this,"world"),s(this,"solid")}init(){return this.ss=this.make(rt),this.qt=this.make(H),super.init()}bt(){let{grid:t}=this.qt,{es:s}=this.ss;s.forEach((s=>{for(let e=3;e>=1;e--){let h=2*e/9,r=st*s.hs,n=0;{let e=Math.abs(s.dy),o=Math.sign(s.dy);for(let a=h;a<=e;a+=h){let l=.5*o*a*Math.sqrt(i.delta);if(t.Wt(s,0,l)){s.rs=o,s.dy=0,n=0;break}s.rs=0,s.y+=l,n=1-o*((a-h)/(e-h));{let t=.044311*r*Math.sqrt(n),e=1;s.dy+=e*t*i.delta}}}{let e=.877*r,n=1;for(let r=h;r<=e;r+=h){let e=.5*n*r*Math.sqrt(i.delta);if(t.Wt(s,0,e)){s.rs=n,s.dy=0;break}s.rs=0,s.y+=e}}{let e=Math.abs(s.dx),r=Math.sign(s.dx),n=1.8*Math.pow(2.2*it(s.dy,1),.18*-it(s.dy,1));for(let o=h;o<=e;o+=h){let e=.5*r*o*Math.sqrt(i.delta)*n;if(t.Wt(s,e,0)){s.ns=r,s.dx=0;break}s.ns=0,s.x+=e}}}}))}}class ht extends p{constructor(){super(...arguments),s(this,"_scale_G"),s(this,"variance"),s(this,"lerp_x"),s(this,"lerp_y"),s(this,"world"),s(this,"collide_v"),s(this,"collide_h"),s(this,"_w"),s(this,"_h"),s(this,"x"),s(this,"y"),s(this,"dx"),s(this,"dy")}get data(){return this.ut}os(t,s={}){var i;return null==(i=this.ss)?void 0:i.ls(this,t,s)}get cs(){return this.rs<0}get us(){return this.rs>0}get ds(){return this.ns<0}get xs(){return this.ns>0}get w(){return this._s}get h(){return this.ps}init(){return this.x=this.data.x??0,this.y=this.data.y??0,this._s=this.data.w,this.ps=this.data.h,this.dx=0,this.dy=0,this.hs=this.data.gs??1,this.ws=ot,this.As=void 0,this.fs=void 0,super.init()}update(){if(this.As){let[t,s,e]=this.As;e<=$?this.As=void 0:(this.x=this.x+(t-this.x)*(1-e/s),this.As[2]-=i.delta)}if(this.fs){let[t,s,e]=this.fs;e<=$?this.fs=void 0:(this.y=this.y+(t-this.y)*(1-e/s),this.fs[2]-=i.delta)}super.update()}}class rt extends p{get es(){return this.ot}body(t,s={}){let i=this.make(t,s);return i.ss=this,i}ls(t,s,i={}){let e=this.es.indexOf(t);if(-1===e)throw vt.track("error"),"nobody";return this.es.splice(e,1),t.ss=void 0,this.body(s,i)}filter(t){return this.es.filter((s=>s.constructor.name===t.name))}}class nt extends ht{constructor(){super(...arguments),s(this,"anim")}get data(){return this.ut}init(){return this.it=this.make(g,this.data),super.init()}update(){this.it.x=this.x,this.it.y=this.y,super.update()}}const ot=.6234;function at(t=1,s=ot){let i=-t,e=+t;return(T()*(e-i)+i)*s}function lt(t,s=ot){return Math.floor(t/2+at(t/2,s)+1)}function ct(t,s=ot){return t/2+at(t/2,s)}class ut extends nt{constructor(){super(...arguments),s(this,"picked")}update(){let{ys:t}=this;t&&(vt.track("pickup"),i.o(.2)&&(this.wt(dt,{x:this.x,y:this.y-8}),this.As=[t.x,.3,.3],this.fs=[t.y,.3,.3])),super.update()}}class dt extends ht{constructor(){super(...arguments),s(this,"text"),s(this,"color"),s(this,"size")}ft(){this.text=lt(6)<3?"z":"Z",this.color=W(c.all),this.size=52+lt(32)}bt(){this.y-=1.3906*Math.sqrt(i.delta),this.x+=at(6.222,.1)}Bt(t,s){s.st(this.text,X(this.x),Y(this.y),this.size,this.color)}}class xt extends ut{constructor(){super(...arguments),s(this,"d"),s(this,"d_bar")}get data(){return this.ut}init(){this.d=0;return this.ks=this.make(ft,{color:c.darkred,x:3,y:2,w:100,h:8}),super.init()}update(){let{x:t,y:s}=this,{Ms:i,bs:e}=this.data;this.d=Math.floor(P(i,e,t,s)),this.ks.data.x=X(t),this.ks.data.y=Y(s-24),super.update()}}class _t extends xt{bt(){if(this.ys)return;let{ws:t}=this;if(i.o(.1764)){let s=at(6.222,t);this.As=[this.x+s,.2,.2]}if(i.o(.242)){let s=at(6.323,t);this.fs=[this.y+s,.2,.2]}}}class pt extends xt{}class gt extends p{constructor(){super(...arguments),s(this,"x"),s(this,"y"),s(this,"x2"),s(this,"y2")}Bt(t){let{x:s,y:i,x2:e,y2:h}=this;t.line(c.light,s,i,e,h)}}class wt extends nt{constructor(){super(...arguments),s(this,"_prepickup"),s(this,"_pickup"),s(this,"_pre_grounded",!1),s(this,"pickup_line"),s(this,"message"),s(this,"_sudden_slow")}get vs(){return this.it.It}ft(){this.zs=.5,this.Bs=this.make(gt),this.message=vt.Xt}js(t){this.wt(Dt,{x:this.x-8*this.vs+t,y:this.y-8},4)}bt(){var t,s,e,h;this.us&&!this.Cs&&(vt.track("jump"),this.js(0),this._t(.1,(()=>this.us&&this.js(-9))),this._t(.1,(()=>this.us&&this.js(9))),this._t(.2,(()=>this.us&&this.js(-19))),this._t(.2,(()=>this.us&&this.js(19)))),i.o(at(3))&&(this.message=vt.Xt),this.Cs=this.us,o.R("left")?(vt.track("left"),this.it.It=-1,this.dx=-tt):o.R("right")?(vt.track("right"),this.it.It=1,this.dx=tt):this.dx=0,o.R("jump")&&(this.us?this.dy=-3.6155600000000003:vt.track("fly")),i.o(at(1))&&(this.Qs||(this.Ks=this.Ds(pt)||this.Ds(_t))),this.Ks?(this.Bs.x=this.x,this.Bs.y=this.y,this.Bs.x2=this.Ks.x,this.Bs.y2=this.Ks.y):(this.Bs.x=-100,this.Bs.y=-100,this.Bs.x2=-10,this.Bs.y2=-10),this.Ks&&i.o(.2+at(.2))&&(t=this.x,s=this.y,e=this.Ks.x,h=this.Ks.y,[...Array(10).keys()].map((i=>{let r=i/10;return[t+r*(e-t),s+r*(h-s)]}))).slice(0,at(10)).forEach((([t,s])=>{this.wt(Kt,{color:c.Is,x:X(t),y:Y(s),size:24*at(8)+at(4)*at(56),text:this.message[lt(this.message.length)],align:"c"})})),o.F("pickup")&&(this.Qs?(this.Qs.ys=void 0,this.Qs=void 0,this.Ks=void 0):(this.Qs=this.Ks,this.Qs&&(B.fx("open"),this.Qs.ys=this,vt.ts=!0,this.zs=.6))),this.zs>0&&(this.zs-=i.delta,this.zs<0&&(this.zs=0),this.dx*=Math.pow(2,-it(this.zs,.5)))}Ds(t){var s;let{x:i,y:e}=this,h=null==(s=this.ss)?void 0:s.filter(t).map((t=>[t,P(t.x,t.y,i,e)])).sort(((t,s)=>t[1]-s[1]))[0];if(h&&h[1]<32)return h[0]}}class At extends p{get data(){return this.ut}Bt(t){let{color:s,x:i,y:e,w:h,h:r}=this.data;t.tt(s,i,e,h,r)}}class ft extends p{constructor(){super(...arguments),s(this,"_lerp_to"),s(this,"_lerp_t",0)}get data(){return this.ut}lerp(t,s=.142){this.Ns=t,this.Fs=s}bt(){if(this.Fs>0){let t=1-this.Fs/.2;this.data.color=c.lerp(this.data.color,this.Ns,t),this.Fs-=i.delta,this.Fs<0&&(this.Fs=0)}}Bt(t){let{color:s,x:i,y:e,w:h,h:r}=this.data;t.rect(s,i,e,h,r)}}class yt extends p{constructor(){super(...arguments),s(this,"hovering",!1),s(this,"click_t",0),s(this,"w",60),s(this,"h",22),s(this,"bg")}get data(){return this.ut}get x(){return this.data.x}get y(){return this.data.y}ft(){let{w:t,h:s}=this;this.Us=this.make(ft,{color:c.darkblue,x:3,y:2,w:t,h:s}),this.make(At,{color:c.lightblue,x:3,y:2,w:t,h:s}),this.make(Kt,{x:X(t/2-2),y:Y(s/2+2),size:74,text:this.data.text,align:"c"});let i=this;this.dt(this.x,this.y,this.w,this.h,{D(){B.fx("click"),i.Es=.073454,i.Us.lerp(c.red,i.Es)},kt(){i.Us.lerp(c.lightblue)},Mt(){i.Us.lerp(c.darkblue)}})}bt(){this.Es>0&&(this.Es-=i.delta,this.Es<=0&&(this.Es=0,this.Us.lerp(c.lightblue,.345)))}zt(t,s){t.$(this.data.x,this.data.y),s.$(X(this.data.x),Y(this.data.y))}Bt(t,s){t.pop(),s.pop()}}class mt extends p{constructor(){super(...arguments),s(this,"align"),s(this,"blue_text"),s(this,"retro_text"),s(this,"music_text"),s(this,"music_ontext"),s(this,"time_text")}get data(){return this.ut}ft(){this.align=[],this.make(ft,{color:c.darkblue,x:3,y:2,w:84,h:42}),this.make(At,{color:c.lightblue,x:3,y:2,w:84,h:42}),this.make(At,{color:c.red,x:2,y:1,w:86,h:44}),this.Rs=this.make(Kt,{x:50,y:100,size:74,text:"blue"}),this.Gs=this.make(Kt,{x:150,y:100,size:74,text:"retro"});let t=this;this.dt(O(50),L(26),O(500),L(74),{D(){t.data.Ss()},kt(){t.Rs.color=c.lightblue,t.Gs.color=c.purple},Mt(){t.Rs.color=c.light,t.Gs.color=c.light}}),this.align.push({margin:89,h:[this.Rs,this.Gs]}),this.make(Kt,{x:50,y:170,size:54,text:"time"}),this.qs=this.make(Qt,{x:280,y:170,size:54,text:"02:00"}),this.Vs=this.make(Kt,{x:50,y:228,size:54,text:"music"}),this.Hs=this.make(Kt,{x:280,y:228,size:54,text:"on"}),this.dt(O(50),L(174),O(280),L(54),{D(){B.Rt=!B.Rt,t.Ts()},kt(){t.Hs.color=c.red},Mt(){t.Hs.color=c.light}}),this.make(yt,{x:250,y:4,text:"Right"}),this.make(yt,{x:180,y:4,text:"Left"}),this.make(yt,{x:220,y:30,text:"Jump"}),t.Ts()}Ts(){B.Rt?(vt.track("music on"),this.Hs.text="on"):(vt.track("music off"),this.Hs.text="off")}bt(){vt.Lt,this.qs.text=function(t){function s(t){return t<10?`0${t}`:`${t}`}return`${s(Math.floor(t/60))}:${s(Math.floor(t%60))}`}(vt.time_left),o.F("music")&&(vt.track("key m"),B.Rt=!B.Rt,this.Ts()),this.align.forEach((t=>{var s;let i=t.margin??0;null==(s=t.h)||s.reduce(((t,s)=>(s.x=t.x+t.width+i,s)))}))}}class kt extends p{constructor(){super(...arguments),s(this,"parent")}Ws(t,s={}){let i=this.make(t,s);return i.parent=this,i}Zs(t,s={}){var i,e;null==(i=this.parent)||i.remove(this),null==(e=this.parent)||e.Ws(t,s)}}class Mt extends kt{constructor(){super(...arguments),s(this,"_countdown")}ft(){this.Js=0,B.St("intro"),this.make(Ft);let t=this;this.make(mt,{Ss(){t.Zs(zt),vt.track("credits link")}})}bt(){vt.update(),vt.$t&&(vt.track("game end"),this.make(bt),0===this.Js&&(this.Js=5.432)),this.Js>0&&(this.Js-=i.delta,this.Js<=0&&(this.Zs(zt),vt.track("countdown credits")))}}class bt extends p{ft(){this.make(Kt,{x:960,y:540,size:123,text:"good game á½„"}),this.make(Kt,{x:960,y:612,size:43,text:"every thing just never asks"}),this.make(Kt,{x:960,y:642,size:43,text:".",color:c.darkpurple})}}let vt=J.make();class zt extends kt{constructor(){super(...arguments),s(this,"texts"),s(this,"sub_texts"),s(this,"end_message_texts"),s(this,"code_text"),s(this,"end_message_text"),s(this,"info_text"),s(this,"last_progress"),s(this,"_hold",!1)}ft(){this.Ps=vt,vt=J.make(),B.Rt=!1,this.make(ft,{color:c.green,x:0,y:0,w:320,h:180}),this.make(Kt,{color:c.lightpurple,x:-1070,y:1020,size:9e3,text:"E"}),this.Xs=this.make(Kt,{color:c.darkblue,x:0,y:1e3,size:38,text:"press jump or pickup to pause"});let t=480;this.Ys=[this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:`you've invested "${this.Ps.Ot}" knucles back to your future.`}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"don't ever"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"for any reason"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"no matter what you're doing"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"or where you are"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"or who you've been with"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"for any reason"}),this.make(Kt,{color:c.Os,x:t,y:100,size:40,text:"no matter whatsoever"})],this.Ls=this.make(Kt,{color:c.darkpurple,x:t,y:100,size:40,text:"please send your secret code wait_x2_not in the end to me;"}),this.$s=[this.make(Kt,{color:c.red,x:t,y:100,size:70,text:"watermelon or an exotic pomengrate"}),this.Ys[0],this.make(Kt,{color:c.Os,x:t,y:100,size:70,text:"watermelon or an exotic pomengrate"}),this.Ys[1],this.make(Kt,{color:c.darkblue,x:t,y:100,size:70,text:"watermelon or an exotic pomengrate"}),this.Ys[2],this.make(Kt,{color:c.darkblue,x:t,y:100,size:70,text:"watermelon or an exotic pomengrate"}),this.Ys[3],this.make(Kt,{color:c.darkblue,x:t,y:100,size:70,text:"watermelon or an exotic pomengrate"}),this.Ys[4],this.Ys[5],this.Ys[6]],this.ti=[this.make(Kt,{color:c.darkpurple,x:t,y:100,size:90,text:"thanks for playing"}),this.Ls,this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:90,text:"art twitter.com/_V3X3D"}),this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:90,text:"music github.com/arikwex"}),this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:90,text:"author twitter.com/eguneys"}),this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:120,text:"Mucho Gracias <3"}),this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:80,text:"Check out my PostMortem too!"}),this.make(Kt,{color:c.darkpurple,x:t,y:1e3,size:120,text:"bb"})];let s=this;this.dt(0,0,320,180,{D(){s.At>2&&(vt.track("reset"),s.Zs(Bt))}})}bt(){if((o.F("jump")||o.F("pickup"))&&(this.si=!this.si,this.si||(this.Xs.color=c.ii,this.Xs.size-=10)),this.si)return this.Xs.ei=7+10*Math.cos(3*this.At),void(this.Xs.hi=3+10*Math.sin(7*this.At));this.Xs.ei=0,this.Xs.hi=0,this.$s[0].y+=180*i.delta,this.$s[0].y>1080*this.$s.length-100&&(this.Ls.text=this.Ls.text.replace("wait_x2_not",this.Ps.code)),this.$s[0].y%=1080*this.$s.length-100,this.$s.reduce(((t,s)=>(s.y=t.y-t.height-777,s))),this.ti[0].y+=200*i.delta,this.ti[0].y>1080*this.ti.length-100&&(this.Ls.text=this.Ls.text.replace("wait_x2_not",this.Ps.code)),this.ti[0].y%=1080*this.ti.length-100,this.ti.reduce(((t,s)=>(s.y=t.y-t.height-777,s)))}}class Bt extends kt{constructor(){super(...arguments),s(this,"begin_text1"),s(this,"begin_text2")}yt(){console.log("here")}ft(){this.make(ft,{color:c.darkblue,x:0,y:0,w:320,h:180}),this.make(Kt,{color:c.lightblue,x:-250,y:1020,size:6e3,text:"V"}),this.make(Kt,{x:50,y:170,size:112,text:"2 minute ssir..",color:c.light}),this.make(Kt,{x:960,y:540,size:112,text:"blue",color:c.light}),this.make(Kt,{x:1280,y:540,size:112,text:"retro",color:c.light}),this.make(Kt,{x:640,y:900,size:112,text:"by",color:c.light}),this.make(Qt,{x:840,y:900,size:112,text:"eguneys",color:c.light}),this.ri=this.make(Kt,{x:0,y:1030,size:62,text:"click to begin",color:c.light}),this.ni=this.make(Kt,{x:0,y:1030,size:62,text:"click to begin",color:c.light}),B.load((t=>{let s=1===t?"click to begin":`loading sounds ${Math.floor(100*t)}%`;this.ri.text=s,this.ni.text=s,console.log(s),vt.track("sound")}));let t=this;this.dt(0,0,320,180,{D(){B.loaded&&(t.Zs(Mt),vt.track("load game"))}})}bt(){this.ri.x+=300*i.delta,this.ni.x+=300*i.delta,this.ri.x+this.ri.width>1920&&(this.ni.x=this.ri.x-1920),this.ni.x+this.ni.width>1920&&(this.ri.x=this.ni.x-1920)}}const jt=class extends kt{ft(){this.Ws(Bt)}zt(t,s){t.clear(),s.clear()}};s(jt,"make",(()=>(new jt).init()));let Ct=jt;class Qt extends p{constructor(){super(...arguments),s(this,"_width",0),s(this,"x"),s(this,"y"),s(this,"size"),s(this,"text"),s(this,"color"),s(this,"lc")}get data(){return this.ut}get width(){return this.oi}get height(){return this.size}ft(){this.text=this.data.text,this.x=this.data.x,this.y=this.data.y,this.size=this.data.size??64,this.color=this.data.color??c.light,this.ai=[]}bt(){i.o(.2)&&(this.ai=this.text.split("").map((t=>[t,W(c.all)])))}Bt(t,s){this.oi=0,this.ai.map((([t,i])=>{let e=s.st(t,this.x+this.oi,this.y,this.size,i);this.oi+=e}))}}class Kt extends p{constructor(){super(...arguments),s(this,"_width",0),s(this,"o_x"),s(this,"o_y"),s(this,"x"),s(this,"y"),s(this,"size"),s(this,"text"),s(this,"color")}get data(){return this.ut}get width(){return this.oi}get height(){return this.size}ft(){this.text=this.data.text,this.x=this.data.x,this.y=this.data.y,this.size=this.data.size??64,this.color=this.data.color??c.light,this.ei=0,this.hi=0}Bt(t,s){this.oi=s.st(this.text,this.ei+this.x,this.hi+this.y,this.size,this.color,this.data.align)}}class Dt extends p{get data(){return this.ut}ft(){this.make(g,{name:"bounce",tag:`${5+Math.floor(at(4))}`}).Qt(this.data.x,this.data.y)}}class It extends p{ft(){for(let t=0;t<16+at(8);t++){this.make(g,{name:"dust",tag:"s"}).Qt(90+at(320),at(180))}}}class Nt extends p{constructor(){super(...arguments),s(this,"world"),s(this,"ones")}get data(){return this.ut}ft(){this.ss=this.data.ss,this.li=[]}bt(){if(i.o(lt(lt(3.2)+1))){let[t,s]=W([[_t,{Ms:0,bs:0,name:"fly",x:60+lt(190),y:30+lt(60),w:16,h:16,gs:.03+ct(.3),Kt:"bc"}],[pt,{Ms:320,bs:180,name:"ghoul",x:lt(320),y:130,w:16,h:16,gs:.03+ct(.3),Kt:"bc"}]]);if(this.li.length<2||this.li.length<lt(2+lt(6)))this.li.push(this.ss.body(t,{...s}));else{let i=this.li.shift();i&&(i.ys||this.li.push(i.os(t,{...s})))}}}}class Ft extends et{ft(){this.make(It),this.make(Nt,{ss:this.ss}),this.ss.body(wt,{name:"player",x:8,y:80,w:16,h:16,Kt:"bc"})}}!async function(t){await a.load(),function(t){let s=d.make(1920,1080,!1),i=d.make(320,180),r=Ct.make();e._({p(){h.update(),o.update(),r.update()},v(){r.vt(i,s)}}),t.appendChild(i.canvas),t.appendChild(s.canvas),h.N(t)}(t)}(document.getElementById("app"));
