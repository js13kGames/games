<!doctype html><meta name=monetization content=$coil.xrptipbot.com/UNG1FltnQXyrULmj9nNguA><title>For O'Foughr</title><script src=/socket.io.js></script><style>.board,body{display:flex}.map,body{overflow:hidden}.court,.hell{right:calc(var(--pixel-size) * 4)}.modal .input,.modal input,body{box-sizing:border-box;padding:var(--pixel-size)}.board{justify-content:center}.modal,body{flex-direction:column}body,html{margin:0;height:100%}body{font-size:calc(var(--pixel-size) * 2);background:linear-gradient(#4a5360 40%,#72795c 40%);align-items:center;font-family:Ubuntu,"Twemoji Mozilla",sans-serif;transition:opacity .1s ease-in;image-rendering:pixelated;image-rendering:optimizespeed;--pixel-size:10px;--dot-size:var(--pixel-size)}.hidden{display:none!important}.title{color:#fff8e3;margin-bottom:var(--pixel-size)}h1{--dot-size:calc(var(--pixel-size) * 2);margin:0;z-index:2}.map{background-image:url(background.png);background-size:100%;animation:map 2s infinite;height:calc(var(--pixel-size) * 64);width:calc(var(--pixel-size) * 64);position:relative;box-shadow:0 0 0 calc(var(--pixel-size) * 2) #c4bfb0;margin:calc(4 * var(--pixel-size))}.char,.stats .player{height:calc(var(--pixel-size) * 9)}@keyframes map{0%{background-image:url(background.png)}50%{background-image:url(map_overlay.png),url(background.png)}}.map>span{position:absolute;display:flex;color:#504c40;text-transform:uppercase;font-weight:700;min-height:calc(var(--pixel-size) * 9)}.map .tiny-font{position:absolute;opacity:.8}.bank{bottom:calc(var(--pixel-size) * 4);left:calc(var(--pixel-size) * 4)}.bank .tiny-font,.court .tiny-font,.temple .tiny-font{bottom:calc(var(--pixel-size) * -3)}.court,.plaza{bottom:calc(var(--pixel-size) * 4)}.eden .text,.hell .text{top:calc(var(--pixel-size) * 9)}.court{justify-content:flex-end}.temple{top:calc(var(--pixel-size) * 25);left:50%;justify-content:center}.eden,.hell{top:calc(var(--pixel-size) * 1)}.eden{left:calc(var(--pixel-size) * 4)}.hell{justify-content:flex-end}.plaza{left:50%}.char{background-image:url(characters.png);background-size:calc(var(--pixel-size) * 20) calc(var(--pixel-size) * 27);width:calc(var(--pixel-size) * 4);display:inline-block}.map .char{position:absolute;margin-left:calc(var(--pixel-size) * -2);top:0;left:0;transition:transform 1s linear;transition-timing-function:steps(10)}.char.animated{animation:walk .3s steps(1) infinite}.temple .char:nth-child(2n):last-child,.temple .char:only-child{margin-right:0}.devotee{background-position-x:0}.saint{background-position-x:100%}.baal{background-position-x:25%}.marx{background-position-x:75%}.dissident{background-position-x:50%}@keyframes walk{0%,100%{background-position-y:50%}50%{background-position-y:100%}}.modal{position:fixed;top:0;height:100%;width:100%;background:#4a5360;z-index:1;display:flex;align-items:center;justify-content:center}.btn,.stats .player{flex-direction:column}.modal .text{color:#fff8e3;padding:var(--pixel-size);margin:var(--pixel-size)}.modal .btn,.modal .input{color:#504c40}.modal .input{background:#fff8e3;--dot-size:var(--pixel-size) * 2}.modal input{position:absolute;top:-100%}.modal .input,.modal input{height:calc(var(--pixel-size) * 7);width:calc(var(--pixel-size) * 4 * 8);border:0}.modal .input .word:last-child .letter:last-child{opacity:50%;animation:blink .5s infinite;animation-timing-function:steps(1)}.modal p{color:#fff8e3;max-width:500px;width:100%;text-shadow:0 0 1px #504c40}@keyframes blink{0%{color:currentColor}50%{color:transparent}}.modal .char{float:left;margin-right:var(--pixel-size);margin-top:calc(-2 * var(--pixel-size))}.actions{text-align:center;user-select:none}.btn{color:#504c40;padding:var(--pixel-size);line-height:1;display:inline-flex;margin-left:calc(var(--pixel-size) * 2);position:relative;align-items:center;font-size:calc(var(--pixel-size) * 3);max-width:calc(var(--pixel-size) * 40)}.btn::after,.btn::before{content:"";position:absolute;height:100%;width:100%;background:#504c40;top:var(--pixel-size);right:var(--pixel-size);z-index:-1}.btn::after{background:#fff8e3;top:0;right:0}.btn:not(.disabled).pressed::after,.btn:not(.disabled):active::after{top:calc(var(--pixel-size)/ 2);right:calc(var(--pixel-size)/ 2)}.labels div{display:inline-block;padding:1em .5em 0}.disabled{background:#c4bfb0}.disabled *,.disabled::before{opacity:.7}.btn .char{margin-top:calc(var(--pixel-size) * 1)}.message{margin-top:calc(.5 * var(--pixel-size));text-align:left;width:calc(var(--pixel-size) * 64);background:#fff8e3;color:#504c40;padding:calc(.5 * var(--pixel-size))}.stats{margin:calc(var(--pixel-size) * 1);width:calc(var(--pixel-size) * 21)}.stats .player{background:#fff8e3;display:flex;width:calc(var(--pixel-size) * 15);flex-wrap:wrap;padding:calc(var(--pixel-size) * 1);text-align:right;justify-content:space-around;position:relative;margin:calc(var(--pixel-size) * 2)}.stats .player::before{content:"";display:block;width:calc(100% + var(--pixel-size));height:calc(100% - var(--pixel-size));position:absolute;background:inherit;z-index:-1;left:calc(-.5 * var(--pixel-size))}.gold::after{content:"💰";margin-left:.5em}.relics::after{content:"🏺";margin-left:.5em}.influence::after{content:"⚜️";margin-left:.5em}.gold,.influence,.relics{color:#504c40;font-size:calc(var(--pixel-size) * 3);line-height:1}.player.local::before{box-shadow:0 0 0 var(--pixel-size) #da7474}.tiny-font{--dot-height:var(--dot-size)/2;--dot-width:var(--dot-size)/2}.letter{display:inline-flex;flex-wrap:wrap;width:calc(3 * var(--dot-width));height:calc(5 * var(--dot-height))}.letter.w4{width:calc(4 * var(--dot-width))}.letter.w1{width:calc(1 * var(--dot-height))}.letter+.letter{margin-left:calc(1 * var(--dot-width))}.letter>i{width:calc(1 * var(--dot-width));height:calc(1 * var(--dot-height))}i[black]{background:currentColor;border-left:1px solid currentColor;margin-right:-1px}i:not([black]){color:transparent}.word{white-space:nowrap;display:inline-block;margin-right:calc(2 * var(--dot-width));vertical-align:middle;font-size:0}.word:last-child{margin-right:0}</style><h1 class="text title">For O'Foughr</h1><div class=board><div class=stats></div><div class=map><span class=bank><span class=text>bank</span></span> <span class=court><span class=text>court</span></span> <span class=temple><span class=text>temple</span></span> <span class=eden><span class=text>eden</span></span> <span class=hell><span class=text>hell</span></span> <span class=plaza></span></div><div class=hidden><div class="char animated devotee"></div><div class="char animated saint"></div><div class="char animated baal"></div><div class="char animated marx"></div><div class="char animated dissident"></div></div></div><div class=actions><div class=title></div><div class=options></div></div><div class=modal><div class=text>Your name</div><input class=hidden maxlength=7 autofocus><div class=input></div><div class="submit btn text">Start</div><p>In this world, you either follow god O'Foughr or you're against him.<p>Gain influence ⚜️ and collect gold 💰 and relics 🏺. If you have less than 0 influence ⚜️, you're out!<p>Click the buttons (of number keys) to travel and choose tasks to earn gold 💰, relics 🏺, and influence ⚜️. Some actions affect you; some affect another player; some affect all players, including you.<p><span class="char saint"></span> <strong>Saint</strong><br>Win: Total pray count > 15<br><p><span class="char baal"></span> <strong>Baal</strong><br>Win: 7 sins have been committed<br><p><span class="char marx"></span> <strong>Marx</strong><br>Win: Saint, Devotee or Baal has zero influence<br><p><span class="char devotee"></span> <strong>Devotee</strong><br>Win: Saint has 10 💰 + 🏺 + ⚜️<br><p><span class="char dissident"></span> <strong>Dissident</strong><br>Win: Total money > 20<br></div><script>function t(){e.on("start",()=>{"start"!=p&&(p="start",C(h),X())}),e.on("updateUsers",t=>{h=t.find(t=>t.id===e.id),u=t,u.forEach(e=>{e.stats=f[e.id]||Object.assign({},l),f[e.id]=e.stats}),"lobby"===p&&(u.forEach((e,t)=>{const n=document.querySelector(".board .hidden .char."+e.char);n&&(document.querySelector(".map").appendChild(n),function(e,t){const n=document.querySelector(".map ."+e.char);let a,s;u.indexOf(e)%2==0?(a=-4-4*t,s=51):(a=68+4*t,s=51),M[e.char]={x:a,y:s},n.style.transform=`translateX(calc(var(--pixel-size) * ${a})) translateY(calc(var(--pixel-size) * ${s}))`}(e,t))}),b[5].players=t,L()),E()})}function n(t){e.emit("join",t)}function a(t){e.emit("choice",h.nextChoice),t()}function s(){e.emit("resetChoice")}function o(){e.emit("forceStart")}const i="Waiting for others...",l={gold:1,influence:4,relics:0,prayCount:0,sinCount:0},c="court",r="temple",d="hell",m="plaza";let u=[],h=null,f={},p="lobby",y=0;const b=["bank",c,r,"eden",d,m].map((e,t)=>({index:t+1,name:e,players:[]})),v={bank:[{name:"Interest Return",labels:["💰 + 💰 / 5 ⚜️"],effect:e=>(e.stats.gold+=1+Math.floor(e.stats.influence/5),`${e.name} earned ${1+Math.floor(e.stats.influence/5)} gold from interest.`),disabled:e=>!1}],court:[{name:"Tax Reform",labels:["Tax rich or all?"],options:[{name:"Tax Richest",labels:["Richest 👤 -20% 💰"],effect(e){const t=[...u].sort((e,t)=>e.stats.gold>t.stats.gold?1:e.stats.gold<t.stats.gold?-1:0).pop(),n=Math.ceil(.2*t.stats.gold);return t.stats.gold-=n,e.nextChoice.target=u.findIndex(e=>e===t),`Player ${t.name} was taxed ${n} 💰 by player ${e.name}`}},{name:"Tax all",labels:["All players -10% 💰"],effect:e=>(u.forEach(e=>{const t=Math.ceil(.1*e.stats.gold);e.stats.gold-=t}),"Each player was taxed 10% 💰 by player "+e.name)}],effect(e,t){const n=t.options[e.nextChoice.option-1];return n.effect(e)},disabled:()=>!1},{name:"Embezzlement",labels:["-1 ⚜️","+2 💰",,"+1 🏺"],effect:e=>(e.stats.influence-=1,e.stats.gold+=2,e.stats.relics+=1,e.name+" embezzled gold and relics."),disabled:e=>e.stats.influence<1}],temple:[{name:"Offering",labels:["-1 🏺","+3 ⚜️"],effect:e=>(e.stats.influence+=3,e.stats.relics-=1,e.name+" donated a relic to the temple"),disabled:e=>e.stats.relics<1},{name:"Donation",labels:["-1 💰","+1 ⚜️"],effect:e=>(e.stats.gold--,e.stats.influence++,e.name+" made a gold donation to the temple"),disabled:e=>e.stats.gold<1},{name:"Pray",labels:["🙏"],effect:e=>(e.stats.prayCount++,e.name+" is praying at the temple"),disabled:()=>!1}],eden:[{name:"Blessing",labels:["Random Blessing"],effect:e=>e.name+" was blessed",disabled:()=>!1},{name:"Enlightenment",labels:["Get 1 ⚜️ per Pray 🙏"],effect:e=>(e.stats.influence+=e.stats.prayCount,`${e.name} received enlightenment: ${e.stats.prayCount} ⚜️`),disabled:()=>!1},{name:"Judgement",labels:["no pray = -1 ⚜️"],effect(e){const t=u.filter(e=>0==e.stats.prayCount);return t.map(e=>e.stats.influence--),t.map(e=>e.name).join(", ")+" received judgement from not praying: -1 ⚜️"},disabled:()=>!1}],hell:[{name:"Wrath",labels:["-2 ⚜️ per sin"],effect:e=>(u.filter(t=>t!==e).map(t=>{t.stats.influence-=2*e.stats.sinCount}),e.name+" caused non-prayers to lose ⚜️"),disabled:()=>!1},{name:"Deluge",labels:["Players on Earth -1 💰/🏺","+1 💰/🏺 otherwise"],effect:e=>e.name+" caused a damnation",disabled:()=>!1},{name:"Temptation",labels:["Cause player to sin"],targetPlayer:!0,effect(e){const t=u[e.nextChoice.target-1],n=Object.keys(g)[y%7];return g[n](t),`${e.name} made player ${t.name} commit the sin of ${n}`},disabled:()=>!1}]},g={lust(e){e.stats.sinCount++},gluttony(e){e.stats.sinCount++},greed(e){e.stats.sinCount++},sloth(e){e.stats.sinCount++},wrath(e){},envy(e){e.stats.sinCount++},pride(e){e.stats.sinCount++}},$={devotee(){const{stats:e}=u.find(e=>"saint"===e.char);return e.gold+e.influence+e.relics>=10},saint:()=>u.reduce((e,t)=>e+t.stats.prayCount,0)>15,baal:()=>u.reduce((e,t)=>e+t.stats.sinCount,0)>=7,marx:()=>!!u.find(e=>["saint","devotee","baal"].includes(e.char)&&e.stats.influence<=0),dissident:()=>u.find(e=>"dissident"===e.char).stats.gold>=20};function x(){u.forEach(e=>{const t=b[e.location-1],n=b[e.nextChoice.location-1];n?(t&&(t.players=t.players.filter(t=>t.name!==e.name)),n.players.push(e),e.location=b.indexOf(n)+1):t&&(t.players.push(e),e.location=b.indexOf(t)+1),C(e)}),L(),E(),e.emit("move")}function C(e){e.nextChoice={location:null,action:null,option:null,target:null}}let q=1;function S(e,t,n,a){requestAnimationFrame(()=>{document.querySelector(".actions .options").innerHTML="",t.map((t,s)=>{const o=document.createElement("div");o.innerHTML=t.html,o.className="btn",t.disabled||"winner"===e?o.classList.add("disabled"):o.onmousedown=()=>{(function(e,t){h.nextChoice[t]=e})(s+1,n),document.querySelectorAll(".btn").forEach(e=>e.classList.remove("pressed")),o.classList.add("pressed"),a&&(document.querySelector(".actions .title").innerHTML=a,ee(".actions .title"))},document.querySelector(".actions .options").appendChild(o)}),document.querySelector(".actions .title").innerHTML=e,ee(".actions .title")})}function T(e,t,n){if(document.querySelector(".actions .options").innerHTML="",document.querySelector(".actions .title").innerHTML=e.map((e,t)=>`<div class="${t>0?"message":"text"}">${e}</div>`).join(""),t){const e=document.createElement("div");e.innerHTML=n,e.className="btn text",e.onclick=()=>t(),document.querySelector(".actions .options").appendChild(e)}ee(".actions .text")}const M={};let w=0;function L(){u.forEach((e,t)=>{w++;const n=document.querySelector(".map .char."+e.char),a=b[e.location-1],s=a.name,o=document.querySelector("."+s);let i=o.offsetLeft/q,l=o.offsetTop/q,u=a.players.indexOf(e);[c,d].includes(s)?i-=5*u:[r,m].includes(s)?u%2?i+=(1+u)/2*5:i-=u/2*5:i+=5*u;const h=()=>{const t=M[e.char].x-i,a=30*Math.abs(t),s=Math.round(Math.abs(t)/2);return n.style.transition=`transform ${a}ms linear`,n.style.transitionTimingFunction=`steps(${s})`,n.style.transform=n.style.transform.replace(/translateX\(.+\) t/,`translateX(${i*q}px) t`),a},f=()=>{const t=M[e.char].y-l,a=30*Math.abs(t),s=Math.round(Math.abs(t)/2);return n.style.transition=`transform ${a}ms linear`,n.style.transitionTimingFunction=`steps(${s})`,n.style.transform=n.style.transform.replace(/translateY\(.+\)/,`translateY(${l*q}px)`),a};n.classList.add("animated"),[r].includes(s)?setTimeout(()=>{setTimeout(()=>{n.classList.remove("animated"),M[e.char]={x:i,y:l},w--},f()+100)},h()+100):setTimeout(()=>{setTimeout(()=>{n.classList.remove("animated"),M[e.char]={x:i,y:l},w--},h()+100)},f()+100)})}function E(){document.querySelector(".stats").innerHTML=u.map(e=>`<div class="player ${e.char}${e===h?" local":""}">\n      <div class="avatar char ${e.char}"></div>\n      <div>\n        <div class="text gold">${e.stats.gold}</div>\n        <div class="text relics">${e.stats.relics}</div>\n        <div class="text influence">${e.stats.influence}</div>\n      </div>\n    </div>`).join(""),ee()}const H=(e,t)=>{Number.isInteger(h.nextChoice[e])?t():requestAnimationFrame(()=>H(e,t))},j=(e,t)=>{u.every(t=>Number.isInteger(t.nextChoice[e]))?t():requestAnimationFrame(()=>j(e,t))},k=e=>{s(),S("Go to",[...b].splice(0,5).map(({name:e,index:t})=>({title:e,html:`${t}._${e}`,disabled:t===h.location})),"location",i),ee(".btn"),H("location",e)},A=e=>{j("location",e)},z=e=>{x(),e()},F=e=>{(function(){const e=h.location,t=b[e-1].name;S("Choose an action",v[t].map((e,t)=>({title:e.name,disabled:e.disabled(h),html:`<div class="action-title">${t+1}._${e.name}</div>\n        <div class="labels">${e.labels.map(e=>`<div>${e}</div>`).join("")}</div>`})),"action"),ee(".action-title")})(),H("action",e)},O=e=>{const t=b[h.location-1].name,n=v[t][h.nextChoice.action-1];n.options?(function(e){S("Choose an option",e.map((e,t)=>({title:e.name,disabled:!1,html:`<div class="action-title">${t+1}._${e.name}</div>\n      <div class="labels">${e.labels.map(e=>`<div>${e}</div>`).join("")}</div>`})),"option"),ee(".action-title")}(n.options),H("option",e)):e()},P=e=>{const t=b[h.location-1].name;v[t][h.nextChoice.action-1].targetPlayer?(S("Choose target player",u.filter(e=>e!==h).map((e,t)=>({title:"",disabled:!1,html:`<div class="action-title">${e.name}</div><div class="char ${e.char}"></div>`})),"target"),ee(".action-title"),H("target",e)):e()},_=e=>{j("action",e)},R=e=>{const t=["Round Results"];u.forEach(e=>{const n=b[e.location-1].name;e.nextChoice.action>v[n].length&&(e.nextChoice.action=(e.nextChoice.action-1)%v[n].length+1);const a=v[n][e.nextChoice.action-1];if(a&&!a.disabled(e)){const n=a.effect(e,a);t.push(n)}C(e),u.forEach(e=>{document.querySelector(`.player.${e.char} .gold`).innerHTML=""+e.stats.gold,document.querySelector(`.player.${e.char} .relics`).innerHTML=""+e.stats.relics,document.querySelector(`.player.${e.char} .influence`).innerHTML=""+e.stats.influence}),ee()}),T(t,e,"continue")},I=e=>{const t=u.filter(e=>$[e.char]());t.length>0&&(t.map(e=>`<div class="action-title">${e.name}</div>\n      <div class="char ${e.char}"></div>`),S(`Game Over. Winner${t.length>1?"s":""}:`,t.map((e,t)=>({title:"winner",disabled:!1,html:`<div class="action-title">${e.name}</div><div class="char ${e.char}"></div>`})),"target"),ee(".action-title"),p="end"),requestAnimationFrame(()=>e())},N=e=>{w>0?requestAnimationFrame(()=>N(e)):e()};let W;const G=e=>()=>(W=e.name,new Promise(e)),X=()=>{y++,"start"===p&&G(N)().then(G(k)).then(G(a)).then(G(A)).then(G(z)).then(G(F)).then(G(O)).then(G(P)).then(G(a)).then(G(_)).then(G(R)).then(G(I)).then(G(X))};function Y(e,t){if("12345".includes(e)){const t=document.querySelectorAll(".options .btn"),n=parseInt(e);n<=t.length&&setTimeout(()=>{const e=Array.from(t)[n-1];e.onmousedown&&e.onmousedown(null)},100)}else if(13===t){const e=document.querySelector(".options .btn:only-child");e&&setTimeout(()=>{e.onmousedown?e.onmousedown(null):e.onclick&&e.onclick(null)},100)}}function B(e,t){const n=document.querySelector("input");n.value.length<7&&e.match(/^[a-zA-Z0-9]$/)?n.value+=e:8===t?n.value=n.value.slice(0,-1):13===t&&document.querySelector(".submit").onclick(null),n.oninput(null)}let D=Y;function J(e){D=B;let t="Anon"+Math.round(100+899*Math.random());const n=document.querySelector(".modal"),a=document.querySelector("input"),s=document.querySelector(".input"),o=document.querySelector(".submit");a.value=t,a.oninput=()=>{s.innerHTML=a.value+"|",ee(".input")},a.oninput(null),o.onclick=()=>{n.classList.add("hidden"),setTimeout(()=>e(t),200)}}window.onkeydown=e=>{const{key:t,which:n}=e;D(t,n)};const U={},Z={0:31599,2:25255,3:29326,4:19401,5:31118,6:27119,7:29266,8:31407,9:31691,"*":2728,"-":448,a:31613,b:31663,c:31015,d:27502,e:31143,f:31204,g:31087,h:23533,i:29847,j:29295,k:23469,l:18727,n:27501,o:15214,p:31716,q:31590,r:27509,s:31183,t:29842,u:23407,v:23402,x:23213,y:23242,z:29351},K={"|":31,1:31,".":1,",":3,"'":24,":":10,_:0},Q={m:1022361,w:629238},V=(e,t)=>{Object.keys(e).forEach(n=>{const a=("000000000000000"+e[n].toString(2)).substr(-5*t).split("").map(e=>"1"===e?"<i black></i>":"<i></i>").join("");U["_"+n]=`<div class="letter w${t}">${a}</div>`})};function ee(e=".text"){U._a&&requestAnimationFrame(()=>function(e=".text"){document.querySelectorAll(e).forEach(e=>{if(0===e.children.length){const t=e.innerHTML;e.innerHTML=t.trim().split(" ").map(e=>`<span class="word">\n        ${e.split("").map(e=>U["_"+e.toLowerCase()]).join("")}\n      </span>`).join("")}e.classList.add("tiny-font")})}(e))}window.onload=()=>{V(Z,3),V(Q,4),V(K,1),ee(),function(){const e=()=>{const e=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth-150);q=2*Math.round(e/220),document.body.style.setProperty("--pixel-size",q+"px")};window.onresize=e,e()}(),e=io({path:location.pathname+"io",upgrade:!1,transports:["websocket"]}),t(),requestAnimationFrame(()=>{G(J)().then(e=>{D=Y,T([i],o,"Start_against_PC"),n(e)})})};</script>