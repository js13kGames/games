<!doctype html><title>GLITCHICKEN</title><body><script>function a(){(t=document.createElement("canvas")).setAttribute("width",500*U.scale),t.setAttribute("height",500*U.scale),t.style.backgroundColor="",u=t.getContext("2d"),t.style="position: absolute;top:0;bottom: 0;left: 0;right: 0;margin:auto;";var e=navigator.userAgent.toLowerCase();-1!=e.indexOf("safari")&&(e.indexOf("chrome")>-1||(t.style.maxHeight="100%",t.style.minHeight="100%")),document.body.appendChild(t)}function b(e,n){var i=u,r=t,a=2.2*U.scale,o=100*U.scale,s=460*U.scale;n?(e=w,a=8*U.scale,o=75*U.scale,s=100*U.scale):i.clearRect(0,0,r.width,r.height);var l=[];if(e){e=e.toUpperCase();for(var c=0;e.length>c;c++){var h=x[e.charAt(c)];h&&l.push(h)}i.fillStyle="black";var d=0;for(c=0;l.length>c;c++){h=l[c];for(var f=0,g=0,p=0;h.length>p;p++){for(var A=h[p],y=0;A.length>y;y++)A[y]&&i.fillRect(d+y*a+o,f+s,a,a);g=Math.max(g,A.length*a),f+=a}d+=a+g}}}function c(){for(var e=0;W.gr.length>e;e++){var t=e%10,n=parseInt(e/10),r=U.sprite(D);r.width=50,r.height=50,r.x=50*t,r.y=50*n}i(V)}function d(){0==I&&9==J&&(J=0,g(W))}function e(){M.MSG[M.ACT]&&M.MSG[M.ACT].length>M.TCT?(v+=M.MSG[M.ACT][M.TCT],M.TCT+=1,M.TM=window.setTimeout(e,100)):(v="",M.TCT=0,M.ACT+=1,M.TM=window.setTimeout(e,100))}function f(){b(v),U.move(K),K.width=50,K.height=50,"left"==K.direction?K.scaleX=-1:"right"==K.direction&&(K.scaleX=1);for(var e=0;F.length>e;e++)U.rectangleCollision(K,F[e],!1,!1);M.MSG[M.ACT]?O.y>440&&(O.y-=10):500>O.y&&(O.y+=10),1==P.foll&&(U.followConstant(P,K,1),U.followConstant(Q,K,1)),"OUT"==T.fade?T.alpha>.1?T.alpha-=.2:T.alpha=0:"IN"==T.fade&&(1>T.alpha?T.alpha+=.2:T.alpha=1)}function g(e){h(e)}function h(e){T.fade="IN",window.setTimeout((function(e){for(var t=0;G.length>t;t++)U.remove(G[t]);U.remove(K),clearTimeout(M.TM),F=[],G=[],U.remove(T),i(e)}),200,e)}function i(t){for(var n=0;t.gr.length>n;n++){var i,r,a=n%10,o=parseInt(n/10);if(0!=t.gr[n]&&(1==t.gr[n]?r=C:2==t.gr[n]&&(r=z),(i=U.sprite(r)).width=50,i.height=50,i.x=50*a,i.y=50*o,G.push(i),1==t.gr[n]&&F.push(i),2==t.gr[n]))2*Math.random()-1>0&&(i.scaleX=-1),F.push(i)}(K=U.sprite([z,z,z,z,z,z,z,z,A])).fps=2,K.play(),K.x=t.pl.x,K.y=t.pl.y,K.width=50,K.height=50,U.fourKeyController(K,2,38,39,40,37),(O=U.sprite(B)).x=15,O.y=600,O.width=60,O.height=50,G.push(O),(M={}).MSG=["",""],M.ACT=0,M.TCT=0,M.y=450,M.x=100,M.restart=function(){M.ACT=0,M.TCT=0,M.TM=window.setTimeout(e,50)},(P=U.sprite(B)).height=50,P.width=60,P.x=-200,P.foll=!1,G.push(P),(Q=U.sprite(B)).height=50,Q.width=60,Q.x=700,Q.y=500,Q.scaleX=-1,G.push(Q),(T=U.rectangle(500,500,"black","black",0,0,0)).alpha=1,T.fade="OUT",t.create(),U.state=t.state}function j(e){v="",clearTimeout(M.TM),M.MSG=e,M.restart()}function k(){f(),U.contain(K,U.stage.localBounds),(U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1))&&0==J&&(J=1,g(X))}function l(){f(),U.contain(K,U.stage.localBounds)&&0==P.foll&&(P.foll=!0,j(["  ","HOW?","A glitch in the wall collisions, too?  ","Get her!  "])),(U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1))&&1==J&&(J=2,g(Y))}function m(){f(),R.x+=R.d;for(var e=0;F.length>e;e++){U.rectangleCollision(R,F[e],!1,!1)&&(R.d=-R.d)}U.rectangleCollision(K,R,!1,!1),U.contain(K,U.stage.localBounds)&&0==P.foll&&(P.foll=!0,j(["  ","B  A  R  K  ","You arrogant fool!","Guaaards!  "])),(U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1))&&2==J&&(J=3,g(Z))}function n(){f();for(var e=0;F.length>e;e++)U.rectangleCollision(S,F[e],!1,!1);200>S.x&&(S.x=200),U.rectangleCollision(S,K,!1,!1)&&(K.x+=50,S.x+=1),U.contain(K,U.stage.localBounds)&&0==P.foll&&(P.foll=!0,j(["  ","YOU LITTLE GLITCH!","  "])),(U.rectangleCollision(K,P,!1,!1)||U.rectangleCollision(K,Q,!1,!1))&&3==J&&(J=4,g($))}function o(){f();for(var e=0;F.length>e;e++){var t=U.rectangleCollision(R,F[e],!1,!1),n=U.rectangleCollision(S,F[e],!1,!1);"left"!=t&&"bottom"!=t&&400>R.x&&R.y>50||(R.x=250,R.y=200),n&&(S.x=150,S.y=250)}U.rectangleCollision(K,R,!1,!1)&&!M.MSG[M.ACT]&&j(["BARK!"]),U.rectangleCollision(S,K,!1,!1),U.rectangleCollision(R,S,!1,!1),U.contain(K,U.stage.localBounds)&&1==R.scaleY&&4==J&&(clearTimeout(R.TM),R.scaleY=-1,O.scaleY=-1,R.d=0,j(["  ","  ...  ","  Ouch!  ","  You ... ","Got ... ","Me ... ","B ... ","  BARK  "]),window.setTimeout((function(){J=5,g(_)}),8e3))}function p(){f(),U.contain(K,U.stage.localBounds);var e=U.rectangleCollision(K,S,!1,!1);if(0==_.ended){e&&!M.MSG[M.ACT]&&j(["The only way to know the right order  ","is to have access to the SOURCE CODE  ","but only we guards have access to  ","the SOURCE CODE  "]);for(var t=0;H.length>t;t++){U.rectangleCollision(K,H[t],!1,!1)&&1==H[t].canChange&&(H[t].alpha=.5==H[t].alpha?1:.5,H[t].canChange=!1,window.setTimeout((function(e){H[e].canChange=!0}),500,t),1==H[0].alpha&&.5==H[1].alpha&&.5==H[2].alpha&&1==H[3].alpha&&1==H[4].alpha&&1==H[5].alpha&&(_.ended=!0,Q.scaleX=1,Q.x=-500,Q.width=40,Q.height=30,P.x=-500,P.width=40,P.height=30,_.removeWalls=function(){F.length>0?(U.remove(F[0]),F.splice(0,1),window.setTimeout(_.removeWalls,100)):H.length>0?(U.remove(H[0]),H.splice(0,1),window.setTimeout(_.removeWalls,100)):(r(160),O.scaleY=1,S.scaleY=1,j(["HOW COULD YOU ACCESS THE SOURCE CODE?  ","COULD YOU POSSIBLY BE ... "]),window.setTimeout(_.finalScene,8e3)),_.finalScene=function(){var e=K.x,t=K.y;U.remove(K),(R=U.sprite(E)).width=80,R.height=120,R.scaleX=-1,R.x=e,R.y=t,j(["KEANU REEVES!  ","GUARDS! LET'S GET AWAY FROM HERE!  "]),window.setTimeout(_.finalScene2,5e3)},_.finalScene2=function(){O.visible=!1,M.x=10,j(["GLITCHICKEN by Mattia Fortunati   ","Made for the js13kgames 2016 competition.","   ","Congratulations!   ","You won! :)  "]),_.gt=function(){w="GLITCHICKEN".shuffle(),window.setTimeout((function(){w="GLITCHICKEN",_.TM=window.setTimeout(_.gt,2e3)}),200)},V.TM=window.setTimeout(_.gt,2e3),P.run=!0,P.scaleX=-1,Q.scaleX=-1,S.scaleX=-1;for(var e=0;30>e;e++){var t=U.sprite([z,z,z,z,z,z,z,z,A]);t.fps=3*Math.random(),t.play(),t.width=50,t.height=50,t.x=-300,t.y=500*Math.random(),F.push(t),t.speed=3*Math.random()+1}window.setTimeout(_.postMessage,21e3)},_.postMessage=function(){j(["Err .. you won. GAME OVER you got me?   ","You can close the game now!  ","Oh, don't forget to vote for this game! :)  ","I hope you liked GLITCHICKEN!  ","Thank you for playing!   "]),window.setTimeout(_.postMessage,21e3)}},window.setTimeout(_.removeWalls,100)))}}else if(P.run){U.followConstant(P,{centerX:-500,centerY:250},3),U.followConstant(Q,{centerX:-500,centerY:380},3),U.followConstant(S,{centerX:-500,centerY:380},3),b(w,!0);for(t=0;F.length>t;t++)F[t].x+=F[t].speed,F[t].width=50,F[t].height=50,700>F[t].x||(F[t].x=-300)}else U.followConstant(K,{centerX:300,centerY:250},3),U.followConstant(P,{centerX:100,centerY:250},1),U.followConstant(Q,{centerX:100,centerY:380},1)}function q(){f(),b(w,!0),K.x=-500,K.y=500,M.MSG[M.ACT]||j(["Welcome to GLITCHICKEN   ","Move with arrow keys or screen tap   ","press M to mute music   ","Press any key to start    "])}function r(e){ba.stop(),ca.stop(),ba.tempo=e,ca.tempo=e,ba.play(aa.currentTime),ca.play(aa.currentTime)}var t,u,v,w,s=s||{};s.VERSION="0.0.1",s.plugins=void 0,s.custom=void 0,s.create=function(e,t,n,i,r){function a(){if(requestAnimationFrame(a,p.canvas),void 0===p._fps)l();else{var e=Date.now(),t=e-p._startTime;for(t>1e3&&(t=p._frameDuration),p._startTime=e,p._lag+=t;p._lag>=p._frameDuration;)o(),l(),p._lag-=p._frameDuration;var n=p._lag/p._frameDuration;p.render(p.canvas,n)}}function o(){function e(t){t._previousX=t.x,t._previousY=t.y,t.children&&t.children.length>0&&t.children.forEach((function(t){e(t)}))}p.stage.children.forEach((function(t){e(t)}))}function l(){if(p.buttons.length>0){p.canvas.style.cursor="auto";for(var e=p.buttons.length-1;e>=0;e--){var t=p.buttons[e];t.update(p.pointer,p.canvas),"over"!==t.state&&"down"!==t.state||t.stage||(p.canvas.style.cursor="pointer")}}if(p.dragAndDrop&&p.pointer.updateDragAndDrop(),p.state&&!p.paused&&p.state(),0!==p.updateFunctions.length)for(var n=0;p.updateFunctions.length>n;n++){(0,p.updateFunctions[n])()}}function c(e){e.x=0,e.y=0,e.vx=0,e.vy=0,e.width=0,e.height=0,e.scaleX=1,e.scaleY=1,e.pivotX=.5,e.pivotY=.5,e.rotation=0,e.visible=!0,e.parent=void 0,e.stage=!1,e.shadow=!1,e.shadowColor="rgba(100, 100, 100, 0.5)",e.shadowOffsetX=3,e.shadowOffsetY=3,e.shadowBlur=3,e.blendMode=void 0,e._alpha=1,e._draggable=void 0,e._layer=0,e._circular=!1,e._interactive=!1,e._previousX=void 0,e._previousY=void 0,e.children=[],e.addChild=function(t){t.parent&&t.parent.removeChild(t),t.parent=e,e.children.push(t)},e.removeChild=function(t){if(t.parent!==e)throw Error(t+"is not a child of "+e);e.children.splice(e.children.indexOf(t),1)},e.swapChildren=function(t,n){var i=e.children.indexOf(t),r=e.children.indexOf(n);if(-1===i||-1===r)throw Error(child+" Both objects must be a child of the caller "+e);t.childIndex=r,n.childIndex=i,e.children[i]=n,e.children[r]=t},e.add=function(t){var n=Array.prototype.slice.call(arguments);n.length>1?n.forEach((function(t){e.addChild(t)})):e.addChild(n[0])},e.remove=function(t){var n=Array.prototype.slice.call(arguments);n.length>1?n.forEach((function(t){e.removeChild(t)})):e.removeChild(n[0])},e.setPosition=function(t,n){e.x=t,e.y=n};var t=e;e.putCenter=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.putTop=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.x-n.height+r,e.compensateForParentPosition(t,n)},e.putRight=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.width+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.putBottom=function(n,i,r){i=i||0,r=r||0,n.x=t.x+t.halfWidth-n.halfWidth+i,n.y=t.y+t.height+r,e.compensateForParentPosition(t,n)},e.putLeft=function(n,i,r){i=i||0,r=r||0,n.x=t.x-n.width+i,n.y=t.y+t.halfHeight-n.halfHeight+r,e.compensateForParentPosition(t,n)},e.compensateForParentPosition=function(e,t){0===t.parent.gx&&0===t.parent.gy||(t.x-=e.gx,t.y-=e.gy)},Object.defineProperties(e,{gx:{get:function(){return this.parent?this.x+this.parent.gx:this.x},enumerable:!0,configurable:!0},gy:{get:function(){return this.parent?this.y+this.parent.gy:this.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:e.x,y:e.y}},enumerable:!0,configurable:!0},alpha:{get:function(){return e.parent._alpha*e._alpha},set:function(t){e._alpha=t},enumerable:!0,configurable:!0},halfWidth:{get:function(){return e.width/2},enumerable:!0,configurable:!0},halfHeight:{get:function(){return e.height/2},enumerable:!0,configurable:!0},centerX:{get:function(){return e.x+e.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return e.y+e.halfHeight},enumerable:!0,configurable:!0},layer:{get:function(){return e._layer},set:function(t){e._layer=t,e.parent.children.sort(g)},enumerable:!0,configurable:!0},circular:{get:function(){return e._circular},set:function(t){!0===t&&!1===e._circular&&(h(e),e._circular=!0),!1===t&&!0===e._circular&&(delete e.diameter,delete e.radius,e._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return e._draggable},set:function(t){!0===t&&(p.draggableSprites.push(e),e._draggable=!0,!1===p.dragAndDrop&&(p.dragAndDrop=!0)),!1===t&&p.draggableSprites.splice(p.draggableSprites.indexOf(e),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return e._interactive},set:function(t){!0===t&&(u(e),e._interactive=!0),!1===t&&(p.buttons.splice(p.buttons.indexOf(e),1),e._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){return{x:0,y:0,width:e.width,height:e.height}},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:e.gx,y:e.gy,width:e.gx+e.width,height:e.gy+e.height},rectangle},enumerable:!0,configurable:!0},empty:{get:function(){return 0===e.children.length},enumerable:!0,configurable:!0}})}function h(e){Object.defineProperties(e,{diameter:{get:function(){return e.width},set:function(t){e.width=t,e.height=t},enumerable:!0,configurable:!0},radius:{get:function(){return e.width/2},set:function(t){e.width=2*t,e.height=2*t},enumerable:!0,configurable:!0}})}function u(e){e.press=e.press||void 0,e.release=e.release||void 0,e.over=e.over||void 0,e.out=e.out||void 0,e.tap=e.tap||void 0,e.state="up",e.action="",e.pressed=!1,e.enabled=!0,e.hoverOver=!1,p.buttons.push(e),e.update=function(t,n){if(e.enabled){var i=p.pointer.hitTestSprite(e);t.isUp&&(e.state="up","button"===e.subtype&&e.show(0)),i&&(e.state="over",e.frames&&3===e.frames.length&&"button"===e.subtype&&e.show(1),t.isDown&&(e.state="down","button"===e.subtype&&e.show(3===e.frames.length?2:1))),"down"===e.state&&(e.pressed||(e.press&&e.press(),e.pressed=!0,e.action="pressed")),"over"===e.state&&(e.pressed&&(e.release&&e.release(),e.pressed=!1,e.action="released",p.pointer.tapped&&e.tap&&e.tap()),e.hoverOver||(e.over&&e.over(),e.hoverOver=!0)),"up"===e.state&&(e.pressed&&(e.release&&e.release(),e.pressed=!1,e.action="released"),e.hoverOver&&(e.out&&e.out(),e.hoverOver=!1))}}}function f(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){d(),e.keyCode===t.code&&(t.isUp&&t.press&&t.press(),t.isDown=!0,t.isUp=!1),e.preventDefault()},t.upHandler=function(e){e.keyCode===t.code&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0),e.preventDefault()},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}function g(e,t){return t.layer>e.layer?-1:1}var p={};if(p.canvas=document.createElement("canvas"),p.canvas.setAttribute("width",1*e),p.canvas.setAttribute("height",1*t),p.canvas.style.backgroundColor="black",document.body.appendChild(p.canvas),p.canvas.ctx=p.canvas.getContext("2d"),p.stage=function(){var e={};return c(e),e.stage=!0,e.width=p.canvas.width,e.height=p.canvas.height,e.x=0,e.y=0,e.parent=void 0,e}(),p.pointer=function(){var e={_x:0,_y:0};return Object.defineProperties(e,{x:{get:function(){return e._x/p.scale},enumerable:!0,configurable:!0},y:{get:function(){return e._y/p.scale},enumerable:!0,configurable:!0},centerX:{get:function(){return e.x},enumerable:!0,configurable:!0},centerY:{get:function(){return e.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:e.x,y:e.y}},enumerable:!0,configurable:!0}}),e.isDown=!1,e.isUp=!0,e.tapped=!1,e.downTime=0,e.elapsedTime=0,e.press=void 0,e.release=void 0,e.tap=void 0,e.dragSprite=null,e.dragOffsetX=0,e.dragOffsetY=0,e.moveHandler=function(t){e._x=t.pageX-t.target.offsetLeft,e._y=t.pageY-t.target.offsetTop,t.preventDefault()},e.touchmoveHandler=function(t){e._x=t.targetTouches[0].pageX-p.canvas.offsetLeft,e._y=t.targetTouches[0].pageY-p.canvas.offsetTop,t.preventDefault()},e.downHandler=function(t){e._x=t.pageX-t.target.offsetLeft,e._y=t.pageY-t.target.offsetTop,e.isDown=!0,e.isUp=!1,e.tapped=!1,e.downTime=Date.now(),e.press&&e.press(),t.preventDefault()},e.touchstartHandler=function(t){e._x=t.targetTouches[0].pageX-p.canvas.offsetLeft,e._y=t.targetTouches[0].pageY-p.canvas.offsetTop,e.isDown=!0,e.isUp=!1,e.tapped=!1,e.downTime=Date.now(),e.press&&e.press(),t.preventDefault()},e.upHandler=function(t){e.elapsedTime=Math.abs(e.downTime-Date.now()),e.elapsedTime>200||(e.tapped=!0,e.tap&&e.tap()),e.isUp=!0,e.isDown=!1,e.release&&e.release(),t.preventDefault()},window.addEventListener("mousemove",e.moveHandler.bind(e),!1),window.addEventListener("mousedown",e.downHandler.bind(e),!1),window.addEventListener("mouseup",e.upHandler.bind(e),!1),window.addEventListener("touchmove",e.touchmoveHandler.bind(e),!1),window.addEventListener("touchstart",e.touchstartHandler.bind(e),!1),window.addEventListener("touchend",e.upHandler.bind(e),!1),p.canvas.style.touchAction="none",e.hitTestSprite=function(t){var n=!1;if(t.circular){var i=e.x-(t.gx+t.halfWidth),r=e.y-(t.gy+t.halfHeight),a=Math.sqrt(i*i+r*r);n=t.radius>a}else{var o=t.gx,s=t.gx+t.width,l=t.gy,c=t.gy+t.height;n=e.x>o&&s>e.x&&e.y>l&&c>e.y}return n},e.updateDragAndDrop=function(){if(e.isDown)if(null===e.dragSprite)for(var t=p.draggableSprites.length-1;t>-1;t--){var n=p.draggableSprites[t];if(n.draggable&&e.hitTestSprite(n)){e.dragOffsetX=e.x-n.gx,e.dragOffsetY=e.y-n.gy,e.dragSprite=n;var i=n.parent.children;i.splice(i.indexOf(n),1),i.push(n),p.draggableSprites.splice(p.draggableSprites.indexOf(n),1),p.draggableSprites.push(n);break}}else e.dragSprite.x=e.x-e.dragOffsetX,e.dragSprite.y=e.y-e.dragOffsetY;e.isUp&&(e.dragSprite=null),p.draggableSprites.some((function(t){return t.draggable&&e.hitTestSprite(t)?(p.canvas.style.cursor="pointer",!0):(p.canvas.style.cursor="auto",!1)}))},e}(),p.key=function(){var e={};return e.leftArrow=f(37),e.upArrow=f(38),e.rightArrow=f(39),e.downArrow=f(40),e.space=f(32),e}(),p.buttons=[],p.dragAndDrop=!1,p.draggableSprites=[],p.tweens=[],p.state=void 0,p.load=r||void 0,p.setup=n||void 0,void 0===p.setup)throw Error("Please supply the setup function in the constructor");return p.assetFilePaths=i||void 0,p.paused=!1,p._fps=60,p._startTime=Date.now(),p._frameDuration=1e3/p._fps,p._lag=0,p.interpolate=!0,p.updateFunctions=[],p.scale=1,p.start=function(){p.assetFilePaths?(p.assets.whenLoaded=function(){p.state=void 0,p.setup()},p.assets.load(p.assetFilePaths),p.load&&(p.state=p.load)):p.setup(),a()},p.pause=function(){p.paused=!0},p.resume=function(){p.paused=!1},p.hidePointer=function(){p.canvas.style.cursor="none"},p.showPointer=function(){p.canvas.style.cursor="auto"},Object.defineProperties(p,{fps:{get:function(){return p._fps},set:function(e){p._fps=e,p._startTime=Date.now(),p._frameDuration=1e3/p._fps},enumerable:!0,configurable:!0},backgroundColor:{set:function(e){p.canvas.style.backgroundColor=e},enumerable:!0,configurable:!0}}),p.remove=function(e){var t=Array.prototype.slice.call(arguments);if(t[0]instanceof Array){var n=t[0];if(n.length>0)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parent.removeChild(r),n.splice(n.indexOf(r),1)}}else t.length>1?t.forEach((function(e){e.parent.removeChild(e)})):t[0].parent.removeChild(t[0])},p.group=function(e){var t={};(c(t),t.addChild=function(e){e.parent&&e.parent.removeChild(e),e.parent=t,t.children.push(e),t.calculateSize()},t.removeChild=function(e){if(e.parent!==t)throw Error(e+"is not a child of "+t);t.children.splice(t.children.indexOf(e),1),t.calculateSize()},t.calculateSize=function(){t.children.length>0&&(t._newWidth=0,t._newHeight=0,t.children.forEach((function(e){e.x+e.width>t._newWidth&&(t._newWidth=e.x+e.width),e.y+e.height>t._newHeight&&(t._newHeight=e.y+e.height)})),t.width=t._newWidth,t.height=t._newHeight)},p.stage.addChild(t),e)&&Array.prototype.slice.call(arguments).forEach((function(e){t.addChild(e)}));return t},p.rectangle=function(e,t,n,i,r,a,o){var s={};return c(s),s.mask=!1,s.width=e||32,s.height=t||32,s.fillStyle=n||"red",s.strokeStyle=i||"none",s.lineWidth=r||0,s.x=a||0,s.y=o||0,p.stage.addChild(s),s.render=function(e){e.strokeStyle=s.strokeStyle,e.lineWidth=s.lineWidth,e.fillStyle=s.fillStyle,e.beginPath(),e.rect(-s.width*s.pivotX,-s.height*s.pivotY,s.width,s.height),!0===s.mask?e.clip():("none"!==s.strokeStyle&&e.stroke(),"none"!==s.fillStyle&&e.fill())},s},p.circle=function(e,t,n,i,r,a){var o={};return c(o),o.mask=!1,o.width=e||32,o.height=e||32,o.fillStyle=t||"red",o.strokeStyle=n||"none",o.lineWidth=i||"none",o.x=r||0,o.y=a||0,p.stage.addChild(o),h(o),o.render=function(e){e.strokeStyle=o.strokeStyle,e.lineWidth=o.lineWidth,e.fillStyle=o.fillStyle,e.beginPath(),e.arc(o.radius+-o.diameter*o.pivotX,o.radius+-o.diameter*o.pivotY,o.radius,0,2*Math.PI,!1),!0===o.mask?e.clip():("none"!==o.strokeStyle&&e.stroke(),"none"!==o.fillStyle&&e.fill())},o},p.line=function(e,t,n,i,r,a){var o={};return c(o),n||0===n||(n=0),i||0===i||(i=0),r||0===r||(r=32),a||0===a||(a=32),o.ax=n,o.ay=i,o.bx=r,o.by=a,o.strokeStyle=e||"red",o.lineWidth=t||1,o.lineJoin="round",p.stage.addChild(o),o.render=function(e){e.strokeStyle=o.strokeStyle,e.lineWidth=o.lineWidth,e.lineJoin=o.lineJoin,e.beginPath(),e.moveTo(o.ax,o.ay),e.lineTo(o.bx,o.by),"none"!==o.strokeStyle&&e.stroke(),"none"!==o.fillStyle&&e.fill()},o},p.text=function(e,t,n,i,r){var a={};return c(a),a.content=e||"",a.font=t||"12px sans-serif",a.fillStyle=n||"red",a.textBaseline="top",Object.defineProperties(a,{width:{get:function(){return p.canvas.ctx.measureText(a.content).width},enumerable:!0,configurable:!0},height:{get:function(){return p.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}}),p.stage.addChild(a),a.x=i||0,a.y=r||0,a.render=function(e){e.strokeStyle=a.strokeStyle,e.lineWidth=a.lineWidth,e.fillStyle=a.fillStyle,0===a.width&&(a.width=e.measureText(a.content).width),0===a.height&&(a.height=e.measureText("M").width),e.translate(-a.width*a.pivotX,-a.height*a.pivotY),e.font=a.font,e.textBaseline=a.textBaseline,e.fillText(a.content,0,0)},a},p.frame=function(e,t,n,i,r){var a={};return a.image=e,a.x=t,a.y=n,a.width=i,a.height=r,a},p.frames=function(e,t,n,i){var r={};return r.image=e,r.data=t,r.width=n,r.height=i,r},p.filmstrip=function(e,t,n,i){for(var r=p.assets[e].source,a=[],o=r.width/t,s=o*(r.height/n),l=0;s>l;l++){var c,h;c=l%o*t,h=Math.floor(l/o)*n,i&&i>0&&(c+=i+i*l%o,h+=i+i*Math.floor(l/o)),a.push([c,h])}return p.frames(e,a,t,n)},p.sprite=function(e){var t={};if(void 0===e)throw Error("Sprites require a source");return c(t),t.frames=[],t.loop=!0,t._currentFrame=0,t.setTexture=function(e){e.image||(e instanceof Array?(t.frames=e,t.source=p.assets[e[0]].source,t.sourceX=p.assets[e[0]].frame.x,t.sourceY=p.assets[e[0]].frame.y,t.width=p.assets[e[0]].frame.w,t.height=p.assets[e[0]].frame.h,t.sourceWidth=p.assets[e[0]].frame.w,t.sourceHeight=p.assets[e[0]].frame.h):(t.tilesetFrame=p.assets[e],t.source=t.tilesetFrame.source,t.sourceX=t.tilesetFrame.frame.x,t.sourceY=t.tilesetFrame.frame.y,t.width=t.tilesetFrame.frame.w,t.height=t.tilesetFrame.frame.h,t.sourceWidth=t.tilesetFrame.frame.w,t.sourceHeight=t.tilesetFrame.frame.h))},t.setTexture(e),t.gotoAndStop=function(e){if(0>=t.frames.length)throw Error("Frame number "+e+"doesn't exist");t.frames[0]instanceof Array?(t.sourceX=t.frames[e][0],t.sourceY=t.frames[e][1]):p.assets[t.frames[e]].frame&&(t.source=p.assets[t.frames[e]].source,t.sourceX=p.assets[t.frames[e]].frame.x,t.sourceY=p.assets[t.frames[e]].frame.y,t.sourceWidth=p.assets[t.frames[e]].frame.w,t.sourceHeight=p.assets[t.frames[e]].frame.h,t.width=p.assets[t.frames[e]].frame.w,t.height=p.assets[t.frames[e]].frame.h),t._currentFrame=e},t.x=0,t.y=0,t.frames.length>0&&(p.addStatePlayer(t),Object.defineProperty(t,"currentFrame",{get:function(){return t._currentFrame},enumerable:!1,configurable:!1})),p.stage.addChild(t),t.render=function(e){e.drawImage(t.source,t.sourceX,t.sourceY,t.sourceWidth,t.sourceHeight,-t.width*t.pivotX,-t.height*t.pivotY,t.width,t.height)},t},p.button=function(e){var t=p.sprite(e);return t.subtype="button",u(t),t},p.image=function(e){return p.assets[e]},p.json=function(e){return p.assets[e]},p.addStatePlayer=function(e){function t(t){i(),o=t[0],s=t[1],a=s-o,0===o&&(a+=1,r+=1),1===a&&(a=2,r+=1),e.fps||(e.fps=12);var h=1e3/e.fps;e.gotoAndStop(o),c||(l=setInterval(n.bind(this),h),c=!0)}function n(){a>r?(e.gotoAndStop(e.currentFrame+1),r+=1):e.loop&&(e.gotoAndStop(o),r=1)}function i(){void 0!==l&&!0===c&&(c=!1,r=0,o=0,s=0,a=0,clearInterval(l))}var r=0,a=0,o=0,s=0,l=void 0,c=!1;e.show=function(t){i(),e.gotoAndStop("string"!=typeof t?t:e.frames.indexOf(t))},e.play=function(){t([0,e.frames.length-1])},e.stop=function(){i(),e.gotoAndStop(e.currentFrame)},e.playing=c,e.playSequence=t},p.render=function(e,t){function n(r){if(r.visible&&e.width+r.width>r.gx&&r.gx+r.width>=-r.width&&e.height+r.height>r.gy&&r.gy+r.height>=-r.height){if(i.save(),p.interpolate?(r.renderX=void 0!==r._previousX?(r.x-r._previousX)*t+r._previousX:r.x,r.renderY=void 0!==r._previousY?(r.y-r._previousY)*t+r._previousY:r.y):(r.renderX=r.x,r.renderY=r.y),i.translate(r.renderX+r.width*r.pivotX,r.renderY+r.height*r.pivotY),i.globalAlpha=r.alpha,i.rotate(r.rotation),i.scale(r.scaleX,r.scaleY),r.shadow&&(i.shadowColor=r.shadowColor,i.shadowOffsetX=r.shadowOffsetX,i.shadowOffsetY=r.shadowOffsetY,i.shadowBlur=r.shadowBlur),r.blendMode&&(i.globalCompositeOperation=r.blendMode),r.render&&r.render(i),r.children&&r.children.length>0){i.translate(-r.width*r.pivotX,-r.height*r.pivotY);for(var a=0;r.children.length>a;a++){n(r.children[a])}}i.restore()}}var i=e.ctx;i.clearRect(0,0,e.width,e.height);for(var r=0;p.stage.children.length>r;r++){n(p.stage.children[r])}},p.assets={toLoad:0,loaded:0,whenLoaded:void 0,load:function(e){var t=this;t.toLoad=e.length,e.forEach((function(e){var n=e.split(",").pop();if(1==/^([0-9a-zA-Z+\/]{4})*(([0-9a-zA-Z+\/]{2}==)|([0-9a-zA-Z+\/]{3}=))?$/.test(n)){var i=new Image;i.addEventListener("load",(function(){i.name=e,t[i.name]={source:i,frame:{x:0,y:0,w:i.width,h:i.height}},t.loadHandler()}),!1),i.src=e}}))},createTilesetFrames:function(e,t){var n=this,i=t.replace(/[^\/]*$/,""),r=new Image;r.addEventListener("load",(function(){n[i+e.meta.image]={source:r,frame:{x:0,y:0,w:r.width,h:r.height}},Object.keys(e.frames).forEach((function(t){n[t]=e.frames[t],n[t].source=r})),n.loadHandler()}),!1),r.src=i+e.meta.image},loadHandler:function(){var e=this;e.loaded+=1,e.toLoad===e.loaded&&(e.toLoad=0,e.loaded=0,e.whenLoaded())}},p.keyboard=f,p.makeDisplayObject=c,void 0!==s.plugins&&s.plugins(p),void 0!==s.custom&&s.custom(p),p},window.ga=s.create,s.custom=function(e){e.noBlurScale=function(){e.canvas.ctx.webkitImageSmoothingEnabled=!1,e.canvas.ctx.mozImageSmoothingEnabled=!1,e.canvas.ctx.imageSmoothingEnabled=!1},e.scaleToWindow=function(t,n){var i,r,a,o,s,l=n||e.canvas;t=t||"#2C3539",i=window.innerWidth/l.width,r=window.innerHeight/l.height,a=Math.min(i,r),l.style.transformOrigin="0 0",l.style.transform="scale("+a+")",o=l.width>l.height?l.width*a<window.innerWidth?"horizontally":"vertically":l.height*a<window.innerHeight?"vertically":"horizontally",e.mleft=0,e.mtop=0,"horizontally"===o&&(s=(window.innerWidth-l.width*a)/2,l.style.marginLeft=s+"px",l.style.marginRight=s+"px",e.mleft=s),"vertically"===o&&(s=(window.innerHeight-l.height*a)/2,l.style.marginTop=s+"px",l.style.marginBottom=s+"px",e.mtop=s),l.style.paddingLeft=0,l.style.paddingRight=0,l.style.paddingTop=0,l.style.paddingBottom=0,l.style.display="block",document.body.style.backgroundColor=t,e.pointer.scale=a,e.scale=a,l.scaled=!0;var c=navigator.userAgent.toLowerCase();-1!=c.indexOf("safari")&&(c.indexOf("chrome")>-1||(l.style.maxHeight="100%",l.style.minHeight="100%"))},e.followConstant=function(e,t,n){var i=t.centerX-e.centerX,r=t.centerY-e.centerY,a=Math.sqrt(i*i+r*r);n>a||(e.x+=i/a*n,e.y+=r/a*n)},e.rectangleCollision=function(e,t,n,i){var r,a,o,s,l,c,h;return void 0===n&&(n=!1),void 0===i&&(i=!1),i?(c=e.gx+e.halfWidth-(t.gx+t.halfWidth),h=e.gy+e.halfHeight-(t.gy+t.halfHeight)):(c=e.centerX-t.centerX,h=e.centerY-t.centerY),a=e.halfWidth+t.halfWidth,o=e.halfHeight+t.halfHeight,Math.abs(c)<a&&Math.abs(h)<o&&(s=a-Math.abs(c),(l=o-Math.abs(h))>s?(c>0?(r="left",e.x=e.x+s):(r="right",e.x=e.x-s),n&&(e.vx*=-1)):(h>0?(r="top",e.y=e.y+l):(r="bottom",e.y=e.y-l),n&&(e.vy*=-1))),r},e.contain=function(e,t,n,i){var r,a=t.x,o=t.y,s=t.width,l=t.height;return n=n||!1,a>e.x&&(n&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=a,r="left"),o>e.y&&(n&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=o,r="top"),e.x+e.width>s&&(n&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=s-e.width,r="right"),e.y+e.height>l&&(n&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=l-e.height,r="bottom"),r&&i&&i(r),r},e.move=function(e){function t(e){e.x+=0|e.vx,e.y+=0|e.vy}if(e instanceof Array==0)t(e);else for(var n=0;e.length>n;n++)t(sprite[n])},e.fourKeyController=function(t,n,i,r,a,o){t.direction="",leftArrow=e.keyboard(o),upArrow=e.keyboard(i),rightArrow=e.keyboard(r),downArrow=e.keyboard(a),leftArrow.press=function(){t.vx=-n,t.vy=0,t.direction="left"},leftArrow.release=function(){rightArrow.isDown||0!==t.vy||(t.vx=0)},upArrow.press=function(){t.vy=-n,t.vx=0,t.direction="up"},upArrow.release=function(){downArrow.isDown||0!==t.vx||(t.vy=0)},rightArrow.press=function(){t.vx=n,t.vy=0,t.direction="right"},rightArrow.release=function(){leftArrow.isDown||0!==t.vy||(t.vx=0)},downArrow.press=function(){t.vy=n,t.vx=0,t.direction="down"},downArrow.release=function(){upArrow.isDown||0!==t.vx||(t.vy=0)}},e.contain=function(e,t,n,i){var r,a=t.x,o=t.y,s=t.width,l=t.height;return n=n||!1,a>e.x&&(n&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=a,r="left"),o>e.y&&(n&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=o,r="top"),e.x+e.width>s&&(n&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=s-e.width,r="right"),e.y+e.height>l&&(n&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=l-e.height,r="bottom"),r&&i&&i(r),r}},v="";var x={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],1:[[,1],[,1],[,1],[,1],[,1]]," ":[[,,],[,,],[,,],[,,],[,,]],".":[[,,],[,,],[,,],[,,],[,1]],"'":[[,1],[,1],[,,],[,,],[,,]],"!":[[,1],[,1],[,1],[,0],[,1]],"?":[[,1,1,1],[,,,1],[,,1],[,,],[,,1]],2:[[1,1,1,1],[,,,1],[1,1,1,1],[1],[1,1,1,1]],6:[[1,1,1,1],[1,,,,],[1,1,1,1],[1,,,1],[1,1,1,1]],3:[[1,1,1,1],[,,,1],[1,1,1,1],[,,,1],[1,1,1,1]]};!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.TinyMusic={})}(this,(function(e){function t(e){var n=e.split(a);this.frequency=t.getFrequency(n[0])||0,this.duration=t.getDuration(n[1])||0}function n(e,t,n){this.ac=e||new AudioContext,this.createFxNodes(),this.tempo=t||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,n||[])}var i=440*Math.pow(Math.pow(2,1/12),-9),r=/^[0-9.]+$/,a=/\s+/,o=/(\d+)/,s={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach((function(e,t){e.split("-").forEach((function(e){s[e]=t}))})),t.getFrequency=function(e){var t=e.split(o),n=s[t[0]],r=(t[1]||4)-4;return i*Math.pow(Math.pow(2,1/12),n)*Math.pow(2,r)},t.getDuration=function(e){return r.test(e)?parseFloat(e):e.toLowerCase().split("").reduce((function(e,t){return e+("w"===t?4:"h"===t?2:"q"===t?1:"e"===t?.5:"s"===t?.25:0)}),0)},n.prototype.createFxNodes=function(){var e=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(t,n){(n=this[t[0]]=this.ac.createBiquadFilter()).type="peaking",n.frequency.value=t[1],e.connect(e=n)}.bind(this)),e.connect(this.ac.destination),this},n.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(e){this.notes.push(e instanceof t?e:new t(e))}.bind(this)),this},n.prototype.createCustomWave=function(e,t){t||(t=e),this.waveType="custom",this.customWave=[new Float32Array(e),new Float32Array(t)]},n.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},n.prototype.scheduleNote=function(e,t){var n=60/this.tempo*this.notes[e].duration,i=n*(1-(this.staccato||0));return this.setFrequency(this.notes[e].frequency,t),this.smoothing&&this.notes[e].frequency&&this.slide(e,t,i),this.setFrequency(0,t+i),t+n},n.prototype.getNextNote=function(e){return this.notes[this.notes.length-1>e?e+1:0]},n.prototype.getSlideStartDelay=function(e){return e-Math.min(e,60/this.tempo*this.smoothing)},n.prototype.slide=function(e,t,n){var i=this.getNextNote(e),r=this.getSlideStartDelay(n);return this.setFrequency(this.notes[e].frequency,t+r),this.rampFrequency(i.frequency,t+n),this},n.prototype.setFrequency=function(e,t){return this.osc.frequency.setValueAtTime(e,t),this},n.prototype.rampFrequency=function(e,t){return this.osc.frequency.linearRampToValueAtTime(e,t),this},n.prototype.play=function(e){return e="number"==typeof e?e:this.ac.currentTime,this.createOscillator(),this.osc.start(e),this.notes.forEach(function(t,n){e=this.scheduleNote(n,e)}.bind(this)),this.osc.stop(e),this.osc.onended=this.loop?this.play.bind(this,e):null,this},n.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},e.Note=t,e.Sequence=n}));var K,L,M,N,O,P,Q,R,S,T,y="RIGHT ORDER OF THE SWITCHES FOR LAST LEVEL : ON OFF OFF ON ON ON",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAAD1BMVEUAAAD///8AAADAwMDHx8cZgFxgAAAAAXRSTlMAQObYZgAAADJJREFUCNdjgAEmJSUFIKVsbGwE5AgKGwsqACkgUGBQFARCICUs6CIMFwSKCgrB9KECANcBBJRue748AAAAAElFTkSuQmCC",A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAJBAMAAAAWSsseAAAAD1BMVEUAAAD///8AAADAwMDHx8cZgFxgAAAAAXRSTlMAQObYZgAAADlJREFUCNdjYGBQUlJiYGAyNjZWAHIUBY0NBYCkoKAQUFBQSFBIgEHQUMTRCCgHEhVgYAKSCgxQfQCUdgRuGhnD3QAAAABJRU5ErkJggg==",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANBAMAAABSlfMXAAAAD1BMVEUAAADp6ekAAACRkZF/f38FrQ4TAAAAAXRSTlMAQObYZgAAAEZJREFUCNdFjNsNwCAMAxEbOBM07gSlE7D/Utg8hD+i0ym6olWSxXt/4LGIdiAjDQmgUwJeTHHBz/XbghtEQa5MU3uCjioDlrwG5RoKjlYAAAAASUVORK5CYII=",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIBAMAAAA2IaO4AAAAD1BMVEUAAAAAAAB+fn6UlJS4uLjAWsTOAAAAAXRSTlMAQObYZgAAACFJREFUCNdjYBQUFGAQcXFRZBAxVgYSRkbILCElJUWwEgBQYAPjLZ/qoAAAAABJRU5ErkJggg==",D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEXk5OTPz89xsZL2AAAAFklEQVQI12MQZHBgYGFYwMAJpIUYHAAMEAGRAsxMmgAAAABJRU5ErkJggg==",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAQAgMAAAC9023tAAAADFBMVEUAAAAAAADb29uEhIQRZgKAAAAAAXRSTlMAQObYZgAAAENJREFUCNdjEA0NYBBdOoUhatUSMA4NDWGIjAphyAKypZYuYWBbNYGBMdSBgbHWgYH1fwAD+/8LDGKhUxhEgeoYHR0Ab4wSdg2J1nAAAAAASUVORK5CYII=",F=[],G=[],H=[],I=!1,J=9,U=ga(500,500,c,[z,A,C,D,B,E]);U.noBlurScale(),U.scaleToWindow(),a(),String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e.join("")};var V={gr:[],pl:{x:0,y:0},state:q},W={gr:[0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,2,0,2,2,0,0,0,2,0,2,0,2,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,2,0,2,2,0,0,0,0,2,2,0,0,0,2,0,0,2,0,2,0,2,0,2,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:k},X={gr:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:l},Y={gr:[0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:m},Z={gr:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:200},state:n},$={gr:[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:300},state:o},_={gr:[1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pl:{x:200,y:300},state:p};V.create=function(){w="GLITCHICKEN",r(80),O.visible=!1,V.gt=function(){w="GLITCHICKEN".shuffle(),window.setTimeout((function(){w="GLITCHICKEN",V.TM=window.setTimeout(V.gt,2e3)}),200)},V.TM=window.setTimeout(V.gt,2e3)},W.create=function(){clearTimeout(V.TM),j(["  ","BARK!","Look at all the perfect chicks!","BARK!","  ","Hey  ","What the BARK was that?  ","A glitchy chick?!?  ","OH MY DOG!  ","Guards!  ","Get her!  "]),window.setTimeout((function(){P.foll=!0}),12e3),I=!0},X.create=function(){j([,"  ","BARK!","You are now in prison miss Glitch","Don't try to escape using arrow keys!  ","BARK!","  "]);var e=U.sprite(C);e.width=50,e.height=50,e.x=350,e.y=150,G.push(e),r(120)},Y.create=function(){j(["This time I've checked","the collisions personally!","BARK!","You won't get away!"]),(R=U.sprite(C)).width=50,R.height=50,R.x=150,R.y=150,G.push(R),R.d=1,r(140)},Z.create=function(){j(["  ","Now escape this!  ","A reinforced prison guarded  ","by my best man!"," ... ","  dog.  "]),(S=U.sprite(B)).width=50,S.height=40,S.x=200,S.y=250,G.push(S),r(160)},$.create=function(){j(["  ","I, the magnificient MARK, ","will personally guard you this time!  ","BARK!  ","Try to escape now!  ","MARK!  "]),(R=U.sprite(B)).width=60,R.height=50,R.x=250,R.y=200,G.push(R),R.d=-1,R.TM=window.setInterval((function(){1==R.d?(R.d=-1,R.x+=50,R.scaleX=1):-1==R.d&&(R.d=1,R.x-=50,R.scaleX=-1)}),1e3),(S=U.sprite(C)).width=40,S.height=40,S.x=150,S.y=250,G.push(S),r(180)},_.create=function(){j(["  ","You ... had ... luck ... till now ...  ","But ... this ... is the end ...  ","It's ... GAME OVER ...","B  "," A  "," BARK  "]),O.scaleY=-1,r(80),(S=U.sprite(B)).width=60,S.height=50,S.x=100,S.y=290,S.scaleY=-1;for(var e=0;5>=e;e++){var t=U.sprite(C);t.width=30,t.height=30,t.x=100+55*e,t.y=150,t.alpha=.5,t.canChange=!0,H.push(t)}_.ended=!1},U.start(),U.pointer.press=function(){U.pointer.y>100&&400>U.pointer.y?250>U.pointer.x?U.pointer.x>250||(K.vx=-2,K.vy=0,K.direction="left"):(K.vx=2,K.vy=0,K.direction="right"):250>U.pointer.y?U.pointer.y>250||(K.vx=0,K.vy=-2,K.direction="up"):(K.vx=0,K.vy=2,K.direction="down")},U.pointer.release=function(){K.vx=0,K.vy=0,K.direction="",d()};var ca,aa="undefined"!=typeof AudioContext?new AudioContext:new webkitAudioContext,da=["Gb1 e","F1 e","Gb1 e","A2 e","Gb1 e","F1 e","Gb1 e","B2 e"],ea=["- w","- h","- h","- q","- e","Db3 w","D3 e","Db3 h","- e","E3 e","D3 e","Db3 w","D3 e","Db3 h","- e","E3 e","D3 e","Gb3 w","A3 w","B3 w","C4 e","B3 e","D4 q","- e"],ba=new TinyMusic.Sequence(aa,100,da);ca=new TinyMusic.Sequence(aa,100,ea),ba.staccato=.55,ca.staccato=.55,ba.gain.gain.value=.1,ca.gain.gain.value=.1,keyObject=U.keyboard(77),keyObject.press=function(){ba.gain.gain.value=0==ba.gain.gain.value?.1:0,ca.gain.gain.value=ba.gain.gain.value}</script>