<!doctype html><meta name=viewport content="width=device-width,user-scalable=no"><title>Cat vs. the World - js13kGames 2025</title><style>body,html{height:100%;margin:0;background:#111;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}#ui{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;padding:8px 12px;font-weight:700;letter-spacing:.5px;color:#eee;text-shadow:2px 2px 4px rgba(0,0,0,.6)}#overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,.6)}#overlay.show{display:flex}#overlay .card{background:#222;padding:20px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.5)}#overlay h1{margin:0 0 10px;font-size:28px}#overlay p{margin:6px 0;opacity:.9}#overlay button{margin-top:12px;padding:10px 16px;border:0;border-radius:999px;background:#5cf;color:#001018;font-weight:800;font-size:16px;cursor:pointer}canvas{display:block;width:100vw;height:100vh;touch-action:none}#controls{position:fixed;inset:auto 0 0 0;height:34vh;pointer-events:none}.pad{position:absolute;width:36vmin;height:36vmin;border-radius:50%;left:2vmin;bottom:2vmin;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.15),rgba(255,255,255,.05));pointer-events:auto;touch-action:none;-webkit-user-select:none;user-select:none}.btn{position:absolute;right:2vmin;bottom:6vmin;width:28vmin;height:28vmin;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.15),rgba(255,255,255,.05));pointer-events:auto;touch-action:none;-webkit-user-select:none;user-select:none}.hint{position:fixed;left:10px;bottom:10px;font-size:12px;opacity:.6}</style><div id=ui><div id=score>Score: 0</div><div id=time>Time: 15</div><div id=hp>Time: 45</div></div><canvas id=c></canvas><div id=overlay><div class=card><h1 id=endGameReason></h1><p id=summary></p><button id=again>Play Again</button><p style=font-size:12px;opacity:.7;margin-top:8px>R to restart</div></div><div id=controls aria-hidden=true><div class=pad id=pad></div><div class=btn id=act></div></div><div class=hint>js13k2025: Controls: WASD/Arrows to move · Space to jump/knock</div><script>const e=document.getElementById("c"),t=e.getContext("2d");let a=0,o=0,n=1,i=10;function r(){n=Math.max(1,Math.min(3,window.devicePixelRatio||1)),a=Math.floor(innerWidth*n),o=Math.floor(innerHeight*n),e.width=a,e.height=o,i=function(){let e=window.innerWidth,t=window.innerHeight;return/iPhone|iPad|iPod/i.test(navigator.userAgent)?t-=50:/Android/i.test(navigator.userAgent)&&(t-=56),{width:e,height:t}}().height,t.setTransform(n,0,0,n,0,0),t.textBaseline="middle"}addEventListener("resize",r,{passive:!0}),r();const c={cat:{x:120,y:380,vx:0,vy:0,speed:2.2,r:18,lastDir:1,hp:3,hurt:0,onGround:!1},keys:{},time:15,score:0,active:!0,objs:[]},l="🐈‍⬛",s=new Map;function h(e,t,a,o,n){const i=function(e,t=16){const a=`${e}@${t}`;return s.has(a)||s.set(a,function(e,t){const a=document.createElement("canvas");a.width=a.height=2.5*t;const o=a.getContext("2d");return o.font=`${t}px serif`,o.textBaseline="top",o.textAlign="left",o.fillText(e,t,t),{canvas:a,size:t}}(e,t)),s.get(a)}(t,2*n);e.drawImage(i.canvas,a-n,o-n,i.size,i.size)}const m=document.getElementById("pad"),d=document.getElementById("act"),y=(e,t,a)=>Math.max(t,Math.min(a,e));let f={active:!1,id:null,cx:0,cy:0,dx:0,dy:0};function b(e){if(f.active){if(null!=e.pointerId){if(e.pointerId!==f.id)return;return f.dx=y((e.clientX-f.cx)/(.35*m.offsetWidth),-1,1),void(f.dy=y((e.clientY-f.cy)/(.35*m.offsetHeight),-1,1))}if(e.changedTouches&&e.changedTouches.length){const t=e.changedTouches[0];f.dx=y((t.clientX-f.cx)/(.35*m.offsetWidth),-1,1),f.dy=y((t.clientY-f.cy)/(.35*m.offsetHeight),-1,1)}}}function x(e){if(!e||null==e.pointerId||e.pointerId===f.id){f.active=!1,f.id=null,f.dx=f.dy=0;try{e&&null!=e.pointerId&&m.releasePointerCapture(e.pointerId)}catch(e){}}}m.addEventListener("pointerdown",function(e){if(e.pointerType&&!1===e.isPrimary)return;e.preventDefault(),f.active=!0,f.id=e.pointerId;const t=m.getBoundingClientRect();f.cx=t.left+t.width/2,f.cy=t.top+t.height/2;try{m.setPointerCapture(e.pointerId)}catch(e){}b(e)},{passive:!1}),m.addEventListener("pointermove",b,{passive:!1}),m.addEventListener("pointerup",x),m.addEventListener("pointercancel",x),m.addEventListener("lostpointercapture",x),d.addEventListener("pointerdown",e=>{e.preventDefault(),W()},{passive:!1}),addEventListener("keydown",e=>{c.keys[e.key]=!0," "===e.key&&(e.preventDefault(),W()),"r"!==e.key&&"R"!==e.key||z()}),addEventListener("keyup",e=>{c.keys[e.key]=!1});const u={emoji:"🌵",name:"obstacle",score:18,size:32,breakable:!0},p=[{emoji:"🪞",name:"mirror",score:18,size:60,breakable:!0},{emoji:"🍽️",name:"plate",score:10,size:32,breakable:!0},{emoji:"🍵",name:"teacup",score:8,size:24,breakable:!0},{emoji:"🍎",name:"apple",score:3,size:22,breakable:!1},{emoji:"🥛",name:"milk",score:12,size:22,breakable:!0},{emoji:"🍯",name:"honey",score:7,size:28,breakable:!0},{emoji:"🎮",name:"controller",score:15,size:36,breakable:!0},{emoji:"🧸",name:"teddy bear",score:5,size:40,breakable:!1},{emoji:"🪀",name:"yo-yo",score:2,size:18,breakable:!1},{emoji:"🏀",name:"basketball",score:6,size:38,breakable:!1},{emoji:"⚽",name:"soccer ball",score:6,size:38,breakable:!1},{emoji:"🎲",name:"dice",score:4,size:16,breakable:!1},{emoji:"🖼️",name:"picture frame",score:14,size:44,breakable:!0},{emoji:"🪆",name:"nesting dolls",score:7,size:30,breakable:!0},{emoji:"🕯️",name:"candle",score:3,size:20,breakable:!0},{emoji:"🪴",name:"potted plant",score:5,size:28,breakable:!0},{emoji:"💻",name:"laptop",score:20,size:40,breakable:!0},{emoji:"📱",name:"phone",score:12,size:22,breakable:!0},{emoji:"💡",name:"lightbulb",score:9,size:18,breakable:!0},{emoji:"🔦",name:"flashlight",score:6,size:22,breakable:!0},{emoji:"🐟",name:"fish",score:8,size:24,breakable:!1},{emoji:"🐭",name:"mouse",score:7,size:20,breakable:!1},{emoji:"🐦",name:"bird",score:7,size:20,breakable:!1},{emoji:"🧶",name:"yarn ball",score:4,size:18,breakable:!1},{emoji:"🥛",name:"milk glass",score:24,size:24,breakable:!0}],g=4e3,v=[];function k(e,t){return e+Math.random()*(t-e)}let j=[{emoji:"🪴",height:60},{emoji:"🪑",height:80},{emoji:"🛋️",height:180},{emoji:"🛏️",height:110},{emoji:"🚪",height:140},{emoji:"🪜",height:130},{emoji:"📺",height:100},{emoji:"🧹",height:90},{emoji:"🧺",height:70},{emoji:"🧴",height:40},{emoji:"🪣",height:60}],w=[];function M(){c.time=15,c.score=0,c.active=!0,c.cat.x=120,c.cat.y=380,c.cat.vx=c.cat.vy=0,c.cat.hp=3,c.cat.hurt=0,function(){v.length=0;let e=80;for(;e<g-80;){let t=e+40*Math.random(),a=i-120;const o=3+Math.floor(4*Math.random());for(let e=0;e<o;e++){let e=120+120*Math.random();if(v.push({x:t+40*Math.random(),y:a,w:e,h:24}),a-=80+60*Math.random(),a<80)break}e+=180+120*Math.random()}}(),function(){c.objs.length=0;for(const e of v){const t=1+(Math.random()<.5?1:0);for(let a=0;a<t;a++){let t=p[Math.random()*p.length|0];Math.random()>.8&&(t=u);const a=e.x+32+Math.random()*(e.w-64),o=e.y-t.size/2;c.objs.push({x:a,y:o,glyph:t.emoji,score:t.score,r:t.size,type:t.name,breakable:t.breakable,alive:!0,bump:0,topple:!1})}}}(),windowPositions=[];for(let e=0;e<g;e+=400){let t=180,a=140,o=i>500?120:20;windowPositions.push({x:e+60,y:o,w:t,h:a})}w=[];let e=100;for(let t=0;t<j.length;t++)w.push({emoji:j[t].emoji,x:e,y:i-32-j[t].height,height:j[t].height}),e+=220+180*Math.random();document.getElementById("overlay").classList.remove("show")}function z(){M()}const E=[];function I(e,t){for(let a=0;a<6;a++)E.push({x:e,y:t,a:1,vx:k(-1.5,1.5),vy:k(-2,.5),g:.035,life:k(20,40),t:Math.random()<.5?"💥":"✨"})}function W(){if(!c.active)return;let e=null,t=9999;for(const a of c.objs){if(!a.alive)continue;const o=a.x-c.cat.x,n=a.y-c.cat.y,i=Math.hypot(o,n);i<t&&i<46&&(t=i,e=a)}if(e){e.topple=!0;const t=Math.sign(e.x-c.cat.x)||1;e.vx=5.5*t,e.vy=-3.5-2*Math.random(),e.ay=.38,e.alive=!1,e.breakable&&(e.bump=16)}else c.cat.onGround&&(c.cat.vy=-10.5,c.cat.onGround=!1)}let P=0;requestAnimationFrame(function e(a){requestAnimationFrame(e);const o=a||0;P||(P=o);const n=Math.min(.05,(o-P)/1e3);P=o,function(e){if(c.active&&(c.time-=e,c.time<=0&&(c.time=0,A())),c.cat.hp>0&&c.active){let e=0;(c.keys.ArrowLeft||c.keys.a)&&(e-=1),(c.keys.ArrowRight||c.keys.d)&&(e+=1),f.active&&(e+=f.dx),c.cat.vx+=e*c.cat.speed*.5,c.cat.vx*=.85,c.cat.vy+=.38,c.cat.vy*=.98,c.cat.x+=c.cat.vx,c.cat.y+=c.cat.vy,c.cat.onGround=!1;for(const e of v)c.cat.x>e.x-16&&c.cat.x<e.x+e.w+16&&c.cat.y+c.cat.r>e.y&&c.cat.y+c.cat.r<e.y+e.h+16&&c.cat.vy>0&&(c.cat.y=e.y-c.cat.r,c.cat.vy=0,c.cat.onGround=!0);c.cat.y>i-32&&(c.cat.y=i-32,c.cat.vy=0,c.cat.onGround=!0),c.cat.x=Math.max(24,Math.min(g-24,c.cat.x)),Math.abs(c.cat.vx)>.2&&(c.cat.lastDir=c.cat.vx>0?1:-1)}for(let e=E.length-1;e>=0;e--){const t=E[e];t.x+=t.vx,t.y+=t.vy,t.vy+=t.g,t.life--,t.a=Math.max(0,t.life/40),t.life<=0&&E.splice(e,1)}for(const t of c.objs)t.bump>0&&(t.bump-=60*e);for(const e of c.objs)if("obstacle"===e.type&&e.alive){const t=e.x-c.cat.x,a=e.y-c.cat.y;if(t*t+a*a<c.cat.r**2){c.cat.hurt<=0&&(c.cat.hp-=e.damage||1,c.cat.hurt=40,e.bump=20,c.cat.hp<=0&&A()),e.topple=!0;const t=Math.sign(e.x-c.cat.x)||1;e.vx=5.5*t,e.vy=-3.5-2*Math.random(),e.ay=.38,e.alive=!1}}c.cat.hurt>0&&(c.cat.hurt-=60*e);for(const e of c.objs)e.topple&&(e.x+=e.vx,e.y+=e.vy,e.vy+=e.ay,e.vx*=.98,e.y>i-32-e.r/2&&(e.breakable&&(c.score+=e.score,I(e.x,i-32)),e.topple=!1,e.alive=!e.breakable,e.y=i-32-e.r/2));B=Math.floor(Math.max(0,Math.min(c.cat.x-innerWidth/2,g-innerWidth))),document.getElementById("score").textContent="Score: "+c.score,document.getElementById("time").textContent="Time: "+Math.ceil(c.time),document.getElementById("hp").textContent="HP: "+c.cat.hp}(n),function(){t.clearRect(0,0,innerWidth,innerHeight),t.save(),t.translate(-B,0),t.fillStyle="#a68e6f",t.fillRect(B,0,innerWidth,i),t.fillStyle="#bca37f",t.fillRect(B,i-32,innerWidth,32);for(const e of windowPositions)e.x+e.w<B-100||e.x>B+innerWidth+100||(t.fillStyle="#fff",t.fillRect(e.x-10,e.y-10,e.w+20,e.h+20),t.fillStyle="#aeefff",t.fillRect(e.x,e.y,e.w,e.h),t.strokeStyle="#888",t.lineWidth=6,t.strokeRect(e.x,e.y,e.w,e.h),t.strokeStyle="#bbb",t.lineWidth=4,t.beginPath(),t.moveTo(e.x,e.y+e.h/2),t.lineTo(e.x+e.w,e.y+e.h/2),t.moveTo(e.x+e.w/2,e.y),t.lineTo(e.x+e.w/2,e.y+e.h),t.stroke());for(const e of w)e.x<B-200||e.x>B+innerWidth+200||h(t,e.emoji,e.x,e.y+.7*e.height,e.height);t.fillStyle="#654321";for(const e of v)e.x+e.w<B-100||e.x>B+innerWidth+100||t.fillRect(e.x,e.y,e.w,e.h);for(const e of c.objs)if(!(e.x<B-100||e.x>B+innerWidth+100)||e.topple)if(e.topple)t.globalAlpha=.8,h(t,e.glyph,e.x,e.y,e.r),t.globalAlpha=1;else if(e.alive){let a=e.y;!e.breakable&&a>=i-32-e.r/2-1&&(a+=.38*e.r),h(t,e.glyph,e.x,e.y,e.r)}let e=0;for(let a=E.length-1;a>=0;a--){const o=E[a];if(!(o.x<B-100||o.x>B+innerWidth+100)){if(e>120)break;t.globalAlpha=o.a,h(t,o.t,o.x,o.y,22),t.globalAlpha=1,e++}}t.save(),1===c.cat.lastDir?(t.translate(c.cat.x+17,c.cat.y),t.scale(-1,1),h(t,l,0,0,34)):h(t,l,c.cat.x-17,c.cat.y,34),c.cat.hurt>0&&(t.globalAlpha=.5,t.beginPath(),t.arc(c.cat.x,c.cat.y,32,0,2*Math.PI),t.strokeStyle="#f44",t.lineWidth=4,t.stroke(),t.globalAlpha=1),t.restore(),t.restore();let a=null,o=9999;for(const e of c.objs){if(!e.alive)continue;const t=Math.hypot(e.x-c.cat.x,e.y-c.cat.y);t<o&&(o=t,a=e)}a&&o<60&&(t.beginPath(),t.arc(a.x,a.y,24,0,2*Math.PI),t.strokeStyle="rgba(255,255,255,.25)",t.lineWidth=2,t.stroke()),t.restore()}()});let B=0;function A(){if(!c.active)return;c.active=!1;let e="";c.cat.hp<=0?document.getElementById("endGameReason").textContent="Whoops that hurts":document.getElementById("endGameReason").textContent="Owner is back! 🧹",e=`Final Score: ${c.score}`,document.getElementById("summary").textContent=e,document.getElementById("overlay").classList.add("show")}M(),document.getElementById("again").addEventListener("click",z)</script>