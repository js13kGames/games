var canvas=document.getElementById("game"),ctx=canvas.getContext("2d"),canvasWidthRatio=2/3,canvasHeightRatio=0.5,canvasMaxWidth=parseInt(window.getComputedStyle(canvas).getPropertyValue("max-width")),canvasMaxHeight=canvasMaxWidth/canvasWidthRatio*canvasHeightRatio,PIXEL_RATIO=function(){var a=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return b/c*1.5}(),setCanvasMarginTop=function(){document.getElementById("game").style.marginTop=(window.innerHeight-canvas.clientHeight)/2+"px"},setCanvasResolution=function(){canvas.width=canvasMaxWidth*canvasWidthRatio*PIXEL_RATIO,canvas.height=canvasMaxWidth*canvasHeightRatio*PIXEL_RATIO,ctx.setTransform(PIXEL_RATIO,0,0,PIXEL_RATIO,0,0)};window.onload=function(){setCanvasResolution(),setCanvasMarginTop()},window.onresize=function(){setCanvasMarginTop()};