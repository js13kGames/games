<!doctype html><meta name=viewport content="width=device-width"><style>*{box-sizing:border-box}body,html{width:100%;height:100%;margin:0;padding:0;font-family:Arial Black,Gadget,sans-serif}body{background-color:#333}canvas{display:block}strong{color:red}#game-end-view,#game-finish-view,#start-game-view{background:#333;height:100vh;align-items:center;justify-content:center}#game-end-view,#game-finish-view,#game-ui,#start-game-view{color:#f2f2f2;width:100%;position:fixed;top:0;left:0;display:flex}#game-ui{justify-content:space-between;padding:10px;font-size:1.5em}.fuel{display:flex}.right{margin:0 10px}.info-text-content{max-width:400px;width:100%;text-align:center;margin:50px auto}.text-center,h1{text-align:center}h1{font-size:5em;font-family:Impact,Charcoal,sans-serif}button{border:1px solid #f2f2f2;color:#f2f2f2;background-color:transparent;text-transform:uppercase;padding:20px 30px;transition:background-color .2s ease,color .2s ease;-webkit-transition:background-color .2s ease,color .2s ease;cursor:pointer}button:hover{background-color:#f2f2f2;color:#333}.hidden{display:none!important}#fuel{position:relative;width:30%;height:10px}.bar{width:100%;height:100%;background-color:green;transition:background-color .2s ease;-webkit-transition:background-color .2s ease}</style><div id=game-ui><div id=fuel><div class=bar id=fuel-bar></div></div><div id=tries>3</div></div><div id=start-game-view><div class=start-info><h1>Space Trouble</h1><div class=info-text-content><p>Astronaut has stranded in space storm and lifesupport system is offline. Your job is to guide the astronaut back to spaceship. You have limited amount of fuel at your disposal.<p>Use <strong>UP</strong>, <strong>DOWN</strong> & <strong>RIGHT</strong> to control the astronaut.<p>Good Luck!</div><div class=text-center><button id=start-game>Start</button></div></div></div><div id=game-end-view class=hidden><div class=end-message><p>Sorry! The astronaut died.<div class=text-center><button id=restart-game>Try again</button></div></div></div><div id=game-finish-view class=hidden><div class=end-message><p>Congratulations! You saved the astronaut.</div></div><canvas id=game-canvas></canvas><script>!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},a=function(t){var e=o.w/3;return t.x>0&&t.x<e?o.gravity[1].y:t.x>e&&t.x<2*e?o.gravity[2].y:t.x>2*e&&t.x<3*e?o.gravity[3].y:0},o={w:window.innerWidth,h:window.innerHeight,launches:3,fuelValues:{up:0,right:0,down:0},fuel:0,fuelLimit:200,launchActive:!1,astronautSaved:!1,resistance:i(1,5),gravityMultiplier:i(1,5),shuttleMovement:.01,gravity:{1:{y:i(1,5)},2:{y:-1*i(1,5)},3:{y:i(2,8)}}},r=o.w,s=document.getElementById("game-canvas").getContext("2d"),u=void 0,c=function(t){u.forEach((function(e){!function(t,e){t.y>o.h&&(t.y=0),t.y<0&&(t.y=o.h),t.x<0&&(t.x=o.w);var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),u=n/r,c=i/r,h=(200-r)/200;e.x>10?(h<0?h=0:(t.x=t.x0,t.y=t.y0),t.x0=t.x,t.y0=t.y,t.x0+=-1*o.resistance/4,t.y0+=a(t),t.x+=u*h*50*.99+-1*o.resistance/4,t.y+=c*h*50*.99+a(t)/5):(t.y+=a(t)/5,t.x+=-1*o.resistance/4),s.beginPath(),s.arc(t.x,t.y,t.size,0,2*Math.PI),s.fillStyle=t.color,s.fill()}(e,t)}))};n(1);var h=document.getElementById("game-canvas");h.width=o.w,h.height=o.h;var d=new Image;d.src="images/astronaut.jpg";var l=new Image;l.src="images/shuttle.jpg",kontra.init(),u=Array(r).fill().map((function(t){var e=i(0,o.w),n=i(0,o.h);return{x0:e,y0:n,x:e,y:n,color:"#f2f2f2",size:1}}));var f={astronaut:kontra.sprite({x:10,y:o.h/2-25,color:"red",width:20,height:50,dx:0,image:d,fade:function(){this.context.globalAlpha-=.01,g()}}),shuttle:kontra.sprite({x:o.w-100,y:0,color:"white",width:20,height:100,dx:0,dy:0,image:l})},y=function(t){o.fuel+=1,o.fuel<=o.fuelLimit&&(o.launchActive=!0,o.fuelValues[t]+=1,function(t){var e=100-100*t,n=document.getElementById("fuel-bar");e<75&&(n.style.backgroundColor="yellow"),e<25&&(n.style.backgroundColor="red"),n.style.width=e+"%"}(o.fuel/o.fuelLimit),"right"===t&&(f.astronaut.dx+=v(o.fuelValues.right)/50),"up"===t&&(f.astronaut.dy+=-1*v(o.fuelValues.up)/50),"down"===t&&(f.astronaut.dy+=v(o.fuelValues.down)/50))},v=function(t){return t/10},p=function(){o.launchActive=!1,o.astronautSaved=!0},g=function(){setTimeout((function(){document.getElementById("game-finish-view").classList.remove("hidden")}),3e3)},x=kontra.gameLoop({update:function(){kontra.keys.pressed("right")&&y("right"),kontra.keys.pressed("up")&&y("up"),kontra.keys.pressed("down")&&y("down"),f.astronaut.update(),function(){var t=Math.abs(f.astronaut.x-f.shuttle.x),e=Math.abs(f.astronaut.y-f.shuttle.y);Math.sqrt(t*t+e*e)<50&&p()}(),o.launchActive?(f.astronaut.dy+=a(f.astronaut)/100,f.astronaut.ddx=o.resistance/1e3*-1,f.astronaut.update(),f.astronaut.dx<0&&(f.astronaut.dx=0),(f.astronaut.x>o.w||f.astronaut.y>o.h||f.astronaut.x<-50||f.astronaut.y<0)&&(0===o.launches?setTimeout((function(){x.stop(),document.getElementById("game-end-view").classList.remove("hidden")}),1e3):(f.astronaut.x=10,f.astronaut.y=o.h/2-25,f.astronaut.dx=0,f.astronaut.dy=0,f.astronaut.ddx=0,o.fuel=0,o.launches--,o.fuelValues={up:0,down:0,right:0},o.launchActive=!1,function(t){document.getElementById("tries").innerHTML=t}(o.launches),document.getElementById("fuel-bar").style.width="100%",document.getElementById("fuel-bar").style.backgroundColor="green"))):(f.astronaut.repel=!1,o.launchActive=!1),o.astronautSaved&&(f.astronaut.x=f.shuttle.x-50,f.astronaut.y=f.shuttle.y+25,f.astronaut.update(),f.astronaut.fade()),f.shuttle.dy+=.01*function(t){return o.h/2/2+100-t.y<0?-1:1}(f.shuttle),f.shuttle.update()},render:function(){f.astronaut.render(),f.shuttle.render(),c(f.astronaut)}});document.getElementById("start-game").addEventListener("click",(function(t){document.getElementById("start-game-view").classList.add("hidden"),x.start()})),document.getElementById("restart-game").addEventListener("click",(function(t){location.reload()})),n(2)},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();kontra={init:function(t){var e=this.canvas=document.getElementById(t)||t||document.querySelector("canvas");this.context=e.getContext("2d")},_noop:new Function,_tick:new Function},kontra.gameLoop=function(t){function e(){if(i=requestAnimationFrame(e),a=performance.now(),o=a-n,n=a,!(o>1e3)){for(kontra._tick(),s+=o;s>=u;)d.update(c),s-=u;h(),d.render()}}var n=void 0,i=void 0,a=void 0,o=void 0,r=(t=t||{}).fps||60,s=0,u=1e3/r,c=1/r,h=!1===t.clearCanvas?kontra._noop:function(){kontra.context.clearRect(0,0,kontra.canvas.width,kontra.canvas.height)},d={update:t.update,render:t.render,isStopped:!0,start:function(){n=performance.now(),this.isStopped=!1,requestAnimationFrame(e)},stop:function(){this.isStopped=!0,cancelAnimationFrame(i)}};return d},function(){for(var t={},e={},n={13:"enter",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},a=0;a<26;a++)n[65+a]=(10+a).toString(36);for(i=0;i<10;i++)n[48+i]=""+i;addEventListener("keydown",(function(i){var a=n[i.which];e[a]=!0,t[a]&&t[a](i)})),addEventListener("keyup",(function(t){e[n[t.which]]=!1})),addEventListener("blur",(function(t){e={}})),kontra.keys={bind:function(e,n){[].concat(e).map((function(e){t[e]=n}))},unbind:function(e,n){[].concat(e).map((function(e){t[e]=n}))},pressed:function(t){return!!e[t]}}}(),function(){var t=function(){function t(e,i){n(this,t),this._x=e||0,this._y=i||0}return a(t,[{key:"add",value:function(t,e){this.x+=(t.x||0)*(e||1),this.y+=(t.y||0)*(e||1)}},{key:"clamp",value:function(t,e,n,i){this._c=!0,this._a=t,this._b=e,this._d=n,this._e=i}},{key:"x",get:function(){return this._x},set:function(t){this._x=this._c?Math.min(Math.max(this._a,t),this._d):t}},{key:"y",get:function(){return this._y},set:function(t){this._y=this._c?Math.min(Math.max(this._b,t),this._e):t}}]),t}();kontra.vector=function(e,n){return new t(e,n)},kontra.vector.prototype=t.prototype;var e=function(){function t(){n(this,t)}return a(t,[{key:"init",value:function(t,e,n,i){for(e in t=t||{},this.position=kontra.vector(t.x,t.y),this.velocity=kontra.vector(t.dx,t.dy),this.acceleration=kontra.vector(t.ddx,t.ddy),this.width=this.height=0,this.context=kontra.context,t)this[e]=t[e];if(n=t.image)this.image=n,this.width=n.width,this.height=n.height;else if(n=t.animations){for(e in n)this.animations[e]=n[e].clone(),i=i||n[e];this._ca=i,this.width=i.width,this.height=i.height}return this}},{key:"isAlive",value:function(){return this.ttl>0}},{key:"collidesWith",value:function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}},{key:"update",value:function(t){this.advance(t)}},{key:"render",value:function(){this.draw()}},{key:"playAnimation",value:function(t){this._ca=this.animations[t],this._ca.loop||this._ca.reset()}},{key:"advance",value:function(t){this.velocity.add(this.acceleration,t),this.position.add(this.velocity,t),this.ttl--,this._ca&&this._ca.update(t)}},{key:"draw",value:function(){this.image?this.context.drawImage(this.image,this.x,this.y):this._ca?this._ca.render(this):(this.context.fillStyle=this.color,this.context.fillRect(this.x,this.y,this.width,this.height))}},{key:"x",get:function(){return this.position.x},set:function(t){this.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y=t}},{key:"dx",get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},{key:"dy",get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}},{key:"ddx",get:function(){return this.acceleration.x},set:function(t){this.acceleration.x=t}},{key:"ddy",get:function(){return this.acceleration.y},set:function(t){this.acceleration.y=t}}]),t}();kontra.sprite=function(t){return(new e).init(t)},kontra.sprite.prototype=e.prototype}(),t.exports=kontra},function(t,e){}])</script>