<!doctype html><meta name=viewport content="width=device-width"><title>Stray Cat - js13kGames 2025</title><style>#i-c,body{display:flex}#d,#g-o h2{color:#f50c04}.o-c,canvas{width:100%;height:100%}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;position:relative;justify-content:center;align-items:center}.o-c{position:absolute;top:0;left:0;display:none;justify-content:center;align-items:center;z-index:100;background-color:rgba(0,0,0,.6);backdrop-filter:blur(3px)}.c-c{background:linear-gradient(145deg,#2c3e50,#1a252f);width:90%;max-width:500px;border-radius:15px;padding:30px;text-align:center;color:#ecf0f1;font-size:1.2rem;margin-bottom:25px;line-height:1.6;box-shadow:0 10px 25px rgba(0,0,0,.5);position:relative;overflow:hidden}#i{border:2px solid #1a252f}#g-o{border:2px solid #f50c04}.c-c h2{font-size:2.5rem;margin-bottom:15px;text-shadow:2px 2px 4px rgba(0,0,0,.5);font-weight:800;letter-spacing:1px}#i h2{font-style:italic;font-family:Roboto}#d{font-weight:700;font-size:1.4rem}button{color:#fff;border:none;padding:12px 30px;font-size:1.1rem;border-radius:50px;cursor:pointer;transition:.3s;box-shadow:0 4px 6px rgba(0,0,0,.3);font-weight:600;margin-top:10px}button:hover{transform:translateY(-3px);box-shadow:0 6px 8px #00000066}#p-b{background:linear-gradient(to bottom,#07dd24,#02aa42)}#r-b{background:linear-gradient(to bottom,#e74c3c,#f50c04)}</style><div id=g-o-c class=o-c><div id=g-o class=c-c><h2>Game Over</h2><p>You survived <span id=d></span> days as a stray cat!</p><button id=r-b>Try Again</button></div></div><div id=i-c class=o-c><div id=i class=c-c><h2>STRAY CAT</h2>Use arrow keys or AD keys to move, press SHIFT to run.<br>Avoid the rain, catch the mice in order to survive!</p><button id=p-b>Play!</button></div></div><canvas id=c></canvas><script>document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("c"),e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const i={x:t.width/2-35,y:t.height-120,width:70,height:70,speed:0,mWS:5,mRS:10,acceleration:.5,deceleration:.7,facing:"right",state:"standing",frame:0,frameCounter:0,frameDelay:8,worldPosition:0,eatingTimer:0,hunger:0,wetness:0},n={x:-200,y:60,width:120,height:60,speed:7,isRaining:!1,rainDrops:[]},r={active:!1,x:0,y:t.height-67,width:26,height:16,speed:6,direction:1,worldX:0,jumpingTimer:0,jumpingRandomControl:0},a={offset:0},o={gT:0,dL:1800,dC:0},h=[],s={w:[],r:[],s:[],st:[],e:[]};let l=0;const d={w:["./w1.png","./w2.png","./w3.png","./w4.png","./w5.png","./w6.png"],r:["./r1.png","./r2.png","./r3.png","./r4.png","./r5.png","./r6.png"],s:["./w4.png","./w1.png","./s.png"],e:["./e.png"]},g={};["keydown","keyup"].forEach(t=>{window.addEventListener(t,e=>{const i="keydown"===t,n=e.key.toLowerCase();["arrowleft","arrowright","a","d"].includes(n)&&(g[n]=i),"Shift"===e.key&&(g.shift=i)})});const f=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},c=(t,e,i)=>{const n=f(t),r=f(e);return"#"+((1<<24)+(Math.round(n.r+(r.r-n.r)*i)<<16)+(Math.round(n.g+(r.g-n.g)*i)<<8)+Math.round(n.b+(r.b-n.b)*i)).toString(16).slice(1)},w=()=>o.gT%o.dL/o.dL,m=()=>{const e=w(),i=w()<.5,r=i?["#87CEEB","#B0E0E6","#4A5568","#2D3748"]:["#112A71","#000A31","#0A1A50","#000520"],a=200*e-100;let o,h;if(i)o=t.width*(1-2*e)-a,h=e<=.125?e/.125:e<=.375?1:1-(e-.375)/.125;else{const i=2*(e-.5);o=t.width*(1-i)-a,h=0}return{x:o,y:80,color:i?"#FFD700":"#FEFF79",skyTop:n.isRaining?c(r[2],r[0],h):r[0],skyBottom:n.isRaining?c(r[3],r[1],h):r[1]}},p=e=>{const i=Math.floor(8*Math.random())+3,n=20*(Math.floor(4*Math.random())+4),r=25*i+20,a=[],o=Math.floor((n-20)/20);for(let t=0;t<i;t++)for(let e=0;e<o;e++)a.push({x:15+20*e,y:15+25*t,width:8,height:12,lit:Math.random()>.4});return{x:e,y:t.height-50-r,width:n,height:r,windows:a}},y=(t,i,n,r,a)=>{e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(t,i,150,20),e.fillStyle=n>70?r[1]:r[0],e.fillRect(t,i,n/100*150,20),e.strokeStyle="white",e.lineWidth=2,e.strokeRect(t,i,150,20),e.fillStyle="white",e.font="14px Arial",e.fillText(a,t,i-5)},u=()=>{const t={walking:s.w[i.frame],running:s.r[i.frame],stopping:s.s[i.frame],standing:s.st[0],eating:s.e[0]}[i.state];t&&(e.save(),"right"===i.facing?(e.translate(i.x+i.width,i.y),e.scale(-1,1),e.drawImage(t,0,0,i.width,i.height)):e.drawImage(t,i.x,i.y,i.width,i.height),e.restore())},x=i=>{const n=i.x-a.offset;n+i.width<0||n>t.width||(e.fillStyle="#877F7D",e.fillRect(n,i.y,i.width,i.height),e.strokeStyle="#1A252F",e.lineWidth=2,e.strokeRect(n,i.y,i.width,i.height),i.windows.forEach(t=>{e.fillStyle=t.lit?"#FFF59D":"#37474F",e.fillRect(n+t.x,i.y+t.y,t.width,t.height),e.strokeStyle="#1A252F",e.lineWidth=1,e.strokeRect(n+t.x,i.y+t.y,t.width,t.height)}))},M=()=>{const i=m(),n=e.createLinearGradient(0,0,0,t.height);n.addColorStop(0,i.skyTop),n.addColorStop(1,i.skyBottom),e.fillStyle=n,e.fillRect(0,0,t.width,t.height),e.fillStyle=i.color,e.beginPath(),e.arc(i.x,i.y,50,0,2*Math.PI),e.fill(),h.forEach(x),e.fillStyle="#000000",e.fillRect(0,t.height-50,t.width,50)},S=()=>{o.gT++,o.gT%o.dL==0&&o.dC++,(()=>{if("eating"===i.state)return i.eatingTimer--,void(i.eatingTimer<=0&&(i.state="standing",i.hunger=Math.max(0,i.hunger-30)));const t=g.arrowleft||g.a,e=g.arrowright||g.d;if(t&&!e?i.facing="left":e&&!t&&(i.facing="right"),t||e){const t=g.shift?i.mRS:i.mWS,n=e?1:-1;Math.abs(i.speed)<t?i.speed+=i.acceleration*n:i.speed=t*n,i.state=g.shift?"running":"walking"}else if(0!==i.speed){const t=Math.min(Math.abs(i.speed),i.deceleration);i.speed+=i.speed>0?-t:t,Math.abs(i.speed)<.1?(i.speed=0,i.state="standing"):"stopping"!==i.state&&(i.state="stopping",i.frame=0)}else i.state="standing";i.worldPosition+=i.speed,a.offset=i.worldPosition,i.frameCounter++,i.frameCounter>=i.frameDelay&&(i.frameCounter=0,"walking"===i.state?i.frame=(i.frame+1)%s.w.length:"running"===i.state?i.frame=(i.frame+1)%s.r.length:"stopping"===i.state?i.frame<s.s.length-1&&i.frame++:i.frame=s.e.length-1)})(),(()=>{const e=n.x-a.offset+n.width/2-(i.x+i.width/2),r=Math.abs(e);if(n.isRaining=r<80,n.isRaining)for(let t=0;t<3;t++)n.rainDrops.push({x:n.x+Math.random()*n.width-20,y:n.y+n.height-40,speed:5+3*Math.random()});n.rainDrops=n.rainDrops.filter(e=>(e.y+=e.speed,e.y<t.height&&e.y<i.y+i.height-10)),Math.abs(e)>2&&(n.x-=Math.sign(e)*(n.isRaining?i.mWS:n.speed))})(),(()=>{if(!r.active)return l++,void(l>=300&&(r.active=!0,r.x="right"===i.facing?.25*t.width:.75*t.width,r.worldX=r.x+a.offset,r.direction="right"===i.facing?-1:1,l=0));var e,n;r.worldX+=r.speed*r.direction,r.x=r.worldX-a.offset,r.jumpingTimer>25?(r.y-=11*Math.abs(Math.sin(r.jumpingTimer%25/25)),r.jumpingTimer--):r.jumpingTimer>0&&(r.y+=11*Math.abs(Math.sin(r.jumpingTimer%25/25)),r.jumpingTimer--),r.jumpingRandomControl&&r.jumpingRandomControl--,n=r,(e=i).x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y?(r.active=!1,i.state="eating",i.speed=0,i.eatingTimer=180):0===r.jumpingTimer&&Math.abs(i.x-r.x)<220&&(Math.random()>.6&&0===r.jumpingRandomControl?(r.jumpingTimer=50,r.direction=-r.direction):r.jumpingRandomControl=120)})(),i.hunger+=.05,n.isRaining?n.rainDrops.some(t=>{const e=t.x-a.offset,n=i.x+i.width/2;return Math.abs(e-n)<10&&Math.abs(t.y-i.y)<10})&&(i.wetness+=.4):i.wetness-=.05,i.hunger=Math.max(0,Math.min(100,i.hunger)),i.wetness=Math.max(0,Math.min(100,i.wetness)),(i.hunger>=100||i.wetness>=100)&&(document.querySelector("#g-o-c").style.display="flex",document.querySelector("#d").textContent=o.dC,document.querySelector("#r-b").addEventListener("click",()=>window.location.reload())),(()=>{const e=a.offset-t.width,i=a.offset+2*t.width;for(;h.length>0&&h[0].x+h[0].width<e;)h.shift();const n=h[h.length-1];n&&n.x<i&&h.push(p(n.x+n.width+50*Math.random()+50));const r=h[0];r&&r.x>e&&h.unshift(p(r.x-100*Math.random()-150))})()},b=()=>{e.clearRect(0,0,t.width,t.height),M(),(()=>{const i=n.x-a.offset;i<-200||i>t.width+100||(e.fillStyle=n.isRaining?"rgba(100, 100, 100, 0.9)":"rgba(200, 200, 200, 0.8)",e.beginPath(),[[0,0,30],[25,-15,25],[50,0,30],[75,-10,20],[90,0,25],[45,20,25]].forEach(([t,r,a])=>e.arc(i+t,n.y+r,a,0,2*Math.PI)),e.fill(),n.isRaining&&Math.random()<.1&&(e.strokeStyle="#FFFF00",e.lineWidth=3,e.beginPath(),e.moveTo(i+45,n.y+40),e.lineTo(i+50,n.y+60),e.lineTo(i+40,n.y+70),e.stroke()),e.fillStyle="rgba(0, 174, 230, 0.9)",e.globalAlpha=.6,n.rainDrops.forEach(t=>{e.fillRect(t.x-a.offset,t.y,2,10)}),e.globalAlpha=1)})(),(()=>{if(!r.active)return;e.fillStyle="#383838",e.beginPath(),e.ellipse(r.x+r.width/2,r.y+r.height/2,r.width/2,r.height/2,0,0,2*Math.PI),e.fill(),e.strokeStyle="#383838",e.lineWidth=2,e.beginPath();const t=1===r.direction?r.x:r.x+r.width,i=t+(1===r.direction?-10:10);e.moveTo(t,r.y+r.height/2),e.lineTo(i,r.y+r.height/2-5),e.stroke();const n=r.x+r.width*(1===r.direction?.75:.25),a=r.y+.35*r.height;e.fillStyle="yellow",e.beginPath(),e.arc(n,a,1,0,2*Math.PI),e.fill(),e.fillStyle="#383838",e.beginPath(),e.arc(n,a-6,2,0,2*Math.PI),e.fill()})(),u(),(()=>{const e=t.width-170;y(e,20,i.hunger,["#44FF44","#FF4444"],"Hunger"),y(e,60,i.wetness,["#44DDFF","#4444FF"],"Wetness")})(),e.fillStyle="white",e.font="20px Arial",e.fillText(`${o.dC} days`,20,30),(()=>{if(!r.active)return;if(!(r.x<0||r.x>t.width))return;const i=.3*Math.sin(.1*o.gT)+.7;e.save(),e.globalAlpha=i,e.shadowBlur=10,e.shadowColor="#FF4444",e.fillStyle="#FF4444",e.font="bold 20px Arial",r.x<0?e.fillText("<< MOUSE",30,t.height/2-30):e.fillText("MOUSE >>",t.width-120,t.height/2-30),e.restore()})(),requestAnimationFrame(b)};new Promise(t=>{let e=0;const i=Object.values(d).flat().length,n=()=>{e++,e===i&&(s.st.push(s.s[s.s.length-1]),t())};Object.entries(d).forEach(([t,e],i)=>{e.forEach((e,i)=>{const r=new Image;r.onload=n,r.onerror=n,r.src=e,s[t][i]=r})})}).then(()=>{(()=>{for(let t=-2e3;t<4e3;t+=50*Math.random()+100)h.push(p(t));h.sort((t,e)=>t.x-e.x)})(),M(),u(),document.querySelector("#p-b").addEventListener("click",()=>{document.querySelector("#i-c").style.display="none",setInterval(S,17),b()})}).catch(t=>console.error("Error loading images:",t))})</script>