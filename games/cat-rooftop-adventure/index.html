<!doctype html><meta name=viewport content="width=device-width"><title>Cat Rooftop Adventure - js13kGames 2025</title><style>*{margin:0;padding:0;box-sizing:border-box}body{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(to bottom,#1a237e,#283593,#303f9f);font-family:Arial,sans-serif;overflow:hidden;color:#fff}#c{position:relative;width:800px;height:600px;overflow:hidden;box-shadow:0 0 20px rgba(0,0,0,.6);border-radius:10px}#g{background:#0c1021;display:block}#ui{position:absolute;top:15px;left:15px;font-size:18px;z-index:10;background:rgba(0,0,0,.5);padding:10px;border-radius:10px}.sc{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(12,16,33,.9);z-index:20}h1{font-size:36px;margin-bottom:20px;text-align:center;color:#fc0;text-shadow:2px 2px 0 #000}button{background:#fc0;color:#1a237e;border:none;padding:15px 30px;font-size:20px;border-radius:30px;cursor:pointer;margin-top:30px;font-weight:700;box-shadow:0 4px 0 #d81b60;transition:all .1s}button:hover{transform:translateY(2px);box-shadow:0 2px 0 #d81b60}#i{max-width:500px;text-align:center;margin-bottom:30px;line-height:1.6;font-size:18px}.ct{display:flex;gap:20px;margin-top:15px}.k{background:#fc0;color:#1a237e;width:40px;height:40px;display:flex;justify-content:center;align-items:center;border-radius:5px;font-weight:700;box-shadow:0 3px 0 #999}.h{display:none}#go{text-align:center}#fs{font-size:32px;color:#fc0;margin:15px 0}#ci{margin-top:20px;font-size:16px;background:rgba(255,255,255,.1);padding:10px;border-radius:5px}</style><div id=c><canvas id=g width=800 height=600></canvas><div id=ui><div>High score: <span id=s>0</span></div><div>Fish: <span id=fc>0</span></div></div><div id=ss class=sc><h1>Cat Rooftop Adventure</h1><div id=i>Help the cat climb as high as possible on the roofs!<br>Control the cat with the left/right arrows and jump with the spacebar.<br>Collect fish for bonus points!<br>The cat can jump up two platforms!</div><div class=ct><div class=k>←</div><div class=k>→</div><div class=k style=width:80px>Space</div></div><button id=sb>Start</button></div><div id=gos class="sc h"><h1>The cat fell!</h1><div>Your score:</div><div id=fs>0</div><button id=rb>Play again</button></div></div><script>const t=document.getElementById("g"),i=t.getContext("2d"),h=document.getElementById("s"),s=document.getElementById("fc"),e=document.getElementById("ss"),n=document.getElementById("gos"),l=document.getElementById("sb"),o=document.getElementById("rb"),a=document.getElementById("fs");let r,y=0,c=0,f=2,d=[],w=null,x=!1,u=0,m=0,g={},v=[];for(let i=0;i<100;i++)v.push({x:Math.random()*t.width,y:Math.random()*t.height,sz:2*Math.random()+1,sp:.5*Math.random()+.2});class T{constructor(){this.w=40,this.h=50,this.x=t.width/2-this.w/2,this.y=0,this.vx=0,this.vy=0,this.j=!1,this.gr=.5,this.sp=5,this.st=0,this.si=0}setOnPlatform(t){this.x=t.x+t.w/2-this.w/2,this.y=t.y-this.h,this.vy=0,this.j=!1}update(){g.ArrowLeft?this.vx=-this.sp:g.ArrowRight?this.vx=this.sp:this.vx=0,g[" "]&&!this.j&&this.J(),this.vy+=this.gr,this.x+=this.vx,this.y+=this.vy,this.x<0&&(this.x=0),this.x+this.w>t.width&&(this.x=t.width-this.w);let i=!1;for(let t of d)this.vy>0&&this.x+this.w>t.x&&this.x<t.x+t.w&&this.y+this.h>t.y&&this.y<t.y+t.h&&this.y+this.h-this.vy<=t.y&&(this.y=t.y-this.h,this.vy=0,this.j=!1,i=!0,t.v||(y+=10,t.v=!0,h.textContent=y));i||0!==this.vy||(this.j=!0),w&&this.x+this.w>w.x&&this.x<w.x+w.w&&this.y+this.h>w.y&&this.y<w.y+w.h&&(y+=50,c++,h.textContent=y,s.textContent=c,S("fish"),w=null),this.y>t.height&&(x=!0,S("fall"),a.textContent=y,n.classList.remove("h")),this.st>0&&this.st--}J(){this.j||(this.vy=-16,this.j=!0,this.st=10,this.si=2,S("jump"))}draw(){let t=0,h=0;this.st>0&&(t=(Math.random()-.5)*this.si,h=(Math.random()-.5)*this.si),i.fillStyle="#000",i.fillRect(this.x+t,this.y+h,this.w,this.h),i.fillStyle="#000",i.beginPath(),i.moveTo(this.x-2+t,this.y+5+h),i.lineTo(this.x+5+t,this.y-5+h),i.lineTo(this.x+12+t,this.y+5+h),i.fill(),i.beginPath(),i.moveTo(this.x+this.w-5+t,this.y-5+h),i.lineTo(this.x+this.w+2+t,this.y+5+h),i.lineTo(this.x+this.w-12+t,this.y+5+h),i.fill(),i.fillStyle="#ffcc00",i.beginPath(),i.arc(this.x+12+t,this.y+18+h,5,0,2*Math.PI),i.arc(this.x+28+t,this.y+18+h,5,0,2*Math.PI),i.fill(),i.fillStyle="#000";let s=.5*this.vx;s>3&&(s=3),s<-3&&(s=-3),i.beginPath(),i.arc(this.x+12+s+t,this.y+18+h,2,0,2*Math.PI),i.arc(this.x+28+s+t,this.y+18+h,2,0,2*Math.PI),i.fill(),i.fillStyle="#ff3366",i.beginPath(),i.arc(this.x+20+t,this.y+25+h,4,0,2*Math.PI),i.fill(),i.strokeStyle="#fff",i.lineWidth=1,i.beginPath(),i.moveTo(this.x+20+t,this.y+25+h),i.lineTo(this.x+5+t,this.y+22+h),i.moveTo(this.x+20+t,this.y+25+h),i.lineTo(this.x+5+t,this.y+28+h),i.moveTo(this.x+20+t,this.y+25+h),i.lineTo(this.x+35+t,this.y+22+h),i.moveTo(this.x+20+t,this.y+25+h),i.lineTo(this.x+35+t,this.y+28+h),i.stroke();let e=5*Math.sin(Date.now()/120)*(this.vx/this.sp);i.beginPath(),i.moveTo(this.x+this.w+t,this.y+this.h-10+h),i.quadraticCurveTo(this.x+this.w+20+e+t,this.y+this.h-20+h,this.x+this.w+10+t,this.y+this.h-30+h),i.lineWidth=5,i.strokeStyle="#000",i.stroke()}}class p{constructor(t,i,h){this.x=t,this.y=i,this.w=h,this.h=20,this.v=!1}update(){return this.y+=f,!(this.y>t.height)}draw(){i.fillStyle=this.v?"#6d4c41":"#795548",i.fillRect(this.x,this.y,this.w,this.h),i.fillStyle="#5d4037";for(let t=0;t<this.w;t+=15)i.fillRect(this.x+t,this.y,7,this.h)}}class P{constructor(t,i){this.x=t,this.y=i,this.w=25,this.h=12,this.wg=0}update(){return this.y+=f,this.wg=3*Math.sin(Date.now()/200),!(this.y>t.height)}draw(){i.fillStyle="#ff5252",i.beginPath(),i.ellipse(this.x+this.w/2,this.y+this.h/2+this.wg,this.w/2,this.h/2,0,0,2*Math.PI),i.fill(),i.beginPath(),i.moveTo(this.x-3,this.y+this.h/2+this.wg),i.lineTo(this.x+7,this.y+this.wg),i.lineTo(this.x+7,this.y+this.h+this.wg),i.closePath(),i.fill(),i.fillStyle="#000",i.beginPath(),i.arc(this.x+18,this.y+5+this.wg,2,0,2*Math.PI),i.fill(),i.fillStyle="#fff",i.beginPath(),i.arc(this.x+22,this.y+4+this.wg,1.5,0,2*Math.PI),i.fill()}}const M={jump:()=>{const t=new OscillatorNode(I,{frequency:523.25}),i=new GainNode(I,{gain:.2});t.connect(i).connect(I.destination),t.start(),t.stop(I.currentTime+.1)},fish:()=>{const t=new OscillatorNode(I,{frequency:659.25}),i=new GainNode(I,{gain:.2});t.connect(i).connect(I.destination),t.start(),t.stop(I.currentTime+.1);const h=new OscillatorNode(I,{frequency:783.99}),s=new GainNode(I,{gain:.2});h.connect(s).connect(I.destination),h.start(I.currentTime+.1),h.stop(I.currentTime+.2)},fall:()=>{const t=new OscillatorNode(I,{frequency:220}),i=new GainNode(I,{gain:.3});t.connect(i).connect(I.destination),t.start(),t.frequency.exponentialRampToValueAtTime(110,I.currentTime+.5),i.gain.exponentialRampToValueAtTime(.01,I.currentTime+.5),t.stop(I.currentTime+.5)}},I=new(window.AudioContext||window.webkitAudioContext);function S(t){M[t]&&M[t]()}function b(){y=0,c=0,f=2,d=[],r=new T,w=null,x=!1,m=0;for(let i=0;i<8;i++)d.push(E(t.height-80*i));const i=d[d.length-2];r.setOnPlatform(i),h.textContent=y,s.textContent=c,g={}}function E(i){const h=100*Math.random()+80,s=Math.random()*(t.width-h);return new p(s,i,h)}function k(h){u||(u=h);const s=h-u;if(u=h,!x){i.fillStyle="#0c1021",i.fillRect(0,0,t.width,t.height),i.fillStyle="#fff",i.beginPath(),i.arc(650,80,40,0,2*Math.PI),i.fill(),i.fillStyle="#e0e0e0",i.beginPath(),i.arc(635,70,10,0,2*Math.PI),i.arc(670,85,8,0,2*Math.PI),i.arc(655,95,40/3,0,2*Math.PI),i.fill(),i.fillStyle="#ffffff",v.forEach(h=>{h.y+=h.sp,h.y>t.height&&(h.y=0,h.x=Math.random()*t.width),i.beginPath(),i.arc(h.x,h.y,h.sz,0,2*Math.PI),i.fill()});for(let t=d.length-1;t>=0;t--)d[t].draw(),d[t].update()||(d.splice(t,1),d.push(E(-20)));w?(w.draw(),w.update()||(w=null)):(m+=s,m>2e3&&(Math.random()<.3&&(w=function(){const i=d.filter(i=>i.y<.7*t.height);if(0===i.length)return null;const h=i[Math.floor(Math.random()*i.length)],s=h.x+Math.random()*(h.w-25),e=h.y-30;return new P(s,e)}()),m=0)),r.update(),r.draw(),y>0&&y%200==0&&(f=2+.2*Math.floor(y/200)),requestAnimationFrame(k)}}l.addEventListener("click",()=>{e.classList.add("h"),b(),u=0,requestAnimationFrame(k)}),o.addEventListener("click",()=>{n.classList.add("h"),b(),u=0,requestAnimationFrame(k)}),window.addEventListener("keydown",t=>{g[t.key]=!0," "===t.key&&t.preventDefault()}),window.addEventListener("keyup",t=>{g[t.key]=!1}),window.addEventListener("load",()=>{i.fillStyle="#0c1021",i.fillRect(0,0,t.width,t.height),i.fillStyle="#fff",i.font="24px Arial",i.textAlign="center",i.fillText("Загрузка...",t.width/2,t.height/2)})</script>