<!doctype html><title>Petty kingdoms</title><meta content="width=device-width" name=viewport><style>*{box-sizing:border-box;font-family:'Segoe Print','Brush Script MT',cursive}body{margin:0}.d-none{display:none!important}.disabled{pointer-events:none}.t-center{text-align:center}.jc-sb{justify-content:space-between}#filters{display:block}#container{min-height:100vh;background:#fffef0;box-shadow:0 0 125px #8f5922 inset;position:relative;filter:brightness(1);transition:.2s}#container.disabled{filter:brightness(.8)}a{color:brown;text-decoration:none;transition:.2s}a:is(:hover,:focus){color:#600}button{width:auto;margin:0;padding:0;overflow:visible;background:0 0;border:none}.btn{margin:.5rem 0 .5rem 1.5rem;padding:.5rem 1rem .5rem 2rem;font-size:1rem;font-weight:700;color:#000;position:relative;z-index:1;filter:drop-shadow(1px 1px 3px rgba(0,0,0,.3));cursor:pointer;transition:.2s}.btn:before{content:'';display:block;width:100%;height:100%;background:#fffef0;box-shadow:0 0 1rem #8f5922 inset;position:absolute;top:0;left:0;z-index:-1;filter:url(#distortion-btn)}.btn:after{content:'';display:block;width:3rem;height:3rem;background:brown;border:3px solid rgba(0,0,0,.3);border-radius:50%;box-shadow:1px 1px 3px rgba(0,0,0,.6),0 0 1.5rem rgba(0,0,0,.4) inset;position:absolute;top:50%;left:0;transform:translate(-50%,-50%);filter:url(#distortion-btn)}.btn:is(:hover,:focus){filter:drop-shadow(3px 1px 3px rgba(0,0,0,.6));outline:0}input[type=range]{display:block;-webkit-appearance:none;appearance:none;width:15rem;max-width:100%;margin:.5rem 0;background:0 0;cursor:pointer}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{height:2px;border-radius:2px;background:#000}input[type=range]::-moz-range-track{height:2px;border-radius:2px;background:#000}input[type=range]::-webkit-slider-thumb{width:1rem;height:1rem;-webkit-appearance:none;appearance:none;margin-top:-.5rem;background:#5cd5eb;box-shadow:1px 2px 3px rgba(0,0,0,.3),0 0 .5rem #0f52ba inset;border:2px solid #d4af37;border-radius:3px;transform:rotate(-45deg);transition:.2s}input[type=range]::-moz-range-thumb{width:1rem;height:1rem;-webkit-appearance:none;appearance:none;margin-top:-.5rem;background:#5cd5eb;box-shadow:1px 2px 3px rgba(0,0,0,.3),0 0 .5rem #0f52ba inset;border:2px solid #d4af37;border-radius:3px;transform:rotate(-45deg);transition:.2s}input[type=range]:focus::-webkit-slider-thumb{background:#fff}input[type=range]:focus::-moz-range-thumb{background:#fff}label{display:block;margin:0 0 .75rem}.screen-container{height:100vh;overflow:auto}.screen{min-height:100vh}#menu-screen{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}#msm{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1 0 auto}#msf{padding:1rem}#game-screen{display:flex;justify-content:center;align-items:center}#toggle-fullscreen{width:30px;height:30px;background:0 0;position:fixed;bottom:15px;right:15px;z-index:2}#side-panel{height:100vh;flex:400px 0 1;padding:1rem;overflow:auto}.panel-section{display:flex;flex-wrap:wrap;align-items:center;gap:.75rem;margin:.75rem 0}h1{font-size:clamp(2rem, .9615rem + 4.6154vw, 5rem);margin:0 0 2rem}.go-p{display:flex;flex-wrap:wrap;justify-content:center}.go-p>div{flex:0 0 25%;padding:.75rem;text-align:center}.go-p .btn{min-width:120px}#go-p1-btn:after{background:#a00}#go-p2-btn:after{background:#0a0}#go-p3-btn:after{background:#00a}#go-p4-btn:after{background:#ff0}#map-container{position:relative}#map{display:block;aspect-ratio:1;max-width:100%;height:auto;max-height:100vh;filter:url(#distortion-map)}.region{stroke:black;stroke-width:1;stroke-linejoin:round;stroke-linecap:round;paint-order:stroke;position:relative;transition:.2s}#map[data-player='1'] .region[data-player='1'],#map[data-player='2'] .region[data-player='2'],#map[data-player='3'] .region[data-player='3'],#map[data-player='4'] .region[data-player='4']{cursor:pointer}#map[data-player='1'] .region[data-player='1']:is(:hover,:focus),#map[data-player='2'] .region[data-player='2']:is(:hover,:focus),#map[data-player='3'] .region[data-player='3']:is(:hover,:focus),#map[data-player='4'] .region[data-player='4']:is(:hover,:focus){filter:brightness(.8)}.region.active{animation:1s ease-in-out infinite activeRegion}.region[data-target='1']{cursor:pointer}.region[data-target='1']:is(:hover,:focus){filter:brightness(.8)}.region[fill=transparent][data-target='1']:is(:hover,:focus){fill:rgba(0,0,0,.2)}#map[data-send-army='1'] .region:not([data-target='1']){filter:brightness(.6)}#map[data-send-army='1'] .region:not([data-target='1'])[fill=transparent]{fill:rgba(0,0,0,.4)}.city{width:2.5rem;height:2.5rem;background:#000;border-radius:50%;line-height:2.5rem;color:#fff;text-align:center;position:absolute;transform:translate(-50%,-50%);z-index:1;pointer-events:none}@keyframes activeRegion{0%{filter:brightness(1)}50%{filter:brightness(.6)}100%{filter:brightness(1)}}.modal{max-height:100vh;position:fixed;top:100%;left:50%;transform:translate(-50%,0);z-index:3;overflow:auto;visibility:hidden;transition:.5s ease-in-out}.modal.open{top:50%;transform:translate(-50%,-50%);visibility:visible}.modal-body{display:flex;flex-direction:column;justify-content:space-between;gap:1rem;width:500px;max-width:100vw;min-height:300px;padding:2.5rem;position:relative}.modal-body:before{content:'';display:block;background:#fffef0;box-shadow:0 0 1rem #8f5922 inset;position:absolute;top:1rem;bottom:1rem;left:1rem;right:1rem;filter:url(#distortion-map) drop-shadow(3px 1px 3px rgba(0,0,0,.6));z-index:-1}.row{display:flex;gap:1rem}.row>*{flex:0 1 calc(50% - .5rem)}.dice{fill:#660000}.dice circle{fill:#fff}.dice[data-value='1'] circle:is(.d1,.d2,.d3,.d5,.d6,.d7){fill:transparent}.dice[data-value='2'] circle:is(.d1,.d3,.d4,.d5,.d7){fill:transparent}.dice[data-value='3'] circle:is(.d2,.d3,.d5,.d6){fill:transparent}.dice[data-value='4'] circle:is(.d3,.d4,.d5){fill:transparent}.dice[data-value='5'] circle:is(.d3,.d5){fill:transparent}.dice[data-value='6'] circle:is(.d4){fill:transparent}@media only screen and (orientation:portrait){#game-screen{flex-direction:column;justify-content:normal;align-items:normal}#map{width:100vw;max-height:100vw}#side-panel{height:auto;flex:auto}}@media only screen and (max-width:700px){.go-p>div{flex:0 0 50%}}@media only screen and (max-width:500px){input[type=range]{width:100%}.panel-section.input-field{flex-direction:column;align-items:normal}}</style><body><svg height=0 width=0 id=filters version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><defs><filter id=distortion-map><feTurbulence baseFrequency=0.02 numOctaves=5 seed=1 x=0 y=0 /><feDisplacementMap in=SourceGraphic scale=20 /></filter><filter id=distortion-btn><feTurbulence baseFrequency=0.02 numOctaves=5 seed=1 x=0 y=0 /><feDisplacementMap in=SourceGraphic scale=10 /></filter></defs></svg><div id=container><div class=screen-container><div class=screen id=menu-screen><div id=msm><h1>Petty kingdoms</h1><button id=start-game-btn class=btn>Start game</button><p><b>Players</b><div class=go-p><div><button id=go-p1-btn class=btn data-player=1>Player</button></div><div><button id=go-p2-btn class=btn data-player=2>CPU</button></div><div><button id=go-p3-btn class=btn data-player=2>CPU</button></div><div><button id=go-p4-btn class=btn data-player=2>CPU</button></div></div><div class=t-center><p><b>Map size</b></p><button id=go-map-btn class=btn data-map-size=1>10 regions</button></div></div><div id=msf><a href=https://js13kgames.com target=_blank>js13kGames 2023</a> game by <a href=https://github.com/wiserim target=_blank>Wiserim</a></div></div><div class="d-none screen" id=game-screen><div id=map-container><svg height=100vh width=100vh id=map version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 0 320 320"><use id=map-active-region xlink:href=""/></svg></div><div id=side-panel><div class="panel-section jc-sb"><p><b>Turn:</b> <span id=turn></span></p><button id=end-turn class=btn>End turn</button></div><div class=panel-section><svg height=40 width=40><path d=M2,2H38Q38,30,20,38Q2,30,2,2Z fill=transparent stroke=#000 stroke-linecap=round stroke-linejoin=round stroke-width=2 id=player-shield /></svg><p><b id=player-name></b></div><div class=panel-section><div><p><b>Gold:</b> <span id=gold></span> +<span id=gold-income></span><p><b>City:</b> <span id=region-name></span><p><b>Army:</b> <span id=region-army-active></span>/<span id=region-army></span></div></div><div class="panel-section input-field"><div><label>Recruit <span id=region-buy-army-amount>0</span></label> <input id=region-buy-army-input max=0 min=0 type=range value=0></div><button id=region-buy-army-btn class=btn>Recruit</button></div><div class="panel-section input-field"><div><label>Send <span id=region-send-army-amount>0</span>/<span id=region-send-army-max>0</span></label> <input id=region-send-army-input max=0 min=0 type=range value=0></div><button id=region-send-army-btn class=btn>Send army</button> <button id=region-send-army-cancel-btn class="btn d-none">Cancel</button></div></div></div></div><button id=toggle-fullscreen><svg height=30 width=30><path d=M5,10V5H10M20,5H25V10M25,20V25H20M10,25H5V20 fill=none stroke=#000 stroke-linecap=round stroke-linejoin=round stroke-width=5 /></svg></button></div><div class="t-center modal" id=game-end-modal><div class=modal-body><div class=modal-content></div><div><button id=game-end-btn class=btn>Main menu</button></div></div></div><div class=modal id=battle-modal><div class=modal-body><div class="t-center modal-content"><h2 class=t-center>Battle of <span id=battle-region></span></h2><div class=row><p><b>Attacker:</b><br><span id=att-name></span><p><b>Defender:</b><br><span id=def-name></span></div><div class=row><div><p><b>Army:</b> <span id=att-army></span></p><svg height=100 width=100 id=att-dice version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=dice data-value=1><rect height=100 rx=15 width=100 /><circle class=d1 cx=25 cy=25 r=10 /><circle class=d2 cx=75 cy=25 r=10 /><circle class=d3 cx=25 cy=50 r=10 /><circle class=d4 cx=50 cy=50 r=10 /><circle class=d5 cx=75 cy=50 r=10 /><circle class=d6 cx=25 cy=75 r=10 /><circle class=d7 cx=75 cy=75 r=10 /></svg><p id=att-advantage> </div><div><p><b>Army:</b> <span id=def-army></span></p><svg height=100 width=100 id=def-dice version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink class=dice data-value=1><rect height=100 rx=15 width=100 /><circle class=d1 cx=25 cy=25 r=10 /><circle class=d2 cx=75 cy=25 r=10 /><circle class=d3 cx=25 cy=50 r=10 /><circle class=d4 cx=50 cy=50 r=10 /><circle class=d5 cx=75 cy=50 r=10 /><circle class=d6 cx=25 cy=75 r=10 /><circle class=d7 cx=75 cy=75 r=10 /></svg><p id=def-advantage> </div></div><p><b id=battle-result></b></p><button id=battle-modal-close-btn class=btn>Close</button></div></div></div><script>eval(Function("[M=']ytssGxdCPaWN[HIjgYsFAysVY]iRVZrBy?|JFeqWOaOm}cTEku[Blwp]atMA|eGJxBGDjq}@sxOaOa?jtm_lF[rs@QLECech[{ewa_OsguKY[DUP`}Zcml@X`pL{^YmOfdDYOclsohzK^`AC^}mC|d[~?}lqNEJl~ivr]c@TP|jyAnxYG|NuPHsoFwMdB[ikdlbo[qXZwASVID}idlP{xu|r]`wgbIG[bMcJOeJtGCdxJ]AWXnnyV[owhJn@XFy@mq}FK?loTMSfsrqtlfbYxek[b~l}@F`xKL~OERTvyEE@fBAQG^~JefuDImIjA{{JiAkgeH`w[AVYlaJEBZ`DiiH_mNpELE~oLAbw~AV@}yY@InKAeNxuDkQhRs^c]OWq}WxkYhFo`MQv~qopG`cgDIdioldLsgYT?@IGNBOkZAOXI`v?YTx^O[nfwvopkYNe{]nxOG~]QaMguIixAfo~gb]XbqGmVief]_`IOAh]dJPfSP}fXezbKI{wn}{KTTTq^Nor~`OaKB|VDSWIRyHVBML]PvwvPz|znCwavs@ZdxUTKtyeMq@rPV}fPZL`kOWQiV|wYaoUAbLbGEFpXuuKjvShnmjlkN[qYWG[B?yeFuGUIfyeKSIh]iyS`AxtAvvdRcUlTupXlLT{fYXUY|Kt{YG?bfu|FWkcxBwbmd`aud`CC^MvaxGX?^~]vBcxlYny{NcwgClH{nuUTQac__llwJU?aoFYhEKYNigOFJL}uAtuRKGL}WVSy~n|OfVo[oOyTZA~]lRgOZnXo}HNwXqhrhMhSarDGpoHHFjYmCOzNNEfKKAyOugYsMCADWEhU]BTcWKD`|W^]AAC]XuXbZWPipVKaoyTY}Rm^vfuzW{FnyWrzbHmJy]X^QjBIkS_RQ{WJus^R`GrPfEtwzIG^H?ZcLrqezumY[pEGoKSdGK]EC{J@u`EDStMyscl}aLFv|sBKFDDgCFiCrJZmnl^^ftKG[austWhNLNYYWTPu_Bo~tyVAyHyqxxvgoFk?XiZkADoyL{YeGOeNFOAk][{cc{bcXL@PM{JRp^gcm]vW[ymYX@k]{{mL?A_Ed]PovbhduSQUBfsRCq@Aq`l|CkmDmIXt|vY~lYLGLgE}`uxF`FICfH?zOB]}`}GNs}izyUf{H`ibtF@QpndiG~dZq}SRypWA@@FpcDaCmZr_phZRccW^QgdEntC|QOnsJNozWrQzCtZR{hWzcawishstljNbFQtmjQcypBwJ@KqAucIUR|`w]Ibt^GU`|cYNXyTD@MQeyhTWkhlK}YLbTRDT|s{WkGbaP^eYigvcesViusLdYzxbbTFdE?emqoIxE}TnyBKAalPNyDUU]Xccl[AyDlCbp[HmQDuB_^Sq_wbSgTYoAnHY~_txF_|XtNvyKKHRBwLqSY|ct`^omNRek?aiYGXhz[BTmtn~Bqf?vRO{xZ_F`dFdNtDkBJSBt{eFxcuV|nx@KxshzeJybBUHg~WQQh{ncMIxBdwCo[xwZqMyRgi[S@EA[bqqqvKEaKwVs_Qmfd{gBhijcgeupLbYQLf@h~ylQo`sSS{rd{MI^PIW[inkRKTT~UzGOqLBoIKY}rjOV|[UU_b^lZbcV]hGjFxuRvJjJN`]{pa{sU?RQwkFJLjP[`R}fRHlCdnnSNj?ezLUDQ|bIAlVAurxyXEKj@brsd^o^KUbyQexZ_b_ElJiOwo}G`?oeGF}~cXYJw[g}WpguO|DJ|{onN|jQMF_KmIwXR|b|UjurtPv{BB}QQK`?jyyn~wh{CHrDIX^NDNoQPFDFyHsEYrLckiw_}KYXE|ckYSrncUOB?jam_Oh~DMuCRVsWyAdM@dr}PY{XLWU]K}ryOmfCjIWZVGJT[fgHshXCOb[TiB^eeE]YcE}IlIUIGtXpKYp{GZL`lTjp_OhRmU~Emi^jbbfUsGZavpwcMtCKlVw^Sx^pbynjeEtehLJtYWEW]Qf?u^UTQWny{L?C^fss[TIICyWy{|y[dXzG?RIsQOBnO[p_~XANr}ygEzP~lkXFPsFc}Pu}_aR@?D?KtxvWbFm^^t~^vGpbhmtc|CBTxbwnHDKL@SJ}{ynk^DHjZYLlY_hEdG~Mh_U_B{^eS~b~z@VXordBBhhvez@iIjJszyW`xH_~YHb]]{VzsS?sadL{Y`sl}U]lTp_L~lJoQsFefy[yPnEpiFI?fD_saboIwAAOd@cCBhoJFYcAZ{pWCu^OgoPN]h?ImYz|_RikOLoaovqM]f_ezV{rWTsRQfnikUKLKIMl`n_m?fDra^OIOcynzCqDL]FxcsMiD{WN]GuK@S|ic~}_wHPWaeypvHkYF?BxE}BFpmmqanoLbk{CHQFL_N{AhyLtKBP`df`Zf}{f~IgfkjaJ^H]w?lFYmh{wa_TQwfndh|pju~J~Ijs_gvCjVt~oDpAbbuUa@ZPf^wt|So^~C?oW}K]GwuKhXhRb^F{`arxXeetDvZEKUPgZwFboObE[?mDTwV}oKuikM?jo@aM|cOoNPTCarVbSFwZBVAKF[tGAauEi^uZk?IIegYFiHQZa@}B`RuQsOSVeK]_m}ReYyuC}sqSfXxx]epObwnmKc|SiWtafzh^nEV`l_RfRtePuyD?Q[WDlIu~GUOdvnZnL_qBiNHoRQ|eVXFP|jj|BP[GmHMu}kRrk{OjVtZ}X`_l}r]_c@ibiQYiDAtjkLFttB~v[unysKGw[g``_VLblc?F_qssfrXlaXyRyVqoyRZgx]wpCuxHFt]d_iSdsLk]OX@Zzh@bma|NtlYpTreJT[vLKuVOB{][d[wkzlbzx|sF|sKwjRo@~b^glcZ}uBbKx{lvjxvzGq|LUt{w[krKCnIR?ftHJLv_zrvEnJHTAPkA?mPxtz]o`TRQRmmosYvGUYqXP^Hoi`Ri~avddj`aN@gZEsbptKiyXxBFcunitkIb@RBfsR^RXwpQpw@PTteDeDKFUWxALkeYY^DeYP@^EBfEtFMAOZZVdkJ{[zUm}hxbvBgdVabOoEtqVdaWh]@AysAV^uz^gSDImJ[SG`qRQAwPzlohF[EsMDljb`U@MWbLovDAJzaDpUR@?hJOk?IbruAll|mwYJxBb`mvgSI~tPGUyx|PzVw_ptO`MfJ?@e^cE]YG_i|hAEKkuxLN]TFZO]~HCgCt^VeXfnrkIU~VFRmaVC[}Sr@elXk[RqTluMQ?r_sL`ypHD^gZceAeeeGKsA?nOis|O`qLsumK^tNI_S|yN[YZoyxOz{DVgHXdJH?jlCpvd?L@WYHfkZ}}z~STbcmwUTBns|]GXB[iLSMp|{_szF?pSyyZEgES~jLnPxY@FDlUn|f^Q|vaTFCMsfCA?}gpoBXAf|PskaPPATQqQBFO}tDYXJtAkXtk]^ODrdury_{horlP_TvArWYkzOYmXhTAiKRa[K]]QHYRbBqbEj]YrbJgrX~KkI?VcKZUUXE`ZfK[N]Hgw`Ww?qLcLgskyDctf]^rae?tDjMJH]pHoKlmpgm[t?Fw_ZipjSce|rWSoJZmZbCD]|FyPFrYKr|wK[URYQGBTgQww?_puv~TgB}n{KJcHL?xGRHpGK|zAeuuxVavvksLpQu@|BzQYK}McS]WV@}]CB|[@mjnZfFz|aaq`fnq?]nVBEE@tIKRdfAVzPfSPksmrH@DjfdeyycRem{UyUy^SMJnlWygVcEUVZT}L`}?YBSA]XXTelWE?moYdcFPvLQoPL|}hWuBXLRwXg|B}kTTuAJAYGlip[NfAr]XBIirJA^AST|lSEguIhETbxIx{Brfql@SEH|ThQcLYYvvWKbbPgwTbvLgMuDmHJ?jdh^xTUlXmDCXSEmlQolcoGf?GXz^VxT[CQ?tVASmO|ydFYYKGp~v?[?LHdmNyOnmQFdyidc]QdX@wdt}M@EaREDn{@?XwQrLMmbajwGlpfEaMTz_JVEUffQYkeN`KuYQ_L_@BdkTUvlEB~L[YAboJTtvd~FeNCi}ah{CE?}Wubzv_mnveWQACwSHCIRh[tCQaniWngcjA]GfbgTHUj[zDe?jpZSUFjukbUClOeZq]q{caQqcvFu_n_QLefDUMXsmziiYddOEkJPgMTbZzUsPzsHYr_NVjua?nwix`@ID{mAwOa{vH`rBY{zVhHlwicmNgBvzgr_MDWGKrraaMeYjYMC}M|FOE_PXzZpjhRMFjcY^sPfeRA|RPmxJ?NeQjaCThsTSbMzjBkdaD~WfVk{KjzarN[]wbr?Teo?wUOGL}_iuQw_YxXQsU]eLb^S?KdvpGzg[hkmGYLf`zBefdhFzzuxPiZySH~]GRe]oqj|GaXPcflx[R?mKTuwqPfxIG`VNZfimzoqIpOpXvTm[wWAwGpFiR[DgS}JQUuJ]bszS_N{[CG{MSLOqJLFGaSfgt]sSN`EzhHmrJLWajhMvoi_YQ?qXAPUpR[W`rm_m@MQigVHHCTib?quxWZHiualvCKWdFkWqjIBmWc@bAcrZyhQNPe~XXGsvjtLBXinPOOFryzgrmKV[^Xi{qAhSfDTgztag`ZWzHDoLDVCAxpWfaNTDEb|aGo~FUXegCLll_bK`r{sbymBubI{_gNal_CUtCyzfrSi`Q_Vyl^LLfCAqwvP[vFSwEuC`wf|k`i_nwZ~BRsp`?jYmtJqX[G_SaPDt~kF|@@fsDN}TUZ_kQORFl[oCuQAdOp}nSwEMq{`F`BSitdwM^[S}}XG]hoOreLlWfd?S`qElqVz_XBBW@utT][_mRlnHSVq[rwHuaoFG||yWm~G_[jdeQNibbPmXjkDgUGVL]O@ffv}_~hWcNDHlhNuEfsIQpJZvc|WkL_{?cvWqhgrYfdI`bvFJAbRPf_MJplo]?|XAw]hyNaf}EXcpDwghb[?AOge`iUfqGoOiv_rDFwqGOxgltQ[AXvRryDbkQMg[OFnSmPXvy_LT@gkYKYI}U[KVPGR_{mgS^zKMg{kMp^oLAOgpz~X[s[Wyzx|t]taLCo~lxyuwLIu`UBfbDgRT@idsUN[^xVTULx}qavRG^pzHpWELZIC{qZIKooMNtmWkxOFwreU@^LA'",..."]charCodeAtUinyxp","for(;e<11107;c[e++]=x-128)for(x=1;x<128;n=p.map((i,y)=>(t=r[i]*2+1,t=Math.log(t/(h-t)),A-=a[y]*t,t/1000)),A=~-h/(1+Math.exp(A))|1,U=o%h<A,o=o%h+(U?A:h-A)*(o>>15)-!U*A,p.map((i,y)=>(t=r[i]+=(U*h/2-r[i]<<15)/((C[i]+=C[i]<4)+1/20)>>15,a[y]+=n[y]*(U-A/h))),x=x*2+U)for(p='010202103203210431064206520654109841098743'.split(A=0).map((i,y)=>(t=0,[...i].map((i,y)=>(t=t*997+(c[e-i]|0)|0)),h*128-1&t*997+x)*12+y);o<h*128;o=o*64|M.charCodeAt(d++)&63);for(C=String.fromCharCode(...c);r=/[\0-]/.exec(C);)with(C.split(r))C=join(shift());return C")([],[],32768,[0,0,0,0,0,0,0,0,0,0,0,0],new Uint16Array(51e6).fill(8192),new Uint8Array(51e6),0,0,0))</script>