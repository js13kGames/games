<!DOCTYPE html><head><title>The Way of the Dodo - js13kGames 2025</title><meta name=viewport content=width=device-width,height=device-height,maximum-scale=1></head><body><script>const t=Math.PI;function e(t){return Math.abs(t)}function i(t,e){return Math.min(t,e)}function s(t,e){return Math.max(t,e)}function h(t){return Math.sign(t)}function r(t,e=1){return(t%e+e)%e}function o(t,e=0,i=1){return t<e?e:i<t?i:t}function a(t,e,i){return i-e?o((t-e)/(i-e)):0}function n(t,e,i){return e+o(t)*(i-e)}function l(t,i,s,h=f()){return 2*e(t.x-s.x)<i.x+h.x&&2*e(t.y-s.y)<i.y+h.y}function c(t=1,e=0){return e+Math.random()*(t-e)}function d(t,e=0){return Math.floor(c(t,e))}function u(e=1){return(new g).setAngle(c(2*t),e)}function p(t=1,e=0){return 0<t?u(t*c(e/t,1)**.5):new g}function y(t=new x,e=new x(0,0,0,1),i=!1){return i?t.lerp(e,c()):new x(c(t.r,e.r),c(t.g,e.g),c(t.b,e.b),c(t.a,e.a))}class m{constructor(t){this.seed=t}float(t=1,i=0){return this.seed^=this.seed<<13,this.seed^=this.seed>>>17,this.seed^=this.seed<<5,i+(t-i)*e(this.seed%1e9)/1e9}int(t,e=0){return Math.floor(this.float(t,e))}sign(){return 2*this.int(2)-1}}function f(t=0,e){return"number"==typeof t?new g(t,null==e?t:e):new g(t.x,t.y)}class g{constructor(t=0,e=0){this.x=t,this.y=e}copy(){return new g(this.x,this.y)}add(t){return new g(this.x+t.x,this.y+t.y)}subtract(t){return new g(this.x-t.x,this.y-t.y)}multiply(t){return new g(this.x*t.x,this.y*t.y)}divide(t){return new g(this.x/t.x,this.y/t.y)}scale(t){return new g(this.x*t,this.y*t)}length(){return this.lengthSquared()**.5}lengthSquared(){return this.x**2+this.y**2}distance(t){return this.distanceSquared(t)**.5}distanceSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}normalize(t=1){var e=this.length();return e?this.scale(t/e):new g(0,t)}clampLength(t=1){var e=this.length();return t<e?this.scale(t/e):this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}angle(){return Math.atan2(this.x,this.y)}setAngle(t=0,e=1){return this.x=e*Math.sin(t),this.y=e*Math.cos(t),this}rotate(t){var e=Math.cos(t);return t=Math.sin(t),new g(this.x*e-this.y*t,this.x*t+this.y*e)}setDirection(t,e=1){return f(t%2?t-1?-e:e:0,t%2?0:t?-e:e)}direction(){return e(this.x)>e(this.y)?this.x<0?3:1:this.y<0?2:0}invert(){return new g(this.y,-this.x)}floor(){return new g(Math.floor(this.x),Math.floor(this.y))}area(){return e(this.x*this.y)}lerp(t,e){return this.add(t.subtract(this).scale(o(e)))}arrayCheck(t){return 0<=this.x&&0<=this.y&&this.x<t.x&&this.y<t.y}}function v(t,e,i,s){return new x(t,e,i,s)}function w(t,e,i,s){return(new x).setHSLA(t,e,i,s)}class x{constructor(t=1,e=1,i=1,s=1){this.r=t,this.g=e,this.b=i,this.a=s}copy(){return new x(this.r,this.g,this.b,this.a)}add(t){return new x(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}subtract(t){return new x(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}multiply(t){return new x(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}divide(t){return new x(this.r/t.r,this.g/t.g,this.b/t.b,this.a/t.a)}scale(t,e=t){return new x(this.r*t,this.g*t,this.b*t,this.a*e)}clamp(){return new x(o(this.r),o(this.g),o(this.b),o(this.a))}lerp(t,e){return this.add(t.subtract(this).scale(o(e)))}setHSLA(t=0,e=0,i=1,s=1){i=2*i-(e=i<.5?i*(1+e):i+e-i*e);var h=(t,e,i)=>(i=(i%1+1)%1)<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;return this.r=h(i,e,t+1/3),this.g=h(i,e,t),this.b=h(i,e,t-1/3),this.a=s,this}HSLA(){let t,e=o(this.r),i=o(this.g),s=o(this.b),h=o(this.a),r=Math.max(e,i,s),a=Math.min(e,i,s),n=(r+a)/2,l=0,c=0;return r!=a&&(t=r-a,c=.5<n?t/(2-r-a):t/(r+a),e==r?l=(i-s)/t+(i<s?6:0):i==r?l=(s-e)/t+2:s==r&&(l=(e-i)/t+4)),[l/6,c,n,h]}mutate(t=.05,e=0){return new x(this.r+c(t,-t),this.g+c(t,-t),this.b+c(t,-t),this.a+c(e,-e)).clamp()}toString(t=!0){var e=t=>((t=255*t|0)<16?"0":"")+t.toString(16);return"#"+e(this.r)+e(this.g)+e(this.b)+(t?e(this.a):"")}setHex(e){var t=t=>o(parseInt(e.slice(t,t+2),16)/255);return this.r=t(1),this.g=t(3),this.b=t(5),this.a=7<e.length?t(7):1,this}rgbaInt(){return(255*o(this.r)|0)+(255*o(this.g)<<8)+(255*o(this.b)<<16)+(255*o(this.a)<<24)}}let S=f(),b=32,k=f(1920,1200),z=f(),C=f(16),T=0,j=!1;f(640,80);class O{constructor(t=f(),e=f(1),i,s=0,h,r=0){this.pos=t.copy(),this.size=e,this.drawSize=void 0,this.tileInfo=i,this.angle=s,this.color=h,this.additiveColor=void 0,this.mirror=!1,this.mass=1,this.damping=1,this.angleDamping=1,this.elasticity=0,this.friction=.8,this.gravityScale=1,this.renderOrder=r,this.velocity=f(),this.angleVelocity=0,this.spawnTime=kt,this.children=[],this.parent=void 0,this.localPos=f(),this.localAngle=0,this.collideTiles=!1,this.collideSolidObjects=!1,this.isSolid=!1,this.clampVelocity=!0,xt.push(this)}update(){var t=this.parent;if(t)this.pos=this.localPos.multiply(f(t.getMirrorSign(),1)).rotate(-t.angle).add(t.pos),this.angle=t.getMirrorSign()*this.localAngle+t.angle;else{this.clampVelocity&&(this.velocity=this.velocity.clampLength(1));var i=this.pos.copy();if(this.velocity.y+=T*this.gravityScale,this.pos.x+=this.velocity.x*=this.damping,this.pos.y+=this.velocity.y*=this.damping,this.angle+=this.angleVelocity*=this.angleDamping,this.mass){var r,o,a,c,d,p,y,m,g=this.velocity.y<0;if(this.groundObject&&(r=this.groundObject.velocity?this.groundObject.velocity.x:0,this.velocity.x=r+(this.velocity.x-r)*this.friction,this.groundObject=0),this.collideSolidObjects)for(const t of St)!this.isSolid&&!t.isSolid||t.destroyed||t.parent||t==this||!l(this.pos,this.size,t.pos,t.size)||(c=this.collideWithObject(t),d=t.collideWithObject(this),c&&d&&(l(i,this.size,t.pos,t.size)?(d=(c=(p=i.subtract(t.pos)).length())<.01?u(.001):p.scale(.001/c),this.velocity=this.velocity.add(d),t.mass&&(t.velocity=t.velocity.subtract(d))):(c=this.size.add(t.size),d=2*(i.y-t.pos.y)>c.y+T,p=2*e(i.y-t.pos.y)<c.y,y=2*e(i.x-t.pos.x)<c.x,m=s(this.elasticity,t.elasticity),!d&&!y&&p||(this.pos.y=t.pos.y+(c.y/2+.001)*h(i.y-t.pos.y),t.groundObject&&g||!t.mass?(g&&(this.groundObject=t),this.velocity.y*=-m):t.mass&&(y=(this.mass*this.velocity.y+t.mass*t.velocity.y)/(this.mass+t.mass),o=this.velocity.y*(this.mass-t.mass)/(this.mass+t.mass)+2*t.velocity.y*t.mass/(this.mass+t.mass),a=t.velocity.y*(t.mass-this.mass)/(this.mass+t.mass)+2*this.velocity.y*this.mass/(this.mass+t.mass),this.velocity.y=n(m,y,o),t.velocity.y=n(m,y,a))),!d&&p&&(this.pos.x=t.pos.x+(c.x/2+.001)*h(i.x-t.pos.x),t.mass?(o=(this.mass*this.velocity.x+t.mass*t.velocity.x)/(this.mass+t.mass),y=this.velocity.x*(this.mass-t.mass)/(this.mass+t.mass)+2*t.velocity.x*t.mass/(this.mass+t.mass),a=t.velocity.x*(t.mass-this.mass)/(this.mass+t.mass)+2*this.velocity.x*this.mass/(this.mass+t.mass),this.velocity.x=n(m,o,y),t.velocity.x=n(m,o,a)):this.velocity.x*=-m))));this.collideTiles&&yt(this.pos,this.size,this)&&!yt(i,this.size,this)&&(r=yt(f(i.x,this.pos.y),this.size,this),t=yt(f(this.pos.x,i.y),this.size,this),!r&&t||(this.groundObject=g,this.velocity.y*=-this.elasticity,(r=(i.y-this.size.y/2|0)-(i.y-this.size.y/2))<0&&r>this.damping*this.velocity.y+T*this.gravityScale&&(this.velocity.y=this.damping?(r-T*this.gravityScale)/this.damping:0),this.pos.y=i.y),t)&&(this.pos.x=i.x,this.velocity.x*=-this.elasticity,this.onBlockedX)&&this.onBlockedX()}}}render(){N(this.pos,this.drawSize||this.size,this.tileInfo,this.color,this.angle,this.mirror,this.additiveColor)}destroy(){if(!this.destroyed){this.destroyed=1,this.parent&&this.parent.removeChild(this);for(const t of this.children)t.destroy(t.parent=0)}}collideWithTile(t,e){return 0<t}collideWithTileRaycast(t,e){return 0<t}collideWithObject(t){return!0}getAliveTime(){return kt-this.spawnTime}applyAcceleration(t){this.mass&&(this.velocity=this.velocity.add(t))}applyForce(t){this.applyAcceleration(t.scale(1/this.mass))}getMirrorSign(){return this.mirror?-1:1}addChild(t,e=f(),i=0){this.children.push(t),t.parent=this,t.localPos=e.copy(),t.localAngle=i}removeChild(t){this.children.splice(this.children.indexOf(t),1),t.parent=0}setCollision(t=!0,e=!0,i=!0){this.collideSolidObjects=t,this.isSolid=e,this.collideTiles=i}}let B,A,D,R,M=f(),E=[];function I(t=f(),e=C,i=0){var s;return"number"==typeof e&&(e=f(e)),"number"==typeof t&&(t=f(t%(s=E[i].size.x/e.x|0)*e.x,(t/s|0)*e.y)),new F(t,e,i)}class F{constructor(t=f(),e=C,i=0){this.pos=t,this.size=e,this.textureIndex=i}offset(t){return new F(this.pos.add(t),this.size,this.textureIndex)}frame(t){return this.offset(f(t*this.size.x,0))}getTextureInfo(){return E[this.textureIndex]}}class W{constructor(t){this.image=t,this.size=f(t.width,t.height),this.fixBleedSize=f(.1).divide(this.size)}}function L(t){return new g((t.x-M.x/2+.5)/b+S.x,(t.y-M.y/2+.5)/-b+S.y)}function P(t){return new g((t.x-S.x)*b+M.x/2-.5,(t.y-S.y)*-b+M.y/2-.5)}function N(t,e=f(1),r,o=new x,i=0,s,h=new x(0,0,0,0),a,n,l){const c=r&&r.getTextureInfo();var[t,e,i,s,n,l,d=A]=[t,e,i,s,t=>{var e,i,s,h;c?(e=r.pos.x+.1,i=r.pos.y+.1,s=r.size.x-.2,h=r.size.y-.2,t.globalAlpha=o.a,t.drawImage(c.image,e,i,s,h,-.5,-.5,1,1),t.globalAlpha=1):(t.fillStyle=o,t.fillRect(-.5,-.5,1,1))},n,l];l||(t=P(t),e=e.scale(b)),d.save(),d.translate(t.x+.5,t.y+.5),d.rotate(i),d.scale(s?-e.x:e.x,e.y),n(d),d.restore()}function X(t,e,i,s,h,r,o){N(t,e,void 0,i,s,!1,void 0,0,r,o)}function K(t,e,i){(i=i||A).globalCompositeOperation=t?"lighter":"source-over"}function J(t,e=0){return _[e]&&!!(1&_[e][t])}function G(t,e=0){return _[e]&&!!(2&_[e][t])}function H(t,e=0){return _[e]&&!!(4&_[e][t])}const q=J,V=G,Y=H;let U=f(),Q=f(),Z=0,$=!1,_=[[]];function tt(){ht||document.hasFocus()||(_=[[]]),U=L(Q)}function et(){for(const t of _)for(const e in t)t[e]&=1;Z=0}function it(t){return"KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t}function st(t){var e;return B?(e=B.getBoundingClientRect(),f(B.width,B.height).multiply(f(a(t.x,e.left,e.right),a(t.y,e.top,e.bottom)))):f()}onkeydown=t=>{t.repeat||($=!1,_[0][t.code]=3,_[0][it(t.code)]=3)},onkeyup=t=>{_[0][t.code]=4,_[0][it(t.code)]=4},onmousedown=t=>{$=!1,_[0][t.button]=3,Q=st(t),t.button&&t.preventDefault()},onmouseup=t=>_[0][t.button]=2&_[0][t.button]|4,onmousemove=t=>Q=st(t),onwheel=t=>Z=t.ctrlKey?0:h(t.deltaY),oncontextmenu=t=>!1;const ht=void 0!==window.ontouchstart;if(ht){let s;onmousedown=onmouseup=()=>0,ontouchstart=ontouchmove=ontouchend=t=>{ot&&"running"!=ot.state&&nt([ct(0)]);var e,i=t.touches.length;return i?(e=f(t.touches[0].clientX,t.touches[0].clientY),Q=st(e),s?$=!1:_[0][0]=3):s&&(_[0][0]=2&_[0][0]|4),s=i,document.hasFocus()&&t.preventDefault(),!0}}class rt{constructor(t,e=40,i=.7){this.range=e,this.taper=i,this.randomness=0,t&&(this.randomness=t[1]||0,t[1]=0,this.sampleChannels=[ct(...t)],this.sampleRate=lt)}play(e,i=1,s=1,h=1,r=!1){if(this.sampleChannels){let t;if(e){var o=this.range;if(o){var n=S.distanceSquared(e);if(o*o<n)return;i*=a(n**.5,o,o*this.taper)}t=2*P(e).x/B.width-1}return n=s+s*this.randomness*h*c(-1,1),this.source=nt(this.sampleChannels,i,n,t,r,this.sampleRate)}}stop(){this.source&&this.source.stop(),this.source=void 0}getSource(){return this.source}playNote(t,e,i){return this.play(e,i,2**(t/12),0)}playNotePure(t,e,i){nt(this.sampleChannels,i,2**(t/12),e,!1,this.sampleRate)}getDuration(){return this.sampleChannels&&this.sampleChannels[0].length/this.sampleRate}isLoading(){return!this.sampleChannels}}let ot=new AudioContext,at=!1;function nt(t,e=1,i=1,s=0,h=!1,r=lt){var a=at;if(!(at="running"!=ot.state)||(ot.resume(),!a)){const a=ot.createBuffer(t.length,t[0].length,r),n=ot.createBufferSource(),l=(t.forEach((t,e)=>a.getChannelData(e).set(t)),n.buffer=a,n.playbackRate.value=i,n.loop=h,ot.createGain());return l.gain.value=.5*e,l.connect(ot.destination),n.connect(new StereoPannerNode(ot,{pan:o(s,-1,1)})).connect(l),n.start(),n}}const lt=44100;function ct(i=1,s=.05,r=220,a=0,n=0,l=.1,d=0,N=1,u=0,p=0,y=0,f=0,m=0,X=0,g=0,_=0,v=0,x=1,w=0,S=0,k=0){let b,B,z=2*t,T=lt,J=u*=500*z/T/T,C=r*=c(1+s,1-s)*z/T,D=[],R=0,K=0,F=0,j=1,H=0,q=0,A=0,O=z*e(k)*2/T,E=Math.cos(O),M=Math.sin(O)/2/2,I=1+M,Y=-2*E/I,V=(1-M)/I,W=(1+h(k)*E)/2/I,Z=-(h(k)+E)/I,$=W,L=0,P=0,G=0,Q=0;for(p*=500*z/T**3,g*=z/T,y*=z/T,f*=T,m=m*T|0,i*=.5,B=(a=a*T+9)+(w*=T)+(n*=T)+(l*=T)+(v*=T)|0;F<B;D[F++]=A*i)++q%(100*_|0)||(A=d?1<d?2<d?3<d?Math.sin(R**3):o(Math.tan(R),1,-1):1-(2*R/z%2+2)%2:1-4*e(Math.round(R/z)-R/z):Math.sin(R),A=(m?1-S+S*Math.sin(z*F/m):1)*h(A)*e(A)**N*(F<a?F/a:F<a+w?1-(F-a)/w*(1-x):F<a+w+n?x:F<B-v?(B-F-v)/l*x:0),A=v?A/2+(v>F?0:(F<B-v?1:(B-F)/v)*D[F-v|0]/2/i):A,k&&(A=Q=$*L+Z*(L=P)+W*(P=A)-V*G-Y*(G=Q))),b=(r+=u+=p)*Math.cos(g*K++),R+=b+b*X*Math.sin(F**5),j&&++j>f&&(r+=y,C+=y,j=0),!m||++H%m||(r=C,u=J,j=j||1);return D}let dt=[],ut=f();function pt(t,e=0){t.arrayCheck(ut)&&(dt[(0|t.y)*ut.x+t.x|0]=e)}function yt(t,e=f(),h){var r=s(t.x-e.x/2|0,0),o=s(t.y-e.y/2|0,0),a=i(t.x+e.x/2,ut.x),n=i(t.y+e.y/2,ut.y);for(let e=o;e<n;++e)for(let t=r;t<a;++t){var l=dt[e*ut.x+t];if(l&&(!h||h.collideWithTile(l,f(t,e))))return!0}}class mt{constructor(t,e=0,i=!1,s=new x){this.tile=t,this.direction=e,this.mirror=i,this.color=s}clear(){this.tile=this.direction=0,this.mirror=!1,this.color=new x}}class ft extends O{constructor(t,e=ut,i=I(),s=f(1),h=0){super(t,e,i,0,void 0,h),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=s,this.isOverlay=!1,this.data=[];for(let t=this.size.area();t--;)this.data.push(new mt)}setData(t,e,i=!1){t.arrayCheck(this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=e,i)&&this.drawTileData(t)}getData(t){return t.arrayCheck(this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}render(){var t=P(this.pos.add(f(0,this.size.y*this.scale.y)));(this.isOverlay?R:A).drawImage(this.canvas,t.x,t.y,b*this.size.x*this.scale.x,b*this.size.y*this.scale.y)}redraw(){this.redrawStart(!0);for(let e=this.size.x;e--;)for(let t=this.size.y;t--;)this.drawTileData(f(e,t),!1);this.redrawEnd()}redrawStart(t=!1){this.savedRenderSettings=[B,A,M,S,b],B=this.canvas,A=this.context,M=this.size.multiply(this.tileInfo.size),S=this.size.scale(.5),b=this.tileInfo.size.x,t&&(B.width=M.x,B.height=M.y),jt()}redrawEnd(){[B,A,M,S,b]=this.savedRenderSettings}drawTileData(e,i=!0){var s=this.tileInfo.size;i&&(i=e.multiply(s),this.context.clearRect(i.x,this.canvas.height-i.y,s.x,-s.y)),null!=(i=this.getData(e)).tile&&(e=this.pos.add(e).add(f(.5)),s=I(i.tile,s,this.tileInfo.textureIndex),N(e,f(1),s,i.color,i.direction*t/2,i.mirror))}drawCanvas2D(t,e,i,s,h){var r=this.context;r.save(),t=t.subtract(this.pos).multiply(this.tileInfo.size),e=e.multiply(this.tileInfo.size),r.translate(t.x,this.canvas.height-t.y),r.rotate(i),r.scale(s?-e.x:e.x,e.y),h(r),r.restore()}drawTile(t,e=f(1),i,s=new x,h,r){this.drawCanvas2D(t,e,h,r,t=>{var e=i&&i.getTextureInfo();e?(t.globalAlpha=s.a,t.drawImage(e.image,i.pos.x,i.pos.y,i.size.x,i.size.y,-.5,-.5,1,1),t.globalAlpha=1):(t.fillStyle=s,t.fillRect(-.5,-.5,1,1))})}drawRect(t,e,i,s){this.drawTile(t,e,void 0,i,s)}}class gt extends O{constructor(e,i,s=0,h=0,r=100,o=t,a,n=new x,l=new x,c=new x(1,1,1,0),d=new x(1,1,1,0),u=.5,p=.1,y=1,m=.1,g=.05,v=1,w=1,S=0,k=t,b=.1,B=.2,z=!1,T=!1,C=!0,D=T?1e9:0,R=!1){super(e,f(),a,i,void 0,D),this.emitSize=s,this.emitTime=h,this.emitRate=r,this.emitConeAngle=o,this.colorStartA=n,this.colorStartB=l,this.colorEndA=c,this.colorEndB=d,this.randomColorLinear=C,this.particleTime=u,this.sizeStart=p,this.sizeEnd=y,this.speed=m,this.angleSpeed=g,this.damping=v,this.angleDamping=w,this.gravityScale=S,this.particleConeAngle=k,this.fadeRate=b,this.randomness=B,this.collideTiles=z,this.additive=T,this.localSpace=R,this.trailScale=0,this.particleDestroyCallback=void 0,this.particleCreateCallback=void 0,this.emitTimeBuffer=0}update(){if(this.parent&&super.update(),!this.emitTime||this.getAliveTime()<=this.emitTime){if(+this.emitRate){var t=1/this.emitRate;for(this.emitTimeBuffer+=wt;0<this.emitTimeBuffer;this.emitTimeBuffer-=t)this.emitParticle()}}else this.destroy()}emitParticle(){let t="number"==typeof this.emitSize?p(this.emitSize/2):f(c(-.5,.5),c(-.5,.5)).multiply(this.emitSize).rotate(this.angle),e=c(this.particleConeAngle,-this.particleConeAngle);this.localSpace||(t=this.pos.add(t),e+=this.angle);const i=this.randomness;var s=(a=t=>t+t*c(i,-i))(this.particleTime),h=a(this.sizeStart),r=a(this.sizeEnd),o=c(this.speed)**.4,a=a(this.angleSpeed)*(2*d(2)-1),n=c(this.emitConeAngle,-this.emitConeAngle),l=y(this.colorStartA,this.colorStartB,this.randomColorLinear),u=y(this.colorEndA,this.colorEndB,this.randomColorLinear),n=this.localSpace?n:this.angle+n;return(l=new vt(t,this.tileInfo,e,l,u,s,h,r,this.fadeRate,this.additive,this.trailScale,this.localSpace&&this,this.particleDestroyCallback)).velocity=f().setAngle(n,o),l.angleVelocity=a,l.fadeRate=this.fadeRate,l.damping=this.damping,l.angleDamping=this.angleDamping,l.elasticity=this.elasticity,l.friction=this.friction,l.gravityScale=this.gravityScale,l.collideTiles=this.collideTiles,l.renderOrder=this.renderOrder,l.mirror=!!d(2),this.particleCreateCallback&&this.particleCreateCallback(l),l}render(){}}class vt extends O{constructor(t,e,i,s,h,r,o,a,n,l,c,d,u){super(t,f(),e,i),this.colorStart=s,this.colorEndDelta=h.subtract(s),this.lifeTime=r,this.sizeStart=o,this.sizeEndDelta=a-o,this.fadeRate=n,this.additive=l,this.trailScale=c,this.localSpaceEmitter=d,this.destroyCallback=u,this.clampVelocity=!1}render(){var h,t=i((kt-this.spawnTime)/this.lifeTime,1),r=f(this.sizeStart+t*this.sizeEndDelta),o=this.fadeRate/2,o=new x(this.colorStart.r+t*this.colorEndDelta.r,this.colorStart.g+t*this.colorEndDelta.g,this.colorStart.b+t*this.colorEndDelta.b,(this.colorStart.a+t*this.colorEndDelta.a)*(t<o?t/o:1-o<t?(1-t)/o:1));this.additive&&K(!0);let a=this.pos,n=this.angle;if(this.localSpaceEmitter&&(a=this.localSpaceEmitter.pos.add(a.rotate(-this.localSpaceEmitter.angle)),n+=this.localSpaceEmitter.angle),this.trailScale){let t=this.velocity,e=(t=this.localSpaceEmitter?t.rotate(-this.localSpaceEmitter.angle):t).length();e&&(h=t.scale(1/e),e*=this.trailScale,r.y=s(r.x,e),n=h.angle(),N(a.add(h.multiply(f(0,-e/2))),r,this.tileInfo,o,n,this.mirror))}else N(a,r,this.tileInfo,o,n,this.mirror);this.additive&&K(),1==t&&(this.color=o,this.size=r,this.destroyCallback&&this.destroyCallback(this),this.destroyed=1)}}const wt=1/60;let xt=[],St=[],bt=0,kt=0,zt=0,Ct=0,Tt=0;function jt(){M=f(B.width,B.height),A.imageSmoothingEnabled=!1}class Ot extends O{static count=0;constructor(t){super(t,f(1),Rt.coin),this.yOrig=t.y,this.index=Ot.count,this.setCollision(!0,!1,!1),Ot.count++}update(t){this.pos.y=this.yOrig+Math.sin(this.index/5+15*kt)/15}collideWithObject(e){return e!=Be||1<this.pos.distanceSquared(Be.pos)||(++Mt,fe.play(this.pos),this.destroy(),e=this.pos,new gt(e,0,.5,.1,10,t/2,void 0,v(1,1,1),v(1,1,1),v(0,1,1,0),v(1,1,1,0),.5,.1,.4,.01,.05,.9,1,-.2,t,.05,0,!1,!0,!0,5),ze(this.pos,new x(.5,1,1),d(5,10),.05,.1,.05),Ot.count--,0==Ot.count&&(Ie=Ie||new Dt(Ee))),!1}}var Bt={white:new x(1,1,1),grey:new x(.5,.5,.5)};class At extends O{constructor(t){super(t,f(8,8),Rt.concreteBlock),this.setCollision(!0,!1,!0),this.elasticity=.2}collideWithObject(t){return t instanceof si&&(t.destroy(),Be=null,ke(t.pos,1e3),ge.play(this.pos),setTimeout(()=>{ve.play(t.pos,2,.8),ve.play(t.pos,2,.6)},200),we.play(t.pos,5)),!1}}class Dt extends O{constructor(t){super(t,f(2,2),Rt.exit),this.setCollision(!0,!1,!0),Se.play(this.pos),ze(this.pos,new x(1,1,1),25,.05,.01,.05),ze(this.pos,new x(1,1,1),25,.1,.1,.05)}collideWithObject(t){return t instanceof si&&t.pos.distanceSquared(this.pos)<2&&he(),!1}collideWithTile(){return.1<e(this.velocity.y)&&we.play(this.pos,.1+e(this.velocity.y/2)),!0}}let Rt,Mt,Et,It,Ft,Wt,Lt,Pt,Nt=0;const Xt=180,Kt=100;let Jt,Gt,Ht;var qt,Vt,Yt,Ut,Qt,Zt,$t=!1;let _t,te=0,ee=f();function ie(){Rt={coin:I(0),blob:I(1),playerWalk:I(2),playerJump:I(4),exit:I(6),concreteBlock:I(9),title:I(f(48,32),f(48,32))},j=!0,$t=!1,It=Mt=Et=0,T=-.01,Nt=0,Gt=3,Ht=7,Pe(Et),_e(Et),li.destroyAllLive(),(_t=new O(f(Fe.x/2,.7*Fe.y),f(20,9),Rt.title)).setCollision(!1,!1,!1),_t.gravityScale=0}function se(t){switch(Jt=void 0,Nt=t){case 1:We=kt,Pe(14),_e(22),new At(f(Fe.x/2,4*Fe.y)),$t=ri(Mt);break;case 2:Et=13,he(),_e(Et=31),Ze=!0,We=kt,le("Lives bonus ",5e3*Gt,2)}}function he(){0<It||(ii(),xe.play(Be.pos,3),Be.jumpToNextLevel(),te=10,re(),Ze=!1,le("Time bonus ",Math.ceil((Ft+1)*Kt)),It=Xt)}function re(t=1){t/=2,ee=ee.add(p(t,t/2))}function oe(t){Jt="",2==Nt?_e(Et):14==t?se(2):(Pe(Et=r(t,ai.length)),_e(Et),Ze=!0)}function ae(t,e,i,s=1,h="monospace",r="#fff",a="#000"){var n=o(D.width/40,10,20);s=(n*=s)/10,R.textAlign="center",R.textBaseline="middle",R.font=n+"px "+h,h=n/10,R.fillStyle=a,R.lineWidth=s,R.strokeStyle=a,R.strokeText(t,e+h,i+h),R.fillText(t,e+h,i+h),R.fillStyle=r,R.lineWidth=s,R.strokeStyle=a,R.strokeText(t,e,i),R.fillText(t,e,i)}function ne(t){let e="Score "+Mt;hi()&&(e+="          Hiscore "+hi()),ae(e,D.width/2,t),$t&&1<2*kt%2&&ae("NEW HISCORE",D.width/2,3*t,2)}function le(t,e,i=1){Wt=t,Lt=e,Pt=kt+i}function ce(){if(5<kt-Pt&&(Wt=void 0),!(kt-Pt<0||Lt<=0||It%2!=0)){if(fe.play(),!(Lt>Kt))return Mt+=Lt,Lt=0,1;Mt+=Kt,Lt-=Kt}}function de(e=0){var t=e-Ct;Ct=e,zt+=t/1e3,Tt=i(Tt+=t,50),ue();{let t=0;for(Tt<0&&-9<Tt&&(t=Tt,Tt=0);0<=Tt;Tt-=1e3/60){kt=bt++/60,tt(),Vt(),St=xt.filter(t=>t.collideSolidObjects);for(const e of xt)e.parent||function t(e){if(!e.destroyed){e.update();for(const i of e.children)t(i)}}(e);xt=xt.filter(t=>!t.destroyed),Yt(),et()}Tt+=t}jt(),Ut(),xt.sort((t,e)=>t.renderOrder-e.renderOrder);for(const e of xt)e.destroyed||e.render();Qt(),requestAnimationFrame(de)}function ue(){z.x?(B.width=z.x,B.height=z.y,innerWidth,innerHeight,B.width,B.height):(B.width=i(innerWidth,k.x),B.height=i(innerHeight,k.y)),D.width=B.width,D.height=B.height,M=f(B.width,B.height)}qt=ie,Vt=function(){var t,e=kt-$e;if(!(e<0)){var h=Math.floor(e*ei)%Ke;if(h!=ti&&(Be?.onNewBeat(h),ti=h,Ze)){h%(Ke/4)==0&&ii(0==h?2.5:1);for(const t of Xe[0]){var r=Ge[t[0]],o=t[1],a=t[h%(t.length-2)+2];"number"!=typeof a||isNaN(a)||r.playNotePure(a-12,o,Qe)}}}switch(Nt){case 2:ce()&&($t=ri(Mt)),li.spawnRandom(),S=S.lerp(Be.pos,.05),7<kt-We&&(Jt||Se.play(),Jt="[Click to start new game]",Te())&&ie();break;case 1:5<kt-We&&(Jt||Se.play(),Jt="[Click to start new game]",Te())&&ie(),b=i(B.width/Fe.x,B.height/Fe.y),S=Fe.scale(.5);break;case 0:0<It?(t=(Xt-It)/Xt,0<Et&&ce(),S.y+=.035*Fe.y*t,b*=.992,Ht*=.992,S=S.lerp(Be.pos,t/10),Be.drawSize=Be.drawSize.scale(1.02),--It<=0&&(0==Et&&(Mt=0),Wt=void 0,oe(++Et))):((Ft=Be?45-(kt-We):Ft)<=-1&&0!=Et&&Be.kill(!0),Ft=s(Ft,0),0==Et?(Jt=ht?"[Tap to jump]":"[Space to jump]",Ft=0):Jt="Chamber "+Et+" of 13",b=i(B.width/Fe.x,B.height/Fe.y),S=Fe.scale(.5))}ni||(G("KeyG")&&(Gt=1,Be?.kill()),G("KeyW")&&(Et=13,he()),G("KeyK")&&Be.kill(),G("KeyN")&&he(),G("KeyT")&&(We=kt-45-1)),ni&&2!=Nt||(G("PageUp")&&oe(++Et),G("PageDown")&&oe(--Et)),ee=ee.scale(-.9),S=S.add(ee)},Yt=function(){},Ut=function(){},Qt=function(){var t,e=.5*D.height/Fe.y;switch(Nt){case 0:if(0==Et){hi()&&ae("Hiscore "+hi(),.5*D.width,e);var s=P(f(Fe.x/2,.45*Fe.y)),h=P(f(Fe.x/2,.4*Fe.y)),r="#e0cc5b";ae("Enter the Dodo Dojo",s.x,s.y,Ht/6,void 0,r),ae("13 chambers of fowl play",h.x,h.y,Ht/6,void 0,r)}else{ae("Lives "+Gt,+D.width/4,e),ae("Score "+Mt,2*D.width/4,e);let t="#fff";Ft<=10&&It<=0&&4*kt%2<1&&(t="#f00"),ae("Time "+Math.ceil(Ft),3*D.width/4,e,void 0,void 0,t),Wt&&ae(Wt+Lt,D.width/2,3*e,.7)}break;case 1:ne(e),ae("GAME OVER",D.width/2,.15*D.height,5),ae("Beware the danger of 13 !",D.width/2,.3*D.height,2),ae("Chamber "+Et+" of 13",D.width/2,D.height-3*e,1);break;case 2:ne(e),Wt&&-1<kt-Pt&&!$t&&ae(Wt+Lt,D.width/2,3*e,.7),ae("BE FREE BIRD !",D.width/2,.85*D.height,3),ht||ae("[Page up/down to change music.  Chamber "+Et+"]",2*D.width/4,D.height-3*e)}Jt&&ae(Jt,.5*D.width,D.height-e),A.drawImage(D,0,0),Be&&Be.renderTop(),0<te&&(t=i(.2+--te/10,1),X(M.scale(.5),M,new x(1,1,1,t),0,0,!0))},Zt=["tiles.png"],document.body.style.cssText="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none",document.body.appendChild(B=document.createElement("canvas")),A=B.getContext("2d"),document.body.appendChild(D=document.createElement("canvas")),R=D.getContext("2d"),ue(),Zt=Zt.map((i,s)=>new Promise(t=>{const e=new Image;e.onerror=e.onload=()=>{E[s]=new W(e),t()},e.src=i})),Promise.all(Zt).then(()=>{qt(),de()});const pe=new rt([.4,.2,250,.04,,.04,,,1,,,,,3]),ye=new rt([.4,.2,150,.05,,.05,,,-1,,,,,4,,,,,.02]),me=new rt([.3,.1,50,.005,,.01,4,,,,,,,,10,,,.5]),fe=new rt([1.04,0,2e3,,.02,.01,,2.2,,,50,,,,,,,.5,.01]),ge=new rt([2,.1,523.2511,.13,,.12,4,1.23,-46.2,,-100,.01,.01,,114,,.21,.85,.05]),ve=new rt([1,.2,600,.05,.13,.13,2,.5,50,,10,.11,.02,,20,.12,,,,.5,5e3]),we=new rt([4,.5,802,.1,.05,.5,4,4.59,,,,,,1.2,,2,.21,.31,.1,.1]),xe=new rt([.7,,118,.03,.28,.41,1,.2,-6,-162,-109,.05,.1,,,,,.51,.27,.06,496]),Se=new rt([,,336,.03,.21,.3,,2.1,,-22,,,.1,.4,,,,.77,.12]),be=new rt([.2,.1,1e3,,.2,2,,0,-.1,,,,,.3,,,,,.15]);function ke(t,e){ze(t,w(0,1,.5),e,.2,0).gravityScale=1.2}function ze(e,i=w(),s=50,h=.2,r=.3,o=.1){var a=i.lerp(w(),.5),n=i.copy();return n.a=0,(e=new gt(e,0,1,.1,s/.1,t,void 0,i,a,n,n,3,h,h,o/10,.05,1,.95,.5,t,0,.1,!0)).elasticity=r,e}function Ce(e,i=1){new gt(e,0,.2*i,.3,c(50,150)*i,t,Rt.blob,v(1,1,1),v(.5,.5,.5),v(1,1,1),v(1,1,1),.3,.3,.05,.001,.1,.9,.9,-.1,t,.5,.5,!1,!1,!0,0)}function Te(){return H("Space")||H(0,1)||Y(0)}we.range=0,be.range=0;const je=1,Oe=2;let Be,Ae,De,Re,Me,Ee,Ie,Fe,We=-1;const Le=(t,e,i)=>t.arrayCheck(ut)&&(De[e][(0|t.y)*ut.x+t.x|0]=i);function Pe(t){Ot.count=0,Ee=void 0,Ie=void 0,Ae=void 0,De=void 0,Re=void 0,Me=void 0;for(const t of xt)t.parent||t.destroy();xt=xt.filter(t=>!t.destroyed),t=ai[t];var e=Fe=f(t.w,t.h);ut=e;for(let t=(dt=[]).length=ut.area();t--;)dt[t]=0;De=[],Re=[],Ae=f(1,Fe.y);var i=t.d,s=new ft(f(),Fe,I(0,16));s.renderOrder=-1e3,Re[0]=s,De[0]=[];for(let e=Fe.x;e--;)for(let t=Fe.y;t--;){var h=f(e,Fe.y-1-t),r=i[t*Fe.x+e],o=h.add(f(.5));switch(r){case 1:new Ot(o);continue;case 3:Ae=o;continue;case 7:Ee=o;continue;case 8:Le(h,0,r),pt(h,Oe),s.setData(h,new mt(r-1));break;case 9:case 6:Le(h,0,r),pt(h,je);let t=0,e=0;6==r&&(t=d(4),e=d(2)),s.setData(h,new mt(r-1,t,!!e))}}s.redraw(),Me=new oi,Ne(),We=kt}function Ne(){Be&&Be.destroy(),Be=new si(Ae)}var Xe=[[]],Ke=0,Je=[[1,0,43,.01,.5,.5,,.5],[20,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02],[1,0,77,,.3,.7,2,.41,,,,,,,,.06],[2,,400,,,.5,2,.1,,1,,,,2.5,,.5,,.5,.1]],Ge=[],He=[Ge,Xe,[1],80];function qe(t,e,i,s,h){var r=[];r.push(t),r.push(e);for(const t of h)for(const e of s)r.push(i+e+t);return r}function Ve(t){return"number"==typeof t&&!isNaN(t)}let Ye=[0,2,4,7,9,12,14,16,19,21,24];function Ue(s,e=5,i=5,h,r){s=s.slice();for(let t=0;t<e;t++){var o=h.int(s.length-1),a=o+1,n=s[o];s[o]=s[a],s[a]=n}var l,c=[];for(let t=0;t<i;t++){let t,e;for(;t=h.int(s.length),!Ve(e=s[t]-r)||~c.indexOf(t););c.push(t);let i=Ye.indexOf(e);0==i?i++:i==Ye.length-1?i--:i+=h.float()<.5?1:-1,s[t]=Ye[i]+r,l=Ve(s[t]),ni||l||console.error("ASSERT FAILED: ","[Like, some error]")}return s}var Qe=.2,Ze=!0,$e=0;function _e(a){{var n,l=a;const v=new m(376176+9999*(l+1));ei=v.float(4,5),Ge=[];for(const l of Je)Ge.push(l.slice());for(let t=0;t<Ge.length;t++){var c=d=void 0,d=Ge[t],c=v;for(let t=4;t<d.length;t++)"number"==typeof d[t]&&(d[t]=c.float(.5*d[t],1.5*d[t]))}for(n in He[0]=Ge)Ge[n]=new rt(Ge[n]);Xe=[[],[]];var u=[0,5,7],p=[0,0];for(let t=0;t<3;t++){var y=u[v.int(3)];p.push(y,y)}let e=[-2,-1,-1,0,0,0,0,1,1,2],i=5,s=Ue([1,0,v.int(0,2),v.int(0,2),1,0,v.int(0,2),v.int(0,2)],10,0,v),h=[];for(let t=0;t<2*p.length-1;t++)s[t%s.length]?(i=o(i+=e[v.int(10)],0,Ye.length-1),h.push(24+Ye[i])):h.push(void 0);h.push(void 0),a=Ue(h,5,3,v,24),l=Ue(a,5,3,v,24);let t=a.slice(),r=(t.reverse(),[3,0]);r=(r=(r=(r=r.concat(h)).concat(a)).concat(t)).concat(l),Xe[0].push(r);var f=qe(0,-.1,24,a=[0,(l=()=>v.float()<.5?void 0:0)(),l(),l(),0,l(),l(),12],p),g=(Xe[0].push(f),a=qe(0,.1,31,a,p),Xe[0].push(a),Ke=f.length-2,a=Array(p.length).fill(0),f=Array(p.length/2).fill(0),[0,void 0,l(),void 0,0,void 0,l(),void 0]),l=[void 0,l(),0,l(),void 0,l(),0,l(),void 0,l(),0,l(),void 0,void 0,0,0];Xe[0].push(qe(1,0,7,g,a)),Xe[0].push(qe(2,.1,7,l,f))}$e=kt,ti=-1}let ti=-1,ei=5;function ii(t=2){Ge[4].playNotePure(12,0,Qe*t)}class si extends O{constructor(t){super(t,f(.6,.95),I()),this.hitWallTime=kt,this.jumpTime=-1,this.drawSize=f(1.3),this.renderOrder=10,this.walkCyclePercent=0,this.alive=!0,this.setCollision(!0,!0),this.lastBlockXTime=kt,this.friction=1,this.walkFrame=0,this.forceJumpY=.3,this.forceWallJumpX=.15,this.maxXSpeed=.2,this.xAccelGround=.006,this.xSpeed=0,this.jumpBreaked=!1,this.jumpingOffScreen=!1,this.doFlap=!1,this.groundTime=-1}jump(t=!1){this.doFlap=!1,this.jumpTime=kt,t?(this.velocity.x=h(this.velocity.x)*this.forceWallJumpX,this.velocity.y=this.forceJumpY/1.5):(ve.play(this.pos,c(.5,1)),this.velocity.y=this.forceJumpY),pe.play(this.pos),this.hitWallTime=kt-1,Ce(this.pos.add(f(this.mirror?.45:-.45,-.45)),3)}jumpToNextLevel(){this.setCollision(!1,!1,!1);var t=(Fe.y-this.pos.y)/Fe.y;this.forceJumpY=.15+t/4,this.velocity.x/=2,this.jump(),this.jumpingOffScreen=!0,this.gravityScale=.1,this.angleDamping=.9,this.damping=.99,this.doFlap=!1}update(){if(1!=Nt){if(!this.alive)return this.walkFrame=0,this.velocity.x*=.9,this.angle=.1*t+.9*this.angle,super.update();var i;this.angle=this.velocity.x/2,this.jumpingOffScreen?Be.angle/=2:(this.gravityScale=1,this.jumpButtonDown=J("Space")||J(0,1)||q(0),this.jumpButtonPressed=G("Space")||G(0,1)||V(0),this.jumpButtonReleased=Te(),this.groundObject?(this.jumpTime=-1,this.jumpBreaked=!1,this.groundTime=kt,this.doFlap=!1,this.velocity.y=0,this.jumpButtonPressed&&this.jump(),this.velocity.x+=this.mirror?-this.xAccelGround:this.xAccelGround,i=this.velocity.length(),this.walkCyclePercent+=.5*i,this.walkCyclePercent=.01<i?r(this.walkCyclePercent):0,this.walkFrame=2*this.walkCyclePercent|0,this.walkFrame!=this.walkFrameLastFrame&&1==this.walkFrame&&(me.play(this.pos,c(.5),c(.5,1)),Ce(this.pos.add(f(0,-.45)),c(.2))),this.walkFrameLastFrame=this.walkFrame,!this.onGroundLastFrame&&this.velocityLastFrame.y<-.1&&(i=5*e(this.velocityLastFrame.y),ye.play(this.pos,i),Ce(this.pos.add(f(0,-.5))))):(-1==this.jumpTime&&(kt-this.groundTime<.1?this.jumpButtonPressed&&this.jump():this.jumpTime=kt-.1),0<this.jumpTime&&(kt-this.hitWallTime<.1&&this.jumpButtonDown&&this.jump(!0),i=kt-this.jumpTime,this.jumpBreaked?.1<e(this.velocity.x)&&(this.velocity.x*=.96):this.jumpButtonReleased&&(ye.play(this.pos),0<this.velocity.y&&(this.velocity.y=0),this.gravityScale=1.5,this.jumpBreaked=!0),.25<i?(this.jumpButtonPressed||this.doFlap)&&(ve.play(this.pos,c(.5,1)),this.jumpTime=kt,this.jumpBreaked=!1,this.velocity.y=.12,this.velocity.x+=this.mirror?-.2:.2,this.gravityScale=1,ye.play(this.pos),Ce(this.pos),this.doFlap=!1):.1<i&&this.jumpButtonPressed&&(this.doFlap=!0))),this.velocity.x=o(this.velocity.x,-this.maxXSpeed,this.maxXSpeed),this.xSpeed=this.velocity.x,this.onGroundLastFrame=this.groundObject,this.jumpButtonDownLastFrame=this.jumpButtonDown,this.velocityLastFrame=this.velocity.copy()),super.update()}}render(){}onNewBeat(t){this.jumpingOffScreen&&t%2==0&&(this.doFlap=!0)}renderTop(){let e,i=this.pos;i=i.add(f(0,(this.drawSize.y-this.size.y)/6)),this.jumpingOffScreen?this.doFlap&&(this.jumpBreaked?(this.tileInfo=Rt.playerWalk.frame(0),this.jumpBreaked=!1):(this.tileInfo=Rt.playerJump,e=c(.1,.25),Be.applyForce(f(Be.mirror?-e:e,e/2)),Be.angleVelocity+=c(-.1,.1),ve.play(this.pos,2*e,.9+e),this.jumpBreaked=!0),this.doFlap=!1):this.alive?this.groundObject?(this.tileInfo=Rt.playerWalk.frame(this.walkFrame),i=i.add(f(0,.1*Math.sin(this.walkCyclePercent*t)))):this.jumpBreaked?this.tileInfo=Rt.playerWalk.frame(0):this.tileInfo=Rt.playerJump:this.tileInfo=Rt.playerJump,1==Nt&&(this.tileInfo=Rt.playerWalk.frame(0)),N(i,this.drawSize,this.tileInfo,this.color,this.angle,this.mirror)}kill(t=!1){this.alive&&(ge.play(this.pos),ke(this.pos,100),setTimeout(()=>ve.play(this.pos,2,.8),200),this.alive=!1,this.size=this.size.scale(.5),this.angleDamping=.9,this.renderOrder=-1,this.setCollision(!1,!1),Gt--,setTimeout(()=>{0==Gt?se(1):(Ne(),t&&(We=kt))},1e3))}onBlockedX(){kt-this.lastBlockXTime<.1||(this.lastBlockXTime=kt,this.mirror=!this.mirror,this.velocity.x=-this.xSpeed/3,this.hitWallTime=kt,ye.play(this.pos),Ce(this.pos.add(f(this.mirror?.5:-.5,0))))}collideWithTile(t,e){return t==Oe&&this.kill(!0),!0}}function hi(){return 0|localStorage.hiscore}function ri(t){return t>hi()&&(localStorage.hiscore=t,!0)}class oi extends O{constructor(){super(),this.renderOrder=-1e4,this.seed=d(1e9),this.skyColor=v(0,0,.3),this.horizonColor=v(.2,0,0)}render(){var t=A.createLinearGradient(0,0,0,B.height),e=(t.addColorStop(0,this.skyColor),t.addColorStop(1,this.horizonColor),A.save(),A.fillStyle=t,A.fillRect(0,0,B.width,B.height),A.globalCompositeOperation="lighter",new m(this.seed));for(let t=100+Math.floor(B.width*B.height/1500);t--;){var i=e.float(.5,2)**2,s=e.float()<.95?e.float(-3,3):e.float(-99,99),h=w(e.float(-.3,.2),e.float(),e.float()),o=B.width+100,a=B.height+100,n=3*i,o=f(r(e.float(o)+kt*s-S.x*n,o)-50,r(e.float(a)+kt*s*e.float()+S.y*n,a)-50);A.fillStyle=h,A.fillRect(o.x,o.y,i,i)}A.restore()}}let ai=[{w:32,h:20,d:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,3,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,1,1,1,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0]},{w:19,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,6,6,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:27,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:30,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,6,6,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,3,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:21,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,3,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,0,0,0,0,0,0,6,8,8,8,8,8,8,8,8,8,8,8,8,8,6,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:20,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,7,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,6,6,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,8,8,8,6,6,6,6,8,8,8,6,6,6,6,8,8,8,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,9,9,9,6,9,6,6,6,9,9,9,6,9,9,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,6,6,6,9,6,9,6,9,6,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,9,6,6,9,6,6,6,9,9,9,6,9,9,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,6,6,6,9,6,9,6,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,9,9,6,9,6,9,6,9,6,6,6,6,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,6,6,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,0,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,9,9,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,3,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,6,6,0,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:31,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,3,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,9,9,9,9,9,9,9,9,9,9,6,8,8,8,8,8,8,8,6,9,9,9,9,9,9,9,9,9,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:18,d:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]}];const ni=!0;class li extends O{static gravity=10;static liveRockets=new Set;static destroyAllLive(){for(const t of li.liveRockets)t.destroy();li.liveRockets=new Set}static spawnRandom(){var t;5<=li.liveRockets.size||(t=li.liveRockets.size/5,c()*t*20<Math.sin(kt)*Math.cos(kt/2.123)&&new li)}constructor(){super(f(c(1.2*B.width),B.height),f(4,20),void 0,0,Bt.grey,1e5),this.setCollision(!1,!1,!1);var t=B.height/75,e=(li.gravity=B.height/1e4,c(.8,1.2));this.velocity=f(c(-1,1),-t*e),this.explodeTime=kt+c(1,2),li.liveRockets.add(this),this.renderOrder=-1e3,this.rocketSize=c(1,3),be.play(this.pos,this.rocketSize/10,2*e)}update(){var e,i,s,h,r,o,a,n,l,d,u;this.velocity.y+=li.gravity,this.pos=this.pos.add(this.velocity),this.angle=-this.velocity.angle(),kt>this.explodeTime&&(li.liveRockets.delete(this),this.destroy(),e=w(c(1),1,.5),te+=4*this.rocketSize,setTimeout(()=>{re(this.rocketSize-1),we.play(this.pos,this.rocketSize/3)},1e3/this.rocketSize),i=100*this.rocketSize*c(.5,1.5),s=2*this.rocketSize*c(.5,1.5),h=.2*this.rocketSize*c(.5,1.5),r=c(.08,.15)*this.rocketSize,o=c(.1,.5),a=c(.1,.2),n=c(.2,.5),d=l=(9+this.rocketSize/3)/10,u=c(.005,.2),new gt(L(this.pos),0,0,.2,i,2*t,void 0,Bt.white,e,e,e,s,h,0,r,o,l,1,u,t,a,n,!1,!1,!0,this.renderOrder),new gt(L(this.pos),0,0,.2,i,2*t,void 0,e,Bt.white,Bt.black,Bt.black,s/2,h/5,0,r,o,d,1,u,t,a,n,!1,!1,!0,this.renderOrder).trailScale=c(5,15),new gt(L(this.pos),0,1,.1,200,2*t,void 0,Bt.white,Bt.white,Bt.white,Bt.white,.25,this.rocketSize,0,.001,.1,.99,1,0,t,.9,.1,!1,!1,!0,this.renderOrder))}render(){X(L(this.pos),this.size.scale(.04),this.color,this.angle)}}</script>
