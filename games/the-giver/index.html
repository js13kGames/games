<!doctype html><meta name=viewport content="width=device-width"><title>The Giver - js13kGames 2025</title><style>.cat-img,.cat-img *{user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;pointer-events:auto}html{background:#fff}body{background:#fff;text-align:center;display:flex;flex-direction:row}@media (min-height:600px){body{flex-direction:column}}section{min-width:200px;margin:10px 10px}.title{font-family:'Segoe UI',Arial,sans-serif;font-size:2.5em;color:#000;letter-spacing:2px;margin:10px 0 5px 0;xtext-shadow:1px 2px 8px #ffe08299,0 1px 0 #fffbe7;font-weight:700}.subtitle{font-family:'Segoe UI',Arial,sans-serif;font-size:1.5em;color:#000;margin:5px 0 10px 0}.cat{margin:0 auto;position:relative;width:400px;height:250px}#cat-img{width:400px;height:250px;position:absolute;top:0;left:0;z-index:0;user-select:none;-webkit-user-drag:none;user-drag:none}.cat-area{cursor:pointer;pointer-events:all;user-select:none;touch-action:none;position:absolute;z-index:1}.item{position:absolute;width:60px;height:60px;z-index:10;pointer-events:none}.item.animate{display:block;animation:item-fly 1.2s cubic-bezier(.5,1.5,.5,1) forwards}.item{filter:drop-shadow(-1px 0 0 #ffffff) drop-shadow(1px 0 0 #ffffff) drop-shadow(0 -1px 0 #ffffff) drop-shadow(0 1px 0 #ffffff)}.cat-area:focus,.cat-area:hover{xbackground-color:rgb(255 255 0 / .1)}.cat-area:active{xbackground-color:rgb(255 165 0 / .2)}#inventory ul{margin:0 auto;width:200px;text-align:left;list-style:none;padding:0}#inventory li{margin:5px 0}</style><section><h1 class=title>The Giver</h1><div class=subtitle id=message></div></section><section><div class=cat draggable=false style=-webkit-user-drag:none;user-drag:none><div id=cat-img alt=cat draggable=false></div><div class=cat-area data-area=H style=position:absolute;left:0;top:10px;width:133px;height:210px tabindex=-1></div><div class=cat-area data-area=C style=position:absolute;left:133px;top:60px;width:134px;height:120px tabindex=-1></div><div class=cat-area data-area=B style=position:absolute;left:267px;top:60px;width:133px;height:120px tabindex=-1></div><div class=cat-area data-area=X style=position:absolute;left:90px;top:180px;width:160px;height:80px tabindex=-1></div><div class=cat-area xdata-area=L style=position:absolute;left:250px;top:180px;width:133px;height:80px tabindex=-1></div><div id=items></div></div></section><section><div id=actions style=height:20px></div><div><span id=level></span> <span id=progress></span></div><div id=found></div><details id=inventory-wrapper><summary>Show Inventory</summary><div id=inventory></div></details></section><script>let e="playing",t="",n=1,o=null;const a=[0,2,5,8,12,15,18,21,24,28];let i={fish:{pattern:"C",src:"fish.gif"},ball:{pattern:"HC",src:"ball.gif"},mouse:{pattern:"HB",src:"mouse.gif"}};i=function(){const e="\nname,pattern,image,x,y\nBag,BCBC,,0,0\nPencil,BCBCBC,,0,40\nChickenHead,BCBCH,,0,80\nFish,BCH,,0,120\nGlitter,BCHC,,0,160\nGlueStick,BCHB,,40,0\nRubber band,BCHCB,,40,40\nFrog,BCHBCH,,40,80\nLitter,BCHCH,,40,120\nFruit,BCHCHC,,40,160\nBall,CB,,80,0\nArmyMan,CBCB,,80,40\nFlag,CBCBCB,,80,80\nWorm,CBCBCBCB,,80,120\nWater,CBCH,,80,160\nApple,HBHB,,0,200\nMouse,CH,,40,200\nShoe,CHCH,,80,200\nBouncyBall,HBCB,,0,240\nDice,HBHBHB,,40,240\nHairBall1,HCB,,80,240\nGrass,HCBC,,120,0\nGrapes,HCBCB,,120,40\nHairBall2,HCBHCB,,120,240\nLeaf,HCH,,120,80\nKeys,HCHC,,120,120\nToy,HCHCH,,120,160\nLego,HCHCB,,120,200\nKeyboardKey,HCHCHC,,160,0\n\n".trim().split("\n"),t=(e[0].split(","),{});for(let n=1;n<e.length;n++){const o={},a=e[n].split(","),i=a[0];o.name=a[0],o.pattern=a[1],o.src=a[2],o.x=parseInt(a[3])||0,o.y=parseInt(a[4])||0,t[i]=o}return t}();const r=["You died! Never pet a cat's belly.","You died! The cat didn't like that.","You died! Soft belly = death.","You died! Cat tricked you into petting its belly."],l=[];function c(n){"lost"!==e&&n&&(console.log(n),t.slice(-1)!=n&&(t+=n),t.includes("X")?(e="lost",function(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.type="square",t.frequency.setValueAtTime(120,e.currentTime),n.gain.setValueAtTime(.2,e.currentTime),t.connect(n),n.connect(e.destination),t.start(),t.stop(e.currentTime+.7),t.onended=()=>{e.close()}}(),m()):m())}function s(){"lost"!==e&&(function(e){if(0===e.length)return;const t=function(e){for(const t of Object.values(i))if(e===t.pattern)return t;return null}(e);if(t){console.log(`Pattern matched: ${t}`),function(e){if(!e)return;let t=!e.image;const n=document.querySelector("#items");if(!n)return;let o;if(t){const t={x:e.x||0,y:e.y||0,w:e.w||40,h:e.h||40};o=document.createElement("div"),o.className="item animated-item sprite-item";const n=e.spriteSheet||"item-spritesheet.gif",a=t;o.style.backgroundImage=`url('${n}')`,o.style.backgroundPosition=`-${a.x}px -${a.y}px`,o.style.width=a.w+"px",o.style.height=a.h+"px",o.style.position="absolute",o.style.top="100px",o.style.left="20px",o.style.opacity="1",o.style.transform="scale(1) rotate(-20deg)"}else{const t=""+(e.src||e.name.toLowerCase()+".gif");o=document.createElement("img"),o.src=t,o.alt=e.name,o.className="item animated-item",o.style.position="absolute",o.style.top="100px",o.style.left="20px",o.style.opacity="1",o.style.transform="scale(1) rotate(-20deg)"}n.appendChild(o);const a=Math.floor(301*Math.random())+-180,i=Math.floor(81*Math.random())+190;o.animate([{top:"120px",left:"30px",opacity:1,transform:"scale(1) rotate(-20deg)"},{top:i+"px",left:a+"px",opacity:1,transform:"scale(1.2) rotate(0deg)"}],{duration:1200,easing:"cubic-bezier(.5,1.5,.5,1)",fill:"forwards"})}(t),o=t.name;const e=l.find(e=>e.name===t.name);e?e.count++:l.push({name:t.name,count:1}),function(){const e=new(window.AudioContext||window.webkitAudioContext),t=.6+.3*Math.random(),n=e.createOscillator(),o=e.createGain(),a=["triangle","sawtooth","square"],i=a[Math.floor(Math.random()*a.length)];n.type=i;const r=500+300*Math.random(),l=60+40*Math.random(),c=20+40*Math.random(),s=.4+.3*Math.random(),u=.6+.3*Math.random(),m=.15+.15*Math.random(),d=t*(.5+.3*Math.random()),p=.1+.1*Math.random();console.log("[coughAudio] options:",{duration:t,oscType:i,startFreq:r,midFreq:l,endFreq:c,startGain:s,peakGain:u,endGain:m,midTime:d,peakTime:p}),n.frequency.setValueAtTime(r,e.currentTime),n.frequency.linearRampToValueAtTime(l,e.currentTime+d),n.frequency.linearRampToValueAtTime(c,e.currentTime+t),o.gain.setValueAtTime(s,e.currentTime),o.gain.linearRampToValueAtTime(u,e.currentTime+p),o.gain.linearRampToValueAtTime(m,e.currentTime+t),n.connect(o),o.connect(e.destination),n.start(),n.stop(e.currentTime+t),n.onended=()=>e.close()}()}else o=null,function(){const e=new(window.AudioContext||window.webkitAudioContext),t=.11+.09*Math.random(),n=e.createOscillator(),o=e.createGain(),a=["square","triangle"],i=a[Math.floor(Math.random()*a.length)];n.type=i;const r=350+120*Math.random(),l=700+180*Math.random(),c=140+80*Math.random(),s=.04+.06*Math.random(),u=.09+.09*Math.random(),m=.22+.12*Math.random(),d=.08+.12*Math.random();console.log("[meowAudio - meow] options:",{duration:t,oscType:i,startFreq:r,peakFreq:l,endFreq:c,upTime:s,downTime:u,peakGain:m,midGain:d}),n.frequency.setValueAtTime(r,e.currentTime),n.frequency.linearRampToValueAtTime(l,e.currentTime+s),n.frequency.linearRampToValueAtTime(c,e.currentTime+t),o.gain.setValueAtTime(.001,e.currentTime),o.gain.linearRampToValueAtTime(m,e.currentTime+.7*s),o.gain.linearRampToValueAtTime(d,e.currentTime+s+u),o.gain.linearRampToValueAtTime(.001,e.currentTime+t),n.connect(o),o.connect(e.destination),n.start(),n.stop(e.currentTime+t),n.onended=()=>e.close()}()}(t),n<9&&l.length>=a[n]&&(n++,function(){console.log("[levelUpAudio] Playing level up audio");const e=new(window.AudioContext||window.webkitAudioContext),t=[523.25,659.25,783.99,659.25,783.99],n=.14,o=e.createGain();o.gain.setValueAtTime(.5,e.currentTime),o.connect(e.destination),t.forEach((a,i)=>{const r=e.createOscillator();r.type="square",r.frequency.setValueAtTime(a,e.currentTime+i*n),r.connect(o),r.start(e.currentTime+i*n),r.stop(e.currentTime+(i+1)*n),r.onended=()=>{i===t.length-1&&e.close()}})}(),9===n&&(function(){const e=new(window.AudioContext||window.webkitAudioContext),t=[523.25,659.25,783.99,1046.5,1318.5,1567.98,1975.53,2093,1567.98,1318.5,1046.5],n=[.13,.13,.13,.13,.13,.13,.13,.18,.09,.09,.22],o=e.createGain();o.gain.setValueAtTime(.5,e.currentTime),o.connect(e.destination);let a=e.currentTime;t.forEach((i,r)=>{const l=e.createOscillator();l.type=r<7?"triangle":"square",l.frequency.setValueAtTime(i,a),l.connect(o),l.start(a),l.stop(a+n[r]),l.onended=()=>{r===t.length-1&&e.close()},a+=n[r]})}(),e="won")),m())}function u(){"lost"===e&&(e="playing",l.length=0,n=1,document.querySelectorAll("#items div").forEach(e=>e.remove()),t="",m()),t=""}function m(){if(document.getElementById("level").innerHTML=`Level: ${n}`,document.getElementById("progress").innerHTML=`- ${l.length}/${a[n]}`,document.getElementById("inventory").innerHTML=`\n    <ul>\n    ${l.map(e=>`<li>(x${e.count}) - ${e.name} - ${i[e.name].pattern}</li>`).join(" ")}\n    </ul>`,"lost"===e){const e=r[Math.floor(Math.random()*r.length)];document.getElementById("message").innerHTML=`<span style="color: red;">${e}</span>`}else document.getElementById("message").innerHTML="won"===e?'<span style="color: green;">You won!</span>':o?`<span>Found: ${o}</span>`:"<span>Pet the cat!</span>";document.getElementById("actions").innerHTML=t;const c=document.getElementById("cat-img");c.style.backgroundImage="url('cat-spritesheet.gif')",c.style.backgroundRepeat="no-repeat",c.style.width="400px",c.style.height="250px";const s={C:{x:0,y:0},X:{x:0,y:200},B:{x:0,y:400},H:{x:0,y:600},L:{x:0,y:800},default:{x:0,y:0}};let u=s.default;const m=t[t.length-1];"lost"===e?u=s.X:s[m]&&(u=s[m]),c.style.backgroundPosition=`-${u.x*(400/300)}px -${1.25*u.y}px`,c.style.backgroundSize="400px 1000px",c.hasAttribute("src")&&c.removeAttribute("src")}(function(){let e=!1,t=null,n=null;function o(e){const t=document.elementFromPoint(e.clientX,e.clientY);return t&&t.classList&&t.classList.contains("cat-area")?t.getAttribute("data-area"):null}window.addEventListener("pointerdown",function(a){e=!0,t=a.pointerId;const i=o(a);u(),i&&c(i),n=i}),window.addEventListener("pointerup",function(o){e&&t===o.pointerId&&(e=!1,t=null,n=null,s())}),window.addEventListener("pointercancel",function(o){e&&t===o.pointerId&&(e=!1,t=null,n=null)}),window.addEventListener("pointermove",function(a){if(!e||t!==a.pointerId)return;const i=o(a);i!==n&&(i&&c(i),n=i)})})(),m()</script>