<!doctype html><meta name=viewport content="width=device-width"><title>Galaxy Trip - js13kGames 2012</title><body><script>WIDTH=window.innerWidth,HEIGHT=window.innerHeight,DIAGONAL=Math.sqrt(WIDTH*WIDTH+HEIGHT*HEIGHT),DEGREE=Math.PI/180,IS_ANDROID=/Android/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),BODIES_LENGTH=DIAGONAL/20,GRAVITY_AREA_TO_RADIUS=2,SHIELD_AREA_TO_RADIUS=5/3,MIN_BODY_RADIUS=5,MAX_BODY_RADIUS=80,PLAYER_MAX_RADIUS=25,VELOCITY_REDUCE_ON_IMPULSE=3,GRAVITY_FACTOR=3e5,RADIUS_REDUCE_TO_POWER=12,RADIUS_ABSORB=10,MAX_POWER=PLAYER_START_RADIUS=15,DRAW_GRAVITY_AREA=!0,MAX_RADIUS_SHIELD_DURATION=5e3,STATIC_VELOCITY_Y=STATIC_VELOCITY_X=1,MIN_POWER_FOR_ACCELERATION=.35;var t,e,i,s,h,a,r,o,l,d,A,n=document.createElement("div"),f=document.createElement("canvas"),c=f.getContext("2d"),I={game:f,message:document.createElement("canvas"),start:document.createElement("canvas"),end:document.createElement("canvas")},g=I.message.getContext("2d"),u=[],T=null,D=0,y=0,H=0,E=+new Date,w=[G({gradientDark:"#26addd",gradientLight:"#2bc0e6",gradientLighter:"#6bd3ed",core:"#fff000"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#429900",gradientLight:"#92CD00",gradientLighter:"#b3dc4d",core:"#ffd800"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#ff0000",gradientLight:"#ff5a19",gradientLighter:"#ff8b5e",core:"#ffe719"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#ffcc00",gradientLight:"#fffc00",gradientLighter:"#fffd4d",core:"#26addd"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#ffa200",gradientLight:"#ffde00",gradientLighter:"#ffe84d",core:"#ff0000"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#ba00ff",gradientLight:"#ff00f0",gradientLighter:"#ff4df4",core:"#fff"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1)),G({gradientDark:"#333",gradientLight:"#666",gradientLighter:"#999",core:"#fff"},Math.floor(10*Math.random()+1),Math.floor(10*Math.random()+1))],M={share:{text:"Share",width:N(WIDTH/6),height:N(WIDTH/8),offsetRight:N(WIDTH/100),offsetBottom:10,action:function(){window.open("http://www.facebook.com/sharer/sharer.php?u="+window.location)},isClicked:function(t,e){return U(WIDTH-this.width-this.offsetRight,HEIGHT-this.height-this.offsetBottom,this.width,this.height,t,e)},draw:function(){this.width=N(WIDTH/6),this.height=N(WIDTH/8),this.offsetRight="Tweet"===this.text?23*N(WIDTH/100):N(WIDTH/100);var t=this,e=I.end.getContext("2d"),i=WIDTH-t.width-t.offsetRight,s=HEIGHT-t.height-t.offsetBottom;e.clearRect(i-10,s-10,this.width+20,this.height+20),e.fillStyle="rgba(0,0,0,0.1)",e.strokeStyle="rgba(0,0,0,0.5)",e.fillRect(i,s,this.width,this.height),e.strokeRect(i-2,s-2,this.width+4,this.height+4),e.fillStyle="#fff",e.strokeStyle="#666",e.lineWidth=.5,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=10,e.shadowColor="rgba(0,0,0,0.3)",e.fillRect(2+i,2+s,this.width-4,this.height-4),e.strokeRect(2+i,2+s,this.width-4,this.height-4),e.shadowOffsetX=1,e.shadowOffsetY=1,e.shadowBlur=0,e.font="bold "+N(WIDTH/30)+"px Verdana",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#333",e.fillText(t.text,i+this.width/2,s+this.height/2,this.width)}},tweet:{text:"Tweet",width:N(WIDTH/6),height:N(WIDTH/8),offsetRight:23*N(WIDTH/100),offsetBottom:10,action:function(){window.open("https://twitter.com/intent/tweet?source=webclient&text=I made score "+H+" on Galaxy Trip("+window.location.href+")!")},isClicked:function(){return M.share.isClicked.apply(this,arguments)},draw:function(){return M.share.draw.apply(this,arguments)}},shield:{width:N(WIDTH/6),height:N(WIDTH/8),offsetRight:-N(WIDTH/100),offsetBottom:10,action:function(){T.shield?(T.stopShield(),this.fill="yellow"):(T.startShield(),this.fill="orange"),this.draw()},draw:function(){this.width=N(WIDTH/6),this.height=N(WIDTH/8),this.offsetRight=-N(WIDTH/100);var t=g,e=-this.offsetRight,i=HEIGHT-this.height-this.offsetBottom;t.clearRect(e-10,i-10,this.width+20,this.height+20),t.fillStyle="rgba(0,0,0,0.1)",t.strokeStyle="rgba(0,0,0,0.5)",t.fillRect(e,i,this.width,this.height),t.strokeRect(e-2,i-2,this.width+4,this.height+4),t.fillStyle="#fff",t.strokeStyle="#666",t.lineWidth=.5,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=10,t.shadowColor="rgba(0,0,0,0.3)",t.fillRect(2+e,2+i,this.width-4,this.height-4),t.strokeRect(2+e,2+i,this.width-4,this.height-4),t.shadowOffsetX=1,t.shadowOffsetY=1,t.shadowBlur=0,t.font="bold "+N(WIDTH/30)+"px Verdana",t.textBaseline="middle",t.textAlign="center",T.shield?t.fillStyle="#429900":t.fillStyle="#333",t.fillText("Shield",e+this.width/2,i+this.height/2,this.width)},isClicked:function(t,e){return U(-this.offsetRight,HEIGHT-this.height-this.offsetBottom,this.width,this.height,t,e)}}},R=[],m=function(){var t=Math.random();this.radius=5+Y(75),this.gravityRadius=2*this.radius,this.shieldRadius=1.6666666666666667*this.radius,this.x=this.startX=this.cx=D+2*this.radius+Y(WIDTH-2*this.radius),this.y=this.startY=this.cy=y+2*this.radius+Y(HEIGHT-2*this.radius),t<=.33?this.x+=WIDTH:(t<=.66||(this.x+=WIDTH),this.y+=HEIGHT),this.visible=!1,this.velocityX=.05*Math.random()*(.5<Math.random()?1:-1),this.velocityY=.05*Math.random()*(.5<Math.random()?1:-1),this.model=function t(){return w[Math.floor(Math.random()*w.length)]||t()}(),this.shield=0,this.shieldEnd=0,this.shieldDuration=0,this.shieldTimer=null};function B(){for(t=-1;++t<BODIES_LENGTH;)u.push(x());u.push(T)}function p(){var t=I.start.getContext("2d");t.clearRect(0,0,WIDTH,HEIGHT),t.fillStyle="rgba(0,0,0,0.1)",t.strokeStyle="rgba(0,0,0,0.5)",t.fillRect(WIDTH/2-250,HEIGHT/2-150,500,300),t.strokeRect(WIDTH/2-252,HEIGHT/2-152,504,304),t.fillStyle="#fff",t.strokeStyle="#666",t.lineWidth=.5,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=10,t.shadowColor="rgba(0,0,0,0.3)",t.fillRect(WIDTH/2-240,HEIGHT/2-140,480,280),t.strokeRect(WIDTH/2-240,HEIGHT/2-140,480,280),t.shadowOffsetX=1,t.shadowOffsetY=1,t.shadowBlur=0,t.font="bold 33px Verdana",t.textBaseline="middle",t.textAlign="center",t.fillStyle="#EE3C7E",t.fillText("Galaxy Trip",WIDTH/2,HEIGHT/2-80,WIDTH/2),t.fillStyle="#333",t.fillText("Click to start game",WIDTH/2,HEIGHT/2+60,WIDTH/2),t.drawImage(b(),WIDTH/2-30,HEIGHT/2-40)}function v(){(s=I.end.getContext("2d")).clearRect(0,0,WIDTH,HEIGHT),s.fillStyle="rgba(0,0,0,0.1)",s.strokeStyle="rgba(0,0,0,0.5)",s.fillRect(WIDTH/2-250,HEIGHT/2-150,500,300),s.strokeRect(WIDTH/2-252,HEIGHT/2-152,504,304),s.fillStyle="#fff",s.strokeStyle="#666",s.lineWidth=.5,s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=10,s.shadowColor="rgba(0,0,0,0.3)",s.fillRect(WIDTH/2-240,HEIGHT/2-140,480,280),s.strokeRect(WIDTH/2-240,HEIGHT/2-140,480,280),s.shadowOffsetX=1,s.shadowOffsetY=1,s.shadowBlur=0,s.font="bold 32px Verdana",s.textBaseline="middle",s.textAlign="center",s.fillStyle="#EE3C7E",s.fillText("Your final result: "+H,WIDTH/2,HEIGHT/2-90,WIDTH/2),s.fillStyle="#333",s.fillText("Click to start a new game",WIDTH/2,HEIGHT/2+60,WIDTH/2),s.drawImage(T.model,WIDTH/2-30,HEIGHT/2-40),M.share.draw(),M.tweet.draw(),L(I.end)}function C(){for(requestAnimationFrame(C,f),E=+new Date,c.clearRect(0,0,WIDTH,HEIGHT),t=-1;e=u[++t];)e.step(),e.visible&&(e.applyGravity(),e.applyReduce());for(25<T.radius&&(T.setRadius(25),T.addShield(5e3)),t=-1;e=u[++t];)e.visible&&e.draw(),(e.radius<=0||e.x+2*e.radius<D||e.y+2*e.radius<y)&&(u[t]=x(),e===T)&&v();for((i=T.x-WIDTH/2)>D&&(D=i),(i=T.y-HEIGHT/2)>y&&(y=i),D+=1,y+=1,t=-1;h=R[++t];)c.drawImage(h.img,h.x[h.pos]-D,h.y[h.pos]-y),h.pos++,void 0===h.x[h.pos]&&R.splice(t--,1)}function x(){for(var t,e=-1,i=u.length,s=new m;++e<i;)if(O((t=u[e]).x,t.y,t.gravityRadius,s.x,s.y,s.gravityRadius))return x();return s}function Q(t,e,i,s,h,a,r){var o,l,d,A,n=2*Math.PI,f=2*i,c=-1,I=-1;for(a=a||D,r=r||y;++c<=i;){for(o=c/i*n,l=Math.sin(o),d=Math.cos(o),A={pos:0,img:s,x:[],y:[]},I=-1;++I<60;)A.x.push(a+t+d*f*(I/60)),A.y.push(r+e+l*f*(I/60));R.push(A)}if(!h)for(c=0;++c<=3;)setTimeout(function(h){return function(){Q(t,e,i*h,s,!0,a,r)}}(c),100*c)}function S(){H=(Math.sqrt(D*D+y*y)/300).toFixed(0),g.clearRect(0,0,WIDTH,100),g.fillStyle="rgba(0, 0, 0, 0.3)",g.strokeStyle="rgba(0, 0, 0, 0.6)",g.fillRect(0,0,WIDTH,40),g.strokeRect(0,0,WIDTH,40),g.fillStyle="white",g.font="bold 12px Verdana",g.textBaseline="middle",g.textAlign="center",g.fillText("Result: "+H,80,20,60),g.fillText("Energy: "+(30*T.radius).toFixed(0),160,20,60),g.fillText("Velocity: "+(60*(Math.abs(T.velocityX)+Math.abs(T.velocityY))).toFixed(0)+"px/s",250,20,80)}function W(){for(var t in WIDTH=window.innerWidth,HEIGHT=window.innerHeight,DIAGONAL=Math.sqrt(WIDTH*WIDTH+HEIGHT*HEIGHT),BODIES_LENGTH=DIAGONAL/20,n.style.width=WIDTH+"px",n.style.height=HEIGHT+"px",I)I.hasOwnProperty(t)&&((s=I[t]).width=WIDTH,s.height=HEIGHT);M.shield.draw(),S(),J(I.end)?v():J(I.start)&&p()}function b(){var t,e=document.createElement("canvas"),i=e.getContext("2d"),s=0,h=((t=i.createRadialGradient(0,0,0,0,0,15)).addColorStop(0,"#33CCCC"),t.addColorStop(1,"#FFFFFF"),0);for(e.width=e.height=59,i.translate(29.5,29.5),i.scale(1.5,1.5),i.save(),i.strokeStyle="#EE3C7E",s=0;s<=2*Math.PI;s+=.527)i.beginPath(),i.arc(14*Math.cos(s),14*Math.sin(s),5,0,2*Math.PI,!0),i.stroke();for(i.restore(),i.save(),i.fillStyle=t,i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=15,i.shadowColor="white",i.beginPath(),i.arc(0,0,15,0,2*Math.PI,!0),i.fill(),i.restore(),i.save(),i.strokeStyle="#666",s=2*Math.PI/5;h<5;h++)i.beginPath(),i.moveTo(-6,-5),i.bezierCurveTo(-4,-16,4,-16,6,-5),i.moveTo(-1,-5),i.bezierCurveTo(-4,5,4,5,1,-5),i.stroke(),i.rotate(s);return i.restore(),e}function G(t,e,i){var s,h=document.createElement("canvas"),a=h.getContext("2d"),r=0,o=((s=a.createRadialGradient(0,0,50,0,0,125)).addColorStop(.7,t.gradientLight),s.addColorStop(1,t.gradientDark),0);for(h.width=h.height=250,a.translate(125,125),a.save(),a.fillStyle=s,a.lineWidth=1.5,a.strokeStyle="#333",a.beginPath(),a.arc(0,0,123,0,2*Math.PI,!0),a.closePath(),a.fill(),a.stroke(),a.restore(),a.save(),a.lineWidth=2,a.strokeStyle="#666",r=0;r<=2*Math.PI;r+=.8)a.beginPath(),a.arc(45*Math.cos(r),45*Math.sin(r),60,0,2*Math.PI,!0),a.stroke();for(a.restore(),a.save(),a.fillStyle=t.gradientLight,a.beginPath(),a.arc(0,0,90,0,2*Math.PI,!0),a.fill(),a.fillStyle="rgba(255, 255, 255, 0.3)",a.lineWidth=1.5,a.strokeStyle="rgba(255, 255, 255, 0.8)",a.beginPath(),a.arc(0,0,79,0,2*Math.PI,!0),a.fill(),a.beginPath(),a.arc(0,0,80,0,2*Math.PI,!0),a.stroke(),a.restore(),a.save(),a.scale(1.7,1.7),a.lineWidth=1.5,a.fillStyle=t.gradientLighter,a.strokeStyle=t.core,r=0;r<=2*Math.PI;r+=.527)a.beginPath(),a.arc(19*Math.cos(r),19*Math.sin(r),10,0,2*Math.PI,!0),a.stroke();for(a.beginPath(),a.arc(0,0,25,0,2*Math.PI,!0),a.fill(),a.lineWidth=1,a.strokeStyle="#666",r=2*Math.PI/6;o<6;o++)a.beginPath(),a.moveTo(-e,-5),a.bezierCurveTo(-4,-16,4,-16,e,-5),a.moveTo(-i,-5),a.bezierCurveTo(-4,5,4,5,i,-5),a.stroke(),a.rotate(r);return a.restore(),h}function k(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=1,e.save(),e.fillStyle=P(),e.strokeStyle=P(),e.beginPath(),e.arc(.5,.5,.5,0,2*Math.PI,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),t}function O(t,e,i,s,h,a){return Math.sqrt(Math.pow(h-e,2)+Math.pow(s-t,2))<=i+a}function U(t,e,i,s,h,a){return t<=h&&h<=t+i&&e<=a&&a<=e+s}function P(){return"#"+((1<<24)*Math.random()|0).toString(16)}function Y(t){return.5+Math.random()*t|0}function N(t){return.5+t|0}function L(t){t.style.display="block"}function F(t){t.style.display="none"}function J(t){return"none"!=t.style.display}for(a in m.prototype={setRadius:function(t){this.radius=t=t<0?0:t,this.gravityRadius=2*t,this.shieldRadius=1.6666666666666667*t},draw:function(){var t=this.cx,e=this.cy,i=N(2*this.radius);this.shield&&(c.save(),c.fillStyle="rgba(0, 160, 255, "+((1-Math.pow(1-(this.shieldEnd-E)/this.shieldDuration,6))/5).toFixed(2)+")",c.lineWidth=.5,c.strokeStyle="#33CCCC",c.beginPath(),c.arc(t,e,this.shieldRadius,0,2*Math.PI,!0),c.fill(),c.beginPath(),c.arc(t,e,this.shieldRadius+1.5,0,2*Math.PI,!0),c.stroke(),c.restore()),c.drawImage(this.model,t-this.radius,e-this.radius,i,i),c.save(),(i=c.createRadialGradient(t,e,0,t,e,this.gravityRadius)).addColorStop(0,"rgba(0, 0, 0, 0.0)"),i.addColorStop(1,"rgba(0, 0, 0, 0.03)"),c.fillStyle=i,c.beginPath(),c.arc(t,e,this.gravityRadius,0,2*Math.PI,!0),c.closePath(),c.fill(),c.restore()},step:function(){this.cx=this.x-D,this.cy=this.y-y,this.visible=!(this.cx<-this.radius||this.cx>WIDTH+this.radius||this.cy<-this.radius||this.cy>HEIGHT+this.radius),this.visible&&(this.x+=this.velocityX,this.y+=this.velocityY)},addShield:function(t){var e=this;this.shield||(this.shield=1,this.shieldEnd=E+t,this.shieldDuration=t,this.shieldTimer=setTimeout(function(){e.shield=e.shieldEnd=e.shieldDuration=0,e.shieldTimer=null},t))},startShield:function(){var t,e=this;this.shieldTimer=setInterval(t=function(){e.setRadius(e.radius-e.radius/40-.1),e.shield=1,e.shieldEnd=E+1e4,e.shieldDuration=1e4},250),t()},stopShield:function(){this.shield&&(clearInterval(this.shieldTimer),this.shield=this.shieldEnd=this.shieldDuration=0,this.shieldTimer=null)},impulse:function(t,e){this.velocityX/=3,this.velocityY/=3,this.velocityX+=Math.cos(DEGREE*t)*e,this.velocityY-=Math.sin(DEGREE*t)*e,this.setRadius(this.radius-e/12),.35<e/15&&this.addAcceleration(e/15)},applyGravity:function(){for(var t,e,i,s,h=-1,a=u.length;++h<a;)(t=u[h])!==this&&t.visible&&O(t.x,t.y,t.radius,this.x,this.y,this.gravityRadius)&&t.radius<this.radius&&(e=this.x-t.x,i=this.y-t.y,s=this.radius-t.radius,this.radius,t.velocityX+=e*s/3e5,t.velocityY+=i*s/3e5)},applyReduce:function(){for(var t,e,i,s=-1,h=u.length,a=this.shield?this.shieldRadius:this.radius;++s<h;)if((t=u[s])!==this&&O(t.x,t.y,t.shield?t.shieldRadius:t.radius,this.x,this.y,a)&&t.radius<=this.radius){if(t.shield)return void(this.shield||(Q(this.cx,this.cy,this.radius/4,k()),this.setRadius(0)));if(this.shield){Q(t.cx,t.cy,t.radius/4,k()),t.setRadius(0);continue}i=t.radius,e=Math.sqrt((e=this.x-t.x)*e+(e=this.y-t.y)*e),t.setRadius(e-this.radius),t.radius<5&&t.setRadius(0),this.setRadius(this.radius+(i-t.radius)/10)}},addAcceleration:function(t,e){for(var i,s,h,a,r=3*this.radius*t,o=2*Math.PI,l=k(),d=2*r,A=this,n=-1,f=-1;++n<=r;){for(i=n/r*o,s=Math.sin(i),h=Math.cos(i),a={pos:0,img:l,x:[],y:[]},f=-1;++f<60;)a.x.push(D+this.cx+h*d*(f/60)),a.y.push(y+this.cy+s*d*(f/60));R.push(a)}if(!e)for(n=0;++n<=4;)setTimeout(function(e){return function(){A.addAcceleration(t/e,!0)}}(n),50*n)}},n.style.width=WIDTH+"px",n.style.height=HEIGHT+"px",n.style.overflow="hidden",n.style.position="fixed",n.style.top="0px",n.style.left="0px",n.style.background="transparent url(data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABLAAD/4QNtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6QUQ2M0ExRTVBQUYyRTAxMUEyMTRGN0M5NUJDOTU3RDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTc0QjFCNzcxMzZCMTFFMUFGNEQ4MjRDQTQxRDAwNTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTc0QjFCNzYxMzZCMTFFMUFGNEQ4MjRDQTQxRDAwNTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QThFNzgzOTVGNDMwMTFFMDlDNTQ5OTM4Q0NGNDgxQUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QThFNzgzOTZGNDMwMTFFMDlDNTQ5OTM4Q0NGNDgxQUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94Onht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) repeat top left",n.style.webkitBackfaceVisibility="hidden",n.style.webkitPerspective="1000",n.unselectable="no",n.onselectstart="return false;",n.style.webkitUserSelect="none",n.style.mozUserSelect="none",I)I.hasOwnProperty(a)&&((r=I[a]).width=WIDTH,r.height=HEIGHT,r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.display="none",r.style.width="100%",r.style.height="100%",r.style.webkitBackfaceVisibility="hidden",r.style.webkitPerspective="1000",r.unselectable="no",r.onselectstart="return false;",n.appendChild(r));var V=I.start,z=(V.getContext("2d"),p(),V.addEventListener("click",function(t){F(V),C(),setInterval(function(){requestAnimationFrame(S,I.message),window.scrollTo(0,IS_ANDROID?1:0),document.documentElement.style.minHeight="5000px"},1e3),M.shield.draw(),S()},!1),I.end);z.getContext("2d"),z.addEventListener("click",function(t){var e=t.pageX-n.offsetLeft;return t=t.pageY-n.offsetTop,M.share.isClicked(e,t)?M.share.action():M.tweet.isClicked(e,t)?M.tweet.action():(F(z),T.x=T.startX,T.y=T.startY,T.velocityX=T.velocityY=0,T.stopShield(),T.setRadius(15),D=y=0,u=[],B()),!1},!1),document.documentElement.style.overflow="hidden",window.addEventListener("orientationchange",W,!1),window.addEventListener("resize",W,!1),document.body.addEventListener("touchmove",function(t){t.preventDefault()},!1),document.documentElement.appendChild(n),(T=new m).setRadius(15),T.x=T.startX=WIDTH/2,T.y=T.startY=HEIGHT/2,T.model=b(),I.message.addEventListener("click",function(t){var e=t.pageX-n.offsetLeft,i=t.pageY-n.offsetTop;if(M.shield.isClicked(e,i))return M.shield.action(),!1;o=e+D-T.x,l=i+y-T.y,d=Math.sqrt(o*o+l*l),A=Math.abs(l)/d,A=180*Math.asin(A)/Math.PI,o<0&&l<0?A=180-A:o<0&&0<l?A=270-A:0<o&&0<l&&(A=360-A),T.impulse(A,d/DIAGONAL*15),t.preventDefault()}),B(),L(I.start),L(I.message),L(I.game)</script>