<!doctype html><meta content="width=device-width" name=viewport><title>Steamshot 13 - js13kGames 2024</title><style>body{margin:0;padding:0}.tmp{color:#a390cf}.panel{position:absolute;width:50%;left:50%;top:-50%;transform:translateX(-50%) translateY(-60%);z-index:1000;border:10px solid #d3b784;text-align:center;background-image:linear-gradient(135deg,#2b2a2a 25%,#3e3d3d 25%,#3e3d3d 50%,#2b2a2a 50%,#2b2a2a 75%,#3e3d3d 75%,#3e3d3d 100%);background-size:50px 50px;padding:10px 40px;color:#d0b790;font-family:Times,serif;font-size:30px;display:block;box-shadow:0 0 15px rgba(0,0,0,.7);transition:top 1s}.panel p{color:#a39681}table{font-weight:bolder;width:100%}table td:first-child{text-align:right;width:50%;padding:0 20px 0 20px}table td{text-align:left;padding:0 20px 0 20px}.button{font-size:1.2em;background-color:#5e4b2f;color:#d3b784;border:2px solid #a38e6f;padding:10px 20px;cursor:pointer;text-transform:uppercase;box-shadow:0 0 10px rgba(0,0,0,.5);transition:background-color .3s,box-shadow .3s}.button:hover{background-color:#a38e6f;box-shadow:0 0 20px rgba(0,0,0,.7)}input{margin:0 0 10px 0;width:300px;padding:10px 15px;font-size:1.2em;background-color:#3e3d3d;color:#d3b784;border:2px solid #5e4b2f;border-radius:10px;box-shadow:inset 0 0 10px #000,0 0 10px #000;outline:0;transition:border-color .3s,box-shadow .3s}input:focus{border-color:#a38e6f;box-shadow:inset 0 0 15px #5e4b2f,0 0 15px #000;background-color:#2b2a2a}.title{font-size:2em;margin:0;text-shadow:3px 3px #5e4b2f}</style><div id=openingPanel class=panel style=display:block><img id=ballPic width=128px height=128px><h1 class=title>STEAMSHOT 13</h1><p>Don't let a 13 ball pass. Score points with a green ball hit. Lose points if you hit a red ball. How long can you survive?<h3>Instructions</h3><p>Shoot with the trigger<br>Press the button below to PLAY</div><div id=gameoverPanel class=panel style=display:block><h1 class=title>GAMEOVER</h1><p id=details></p><input id=name placeholder="Enter your name"> <button class=button onclick=showLeaderboard()>LEADERBOARD</button></div><div id=leaderboardPanel class=panel style=display:block><h1>LEADERBOARD</h1><p id=leaderboard></p><button class=button onclick=showGameover()>BACK</button></div><script type=module>import*as d from"/2024/webxr/three.js";var s={d:(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};s.d({},{g:()=>f});const o="data:image/svg+xml, %3Csvg fill='%23ffffff' width='100%' height='auto' viewBox='0 40 700 700' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h160.22c25.19 0 48.03-14.77 58.36-37.74l27.74-61.64C286.21 331.08 302.35 320 320 320s33.79 11.08 41.68 28.62l27.74 61.64C399.75 433.23 422.6 448 447.78 448H608c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM160 304c-35.35 0-64-28.65-64-64s28.65-64 64-64 64 28.65 64 64-28.65 64-64 64zm320 0c-35.35 0-64-28.65-64-64s28.65-64 64-64 64 28.65 64 64-28.65 64-64 64z'/%3E%3C/svg%3E";class n{constructor(t,i){if(this.renderer=t,void 0!==i?(this.onSessionStart=i.onSessionStart,this.onSessionEnd=i.onSessionEnd,this.sessionInit=i.sessionInit,this.sessionMode=void 0!==i.inline&&i.inline?"inline":"immersive-vr"):this.sessionMode="immersive-vr",void 0===this.sessionInit&&(this.sessionInit={optionalFeatures:["local-floor","bounded-floor"]}),"xr"in navigator){const t=document.createElement("button");t.style.display="none",t.style.height="40px",navigator.xr.isSessionSupported(this.sessionMode).then(e=>{e?this.showEnterVR(t):this.showWebXRNotFound(t),i&&i.vrStatus&&i.vrStatus(e)}),document.body.appendChild(t)}else{const t=document.createElement("a");!1===window.isSecureContext?(t.href=document.location.href.replace(/^http:/,"https:"),t.innerHTML="WEBXR NEEDS HTTPS"):(t.href="https://immersiveweb.dev/",t.innerHTML="WEBXR NOT AVAILABLE"),t.style.left="0px",t.style.width="100%",t.style.textDecoration="none",this.stylizeElement(t,!1),t.style.bottom="0px",t.style.opacity="1",document.body.appendChild(t),i.vrStatus&&i.vrStatus(!1)}}showEnterVR(t){let i=null;const s=this;function e(e){e.addEventListener("end",n),s.renderer.xr.setSession(e),s.stylizeElement(t,!1,12,!0),t.textContent="END GAME",i=e,s.session=e,void 0!==s.onSessionStart&&s.onSessionStart()}function n(){i.removeEventListener("end",n),s.stylizeElement(t,!0,12,!0),t.style.display="",t.style.right="50%",t.style.width="100px",t.style.transform="translateX(50%)",t.style.cursor="pointer",t.innerHTML=`<img src = "${o}" alt="VR Cardboard" style="margin-left: 6px"/>`,i=null,s.session=null,void 0!==s.onSessionEnd&&s.onSessionEnd()}this.stylizeElement(t,!0,30,!0),t.style.display="",t.style.right="50%",t.style.width="100px",t.style.height="56px",t.style.bottom="30px",t.style.transform="translateX(50%)",t.style.cursor="pointer",t.innerHTML=`<img src = "${o}" alt="VR Cardboard" style="margin-left: 6px"/>`,t.onmouseenter=function(){t.style.fontSize="12px",t.textContent=null===i?"PLAY GAME":"EXIT GAME",t.style.opacity="1.0"},t.onmouseleave=function(){t.style.fontSize="30px",t.innerHTML=`<img src = "${o}" alt="VR Cardboard" style="margin-left: 6px"/>`,t.style.opacity="0.5"},t.onclick=function(){if(null===i)navigator.xr.requestSession(s.sessionMode,s.sessionInit).then(e);else try{i.end()}catch(e){}s.onClick&&s.onClick()}}endSession(){this.session&&(this.session.end(),this.session=null)}disableButton(e){e.style.cursor="auto",e.style.opacity="0.5",e.onmouseenter=null,e.onmouseleave=null,e.onclick=null}showWebXRNotFound(e){this.stylizeElement(e,!1),this.disableButton(e),e.style.display="",e.style.width="100%",e.style.right="0px",e.style.bottom="0px",e.style.border="",e.style.opacity="1",e.style.fontSize="13px",e.textContent="VR NOT SUPPORTED"}stylizeElement(e,t=!0,i=13,s=!1){e.style.position="absolute",e.style.bottom="20px",s||(e.style.padding="12px 6px"),e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background=t?"rgba(118, 89, 42, 1)":"rgba(143, 99, 29, 1)",e.style.color="#fff",e.style.font=`normal ${i}px sans-serif`,e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="1001"}}class c extends d.Curve{constructor(e){super(),this.radius=e}getPoint(e){return e=e*Math.PI/2,new d.Vector3(Math.cos(e),Math.sin(e)).multiplyScalar(this.radius)}}class p{static states={DROPPING:1,ROTATE:2,FIRED:3,HIT:4,PIC:5};static canvas=document.createElement("canvas");static geometry=new d.SphereGeometry(.5);static support;constructor(e,t,i=!1,s=-1,n=.1,o=1){if(256!=p.canvas.width&&(p.canvas.width=256,p.canvas.height=128),null==p.support){const e=new d.CylinderGeometry(.04,.04,1.5,10,1,!0),t=(e.translate(0,.7,0),p.support=new d.Mesh(e,f.darkMetalMat),p.support.rotateX(Math.PI/2),p.support.castShadow=!0,new d.TubeGeometry(new c(.04),9,.04,10,!1)),i=new d.Mesh(t,f.metalMat),s=new d.CylinderGeometry(.04,.04,.9,10,1,!0),n=(s.translate(0,.35,0),new d.Mesh(s,f.darkMetalMat)),o=new d.CylinderGeometry(.04,.04,.4,10,1,!0),r=(o.rotateX(Math.PI/2),o.translate(0,0,.2),new d.Mesh(o,f.darkMetalMat)),h=(r.position.set(0,.84,.04),i.clone()),l=(i.position.set(0,.8,.04),i.rotateY(Math.PI/2),h.position.set(0,.88,.44),h.rotateY(Math.PI/2),h.rotateZ(Math.PI),new d.CylinderGeometry(.04,.04,.2,10,1,!1));l.translate(0,-.1,0);var a=new d.Mesh(l,f.darkMetalMat);a.position.set(0,1.08,.48),p.support2=new d.Group,p.support2.add(n),p.support2.add(a),p.support2.add(r),p.support2.add(i),p.support2.add(h)}const r=p.canvas.getContext("2d"),h=(13==t?(r.fillStyle="#000",this.color=0):i?(r.fillStyle="#f00",this.color=16711680):(r.fillStyle="#0f0",this.color=65280),this.num=t,this.speed=60*n,this.time=0,r.fillRect(0,0,256,128),r.fillStyle="#fff",r.font="48px Arial",r.textAlign="center",r.textBaseline="middle",r.fillText(String(t),128,64),i&&(this.num*=-1),new d.CanvasTexture(p.canvas)),l=new d.MeshStandardMaterial({map:h,roughness:.1});this.mesh=new d.Mesh(p.geometry,l),this.mesh.castShadow=!0,this.mesh.position.set(s,4,-20.6),this.mesh.rotateY(Math.PI/2),this.levelNum=o,this.tmpVec=new d.Vector3,o<3?(this.support=p.support.clone(),this.support.position.z=-20.6):(this.support=p.support2.clone(),this.support.position.z=-21.2),this.support.position.x=s,e.add(this.support),this.state=p.states.DROPPING,e.add(this.mesh),this.scene=e}hit(e){(this.game=e).updateScore(this.num,!0),e.SFX.hit(),this.scene.remove(this.mesh),this.scene.remove(this.support),this.state=p.states.HIT,this.group=new d.Group,this.group.position.copy(this.mesh.position),this.scene.add(this.group),this.particles=[];for(let e=0;e<40;e++){const d=new t(this);this.group.add(d),this.particles.push(d)}}removeParticle(e){var t=this.particles.indexOf(e);-1!=t&&(this.group.remove(e),this.particles.splice(t,1),0==this.particles.length)&&this.game.removeBall(this)}update(e,t){switch(this.state){case p.states.DROPPING:this.mesh.position.y-=.1,this.mesh.position.y<=1.6&&(this.state=p.states.ROTATE,this.mesh.position.y=1.6),this.support.rotation.x-=.1,this.support.rotation.x<0&&(this.support.rotation.x=0);break;case p.states.ROTATE:this.mesh.rotateY(-.1),this.mesh.rotation.y<-Math.PI/2.1&&(this.state=p.states.FIRED);break;case p.states.FIRED:switch(this.time+=t,this.levelNum){case 1:this.mesh.position.z+=this.speed*t,this.support.position.z=this.mesh.position.z;break;case 2:this.mesh.position.z+=this.speed*t,this.support.position.z=this.mesh.position.z,this.mesh.position.y=.4*(Math.cos(2*this.time)-1)+1.6,this.support.position.y=this.mesh.position.y-1.6;break;default:this.support.rotateY(3*t),this.support.position.z+=this.speed*t,this.support.children[4].getWorldPosition(this.tmpVec),this.tmpVec.y+=.7,this.mesh.position.copy(this.tmpVec)}3<this.levelNum&&(this.support.position.y=.4*(Math.cos(3*this.time)-1)+.1);break;case p.states.HIT:this.particles.forEach(e=>{e.update(this,t)})}2<this.mesh.position.z&&(this.mesh.material.map.dispose(),e)&&e.removeBall(this,13==this.num)}}class t extends d.Mesh{static geometry=new d.IcosahedronGeometry(.08,1);constructor(e){super(t.geometry,new d.MeshStandardMaterial({color:e.color})),this.dir=new d.Vector3(e.game.random(-1,1),e.game.random(-1,1),e.game.random(-1,1)),this.dir.normalize(),this.position.copy(this.dir).multiplyScalar(.45),this.time=0,this.lifeTime=e.game.random(.5,1.5),this.down=0}update(e,t){this.position.add(this.dir.clone().multiplyScalar(t)),this.position.y-=this.down*t,this.down+=.1,this.time+=t,this.time>this.lifeTime&&e.removeParticle(this)}}class i extends d.Curve{constructor(e,t,i,s){super(),this.radius=e,this.height=t,this.startAngle=i,this.endAngle=s}getPoint(e){var t=(this.endAngle-this.startAngle)*e+this.startAngle;return new d.Vector3(Math.cos(t)*this.radius,this.height*e,Math.sin(t)*this.radius)}}class a extends d.Group{constructor(){super(),this.createBarrel(),this.createBody(),this.createHandle()}createBarrel(){var e=new d.CylinderGeometry(.01,.01,.21,20);(e=new d.Mesh(e,f.metalMat)).rotation.x=-Math.PI/2,e.position.z=-.07,this.add(e),(e=new d.Path).absarc(0,-.0075,.007,1.5*Math.PI,0),e.lineTo(.007,0),e.lineTo(0,0),e=new d.LatheGeometry(e.getPoints(8),12),(e=new d.Mesh(e,f.brassMat)).rotateX(-Math.PI/2),e.position.z=.035,this.add(e),e=new i(.012,.06,0,12*Math.PI),e=new d.TubeGeometry(e,50,.005),(e=new d.Mesh(e,f.brassMat)).rotateX(Math.PI/2),e.position.set(0,0,-.16),this.add(e)}createBody(){var e=new d.CylinderGeometry(.025,.025,.06,20),t=((e=new d.Mesh(e,f.darkMetalMat)).rotation.x=-Math.PI/2,e.position.set(0,-.015,-.042),[1,3.6,3.9,3.9,2,.7,.7,1,1.8,2,1.8,2,2.4,2.3,3.3,3.3,0,0,.4,.4,1]),i=[0,0,-.3,.3,.3,.7,1.7,2,2,1.5,.7,.6,1.4,2,2,2.3,2.3,2,1.7,.5,0],s=new d.Shape;for(let e=0;e<t.length;e++)0==e?s.moveTo(.015*t[e],.015*i[e]):s.lineTo(.015*t[e],.015*i[e]);var n=new d.ExtrudeGeometry(s,{depth:.005,bevelEnabled:!1});n.rotateY(-Math.PI/2),(n=new d.Mesh(n,f.metalMat)).position.set(0,-.07,-.065),this.add(n),this.add(e)}createHandle(){let t=[.5,5,5,4.5,4.2,3.3,3,0,0,.3,1,.7,.5,.5],i=[0,0,.3,.3,.6,5.7,6,6,4,3.7,.7,.5,.3,0],s=new d.Shape,n=.015;for(let e=0;e<t.length;e++)0==e?s.moveTo(t[e]*n,i[e]*n):s.lineTo(t[e]*n,i[e]*n);(e=new d.ExtrudeGeometry(s,{depth:.02,bevelEnabled:!1})).rotateY(-Math.PI/2),e.translate(.01,-.095,-.02);var e=new d.Mesh(e,f.metalMat),o=(this.add(e),t=[1.6,3.7-.3,3.7,2.7,2.7-.3,.8,1.3,1.6],i=[.8,.8,1.1,5,5.4,5.4,1,.8],new d.Shape);for(let e=0;e<t.length;e++)0==e?o.moveTo(t[e]*n,i[e]*n):o.lineTo(t[e]*n,i[e]*n);(e=new d.ExtrudeGeometry(o,{depth:.022,bevelEnabled:!0,bevelSegments:1,bevelThickness:.0045,bevelSize:.0045})).rotateX(Math.PI/2),(e=new d.Mesh(e,f.darkWoodMat)).rotateX(-Math.PI/2),e.rotateZ(-Math.PI/2),e.position.set(.01,-.095,-.019),this.add(e)}createProxy(){var e=new d.CylinderGeometry(.01,.01,.15,20),t=((e=new d.Mesh(e,f.metalMat)).rotation.x=-Math.PI/2,e.position.z=-.1,new d.CylinderGeometry(.025,.025,.06,20)),i=((t=new d.Mesh(t,f.darkMetalMat)).rotation.x=-Math.PI/2,t.position.set(0,-.015,-.042),new d.BoxGeometry(.02,.08,.04));(i=new d.Mesh(i,f.oakMat)).position.set(0,-.034,0),this.add(e),this.add(t),this.add(i)}}class r extends d.Group{constructor(e,t){super(),(s=new d.CylinderGeometry(.008,.008,.07,16)).rotateX(-Math.PI/2);var i=new d.MeshBasicMaterial({color:16755200}),s=new d.Mesh(s,i),n=((i=new d.CylinderGeometry(.008,.008,.7,16)).rotateX(-Math.PI/2),new d.MeshBasicMaterial({color:16777215,opacity:.6,transparent:!0})),i=new d.Mesh(i,n);this.add(s),this.add(i),n=new d.Vector3,s=new d.Quaternion,this.position.copy(t.getWorldPosition(n)),this.quaternion.copy(t.getWorldQuaternion(s)),e.scene.add(this),this.tmpVec=n,this.tmpVec2=new d.Vector3,this.game=e}update(e){let i=25*e,s=0;for(;s<1e3;){s++,.5<i?(i-=.5,this.translateZ(-.5)):(this.translateZ(-i),i=0),this.getWorldPosition(this.tmpVec);let t=!1;if(this.game.balls.forEach(e=>{t||e.state!=p.states.FIRED||(e.mesh.getWorldPosition(this.tmpVec2),this.tmpVec.distanceTo(this.tmpVec2)<.5&&(t=!0,e.hit(this.game),this.game.removeBullet(this)))}),0==i||t)break}20<this.position.length()&&this.game.removeBullet()}}class h extends d.BufferGeometry{constructor(t=.02,i=.08,s=1,n=0){var o=new d.Shape,a=[1,1,.8,.6,.6,.8,.9,.8,.6,.4,.4,.5,.35,.2,.2,0,0],r=[0,.16,.24,.3,.36,.42,.5,.58,.66,.7,.75,.8,.86,.93,1,1,0];o.moveTo(0,0);for(let e=0;e<a.length;e++){const s=r[e]?n:0;o.lineTo(t*a[e],i*r[e]+s)}super(),s=new d.ExtrudeGeometry(o,{depth:s,bevelEnabled:!1}),this.attributes=s.attributes}}class l extends d.Group{static texture;static types={SCORE:0,TIMER:1};constructor(e,i=new d.Vector3,t=new d.Euler){if(super(),this.scale.set(1.5,1.5,1.5),e.add(this),this.position.copy(i),this.rotation.copy(t),null==l.texture){const e=document.createElement("canvas"),i=(e.width=1024,e.height=64,e.getContext("2d"));i.fillStyle="#000",i.fillRect(0,0,1024,64),i.textAlign="center",i.textBaseline="middle",i.font="48px Arial",i.fillStyle="#fff";let t=1024/12/2;["0","1","2","3","4","5","6","7","8","9",":"," "].forEach(e=>{i.setTransform(1,0,0,1,0,0),i.rotate(-Math.PI/2),i.translate(0,t),i.fillText(e,-32,34),t+=1024/12}),l.texture=new d.CanvasTexture(e),l.texture.needsUpdate=!0}e=2*Math.PI*1/12;var s=new d.CylinderGeometry(1,1,e),n=(s.rotateZ(-Math.PI/2),new d.MeshStandardMaterial({map:l.texture})),o=1.1*e,a=2.5*-o;for(let e=0;e<5;e++){const i=new d.Mesh(s,n);i.position.set(a+o*e,0,-.8),this.add(i)}this.add(this.createFrame(5*o+.4,1,.2)),this.type=l.types.SCORE,this.displayValue=0,this.targetValue=0}createFrame(e,t,i){var s=new d.Shape,n=(s.moveTo(e/=2,-(t/=2)),s.lineTo(e,t),s.lineTo(-e,t),s.lineTo(-e,-t),s.lineTo(e,-t),e-=i,t-=i,new d.Path);return n.moveTo(e,-t),n.lineTo(e,t),n.lineTo(-e,t),n.lineTo(-e,-t),n.lineTo(e,-t),s.holes.push(n),(e=new d.ExtrudeGeometry(s,{depth:.2,bevelEnabled:!1})).translate(-i-.1,0,0),new d.Mesh(e,f.oakMat)}set score(e){this.type!=l.types.SCORE&&(this.type=l.type.SCORE),this.targetValue=e}updateScore(){const t=Math.PI/6;let e=String(this.displayValue);for(;e.length<5;)e="0"+e;const i=e.split("");let s=0;this.children.forEach(e=>{if(s<5){const s=Number(i.shift());isNaN(s)||(e.rotation.x=-t*s-.4)}s++})}updateTime(){const i=Math.PI/6;var e=this.displayValue,t=Math.floor(e/60);e-=60*t;let s=String(e);for(;s.length<2;)s="0"+s;let n=String(t);for(;n.length<2;)n="0"+n;let o=(n+":"+s).split(""),a=0;this.children.forEach(e=>{var t;a<5&&(t=Number(o.shift()),isNaN(t)?e.rotation.x=10*-i-.4:e.rotation.x=-i*t-.4),a++})}set seconds(e){this.type!=l.types.TIMER&&(this.type=l.types.TIMER),0==(this.targetValue=e)&&(this.displayValue=e),this.update(0)}get seconds(){return this.targetValue}get time(){var e=this.targetValue,t=Math.floor(e/60);e-=60*t;let i=String(e);for(;i.length<2;)i="0"+i;let s=String(t);for(;s.length<2;)s="0"+s;return s+":"+i}update(e){switch(this.targetValue!=this.displayValue&&(this.targetValue>this.displayValue?this.displayValue++:this.displayValue--),this.type){case l.types.SCORE:this.updateScore();break;case l.types.TIMER:this.updateTime()}}}let u,N,_;N=.3,u=(e=1,t=.05,i=220,s=0,n=0,o=.1,a=0,r=1,h=0,l=0,d=0,c=0,p=0,u=0,m=0,H=0,L=0,g=1,D=0,v=44100,w=99+s*v,y=n*v,f=o*v,M=D*v,x=L*v,b=2*Math.PI,S=e=>0<e?1:-1,T=w+M+y+f+x,X=h*=500*b/v**2,P=i*=(1+2*t*Math.random()-t)*b/v,O=S(m)*b/4,E=0,C=0,I=0,z=0,G=0,V=0,R=1,W=[],k=_.createBufferSource(),B=_.createBuffer(1,T,v))=>{for(k.connect(_.destination);I<T;W[I++]=V)++G>100*H&&(G=0,V=E*i*Math.sin(C*m*b/v-O),V=S(V=a?1<a?2<a?3<a?Math.sin((V%b)**3):Math.max(Math.min(Math.tan(V),1),-1):1-(2*V/b%2+2)%2:1-4*Math.abs(Math.round(V/b)-V/b):Math.sin(V))*Math.abs(V)**r*e*N*(I<w?I/w:I<w+M?1-(I-w)/M*(1-g):I<w+M+y?g:I<T-x?(T-I-x)/f*g:0),V=x?V/2+(I<x?0:(I<T-x?1:(I-T)/x)*W[I-x|0]/2):V),E+=1-u+1e9*(Math.sin(I)+1)%2*u,C+=1-u+1e9*(Math.sin(I)**2+1)%2*u,i+=h+=500*l*b/v**3,R&&++R>c*v&&(i+=d*b/v,P+=d*b/v,R=0),p&&++z>p*v&&(i=P,h=X,z=1,R=R||1);return B.getChannelData(0).set(W),k.buffer=B,k.start(),k},_=new AudioContext;class m{constructor(){this.defaultVol=.3}hit(e=this.defaultVol){N=e,u(1.9,void 0,387,.03,.07,.29,4,2.3,8,void 0,void 0,void 0,void 0,1.3,void 0,.1,.07,.67,.03),N=this.defaultVol}shoot(e=this.defaultVol){N=e,u(1.5,void 0,360,.01,.12,.06,1,3.9,-16,16,void 0,void 0,void 0,void 0,void 0,.2,.01,.98,.19),N=this.defaultVol}gameOver(e=this.defaultVol){N=e,u(void 0,void 0,925,.04,.3,.6,1,.3,void 0,6.27,-184,.09,.17),N=this.defaultVol}heart(e=this.defaultVol){N=e,u(void 0,void 0,537,.02,.02,.22,1,1.59,-6.98,4.97),N=this.defaultVol}piano(e=this.defaultVol){N=e,u(1.5,.8,270,void 0,.1,void 0,1,1.5,void 0,void 0,void 0,void 0,void 0,void 0,void 0,.1,.01),N=this.defaultVol}drum(e=this.defaultVol){N=e,u(void 0,void 0,129,.01,void 0,.15,void 0,void 0,void 0,void 0,void 0,void 0,void 0,5),N=this.defaultVol}}class e extends d.MeshStandardMaterial{constructor(e,t){switch(super(t),null==this.noise&&this.initNoise(),e){case"oak":this.wood(2495240,1114882);break;case"darkwood":this.wood(5649160,2167554);break;default:this.wood()}this.onBeforeCompile=e=>{for(var[t,i]of Object.entries(this.userData.uniforms))e.uniforms[t]=i;e.vertexShader=e.vertexShader.replace("#include <common>","\n\t\t\t\tvarying vec3 vModelPosition;\n\t\t\t\t#include <common>\n\t\t\t\t"),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n\t\t\t\tvModelPosition = vec3(position);\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t"),e.fragmentShader=e.fragmentShader.replace("#include <common>",this.userData.colorVars),e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",this.userData.colorFrag)}}wood(e=7558965,t=4140311){this.userData.colorVars=`uniform vec3 u_LightColor;uniform vec3 u_DarkColor;uniform float u_Frequency;uniform float u_NoiseScale;uniform float u_RingScale;uniform float u_Contrast;varying vec3 vModelPosition;${this.noise}#include <common>`,this.userData.colorFrag="float n=snoise(vModelPosition.xxx)/3.0+0.5;float ring=fract(u_Frequency*vModelPosition.x+u_NoiseScale*n);ring*=u_Contrast*(1.0-ring);float lerp=pow(ring,u_RingScale)+n;diffuseColor.xyz*=mix(u_DarkColor,u_LightColor,lerp);";var i={u_time:{value:0}};i.u_resolution={value:new d.Vector2},i.u_LightColor={value:new d.Color(e)},i.u_DarkColor={value:new d.Color(t)},i.u_Frequency={value:55},i.u_NoiseScale={value:2},i.u_RingScale={value:.26},i.u_Contrast={value:10},this.userData.uniforms=i}initNoise(){this.noise="vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec3 permute(vec3 x){return mod289(((x*34.0)+1.0)*x);}float permute(float x){return x-floor(x*(1.0/289.0))*289.0;}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2, p2), dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\n"}}class g extends d.Group{constructor(i=30,e=6.3,s){super(),this.material=f.darkWoodMat,this.config={height:e,width:i,skirtingHeight:.2,corniceHeight:.15,panelWidth:1,panelHeight:.8,timberWidth:.12,panelEdgingWidth:.08},this.config.repeatWidth=this.config.panelWidth+this.config.timberWidth;const n=this.createSkirting(),t=this.createCornice();if(s){const i=new d.Group,e=this.createVertical(),s=this.createHorizontal(),n=this.createPanel();for(let t=(this.config.timberWidth-this.config.width)/2;t<this.config.width/2;t+=this.config.repeatWidth){var o=e.clone();o.position.set(t,(this.config.skirtingHeight-this.config.corniceHeight)/2,0),i.add(o);for(let e=(this.config.timberWidth-this.config.height)/2+this.config.skirtingHeight;e<this.config.height/2-this.config.corniceHeight;e+=this.config.panelHeight+this.config.timberWidth){var a=s.clone();a.position.set(t+this.config.timberWidth/2+this.config.panelWidth/2,e,0),i.add(a),(a=n.clone()).position.set(t+(this.config.timberWidth+this.config.panelWidth)/2,e+(this.config.timberWidth+this.config.panelHeight)/2,-.01),i.add(a)}}this.add(i)}else{const i=new d.PlaneGeometry(this.config.width,this.config.height),e=new d.MeshStandardMaterial({roughness:.5,metalness:0});this.panelling=new d.Mesh(i,e),this.add(this.panelling)}n.position.set(this.config.width/2,(this.config.skirtingHeight-this.config.height)/2,.01),s||this.add(n),t.position.set(0,(this.config.height-this.config.corniceHeight)/2,this.config.corniceHeight/2),s||this.add(t)}createPanel(){var e=new d.Group,t=((t=new d.PlaneGeometry(this.config.panelWidth-2*this.config.panelEdgingWidth,this.config.panelHeight-2*this.config.panelEdgingWidth)).rotateX(-Math.PI/2),(t=new d.Mesh(t,this.material)).rotateX(Math.PI/2),e.add(t),new h(.02,this.config.panelEdgingWidth,this.config.panelWidth)),i=(t=new d.Mesh(t,this.material),this.config.panelHeight/2);return t.rotateY(-Math.PI/2),t.position.set(this.config.panelWidth/2,-i,-.005),e.add(t),(t=t.clone()).position.y=i,t.position.x=-this.config.panelWidth/2,t.rotateX(Math.PI),e.add(t),t=new h(.02,this.config.panelEdgingWidth,this.config.panelHeight),t=new d.Mesh(t,this.material),i=this.config.panelWidth/2,t.rotateY(-Math.PI/2),t.rotateX(-Math.PI/2),t.position.set(-i,-this.config.panelHeight/2,-.005),e.add(t),(t=t.clone()).position.x=i,t.position.y=this.config.panelWidth/2-1.5*this.config.panelEdgingWidth,t.rotateX(Math.PI),e.add(t),e}createVertical(){var e=new d.PlaneGeometry(this.config.timberWidth,this.config.height-this.config.corniceHeight-this.config.skirtingHeight);return e.rotateX(-Math.PI/2),(e=new d.Mesh(e,this.material)).rotateX(Math.PI/2),e}createHorizontal(){var e=new d.PlaneGeometry(this.config.timberWidth,this.config.panelWidth);return e.rotateX(-Math.PI/2),(e=new d.Mesh(e,this.material)).rotateX(Math.PI/2),e.rotateY(Math.PI/2),e}createSkirting(){var e=new h(.02,this.config.panelEdgingWidth,this.config.width,this.config.skirtingHeight-this.config.panelEdgingWidth);return(e=new d.Mesh(e,this.material)).rotateY(-Math.PI/2),e}createCornice(){var e=new d.CylinderGeometry(this.config.corniceHeight,this.config.corniceHeight,this.config.width,20,1,!1,1.5*Math.PI,Math.PI/2),t=new d.MeshStandardMaterial({color:10066329,metalness:1,roughness:.3});return e.rotateZ(Math.PI/2),new d.Mesh(e,t)}}class v extends d.Curve{constructor(e=50,t=50,i=10){super(),this.width=e,this.height=t,this.radius=i}getPoint(e){var t,i=new d.Vector3;return e<.125?(e*=2,t=2*Math.PI*e,i.x=Math.cos(t)*this.radius+.5*this.width,i.y=Math.sin(t)*this.radius+.5*this.height):e<.25?(i.x=.5*this.width-(e=8*(e-.125))*this.width,i.y=.5*this.height+this.radius):e<.375?(e=2*(e-.25)+.25,t=2*Math.PI*e,i.x=Math.cos(t)*this.radius-.5*this.width,i.y=Math.sin(t)*this.radius+.5*this.height):e<.5?(e=8*(e-.375),i.x=.5*-this.width-this.radius,i.y=.5*this.height-e*this.height):e<.625?(e=2*(e-.5)+.5,t=2*Math.PI*e,i.x=Math.cos(t)*this.radius-.5*this.width,i.y=Math.sin(t)*this.radius-.5*this.height):e<.75?(i.x=.5*-this.width+this.width*(e=8*(e-.625)),i.y=.5*-this.height-this.radius):e<.875?(e=2*(e-.75)+.75,t=2*Math.PI*e,i.x=Math.cos(t)*this.radius+.5*this.width,i.y=Math.sin(t)*this.radius-.5*this.height):(e=8*(e-.875),i.x=.5*this.width+this.radius,i.y=.5*-this.height+e*this.height),i}}class w extends d.Group{constructor(e=14,t=25){super();var i=this.createBlock(e/2,4);for(let e=0;e>-t;e-=4){const t=i.clone();t.position.z=e,this.add(t)}}createBlock(e,t){var i=new d.Group,s=((s=new d.Shape).moveTo(-e,0),s.lineTo(.7*-e,1.5),s.lineTo(.7*-e,2),s.lineTo(.7*e,2),s.lineTo(.7*e,1.5),s.lineTo(e,0),s.lineTo(e,3),s.lineTo(-e,3),s.lineTo(-e,0),(s=new d.ExtrudeGeometry(s,{depth:t,bevelEnabled:!1})).translate(0,0,t/2),new d.Mesh(s,new d.MeshStandardMaterial({color:4469521,side:d.DoubleSide}))),n=(i.add(s),s=new d.SphereGeometry(.3),s=new d.Mesh(s,new d.MeshBasicMaterial),i.add(s),s=f.metalMat,new d.SphereGeometry(.31,32,16,0,2*Math.PI,0,Math.PI/2)),n=new d.Mesh(n,s);return i.add(n),(n=new d.TubeGeometry(new v(.7*e,.7*t,.25),128,.05,16,!0)).rotateX(Math.PI/2),n=new d.Mesh(n,s),i.add(n),n=new d.CylinderGeometry(.03,.03,2.5,12,1,!0),(n=new d.Mesh(n,s)).position.y=1.3,i.add(n),(n=new d.CylinderGeometry(.25,.25,t,20,1,!0)).rotateX(Math.PI/2),(t=new d.Mesh(n,s)).position.x=.6*-e,i.add(t),(n=t.clone()).position.x=.6*e,i.add(n),(t=new d.CylinderGeometry(.3,.3,.05,20,1,!1)).rotateX(Math.PI/2),(n=new d.Mesh(t,s)).position.x=.6*-e,i.add(n),(t=n.clone()).position.x=.6*e,i.add(t),s=new d.PointLight(16777215,10,50),i.add(s),i}}class y{constructor(){this.namespace="STEAMSHOT13",this.table=this.read(),this.updatePanel()}write(e){this.table.push(e),this.table.sort((e,t)=>t.score-e.score),localStorage.setItem(this.namespace,JSON.stringify(this.table)),this.updatePanel()}read(){var e=localStorage.getItem(this.namespace);return e?JSON.parse(e):[]}clear(){localStorage.setItem(this.namespace,JSON.stringify([]))}updatePanel(){let e=document.getElementById("leaderboard"),t='<table class="leaderboard">';for(let e=0;e<10;e++)this.table[e]&&(t=`${t}<tr><td>${this.table[e].name}</td><td>${this.table[e].score}</td></tr>`);e.innerHTML=t+"</table>"}}class f{static states={INTRO:1,GAME:2,OVER:3,NEWLEVEL:4};static woodMat=new e("wood",{roughness:.3});static darkWoodMat=new e("darkwood",{roughness:.3});static oakMat=new e("oak",{roughness:.3});static darkMetalMat=new d.MeshStandardMaterial({color:7368816,metalness:1,roughness:.3});static metalMat=new d.MeshStandardMaterial({color:10066329,metalness:1,roughness:.3});static brassMat=new d.MeshStandardMaterial({color:16755217,metalness:1,roughness:.1});constructor(){var e=document.createElement("div"),t=(document.body.appendChild(e),this.clock=new d.Clock,this.camera=new d.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,200),this.camera.position.set(0,1.3,0),this.scene=new d.Scene,this.scene.add(new d.HemisphereLight(16777215,4210752,1.5)),this.renderer=new d.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.shadowMap.enabled=!0,new d.DirectionalLight(16777215,2));t.castShadow=!0,t.shadow.mapSize.width=512,t.shadow.mapSize.height=512,t.shadow.camera.near=.5,t.shadow.camera.far=500,t.shadow.camera.top=15,t.shadow.camera.right=15,t.shadow.camera.bottom=-15,t.shadow.camera.left=-15,t.position.set(1,3,3),this.scene.add(t),e.appendChild(this.renderer.domElement),this.initScene(),this.tmpVec=new d.Vector3,this.raycaster=new d.Raycaster,this.leaderboard=new y,this.setupVR(),this.SFX=new m,window.addEventListener("resize",this.resize.bind(this)),this.renderer.setAnimationLoop(this.render.bind(this))}startGame(){this.state=f.states.GAME,this.gameTime=0,this.ballTime=2.5,this.ballCount=0,this.hitCount=0,this.levelHitCount=6,this.ball13Count=10,this.levelNum=1,this.startTime=this.clock.elapsedTime,this.newBallTime=3,this.balls=[],this.bullets=[],this.score=0,this.timerTime=0,this.timeCounter.seconds=0,document.getElementById("openingPanel").style.top="-50%",this.SFX.heart()}gameOver(e=!0){document.getElementById("gameoverPanel");var t=document.getElementById("details"),i=e?"<P>You let a Ball 13 get passed you.<table>":"<P>You quit the game<table>",s=this.score+this.timeCounter.seconds,i=(i+=`<tr><td>Hit score</td><td>${this.score}</td></tr>`)+`<tr><td>Time</td><td>${this.timeCounter.time}</td></tr>`;t.innerHTML=i+=`<tr><td>Total Score</td><td>${s}</td></tr></table></p>`,window.showGameover(),""!=(t=document.getElementById("name")).value&&this.leaderboard.write({name:t.value,score:s});let n=0;for(;0<this.balls.length&&!(1e3<++n);)this.removeBall(this.balls[0]);for(n=0;0<this.bullets.length&&!(1e3<++n);)this.removeBullet(this.bullets[0]);this.state=f.states.OVER,this.SFX.gameOver(),e&&this.vrButton.endSession()}random(e,t,i=!1){return t=Math.random()*(t-e)+e,i?Math.floor(t):t}initScene(){const t=f.woodMat,e=new d.PlaneGeometry(15,30);e.rotateX(-Math.PI/2),(s=new d.Mesh(e,t)).receiveShadow=!0,s.position.set(0,.01,-15),this.scene.add(s),(s=new g).rotateY(Math.PI/2),s.position.set(-7,3.15,-10),this.scene.add(s),(i=s.clone()).rotateY(Math.PI),i.position.x=7,this.scene.add(i),this.panels=[s,i],(s=new w).position.y=6.3,this.scene.add(s);var i=new d.CylinderGeometry(.25,.25,3),s=f.brassMat,n=f.metalMat,o=new d.Mesh(i,s),a=(o.castShadow=!0,(i=new d.Shape).moveTo(.1,0),i.lineTo(.1,.045),i.lineTo(.2*.2,.15),i.lineTo(.1*.2,.15),i.lineTo(.1*.2,.075),i.lineTo(.1*-.2,.075),i.lineTo(.1*-.2,.15),i.lineTo(.2*-.2,.15),i.lineTo(-.1,.045),i.lineTo(-.1,0),i.lineTo(.1,0),(s=new d.ExtrudeGeometry(i,{depth:30,steps:1,bevelEnabled:!1})).translate(0,0,-30),new d.Mesh(s,n));for(let e=-6;e<=6;e+=2){const t=o.clone();if(t.position.set(e,1.5,-20),this.scene.add(t),e<6){const t=a.clone();t.position.x=e+1,this.scene.add(t)}}i=new d.BoxGeometry(.6,5,15),(s=new d.Mesh(i,t)).rotateY(Math.PI/2),s.position.set(0,5.5,-20),this.scene.add(s),(n=new h(.1,.2,15)).translate(0,0,-7.5),(i=new d.Mesh(n,t)).rotateY(-Math.PI/2),i.position.set(0,3,-19.5),this.scene.add(i),this.scoreCounter=new l(this.scene,new d.Vector3(-3,4.5,-19.8)),this.timeCounter=new l(this.scene,new d.Vector3(3.9,4.5,-19.8)),this.scene.background=new d.Color(2105376),delete this.envMap}resize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}resetGame(){this.state==f.states.GAME&&this.gameOver(!1)}setupVR(){this.renderer.xr.enabled=!0;var e=new n(this.renderer);this.vrButton=e;const t=this;function i(){.25<this.userData.bulletTime&&(this.userData.bulletTime=0,t.bullets.push(new r(t,this)),t.SFX.shoot(.1))}function s(){}e.onClick=()=>{},this.renderer.xr.addEventListener("sessionend",function(e){t.resetGame()}),this.renderer.xr.addEventListener("sessionstart",function(e){t.startGame()}),this.controllers=[];for(let e=0;e<=1;e++){const t=this.renderer.xr.getController(e);this.scene.add(t),t.addEventListener("select",i),t.addEventListener("squeeze",s),t.addEventListener("connected",e=>{e.target.add(new a),e.target.handedness=e.data.handedness,e.target.userData.bulletTime=.5,this.controllers.push(e.target)}),t.addEventListener("disconnected",function(){})}}handleController(e,t){e.handedness}updateScore(e,t=!1){t&&(this.hitCount++,this.hitCount>=this.levelHitCount)&&(this.levelNum++,this.levelHitCount++,this.hitCount=0,this.score+=100,5<this.ball13Count)&&this.ball13Count--,this.score+=e,this.score<0&&(this.score=0),this.scoreCounter.score=this.score}removeBall(e,t=!1){var i=this.balls.indexOf(e);-1!=i&&(e.mesh.material.map.dispose(),this.scene.remove(e.group),this.scene.remove(e.mesh),this.scene.remove(e.support),this.balls.splice(i,1)),t&&this.gameOver(!0)}removeBullet(e){var t=this.bullets.indexOf(e);-1!=t&&(this.scene.remove(e),this.bullets.splice(t,1))}newBall(){this.ballCount++;const e=Math.min(.05+.01*this.ballCount,.2);let t,i=1;if(50<this.ballCount){const e=Math.random();.7<e?i+=4:.3<e&&(i+=2)}else 10<this.ballCount&&.5<Math.random()&&(i+=2);.5<this.newBallTime&&(this.newBallTime-=.05),Math.random();var s=.7<Math.random(),n=.5<Math.random();if(t=this.ballCount%this.ball13Count==0?(3<i&&(i=3),13):[10,50,250][(i-1)/2],n&&(i*=-1),!(0<this.balls.filter(e=>e.state!=p.states.FIRED&&(e=e.mesh.position.x-i)*e<.5).length))return this.ballTime=0,13==t?this.SFX.piano():this.SFX.drum(),new p(this.scene,t,s,i,e,this.levelNum);this.ballCount--}capture(){var e=this.renderer.domElement.toDataURL("img/png"),t=(this.envMap=new d.Texture(e),this.scene.environment=this.envMap,e=new d.PlaneGeometry,new d.MeshBasicMaterial({map:this.envMap}));(e=new d.Mesh(e,t)).position.set(-1,1,-5),this.scene.add(e)}render(e,t){const i=this.clock.getDelta();if(this.state==f.states.GAME){if(this.gameTime+=i,this.ballTime+=i,this.timerTime+=i,1<this.timerTime&&(--this.timerTime,this.timeCounter.seconds=Math.floor(this.gameTime)),this.ballTime>this.newBallTime){const d=this.newBall();d&&this.balls.push(d)}this.balls&&0<this.balls.length&&this.balls.forEach(e=>e.update(this,i)),this.controllers.forEach(e=>{e&&e.userData&&null!=e.userData.bulletTime&&(e.userData.bulletTime+=i)}),this.bullets&&0<this.bullets.length&&this.bullets.forEach(e=>e.update(i)),this.scoreCounter.update(i)}if(null==this.scene.environment){const e=new g(1.5,1.5,!0),t=(e.position.set(.12,1.34,-1),this.scene.add(e),new d.WebGLRenderTarget(128,128,{generateMipmaps:!0,wrapS:d.RepeatWrapping,wrapT:d.RepeatWrapping,minFilter:d.LinearMipmapLinearFilter})),i=(this.camera.aspect=1.2,this.camera.updateProjectionMatrix(),this.renderer.setRenderTarget(t),this.renderer.render(this.scene,this.camera),t.texture);i.repeat.set(30,6),this.panels[0].panelling.material.map=i,this.panels[1].panelling.material.map=i,this.scene.remove(e),this.renderTarget=new d.WebGLRenderTarget(1024,512),this.renderer.setSize(1024,512),this.renderer.setRenderTarget(this.renderTarget),this.renderer.render(this.scene,this.camera);var s=new d.PMREMGenerator(this.renderer),n=(s.compileEquirectangularShader(),s.fromEquirectangular(this.renderTarget.texture).texture);s.dispose(),this.scene.environment=n,this.renderer.setRenderTarget(null),(s=new p(this.scene,13)).state=p.states.PIC,s.mesh.position.set(0,1.2,-1.5),s.mesh.rotation.y=-Math.PI/2,this.camera.aspect=1,this.camera.updateProjectionMatrix(),this.renderer.setSize(128,128),this.renderer.render(this.scene,this.camera),document.getElementById("ballPic").src=this.renderer.domElement.toDataURL("image/png"),s.mesh.material.map.dispose(),this.scene.remove(s.mesh),this.scene.remove(s.support),this.resize()}this.renderer.render(this.scene,this.camera)}}document.addEventListener("DOMContentLoaded",()=>{const e=new f,t=(window.app=e,document.getElementById("name"));t.addEventListener("change",()=>{e.leaderboard.write({name:t.value,score:e.score+e.timeCounter.seconds})}),setTimeout(()=>{document.getElementById("openingPanel").style.top="50%"},1e3)})</script>