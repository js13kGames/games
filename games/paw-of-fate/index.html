<!doctype html><meta name=viewport content="width=device-width"><title>Paw of Fate - js13kGames 2025</title><body><script>const t=Math.PI;function i(t,i=0,e=1){return t<i?i:e<t?e:t}function e(t,e,s){return(s-=e)?i((t-e)/s):0}function s(t,i,e,s=r()){return 2*Math.abs(t.x-e.x)<i.x+s.x&&2*Math.abs(t.y-e.y)<i.y+s.y}function h(t=1,i=0){return i+Math.random()*(t-i)}function n(i=1){return o(new l,h(2*t),i)}function a(t=new d,i=new d(0,0,0,1),e=!1){return e?t.fa(i,h()):new d(h(t.r,i.r),h(t.j,i.j),h(t.b,i.b),h(t.a,i.a))}function r(t=0,i){return new l(t,null==i?t:i)}function o(t,i=0,e=1){return t.x=e*Math.sin(i),t.y=e*Math.cos(i),t}function u(t){return t.x**2+t.y**2}function c(t){var i=t.length();return 1<i?t.scale(1/i):t}class l{constructor(t=0,i=0){this.x=t,this.y=i}set(t=0,i=0){return this.x=t,this.y=i,this}m(){return new l(this.x,this.y)}add(t){return new l(this.x+t.x,this.y+t.y)}l(t){return new l(this.x-t.x,this.y-t.y)}multiply(t){return new l(this.x*t.x,this.y*t.y)}aa(t){return new l(this.x/t.x,this.y/t.y)}scale(t){return new l(this.x*t,this.y*t)}length(){return u(this)**.5}normalize(t=1){var i=this.length();return i?this.scale(t/i):new l(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var i=Math.cos(-t);return t=Math.sin(-t),new l(this.x*i-this.y*t,this.x*t+this.y*i)}setDirection(t,i=1){return r((t=(t%4+4)%4)%2?t-1?-i:i:0,t%2?0:t?-i:i)}direction(){return Math.abs(this.x)>Math.abs(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new l(Math.floor(this.x),Math.floor(this.y))}fa(t,e){return this.add(t.l(this).scale(i(e)))}toString(){}}function g(t){return(255*i(t.r)|0)+(255*i(t.j)<<8)+(255*i(t.b)<<16)+(255*i(t.a)<<24)}class d{constructor(t=1,i=1,e=1,s=1){this.r=t,this.j=i,this.b=e,this.a=s}set(t=1,i=1,e=1,s=1){return this.r=t,this.j=i,this.b=e,this.a=s,this}m(){return new d(this.r,this.j,this.b,this.a)}add(t){return new d(this.r+t.r,this.j+t.j,this.b+t.b,this.a+t.a)}l(t){return new d(this.r-t.r,this.j-t.j,this.b-t.b,this.a-t.a)}multiply(t){return new d(this.r*t.r,this.j*t.j,this.b*t.b,this.a*t.a)}aa(t){return new d(this.r/t.r,this.j/t.j,this.b/t.b,this.a/t.a)}scale(t,i=t){return new d(this.r*t,this.j*t,this.b*t,this.a*i)}fa(t,e){return this.add(t.l(this).scale(i(e)))}toString(t=!0){var e=t=>((t=255*i(t)|0)<16?"0":"")+t.toString(16);return"#"+e(this.r)+e(this.j)+e(this.b)+(t?e(this.a):"")}}class x{constructor(){this.setTime=this.time=void 0}set(t=0){this.time=yt+t,this.setTime=t}active(){return yt<this.time}get(){return null!=this.time?yt-this.time:0}toString(){}valueOf(){return this.get()}}let y=r(),f=r(1920,1080),m=r(),v=r(16);function w(t){var i,e=t.parent;e&&(i=e.F?-1:1,t.g=t.ta.multiply(r(i,1)).rotate(e.angle).add(e.g),t.angle=i*t.sa+e.angle);for(const i of t.children)w(i)}function p(t){if(!t.o){t.o=1,t.parent&&t.parent.removeChild(t);for(const i of t.children)p(i,i.parent=0)}}function b(t){t.R=!0,t.U=!0,t.A=!0}class M{constructor(t=r(),i=r(1),e,s=0,h=new d,n=0){this.g=t.m(),this.size=i,this.ra=void 0,this.N=e,this.angle=s,this.color=h,this.la=void 0,this.F=!1,this.I=this.B=this.i=1,this.s=0,this.T=.8,this.L=1,this.M=n,this.h=r(),this.P=0,this.Y=yt,this.children=[],this.Z=!0,this.parent=void 0,this.ta=r(),this.sa=0,this.U=this.R=this.A=!1,gt.push(this)}update(){var t;if(!this.parent&&(this.Z?(this.h.x=i(this.h.x,-1,1),this.h.y=i(this.h.y,-1,1)):1<(t=u(this.h))&&(this.h.x*=t=1/t**.5,this.h.y*=t),t=this.g.m(),this.h.x*=this.B,this.h.y*=this.B,this.i&&(this.h.y+=0*this.L),this.g.x+=this.h.x,this.g.y+=this.h.y,this.angle+=this.P*=this.I,this.i)){var e,h,a,o,c,l,g=this.h.y<0;if(this.u&&(e=this.u.h?this.u.h.x:0,this.h.x=e+(this.h.x-e)*this.T,this.u=0),this.R)for(var d of dt)!this.U&&!d.U||d.o||d.parent||d==this||s(this.g,this.size,d.g,d.size)&&(s(t,this.size,d.g,d.size)?(e=(h=(e=t.l(d.g)).length())<.01?n(.001):e.scale(.001/h),this.h=this.h.add(e),d.i&&(d.h=d.h.l(e))):(h=this.size.add(d.size),a=2*(t.y-d.g.y)>h.y+0,o=2*Math.abs(t.y-d.g.y)<h.y,c=2*Math.abs(t.x-d.g.x)<h.x,e=Math.max(this.s,d.s),!a&&!c&&o||(this.g.y=d.g.y+(h.y/2+.001)*Math.sign(t.y-d.g.y),d.u&&g||!d.i?(g&&(this.u=d),this.h.y*=-e):d.i&&(c=(this.i*this.h.y+d.i*d.h.y)/(this.i+d.i),l=d.h.y*(d.i-this.i)/(this.i+d.i)+2*this.h.y*this.i/(this.i+d.i),this.h.y=c+i(e)*(this.h.y*(this.i-d.i)/(this.i+d.i)+2*d.h.y*d.i/(this.i+d.i)-c),d.h.y=c+i(e)*(l-c))),!a&&o&&(this.g.x=d.g.x+(h.x/2+.001)*Math.sign(t.x-d.g.x),d.i?(h=(this.i*this.h.x+d.i*d.h.x)/(this.i+d.i),a=d.h.x*(d.i-this.i)/(this.i+d.i)+2*this.h.x*this.i/(this.i+d.i),this.h.x=h+i(e)*(this.h.x*(this.i-d.i)/(this.i+d.i)+2*d.h.x*d.i/(this.i+d.i)-h),d.h.x=h+i(e)*(a-h)):this.h.x*=-e)));this.A&&ht(this.g,this.size,this)&&!ht(t,this.size,this)&&(d=ht(r(this.g.x,t.y),this.size,this),!ht(r(t.x,this.g.y),this.size,this)&&d||(this.h.y*=-this.s,(this.u=g)?this.g.y=(t.y-this.size.y/2|0)+this.size.y/2+1e-4:this.g.y=t.y),d)&&(this.g.x=t.x,this.h.x*=-this.s)}}W(){B(this.g,this.ra||this.size,this.N,this.color,this.angle,this.F,this.la)}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}let z,A,P,I,S=r(),j=[];function D(t=r()){var i=16,e=("number"==typeof i&&(i=r(i)),j[0]),s=i.add(r(0));return"number"==typeof t&&(t=0<(e=e.size.x/s.x|0)?r(t%e,t/e|0):r()),t=r(t.x*s.x,t.y*s.y),new k(t,i,0,0)}class k{constructor(t=r(),i=v,e=0,s=0){this.g=t.m(),this.size=i.m(),this.ka=e,this.padding=s}offset(t){return new k(this.g.add(t),this.size,this.ka)}frame(t){return this.offset(r(t*(this.size.x+2*this.padding),0))}}class T{constructor(t){this.image=t,this.size=r(t.width,t.height);var i,e=Y.createTexture();Y.bindTexture(3553,e),t&&t.width?Y.texImage2D(3553,0,6408,6408,5121,t):(i=new Uint8Array([255,255,255,255]),Y.texImage2D(3553,0,6408,1,1,0,6408,5121,i)),Y.texParameteri(3553,10241,9728),Y.texParameteri(3553,10240,9728),this.ea=e,this.za=r(1/t.width,1/t.height)}}function B(t,i=r(1),e,s=new d,h=0,n,a){var o,u,c,l,x=e&&j[e.ka];x?(o=x.za,u=e.g.x*o.x,c=e.g.y*o.y,l=e.size.x*o.x,e=e.size.y*o.y,(x=x.ea)!=V&&(ut(),Y.bindTexture(3553,V=x)),ct(t.x,t.y,n?-i.x:i.x,i.y,h,u,c,u+l,c+e,g(s),a&&g(a))):ct(t.x,t.y,i.x,i.y,h,0,0,0,0,0,g(s))}function C(t,i){var e=new d(0,0,0),s=I;s.fillStyle=(new d).toString(),s.strokeStyle=e.toString(),s.lineWidth=0,s.textAlign="center",s.font="50px arial",s.textBaseline="middle",s.lineJoin="round",t=(t+"").split("\n"),(i=i.m()).y-=50*(t.length-1)/2,t.forEach(t=>{s.fillText(t,i.x,i.y,void 0),i.y+=50})}function E(t,i=0){return K[i]&&!!(1&K[i][t])}let F=!1;function L(t,i=0){return E(t,i+1)}let K=[[]];function G(){for(const t of K)for(const i in t)t[i]&=1}function O(t){var i;return z?(i=z.getBoundingClientRect(),r(z.width,z.height).multiply(r(e(t.x,i.left,i.right),e(t.y,i.top,i.bottom)))):r()}const R=[];function U(){var t,i;if(navigator&&navigator.getGamepads&&document.hasFocus()){var s=navigator.getGamepads();for(let d=s.length;d--;){var h=s[d],n=K[d+1]||(K[d+1]=[]),a=R[d]||(R[d]=[]);if(h){for(var o=0;o<h.axes.length-1;o+=2)a[o>>1]=(t=r(h.axes[o],h.axes[o+1]),c(r((i=t=>.3<t?e(t,.3,.8):t<-.3?-e(-t,.3,.8):0)(t.x),i(-t.y))));for(o=h.buttons.length;o--;){var l=h.buttons[o],g=L(o,d);n[o]=l.pressed?g?1:3:g?4:0,F||=!d&&l.pressed}u(h=r((L(15,d)&&1)-(L(14,d)&&1),(L(12,d)&&1)-(L(13,d)&&1)))&&(a[0]=c(h))}}}}const W=void 0!==window.ontouchstart;let H,J,Y,N,V,X,q,Z,$,_,Q,tt,it=new AudioContext,et=[],st=r();function ht(t,i=r(),e){var s=Math.max(t.x-i.x/2|0,0),h=Math.max(t.y-i.y/2|0,0),n=Math.min(t.x+i.x/2,st.x);for(t=Math.min(t.y+i.y/2,st.y);h<t;++h)for(i=s;i<n;++i){var a=et[h*st.x+i];if(a&&(!e||0<a))return!0}return!1}function nt(t){var i="number"==typeof t.S?function(t=1){return 0<t?n(t*h(0/t,1)**.5):new l}(t.S/2):r(h(-.5,.5),h(-.5,.5)).multiply(t.S).rotate(t.angle);let e=h(t.ha,-t.ha);t.V||(i=t.g.add(i),e+=t.angle);const s=t.wa;var u=(x=t=>t+t*h(s,-s))(t.va),c=x(t.X),g=x(t.xa),d=x(t.speed),x=x(t.ma)*(2*Math.floor(h(2,0))-1),y=h(t.ba,-t.ba),f=a(t.pa,t.qa,t.ja),m=a(t.na,t.oa,t.ja);y=t.V?y:t.angle+y,(i=new rt(i,t.N,e,f,m,u,c,g,t.D,t.H,t.O,t.V&&t,t.ua)).h=o(r(),y,d),i.P=x,i.D=t.D,i.B=t.B,i.I=t.I,i.s=t.s,i.T=t.T,i.L=t.L,i.A=t.A,i.M=t.M,i.F=!!Math.floor(h(2,0)),t.ia&&t.ia(i)}class at extends M{constructor(i,e,s=0,h=0,n=100,a=t,o,u=new d,c=new d,l=new d(1,1,1,0),g=new d(1,1,1,0),x=.5,y=.1,f=1,m=.1,v=.05,w=1,p=1,b=0,M=t,z=.1,A=.2,P=!1,I=!1,S=!0,j=(I?1e9:0),D=!1){super(i,r(),o,e,void 0,j),this.S=s,this.da=h,this.ca=n,this.ba=a,this.pa=u,this.qa=c,this.na=l,this.oa=g,this.ja=S,this.va=x,this.X=y,this.xa=f,this.speed=m,this.ma=v,this.B=w,this.I=p,this.L=b,this.ha=M,this.D=z,this.wa=A,this.A=P,this.H=I,this.V=D,this.O=0,this.ia=this.ua=void 0,this.C=0}update(){if(this.parent&&super.update(),!this.da||yt-this.Y<=this.da){if(+this.ca){var t=1/this.ca;for(this.C+=lt;0<this.C;this.C-=t)nt(this)}}else p(this)}W(){}}class rt extends M{constructor(t,i,e,s,h,n,a,o,u,c,l,g,d){super(t,r(),i,e),this.K=s,this.J=h.l(s),this.ga=n,this.X=a,this.ya=o-a,this.D=u,this.H=c,this.O=l,this.v=g,this.$=d,this.Z=!1}W(){var t=0<this.ga?Math.min((yt-this.Y)/this.ga,1):1,i=r(this.X+t*this.ya),e=this.D/2;e=new d(this.K.r+t*this.J.r,this.K.j+t*this.J.j,this.K.b+t*this.J.b,(this.K.a+t*this.J.a)*(t<e?t/e:1-e<t?(1-t)/e:1)),this.H&&(Q=!0);let s=this.g;var h,n,a=this.angle;this.v&&(s=this.v.g.add(s.rotate(-this.v.angle)),a+=this.v.angle),this.O?(h=this.h,(a=(h=this.v?h.rotate(-this.v.angle):h).length())&&(h=h.scale(1/a),n=a*this.O,i.y=Math.max(i.x,n),a=h.angle(),B(s.add(h.multiply(r(0,-n/2))),i,this.N,e,a,this.F))):B(s,i,this.N,e,a,this.F),this.H&&(Q=void 0),1==t&&(this.color=e,this.size=i,this.$&&this.$(this),this.o=1)}}function ot(t,i){return i=Y.createShader(i),Y.shaderSource(i,t),Y.compileShader(i),i}function ut(){var t;_&&(t=tt?1:771,Y.blendFuncSeparate(770,t,1,t),Y.enable(3042),Y.bufferSubData(34962,0,Z),Y.drawArraysInstanced(5,0,4,_),_=0,tt=Q)}function ct(t,i,e,s,h,n,a,r,o,u=-1,c=0){(1e4<=_||tt!=Q)&&ut();var l=11*_++;Z[l++]=t,Z[l++]=i,Z[l++]=e,Z[l++]=s,Z[l++]=n,Z[l++]=a,Z[l++]=r,Z[l++]=o,$[l++]=u,$[l++]=c,Z[+l]=h}const lt=1/60;let gt=[],dt=[],xt=0,yt=0,ft=0,mt=0;const vt=[],wt=[];function pt(){dt=gt.filter(t=>t.R);for(const t of gt)t.parent||(function t(i){if(!i.o){i.update();for(const e of i.children)t(e)}}(t),w(t));gt=gt.filter(t=>!t.o)}let bt,Mt,zt=0,At=0,Pt=!0,It=0,St=130,jt=0;class Dt extends M{constructor(){super(r(0,0),r(.7,1),D(0)),b(this)}}class kt extends M{constructor(t){super(t,void 0,D(1)),b(this)}update(){(function(t,i,e){(function(t,i,e=gt){var h=[];if(t)if(i instanceof l)for(const n of e)s(t,i,n.g,n.size)&&h.push(n);else{i*=i;for(const s of e)e=s.g,(t.x-e.x)**2+(t.y-e.y)**2<i&&h.push(s)}else for(const t of e)h.push(t);return h})(t,i,gt).forEach(t=>e(t))})(this.g,this.size,i=>{i==Mt&&(p(this),++At,new at(this.g,0,this.Aa/4,.1,700,t,0,new d(1,.5,.1),new d(1,.1,.1),new d(1,.5,.1,0),new d(1,.1,.1,0),.7,.8,.2,.2,.05,.9,1,-.2,t,.05,.5,0,1,0,1e9)),i==bt&&(Pt=!1)}),super.update(),Pt||p(this);var i=r(bt.g.x-this.g.x,bt.g.y-this.g.y);this.g.x+=.1*i.normalize().x,this.g.y+=.1*i.normalize().y}}class Tt extends M{constructor(t,i){super(t,r(.8,1.6),D(2)),b(this),this.angle=i}update(){super.update(),.1<yt-this.Y&&p(this)}}!function(t,i,e,s,h,n=document.body){function a(h=0){var n=h-ft;for(ft=h,mt+=n,mt=Math.min(mt,50),o(),h=0,mt<0&&-9<mt&&(h=mt,mt=0);0<=mt;mt-=1e3/60)yt=xt++/60,W||document.hasFocus()||(K=[[]]),U(),t(),vt.forEach(t=>t()),pt(),i(),G();mt+=h,S=r(z.width,z.height),I.imageSmoothingEnabled=A.imageSmoothingEnabled=!1,function(){Y.viewport(0,0,J.width=z.width,J.height=z.height),Y.clear(16384),Y.useProgram(N),Y.activeTexture(33984),j[0]&&Y.bindTexture(3553,V=j[0].ea);let t=Q=tt=0;var i=(i,e,s,h)=>{i=Y.getAttribLocation(N,i);var n=s&&44,a=s&&1,r=1==s;Y.enableVertexAttribArray(i),Y.vertexAttribPointer(i,h,e,r,n,t),Y.vertexAttribDivisor(i,a),t+=h*s},e=(Y.bindBuffer(34962,q),i("g",5126,0,2),Y.bindBuffer(34962,X),Y.bufferData(34962,44e4,35048),i("p",5126,4,4),i("u",5126,4,4),i("c",5121,1,4),i("a",5121,1,4),i("r",5126,4,1),i=r(64).aa(S),r(-1).l(y.multiply(i)));Y.uniformMatrix4fv(Y.getUniformLocation(N,"m"),!1,[i.x,0,0,0,0,i.y,0,0,1,1,1,1,e.x,e.y,0,0])}(),e(),gt.sort((t,i)=>t.M-i.M);for(const t of gt)t.o||t.W();s(),wt.forEach(t=>t()),_&&ut(),requestAnimationFrame(a)}function o(){var t,i;m.x?(z.width=m.x,z.height=m.y,t=innerWidth/innerHeight,i=z.width/z.height,(J||z).style.width=z.style.width=P.style.width=t<i?"100%":"",(J||z).style.height=z.style.height=P.style.height=t<i?"":"100%"):(z.width=Math.min(innerWidth,f.x),z.height=Math.min(innerHeight,f.y)),P.width=z.width,P.height=z.height,S=r(z.width,z.height)}n.style.cssText="margin:0;background:#000;image-rendering:pixelated;user-select:none;-webkit-user-select:none;touch-action:none;-webkit-touch-callout:none",n.appendChild(z=document.createElement("canvas")),A=z.getContext("2d"),function(){function t(t){return"KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t}onkeydown=i=>{i.repeat||(F=!1,K[0][i.code]=3,K[0][t(i.code)]=3)},onkeyup=i=>{K[0][i.code]=4,K[0][t(i.code)]=4},onmousedown=t=>{it&&"running"!=it.state&&it.resume(),F=!1,K[0][t.button]=3,O(t),t.button&&t.preventDefault()},onmouseup=t=>K[0][t.button]=2&K[0][t.button]|4,onmousemove=t=>O(t),onwheel=t=>t.ctrlKey?0:Math.sign(t.deltaY),oncontextmenu=()=>!1,onblur=()=>{K=[[]]},W&&function(){function t(t){it&&"running"!=it.state&&it.resume();var e=t.touches.length;return e?(O(r(t.touches[0].clientX,t.touches[0].clientY)),i?F=!1:K[0][0]=3):i&&(K[0][0]=2&K[0][0]|4),i=e,document.hasFocus()&&t.preventDefault(),!0}let i;document.addEventListener("touchstart",i=>t(i),{passive:!1}),document.addEventListener("touchmove",i=>t(i),{passive:!1}),document.addEventListener("touchend",i=>t(i),{passive:!1}),onmousedown=onmouseup=()=>0}()}(),(H=it.createGain()).connect(it.destination),H.gain.value=.3,function(){J=document.createElement("canvas"),Y=J.getContext("webgl2",{antialias:!0}),z.parentElement.appendChild(J);var t=Y.createProgram();Y.attachShader(t,ot("#version 300 es\nprecision highp float;uniform mat4 m;in vec2 g;in vec4 p,u,c,a;in float r;out vec2 v;out vec4 d,e;void main(){vec2 s=(g-.5)*p.zw;gl_Position=m*vec4(p.xy+s*cos(r)-vec2(-s.y,s)*sin(r),1,1);v=mix(u.xw,u.zy,g);d=c;e=a;}",35633)),Y.attachShader(t,ot("#version 300 es\nprecision highp float;uniform sampler2D s;in vec2 v;in vec4 d,e;out vec4 c;void main(){c=texture(s,v)*d+e;}",35632)),Y.linkProgram(t),N=t,t=new ArrayBuffer(44e4),Z=new Float32Array(t),$=new Uint32Array(t),X=Y.createBuffer(),q=Y.createBuffer(),t=new Float32Array([_=0,0,1,0,0,1,1,1]),Y.bindBuffer(34962,q),Y.bufferData(34962,t,35044)}(),n.appendChild(P=document.createElement("canvas")),I=P.getContext("2d"),z.style.cssText=P.style.cssText="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",J&&(J.style.cssText="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)"),o(),n=h.map((t,i)=>new Promise(e=>{const s=new Image;s.crossOrigin="anonymous",s.onerror=s.onload=()=>{j[i]=new T(s),e()},s.src=t})),h.length||n.push(new Promise(t=>{j[0]=new T(new Image),t()})),Promise.all(n).then(function(){new Promise(t=>t((m=r(1280,720),(bt=new Dt).G=new x,void bt.G.set(5)))).then(a)})}(function(){if(0<bt.G.get()&&30<St&&(console.log("nextlvl"),bt.G.set(10),St-=10),Pt){var t=r(0,0);if(E("ArrowUp")&&(t.y=1),E("ArrowDown")&&(t.y=-1),E("ArrowLeft")&&(t.x=-1),E("ArrowRight")&&(t.x=1),0!=t.x||0!=t.y?(bt.h.y=.3*t.normalize().y,bt.h.x=.3*t.normalize().x):bt.h=r(0,0),1==t.x&&1==t.y&&(zt=4,bt.angle=45*Math.PI/180),-1==t.x&&1==t.y&&(zt=7,bt.angle=-45*Math.PI/180),1==t.x&&-1==t.y&&(zt=5,bt.angle=135*Math.PI/180),-1==t.x&&-1==t.y&&(zt=6,bt.angle=-135*Math.PI/180),-1==t.x&&0==t.y&&(zt=3,bt.angle=90*Math.PI/180),1==t.x&&0==t.y&&(zt=1,bt.angle=-90*Math.PI/180),0==t.x&&1==t.y&&(zt=0,bt.angle=0),0==t.x&&-1==t.y&&(zt=2,bt.angle=-180*Math.PI/180),E("Space")&&0===It){var i=0;switch(zt){case 2:t=r(bt.g.x,bt.g.y-1),i=90*Math.PI/180;break;case 1:t=r(bt.g.x+1,bt.g.y);break;case 3:t=r(bt.g.x-1,bt.g.y);break;case 4:t=r(bt.g.x+1,bt.g.y+1),i=135*Math.PI/180;break;case 7:t=r(bt.g.x-1,bt.g.y+1),i=-135*Math.PI/180;break;case 5:t=r(bt.g.x+1,bt.g.y-1),i=-135*Math.PI/180;break;case 6:t=r(bt.g.x-1,bt.g.y-1),i=135*Math.PI/180;break;default:t=r(bt.g.x,bt.g.y+1),i=90*Math.PI/180}Mt=new Tt(t,i),It=10}0<It&&--It,t=[(t=r(bt.g.x+20,bt.g.y+20)).x,t.y];var e=Math.floor(360*Math.random());e=Math.PI/180*-e,i=Math.cos(e),e=Math.sin(e),t=r((t=[Math.round(1e4*(t[0]*i-t[1]*e))/1e4,Math.round(1e4*(t[0]*e+t[1]*i))/1e4])[0],t[1]),0===jt?(new kt(t),jt=St):jt--}Pt||(bt.g=r(0,0),bt.G.time=void 0,E("KeyR")&&(At=0,Pt=!0,bt.G.set(10))),B(y,r(100),void 0,new d(.5,.5,.5),void 0,!1)},function(){},function(){},function(){C("Score "+At,r(S.x/2,70)),Pt||(C("Game Over!",r(S.x/2,S.y/2)),C(" Press R to restart",r(S.x/2,S.y/2+70)))},["tiles.png"])</script>