<!doctype html><meta content="width=device-width" name=viewport><title>DeStar</title><style>*{margin:0;padding:0}body,html{color:#fff;background-color:#000;height:100%;position:relative;width:100%}#end,#game{position:absolute;visibility:hidden}canvas{text-align:center}#start{position:absolute}h1,h3{text-align:center}.h{font-size:64px}#b,#c{border:2px solid #fff;border-radius:10px}#b:hover,#c:hover{background-color:#090}</style><section id=start><h1 class=h>DeStar</h1><h3>The reason we conquered space was to bring back minerals to earth.<h3><h3>Assist the spacewalker with mining the gold nuggets.</h3><h3>Only the Austronout can mine, the android can assist but not mine.</h3><h3>As discovered, it is harder to collect in zero gravity.</h3><h3 id=b>Start Mining</h3><center>Use A, W, S and D control the spacewalker.<br>Use arrows to control the android.<br>Coding: Per KÃ¼rcman<p>Graphics: Alexander Morawski</center></section><section id=game><h1 class=h>DeStar</h1><canvas height=320 width=512></canvas><h1 id=t></h1></section><section id=end><h1 class=h>DeStar</h1><div id=over></div><h3 id=c>Restart mining</h3></section><script>const Player=function(){};Player.prototype={moveTo:function(e,s){this.x<e&&(this.x+=move_speed),this.x>e&&(this.x+=-move_speed),this.y<s&&(this.y+=move_speed),this.y>s&&(this.y+=-move_speed)}};var level,move_speed=4,moves=0,accmoves=0,score=0,nuggets=1,scaled_size=32,sprite_size=16,columns=16,rows=10,map=[],leveldata=[10,7,2,8,2,11,2,6,2,5,7,4,8,5,8,9,2,5,1,4,11,11,1,1,1,10,2,6,14,1],levels=[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,3,0,0,0,0,0,0,0,3,0,1,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,3,1,3,3,0,0,0,0,3,1,3,3,3,3,3,0,0,3,0,0,0,0,0,0,0,3,0,0,0,3,3,0,0,0,0,0,0,1,0,3,0,1,0,0,0,3,3,3,0,0,1,0,0,0,0,3,0,0,1,0,0,3,3,0,1,0,3,3,1,0,0,0,1,0,3,3,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,3,0,0,0,0,0,0,0,0,0,0,0,1,3,3,0,0,0,1,0,0,0,3,3,0,0,1,3,3,3,3,0,0,0,3,0,0,0,0,1,0,0,0,3,3,3,3,0,0,3,0,0,0,0,1,3,1,0,3,0,0,3,3,0,0,3,1,0,3,0,3,3,0,0,1,0,0,3,3,0,0,0,3,0,0,0,0,1,0,1,3,1,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,3,3,3,3,1,0,1,0,0,0,0,0,0,3,3,0,0,0,0,3,0,0,0,0,1,0,0,0,0,3,3,0,0,0,1,0,0,0,0,3,3,3,1,0,3,3,3,0,0,0,3,3,0,0,0,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,3,3,0,0,0,3,3,0,3,3,0,0,0,0,0,0,0,0,0,1,0,3,3,0,0,0,0,0,0,3,0,0,3,3,0,0,0,3,3,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,0,0,0,0,0,0,0,0,3,0,3,3,3,0,0,0,3,0,0,0,0,0,0,0,1,0,3,3,3,3,0,0,1,0,0,0,0,0,0,0,1,0,0,3,3,0,3,0,0,0,0,3,0,1,0,0,0,0,3,3,3,0,0,0,0,3,0,3,3,3,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,3,0,0,0,0,3,3,3,0,0,3,0,1,0,3,0,1,0,0,3,3,3,3,3,0,0,0,0,3,0,1,0,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,3,0,0,0,1,3,3,3,1,0,3,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,3,3,0,1,0,1,0,1,0,3,0,3,0,0,0,0,3,3,0,0,0,3,0,0,0,0,0,0,3,0,1,0,3,3,0,0,1,3,1,0,0,0,0,0,0,0,0,0,3,3,0,1,0,0,0,1,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,1,0,0,0,0,0,0,0,0,0,3,3,0,0,3,3,0,3,0,0,0,3,1,0,1,0,3,3,0,1,0,0,0,0,0,0,0,1,3,0,0,0,3,3,0,0,0,0,0,0,1,0,0,3,1,0,0,0,3,3,3,3,3,3,0,3,0,0,0,0,0,0,0,0,3,3,0,0,0,3,0,3,0,0,0,3,0,1,0,3,3,3,0,1,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,1,0,3,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],context=document.querySelector("canvas").getContext("2d"),startMenu=document.getElementById("start"),gameScreen=document.getElementById("game"),endScreen=document.getElementById("end"),startButton=document.getElementById("b");document.getElementById("b").addEventListener("click",startGame),document.getElementById("c").addEventListener("click",startGame);var playerA=new Player,playerB=new Player,pointerA={x:playerA.x,y:playerA.y},pointerB={x:playerB.x,y:playerB.y};function loop(){window.requestAnimationFrame(loop);var e=document.documentElement.clientWidth;nuggets==score&&init(level+1),6==level&&finish(),document.getElementById("t").innerHTML="Stage:"+(level+1)+", Stage Moves:"+moves+", Total Moves:"+accmoves,context.imageSmoothingEnabled=!1,playerA.moveTo(pointerA.x,pointerA.y),playerB.moveTo(pointerB.x,pointerB.y),startMenu.style.left=e/2-startMenu.offsetWidth/2+"px",gameScreen.style.left=e/2-gameScreen.offsetWidth/2+"px",endScreen.style.left=e/2-endScreen.offsetWidth/2+"px";for(let e=0;e<columns;e++)for(let s=0;s<rows;s++){let t=map[s*columns+e];context.drawImage(tile_sheet,t*sprite_size,0,sprite_size,sprite_size,e*scaled_size,s*scaled_size,scaled_size,scaled_size)}Math.floor(playerA.y/scaled_size),Math.floor(playerA.x/scaled_size);let s=Math.floor(playerB.y/scaled_size)*columns+Math.floor(playerB.x/scaled_size);1==map[s]&&(map[s]=0,score++),context.drawImage(tile_sheet,32,0,sprite_size,sprite_size,playerA.x,playerA.y,scaled_size,scaled_size),context.drawImage(tile_sheet,64,0,sprite_size,sprite_size,playerB.x,playerB.y,scaled_size,scaled_size)}function keyPush(e){if(playerA.x==pointerA.x&&playerA.y==pointerA.y&&playerB.x==pointerB.x&&playerB.y==pointerB.y){let s=playerA.x/scaled_size,t=playerA.y/scaled_size,l=playerB.x/scaled_size,a=playerB.y/scaled_size;map[s+t*columns]=3,map[l+a*columns]=3,moves++,accmoves++;let i=0;switch(e.keyCode){case 37:for(;map[s+t*columns+i-1]%2!=1;)i--;pointerA.x=(s+i)*scaled_size;break;case 38:for(;map[s+(t+i-1)*columns]%2!=1;)i--;pointerA.y=(t+i)*scaled_size;break;case 39:for(;map[s+t*columns+i+1]%2!=1;)i++;pointerA.x=(s+i)*scaled_size;break;case 40:for(;map[s+(t+i+1)*columns]%2!=1;)i++;pointerA.y=(t+i)*scaled_size;break;case 65:for(;3!=map[l+a*columns+i-1];)i--;pointerB.x=(l+i)*scaled_size;break;case 87:for(;3!=map[l+(a+i-1)*columns];)i--;pointerB.y=(a+i)*scaled_size;break;case 68:for(;3!=map[l+a*columns+i+1];)i++;pointerB.x=(l+i)*scaled_size;break;case 83:for(;3!=map[l+(a+i+1)*columns];)i++;pointerB.y=(a+i)*scaled_size}pointerA.x==(s+i)*scaled_size&&pointerA.y==(t+i)*scaled_size&&pointerB.x==(l+i)*scaled_size&&pointerB.y==(a+i)*scaled_size&&(moves--,accmoves--),map[s+t*columns]=0,map[l+a*columns]=0}}function startGame(){startMenu.style.visibility="hidden",gameScreen.style.visibility="visible",endScreen.style.visibility="hidden",accmoves=0,init(0)}function init(e){score=0,moves=0,nuggets=leveldata[0+5*(level=e)],playerA.x=leveldata[1+5*level]*scaled_size,playerA.y=leveldata[2+5*level]*scaled_size,playerB.x=leveldata[3+5*level]*scaled_size,playerB.y=leveldata[4+5*level]*scaled_size,pointerA.x=playerA.x,pointerA.y=playerA.y,pointerB.x=playerB.x,pointerB.y=playerB.y;for(let e=0;e<columns*rows;e++)map[e]=levels[e+level*rows*columns]}function finish(){startMenu.style.visibility="hidden",gameScreen.style.visibility="hidden",endScreen.style.visibility="visible",document.getElementById("over").innerHTML="Thank you for bringing all the minerals back to base in "+accmoves+" moves.<br> We do know you can do it more efficient, please do so your next trip."}init(0);var tile_sheet=new Image;tile_sheet.addEventListener("load",(e=>{loop()})),tile_sheet.src="destar.png",document.addEventListener("keydown",keyPush)</script>