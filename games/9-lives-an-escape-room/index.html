<title>9 Lives: An escape room</title><script src=/2025/webxr/aframe.js></script><body><a-scene cursor="rayOrigin: mouse; fuse: false" background="color: black;"><a-assets><canvas id=poem></canvas><canvas id=clockface></canvas><canvas id=page-1></canvas><canvas id=page-2></canvas><canvas id=maze></canvas><canvas id=maths-1></canvas><canvas id=maths-2></canvas><canvas id=end-message-canvas></canvas><canvas id=letter-orb-1></canvas><canvas id=letter-orb-2></canvas><canvas id=letter-orb-3></canvas><canvas id=letter-orb-4></canvas><canvas id=letter-orb-5></canvas><canvas id=letter-orb-6></canvas><canvas id=letter-orb-7></canvas><canvas id=letter-orb-8></canvas><canvas id=letter-orb-9></canvas><canvas id=letter-clue-1></canvas><canvas id=letter-clue-2></canvas><canvas id=letter-clue-3></canvas><canvas id=letter-clue-4></canvas><canvas id=letter-clue-5></canvas><canvas id=letter-clue-6></canvas><canvas id=letter-clue-7></canvas><canvas id=letter-clue-8></canvas><canvas id=letter-clue-9></canvas></a-assets><a-plane height=2.5 width=2.5 rotation="-90 0 0" material="color: #282624; roughness: 1"></a-plane><a-plane height=2.5 width=2.6 rotation="60 -90 -90" position="0.2 3.12 -0.15" material="color: #8c5740; roughness: 1"></a-plane><a-plane height=2.5 width=2.6 rotation="120 -90 -90" position="-0.2 3.12 -0.15" material="color: #8c5740; roughness: 1"></a-plane><a-box height=0.1 width=2.5 depth=0.05 position="0 2.45 -0.8" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0 3 -0.8" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="-0.4 2.85 -0.8" rotation="0 0 45" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0.4 2.85 -0.8" rotation="0 0 -45" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="-0.6 2.83 -0.8" rotation="0 0 30" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="0.6 2.83 -0.8" rotation="0 0 -30" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=2.5 depth=0.05 position="0 2.45 0" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0 3 0" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="-0.4 2.85 0" rotation="0 0 45" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0.4 2.85 0" rotation="0 0 -45" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="-0.6 2.83 0" rotation="0 0 30" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="0.6 2.83 0" rotation="0 0 -30" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=2.5 depth=0.05 position="0 2.45 0.8" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0 3 0.8" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="-0.4 2.85 0.8" rotation="0 0 45" material="color: #8c5740; roughness: 1"></a-box><a-box height=1 width=0.1 depth=0.05 position="0.4 2.85 0.8" rotation="0 0 -45" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="-0.6 2.83 0.8" rotation="0 0 30" material="color: #8c5740; roughness: 1"></a-box><a-box height=0.1 width=1.8 depth=0.05 position="0.6 2.83 0.8" rotation="0 0 -30" material="color: #8c5740; roughness: 1"></a-box><a-plane height=3.5 width=2.6 position="0 1.75 -1.25" material="color: #bbb; roughness: 1;"></a-plane><a-plane height=2.5 width=2.5 position="-1.25 1.25 0" rotation="0 90 0" material="color: #bbb; roughness: 1;"></a-plane><a-plane height=2.5 width=2.5 position="1.25 1.25 0" rotation="0 270 0" material="color: #bbb; roughness: 1;"></a-plane><a-box depth=0.3 width=0.7 height=3.5 position="0.9 1.75 1.25" material="color: #bbb; roughness: 1;"></a-box><a-box depth=0.3 width=0.7 height=3.5 position="-0.9 1.75 1.25" material="color: #bbb; roughness: 1;"></a-box><a-box depth=0.3 width=1.1 height=1.2 position="0 2.7 1.25" material="color: #bbb; roughness: 1;"></a-box><a-entity id=door depth=0.05 width=2.2 height=2.1 position="-0.55 1.05 1.25"><a-box depth=0.05 width=1.1 height=2.1 position="0.55 0 0" material="color: #8c5740; roughness: 1"></a-box></a-entity><a-plane id=end-message width=1.6 height=0.8 position="0 1.5 1" rotation="0 180 0" visible material="src: #end-message-canvas; shader: flat; transparent: true;"></a-plane><a-plane height=0.75 width=1.5 position="0.1 1.7 -1.2" rotation="0 0 0" material="src: #poem; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.5 height=0.04 position="-1.25 1.5 0" rotation="-10 0 -90" material="color: white; emissive: white; emissiveIntensity: 0.1" segments-radial=9 segments-height=1></a-cylinder><a-plane position="-1.22 1.48 0" rotation="0 90 0" material="src: #clockface; shader: flat; transparent: true;"></a-plane><a-entity id=clock-hand height=0.5 width=0.5 position="-1.2 1.5 0" rotation="0 90 0"><a-box color=#777 width=0.02 height=0.3 depth=0.01 position="0 0.09 0"></a-box><a-entity scale="1 10 1"><a-box color=#777 width=0.03 height=0.03 depth=0.01 position="0 0.015 0" rotation="0 0 45"></a-box></a-entity></a-entity><a-light type=ambient intensity=0.2></a-light><a-light id=light intensity=1 type=point position="0 2.1 0"></a-light><a-entity id=cat position="-0.65 1.35 -1" rotation="0 45 0" scale="0.8 0.8 0.8"><a-entity id=cat-head><a-sphere class=clickable radius=0.2 rotation="0 0 0" scale="1 0.7 1" material="color: #111; roughness: 1;" segments-height=16 segments-width=24></a-sphere><a-sphere radius=0.07 position="-0.1 0.11 0.1" rotation="-15 90 90" scale="1.4 0.2 0.4" material="color: #111; roughness: 1;" segments-height=8 segments-width=24></a-sphere><a-sphere radius=0.05 position="-0.1 0.11 0.11" rotation="-15 90 90" scale="1.4 0.1 0.4" material="color: pink; roughness: 1; emissive: pink; emissiveIntensity: 0.05" segments-height=6 segments-width=16></a-sphere><a-sphere radius=0.07 position="0.1 0.11 0.1" rotation="15 90 90" scale="1.4 0.2 0.4" material="color: #111; roughness: 1;" segments-height=8 segments-width=24></a-sphere><a-sphere radius=0.05 position="0.1 0.11 0.11" rotation="15 90 90" scale="1.4 0.1 0.4" material="color: pink; roughness: 1; emissive: pink; emissiveIntensity: 0.05" segments-height=6 segments-width=16></a-sphere><a-sphere radius=0.04 position="-0.06 0.02 0.17" rotation="0 0 0" material="color: #f7c954; emissive: #fbe23c; emissiveIntensity: 0.05" segments-height=12 segments-width=12></a-sphere>><a-sphere radius=0.04 position="0.06 0.02 0.17" rotation="0 0 0" material="color: #f7c954; emissive: #fbe23c; emissiveIntensity: 0.05" segments-height=12 segments-width=12></a-sphere><a-tetrahedron radius=0.03 position="0 -0.02 0.19" rotation="-25 -120 145" material="color: pink; roughness: 1; emissive: pink; emissiveIntensity: 0.05"></a-tetrahedron><a-entity position="0 -0.05 0.18"><a-box width=0.18 depth=0.001 height=0.001 position="-0.12 0 0" rotation="0 0 -3" color=#ccc></a-box><a-box width=0.18 depth=0.001 height=0.001 position="-0.12 -0.01 0" color=#ccc></a-box><a-box width=0.18 depth=0.001 height=0.001 position="-0.12 -0.02 0" rotation="0 0 3" color=#ccc></a-box><a-box width=0.18 depth=0.001 height=0.001 position="0.12 0 0" rotation="0 0 3" color=#ccc></a-box><a-box width=0.18 depth=0.001 height=0.001 position="0.12 -0.01 0" color=#ccc></a-box><a-box width=0.18 depth=0.001 height=0.001 position="0.12 -0.02 0" rotation="0 0 -3" color=#ccc></a-box></a-entity></a-entity><a-sphere class=clickable radius=0.25 position="0 -0.36 0" rotation="0 0 0" scale="0.8 1 1" material="color: #111; roughness: 1;" segments-height=24 segments-width=16></a-sphere></a-entity><a-entity position="0 0.45 -0.9"><a-box width=0.08 height=0.8 depth=0.08 position="-0.7 0 -0.25" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.08 height=0.8 depth=0.08 position="-0.7 0 0.25" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.08 height=0.8 depth=0.08 position="0.7 0 -0.25" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.08 height=0.8 depth=0.08 position="0.7 0 0.25" material="color: #cb7a57; roughness: 1"></a-box><a-box width=1.5 height=0.02 depth=0.6 position="0 0.4 0" material="color: #cb7a57; roughness: 1"></a-box><a-entity position="-0.33 0 0"><a-entity class=drawer><a-box width=0.64 height=0.01 depth=0.6 position="0 0.2 0" material="color: #cb7a57; roughness: 1"></a-box><a-box class="letter-clue clue" position="0 0.3 0.1" rotation="-90 0 0" width=0.2 height=0.2 depth=0.02></a-box><a-box width=0.02 height=0.2 depth=0.6 position="-0.32 0.3 0" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.02 height=0.2 depth=0.6 position="0.32 0.3 0" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.64 height=0.2 depth=0.01 position="0 0.3 -0.3" material="color: #cb7a57; roughness: 1"></a-box><a-box class=clickable width=0.64 height=0.2 depth=0.01 position="0 0.3 0.295" material="color: #cb7a57; roughness: 1"></a-box><a-torus class=clickable color=#777 arc=180 radius=0.1 radius-tubular=0.005 position="0 0.3 0.3" rotation="90 0 0" scale="1 0.5 1"></a-torus></a-entity></a-entity><a-entity position="0.33 0 0"><a-entity class=drawer><a-box width=0.64 height=0.01 depth=0.6 position="0 0.2 0" material="color: #cb7a57; roughness: 1"></a-box><a-box class="letter-clue clue" position="0 0.3 0.1" rotation="-90 0 0" width=0.2 height=0.2 depth=0.02></a-box><a-box width=0.02 height=0.2 depth=0.6 position="-0.32 0.3 0" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.02 height=0.2 depth=0.6 position="0.32 0.3 0" material="color: #cb7a57; roughness: 1"></a-box><a-box width=0.64 height=0.2 depth=0.01 position="0 0.3 -0.3" material="color: #cb7a57; roughness: 1"></a-box><a-box class=clickable width=0.64 height=0.2 depth=0.01 position="0 0.3 0.295" material="color: #cb7a57; roughness: 1"></a-box><a-torus class=clickable color=#777 arc=180 radius=0.1 radius-tubular=0.005 position="0 0.3 0.3" rotation="90 0 0" scale="1 0.5 1"></a-torus></a-entity></a-entity></a-entity><a-box class="letter-clue clue" position="0 0.1 0" rotation="-90 0 0" width=0.2 height=0.2 depth=0.02></a-box><a-box class="letter-clue clue" position="0 0.2 -1.2" rotation="0 180 0" width=0.2 height=0.2 depth=0.02></a-box><a-box class="letter-clue clue" position="0 3.1 0.4" rotation="90 0 0" width=0.2 height=0.2 depth=0.02></a-box><a-box class="letter-clue clue" position="0 2.8 1.1" rotation="0 0 0" width=0.2 height=0.2 depth=0.02></a-box><a-box class="letter-clue clue" position="0 2.8 -1.2" rotation="0 180 0" width=0.2 height=0.2 depth=0.02></a-box><a-entity position="0.92 0 0.9"><a-box material="color: #cb7a57; roughness: 1" position="0.3 1.1 0" width=0.03 height=2.2 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="-0.3 1.1 0" width=0.03 height=2.2 depth=0.35></a-box><a-plane material="color: #cb7a57; roughness: 1" position="0 1.1 0.16" width=0.6 height=2.2 rotation="0 180 0"></a-plane><a-box material="color: #cb7a57; roughness: 1" position="0 2.185 0" width=0.6 height=0.03 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="0 1.737 0" width=0.6 height=0.03 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="0 1.304 0" width=0.6 height=0.03 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="0 0.871 0" width=0.6 height=0.03 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="0 0.438 0" width=0.6 height=0.03 depth=0.35></a-box><a-box material="color: #cb7a57; roughness: 1" position="0 0.015 0" width=0.6 height=0.03 depth=0.35></a-box></a-entity><a-box material="color: yellow; roughness: 0.5;" height=0.35 width=0.07 depth=0.25 position="1.16 1.5 0.87"><a-cylinder material="color: yellow; roughness: 0.5;" height=0.35 radius=0.035 position="0 0 -0.12" theta-length=180 theta-start=90 segments-height=1 segments-radial=6></a-cylinder></a-box><a-box material="color: green; roughness: 0.5;" height=0.35 width=0.07 depth=0.25 position="1.08 1.5 0.87"><a-cylinder material="color: green; roughness: 0.5;" height=0.35 radius=0.035 position="0 0 -0.12" theta-length=180 theta-start=90 segments-height=1 segments-radial=6></a-cylinder></a-box><a-box material="color: blue; roughness: 0.5;" height=0.35 width=0.07 depth=0.25 position="0.95 1.51 0.87" rotation="0 0 -20"><a-cylinder material="color: blue; roughness: 0.5;" height=0.35 radius=0.035 position="0 0 -0.12" theta-length=180 theta-start=90 segments-height=1 segments-radial=6></a-cylinder></a-box><a-entity class=interactive-book position="0.9 0.9 0.75" rotation="90 -90 0"><a-entity class=book-front position="0 0 -0.075" rotation="0 -180 0"><a-box class="clickable open" color=orange width=0.25 height=0.35 depth=0.01 position="-0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="-0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="-0.13 0 -0.04" rotation="0 180 180" material="src: #page-1; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=90 position="-0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity><a-box color=orange width=0.25 height=0.35 depth=0.01 position="0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="0.13 0 -0.04" rotation="0 180 180" material="src: #page-2; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=180 position="0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-cylinder class="clickable open book-spine" color=orange scale="0.5 1 1" radius=0.045 height=0.35 position="0 0 -0.035" theta-length=180 theta-start=180 segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity class="interactive-book clue" id=maze-book position="0.9 1.77 0.75" rotation="90 -90 0"><a-entity class=book-front position="0 0 -0.075" rotation="0 -180 0"><a-box class="clickable open" color=pink width=0.25 height=0.35 depth=0.01 position="-0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="-0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="-0.13 0 -0.04" rotation="0 180 180" material="shader: flat; transparent: true; opacity: 0;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=90 position="-0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity><a-box color=pink width=0.25 height=0.35 depth=0.01 position="0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="0.13 0 -0.04" rotation="0 180 180" material="src: #maze; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=180 position="0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-cylinder class="clickable open book-spine" color=pink scale="0.5 1 1" radius=0.045 height=0.35 position="0 0 -0.035" theta-length=180 theta-start=180 segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity class="interactive-book clue" id=maths-book position="1.2 0.64 0.75" rotation="180 -90 0"><a-entity class=book-front position="0 0 -0.075" rotation="0 -180 0"><a-box class="clickable open" color=cyan width=0.25 height=0.35 depth=0.01 position="-0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="-0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="-0.13 0 -0.04" rotation="0 180 180" material="src: #maths-1; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=90 position="-0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity><a-box color=cyan width=0.25 height=0.35 depth=0.01 position="0.125 0 0"></a-box><a-box color=white width=0.2 height=0.33 depth=0.04 position="0.13 0 -0.019"></a-box><a-plane class="clickable close" width=0.2 height=0.33 position="0.13 0 -0.04" rotation="0 180 180" material="src: #maths-2; shader: flat; transparent: true;"></a-plane><a-cylinder color=white radius=0.04 height=0.33 theta-length=90 theta-start=180 position="0.04 0 0" segments-height=1 segments-radial=8></a-cylinder></a-entity><a-cylinder class="clickable open book-spine" color=cyan scale="0.5 1 1" radius=0.045 height=0.35 position="0 0 -0.035" theta-length=180 theta-start=180 segments-height=1 segments-radial=8></a-cylinder></a-entity><a-entity position="1 1.5 -0.25"><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-1; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-2; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-3; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-4; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-5; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-6; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-7; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-8; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity><a-entity class=letter-orb><a-plane heightconstantsourcenode.l=0.12 width=0.12 height=0.12 rotation="0 -90 0" material="src: #letter-orb-9; shader: flat; transparent: true;"></a-plane><a-sphere class="clickable top" phi-length=180 rotation="-90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere><a-sphere class="clickable bottom" phi-length=180 rotation="90 0 0" radius=0.08 material="color: blue; transparent: true; opacity: 0.1;" segments-width=20 segments-height=10></a-sphere></a-entity></a-entity><a-camera></a-camera><a-entity laser-controls="hand: right" raycaster="objects: .clickable; lineColor: yellow; showLine: true"></a-entity><a-entity laser-controls="hand: left" raycaster="objects: .clickable; lineColor: yellow; showLine: true"></a-entity></a-scene><script>const moveCatHead=t=>{document.querySelector("#cat-head")?.setAttribute("animation",`property: rotation; to: 0 ${20*t} 0; dur: 1000;`),window.setTimeout((()=>{moveCatHead(Math.floor(3*Math.random())-1)}),3e3*Math.random())};moveCatHead(1);let level=1;const LIGHT_COLOURS=["white","yellow","green","orange","red","pink","purple","blue","cyan"];document.querySelector("#cat")?.addEventListener("click",(()=>{level=9===level?1:level+1;const t=new CustomEvent("levelChange",{detail:{level:level}});document.body.dispatchEvent(t)})),document.body.addEventListener("levelChange",(t=>{document.querySelector("#light")?.setAttribute("color",LIGHT_COLOURS[t.detail.level-1])})),document.body.addEventListener("levelChange",(t=>{const e=40*(t.detail.level-1)*-1;document.querySelector("#clock-hand")?.setAttribute("animation",`property: rotation; to: 0 90 ${e}; dur: 500;`),9===t.detail.level&&window.setTimeout((()=>{document.querySelector("#clock-hand")?.setAttribute("animation","property: rotation; to: 0 90 40; dur: 0")}),500)})),(()=>{let t=document.querySelector("#poem");t.width=512,t.height=256;let e=t.getContext("2d");e.font="italic 26px serif",e.textAlign="center",e.fillStyle="#ccc",e.fillText("Nine lives within these walls reside,",256,60),e.fillText("Nine clues entwined you must unhide.",256,110),e.fillText("With gentle touch, the worlds will weave,",256,160),e.fillText("Each life a gift before you leave.",256,210)})(),(()=>{let t=document.querySelector("#clockface");t.width=512,t.height=512;let e=t.getContext("2d");e.font="26px serif",e.fillStyle="#333",e.textAlign="center";["I","II","III","IV","V","VI","VII","VIII","IX"].forEach(((o,r)=>{const i=(40*r-90)*Math.PI/180,n=t.width/2+220*Math.cos(i),l=t.height/2+220*Math.sin(i);e.fillText(o,n,l)}))})(),(()=>{let t=document.querySelector("#end-message-canvas");t.width=512,t.height=128;let e=t.getContext("2d");e.textAlign="center",e.fillStyle="#EED",e.font="32px serif",e.fillText("Well done!",256,60),e.font="24px serif",e.fillText("You have escaped",256,90)})();const symbols=["â˜‡","â˜","â˜‚","â˜‰","â˜…","â˜½","âš–","âš•","âš™","âš—","âš‘","â˜‹","â˜Œ","Â«","Î©","â™ ","â™£","â™¥","â™¦","â™ª","âœ¿","âœ¦","â˜—","â–³","â„","â˜"];(()=>{let t=document.querySelector("#page-1");t.width=128,t.height=196;let e=t.getContext("2d");e.font="16px serif",e.fillStyle="#222";for(let t=0;t<7;t++){const o=24*t+30;e.fillText(`${String.fromCharCode(65+t)} = ${symbols[t]}`,8,o),e.fillText(`${String.fromCharCode(65+t+7)} = ${symbols[t+7]}`,75,o)}let o=document.querySelector("#page-2");o.width=128,o.height=196;let r=o.getContext("2d");r.font="16px serif",r.fillStyle="#222";for(let t=0;t<6;t++){const e=24*t+30;r.fillText(`${String.fromCharCode(65+t+14)} = ${symbols[t+14]}`,0,e),r.fillText(`${String.fromCharCode(65+t+14+6)} = ${symbols[t+14+6]}`,67,e)}})();const words=["CURIOSITY","WHISKERED","BEWITCHED","ENCHANTED","SCRATCHES","MOONLIGHT","SPELLBOOK","PURRINGLY"],chosenWordIndex=Math.floor(Math.random()*words.length),chosenWord=words[chosenWordIndex];[...chosenWord].forEach(((t,e)=>{let o=document.querySelector(`#letter-clue-${e+1}`);o.width=128,o.height=128;let r=o.getContext("2d");r.font="120px serif",r.textAlign="center",r.fillStyle="#fff";let i=t;e>0&&Math.floor(3*Math.random())>0&&(i=symbols[t.charCodeAt(0)-65]),r.fillText(i,65,105);let n=document.querySelectorAll(".clue:not([data-level])"),l=n[Math.floor(Math.random()*n.length)];l.classList.contains("letter-clue")&&l.setAttribute("material",`src: #letter-clue-${e+1}; shader: flat;`),l.setAttribute("data-level",(e+1).toString()),l.setAttribute("data-letter",t),e>0&&l.setAttribute("visible","false")}));const checkWord=()=>{let t="";document.querySelectorAll(".letter-orb").forEach((e=>{t+=String.fromCharCode(parseInt(e.getAttribute("letter")||"0"))})),t===chosenWord&&endGame()},endGame=()=>{document.querySelector("#door")?.setAttribute("animation","property: rotation; from: 0 0 0; to: 0 -45 0; dur: 1000"),document.querySelector("#end-message")?.setAttribute("visible","true")};document.body.addEventListener("levelChange",(t=>{document.querySelectorAll(".clue").forEach((t=>{t.setAttribute("visible","false")})),document.querySelector(`.clue[data-level="${t.detail.level}"]`)?.setAttribute("visible","true")})),document.querySelectorAll(".letter-orb").forEach(((t,e)=>{let o=document.querySelector(`#letter-orb-${e+1}`);o.width=128,o.height=128;let r=o.getContext("2d");r.textAlign="center";const i=e=>{r.clearRect(0,0,o.width,o.height),r.font="26px serif",r.fillStyle="up"===t.getAttribute("direction")?"#fff":"#999",r.fillText("â–²",64,15),r.fillStyle="down"===t.getAttribute("direction")?"#fff":"#999",r.fillText("â–¼",64,132),r.font="96px serif",r.fillStyle="#fff",r.fillText(e||"A",65,95),e&&(t.querySelector("a-plane").getObject3D("mesh").material.map.needsUpdate=!0)};t.setAttribute("letter","65"),i(),t.querySelector(".top")?.addEventListener("click",(e=>{let o=parseInt(t.getAttribute("letter")||"64")+1;91===o&&(o=65),t.setAttribute("letter",o.toString()),i(String.fromCharCode(o)),checkWord()})),t.querySelector(".top")?.addEventListener("mouseenter",(e=>{t.setAttribute("direction","up"),i(String.fromCharCode(parseInt(t.getAttribute("letter")||"64")))})),t.querySelector(".top")?.addEventListener("mouseleave",(e=>{t.removeAttribute("direction"),i(String.fromCharCode(parseInt(t.getAttribute("letter")||"64")))})),t.querySelector(".bottom")?.addEventListener("click",(e=>{let o=parseInt(t.getAttribute("letter")||"64")-1;64===o&&(o=90),t.setAttribute("letter",o.toString()),i(String.fromCharCode(o)),checkWord()})),t.querySelector(".bottom")?.addEventListener("mouseenter",(e=>{t.setAttribute("direction","down"),i(String.fromCharCode(parseInt(t.getAttribute("letter")||"64")))})),t.querySelector(".bottom")?.addEventListener("mouseleave",(e=>{t.removeAttribute("direction"),i(String.fromCharCode(parseInt(t.getAttribute("letter")||"64")))}));const n=5e3,l=.2*e-.8,a=()=>{t.setAttribute("animation",`property: position; to: 0 -0.1 ${l}; dur: 5000; easing: linear;`),window.setTimeout((()=>{t.setAttribute("animation",`property: position; to: 0 0 ${l}; dur: 5000; easing: linear;`),window.setTimeout(a,n)}),n)};window.setTimeout(a,n/9*e)})),(()=>{const t=document.querySelectorAll(".drawer"),e=t=>{t.setAttribute("data-open","false"),t.setAttribute("animation","property: position; to: 0 0 0; dur: 300;")};t.forEach(((o,r)=>{o.querySelectorAll(".clickable").forEach((i=>{i.addEventListener("click",(()=>{"true"===o.getAttribute("data-open")?(o.setAttribute("data-open","false"),o.setAttribute("animation","property: position; to: 0 0 0; dur: 700;")):(o.setAttribute("data-open","true"),o.setAttribute("animation","property: position; to: 0 0 0.4; dur: 700;"),e(t[0===r?1:0]))}))}))})),document.body.addEventListener("levelChange",(()=>{t.forEach((t=>{e(t)}))}))})(),(()=>{const t=2e3,e=1e3,o=o=>{o.setAttribute("open","false");let r=o.querySelector(".book-front"),i=o.querySelector(".book-spine");r?.setAttribute("animation","property: rotation; to: 0 -180 0; dur: 1000"),r?.setAttribute("animation__2","property: position; to: 0 0 -0.075; dur: 1000"),i?.setAttribute("animation","property: scale; to: 0.5 1 1; duration: 900; easing: linear"),window.setTimeout((()=>{o.setAttribute("animation",`property: position; from: 0 0.87 -0.85; to: ${o.getAttribute("og-pos-2")}; dur: 2000`),o.setAttribute("animation__2",`property: rotation; from: 90 0 0; to: ${o.getAttribute("og-rot")}; dur: 2000`),window.setTimeout((()=>{o.setAttribute("animation",`property: position; from: ${o.getAttribute("og-pos-2")}; to: ${o.getAttribute("og-pos-1")}; dur: 300`)}),t)}),e)};document.querySelectorAll(".interactive-book").forEach((e=>{let r=e.querySelector(".book-front"),i=e.querySelector(".book-spine");e?.querySelectorAll(".open").forEach((n=>{n.addEventListener("click",(()=>{document.querySelectorAll('.interactive-book[open="true"]').forEach((t=>{o(t)})),e.setAttribute("open","true");const n=e.getAttribute("position");e.setAttribute("og-pos-1",`${n.x} ${n.y} ${n.z}`),e.setAttribute("og-pos-2",`${n.x} ${n.y} ${n.z-.25}`);const l=e.getAttribute("rotation");e.setAttribute("og-rot",`${l.x} ${l.y} ${l.z}`),e.setAttribute("animation",`property: position; from: ${e.getAttribute("og-pos-1")}; to: ${e.getAttribute("og-pos-2")}; dur: 300; easing: linear;`),window.setTimeout((()=>{e.setAttribute("animation",`property: position; from: ${e.getAttribute("og-pos-2")}; to: 0 0.87 -0.85; dur: 2000`),e.setAttribute("animation__2",`property: rotation; from: ${e.getAttribute("og-rot")}; to: 90 0 0; dur: 2000`),window.setTimeout((()=>{r?.setAttribute("animation","property: rotation; to: 0 0 0; dur: 1000"),r?.setAttribute("animation__2","property: position; to: 0 0 0; dur: 1000"),i?.setAttribute("animation","property: scale; to: 0 1 0; duration: 100; easing: linear")}),t)}),300)}))})),e?.querySelectorAll(".close").forEach((t=>{t.addEventListener("click",(()=>{o(e)}))}))}))})(),(()=>{let t=document.querySelector("#maze");t.width=98,t.height=150;let e=t.getContext("2d"),o=new Image;o.onload=function(){e.drawImage(o,0,0),e.font="regular 26px serif",e.fillStyle="#000",e.textAlign="center",e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),20,15),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),40,25),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),88,25),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),75,55),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),18,62),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),18,95),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),88,115),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),10,119),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),52,119),e.fillText(String.fromCharCode(65+Math.floor(26*Math.random())),75,135),e.fillText(document.getElementById("maze-book")?.getAttribute("data-letter")||"",53,95)},o.src="maze.svg"})(),(()=>{let t=document.querySelector("#maths-1");t.width=98,t.height=150;let e=t.getContext("2d");e.font="regular 16px serif",e.fillStyle="#000";(t=>{const e=t.charCodeAt(0)-64,o=Math.floor(5*Math.random())+2,r=Math.floor(5*Math.random())+1;return["ðŸ”µ + ðŸ”µ + ðŸ”µ = "+3*o,`ðŸ”µ + ðŸ”º + â¬œ = ${o+r+e}`,`ðŸ”µ + ðŸ”º + ðŸ”º = ${o+2*r}`]})(document.getElementById("maths-book")?.getAttribute("data-letter")).forEach(((t,o)=>{e.fillText(t,10,20*o+20)})),e.fillText("Test",20,100);let o=document.querySelector("#maths-2");o.width=98,o.height=150;let r=o.getContext("2d");r.font="bold 28px serif",r.textAlign="center",r.fillStyle="#222",r.fillText("A = 1",45,30),r.fillText("Z = 26",45,70),r.font="regular 120px serif",r.fillText("â¬œ",45,120)})();const n=(t,e,o,r)=>{for(b=(t,e,o,r)=>Math.sin(t/e*6.28*o+r),w=(t,e)=>Math.sin(t/44100*e*6.28+b(t,44100,e,0)**2+.75*b(t,44100,e,.25)+.1*b(t,44100,e,.5)),D=[],i=0;i<44100*e;i++)D[i]=i<88?i/88.2*w(i,t):(1-(i-88.2)/(44100*(e-.002)))**((.5*Math.log(1e4*t/44100))**2)*w(i,t),D[i]*=r;m=o.createBuffer(1,1e6,44100),m.getChannelData(0).set(D),s=o.createBufferSource(),s.buffer=m,s.connect(o.destination),s.start()},frequencies={C2:65.41,"C#2":69.3,D2:73.42,"D#2":77.78,E2:82.41,F2:87.31,"F#2":92.5,G2:98,"G#2":103.83,A2:110,"A#2":116.54,B2:123.47,C3:130.81,"C#3":138.59,D3:146.83,"D#3":155.56,E3:164.81,F3:174.61,"F#3":185,G3:196,"G#3":207.65,A3:220,"A#3":233.08,B3:246.94,C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88,C5:523.25,"C#5":554.37,D5:587.33,"D#5":622.25,E5:659.26,F5:698.46,"F#5":739.99,G5:783.99,"G#5":830.61,A5:880,"A#5":932.33,B5:987.77,C6:1046.5},ac=new AudioContext,playSequence=(t,e,o)=>{let r=0;return t.forEach((t=>{const i=t.split(" "),l=60/e*i[1];window.setTimeout((()=>{"-"!==i[0]&&(n(frequencies[i[0]],4*l,ac,.4),o&&window.setTimeout((()=>{n(frequencies[i[0]],4*l,ac,.15)}),180))}),1e3*r),r+=l})),r},tempo=180,sequenceLH=["D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","D#3 2","A#3 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","C#4 2","F#3 2","D4 2"],sequenceRH=["- 32","D#4 1","F4 1","F#4 1","G#4 1","A#4 4","- 8","D#4 1","F4 1","F#4 1","G#4 1","A#4 4","- 8","D#4 1","F4 1","F#4 1","G#4 1","A#4 4","- 8","D#4 1","F4 1","F#4 1","G#4 1","A#4 4","- 8","- 32","D#4 1","F4 1","F#4 1","G#4 1","A#4 2","D#5 2","A#4 4","- 4","D#4 1","F4 1","F#4 1","G#4 1","A#4 2","C#5 2","C5 2","B4 2","A#4 2","A4 2","D#4 1","F4 1","F#4 1","G#4 1","A#4 2","D#5 2","A#4 4","- 4","D#4 1","F4 1","F#4 1","G#4 1","A#4 4","- 8"];document.body.addEventListener("click",(()=>{const t=playSequence(sequenceLH,180,!0);playSequence(sequenceRH,180,!0),window.setInterval((()=>{playSequence(sequenceLH,180,!0),playSequence(sequenceRH,180,!0)}),1e3*t)}),{once:!0})</script>