<!DOCTYPE html><html><head><title>GAME OF BACKSTABBERS</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /><meta name="monetization" content="$coil.xrptipbot.com/AS2tsT2hT6W8iBiKEaWrZA"><style>*{box-sizing:border-box}body{zoom:75%}html,body,div,ul,li{margin:0;padding:0}body,input,button{font-family:Palatino,Palatino Linotype,Georgia,serif;user-select:none}input{color:#444;border:2px solid #ccc;font-size:32px;height:48px;margin-right:8px;padding:8px;width:256px}button{-webkit-appearance:none;cursor:pointer;height:48px;width:128px;background:#444;color:#fff;font-size:20px;box-shadow:2px 4px 0 #aaa;font-family:serif;transform:translateY(-2px);transition:box-shadow .2s, transform .2s}button:hover{box-shadow:3px 6px 2px #aaa;transform:translateY(-4px)}button.-i{background:#aaa;box-shadow:0 0 0 #aaa;pointer-events:none;transform:translateY(0)}#NI{background-color:white;bottom:0;display:none;left:0;position:fixed;right:0;text-align:center;top:0;z-index:9;flex-direction:column;justify-content:space-evenly;align-items:center;padding:0 90px 90px}#NI .i-w{align-items:center;display:flex;justify-content:center;width:100%}#G{background:radial-gradient(circle at 38% 0%, #fefefe 0%, #f0f0f0 52%, #eee 100%),#fff;bottom:0;display:none;left:0;position:fixed;right:0;top:0;z-index:1}#G.-at{background:#ccc}#T{bottom:0;background:#fff;border-left:4px solid #aaa;padding:88px 0 0 72px;position:fixed;right:0;top:0;width:350px;transition:width 1s;z-index:2}#T *{opacity:1;transition:opacity 1s}#T.-w{width:100%}#T.-w #TS, #T.-w #TL{opacity:0}#T.-w #TW{opacity:1}#T.-w:after{content:"Waiting for Players...";position:absolute;bottom:50px;left:0;right:0;text-align:center;font-size:20px}#T.-w #TN{font-size:96px;position:absolute;top:30%;right:50%;transform:translateX(50%);white-space:nowrap}#T.-w #SI{top:30%;left:150px;transform:scale(1.5)}#TN{font-size:36px;margin-bottom:32px;transition:font-size 1s}#TW{font-size:48px;position:absolute;top:50%;right:50%;transform:translateX(50%);opacity:0}#SI{top:56px;position:absolute;left:-50px;width:100px;height:150px;display:flex;align-content:center;justify-content:center}#SI svg{width:100%}#TS{position:absolute;top:220px;left:-25px;width:50px}#TS .ts{cursor:pointer;margin-bottom:16px;opacity: .25;transition:opacity .5s}#TS .ts:hover{opacity:1}#T .tm{cursor:pointer;display:flex;font-size:20px;line-height:36px;margin-bottom:12px}#T .tm.-i{opacity: .5;margin:8px 16px}#T .tm.-se{font-weight:bold}#T .tm .name{overflow:hidden;text-overflow:ellipsis;max-width:250px}#T .tm .level{margin-right:16px;position:relative;text-align:center;width:48px}.level svg{height:100%;opacity: .5;transform:translateY(-14px);width:100%}.level svg *{stroke:none}.level div{position:absolute;width:100%;z-index:2}.-s .level svg *{fill:#444;opacity:1}.-s .level div{color:#fff}.word::first-letter {font-size:72px}#B{background:#fff;border:4px solid #A67B19;border-radius:50%;bottom:24px;box-shadow:6px 9px 32px rgba(0, 0, 0, .15);cursor:pointer;height:72px;left:32px;padding:12px;position:fixed;text-align:center;transition:transform .2s, border .2s;width:72px;z-index:4}#B:hover{border-color:#DFC44F;box-shadow:6px 9px 32px rgba(0,0,0,.25);transform:scale(1.05)}#B:active{transform:scale(1)}#B svg{height:100%;width:100%}#B div{display:none}#B.-a{box-shadow:0 0 0 rgba(0, 0, 0, .15);border-color:#aaa}#B.-a svg{height:50%}#B.-a div{display:block}#S{align-content:flex-start;bottom:24px;display:flex;left:160px;position:fixed;transition:transform .3s;z-index:5}#S.-a{transform:translateY(150px)}.sw{align-items:center;background-color:rgba(255, 255, 255, .75);border-radius:12px;display:flex;height:40px;min-width:120px;margin-right:32px;padding:4px 12px}.sw .i{height:32px;width:32px}.sw .i.-gold{border-radius:50%;border:2px solid #444;color:#A67B19;font-size:20px;font-weight:bold;height:28px;line-height:28px;text-align:center;width:28px}.sw .i.-v, .sw .i.-so{padding:4px}.sw .value{flex:1;text-align:right}#A,#SDS{bottom:-100px;cursor:pointer;left:40%;position:fixed;background:rgba(255,255,255,.5);padding:0 24px;border-radius:12px;height:64px;display:flex;align-items:center;font-size:24px;transition:transform .2s}#A.-sh{transform:translateY(-150px)}.-at #SDS{bottom:50px;transform:translateX(-150px)}#F{left:33%;position:absolute;top:60%;transform:translate(-50%, -50%)}#F .row{display:flex;height:64px}#F .row:nth-child(odd){transform:translateX(64px)}.row .field{margin-right:8px;min-width:124px;position:relative;transition:transform .2s}.row .field:hover{transform:translateY(-2px)}.row .field:active{transform:translateY(5px) scale(.97)}.field svg{cursor:pointer}.field svg{cursor:pointer}.field.-b{opacity: .25;pointer-events:none}.field.-b .price{color:#777}.field span{font-weight:bold;left:50%;position:absolute;transform:translateX(-50%);pointer-events:none}.field .level{bottom:0;color:#777;pointer-events:none}.field .price{color:#A67B19;line-height:76px;pointer-events:none}.field .house{left:50%;position:absolute;top:-20px;transform:translateX(-50%);pointer-events:none}.field .mine{left:50%;position:absolute;top:-42px;transform:translateX(-50%);pointer-events:none}.field .farm{left:50%;position:absolute;top:-36px;transform:translateX(-50%);pointer-events:none}.field .swords{left:50%;position:absolute;top:-16px;transform:translateX(-50%);pointer-events:none}.red .tile:hover{fill:#F2DAE2}.green .tile:hover{fill:#DEF2DA}.blue .tile:hover{fill:#DAF2F2}#SC{background:white;box-shadow:-3px 5px 16px rgba(0, 0, 0, .1);height:48px;left:calc(50% - 225px);position:fixed;top:84px;transform:translateX(-50%);width:500px}#SC.-a{display:none}#TB{background:white;border:4px solid #80590D;border-radius:50%;box-shadow:6px 9px 24px rgba(204, 177, 41, .1);color:#80590D;cursor:pointer;font-size:24px;font-weight:bold;height:80px;left:-72px;line-height:80px;position:absolute;text-align:center;transition:transform .2s, border .2s;top:-16px;width:80px;z-index:2}#TB:hover{border-color:#CCB129;transform:scale(1.1)}#TB:active{transform:scale(1)}#TB.-br{box-shadow:none;border-color:#aaa;color:#aaa;pointer-events:none}#CN{position:absolute;right:-80px;top:-48px}#TP{display:flex;flex-direction:column;height:100%;justify-content:space-evenly;padding:2px 0}#TP .tb{height:8px;transition:width .3s}#TP .tb:nth-child(2){height:6px;opacity: .5}#TP .tb:nth-child(3){height:4px;opacity: .33}.tb.red{background:#663014}.tb.green{background:#14663D}.tb.blue{background:#143066}#M{background:rgba(235,235,235,.75);bottom:0;cursor:pointer;display:none;justify-content:center;left:0;pointer-events:none;position:fixed;right:0;top:0;z-index:10}#M.-vs{display:flex;pointer-events:initial}#D{align-self:center;background:#fff;border:4px solid #aaa;box-shadow:6px 9px 24px rgba(0, 0, 0, .2);cursor:default;min-height:200px;position:relative;width:500px}#D .close{background:#fff;border:4px solid #aaa;border-radius:50%;cursor:pointer;font-size:30px;height:64px;padding:16px;position:absolute;right:-24px;top:-32px;text-align:center;transition:border .2s, transform .2s;width:64px}#D .close:hover{border-color:#444;transform:scale(1.05)}.-wm{filter:blur(3px)}#BD{padding:32px;width:100%}#BD .stat{display:flex;font-size:20px;justify-content:space-between;line-height:32px;margin-bottom:8px}#D .recruit{display:flex;padding:32px}#R,#C{align-items:center;background:#fff;bottom:0;display:flex;flex-direction:column;justify-content:center;left:0;position:fixed;right:0;top:0;text-align:center;transition:opacity 2s;z-index:15}#R div{min-height:100px}#R .title{font-size:30px}#R .winner{font-size:48px;margin-bottom:64px;position:relative}#R .winner .sigil{left:-150px;position:absolute;top:50%;transform:translateY(-50%);width:120px}#R .gs{font-size:24px;text-align:center}#R .gs div{min-height:48px}#R .gs button{margin-right:12px}#C{z-index:14}@media screen and (min-width: 1400px){body{zoom:100%}#T{width:450px}}@media screen and (max-width: 767px){body{zoom:50%}}</style></head><body><div id="NI"><div class="i-w"> <input type="text" id="pN" name="name" placeholder="Enter Name"> <button id="jb" class="-i">Join Game</button></div></div><div id="G"><div id="SC"><div id="TB">100$</div><div id="TP"><div class="tb red"></div><div class="tb green"></div><div class="tb blue"></div></div><div id="CN"></div></div><div id ="F"></div><div id="B"> <svg viewBox="0 0 64 45" fill="none"> <path d="M0 0h16v5l-2 3v37H2V8L0 5V0zM48 0h16v5l-2 3v37H50V8l-2-3V0z" fill="#444"/> <path d="M14 14h4v3h4v-3h4v3h4v-3h4v3h4v-3h4v3h4v-3h4v28H38V32s0-5-6-5-6 5-6 5v10H14V14z" fill="#444"/> </svg><div>&#8679</div></div><div id="S"><div class="sw" data-field-type="gold"><div class="i -gold">$</div><div class="value"></div></div><div class="sw" data-field-type="food"><div class="i"> <svg width="100%" height="100%" viewBox="0 0 65 66" fill="none"> <path d="M44.3 47.7a477 477 0 0 1-7.4-7.7l3-3a64.4 64.4 0 0 1 3.1 3l4 3.9c.6.6 1.5 1 2.4 1.3l1.6.5 1 .3c1.8.6 3 1.2 3.3 2.3v1.3l-.8.9a6.8 6.8 0 0 1-1.4.7l-.4.2a2 2 0 0 0-.6.3l-.3.7v1.2h.1l.2 1.5c0 .5-.2.9-.4 1.2-.3.2-.8.5-1.8.6-.9.1-1.4-.1-2-.6-.5-.6-.9-1.5-1.3-2.6l-.6-2-.3-1.2-.6-1.6-.8-1.2z" fill="#fff" stroke="#777" stroke-width="2"/> <path d="M31.8 11.9c4.7 5.7 4.3 11.6 5.9 15.7 6.7 10.8 7.8 10.7 4 14.6-3.9 3.8-3.8 2.7-14.6-4-4-1.6-10-1.2-15.7-5.9-8.3-7.3-7-15-.8-21.2 6.2-6.2 13.4-8 21.2.8z" fill="#444"/> </svg></div><div class="value"></div></div><div class="sw" data-field-type="iron"><div class="i"> <svg width="100%" height="100%" viewBox="0 0 62 28" fill="none"> <path d="M.8 27.5l5.7-11.4h16.8L29 27.5H.8zM17 12.6l5.6-11.4h16.8L45 12.6H16.9zM33 27.5l5.7-11.4h16.8l5.7 11.4H33z" fill="#AAA" stroke="#777"/> </svg></div><div class="value"></div></div><div class="sw" data-field-type="villagers"><div class="i -v"></div><div class="value"></div></div><div class="sw" data-field-type="soldiers"><div class="i -so"></div><div class="value"></div></div></div><div id="A"><div>Attack Player</div></div></div><div id="T" class="-w"><div id="SI"></div><div id="TS"></div><div id="TN"></div><div id="TW"></div><ul id="TL"></ul></div><div id="M"><div id="D"><div class="close">X</div><div id="BD"></div><div class="recruit"> <button id="rbt">Recruit Soldier</button><div style="flex:1;text-align:center;line-height:48px">100$ + 100 Iron</div></div></div></div> <script src="/socket.io/socket.io.js"></script> <script src="/shared.js"></script> <script>!function(t){var e={};function s(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)s.d(i,l,function(e){return t[e]}.bind(null,l));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){"use strict";s.d(e,"e",function(){return i}),s.d(e,"c",function(){return r}),s.d(e,"b",function(){return a}),s.d(e,"a",function(){return n}),s.d(e,"d",function(){return h});const i=(t=!1)=>`<svg width="100%" height="100%" viewBox="0 0 48 49" fill="none"><path d="M0 49h48s0-23-23-23S0 49 0 49z" fill="#444"/><path d="M37 16c0 8-6 14-13 14s-13-6-13-14c0-9 6-15 13-15s13 6 13 15z" fill="#fff" stroke="#777" stroke-width="2"/>${t?'<path d="M24 1c-6 0-14 6-14 15h11l1 7h3l1-7h12c0-9-8-15-14-15z" fill="#777"/>':""}</svg>`,l={village:t=>{const e=`<path d="M8.4 21l-.4.4V40h15V30h4v10h15V21.4l-.4-.3-16-11.9-.6-.4-.6.4-16 11.9z" fill="${t[1]}" stroke="#fff" stroke-width="2"/><path d="M2.4 18.2l-.8.6.6.8 3 4 .6.8.8-.6L25 10.2l18.4 13.6.8.6.6-.8 3-4 .6-.8-.8-.6-22-16-.6-.4-.6.4-22 16z" fill="${t[0]}" stroke="#fff" stroke-width="2"/>`;return`<svg class="house" width="99" height="64" viewBox="0 0 99 64" fill="none"><svg x="19" y="0">${e}</svg><svg x="2" y="23">${e}</svg><svg x="51" y="16">${e}</svg></svg>`},mine:t=>{const e=`<path d="M22 1l17 4 8 17H2l8-12 12-9z" fill="${t[0]}" stroke="#fff" stroke-width="2"/>`;return`<svg class="mine" width="121" height="88" fill="none"><svg x="49" y="42">${e}</svg><svg x="72" y="48">${e}</svg><svg x="47" y="57">${e}</svg><path fill="${t[1]}" stroke="#fff" stroke-width="2" d="M64.3 17.7l5.7 5.6L23.3 70l-5.7-5.7z"/><path d="M35 9.2v1-1l-.3 2a10.5 10.5 0 0 1 .5.1 42 42 0 0 1 6.3 3.1c4 2.3 9.2 5.8 14 10.6l7.1 7.1a70 70 0 0 1 14 20.9l1.9-.4h-1 1a12.4 12.4 0 0 0 0-.7 36.5 36.5 0 0 0-1.7-8c-1.5-5-4.2-11.3-9.2-16.7l-7-7.1a38 38 0 0 0-23-10.7 34.2 34.2 0 0 0-2.5-.2z" fill="${t[0]}" stroke="#fff" stroke-width="2"/></svg>`},farm:t=>{const e=`<path d="M19 67.8l1-.2-.3-1A115 115 0 0 1 14.5 26a43.5 43.5 0 0 1 2.7-11.7v-.1l-1.7-1 .9.5-.9-.5a3.4 3.4 0 0 0-.1.3l-.3.6-1 2.4c-.7 2.1-1.6 5.4-2.2 9.8-1 8.8-1 22.3 4 41.3l.2 1 1-.3 2-.5z" fill="${t[1]}" stroke="#fff" stroke-width="2"/><path d="M13.2 14.9l-.8 1 1.3.5 4.6 1.8 1.3.5v-1.4l.5-8.4.2-3.2-2 2.6-5 6.6z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M9.8 19.4l-.4 1.3h1.3l5-.1h1.4l-.4-1.3-2.6-8-1-3-.9 3-2.4 8z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M12.9 20.7l-1.2.7 1.1.9 4 3 1 1 .5-1.3 3-7.9 1.1-3-2.6 1.9-7 4.7z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M8.8 26.2v1.4l1.3-.4 4.8-1.6 1.3-.4-.8-1-4.8-7-1.8-2.6V26.2z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M12 26.6l-1 .7 1 .9 3.8 3.2 1 .8.6-1.2 3.1-7.8 1.2-3-2.6 1.8-7 4.6z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M8.4 33l.1 1.4 1.3-.6 4.5-2 1.2-.6-.9-1L9 23.9 7 21.5l.4 3.2 1 8.3z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M11.3 33.6l-1.1.7 1 .9 4 3 1 .8.6-1.2 2.8-8 1.1-3-2.6 2-6.8 4.8z" fill="${t[0]}" stroke="#fff" stroke-width="2"/><path d="M14.5 37.7l1-.2v-.3l-.3-.2-6.4-5.4-2.5-2 .9 3 2.2 8.1v.3l.3.2.6-.8-.6.8a6.8 6.8 0 0 0 .5.4l1.1.6 1.5.5c.5.1 1.2.1 1.8-.2.6-.4.8-1 1-1.6l.1-1.5a10.9 10.9 0 0 0-.2-1.8l-1 .1z" fill="${t[0]}" stroke="#fff" stroke-width="2"/>`;return`<svg class="farm" width="87" height="72"><svg x="0" y="24"><g transform="rotate(-25)">${e}</g></svg><svg x="28" y="5"><g>${e}</g></svg><svg x="35" y="3" viewBox="0 0 40 65"><g transform="rotate(20)">${e}</g></svg></svg>`},plain:()=>""},r=({color:t,fpr:e,purchaseBlocked:s,level:i,type:r,id:a,att:n})=>{const d="empty"===r,o=d?"#777":"#444",c=d?"rgba(0,0,0,0)":"#fff";return`<div class="field ${d&&s?"-b":""}" data-field-id="${a}">${i>0?`<span class="level">${n||i}</span>`:""} ${d?`<span class="price">${e}$</span>`:""} ${d?"":n?'<svg class="swords" width="70" height="69" fill="none"><path d="M14 19L8 7l12 6 36 36-6 6-36-36z" fill="#C4C4C4"/><path fill="#444" d="M46 57l12-11 3 3-12 11z"/><path fill="#444" d="M53 55l3-3 11 11-3 3z"/><path d="M52 13l12-6-7 12-36 36-5-6 36-36z" fill="#fff" stroke="#444" stroke-width="2"/><path fill="#444" d="M14 45l11 12-2 2-12-11zM15 52l3 3L6 66l-3-3z"/></svg>':l[r](t)}<svg fill="none" width="124" height="76" viewbox="0 0 124 76"><defs><radialGradient id="myGradient_${a}"><stop offset="10%" stop-color="${t[1]}" /><stop offset="100%" stop-color="#fff" /></radialGradient></defs><path class ="tile" d="M1 20L62 1l61 19v36L62 75 1 56V20z" fill="${c}" stroke="${o}" stroke-width="2" ${d?'stroke-dasharray="4"':""}/>${d?"":`<path d="M4 21v33l58 18 59-18" stroke="${t[1]}" stroke-width="4"/>`}</svg></div>`},a=t=>`<svg width="80" height="107"><path d="M22.8 53.7L40 8.4l17.2 45.3L60 61l2.8-7.4L77 16.3V104H3V16.3l14.2 37.4L20 61l2.8-7.4z" fill="#CCB129" fill-opacity="${t}" stroke="#CCB129" stroke-width="4"/></svg>`,n={red:'<path d="M49 99L2 141V2h96v139L51 99l-1-1-1 1z" fill="#CCC" stroke="#663014" stroke-width="4"/>',green:'<circle cx="50" cy="50" r="48" fill="#CCC" stroke="#14663D" stroke-width="4"/>',blue:'<path d="M51 142.6l-1 .3-1-.3a60.6 60.6 0 0 1-18.9-12C19 120.4 6.9 102.4 2 70.9V2h96v68.9c-4.9 31.5-17.2 49.5-28 59.7a60.6 60.6 0 0 1-19 12z" fill="#CCC" stroke="#143066" stroke-width="4"/>'},d=t=>`<svg viewBox="0 0 100 150">${t}</svg>`,o=`${n.red}<path d="M66 68l6-2-2-2-4 4zM60 69l-5 3-2-2 7-1z" fill="#663014"/><path d="M41 37L20 48v30l21-15 14 10s-3-8 0-10c8-5 18 4 18 4l13 1S75 50 58 38l-11-5s-9-3-15-3l9 7z" fill="#663014"/><path d="M53 40c8 7 6 10 6 10l-6-6 1-1-1-3z" fill="#CCC"/>`,c=`${n.green}<path d="M98.4 47.6c0-20-24.8-60-68.8-40 48.8-12.8 63.6 23.2 63.6 42S80.4 87.2 54 87.2c-26.4 0-40.8-28-34.4-39.6C26 36 39.2 53.2 48 53.2c8.8 0 3.6-12.1-4-15.6-9.6-4.4-24.4-13.6-33.6 1.6-9.2 15.2 4.4 54.4 39.2 58.4 34.8 4 48.8-30 48.8-50z" fill="#14663D"/><path d="M55.6 36.1c-8.9-.2-14.8-10-21.6-7.2 2 19.2 10.4 42 20 42.4 9.6.3 23.2-24.8 23.6-41.2-8-2.4-13.1 6.3-22 6z" fill="#14663D"/><path d="M46.8 50.1c-2.9-.3-6.3-3.9-7.6-5.6.8 3.6 5.2 23.6 14.8 24.8 7.7 1 15-14.7 17.6-22.8-1.5 2-6 4.8-8.4 4.8-2.8 0-5.2-2.8-8.8-2.8-3.6 0-4 2-7.6 1.6zM56 45.5l2.3-.8-.7-1-1.7 1.8z" fill="#CCC"/><path d="M54.5 45.5l-2.4-.8.7-1 1.7 1.8z" fill="#CCC"/><path d="M48 59.7s-2.4-6-2.4-10H48c-.4 4.4 0 10 0 10zM61.6 59.7s2.4-6 2.4-10h-2.4c.4 4.4 0 10 0 10zM51.2 62.5s-1.6 3.8-1.6 6.4h1.6c-.3-2.8 0-6.4 0-6.4zM58.4 62.5s1.6 3.8 1.6 6.4h-1.6c.3-2.8 0-6.4 0-6.4z" fill="#14663D"/><path d="M43.2 36.5a39 39 0 0 1 3.2 6l-4.8-4.4 1.6-1.6zM68 37.7c-1.3 1.6-3.2 5.6-3.2 5.6l4.8-4.4-1.6-1.2z" fill="#CCC"/>`,f=`${n.blue}<path d="M16 69.4l-1.5-4.7C18 51.7 38.5 30 50.2 30c10.7 0 29 21.7 34.5 35.7l-1.9 3.7c1.8 8.3 6.3 13.2 5 21.7-5 31.1-37.6 45.9-37.6 45.9s-29.5-10.8-37.6-45.9c-2-8.3 1.6-13.4 3.4-21.7z" fill="#143066"/><path d="M21 86s16.5-32.3 29-32.3C62.7 53.7 75.5 86 75.5 86S59.7 75.3 48.8 75.2C37.5 75 21 86 21 86z" fill="#CCC"/><path d="M30.6 77L28 71.7l5-6.7-2.4 12zM38 71l-4-6.4 6-6.6-2 13zM43.6 65L41 56.4l8-3.4-5.4 12zM67.4 77l2.6-5.3-5-6.7 2.4 12zM61 71l4-6.4-6-6.6 2 13zM55.4 65l2.6-9-8-3 5.4 12zM14.5 64.8l3.2 5.7L29.6 45l-15 19.7z" fill="#143066"/><path d="M22.8 67l-1.5-3.2c.6-5 6.2-4.5 6.2-4.5L35 50 22.8 67zM77.2 67l1.5-3.2c-.6-5-6.2-4.5-6.2-4.5L65 50l12.2 17z" fill="#CCC"/>`,h={red:d(o),green:d(c),blue:d(f)}},function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"c",function(){return l}),s.d(e,"a",function(){return r});const i={red:"Sobota",green:"Nathir",blue:"Tereki"},l={red:"Your Waste, Our Fuel",green:"There Is No Remedy",blue:"Deep Down We Lurk"},r={red:["#663014","#B26B6B","#F2DAE2"],green:["#14663D","#6BB277","#DEF2DA"],blue:["#143066","#6B9AB2","#DAF2F2"],gold:["#80590D","#CCB129","#F2F2C2"],grey:["#444","#777","#AAA"]}},function(t,e,s){"use strict";var i=s(0),l=s(1);var r=class{constructor({id:t,type:e,level:s,ths:i,_self:l=!0,sU:r,att:a}){this.id=t,this.type=e,this.level=s||0,this.ths=l?i:Math.max(100-i,10),this.self=l,this.clk=0,this.iv=null,this.stp=0,this.att=a,this.sU=r}update({level:t,type:e,ths:s,att:i}){this.level=t,this.type=e,this.ths=this.self?s:Math.max(100-s,10),this.att=i}sF(t){this.fieldEl=t,this.tile=this.fieldEl.querySelector(".tile")}pL(){this.clk<=0||this.stp>=5?(clearInterval(this.iv),this.iv=null,this.clk=0,this.stp=0,this.tile.style.fill=""):this.clk>0&&(this.stp>0&&(this.clk-=parseInt(this.ths/5),this.cG()),this.stp++)}click(t){if(t||this.att)this.self?this.sU("fd"):this.sU("fa",this.att?0:this.level);else if("empty"===this.type)this.sU("fb");else if(fV(this.type)>2){if(!this.self&&1===this.level)return;this.clk++,this.stp=0,this.cG(),this.clk>this.ths?(clearInterval(this.iv),this.iv=null,this.clk=0,this.sU("fl")):this.iv||(this.iv=setInterval(this.pL.bind(this),1e3))}}cG(){const t=100/this.ths*this.clk;this.tile.style.fill='url("#myGradient_'+this.id+'")',this.fieldEl.querySelector("stop").setAttribute("offset",(this.self?t:100-t)+"%")}getCfg(){const{id:t,level:e,type:s,att:i}=this;return{id:t,level:e,type:s,att:i}}};const a=(()=>{let t,e=[],s={},a=300,n=!0,d=l.a.green,o=!1,c=!1;const f=e=>(s,i)=>t.emit(s,e,i),h=t=>{Object.entries(t).forEach(([t,e])=>{s.hasOwnProperty(t)?s[t].update(e):s[t]=new r({...e,_self:n,sU:f(t)})})},v=(t,i)=>{return[[t-1,i],[t+1,i],[t,i-1],[t,i+1],...t%2?[[t-1,i-1],[t+1,i-1]]:[[t-1,i+1],[t+1,i+1]]].map(([t,i])=>{if(e[t]){const l=e[t][i];return!(!l||"blocked"===l)&&"empty"!==s[l].type}return!1}).some(t=>t)},p=()=>{const t=byId("F");t.innerHTML="";for(let i=0;i<e.length;i++){let l="";for(let t=0;t<e[i].length;t++){const r=e[i][t];if("blocked"===r)l+=g();else{const e=s[r];"empty"!==e.type||n&&v(i,t)?l+=y(e.getCfg()):l+=g()}}t.insertAdjacentHTML("beforeend",`<div class="row">${l}</div>`),Array.from(document.querySelectorAll("[data-field-id]")).forEach(t=>{const e=s[t.dataset.fieldId];e.sF(t),c&&fV(e.type)<=2?(t.style.opacity=".25",t.style.pointerEvents="none"):(t.style.opacity="",t.style.pointerEvents="initial"),t.addEventListener("click",u)})}},u=t=>s[t.currentTarget.dataset.fieldId].click(c),y=t=>Object(i.c)({color:d,fpr:a,purchaseBlocked:o,...t}),g=()=>'<div class="field empty"></div>';return{am:()=>{c?byId("G").classList.remove("-at"):byId("G").classList.add("-at"),c=!c,p()},iF:(t,i,{fAr:r,fO:a})=>{d=l.a[t],e=r,s={},n=i,c=!1,byId("G").className=t,h(a),p()},bFP:t=>{o!==t&&(o=t,p())},sFP:t=>a=t,s:e=>{t=e,e.on("fu",t=>{t&&s.hasOwnProperty(t.id)&&(s[t.id].update(t),p())})}}})();e.a=a},function(t,e,s){"use strict";s.r(e),function(t){var e=s(1),i=s(2),l=s(0);t.byId=t=>document.getElementById(t),t.byC=t=>document.getElementsByClassName(t),function(){let t,s,r,a,n,d,o,c,f,h,v,p,u,y,g,b,m,M,k,w,L,z,$,C=[["fp","Food Production"],["fc","Food Consumption"],["gp","Tax Revenue"],["ip","Iron Production"]];const I='<div style="font-size:48px;position:relative;width:500px;height:150px;transform:translateX(-42px)"><div><div style="display:inline-block;" class="word">GAME</div><div style="display:inline-block;font-size:32px;margin-left:8px;transform:translateY(-6px);">OF</div></div><svg style="position:absolute;top:50px;transform:translateX(-50%)" width="474" height="58"><path d="M74 19h370l30 10" fill="none" stroke="#000"/><path d="M474 29H74v10h370l30-10z" fill="#ebebeb"/><path d="M74 0l-4 4v50l4 4V0z"/><path d="M21 25l-4 4 4 4h50v-8H21zM8.5 20.5L0 29l8.5 8.5L17 29l-8.5-8.5z"/></svg><div style="bottom: 11px;left: calc(50% + 40px);position: absolute;transform:translateX(-50%)" class="word">BACKSTABBERS</div></div>';function x({playerName:e,playerId:s,coil:i=!1}){t.emit("pj",e,s,i),window.localStorage.setItem("gob_pId",s),window.localStorage.setItem("gob_pN",rsc(e))}function T(t){const e=Object.entries(t).sort((t,e)=>t[1]>e[1]?-1:1).map(([t])=>t);let s=!1;Array.from(v.getElementsByTagName("div")).forEach((i,l)=>{const r=i.classList[1];i.style.width=t[r]+"%",(e.indexOf(r)<l||e.indexOf(r)>l)&&(s=!0)}),s&&e.forEach(t=>v.insertAdjacentElement("beforeend",v.getElementsByClassName(t)[0])),byId("CN").innerHTML=Object(l.b)(t[e[0]]/100)}function E(e){f=e,t.emit("ps",e),byId("S").classList.add("-a"),byId("B").classList.add("-a"),k.className=c!==o&&"-sh"}function A(){c=o,f=null,t.emit("pu"),Array.from(byC("-a")).forEach(t=>t.classList.remove("-a")),k.className=""}window.addEventListener("load",()=>{t=io({upgrade:!1,transports:["websocket"]}),w=byId("NI"),L=byId("pN"),z=byId("jb"),s=byId("TL"),r=byId("TS"),p=byId("S").getElementsByClassName("sw"),v=byId("TP"),g=byId("G"),y=byId("T"),u=byId("M"),b=byId("BD"),m=byId("TB"),M=byId("SI"),$=byId("rbt"),k=byId("A"),m.addEventListener("click",()=>t.emit("tp")),$.addEventListener("click",()=>t.emit("rs",a)),k.addEventListener("click",()=>i.a.am()),w.insertAdjacentHTML("afterbegin",I),document.querySelector(".-v").innerHTML=Object(l.e)(),document.querySelector(".-so").innerHTML=Object(l.e)(!0),g.insertAdjacentHTML("afterbegin",`<div id="SDS"><div style="width:32px;margin-right:20px">${Object(l.e)(!0)}</div><div class="value"></div></div>`),byId("B").addEventListener("click",t=>{"-a"===t.currentTarget.className?A():(y.classList.add("-wm"),g.classList.add("-wm"),u.classList.add("-vs"))}),u.addEventListener("click",t=>{"M"!==t.target.id&&"close"!==t.target.className||(u.classList.remove("-vs"),g.classList.remove("-wm"),y.classList.remove("-wm"))}),t.on("ut",t=>{h=t,d||(Object.entries(t).forEach(([t,e])=>{e.find(t=>t.id===a.substr(0,8))&&(o=t)}),c=o,d=e.b[o],byId("TW").innerText=e.c[o]),byId("TN").innerText="House "+e.b[c],M.innerHTML="",M.insertAdjacentHTML("afterbegin",l.d[c]),s.innerHTML="",t[c].sort((t,e)=>{if(!t.active)return 1;if(!e.active)return-1;const s=e.level-t.level;return 0!==s?s:e.pdt-t.pdt}),t[c].forEach(t=>s.insertAdjacentHTML("beforeend",`<li id="${t.id}" class="tm${t.active?"":" -i"}${t.id===a.substr(0,8)?" -se":""}${t.id===f||!f&&t.id===a.substr(0,8)?" -s":""}"><div class="level"><div>${t.level}</div><svg viewBox="0 0 100 140">${l.a[c]}</svg></div><div class="name">${t.name}</div></li>`)),Array.from(byC("tm")).forEach(t=>{t.addEventListener("click",t=>{const{id:e}=t.currentTarget;e===a.substr(0,8)?A():E(e)})}),r.innerHTML="",Object.keys(t).forEach(t=>{t!==c&&r.insertAdjacentHTML("beforeend",`<div class="ts" data-ti="${t}">${l.d[t]}</div>`)}),Array.from(byC("ts")).forEach(t=>{t.addEventListener("click",()=>{(c=t.dataset.ti)===o?A():E(h[c][0].id)})})}),t.on("if",({team:t,fAr:e,fO:s,self:l=!0})=>i.a.iF(t,l,{fO:s,fAr:e})),t.on("su",t=>{Array.from(p).forEach(e=>{const s=e.dataset.fieldType;e.getElementsByClassName("value")[0].innerText="villagers"!==s?t[s]:t[s]+"/"+t.vl,"food"===s&&(e.style.color=t.fc>t.fp?"red":"#000")}),i.a.sFP(t.fpr),i.a.bFP(t.fpr>t.gold),m.className=t.gold<100?"-br":"",$.className=t.gold<100||t.iron<100?"-i":"",b.innerHTML="",C.forEach(([e,s])=>b.insertAdjacentHTML("beforeend",`<div class="stat"><div>${s}</div><div>${t[e]}</div></div>`)),byId("SDS").querySelector(".value").innerHTML=t.soldiers}),t.on("tu",T),t.on("connect",()=>{a=window.localStorage.getItem("gob_pId"),n=window.localStorage.getItem("gob_pN"),fetch("/checkPlayerId",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({playerId:a})}).then(t=>t.json()).then(t=>{if(t)x({playerName:n,playerId:a});else{n&&(L.value=n,z.className=""),w.style.display="flex";const t=()=>{a=gId(),x({playerName:L.value,playerId:a,coil:document.monetization&&"started"===document.monetization.state}),w.style.display="none"};z.addEventListener("click",t),L.addEventListener("keydown",e=>{"Enter"===e.key&&L.value&&t()}),L.oninput=()=>{L.value=rsc(L.value).substring(0,15),L.value?z.className="":z.className="-i"}}})}),t.on("gs",()=>{setTimeout(()=>{g.style.display="block",y.classList.remove("-w")},2e3)}),t.on("ge",t=>{g.innerHTML="",g.insertAdjacentHTML("afterend",`<div id="R"><div class="title">The next King has been chosen!</div><div class="winner"><span class="sigil">${l.d[t]}</span>${h[t][0].name} of House ${e.b[t]}</div><div class="gs"><div>Play again?</div><button onclick="newGame()">Yes</button><button onClick="endGame()">No</button></div></div><div id="C"><div style="margin-bottom: 32px">Thank You for playing</div>${I}<div style="margin-top: 128px">created by Michael Wolken-MÃ¶hlmann</div></div>`)}),i.a.s(t)},!1)}()}.call(this,s(4))},function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s}]);</script> <script>function newGame(){location.reload()} function endGame(){document.getElementById('R').style.opacity='0'}</script> </body></html>