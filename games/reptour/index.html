<title>Retour</title><script src=/2019/webxr/aframe.js></script><script>AFRAME.registerComponent("x-button-listener",{init:function(){this.el.addEventListener("xbuttondown",(function(t){a=document.getElementById("actor").getAttribute("position").y,1.25==a?document.getElementById("actor").setAttribute("position","0 2.75 -4.9"):document.getElementById("actor").setAttribute("position","0 "+(a+1)+" -4.9"),document.getElementById("cam").setAttribute("position","0 "+(document.getElementById("actor").getAttribute("position").y-.2)/2+" 2")}))}}),AFRAME.registerComponent("collider",{dependencies:["raycaster"],init:function(){this.el.addEventListener("raycaster-intersection",(function(){document.getElementById("actor").setAttribute("position","0 1.25 -4.9"),document.getElementById("cam").setAttribute("position","0 1.36 2")}))}}),AFRAME.registerComponent("collider-check",{dependencies:["raycaster"],init:function(){this.el.addEventListener("raycaster-intersection",(function(t){a=document.getElementById("actor").getAttribute("position").y,target=t.target.getAttribute("color"),"#3F51B5"==target?document.getElementById("actor").setAttribute("position","0 "+(a+1)+" -4.9"):"#673AB7"==target?2.75==a?document.getElementById("actor").setAttribute("position","0 1.25 -4.9"):document.getElementById("actor").setAttribute("position","0 "+(a-1)+" -4.9"):"#F44336"==target&&document.getElementById("actor").setAttribute("position","0 1.25 -4.9"),document.getElementById("cam").setAttribute("position","0 "+(document.getElementById("actor").getAttribute("position").y-.2)/2+" 2")}))}})</script><body onclick=clickBody()><a-scene background="color: #C0392B"id=sc><a-entity position="0 1.36 2"id=cam camera look-controls rotation="-4 114 0"wasd-controls></a-entity><a-entity position="-5 3 -3"text="font: mozillavr;color:black; value: Use  \nUP arrow for Desktop\n to move the arrow\n For VR Press X-Button \n INSTRUCTIONS \n You are intially at the centre\n you have to move out to win\n THE RED DOTS\n Make You Respawn at the center\n The Purple One\n Makes you move 'BACK'\n The Blue One, Pushes you forward\n AT THE END\n YOU MOVE BACK TO YOUR \nPOSITION;"scale="6 6 6"></a-entity><a-entity><a-entity position="0 1.25 -4.9"geometry="primitive: triangle"material="color: #34495E;"class=actor collider id=actor oculus-touch-controls raycaster="objects: .final"scale="0.6 0.7 0.6"vertex-a="0 0.5 0"vertex-b="-0.5 -0.5 0"vertex-c="0.5 -0.5 0"x-button-listener></a-entity><a-entity light="type: ambient"></a-entity></a-entity><a-entity position="0 1.25 -5"geometry="primitive: ring; segments-theta: 90; radius-outer: 2; radius-inner: 1;"material="color: #F39C12; "animation="property: rotation; to: 0 0 -360; loop: true; dur: 2000; easing: linear;"rotation="0 0 0"><a-ring color=#3F51B5 position="1.5 0 0.1"radius-inner=-0.25 radius-outer=0.4 collider-check raycaster="objects: .actor"target=UP></a-ring><a-ring color=#673AB7 position="-1.5 0 0.1"radius-inner=-0.25 radius-outer=0.4 collider-check raycaster="objects: .actor"target=DOWN></a-ring><a-ring color=#F44336 position="0 1.45 0.1"radius-inner=-0.25 radius-outer=0.4 collider-check raycaster="objects: .actor"target=SPAWN></a-ring><a-ring color=#673AB7 position="0 -1.45 0.1"radius-inner=-0.25 radius-outer=0.4 collider-check raycaster="objects: .actor"target=DOWN></a-ring></a-entity><a-ring color=#5AB963 position="0 1.25 -4.9"radius-inner=5.9 radius-outer=9 class=final></a-ring></a-scene><script>function clickBody(){a=document.getElementById("actor").getAttribute("position").y,1.25==a?document.getElementById("actor").setAttribute("position","0 2.75 -4.9"):document.getElementById("actor").setAttribute("position","0 "+(a+1)+" -4.9"),document.getElementById("cam").setAttribute("position","0 "+(document.getElementById("actor").getAttribute("position").y-.2)/2+" 2")}!function(){document.getElementById("cam").setAttribute("rotation","2 111 0"),document.getElementById("sc").insertAdjacentHTML("afterbegin",'<a-ring  position="0 1.25 -5"  color="#FFF" radius-inner="-1" radius-outer="0"></a-ring>'),l=["#8BC34A","#FFEB3B","#2196F3","#F39C12"];for(var t=2;t<6;t++)rand=Math.floor(180*Math.random()+0),console.log(rand),dur=Math.floor(2*Math.random()+1),dur*=5e3,index=Math.floor(Math.random()*l.length+0),document.getElementById("sc").insertAdjacentHTML("afterbegin",'<a-ring segments-theta="60"  position="0 1.25 -5" rotation="0 0 '+rand+'" animation="property: rotation; to: 0 0 '+(360+rand)+"; loop: true; dur: "+dur+'; easing: linear;" color="'+l[index]+'" radius-inner="'+t+'" radius-outer="'+(t+1)+'"><a-ring collider-check raycaster="objects: .actor" position="'+t+'.50 0 0.1" color="#673AB7" radius-inner="-0.25" radius-outer="0.4"></a-ring><a-ring collider-check raycaster="objects: .actor" position="-'+t+'.5 0 0.1" color="#3F51B5" radius-inner="-0.25" radius-outer="0.4"></a-ring><a-ring collider-check raycaster="objects: .actor" position="0 '+t+'.45 0.1" color="#F44336" radius-inner="-0.25" radius-outer="0.4"></a-ring> <a-ring collider-check raycaster="objects: .actor" position="0 -'+t+'.45 0.1" color="#F44336" radius-inner="-0.25" radius-outer="0.4"></a-ring></a-ring>')}()</script>