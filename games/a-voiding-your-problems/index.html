<!doctype html><title>A Voiding Your Problems - js13kGames 2025</title><body><script>class t extends Float32Array{static identity(){return new t([1,0,0,0,1,0,0,0,1])}static or(s,i,h,e){return new t([2/(i-s),0,0,0,2/(e-h),0,-(i+s)/(i-s),-(e+h)/(e-h),1])}}class s{#t;#s;#i;#h;#e;constructor(t,s,i){const h=this.#r(t,t.VERTEX_SHADER,s),e=this.#r(t,t.FRAGMENT_SHADER,i),r=t.createProgram(),n=t.attachShader.bind(t),c=t.bindAttribLocation.bind(t),o=t.getUniformLocation.bind(t);n(r,h),n(r,e),c(r,0,"vp"),c(r,1,"vertexColor"),c(r,2,"vt"),c(r,3,"sp"),c(r,4,"ss"),c(r,5,"st"),c(r,6,"sc"),t.linkProgram(r),this.#s=o(r,"v"),this.#i=o(r,"p"),this.#h=o(r,"tex"),this.#e=o(r,"is"),this.#t=r}use(t,s,i){t.useProgram(this.#t),this.setup(t,s,i)}setup(t,s,i){null!=this.#s&&t.uniformMatrix3fv(this.#s,!1,s),null!=this.#i&&t.uniformMatrix3fv(this.#i,!1,i),null!=this.#h&&t.uniform1i(this.#h,0),null!=this.#e&&t.uniform1f(this.#e,16)}#r(t,s,i){const h=t.createShader(s);return t.shaderSource(h,i),t.compileShader(h),h}}class i{#n;#c;#o;#a;#d;#l;#u;#f;constructor(s){this.#n=s,document.body.style.margin="0",document.body.style.padding="0",this.canvas=document.createElement("canvas"),this.canvas.style.display="block",this.canvas.style.width="100dvw",this.canvas.style.height="100dvh",this.canvas.style.cursor="none",this.canvas.style.touchAction="none",new ResizeObserver(()=>{this.m=Math.max(this.canvas.clientWidth,this.canvas.clientHeight)<1e3?2:1,this.w=this.canvas.clientWidth*this.m,this.h=this.canvas.clientHeight*this.m,this.canvas.width=this.w,this.canvas.height=this.h,this.o=this.w>this.h,this.#c.viewport(0,0,this.w,this.h),this.p=t.or(0,this.w,this.h,0),this.#n()}).observe(this.canvas,{box:"content-box"}),document.body.appendChild(this.canvas),this.#c=this.canvas.getContext("webgl2"),this.#c.viewport(0,0,this.canvas.width,this.canvas.height),this.#c.clearColor(.68,.68,.94,1),this.#c.pixelStorei(this.#c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.#c.enable(this.#c.BLEND),this.#c.blendFunc(this.#c.ONE,this.#c.ONE_MINUS_SRC_ALPHA),this.quadBuffer=this.#w(),this.#o=new Map,this.#a=new Map,this.#d=[],this.v=t.identity(),this.p=t.or(0,0,this.canvas.width,this.canvas.height)}createShader(t,i,h){const e=this.#o.get(t);if(e)return e;const r=new s(this.#c,i,h);return this.#o.set(t,r),r}createVao(){const t=this.#c.createVertexArray();return this.#c.bindVertexArray(t),t}createBuffer(t,s){const i=this.#c.createBuffer();return this.updateBuffer(i,t,s),i}updateBuffer(t,s,i){this.useBuffer(t),this.#c.bufferData(this.#c.ARRAY_BUFFER,s,i?this.#c.DYNAMIC_DRAW:this.#c.STATIC_DRAW)}useBuffer(t){this.#c.bindBuffer(this.#c.ARRAY_BUFFER,t)}a(t,s,i,h,e){this.#c.vertexAttribPointer(t,s,this.#c.FLOAT,!1,i,h),this.#c.enableVertexAttribArray(t),null!=e&&this.#c.vertexAttribDivisor(t,e)}fetchTexture(t,s){const i=t?`${t}.png`:"blank",h=this.#a.get(`${i}_${s}`);if(h)return h;const e=this.#c.createTexture();if(this.#E(e,null,s),t){const t=this.#d.length,h=new Image;h.src=i,h.onload=()=>this.#E(e,t,s),this.#d[t]=h}return this.#a.set(`${i}_${s}`,e),e}clear(){this.#c.clear(this.#c.COLOR_BUFFER_BIT)}d(t,s,i,h,e){t!==this.#l?(t.use(this.#c,this.v,this.p),this.#l=t):this.#l.setup(this.#c,this.v,this.p),s!==this.#u&&(this.#c.bindVertexArray(s),this.#u=s),i!==this.#f&&(this.#c.activeTexture(this.#c.TEXTURE0),this.#c.bindTexture(this.#c.TEXTURE_2D,i),this.#f=i),null!=e?this.#c.drawArraysInstanced(this.#c.TRIANGLES,0,h,e):this.#c.drawArrays(this.#c.TRIANGLES,0,h)}#w(){return this.createBuffer(new Float32Array([0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,1,1,1,1]),!1)}#E(t,s,i){const h=this.#c,e=h.TEXTURE0,r=h.TEXTURE_2D,n=h.texImage2D.bind(h),c=h.texParameteri.bind(h),o=h.RGBA,a=h.UNSIGNED_BYTE,d=i?h.LINEAR:h.NEAREST;h.activeTexture(e),h.bindTexture(r,t),null!=s?n(r,0,o,o,a,this.#d[s]):n(r,0,o,1,1,0,o,a,new Uint8Array([255,255,255,255])),c(r,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),c(r,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),c(r,h.TEXTURE_MIN_FILTER,d),c(r,h.TEXTURE_MAG_FILTER,d)}}class h{#p;#m;#T;#A;#x;#g;constructor(t){this.#p={},this.#m={},t.renderer.canvas.addEventListener("pointermove",s=>{this.mouse="mouse"===s.pointerType,this.x=s.offsetX*t.renderer.m,this.y=s.offsetY*t.renderer.m}),t.renderer.canvas.addEventListener("pointerdown",s=>{this.mouse="mouse"===s.pointerType,this.x=s.offsetX*t.renderer.m,this.y=s.offsetY*t.renderer.m,this.#T=!0}),t.renderer.canvas.addEventListener("pointerup",s=>{this.mouse="mouse"===s.pointerType,this.x=s.offsetX*t.renderer.m,this.y=s.offsetY*t.renderer.m,this.#A=!0}),addEventListener("keydown",t=>{this.#p[t.code]=!0}),addEventListener("keyup",t=>{this.#m[t.code]=!0})}u(){this.x===this.#x&&this.y===this.#g||(this.#x=this.x,this.#g=this.y,this.moved=!0),this.press=!1,this.#T&&(this.press=!0,this.#T=!1),this.release=!1,this.#A&&(this.release=!0,this.#A=!1),this.keyPresses={};for(const[t,s]of Object.entries(this.#p))s&&(this.keyPresses[t]=!0,this.#p[t]=!1);this.keyReleases={};for(const[t,s]of Object.entries(this.#m))s&&(this.keyReleases[t]=!0,this.#m[t]=!1);this.cr=!1}cl(){return!this.cr&&(this.mouse&&this.release||!this.mouse&&this.press)}l(){return this.keyPresses.KeyA||this.keyPresses.ArrowLeft}r(){return this.keyPresses.KeyD||this.keyPresses.ArrowRight}c(){return this.keyPresses.KeyX||this.keyPresses.Digit0}}class e{constructor(t,s,i,h,e){this.x=t,this.y=s,this.s=i,this.type=h,this.e=!0,this.h=!1,this.a=1,this.cc(e)}attributes(){return[this.x,this.y,this.s,this.type,this.r,this.g,this.b,this.h?0:this.a]}cb(t){this.bc=t,this.cc(t)}cc(t){let s=[14277887,11382256,12749972,10905200,5724021,5526612,11759124,15132390,10719073,10066329,9480387,4627849,11913626,42747,5032432,16042720,15007908,15859849,16777215,16764144,0][t];null==s&&(s=16777215),this.r=((16711680&s)>>16)/255,this.g=((65280&s)>>8)/255,this.b=(255&s)/255}i(t){this.in=!t,this.cc(t?this.bc||0:4)}w(t,s,i,h=3,e=null,r=null){(this.content||{}).e=!1,this.content=t.w(s.toString(),this.x+(this.s-i)/2,this.y+(this.s-i)/2,i,h,e,r)}d(t,s,i,h){(this.content||{}).e=!1,this.content=t.add(this.x+(this.s-s)/2,this.y+(this.s-s)/2,s,i,h)}}class r{#O;#M;#y;#R;#S;#I;constructor(t,s=!1,i="sprites"){this.#O=t;const h=t.renderer;this.#M=h.createShader("sprite","#version 300 es\nuniform mat3 v;uniform mat3 p;uniform float is;uniform sampler2D tex;in vec2 vp;in vec2 vt;in vec2 sp;in float ss;in float st;in vec4 sc;out vec2 tc;out vec4 tint;void main(){vec2 texOffset=vec2(is/float(textureSize(tex,0)),is/float(textureSize(tex,0).y));tc=vec2(texOffset.x,0.0)*st+vt*texOffset;tint=sc;tint.rgb*=tint.a;gl_Position=vec4(p*v*vec3(vp*ss+sp,1.0),1.0);}","#version 300 es\nprecision highp float;uniform sampler2D tex;in vec2 tc;in vec4 tint;out vec4 fc;void main(){fc=texture(tex,tc)*tint;}"),this.#y=h.createVao(),h.useBuffer(h.quadBuffer),h.a(0,2,16,0),h.a(2,2,16,8),this.#R=h.createBuffer(new Float32Array,!0),h.a(3,2,32,0,1),h.a(4,1,32,8,1),h.a(5,1,32,12,1),h.a(6,4,32,16,1),this.#S=h.fetchTexture(i,s),this.sprites=[],this.c()}add(t,s,i,h,r){-1===t&&(t=this.#O.renderer.w/2-i/2),-1===s&&(s=this.#O.renderer.h/2-i/2);const n=new e(t,s,i,h,r);return this.sprites.push(n),this.c(),n}c(){this.#I=!0}u(){this.#I&&(this.sprites=this.sprites.filter(t=>t.e),this.#O.renderer.updateBuffer(this.#R,new Float32Array(this.sprites.map(t=>t.attributes()).flat()),!0),this.#I=!1)}d(){this.#O.renderer.d(this.#M,this.#y,this.#S,6,this.sprites.length)}}class n{constructor(t,s,i,h,e,r,n){this.text=t,this.x=s,this.y=i,this.s=h,this.color=e,this.animations=r??[],this.delay=n??0,this.sprites=[],this.e=!0,this.time=0,this.begin=null}cc(t){for(const s of this.sprites)s.cc(t)}u(t){let s=!1;for(const i of this.animations)switch(i){case 0:for(let s=0;s<this.sprites.length;s++){const i=this.sprites[s];i.y=i.baseY+10*Math.sin(s+t/200)}s=!0;break;case 1:if(this.time++,7===this.time){this.time=0;for(let t=0;t<this.sprites.length;t++){const s=this.sprites[t];s.x=s.baseX+5*Math.random(),s.y=s.baseY+5*Math.random()}}s=!0;break;case 2:this.begin||(this.begin=t);for(let s=0;s<this.sprites.length;s++)this.sprites[s].h=(t-this.begin-this.delay)/150<s;s=!0}return s}}class c extends r{#O;#L;constructor(t){super(t,!1,"font"),this.#O=t,this.#L=[]}w(t,s,i,h,e=3,r=null,c=null){-1===s&&(s=Math.floor(this.#O.renderer.w/2-Math.max(...t.split("\n").map(t=>t.length))*h/2)),-1===i&&(i=Math.floor(this.#O.renderer.h/2-t.split("\n").length*h/2));const o=new n(t,s,i,h,e,r,c);let a=s,d=i;for(const i of t){let t;if("\n"!==i){if(i>="A"&&i<="Z"?t=i.charCodeAt(0)-"A".charCodeAt(0):i>="0"&&i<="9"?t=26+i.charCodeAt(0)-"0".charCodeAt(0):"?"===i?t=36:"!"===i?t=37:","===i?t=38:"."===i?t=39:"'"===i&&(t=40),null!=t){const s=this.add(a,d,h,t,e);s.baseX=a,s.baseY=d,o.sprites.push(s)}a+=h}else d+=h,a=s}return this.#L.push(o),this.c(),o}clear(){for(const t of this.#L)for(const s of t.sprites)s.e=!1;this.#L=[],this.c()}u(t){for(const t of this.#L.filter(t=>!t.e))for(const s of t.sprites)s.e=!1;this.#L=this.#L.filter(t=>t.e);for(const s of this.#L)s.u(t)&&this.c();super.u()}}class o extends r{#O;constructor(t){super(t,!1,null),this.#O=t}e(t,s,i=!1,h=128,e=1e3){for(let r=0;r<h;r++){const h=this.add(t,s,5);if(i)h.r=Math.random(),h.g=Math.random(),h.b=Math.random();else{const t=.5+.5*Math.random();h.r=t,h.g=t,h.b=t}const r=Math.random()*Math.PI*2;h.dx=Math.cos(r)*Math.random()*5,h.dy=Math.sin(r)*Math.random()*5,h.t=e}this.c()}clear(){for(const t of this.sprites)t.e=!1;this.c()}u(t){for(const s of this.sprites)s.x+=s.dx,s.y+=s.dy,s.begin||(s.begin=t),s.begin+s.t<=t?s.e=!1:s.a=1-(t-s.begin)/s.t;this.c(),super.u()}}class a extends r{#O;#v;#N;#H;#b;#k;constructor(t,s,i,h,e,r,n,c,o,a=0,d=0){super(t,!1,"cells"),this.#O=t,-1===s&&(s=t.renderer.w/2-h*(r+(n??0)*(h-1)/h)/2),-1===i&&(i=t.renderer.h/2-e*(r+(c??0)*(e-1)/e)/2),this.x=s,this.y=i,this.w=h,this.h=e,this.s=r,this.#v=n??0,this.#N=c??0,this.#H=o,this.color=a;for(let t=0;t<e;t++)for(let e=0;e<h;e++){const h=this.add(s+e*this.#X,i+t*this.#D,r,d,a);h.cc(a),h.grid=this,h.gridX=e,h.gridY=t}}u(t=!1){if(!this.i){if(this.#O.input.moved){let t=this.#C(this.#O.input.x,this.#O.input.y);t?.in&&(t=null),t===this.#b||this.#k||this.#H&&this.#O.input.mouse&&(this.#b?.in||this.#b?.cc(this.#b?.bc||this.color),t?.cc(2),this.c()),this.#b=t}this.#O.input.press&&!t&&(this.#k=this.#b,this.#H&&this.#O.input.mouse&&(this.#k?.cc(3),this.c())),this.#O.input.cl()&&!t&&(this.#H&&(this.#k?.cc(this.#k?.bc||this.color),this.#b&&this.#b===this.#k&&(this.#O.input.cr=!0,this.#H(this.#k)),this.c()),this.#k=null)}return super.u(),null!=this.#b}ca(t,s){if(t>=0&&t<this.w&&s>=0&&s<this.h)return this.sprites[this.w*s+t]}#C(t,s){const i=this.#P(t,s);if(i)return this.ca(i[0],i[1])}#P(t,s){const i=t-this.x,h=s-this.y,e=Math.trunc(i/this.#X),r=Math.trunc(h/this.#D);if(i>=0&&h>=0&&i-e*this.#X<this.s&&h-r*this.#D<this.s&&e>=0&&e<this.w&&r>=0&&r<this.h)return[e,r]}get#X(){return this.s+this.#v}get#D(){return this.s+this.#N}}class d{#Y;#O;#U;#W;#B;#G;#F;#_;#K;#V;#J;#$;#q;#z;#Z;#Q;#j;#tt;#st;constructor(t){this.#Y=t}init(t){this.#O=t,this.#W=new a(t,t.renderer.w-74,10,1,1,64,0,0,t=>this.#it(t)),this.#J=this.#W.sprites[0],this.#J=this.#W.sprites[0],this.#J.w(t.text,"X",32,3),this.#B=new r(t);const[s,i,h,e,n,c,o]=this.#Y.mt;this.#G=this.#B.add(-1,100,64,1,i),this.#F=this.#B.add(this.#G.x-12,this.#G.y+60,24,0,i),this.#_=this.#B.add(this.#G.x+46,this.#G.y+60,24,0,i),this.#K=t.text.w(n,-1,10,24,i,[0]),this.#V=t.text.w(c,-1,this.#G.y+100,32,i,[2,1])}u(){const[t,s,i,h,e,r,n]=this.#Y.mt;if(this.#$)return(this.#st||{}).i=!0,new m(this.#O);this.#W.u(),!this.#q&&this.#O.input.cl()?(this.#O.input.cr=!0,this.#G.cc(5),this.#F.cc(5),this.#_.cc(5),this.#B.c(),this.#K.e=!1,this.#V.e=!1,this.#K=this.#O.text.w("VICKI",-1,10,24,5,[0]),this.#V=this.#O.text.w(n,-1,this.#G.y+100,32,5,[2,1]),this.#q=!0):!this.#z&&this.#O.input.cl()&&(this.#O.input.cr=!0,this.#G.e=!1,this.#F.e=!1,this.#_.e=!1,this.#K.e=!1,this.#V.e=!1,this.#B.c(),this.#ht(),this.#z=!0),!this.#z||this.#Z||this.#Q||this.#U.u(),this.#B.u(),this.#Z&&this.#O.input.cl()&&(this.#$=!0),this.#Q&&this.#O.input.cl()&&this.#ht()}d(){this.#z&&!this.#$&&this.#U.d(),this.#B.d(),this.#W.d()}#ht(){this.#Z=!1,this.#Q=!1,(this.#j||{}).e=!1,(this.#tt||{}).e=!1,this.#O.text.clear(),this.#U=new this.#Y(this.#O,()=>this.#et(),()=>this.#rt()),this.#O.text.w(this.#Y.mt[0],-1,10,48,4,[0]),this.#J=this.#W.sprites[0],this.#J.w(this.#O.text,"X",32,3)}#et(){this.#Z=!0,this.#O.minigamesWon.add(this.#Y);const t=["CONGRATS!!","WELL DONE!!","GOOD JOB!!","PAWSOME!!","AMEOWZING!!"],s=this.#O.text.w(t[Math.floor(Math.random()*t.length)],-1,-1,48,2,[0]);this.#O.text.w("GO HELP THE OTHER CATS!",-1,s.y+75,32,3,[2,1],1200),this.#st=this.#O.tt(400,()=>this.#O.particles.e(Math.random()*this.#O.renderer.w,Math.random()*this.#O.renderer.h,!0,256,1e3),!0)}#rt(){this.#Q=!0;const t=["OOPS!!","CAT ASTROPHE!!","OH WELL!!"];this.#j=this.#O.text.w(t[Math.floor(Math.random()*t.length)],-1,-1,48,2,[0]),this.#tt=this.#O.text.w("LET'S TRY AGAIN!",-1,this.#j.y+75,32,3,[2,1],1200)}#it(t){t===this.#J&&(this.#$=!0)}}class l{#O;#nt;#ct;#ot;#at;#dt;#lt;#ut;#W;#ft;#wt;#Et;#z;static mt=["MEOWSWEEPER",8,73,2,"QUEEN KARA III","YOU, NEW CAT!!\nI NEED YOU TO SCRATCH\nMY BACK IMMEDIATELY\nBUT ONLY WHERE I\nLIKE IT!\n\n\nSINCE YOU'RE NEW I WILL\nTELL YOU HOW MANY\nDANGER ZONES ARE\nAROUND WHERE YOU'RE\nSCRATCHING!","OOH, THE QUEEN HERSELF!!\n\n\nI NEED TO MAKE A GOOD\nFIRST IMPRESSION!"];constructor(t,s,i){this.#O=t,this.#nt=s,this.#ct=i,this.#ot=t.renderer.o?20:10,this.#at=t.renderer.o?10:20,this.#dt=30,this.#lt=26;const h=Math.floor(Math.min((t.renderer.w-20)/this.#ot-4*(this.#ot-1)/this.#ot,(t.renderer.h-110)/this.#at-4*(this.#at-1)/this.#at));this.#ut=new a(t,-1,100,this.#ot,this.#at,h,4,4,t=>this.#pt(t)),this.#W=new a(t,10,10,2,1,64,10,0,t=>this.#it(t)),this.#ft=this.#W.sprites[0],this.#ft.w(t.text,"O",30,3),this.#wt=this.#W.sprites[1],this.#wt.w(t.text,"X",30,3),this.#mt(0)}u(){this.#O.input.l()&&this.#mt(0),this.#O.input.r()&&this.#mt(1),this.#ut.u(),this.#W.u()}d(){this.#ut.d(),this.#W.d()}#pt(t){switch(this.#Et){case 0:this.#z||this.#Tt(t),this.#At(t.gridX,t.gridY),t.mine&&(this.#ut.i=!0,this.#O.tt(2e3,()=>this.#ct()));break;case 1:t.flagged?(t.flagged=!1,t.content.e=!1,this.#O.text.c()):(t.flagged=!0,t.w(this.#O.text,"X",this.#lt,2))}}#Tt(t){const s=this.#ut.sprites.filter(s=>s!==t&&(Math.abs(s.gridX-t.gridX)>1||Math.abs(s.gridY-t.gridY)>1));for(let t=0;t<this.#dt;t++){const t=Math.floor(Math.random()*s.length),i=s[t];s.splice(t,1),i.mine=!0}for(let t=0;t<this.#ut.h;t++)for(let s=0;s<this.#ut.w;s++){let i=this.#ut.ca(s,t);if(!i.mine){i.mines=0;for(let h=-1;h<=1;h++)for(let e=-1;e<=1;e++)this.#ut.ca(s+e,t+h)?.mine&&i.mines++}}this.#z=!0}#At(t,s){this.#O.k(200);const i=this.#ut.ca(t,s);if(i?.flagged&&(i.flagged=!1,i.content.e=!1),i?.e&&!i?.opened){if(i.opened=!0,i.i(!1),this.#O.particles.e(i.x+i.grid.s/2,i.y+i.grid.s/2),0===i.mines)i.h=!0,this.#O.tt(100,()=>this.#At(t,s-1)),this.#O.tt(100,()=>this.#At(t,s+1)),this.#O.tt(100,()=>this.#At(t-1,s)),this.#O.tt(100,()=>this.#At(t+1,s));else if(i.mine)for(const t of this.#ut.sprites.filter(t=>t.mine))t.i(!1),t.w(this.#O.text,"X",this.#lt,19);else i.w(this.#O.text,i.mines,this.#lt,i.mines-1+10);this.#ut.c()}this.#ut.sprites.filter(t=>!t.opened).every(t=>t.mine)&&this.#nt()}#it(t){t===this.#wt?this.#mt(1):t===this.#ft&&this.#mt(0)}#mt(t){this.#Et=t,this.#ft.i(0!==this.#Et),this.#wt.i(1!==this.#Et),this.#W.c()}}class u{#O;#nt;#ct;#ut;#B;#st;#xt;static mt=["PAW PAW TOE",6,73,2,"     ORANGE CAT,\nTHE USELESS BOYFRIEND","BET YOU CAN'T BEAT ME\nIN PAW PAW TOE!\n\n\nI'M THE SMARTEST\nORANGE CAT EVER!!!","WELL, THAT'S\nNOT SAYING MUCH...\n\n\nLET'S SEE!"];constructor(t,s,i){this.#O=t,this.#nt=s,this.#ct=i,this.#ut=new a(t,-1,-1,3,3,96,20,20,t=>this.#pt(t)),this.#B=new r(t)}u(){this.#ut.u(),this.#B.u()}d(){this.#ut.d(),this.#B.d()}#pt(t){t.m||(this.#gt(t,1),this.#ut.i=!0,this.#st=this.#O.tt(1e3,()=>{if(!this.#xt){const t=this.#ut.sprites.filter(t=>!t.m);t.length>0&&(this.#gt(t[Math.floor(Math.random()*t.length)],2),this.#ut.i=!1,this.#ut.c())}}))}#gt(t,s){this.#xt||(this.#O.k(200),t.m=s,t.i(!1),t.d(this.#B,64,0,1===s?5:6),this.#Ot())}#Ot(){for(let t=0;t<3;t++){const s=new Map;for(let i=0;i<3;i++){const h=this.#ut.ca(i,t);s.set(h.m,(s.get(h.m)||0)+1)}if(3===s.get(1))return this.#et(1);if(3===s.get(2))return this.#et(2)}for(let t=0;t<3;t++){const s=new Map;for(let i=0;i<3;i++){const h=this.#ut.ca(t,i);s.set(h.m,(s.get(h.m)||0)+1)}if(3===s.get(1))return this.#et(1);if(3===s.get(2))return this.#et(2)}return 1===this.#ut.ca(0,0).m&&1===this.#ut.ca(1,1).m&&1===this.#ut.ca(2,2).m?this.#et(1):2===this.#ut.ca(0,0).m&&2===this.#ut.ca(1,1).m&&2===this.#ut.ca(2,2).m?this.#et(2):1===this.#ut.ca(2,0).m&&1===this.#ut.ca(1,1).m&&1===this.#ut.ca(0,2).m?this.#et(1):2===this.#ut.ca(2,0).m&&2===this.#ut.ca(1,1).m&&2===this.#ut.ca(0,2).m?this.#et(2):void 0}#et(t){this.#xt=!0,this.#ut.i=!0,(this.#st||{}).i=!0,1===t?this.#nt():2===t&&(this.#ut.i=!0,this.#O.tt(2e3,()=>this.#ct()))}}class f{#O;#nt;#B;#Mt;#yt;#W;#Rt;#St;static mt=["SUDOCAT",5,73,4,"KUMBA","I NEED ALL MY TREATS AND\nTOYS NEATLY ORGANISED!!\n\n\nTHERE SHOULD BE ONLY ONE\nTYPE IN EACH ROW, EACH\nCOLUMN AND IN EACH BOX!!","KITTY MUST HAVE OCD..."];constructor(t,s){this.#O=t,this.#nt=s,this.#B=new r(t,!0),this.#Mt=[];const i=Math.floor(Math.min((t.renderer.w-20)/3-32/3,(t.renderer.h-200)/3-32/3));this.#yt=Math.floor(Math.min((i-0)/3-10/3,(i-0)/3-10/3));const h=t.renderer.w/2-3*(i+32/3)/2;for(let s=0;s<3;s++)for(let e=0;e<3;e++){const r=new a(t,h+e*(i+16),100+s*(i+16),3,3,this.#yt,5,5,t=>this.#pt(t));this.#Mt.push(r)}let e=64;t.renderer.h-(100+3*(i+16)+20)>=256?(e=Math.min(Math.floor(Math.min((t.renderer.w-20)/3-20/3,(t.renderer.h-(100+3*(i+10)+20))/4-7.5)),128),this.#W=new a(t,-1,100+3*(i+16),3,4,e,10,10,t=>this.#it(t)),this.#W.ca(0,3).i(!1),this.#W.ca(0,3).h=!0,this.#W.ca(2,3).i(!1),this.#W.ca(2,3).h=!0):this.#W=new a(t,-1,100+3*(i+16),10,1,e,10,0,t=>this.#it(t)),this.#Rt=this.#W.sprites.filter(t=>!t.in);for(let s=1;s<=10;s++){const i=this.#Rt[s-1];10===s?i.w(t.text,"X",2*e/3,3):i.d(this.#B,2*e/3,s+5),i.digit=s<=9?s:null}this.#It(),this.#Lt(1)}u(){for(let t=1;t<=9;t++)this.#O.input.keyPresses[`Digit${t}`]&&this.#Lt(t);this.#O.input.l()&&this.#St>1&&this.#Lt(this.#St-1),this.#O.input.r()&&this.#St<9&&this.#Lt(this.#St+1),this.#O.input.c()&&this.#Lt(null),this.#B.u();for(const t of this.#Mt)t.u();this.#W.u()}d(){for(const t of this.#Mt)t.d();this.#W.d(),this.#B.d()}#vt(t,s){return this.#Mt[3*Math.floor(s/3)+Math.floor(t/3)]}#Nt(t,s){return this.#vt(t,s).ca(t%3,s%3)}#It(){const t=[6,8,0,1,0,0,0,9,0,0,3,4,5,0,8,0,2,0,2,1,0,0,6,0,3,0,0,5,0,0,4,0,7,0,0,9,3,4,2,9,0,0,0,0,6,0,0,7,0,8,0,5,0,0,9,2,0,8,0,0,0,5,3,0,0,3,2,0,0,9,1,8,0,0,0,3,0,0,0,6,7];for(let s=0;s<9;s++)for(let i=0;i<9;i++){const h=t[9*s+i];if(0!==h){const t=this.#Nt(i,s);t.i(!1),t.digit=h,t.d(this.#B,2*this.#yt/3,h+5)}}}#pt(t){t.digit=this.#St,(t.content||{}).e=!1,this.#St&&t.d(this.#B,2*this.#yt/3,this.#St+5),this.#Ht()&&(this.#O.k(200),this.#nt()),this.#O.text.c(),this.#B.c()}#Ht(){let t=!0;this.#bt();for(let s=0;s<9;s++)t&=this.#kt(s),t&=this.#Xt(s),t&=this.#Ot(s);return t}#bt(){for(let t=0;t<9;t++)for(let s=0;s<9;s++){const i=this.#Nt(s,t);i.in||i.cb(0)}for(let t=0;t<9;t++)this.#Mt[t].c()}#kt(t){let s=!0;const i=new Map;for(let s=0;s<9;s++){const h=this.#Nt(t,s);i.set(h.digit,(i.get(h.digit)||0)+1)}for(const[h,e]of i.entries())if(null==h)s=!1;else if(e>1){s=!1;for(let s=0;s<9;s++){const i=this.#Nt(t,s);i.in||i.digit!=h||(i.cb(3),this.#vt(t,s).c())}}return s}#Xt(t){let s=!0;const i=new Map;for(let s=0;s<9;s++){const h=this.#Nt(s,t);i.set(h.digit,(i.get(h.digit)||0)+1)}for(const[h,e]of i.entries())if(null==h)s=!1;else if(e>1){s=!1;for(let s=0;s<9;s++){const i=this.#Nt(s,t);i.in||i.digit!=h||(i.cb(3),this.#vt(s,t).c())}}return s}#Ot(t){let s=!0;const i=new Map,h=this.#Mt[t];for(let t=0;t<9;t++){const s=h.sprites[t];i.set(s.digit,(i.get(s.digit)||0)+1)}for(const[t,e]of i.entries())if(null==t)s=!1;else if(e>1){s=!1;for(let s=0;s<9;s++){const i=h.sprites[s];i.in||i.digit!=t||(i.cb(3),h.c())}}return s}#it(t){t&&this.#Lt(t.digit)}#Lt(t){this.#St=t;for(const t of this.#Rt)t.i(!0);this.#Rt[null!=t?t-1:9].i(!1),this.#W.c()}}class w{#O;#nt;#ut;#B;#Dt;#Ct;#Pt;#st;static mt=["MEOWMORY",9,8,3,"MOLLY","THEY SAY I HAVE THE\nMEMORY OF A GOLDFISH...\n\n\nCAN YOU SHOW ME HOW\nTO REMEMBER THINGS??","SOMEONE SAID FISHIE?!\n\n\nYUM!!!"];constructor(t,s){this.#O=t,this.#nt=s;const i=t.renderer.o?6:5,h=t.renderer.o?5:6,e=Math.floor(Math.min((t.renderer.w-20)/i-16*(i-1)/i,(t.renderer.h-110)/h-16*(h-1)/h));this.#ut=new a(t,-1,100,i,h,e,16,16,t=>this.#pt(t)),this.#B=new r(t,!0);const n=this.#ut.sprites.slice();for(let t=0;t<i*h/2;t++){const s=Math.floor(Math.random()*n.length),i=n[s];n.splice(s,1);const h=Math.floor(Math.random()*n.length),e=n[h];n.splice(h,1),i.secret=t,e.secret=t}}u(){this.#ut.u(),this.#B.u()}d(){this.#ut.d(),this.#B.d()}#pt(t){t.open||(this.#Ct&&this.#Pt&&this.#Yt(),t.open=!0,t.d(this.#B,2*this.#ut.s/3,t.secret,t.secret<5?8:null),t.cb(3),this.#Dt?(t.secret===this.#Dt.secret?(this.#O.k(200),t.found=!0,t.i(!1),this.#Dt.found=!0,this.#Dt.i(!1),this.#ut.sprites.every(t=>t.found)&&this.#nt()):(this.#Ct=this.#Dt,this.#Pt=t,this.#st=this.#O.tt(1e3,()=>this.#Yt())),this.#Dt=!1):this.#Dt=t)}#Yt(){(this.#st||{}).i=!0,this.#Ct.open=!1,this.#Ct.content.e=!1,this.#Ct.cb(0),this.#Pt.open=!1,this.#Pt.content.e=!1,this.#Pt.cb(0),this.#ut.c(),this.#O.text.c(),this.#B.c(),this.#Ct=null,this.#Pt=null}}class E{#O;#nt;#Mt;#Ut;static mt=["MEOWJONG",9,73,4,"PABLO","HOLA!! SOY PABLO!\n\n\nLET'S PLAY MEOWJONG!\nJUST MATCH THE SAME\nTILES BUT ONLY WHEN\nTHEY'RE FREE TO MOVE\nLEFT OR RIGHT.","OH, SI SENOR?!"];constructor(t,s){this.#O=t,this.#nt=s;const i=t.renderer.o?12:8,h=t.renderer.o?8:12,e=Math.floor(Math.min((t.renderer.w-20)/i,(t.renderer.h-110)/h)),n=Math.ceil(e/16);this.#Mt=[];const c=new a(t,-1,100,i,h,e,0,0,t=>this.#pt(t),12);c.spriteBatch=new r(t,!0);for(let[s,i]of[[0,1],[1,1],[0,2],[0,5],[0,6],[1,6],[10,1],[11,1],[11,2],[11,5],[10,6],[11,6]]){if(!t.renderer.o){let t=s;s=i,i=t}c.ca(s,i).i(!1),c.ca(s,i).h=!0}this.#Mt.push(c);const o=new a(t,c.x+((t.renderer.o?3:1)*e-n),c.y+((t.renderer.o?1:3)*e-n),6,6,e,0,0,t=>this.#pt(t),13);o.spriteBatch=new r(t,!0);const d=new a(t,o.x+(e-n),o.y+(e-n),4,4,e,0,0,t=>this.#pt(t),14);d.spriteBatch=new r(t,!0);const l=new a(t,d.x+(e-n),d.y+(e-n),2,2,e,0,0,t=>this.#pt(t),15);l.spriteBatch=new r(t,!0),this.#Mt.push(o),this.#Mt.push(d),this.#Mt.push(l);const u=[];for(let t=0;t<15;t++)for(let s=0;s<4;s++)if(t<5)for(let s=5;s<=9;s++)u.push([t,s]);else u.push([t,null]);for(let t of this.#Mt)for(let s of t.sprites)if(!s.in){const i=Math.floor(Math.random()*u.length),[h,r]=u[i];u.splice(i,1),s.m=`${h}_${r}`,s.d(t.spriteBatch,2*e/3,h,r)}}u(){let t=!1;for(let s=this.#Mt.length-1;s>=0;s--)t=this.#Mt[s].u(t),this.#Mt[s].spriteBatch.u()}d(){for(const t of this.#Mt)t.d(),t.spriteBatch.d()}#pt(t){const s=t.grid.ca(t.gridX-1,t.gridY),i=t.grid.ca(t.gridX+1,t.gridY),h=!s||s.in||!i||i.in;!this.#Ut&&h?(this.#Ut=t,t.cb(3)):t===this.#Ut?(t.cb(t.grid.color),this.#Ut=null):this.#Ut&&h&&this.#Ut.m===t.m&&(this.#O.particles.e(this.#Ut.x+this.#Ut.grid.s/2,this.#Ut.y+this.#Ut.grid.s/2),this.#O.particles.e(t.x+t.grid.s/2,t.y+t.grid.s/2),this.#O.k(200),this.#Ut.i(!1),this.#Ut.h=!0,this.#Ut.content.e=!1,t.i(!1),t.h=!0,t.content.e=!1,this.#Ut=null,this.#Wt());for(const t of this.#Mt)t.c(),t.spriteBatch.c()}#Wt(){for(let t of this.#Mt)for(let s of t.sprites)if(!s.in)return;this.#nt()}}class p{#O;#nt;#Bt;#Gt;#Ft;#_t;#ot;#at;#ut;#W;#Kt;#wt;#Et;static mt=["MEOWSTERPIECE",7,8,3,"CHA CHA","TODAY I DECIDED TO BE\nAN ARTIST!!\nHELP ME WITH THIS\nPAINT BY NUMBER!\n\n\nTHE CLUES WILL TELL YOU\nHOW MANY BLOCKS SHOULD\nBE PAINTED IN EACH ROW\nAND IN EACH COLUMN!","SURE SURE, ARTIST TODAY,\nSOMETHING ELSE TOMORROW!\n\n\nTYPICAL KITTY..."];constructor(t,s){this.#O=t,this.#nt=s,this.#Bt=[[0],[1,1],[2,2],[5],[2,1,2,1],[5,2],[3,1],[6,2],[1,5,1],[8],[2,4]],this.#Gt=[[1,2],[4,1,1],[3,6],[7],[3,6],[4,4],[1,3],[2],[3,1],[2,3]],this.#Ft=Math.max(...this.#Bt.map(t=>t.length)),this.#_t=Math.max(...this.#Gt.map(t=>t.length)),this.#ot=this.#Gt.length+this.#Ft,this.#at=this.#Bt.length+this.#_t;const i=Math.floor(Math.min((t.renderer.w-20)/this.#ot-2*(this.#ot-1)/this.#ot,(t.renderer.h-110)/this.#at-2*(this.#at-1)/this.#at));this.#ut=new a(t,-1,100,this.#ot,this.#at,i,2,2,t=>this.#pt(t));for(let s=0;s<this.#ot;s++)for(let h=0;h<this.#_t;h++){const e=this.#ut.ca(s,h);s<this.#Ft||h<this.#_t-this.#Gt[s-this.#Ft].length?e.h=!0:(e.w(t.text,this.#Gt[s-this.#Ft][h-(this.#_t-this.#Gt[s-this.#Ft].length)],2*i/3,2),e.i(!1))}for(let s=0;s<this.#ot;s++)for(let i=0;i<this.#Ft;i++){const h=this.#ut.ca(i,s);s<this.#_t||i<this.#Ft-this.#Bt[s-this.#_t].length?h.h=!0:(h.w(t.text,this.#Bt[s-this.#_t][i-(this.#Ft-this.#Bt[s-this.#_t].length)],2*this.#ut.s/3,2),h.i(!1))}this.#W=new a(t,10,10,2,1,64,10,0,t=>this.#it(t)),this.#Kt=this.#W.sprites[0],this.#Kt.w(t.text,"O",30,3),this.#wt=this.#W.sprites[1],this.#wt.w(t.text,"X",30,3),this.#mt(2),this.#ut.c()}u(){this.#O.input.l()&&this.#mt(2),this.#O.input.r()&&this.#mt(1),this.#ut.u(),this.#W.u()}d(){this.#ut.d(),this.#W.d()}#pt(t){switch((t.content||{}).e=!1,this.#Et){case 2:4!==t.state?(t.state=4,t.cb(3)):(t.state=null,t.cb(0));break;case 1:t.cb(0),3!==t.state?(t.state=3,t.w(this.#O.text,"X",2*this.#ut.s/3,2)):t.state=null}this.#O.text.c(),this.#Ot()}#it(t){t===this.#wt?this.#mt(1):t===this.#Kt&&this.#mt(2)}#mt(t){this.#Et=t,this.#Kt.i(2!==this.#Et),this.#wt.i(1!==this.#Et),this.#W.c()}#Ot(){let t=0;for(let s=this.#Ft;s<this.#ot;s++){for(let t=0;t<this.#_t;t++)this.#ut.ca(s,t).cb(4);let i=0,h=0,e=0;for(let t=this.#_t;t<this.#at;t++)4===this.#ut.ca(s,t).state&&i++,4===this.#ut.ca(s,t).state&&t!==this.#at-1||((i>0||t===this.#at-1)&&h<this.#Gt[s-this.#Ft].length&&(i>this.#Gt[s-this.#Ft][h]?this.#ut.ca(s,h+(this.#_t-this.#Gt[s-this.#Ft].length)).cb(2):i===this.#Gt[s-this.#Ft][h]&&(this.#ut.ca(s,h+(this.#_t-this.#Gt[s-this.#Ft].length)).cb(10),e++),h++),i=0);e===this.#Gt[s-this.#Ft].length&&t++}for(let s=this.#_t;s<this.#at;s++){for(let t=0;t<this.#Ft;t++)this.#ut.ca(t,s).cb(4);let i=0,h=0,e=0;for(let t=this.#Ft;t<this.#ot;t++)4===this.#ut.ca(t,s).state&&i++,4===this.#ut.ca(t,s).state&&t!==this.#ot-1||((i>0||t===this.#ot-1)&&h<this.#Bt[s-this.#_t].length&&(i>this.#Bt[s-this.#_t][h]?this.#ut.ca(h+(this.#Ft-this.#Bt[s-this.#_t].length),s).cb(2):i===this.#Bt[s-this.#_t][h]&&(this.#ut.ca(h+(this.#Ft-this.#Bt[s-this.#_t].length),s).cb(10),e++),h++),i=0);e===this.#Bt[s-this.#_t].length&&t++}t===this.#ot-this.#Ft+(this.#at-this.#_t)&&(this.#O.k(200),this.#nt())}}class m{#O;#Vt;#ut;#W;#B;#Jt;#$t;#qt;#zt;#Zt;#Qt;#jt;#ts;init(t){this.#O=t,this.#Vt=t.fs,t.fs=!1;const s=6===t.minigamesWon.size;this.#ut=new a(t,-1,s?200:100,6,15,128,0,0,null,"",2),this.#ut.i=!0,this.#W=new a(t,-1,s?232:132,3,7,128,64,64,t=>this.#it(t),"",1),this.#Vt?(this.#W.i=!0,this.#$t=-t.renderer.h,this.#ts=t.text.w("THIS IS A TRUE STORY.\n\n\nTHE CATS DEPICTED HERE\nALL LIVE IN DUBLIN.",-1,-1,32,4,[2,1]),t.tt(9e3,()=>{this.#qt=!0,this.#ts.e=!1,t.text.c()})):s?(t.text.w("CONGRATULATIONS!!",-1,10,48,2,[0]),t.text.w("YOU HELPED ALL THE CATS!\nYOU'VE BEEN ACCEPTED BY",-1,75,32,3,[2,1]),t.text.w("QUEEN KARA",-1,150,32,8,[2,0],7e3),t.text.w("THANKS FOR PLAYING!!",-1,200,32,4,[2,1],1e4),t.tt(400,()=>t.particles.e(Math.random()*t.renderer.w,Math.random()*t.renderer.h,!0,256,1e3),!0)):t.text.w("HELP THE OTHER CATS\nIN THE BUILDING!!",-1,10,32,3,[2,1]),this.#B=new r(t);const i=[u,w,E,f,p,l];for(let s=0;s<21;s++)if(!i[s]||0!=s&&this.#Vt)this.#W.sprites[s].i(!1);else{let[h,e,r,n,...c]=i[s].mt;this.#W.sprites[s].minigameClass=i[s];let o=73;t.minigamesWon.has(i[s])&&(this.#W.sprites[s].i(!1),r=39,o=39,n=1),this.#B.add(this.#W.sprites[s].x+r,this.#W.sprites[s].y+o,50,n,e)}this.#zt=this.#B.add(-1,t.renderer.h,900,1,20);for(let s=0;s<this.#W.sprites.length;s++){const i=this.#W.sprites[s];t.minigamesWon.has(i.minigameClass)&&i.i(!1)}}u(){if(this.#Vt)if(this.#$t<0)this.#$t+=3,this.#$t>=0&&(this.#$t=0,this.#O.k(200)),this.#O.renderer.p=t.or(0,this.#O.renderer.w,this.#O.renderer.h+this.#$t,this.#$t);else if(this.#qt&&!this.#Zt){if(this.#zt.y-=3,this.#zt.y<=this.#O.renderer.h/2-this.#zt.s/2){this.#Zt=!0,this.#zt.y=this.#O.renderer.h/2-this.#zt.s/2;const t=this.#O.text.w("  A VOIDING\nYOUR PROBLEMS",-1,-1,48,null,[0]);this.#O.text.w("  A GAME BY\nATTILA HORVATH",-1,t.y+180,36,7,[1]),this.#O.text.w("TAP TO BEGIN",-1,t.y+280,36,4,[2,1],1200),this.#O.k(500)}this.#zt.x=this.#O.renderer.w/2-this.#zt.s/2,this.#B.c()}else if(this.#Qt)this.#jt?this.#W.i=!1:this.#O.input.cl()&&(this.#O.input.cr=!0,this.#zt.h=!0,this.#B.c(),this.#O.text.clear(),this.#jt=!0,this.#O.text.w("LET'S START WITH THIS\nGENIUS ORANGE CAT HERE!",-1,10,32,3,[2,1]));else if(this.#O.input.cl()){this.#O.input.cr=!0,this.#O.text.clear();const t=this.#O.text.w("SO, I HEARD THIS\nIS THE DOMAIN OF",-1,-1,28,4,[2,1]);this.#O.text.w("QUEEN KARA",-1,t.y+60,32,8,[2,0],4e3),this.#O.text.w("I HOPE SHE'LL ACCEPT ME\nIF I HELP THE OTHER CATS...",-1,t.y+120,28,4,[2,1],6e3),this.#Qt=!0}if(this.#ut.u(),this.#B.u(),this.#Jt)return this.#Jt;this.#W.u()}d(){this.#ut.d(),this.#W.d(),this.#B.d()}#it(t){t&&(this.#Jt=new d(t.minigameClass))}}const T=new class{#z;#ss;#is;#B;#hs;#es;#rs;#ns;constructor(){this.renderer=new i(()=>{if(!this.#z){for(let t=0;t<128;t++){const t=Math.floor(15*Math.random());let s=null;t<5&&(s=5+Math.floor(5*Math.random()));const i=this.#is.add(Math.random()*this.renderer.w,Math.random()*this.renderer.h,16+100*Math.random(),t,s);i.a=.33,i.dx=-.5+Math.random(),i.dy=-.5+Math.random(),i.ds=.2*Math.random()-.1}this.#es=new m,this.#es.init(this),this.#z=!0}}),this.input=new h(this),this.#ss=[],this.#is=new r(this,!0),this.text=new c(this),this.particles=new o(this),this.#B=new r(this),this.#hs=this.#B.add(0,0,26,0,5),this.#hs.h=!0,this.minigamesWon=new Set,this.fs=!0}step(t){this.timestamp=t,this.#cs(t),this.#os(),this.#rs&&(this.text.clear(),this.particles.clear(),this.#es=this.#rs,this.#es.init(this),this.#rs=null)}tt(t,s,i){const h={start:this.timestamp??0,delay:t,onexpire:s,repeat:i};return this.#ss.push(h),h}k(t){navigator.vibrate&&navigator.vibrate(t),this.#ns=!0,this.tt(t,()=>this.#ns=!1)}#cs(t){this.#ns?(this.renderer.v[6]=7*Math.random(),this.renderer.v[7]=7*Math.random()):(this.renderer.v[6]=0,this.renderer.v[7]=0),this.input.u(),this.input.mouse&&this.#hs.h&&(this.#hs.h=!1,this.#B.c()),this.input.moved&&(this.#hs.x=this.input.x-6,this.#hs.y=this.input.y-6,this.#B.c());for(const t of this.#is.sprites)t.x+=t.dx,t.y+=t.dy,t.s+=t.ds,t.x<0&&(t.dx=-t.dx,t.x=0),t.y<0&&(t.dy=-t.dy,t.y=0),t.x>this.renderer.w&&(t.dx=-t.dx,t.x=this.renderer.w),t.y>this.renderer.h&&(t.dy=-t.dy,t.y=this.renderer.h),t.s<16&&(t.ds=-t.ds,t.s=16),t.s>116&&(t.ds=-t.ds,t.s=116);this.#is.c(),this.#is.u(),this.#as(t),this.#es&&(this.#rs=this.#es.u()),this.text.u(t),this.particles.u(t),this.#B.u()}#as(t){for(const s of this.#ss)t>=s.start+s.delay&&!s.i&&(s.repeat?s.start=t:s.ex=!0,s.onexpire&&s.onexpire());this.#ss.some(t=>t.ex||t.i)&&(this.#ss=this.#ss.filter(t=>!t.ex&&!t.i))}#os(){this.renderer.clear();const s=this.renderer.p;this.renderer.p=t.or(0,this.renderer.w,this.renderer.h,0),this.#is.d(),this.renderer.p=s,this.#es&&this.#es.d(),this.renderer.p=t.or(0,this.renderer.w,this.renderer.h,0),this.text.d(),this.#B.d(),this.renderer.p=s,this.particles.d()}};requestAnimationFrame(function t(s){requestAnimationFrame(t),T.step(s)})</script>