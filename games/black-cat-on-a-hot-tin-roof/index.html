<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,maximum-scale=1,user-scalable=no"><title>Black Cat on a Hot Tin Roof - js13kGames 2025</title><style>body,html{display:flex;width:100%;height:100%;margin:0;padding:0;overflow:hidden;background:#000}canvas{margin:auto;width:100%;height:auto;align-self:center;justify-self:center;background:#ef6e10;background:radial-gradient(circle at 25% 100%,#ece910 25%,#ef6e10 26%,#720d0d 100%)}*{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;user-select:none}@media (min-aspect-ratio:16 / 9){canvas{width:auto;height:100%}}</style></head><body data-prefix="bcoahtr_"><canvas width="192"height="108"></canvas></body><script>(()=>{var t=new Map;function e(t){return t.replace(/[^-_\w]+/," ").trim().split(" ").filter(t=>!!t)}function n(r,i,o=t){for(let t of e(r))o instanceof Map?o.get(t)?.add(i)||o.set(t,(new Set).add(i)):o.addEventListener(t,i,!1);return n}function r(n,i,o=t){for(let t of e(n))o instanceof Map?o.get(t)?.delete(i):o.removeEventListener(t,i,!1);return r}function i(e,n,r=t){let o=[n,e];return r.get("all")?.forEach(t=>t(o)),r.get(e)?.forEach(t=>t(o)),i}var{abs:o,ceil:a,cos:l,floor:u,max:c,min:f,pow:s,random:h,round:p,sign:d,sin:m,sqrt:v,PI:A}=Math;function g(t,e,n){return e.forEach((e,r)=>r<t.length&&(t[r]=n(e,r))),t}var E=(t,e)=>g(t,e,t=>t),b=(t,...e)=>E(t,e),w=(t,e,n=t)=>g(n,e,(e,n)=>t[n]+e),L=(t,e,n=t)=>g(n,e,(e,n)=>t[n]-e),y=(t,e,n=t)=>g(n,t,t=>t*e),F=(t,e=t)=>g(e,t,t=>-t),x=(t,e=0)=>I(t,e,1);function I(t=1,e=0,n=0){if(t<=0)return t;let r=233280;I.seed=(9301*I.seed+49297)%r;let i=(e=e?I.seed*e%r:I.seed)/r*t;return n?p(i):i}I.seed=h();var T=new Map;function S(t,e,n){let r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function U(t,e,n,r=t.ARRAY_BUFFER){T.has(e)||T.set(e,t.createBuffer()),t.bindBuffer(r,T.get(e)),n&&t.bufferData(r,n,t.STATIC_DRAW)}function D(t,e,n,r,i){let o=t.getUniformLocation(e,n);if("number"==typeof r)t.uniform1f(o,r);else switch(i||r.length){case 2:t.uniform2fv(o,r);break;case 3:t.uniform3fv(o,r);break;case 4:t.uniform4fv(o,r);break;case 9:t.uniformMatrix3fv(o,!1,r);break;case 16:t.uniformMatrix4fv(o,!1,r)}}function J(t,e,n,r){let i=t.getAttribLocation(e,n);t.enableVertexAttribArray(i),t.vertexAttribPointer(i,r,t.FLOAT,!1,0,0)}var M=[1,0,0,0,1,0,0,0,1];function R(){return new Float32Array(M)}function k(t,e=M){return t.set(e),t}function C(t,[e,n]){if(e||n){let[r,i,o,a,l,u,c,f,s]=t;t[6]=e*r+n*a+c,t[7]=e*i+n*l+f,t[8]=e*o+n*u+s}return t}function G(t,e){if(!((t,e=0)=>t instanceof Array?void 0===t.find(t=>t!==e):t===e)(e,1)){let n,r;e instanceof Array?[n,r]=e:(n=e,r=e),t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=r,t[4]*=r,t[5]*=r}return t}var _,N,P,z,V=8192,X=new Image,B=[0,0],O=new Float32Array(6*V),W=new Float32Array(6*V),j=new Float32Array(98304),q=R(),H=devicePixelRatio,Z=0;function K(){let[t,e]=P,n=_.canvas,{width:r,height:i}=n.getBoundingClientRect();r*=H,i*=H,n.width=r,n.height=i,function(t,e,n){t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1}(q,r,i),G(q,b(B,r/t,i/e)),_.viewport(0,0,r,i)}function Y(t=[1,1,1,1],e){for(let n=0;n<e;n++)j.set(t,12*Z+4*n)}function Q(t,e,n,r=0,i=0){return[t,e,n,r,i]}function $(t,e,n){Z<V&&t[0]in z.frames&&(function([,t,e],[n,r,,i,o,,a,l]){n*=t,r*=t,i*=e,o*=e,W.set([a,l,n+a,r+l,i+a,o+l,i+a,o+l,n+a,r+l,n+i+a,r+o+l],6*Z)}(t,e),function([t,e,n,r,i]){let[o,a,l]=z.size,c=(r?2*r:l)/o,[f,s]=z.frames[t];f=(f+r)/o,s=(s+r)/a,n/=a,f+=((e/=o)+c)*u(i),O.set([f,s,f+e,s,f,s+n,f,s+n,f+e,s,f+e,s+n],6*Z)}(t),Y(n,6),Z+=2)}var tt=Q("ptc",3,3,1),et=Q("cat",33,19),nt=Q("bird",15,14),rt=Q("wall",8,8,1),it=Q("cloud",48,8),ot=Q("house",8,8,1),at=Q("items",16,14),lt=Q("font",5,7),ut=Q("tiny",3,5),ct=["Space","Mouse0"],ft=[0,0,0,0],st=[0,0,0,1],ht=[1,1,1,1],pt="DEATH",dt="JUMP",mt="HIT",vt="KILL",At="SCORE",gt="START",Et="BOSS",bt="COLLECT",wt={c:(t=1,e=1,n=1,r=1)=>[t,e,n,r],d:(t,e=0)=>[t,!!e],t:(t=[0,0],e=[0,0],n=[1,1],r=0,i=0)=>[[...t],[...e],Array.isArray(n)?[...n]:[n,n],r,i]},Lt="d",yt=t=>t[0],Ft=t=>t[1],xt=(t,e)=>t[1][e],It=t=>t[2],Tt=t=>xt(t,"_"),St=(t,e,n)=>e in t[1]?t[1][e][n]:void 0,Ut=(t,e,n,r)=>t[1][e][n]=r,Dt=(t,e)=>St(t,Lt,0)||e,Jt=(t,e)=>Ut(t,Lt,0,e),Mt=(t,e=1)=>Ut(t,Lt,1,!!e);function Rt([t="",{t:e=[],c:n=[],d:r=[],...i}={},o=[]],a=null){let l={_:a,_t:R(),_c:wt.c(),c:wt.c(...n),d:wt.d(...r),t:wt.t(...e)},u=[t,l,[]];for(let t in i){let e=i[t];l[t]=wt[t]?wt[t](...e):[...e]}return o.forEach(t=>It(u).push(Rt(t,u))),u}function kt(t,e){if((e="string"==typeof e?e=e.split("/"):[...e]).length){let n=e.shift();for(let r of It(t))if(yt(r)===n)return e.length?kt(r,e):r}return null}function Ct(t,e){let n=It(t),r=n.indexOf(e);return r>=0&&n.splice(r,1),r}function Gt(t,e,n=t[2].length){let r=Tt(e);r&&Ct(r,e),Ft(e)._=t;let i=It(t);return n<0&&(n=c(i.length+n,0)),n>=i.length?(n=i.length,i.push(e)):i.splice(n,0,e),n}function _t(t,e,n){if((t=>St(t,Lt,1))(t))return;e?.(t);let r=[...It(t)];r.sort((t,e)=>e[1].t[4]-t[1].t[4]);for(let t=r.length-1;t>=0;t--)_t(r[t],e,n);n?.(t)}wt.s=Q;var Nt=(t,e)=>Ut(t,"s",4,e);wt.a=(t,e=0,n=0,r=0,i=0,o=0)=>[t,r,n,e,i,o];var Pt=([,{a:t}],[e=t[1],n=t[2],r=t[3]]=[,,],i=!0)=>{t&&(t[1]=e,t[2]=n,t[3]=r,i&&(t[5]=0))},zt=([t,e],[n,r])=>t*n+e*r,Vt=t=>v((t=>zt(t,t))(t));function Xt(t){let e=Vt(t);return e>0?y(t,1/e):t}function Bt(t,e){let[n,r]=t;return t[0]=e[0]*n+e[3]*r+e[6],t[1]=e[1]*n+e[4]*r+e[7],t}var Ot=[0,0,0,0];wt.b=(t=[0,0,0,0],e=[0,0,0,0],n=[0,0,0])=>[[...t],[...e],[...n]];var Wt=t=>St(t,"b",0),jt=(t,...e)=>E(Wt(t),e),qt=t=>St(t,"b",1),Ht=(t,...e)=>E(qt(t),e),Zt=(t,e)=>E(xt(t,"c"),e),Kt=(t,e)=>Ut(t,"c",3,e),Yt=document,Qt=Yt.body,$t=()=>navigator.userAgent.toLowerCase().match(/android|iphone|ipad|ipod/)?.shift();function te(t,e,n=localStorage){let{prefix:r=""}=Qt.dataset;if(t=r+t,void 0!==e)return null!==e?n.setItem(t,JSON.stringify(e)):n.removeItem(t),e;try{let e=n.getItem(t);if(e)return JSON.parse(e)}catch{}return null}var ee={};function ne(t,e){let n=t.code;return ee[n]!==e&&(ee[n]=e,i(e?"down":"up",n)),!1}n("keydown",t=>ne(t,1),Yt)("keyup",t=>ne(t,0),Yt);var re=[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];function ie(t,e){if(t&&(re[0]=t.clientX,re[1]=t.clientY,i("pointer",re)),void 0!==e){let n="Mouse"+(t instanceof MouseEvent?t.button:0);(function(t,e){void 0!==e?ee[t]=e:ee[t]})(n,e),i(e?"down":"up",n)}}function oe(){return{a:!0,b:!0,o:Number.MAX_VALUE,n:[0,0],v:[0,0]}}function ae(t){return t.a=!0,t.b=!0,t.o=Number.MAX_VALUE,b(t.n,0,0),b(t.v,0,0),t}$t()?n("touchstart",t=>ie(t.touches[0],1),Yt)("touchmove",t=>ie(t.touches[0]),Yt)("touchend",t=>ie(t.touches[0],0),Yt):n("contextmenu",t=>t.preventDefault(),Yt)("mousemove",t=>ie(t),Yt)("mousedown",t=>ie(t,1),Yt)("mouseup",t=>ie(t,0),Yt),oe();var le=[[],[],[],[],[]],ue=[];for(let t=0;t<10;t++)ue.push([0,0]);function ce(t,e){if(3===t.length)return[...t,...t];if(4===t.length){let[e,n,r,i]=t;t=[e,n,e+r,n,e+r,n+i,e,n+i]}if(t.length<6)return;let n=[],r=[],i=[];for(let e=0;e<t.length;e+=2)n.push([0,0]),r.push([0,0]),i.push([0,0]);return fe({p:t,c:n,e:r,n:i},e)}function fe(t,e){if(t instanceof Array)return b(t,t[3],t[4],t[5]),Bt(t,e);let{p:n,c:r,e:i,n:o}=t;for(let t=0;t<n.length;t+=2){let i=r[t/2];b(i,n[t],n[t+1]),e&&Bt(i,e)}let a=r.length;for(let t=0;t<a;t++){let e=r[t],n=t<a-1?r[t+1]:r[0],l=L(n,e,i[t]);Xt(b(o[t],l[1],-l[0]))}return t}function se(t,e){let n=zt(t,t),r=zt(e,t);return r<0?-1:r>n?1:0}function he(t,e,n){let r=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let n of t){let t=zt(n,e);t<r&&(r=t),t>i&&(i=t)}n[0]=r,n[1]=i}function pe(t,e,n,r){let i=le.pop(),a=le.pop();if(he(t,n,i),he(e,n,a),i[0]>a[1]||a[0]>i[1])return le.push(i),le.push(a),!0;if(r){let t;if(i[0]<a[0])if(r.a=!1,i[1]<a[1])t=i[1]-a[0],r.b=!1;else{let e=i[1]-a[0],n=a[1]-i[0];t=e<n?e:-n}else if(r.b=!1,i[1]>a[1])t=i[0]-a[1],r.a=!1;else{let e=i[1]-a[0],n=a[1]-i[0];t=e<n?e:-n}let e=o(t);e<r.o&&(r.o=e,E(r.n,n),t<0&&F(r.n))}return le.push(i),le.push(a),!1}function de(t,e,n){let[r,i,a]=e,l=b(ue.pop(),r,i),u=a*a,c=t.c,f=c.length,s=ue.pop(),h=ue.pop();for(let e=0;e<f;e++){let r=e===f-1?0:e+1,i=0===e?f-1:e-1,p=0,d=null;E(s,t.e[e]),L(l,c[e],h),n&&zt(h,h)>u&&(n.a=!1);let m=se(s,h);if(-1===m){E(s,t.e[i]);let e=L(l,c[i],ue.pop());if(1===se(s,e)){let t=Vt(h);if(t>a)return ue.push(l),ue.push(s),ue.push(h),ue.push(e),!1;n&&(n.b=!1,d=Xt(h),p=a-t)}ue.push(e)}else if(1===m){if(E(s,t.e[r]),L(l,c[r],h),-1===se(s,h)){let t=Vt(h);if(t>a)return ue.push(l),ue.push(s),ue.push(h),!1;n&&(n.b=!1,d=Xt(h),p=a-t)}}else{let t=[s[1],-s[0]];Xt(t);let e=zt(h,t),r=o(e);if(e>0&&r>a)return ue.push(l),ue.push(t),ue.push(h),!1;n&&(d=t,p=a-e,(e>=0||p<2*a)&&(n.b=!1))}d&&n&&o(p)<o(n.o)&&(n.o=p,E(n.n,d))}return n&&y(n.n,n.o,n.v),ue.push(l),ue.push(s),ue.push(h),!0}function me(t,e,n){return t instanceof Array?e instanceof Array?function(t,e,n){let[r,i,o]=t,[a,l,u]=e,c=L([a,l],[r,i],ue.pop()),f=o+u,s=f*f,h=zt(c,c);if(h>s)return ue.push(c),!1;if(n){let t=v(h);n.o=f-t,Xt(c),E(n.n,c),y(c,n.o,n.v),n.a=o<=u&&t<=u-o,n.b=u<=o&&t<=o-u}return ue.push(c),!0}(t,e,n):function(t,e,n){let r=de(e,t,n);if(r&&n){let t=n.a;F(n.n),F(n.v),n.a=n.b,n.b=t}return r}(t,e,n):e instanceof Array?de(t,e,n):function(t,e,n){let r=t.c,i=e.c;for(let e=0;e<r.length;e++)if(pe(r,i,t.n[e],n))return!1;for(let t=0;t<i.length;t++)if(pe(r,i,e.n[t],n))return!1;return n&&y(n.n,n.o,n.v),!0}(t,e,n)}var ve=oe(),Ae=new Set,ge=new Map;wt.p=(t,e=0,n=0)=>[ce(t),e,n];var Ee=(t,e)=>{ge.set(t,e)},be=t=>ge.get(t),we=t=>St(t,"p",0),Le=R(),ye=[0,0];wt.x=function(t,e="",n=0,r=0,i=1,o=1){return[Q(...t),e,n,r,i,o]};var Fe=(t,e="")=>Ut(t,"x",1,e),xe=R(),Ie=[0,0];wt.m=function(t,e,n,r){let i=new Array(n*r).fill(-1),o=new Array(n*r).fill(0),a=0,l=0;for(;a<e.length;){let t=e.charAt(a++),n="|-+".indexOf(t)+1,r=1;n&&(t=e.charAt(a++)),t.match(/[A-Z]/)?t=t.toLowerCase():r=parseInt(e.charAt(a++),36)+1,"0"!==t&&(i.fill(parseInt(t,36)-10,l,l+r),o.fill(n,l,l+r)),l+=r}return[t,i,o,n,r]};var Te=[0,0],Se=t=>xt(t,"_t"),Ue=t=>St(t,"t",1),De=(t,...e)=>E(Ue(t),e),Je=(t,e,n=e)=>b((t=>St(t,"t",2))(t),e,n),Me=([,{_:t,t:e,_t:n}])=>{k(n,t?xt(t,"_t"):void 0),C(G(function(t,e){if(e){let n=m(e),r=l(e),[i,o,a,u,c,f]=t;t[0]=r*i+n*u,t[1]=r*o+n*c,t[2]=r*a+n*f,t[3]=r*u-n*i,t[4]=r*c-n*o,t[5]=r*f-n*a}return t}(C(n,e[1]),e[3]),e[2]),L(b(Te,0,0),e[0]))},Re={scale:1,delta:1/75,time:Ce()},ke=[];function Ce(){return performance.now()/1e3}function Ge(){requestAnimationFrame(Ge);let t=Ce(),e=t-Re.time;if(e>Re.delta){Re.time=t;for(let[t]of ke)t(e*Re.scale)}}function _e(t,e=0){ke.push([t,e]),ke.sort((t,e)=>t[1]-e[1])}function Ne(t){for(let e=ke.length-1;e>=0;e--)ke[e][0]===t&&ke.splice(e,1)}function Pe(t,e,n=0,r=[1]){return new Promise(i=>{let o=t,a=0;r[2]=l=>{let[u,c]=r;for(o-=l*u;o<=0&&a<n-1;)o+=t,e?.(0,++a);o<=0||c?(Ne(r[2]),e?.(1,a),i()):e?.(1-o/t,a)},_e(r[2],99),r[2](0)})}function ze(t,e=!1){t[1]=1,t[2]&&e&&Ne(t[2])}n("visibilitychange",()=>Yt.hidden||void(Re.time=Ce()),Yt);var Ve,Xe,Be,Oe="c,db,d,eb,e,f,gb,g,ab,a,bb,b".split(","),We=[],je=new Map,qe=new Map;function He(t,e){let n=t[0],r=e.createGain();r.connect(e.destination);let i,o=e.createBiquadFilter();if(o.connect(r),"custom"===n)o.type="bandpass",i=e.createBufferSource(),i.buffer=Be,i.loop=!0;else if(o.type="highpass",o.frequency.value=20,i=e.createOscillator(),"string"==typeof n)i.type=n;else{let t=Float32Array.from([0,...n]);i.setPeriodicWave(e.createPeriodicWave(t,t.map(()=>0)))}return i.connect(o),{props:t,ctx:e,src:i,vol:r,filter:o}}function Ze(t,e,n,r){e instanceof Array?t.setValueCurveAtTime(Float32Array.from(e),r,n-.01):t.setValueAtTime(e,r)}function Ke(t,e,n=t.props[1],r=0){let i=t.props[2],{src:o,vol:a,filter:l}=t;Ze(o instanceof OscillatorNode?o.frequency:l.frequency,e,n,r),Ze(a.gain,e?i:0,n,r)}function Ye(t,e=t.props[1]){t.src.start(),t.src.stop(e)}function Qe(t,e){let n=new OfflineAudioContext(1,Ve*e,Ve);return n.addEventListener("complete",e=>qe.set(t,e.renderedBuffer)),n}async function $e(t,e,n){let{length:r}=e,i=Qe(t,r),o=He(e,i);Ke(o,n),Ye(o),await i.startRendering()}function tn(t,e=-1,n=Xe?.destination){let r=je.get(t);return!r&&n&&(r=Xe.createGain(),r.connect(n),je.set(t,r)),r&&e>=0&&(r.gain.value=f(e,1)),r}function en(t,e=!1,n="master"){if(qe.has(t)){let r=Xe.createBufferSource();return r.loop=e,r.buffer=qe.get(t),r.connect(tn(n)),r.start(),r}return null}var nn=Rt(["enemies",{t:[,[-96,39]]}]),rn=[,{b:[,,[200]],t:[[8,7]]},[["poly",{p:[[7,8,4],8,1],c:ft}],["img",{s:nt,a:[[[0],[1,2,3,4],[1,2]],10,1]}]]],on=0;function an(t,e,n=x(150)+30,r=!1){let i=Rt(rn);return De(i,t,r?e-2:e),Ht(i,on),Je(i,r?1.3:1),Zt(i,r?st:ht),Jt(i,[n,r?1e3:100]),Gt(nn,i)}function ln(t){return w(w([-10,-10],Ue(t)),Ue(nn))}var un=([t])=>{let e=Dt(t);e&&(Ht(t,0,0),Je(t,1,-1),jt(t,0,250,I(2)),Pt(kt(t,"img"),[2,1]),Jt(t,void 0),e[1]>100&&i(Et),i(At,[e[1],...ln(t)]))};function cn(){let t=It(nn);for(let e=t.length-1;e>=0;e--){let n=t[e],[r]=Ue(n),i=Dt(n);r<=-120?Ct(nn,n):i&&r<i[0]&&!Wt(n)[1]&&(Pt(kt(n,"img"),[1,0],!1),jt(n,0,-200))}}var fn=Rt(["houses",{t:[,[-96,54]]}]),sn=0;function hn(t,e,n=1,r=1){return Rt(["house",{b:[,,[n*sn]],d:[n],t:[[0,48],[t,e],n],m:[ot,"ABCDEFGHIJKLEFGHIJKLEFGHIJKL",4,6],c:[r,r-.1,r-.2,1]}])}function pn(){let t=It(fn);for(let e=t.length-1;e>=0;e--){let n=t[e],r=Dt(n),[i]=Ue(n);i<=-32*r&&De(n,196)}}async function dn(t){let e=It(fn),n=e.map(t=>Ue(t)[1]);await Pe(t,t=>{e.forEach((e,r)=>{let i=Ue(e)[0];De(e,i,n[r]*(1-t))})})}var mn=Rt(["items",{t:[,[-96,46]]}]),vn=["item",{b:[],d:[25],t:[[8,14]]},[["poly",{p:[[2,2,12,12],4,1],c:ft}],["img",{s:at}]]],An=0;function gn(t,e,n=0){let r=Rt(vn);return De(r,t,e),Ht(r,An),Nt(kt(r,"img"),n),Gt(mn,r)}function En(t){return w(w([-2,-25],Ue(t)),Ue(mn))}function bn(){let t=It(mn);for(let e=t.length-1;e>=0;e--){let n=t[e],[r,i]=Ue(n);(r<=-120||o(i)>=120)&&Ct(mn,n)}}var wn,Ln,yn=Rt(["tail"]),Fn=[.6,0,.3],xn=[],In=["ptc",{b:[],t:[[1.5,1.5]],s:tt}],Tn=0;function Sn(){wn&&(ze(wn,!0),wn=null)}async function Un(t,e,n=0){Sn(),Ln=t,Tn=n,wn=[1],await Pe(.1,Dn,10*e,wn),wn=null}async function Dn(t){for(let e=0;e<Fn.length;e++)Fn[e]=(Fn[e]+t)%1;if(0===t){let t=function(t){return t.pop()||Rt(In)}(xn),[e,n]=Ue(Ln);Nt(t,2),Zt(t,[...Fn,1]),Ht(t,-100,-I(40),0,0),De(t,e+Tn,n),jt(t,0,60,0,I(10)-5),Gt(yn,t),await Pe(1,e=>{let n=1-e*e;Kt(t,n),Je(t,1.6*n)}),Ct(yn,t),xn.push(t)}}var Jn,Mn=[110,-30],Rn=Rt(["power",{t:[[2.5,3.5],[...Mn],1.2],b:[]},[["text",{x:[lt]}],["poly",{p:[[-1,0,7,7],16,1],c:ft}]]]),kn=kt(Rn,"text"),Cn=kt(Rn,"poly"),Gn=new Set,_n=0;async function Nn(t){if(t){Jn&&ze(Jn,!0),Jn=[1],Ht(Rn,0),Mt(Cn);let[t,e]=Ue(Rn);i(At,[250,t,e]),Sn(),await Pe(.3,n=>{let r=1-n**4;Kt(Rn,r),De(Rn,t*r,(e+50)*r-50)},0,Jn);let n=Dt(Rn,0);Gn.add(n);let r=3===Gn.size;i(bt,[Gn,r]),r&&(await Pe(7,void 0,0,Jn),Pn()),Jn=null}}function Pn(){Jn&&ze(Jn,!0),Jn=null,_n=0,Gn.clear(),Ht(Rn,0),De(Rn,...Mn),i(bt,[Gn,!1])}var zn=Rt(["floors",{t:[,[-96,46]]}]),Vn=["AbwCDewFDewFDe1Gh2Ie2Gh2Ie2Gh2Ie2Gh2Ie1FDe1Jk2Le2Jk2Le2Jk2Le2Jk2Le1FDe1Jk2Le2Jk2Le2Jk2Le2Jk2Le1F","AbhCDehFDehFDEGh2IEGh1IEGh2IEFDEJk2LEJk1LEJk2LEFDEJk2LEJk1LEJk2LEF","AbaCDeaFDeaFDEGh1IEGh1IEFDEJk1LEJk1LEFDEJk1LEJk1LEF"],Xn=[35,20,13],Bn=0,On=0,Wn=0,jn=!0;function qn(t,e,n=x(Vn.length-1)){let r=Xn[n],i=Rt(["wall",{b:[],t:[,[t,e]]},[["map",{m:[rt,Vn[n],r,6]}],["poly",{p:[[0,0,8*r,300],2,1],c:ft}]]]);return Jt(i,8*r),Ht(i,On),Gt(zn,i),r}function Hn(){let t=It(zn);for(;t.length;)Ct(zn,t.pop());(function(){let t=It(mn);for(;t.length;)Ct(mn,t.pop())})(),function(){let t=It(nn);for(;t.length;)Ct(nn,t.pop())}(),an(155,-24,150,!0),qn(-8,-24,0),jn=!0}function Zn(t){On=t,It(zn).forEach(e=>Ht(e,t)),function(t){An=t,It(mn).forEach(e=>Ht(e,t))}(t),function(t){on=t,It(nn).forEach(e=>Ht(e,t))}(t),function(t){sn=t,It(fn).forEach(e=>{Ht(e,t*Dt(e))})}(t/7)}function Kn(){Wn=0;let t=It(zn);for(let e=t.length-1;e>=0;e--){let n=t[e],r=Dt(n),[i]=Ue(n);i<=-r?Ct(zn,n):Wn=c(i+r,Wn)}for(Wn<196&&jn&&async function(){Jn||(Fe(kn,"CAT"[_n]),Jt(Rn,_n),Ht(Rn,-50),Kt(Rn,1),De(Rn,...Mn),Mt(Cn,0),_n=++_n%3,Jn=[1],await Un(Rn,5,-5),Jn=null,Ht(Rn,0))}();Wn<196&&jn;){let t=Wn?8*x(8)+32+Wn:0,e=-8*(x(4)+1),n=x(3),r=qn(t,e);Wn=t+8*r;let i=x(4)+2;for(;i<r-2;)I()>Bn?gn(t+8*i,e,n):an(t+8*i,e),i+=x(6)+6}}var Yn,Qn="Black Cat",$n=Rt(["hud",,[["score",{t:[,[-94,-52],.7],x:[lt]}],["time",{t:[,[94,-52],.7],x:[lt,,2]}],["press",{t:[,[0,40]],x:[ut,"Click to Start",1,1]}],["overlay",,[["high",{t:[,[0,-52],.7],x:[lt,,1,0]}],["end",,[["text",{t:[,[0,-20],2],x:[lt,"The End",1,1]}],["cat1",{t:[[],[-25,5]],s:et,c:st}],["cat2",{t:[[],[25,5],[-1,1]],s:et}],["floor",{t:[,[-52,24]],m:[rt,"AbaCDeaFDeaFDEGh1IEGh1IEFDEJk1LEJk1LEFDEJk1LEJk1LEF",13,6]}],["poly",{p:[[-100,-100,200,200]],c:[.02,.2,.22,1]}]]],["game",,[["text",{t:[,,2],x:[lt,"Game Over",1,1]}],["poly",{p:[[-100,-100,200,200]],c:st}]]]]],["logo",{t:[,[0,-20]]},[["power",{t:[,,2],x:[lt,,1,1]}],["text",{t:[,,2],x:[lt,Qn,1,1],c:st}],["shade",{t:[,[0,1.9],2],x:[lt,Qn,1,1]}],["title",{t:[,[0,15]],x:[lt,"on a Hot Tin Roof",1,1]}]]],["values"]]]),tr=kt($n,"logo"),er=kt($n,"press"),nr=kt($n,"values"),rr=kt($n,"overlay"),ir=kt($n,"time"),or=kt($n,"score"),ar=kt(tr,"power"),lr=kt(rr,"end"),ur=kt(rr,"game"),cr=kt(rr,"high"),fr=0,sr=te("high")||0,hr=0;function pr(t=""){Fe(er,t)}function dr(t){Fe(or,`score ${fr=t}`)}async function mr(t){Pe(t,t=>{Je(tr,(1-.33)*(1-t*t)+.33),De(tr,0,-31*t-20)})}function vr(t){hr=c(hr-t,0),Fe(ir,`${a(hr)} SEC`)}async function Ar(){Kt(lr,0),Kt(ur,1),dr(0),hr=60,Yn&&ze(Yn,!0),_e(vr);let t=(t=>St(t,"c",3))(rr);await Pe(.3,e=>{let n=1-e;Kt(er,n),t&&Kt(rr,n)})}async function gr(){Ne(vr),fr>sr&&te("high",sr=fr),Fe(cr,"High Score "+sr),Yn=[1],await Pe(.3,t=>{Kt(er,t),Kt(rr,t)},1,Yn),Yn=null}async function Er([[t,e,n]]){let r=function(t,e,n){return Rt(["value",{t:[[],[e,n]],x:[ut,`+${t}`,1,1]}])}(t,e,n);Gt(nr,r),await Pe(.5,t=>{let i=1-t**4;Kt(r,i),De(r,(e+68)*i-68,(n+48)*i-48)}),Ct(nr,r),dr(fr+t)}function br([[t]]){let e="";for(let n=0;n<9;n++)e+=t.has(n-6)?Qn[n]:" ";Fe(ar,e)}function wr(){Kt(lr,1),Kt(ur,0)}var Lr=[-50,22],yr=Rt(["cat",{t:[,[...Lr]],b:[,,[170]]},[["poly",{p:[[-12,-8,28,9],1],c:ft}],["img",{s:et,c:st,t:[[16,18]],a:[[[1,2,3],[4,1,2,3],[0],[1]],10,1,2]}]]]),Fr=new Set,xr=()=>kt(yr,"img"),Ir=0,Tr=!0,Sr=!0,Ur=!1;function Dr(){_e(Pr),n("down",Mr),n("up",Rr),n(mt,kr)}function Jr([[,t]]){Ur!==t&&((Ur=t)?(Zt(xr(),ht),Un(yr,6,-10)):(Zt(xr(),st),Sn()))}function Mr([t]){if(ct.includes(t))if(Tr)i(gt);else if(Sr&&(Fr.size||Ir<1)){let[t]=qt(yr);Ht(yr,t,-500),Pt(xr(),[0,1]),i(dt,Ir++)}}function Rr([t]){if(ct.includes(t)){let[t,e]=qt(yr);e<0&&Ht(yr,t,e/4)}}function kr(){Sr=!1,Cr(yr),Pt(xr(),[3,0])}function Cr(t){Ht(t,50,-200),jt(t,0,500,I(2),I(20)-10)}function Gr(t,e,n){if(Fr.delete(e),t&&Sr){if(t.v[1]<0){Ir=0,Fr.add(e);let[t,n]=qt(yr);n>0&&Ht(yr,t,0)}w(Ue(yr),t.v),_t(yr,Me),fe(we(n),Se(n))}}function _r(t,e){if(t&&Sr){let n=Tt(e),r=function(t){return(t=>St(t,"s",4))(kt(t,"img"))}(n);if(!Ur&&t.n[1]<0&&3===r)return void i(mt);Cr(n),Ct(n,e),i(At,[Dt(n),...En(n)])}}function Nr(t,e,n){if(t&&Sr){let r=Tt(e);if(!Dt(r))return;if(Ur||t.n[1]<0){Ir=0;let[t,e]=qt(yr);e>0&&Ht(yr,t,0)}else i(mt);w(Ue(yr),t.v),_t(yr,Me),fe(we(n),Se(n)),i(Sr?vt:"LOSE",r)}}function Pr(t){if(!Tr){let[e,n]=Ue(yr);n>100||e<-150?(Tr=!0,i(pt)):e<Lr[0]&&De(yr,5*t+e),Sr&&Pt(xr(),Fr.size?[1,0]:[0,1],!1)}}var zr,Vr,Xr=Rt(["game",{t:[,,1]}]),Br=Rt(["container",{t:[,[0,54]]}]),Or=Rt(["clouds",,[[,{t:[,[90,-40],[-1.3,1]],s:it,c:[1,1,1,.2]}],[,{t:[,[-70,-30],1],s:it,c:[1,1,1,.3]}],[,{t:[,[-100,15],[1.2,.7]],s:it,c:[1,1,1,.7]}]]]);async function Wr(){r("click",Wr,Yt),pr("Loading..."),await async function(t=44100,e=new AudioContext){Ve=t,Xe=e,"suspended"===e.state&&await e.resume();let n=(Be=e.createBuffer(1,2*t,t)).getChannelData(0);for(let e=0;e<2*t;e++)n[e]=2*h()-1;let r=s(2,1/12);for(let t=-57;t<50;t++)We.push(440*s(r,t))}(22050);let t=Array.from({length:8191},(t,e)=>(t=>4/(t*Math.PI)*Math.sin(Math.PI*t*.18))(e+1));await $e(mt,[t,.3,[.5,0]],[440,880,440,220]),await $e(dt,["custom",.1,[.2,.4,0]],[220,440]),await $e(At,["sine",.1,[.5,0]],[220,110,0]),await async function(t,e){let n=e.map(t=>function(t){let e=0,n=0,[,r,i]=t,o=r.split("|");return{props:t,data:o.reduce((t,e,n)=>t+(n%2?(","+o[n-1]).repeat(parseInt(e)-1):(t?",":"")+e),"").split(",").map(t=>{let r=t.match(/^([\d.]+)/);if(r){let o=parseFloat(r[1]),a=t.match(/([a-z]+\d+)/g),l=[o];return n+=o*i,a&&(e=c(a.length,e),l.push(...a.map(t=>{let e=t.match(/([a-z]+)(\d+)/);return e?We[12*parseInt(e[2])+Oe.indexOf(e[1])]:0}))),l}}),size:e,length:n}}(t)),r=Qe("theme",c(...n.map(t=>t.length)));n.forEach(t=>function({props:t,data:e,size:n},r){let i=[];for(let e=0;e<n;e++)i.push(He(t[0],r));let o=0;e.forEach(e=>{let n=e[0]*t[2];i.forEach((t,r)=>Ke(t,e[r+1]||0,n,o)),o+=n}),i.forEach(t=>Ye(t,o))}(t,r)),await r.startRendering()}(0,[[[t,.3,[.3,.1]],"8|2|1e2,1e2,1gb2,1e2,1g2,1e2,1a2,1ab2|4|1a2,1a2,1b2,1a2,1c3,1a2,1d3,1db3|2|1e2,1e2,1gb2,1e2,1g2,1e2,1a2,1ab2|2|1b2,1b2,1db3,1b2,1d3,1b2,1e3,1eb3|1|1a2,1a2,1b2,1a2,1c3,1a2,1d3,1db3|1",.2],[["custom",.2,[1,.2,0]],"2,1a2,3,1a2,1a2|12",.2],[["sine",.2,[1,.2,0]],"1a1,3,1a1,3|12",.2]]),n("visibilitychange",qr,Yt),n("all",([t,e])=>en(e)),qr(),pr(),await Promise.all([jr(2),mr(2),dn(2)]),Dr(),pr(($t()?"Tap":"Press Space")+" to Play")}async function jr(t){let[e,n]=Ue(Br);await Pe(t,t=>De(Br,e,n*(1-t)))}function qr(){tn("master",Yt.hidden?0:1)}async function Hr(){tn("music",.5),Vr=en("theme",!0,"music"),function(){Sn();let t=It(yn);for(let e=t.length-1;e>=0;e--)Ct(yn,t[e]),xn.push(t[e])}(),Ir=0,Tr=!1,Sr=!0,De(yr,...Lr),jt(yr,0,450,0,0),Ht(yr,0,0,0,0),Je(yr,1),Ut(yr,"t",3,0),Hn();let t=-100;zr=[1],await Pe(.5,e=>Zn(e*t),0,zr),await Pe(60,e=>{(function(t){Bn=t/100})(28*e+5),Zn(e*t/2+t)},0,zr),zr=null,function(){let t=8*x(8)+32+Wn;qn(t,-24,1),an(t+140,-24,120,!0),jn=!1}()}async function Zr(){zr&&(ze(zr,!0),zr=null);let t=On;Ne(Pr),r("down",Mr),r("up",Rr),r(mt,kr),await Pe(1,e=>{Zn((1-e)*t),tn("music",.5*(1-e))}),Vr?.stop(),Dr()}var Kr,Yr,Qr,$r=Rt(["root",{t:[,[96,54]]}]);_e(t=>{_t($r,t=>{Me(t),(t=>{let[,{_t:e,p:n}]=t;if(!n)return;let[r,i,o]=n,a=be(i);if(fe(r,e),i)for(let e of Ae){let[n,l,u]=xt(e,"p"),c=be(l);a&&o&l&&a(me(r,n,ae(ve))?ve:null,t,e),c&&u&i&&c(me(n,r,ae(ve))?ve:null,e,t)}Ae.add(t)})(t),(([,{_:t,c:e,_c:n}])=>{E(n,e),t&&((t,e,n=t)=>{g(n,e,(e,n)=>t[n]*e)})(n,xt(t,"_c"))})(t)},e=>{(([,{_c:t,p:e}])=>{e&&e[0].c&&t[3]&&function({c:t},e){let[n,r]=z.dot;for(let i=2;i<t.length;i++)W.set([...t[0],...t[i-1],...t[i]],6*Z),O.set([n,r,n,r,n,r],6*Z),Y(e,3),Z++}(e[0],t)})(e),(([,{_t:t,_c:e,m:n}])=>{n&&e[3]&&function([t,e,n,r],i,o){let[,a,l]=t;e.forEach((e,c)=>{if(e>=0){let f=c%r,s=u(c/r),h=n[c];C(k(xe,i),b(Ie,f*a,s*l)),h&&G(xe,b(Ie,1&h?-1:1,2&h?-1:1)),t[4]=e,$(t,xe,o)}})}(n,t,e)})(e),(([,{_t:t,_c:e,s:n}])=>{n&&e[3]&&$(n,t,e)})(e),(([,{_t:t,_c:e,x:n}])=>{n&&e[3]&&function([t,e,n,r,i,o],a,l){k(Le,a);let[,u,c]=t,f=e.split("\n");C(Le,b(ye,0,((c+o)*f.length-o)*r/-2));for(let e of f){let r=((u+i)*e.length-i)*n/-2;C(Le,b(ye,r,0));for(let n=0;n<e.length;n++){let o="+-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,.!?$".indexOf(e.charAt(n).toUpperCase());o>=0&&(t[4]=o,$(t,Le,l)),C(Le,b(ye,u+i,0)),r+=u+i}C(Le,b(ye,-r,c+o))}}(n,t,e)})(e),((t,e)=>{let{s:n,a:r}=Ft(t);if(n&&r){let[n,i,o,a,l,c]=r,s=Array.isArray(n[i])?n[i]:n;s?.length&&(a&&(r[5]=f(c+e,o?o*(s.length-1)/a:Number.MAX_VALUE)),Nt(t,s[u(r[5]*a%s.length)]+l))}})(e,t),(([,{t:t,b:e}],n=0)=>{if(n&&e){let[r,i,o]=e;b(Ot,0,0,0,0),w(i,y(r,n,Ot)),o[0]&&Vt(i)>o[0]&&y(Xt(i),o[0]),i[2]&&w(t[2],y(Xt(E(Ot,t[2])),f(i[2],o[1]||i[2])*n)),i[3]&&(t[3]+=f(i[3],o[2]||i[3])*n),w(t[1],y(i,n,Ot))}})(e,t)}),function(t=!0){D(_,N,"uRes",new Float32Array([_.canvas.width,_.canvas.height])),D(_,N,"uProj",q),U(_,"aUv",O),J(_,N,"aUv",2),U(_,"aPos",W),J(_,N,"aPos",2),U(_,"aTint",j),J(_,N,"aTint",4),t&&_.clear(_.COLOR_BUFFER_BIT),_.drawArrays(_.TRIANGLES,0,3*Z),Z=0}(),Ae.clear()},9),Kr=function(t,e=Yt){return e.querySelector(t)}("canvas"),Yr={size:[427,49,1],frames:{wall:[170,8,120,10],tiny:[80,20,171,5],ptc:[252,20,30,5],items:[0,35,67,14],house:[291,8,120,10],font:[170,0,257,7],cloud:[80,26,48,8],cat:[0,0,169,19],bird:[0,20,79,14]},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAasAAAAxBAMAAACWtZvPAAAAMFBMVEUAAAD///8AAAAAX0EeCQ1GHBQ1NlgFMjm2aDFyDQ3sqxH7voLFzduLl7Zoa3IYDS9/YVjlAAAAAXRSTlMAQObYZgAABLZJREFUeNrslMeNIzEQRT81CRQzEDgJyKSgHkD36RQ2hb3uUZjzus5AYS7Zn39pxnv7QRTKCeDrKgpZ5vDkch7wcPNJrjfnaZWUjclchc1JSw5gyZo6ZVmtjzfMcpYaYJB8zDy1eCNzFo8HeJD87qhKCEued3Oma1ZDlwEKViw7UQLeezyhLH8q8/yEN2CBVqfFsstYqLE4dbiCBWeiemos7ZgZdFuvo7U0n46GxKqLjrBMJZKV/WywYGB/wSLoc04LBq8v6C1aZpJtpnXNEjLjqjYDtIT8bKTUsOQ/zxJKGUI3IRYvhRvflgmraXCWkjWWM4UNXIXi7ky1uMcqlr84eGiFtKKw5p8QVdLolAc0V+mXvztj1fRzE5w9ACvgHSkCN/HJNqqezTYrnK5uH19ohV0tRUXD2XdqSOWrdWj049qc1L6tlgIIHdUmnC57BqhhJcy3guU6rJNqNoxFpUwzPkWrjBmmWgH7adpNE81PTNMwSvuUK1gxvA7reHE8HGmEUOUOF8drsKyl0myqOEQhLEUhzpg4WSGcFsww1roC6/+cnhfLF6yaQrPZLkIWN7Aw5ZYtF0+YYVcrIE5nN40055jG4ewbNQzjbhwLVgzvsXBt7mYsvilRcDarGitSr1hXSxoWM8S87W21j6kNnxLL+SRUyhzkXEERKVkVVuIEUGNiv5+iaH72Ybt1UxfO183LFa2WK+5ZPMmkgrDmnPp6JmHVEpUgl8wqZFwqJM6YbwLL4zqspQK5iwzXE9OZA1aG/RhFc96H1WNioQmfaAmdAb7D0nWl4oqgDdRE5DeBBZ9luPbui5ZLlV6a6Jf+UV/HOm7DQBCGZ9vYxT89Hz61u6vTmP0+VMAlLdFIkuoM2KMDyCWb+zByodfF58uo0P8S9VjIBK5nzIFVe6gzQMB+zxkjSXUujwiFhL41F1NrdElGK/tWCwwW1J+QOCLWGYSiJu8UhbZhsYR5HUsPVqIwp9bL49bt1UJIhKhp7Ay4OF4tnn0amPeLOrsj9uY9aUzbd8Y+WO5k3ic1XMZoLW2vtmKsRaJ4wntbnG1x3iAeLIjt/39lW2EzWT2aCbfMzvGt8uW0USVkjAtmahI8flsoAJ8kjjOFvGhz93heyvJiuVtfbjkPXJxwM/q4FIvJarbk1q3J6nO2/sjtdvv5/izX0tJsL6XdMxnrX1Rv77oWq16+WVPNxYqW92KGnvLjVtFbJ3sz+yfXlxMpGmpjc1kXu+oD6srs3U/f/aOkYoXXjCqDMlHv39c1s1mS7YZGwkit6ZHW2Vv6GJdzrL+u2XVkEhdzqT7Kdblc7xqJfKbsuf0jv9upAwyJgSCMwg8ESHKFHC2gAFO3XSBtQAHTUwYNmNotE+QES639Q7oBPo/mf7+7+X6exw5I/piE6muvj6p92Q4xADTKxzLdAI5Hvz1hjR2mcFiAe91YIi/ybN2Slbm0PGs2kcw19x9Wd4jYpwjAnEULx8pcV5ZIdVbGSsV2ZZnVrzV5fmetp8Oatbw6C51cL08GxNAAFlFMvGyuMZxkPboEwHozL8+am0Zs5EXUAUbvWp91PvA004i/xzq6fFirDgdM5C2i5VmZC2AMVcA03gmtuG9JGTnDq9YPzwAAAABJRU5ErkJggg==",dot:[.594,.439]},Qr=()=>{Gt($r,(Gt(Xr,(Kt(rr,0),n(gt,Ar),n(pt,gr),n(At,Er),n(bt,br),n(Et,wr),$n)),Gt(Xr,Br),Gt(Br,(Ee(2,Gr),Ee(4,_r),Ee(8,Nr),n(bt,Jr),yr)),Gt(Br,(Ee(16,Nn),n(gt,Pn),Rn)),Gt(Br,yn),Gt(Br,(n(vt,un),_e(cn),nn)),Gt(Br,(_e(bn),mn)),Gt(Br,(Hn(),_e(Kn),zn)),Gt(Xr,(Gt(fn,hn(100,40,2,.7)),Gt(fn,hn(50,30,1.5,.8)),Gt(fn,hn(170,26,1.3,.9)),Gt(fn,hn(0,20,1)),Gt(fn,hn(120,20,1)),_e(pn),fn)),Gt(Xr,Or),n("click",Wr,Yt),n(gt,Hr),n(pt,Zr),Xr)),Ge()},_=Kr.getContext("webgl2"),P=[Kr.width,Kr.height],N=function(t,e,n){let r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),r}(_,S(_,_.VERTEX_SHADER,"#version 300 es\nin vec2 aUv;in vec2 aPos;in vec4 aTint;uniform mat3 uProj;out vec2 vUv;out vec4 vTint;void main(){vUv=aUv;vTint=aTint;gl_Position=vec4(uProj*vec3(aPos,1),1);}"),S(_,_.FRAGMENT_SHADER,"#version 300 es\nprecision mediump float;in vec2 vUv;in vec4 vTint;uniform sampler2D uImage;out vec4 fColor;void main(){fColor=texture(uImage,vUv)*vTint;fColor.rgb*=fColor.a;}")),z=Yr,_.enable(_.BLEND),_.clearColor(0,0,0,0),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),_.useProgram(N),n("load",()=>{_.bindTexture(_.TEXTURE_2D,function(t,e,n=!0){let r=t.TEXTURE_2D,i=t.createTexture();return t.bindTexture(r,i),t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(r,t.TEXTURE_MAG_FILTER,n?t.NEAREST:t.LINEAR),t.texImage2D(r,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}(_,X)),n("resize",K,window),K(),Qr()},X),X.src=Yr.src})()</script></html>