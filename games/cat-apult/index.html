<!doctype html><title>Cat-apult - js13kGames 2025</title><meta content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=0" name=viewport><style>#jc{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);z-index:1;display:flex;flex-direction:column;align-items:center;gap:2rem;padding:1.5rem;border-radius:1rem;display:none}#jb{width:150px;height:150px;background-color:rgba(255,255,255,.1);border-radius:50%;position:relative;border:2px solid rgba(255,255,255,.2);box-shadow:0 4px 6px rgba(0,0,0,.1)}#jh{width:60px;height:60px;background-color:#b98a8a;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 2px 4px rgba(0,0,0,.2);transition:transform .1s ease-out;border:2px solid #e4b6b6}</style><div id=jc><div id=jb><div id=jh></div></div></div><script>function t(t,i){return!(i.x>t.x+t.width||i.x+i.width<t.x||i.y>t.y+t.height||i.y+i.height<t.y)}function i(t,i){if(null==t)throw Error(i)}var h,s=h||{};s[s.Linear=0]="Linear",s[s.Nearest=1]="Nearest",h=s;var e=0,a=class{constructor(t,i,h,s=1){this.ha=1,this.X=t,this.width=i,this.height=h,this.ha=s,e++,this.id=e.toString()}dispose(){this.X.close?.()}};function n(t,i,h,s){if(t.h)throw Error("DisposeBag is already disposed, create new instance");const e=t=>{s(t)};"on"in i?(i.Ga(h,e),t.add(()=>i.Fa(h,e))):(i.addEventListener(h,e),t.add(()=>i.removeEventListener(h,e)))}var o=class{constructor(){this.g=new Set,this.h=!1}add(t){if(this.h)throw Error("DisposeBag is already disposed, create new instance");if("function"==typeof t)this.g.add(()=>t());else{if("object"!=typeof t||null===t||!("dispose"in t)||"function"!=typeof t.dispose)throw Error(`${t} doesn't contain dispose method`);this.g.add(()=>t.dispose())}}dispose(){this.g.forEach(t=>t()),this.g.clear(),this.h=!0}},r=class{},g=globalThis.requestAnimationFrame,l=class{constructor(){this.i=100,this.speed=1,this.h=-1,this.g=1}},c=class{constructor(t){this.cache=new Map,this.h=new Map,this.ka=t,this.buffer=new OffscreenCanvas(100,100),i(t=this.buffer.getContext("2d"),"OffscreenCanvas context cannot be undefined!"),this.g=t}ca(t,i,h){const s=`${t.id}-${i}-${h}`;var e=this.cache.get(s);if(e)return e;e=t.ha;const n=t.X;return this.buffer.width=t.width,this.buffer.height=t.height,this.g.clearRect(0,0,this.buffer.width,this.buffer.height),this.g.globalCompositeOperation="source-over",this.g.fillStyle=i,this.g.globalAlpha=h,this.g.fillRect(0,0,this.buffer.width,this.buffer.height),this.g.globalCompositeOperation="destination-atop",this.g.globalAlpha=1,1===e&&(this.g.imageSmoothingEnabled=!1),this.g.drawImage(n,0,0),t=this.buffer.transferToImageBitmap(),t=new a(t,this.buffer.width,this.buffer.height),this.cache.set(s,t),t}dispose(){for(const t of this.cache.values())t.dispose();this.cache.clear(),this.h.clear()}};async function d(t,i){return new Promise(async h=>{var s=await function(t){return new Promise(async i=>{try{const h=await fetch(t).then(t=>t.blob());i(await createImageBitmap(h))}catch(t){i(void 0)}})}(i);(s=s?new a(s,s.width,s.height,1):void 0)&&t.h.set(i,s),h(s)})}function w(t,i){const{u:h,x:s=0,y:e=0,rotate:a=0,width:n,height:o,L:r={x:0,y:0},scale:g=1,alpha:l=1,qa:c,ta:d=1,Da:w}=i;i=t.Z;const y=n??h.width,u=o??h.height,p=r.x>=0&&r.x<=1?r.x*y:r.x,x=r.y>=0&&r.y<=1?r.y*u:r.y,f="number"==typeof g?g:g.x,v="number"==typeof g?g:g.y;0!==f&&0!==v&&0!==l&&(i.save(),i.globalAlpha=i.globalAlpha*l,i.translate(s,e),i.imageSmoothingEnabled=0===h.ha,1===f&&1===v||i.scale(f,v),a>0&&i.rotate(a*Math.PI/180),void 0!==(t=void 0===c?h.X:t.g.ca(h,c,d).X)&&(void 0===w?i.drawImage(t,-p,-x,y,u):i.drawImage(t,w.x,w.y,w.width,w.height,-p,-x,y,u)),i.restore())}function y(t,i){const{u:h,x:s=0,y:e=0,width:a,height:n,oa:o=0,pa:r=0,ba:g,R:l=0,na:c=1}=i;(i=t.Z).save(),i.globalAlpha=i.globalAlpha*c,i.translate(s,e),i.imageSmoothingEnabled=0===h.ha,t=t.g;var d=`${h.id}`,w=t.h.get(d);if(w?(w.setTransform({a:1,b:0,c:0,d:1,e:0,f:0}),t=w):((w=t.g.createPattern(h.X,"repeat"))&&t.h.set(d,w),t=w??void 0),t){if(void 0!==g){d="number"==typeof g?g:g.x,w="number"==typeof g?g:g.y;var y=y??new DOMMatrix(void 0);y=y.scale(d,w)}0===o&&0===r||(y=(y=y??new DOMMatrix(void 0)).translate(o,r)),0!==l&&(y=(y=y??new DOMMatrix(void 0)).rotate(l)),y&&t.setTransform(y),i.fillStyle=t,i.fillRect(0,0,a,n)}i.restore()}var u=class{constructor(t){this.h=new Map;const h=t.canvas,s=t.ka;this.ra=t.ra,this.ka=s,this.S={width:h.width,height:h.height},i(t=h.getContext("2d",{alpha:!1,willReadFrequently:!1}),"Unable to get 2D rendering context"),this.Z=t,this.g=new c(s)}ca(t,i,h){return this.g.ca(t,i,h)}dispose(){this.g.dispose();for(const t of this.h.values())t.dispose();this.h.clear(),this.canvas=this.Z=null}};function p(t){return t.index++,t.index>=100&&(t.index=0),t.g[t.index]??0}var x=class{constructor(t){this.g=[],this.index=50,this.g=Array(100).fill(0).map(()=>Math.random()*t)}},f=new x(2),v=new x(3),m=class{constructor(t,i){this.x=t,this.y=i,this.scale=p(f)+1,this.g=p(v)-1.5,this.h=p(v)-1.5}update(t){this.x+=this.g*t,this.y+=this.h*t,this.scale>.2&&(this.scale-=.1*t)}};function b(t){t.i=0,t.g=void 0,t.j=void 0,t.O=!1,t.C=void 0}function j(t,i){t.P!==i&&(t.P=i)&&b(t)}function A(t){t.l.x=t.x-12,t.l.y=t.y-15,t.ea.x=t.x-8,t.ea.y=t.y+6}function C(t,i){t.y=i,A(t)}function M(t,i,h){t.o!==i&&(t.o=i,"number"==typeof h&&(j(t,!1),t.x=h,A(t),b(t)))}function B(t,i,h){t.o!==i&&(t.o=i,"number"==typeof h&&(j(t,!1),C(t,h),b(t)))}var D=class{constructor(t,i,h,s){this.y=this.x=0,this.o=this.P=!1,this.$=!0,this.O=!1,this.G=0,this.la=!1,this.j=this.g=this.J=this.C=void 0,this.i=0,this.h=[],this.W=t,this.N=i,this.x=h,this.y=s,this.l={x:this.x-12,y:this.y-15,width:24,height:30},this.ea={x:this.x,y:this.y,width:16,height:10}}update(t,i){if(this.$){if(this.O){if(!this.j){i=0|this.x;var h=0|this.y;this.j={fa:{x:i,y:h},p1:{x:i+this.G,y:h-70},p2:{x:i+2*this.G,y:h-6},id:-1}}i=this.j}if(this.P||0!==this.i||this.O){if(i&&(this.g?.id!==i.id&&(this.J?.(),j(this,!1),this.g=i,this.i=0),!this.P&&this.g)){this.i+=(this.O?6:1.6)/100*t,t=this.g.fa,i=this.g.p1,h=this.g.p2;var s=this.i,e=(1-s)*(1-s)*t.y+2*(1-s)*s*i.y+s*s*h.y;this.x=(1-s)*(1-s)*t.x+2*(1-s)*s*i.x+s*s*h.x,this.y=e,this.la=this.g.p1.x<this.g.fa.x,A(this)}}else this.y+=10*t,A(this)}else if(this.h.length>0){for(i=this.h.length-1;i>=0;i--)(h=this.h[i]).update(t),h.scale<=.2&&this.h.splice(i,1);0===this.h.length&&this.M()}}T(t){for(this.$=!1,this.C=t,t=0;t<30;t++)this.h.push(new m(this.x-16,this.y-16))}M(){this.C?.(),this.C=void 0}m(){const t=this.W;if(this.$)w(t,{u:this.N.xa,x:this.x,y:this.y,L:{x:.5,y:.5},scale:this.la?{x:-1,y:1}:void 0,rotate:this.O&&!this.P?15:void 0});else for(let i=0;i<this.h.length;i++){const h=this.h[i];w(t,{u:this.N.K,x:h.x,y:h.y,scale:h.scale,ta:.7,qa:"#ff0000",alpha:.6})}}dispose(){this.J=this.M=void 0,this.h.length=0}};function E(t,i,h){const{scale:s=1,alpha:e=1}=h;let a=h.x;for(let n=0;n<i.length;n++){let o=16;const r=i.charCodeAt(n);if(32===r){a+=10*s;continue}const g=r>=97;w(t.g,{u:t.h.Aa,x:a,y:h.y,width:o*s,height:o*s,qa:h.color,alpha:e,Da:{x:g?12*(r-97):12*(r-44),y:g?2*o:o/2,width:11,height:16}}),46===r&&(o=8),a+=(o+2)*s}}var I=class{constructor(t,i){this.g=t,this.h=i}},L=0;function O(t,i){t.h!==i&&(t.h=i)}function P(t){t.input=void 0,t.start.x=t.end.x=0,t.start.y=t.end.y=0,t.g=0,t.i=0}function S(t){t.result=void 0,P(t)}var F=class{constructor(t,i){this.input=void 0,this.start={x:0,y:0},this.end={x:0,y:0},this.i=this.g=0,this.h=!1,this.result=void 0,this.j=t,this.o=i}dispose(){}update(t,i,h){if(this.h){var s=this.o;this.g-=.6*t,this.g<0&&(this.g=12),t=0|s.I.x;var e=0|s.I.y;!this.input&&s.U.get(0)&&(P(this),this.start.x=0|i,this.start.y=0|h,this.input={x:t,y:e},this.result=void 0),this.input&&(this.input.x=t,this.input.y=e,this.i=h-this.input.y,s.V.get(0)&&(this.i<=30?P(this):(this.result={fa:{x:this.start.x,y:this.start.y},p1:{x:this.input.x,y:this.input.y},p2:{x:this.end.x,y:this.end.y},id:L},L++,this.input=void 0,O(this,!1))))}}m(){if(this.input&&this.h){var t=this.j.Z;this.end.x=this.start.x+2*(this.input.x-this.start.x)|0,this.end.y=this.start.y+(this.j.S.height-this.start.y)|0,t.save(),t.beginPath(),t.moveTo(this.start.x,this.start.y),t.quadraticCurveTo(this.input.x,this.input.y,this.end.x,this.end.y),t.setLineDash([6,6]),t.lineCap="round",t.lineDashOffset=this.g,t.strokeStyle=this.i>30?"#000":"rgba(0, 0, 0, 0.2)",t.lineWidth=3,t.stroke(),t.restore()}}},k=class{constructor(t){this.g=t}async load(){try{const s=await d(this.g,"./cb.png"),e=await d(this.g,"./f.png"),n=await d(this.g,"./bt.png"),o=await d(this.g,"./o.png"),r=await d(this.g,"./oc.png"),g=await d(this.g,"./sp.png"),l=await d(this.g,"./bl.png"),c=await d(this.g,"./br.png");this.g.ca(r,"#fff",1);const{text:w,font:y,width:u,height:p,za:x,depth:f,ya:v,threshold:m=127}={text:"CAT-APULT",font:"bold 32px Arial",width:180,height:46,za:28,depth:3,ya:[[225,219,219],[151,117,117]]},b=new OffscreenCanvas(u,p),j=b.getContext("2d");if(j){j.font=y,j.textAlign="center",j.imageSmoothingEnabled=!1;for(var t=w.split("\n"),i=f-1;i>=0;--i){j.fillStyle=0==i?"#ffffff":"#000000";let h=0;for(let s of t)j.fillText(s,u/2,i+(h+1)*x),++h}const h=j.getImageData(0,0,u,p);for(t=0;t<u*p;++t){if(h.data[4*t+3]<m){h.data[4*t+3]=0;continue}const s=h.data[4*t]>128?0:1;for(i=0;i<3;++i)h.data[4*t+i]=v[s][i];h.data[4*t+3]=255}j.putImageData(h,0,0)}const A=b.transferToImageBitmap();return{xa:s,Ca:o,K:r,sa:g,Aa:e,ia:n,ja:l,ua:new a(A,u,p,h.Ea),wa:c}}catch(t){}}},T=class{constructor(t,i,h,s,e,a,n){this.g=!1,this.alpha=void 0,this.ma=!0,this.h=t,this.i=i,this.type=h,this.x=s,this.y=e,this.width=a,this.height=n,this.l={x:s,y:e,width:a,height:n},4===h&&(this.alpha=1)}dispose(){}update(t){4===this.type&&this.g&&this.alpha>0&&(this.alpha-=.008*t,this.alpha<0&&(this.alpha=0,this.ma=!1,this.l.y-=6))}m(){w(this.h,{x:this.x,y:this.y,width:this.width,height:this.height,u:this.i.ja,alpha:this.alpha})}ga(){this.g=!0}};function R(t,i){t.g=1,t.h=i}var G=class{constructor(t,i){this.rotate=this.scale=0,this.direction=1,this.h=this.g=void 0,this.i=t,this.j=i}dispose(){}update(t){this.g&&3!==this.g&&(this.scale+=2*t*this.direction,this.rotate+=5*t*this.direction,this.rotate>360&&(this.rotate=0),this.scale>70&&1===this.g&&(this.direction=-1,this.g=2,this.h&&(this.h(),this.h=void 0)),this.scale<=0&&2===this.g&&(this.direction=1,this.g=this.h=void 0,this.scale=0,this.direction=1))}m(){this.g&&w(this.i,{u:this.j.K,x:this.i.S.width/2,y:this.i.S.height/2,scale:this.scale,L:{x:.5,y:.5},rotate:this.rotate})}};function $(t,i){t.g=t.h[i]}var H=class{constructor(t,i){this.g=void 0,this.i=t,this.j=i,this.h={1:new J,2:new N,3:new K},this.g=this.h[1]}update(t){this.g&&this.g.update(t)}m(){this.g&&this.g.m(this.i,this.j)}dispose(){}},J=class{update(){}m(t,i){y(t,{u:i.ia,x:0,y:0,width:800,height:600,na:.2,ba:4})}},N=class{constructor(){this.g=0}update(t){this.g+=.1*t}m(t,i){y(t,{u:i.ia,x:0,y:0,width:800,height:600,na:.2,ba:4,oa:this.g,pa:0})}},K=class{constructor(){this.R=this.g=0}update(t){this.g+=.1*t,this.R+=.1*t}m(t,i){y(t,{u:i.ia,x:0,y:0,width:800,height:600,na:.2,ba:4,oa:this.g,pa:0,R:this.R})}},U=class{constructor(t,i,h,s){this.aa=!1,this.g=0,this.j=!1,this.h=t,this.i=i,this.x=h,this.y=s,this.l={x:h+3,y:s+3,width:10,height:10}}dispose(){}update(t){this.aa&&!this.j&&(this.g+=.8*t,this.g>=5&&(this.j=!0,this.g=0))}m(){this.aa?(w(this.h,{u:this.i.K,x:this.x,y:this.y}),this.j||w(this.h,{u:this.i.K,x:this.x+8,y:this.y+8,ta:1,qa:"#fff",scale:{x:this.g,y:.5},L:{x:.5,y:.5}})):w(this.h,{u:this.i.Ca,x:this.x,y:this.y})}},W=class{constructor(t,i,h,s,e,a,n,o=0){this.g=t,this.h=i,this.type=h,this.x=s,this.y=e,this.width=a,this.height=n,this.l={x:s,y:e,width:a,height:n>>1},this.view=2==h?new X(s,e,a,n,o):new q(s,e,a,n,o)}dispose(){}update(t){this.view.update(t)}m(){this.view.m(this.g,this.h)}},q=class{constructor(t,i,h,s,e){this.x=t,this.y=i,this.width=h,this.height=s,this.g=e,this.rotate=s>h?90:void 0,1===e&&90===this.rotate&&(this.rotate*=-1)}update(){}m(t,i){let h;1===this.g&&90!==this.rotate&&(h={x:1,y:-1}),y(t,{u:i.sa,x:this.x,y:this.y,width:this.width,height:this.height,ba:h,R:this.rotate})}},X=class{constructor(t,i,h,s,e){this.g=0,this.x=t,this.y=i,this.width=h,this.height=s,this.h=e,this.rotate=s>h?90:void 0,1===e&&90===this.rotate&&(this.rotate*=-1)}update(t){this.g+=1*t,this.g>32&&(this.g=0)}m(t,i){let h;1===this.h&&90!==this.rotate&&(h={x:1,y:-1});const s=90===this.rotate||-90===this.rotate;y(t,{u:i.sa,x:this.x,y:this.y,width:this.width,height:this.height,oa:s?void 0:this.g,pa:s?this.g:void 0,ba:h,R:this.rotate})}},Y=class{constructor(t,i,h,s,e,a){this.g=0,this.direction=1,this.o=0,this.da=!1,this.h=t,this.i=i,this.x=h,this.y=s,this.width=e,this.height=32,this.j=a,this.l={x:h,y:s,width:e,height:32},this.o=this.g=h}dispose(){}update(t){if(1===this.direction&&this.x<=this.g)this.da=!1;else if(-1===this.direction&&this.x>=this.j-this.width)this.da=!1;else{var i=this.o-this.x;(i<0?1+~i:i)<=(t*=10)?this.x=0|this.o:this.x+=(i>0?1:-1)*t|0,this.da=!0,this.l.x=this.x,this.l.y=this.y}}m(){w(this.h,{x:this.x,y:this.y,width:this.width,height:this.height,u:this.i.ja}),w(this.h,{u:this.i.K,x:this.g-16,y:this.y+(this.height>>1)-8}),w(this.h,{u:this.i.K,x:this.j,y:this.y+(this.height>>1)-8}),w(this.h,{u:this.i.ja,x:this.g,y:this.y+(this.height>>1)-1,width:this.j-this.g,height:2})}toggle(){this.direction*=-1,this.o=1===this.direction?this.g:this.j-this.width,this.l.x=this.x,this.l.y=this.y}},V=class{constructor(t,i,h,s,e=0){this.i=this.h=this.g=0,this.j=t,this.o=i,this.x=h,this.y=s,this.height=this.width=24,this.l={x:h-12,y:s-12,width:24,height:24},this.type=2,this.h=h,this.i=s,this.g=e}dispose(){}update(t){2===this.type&&(this.g+=.05*t,this.x=this.h+50*Math.cos(this.g)|0,this.y=this.i+50*Math.sin(this.g)|0,this.l.x=this.x-12,this.l.y=this.y-12)}m(){2===this.type&&(w(this.j,{u:this.o.K,L:{x:.5,y:.5},alpha:.9,x:this.h,y:this.i}),w(this.j,{u:this.o.K,L:{x:.5,y:.5},scale:.8,alpha:.7,x:this.h+20*Math.cos(this.g)|0,y:this.i+20*Math.sin(this.g)|0}),w(this.j,{u:this.o.K,L:{x:.5,y:.5},scale:.5,alpha:.5,x:this.h+35*Math.cos(this.g)|0,y:this.i+35*Math.sin(this.g)|0})),w(this.j,{u:this.o.wa,L:{x:.5,y:.5},x:this.x,y:this.y})}},Z=class{constructor(t,i){this.g=t,this.h=i,this.i={l0:(t,i)=>({v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,64,600),new T(t,i,3,0,0,800,32),new T(t,i,1,0,568,800,32)],A:[new U(t,i,200,300),new U(t,i,400,400),new U(t,i,600,300)],H:{x:100,y:420}}),l1:(t,i)=>({v:[new T(t,i,2,0,0,128,600),new T(t,i,2,672,0,192,600),new T(t,i,3,0,0,800,128),new T(t,i,1,0,472,800,128)],A:[new U(t,i,180,300),new U(t,i,380,200),new U(t,i,600,300)],B:[new W(t,i,1,220,440,64,32),new W(t,i,1,500,440,64,32)],H:{x:380,y:360}}),l2:(t,i)=>({va:3,v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,32,600),new T(t,i,3,32,236,200,32),new T(t,i,3,570,236,200,32),new T(t,i,3,32,268,300,32),new T(t,i,3,470,268,300,32),new T(t,i,3,0,300,800,32),new T(t,i,1,32,470,100,32),new T(t,i,1,0,500,800,200),new T(t,i,1,668,470,100,32)],A:[new U(t,i,550,400)],B:[new W(t,i,2,132,470,536,32)],H:{x:70,y:300}}),l3:(t,i)=>({v:[new T(t,i,2,0,0,64,600),new T(t,i,2,736,0,64,600),new T(t,i,3,0,0,800,64),new T(t,i,1,0,536,800,64),new T(t,i,1,64,160,200,32),new T(t,i,1,200,300,540,32),new T(t,i,1,60,420,32,32),new T(t,i,1,536,472,200,64)],A:[new U(t,i,400,200),new U(t,i,600,400)],B:[new W(t,i,1,200,270,224,32),new W(t,i,1,542,270,192,32),new W(t,i,2,64,504,472,32)],H:{x:90,y:70}}),l4:(t,i)=>({v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,32,600),new T(t,i,2,368,0,32,240),new T(t,i,3,0,0,800,32),new T(t,i,1,400,208,180,32),new T(t,i,1,188,208,180,32),new T(t,i,1,0,540,800,64)],A:[new U(t,i,240,100)],B:[new W(t,i,1,190,240,384,32,1),new W(t,i,2,32,508,768,32)],D:[new Y(t,i,60,460,200,730)],H:{x:450,y:100}}),l5:(t,i)=>({v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,32,600),new T(t,i,3,0,0,800,32),new T(t,i,3,0,568,800,32),new T(t,i,1,120,460,160,32),new T(t,i,1,500,460,160,32)],A:[new U(t,i,370,200)],B:[new W(t,i,1,32,32,768,32,1),new W(t,i,1,32,536,768,32),new W(t,i,1,32,72,32,448),new W(t,i,1,738,72,32,448,1)],F:[new V(t,i,378,280),new V(t,i,580,320,10)],H:{x:200,y:300}}),l6:(t,i)=>({v:[new T(t,i,2,0,0,96,600),new T(t,i,2,768,0,32,600),new T(t,i,3,0,0,800,32),new T(t,i,1,0,568,800,32),new T(t,i,1,94,200,300,64),new T(t,i,3,94,232,300,32),new T(t,i,1,540,200,100,64),new T(t,i,3,540,232,100,32),new T(t,i,1,94,360,100,224),new T(t,i,1,190,472,580,96),new T(t,i,4,580,400,100,32)],A:[new U(t,i,140,140)],B:[new W(t,i,2,96,32,704,32,1),new W(t,i,2,194,440,576,32),new W(t,i,1,266,168,128,32),new W(t,i,1,542,264,96,32,1)],H:{x:160,y:300}}),l7:(t,i)=>({v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,32,600),new T(t,i,3,0,0,800,32),new T(t,i,1,0,568,800,32),new T(t,i,1,320,160,160,32)],A:[new U(t,i,120,220),new U(t,i,560,220),new U(t,i,600,400),new U(t,i,160,400)],D:[new Y(t,i,60,260,100,260),new Y(t,i,520,260,100,740),new Y(t,i,60,460,200,730)],B:[new W(t,i,2,32,32,768,32,1),new W(t,i,2,32,540,768,32)],F:[new V(t,i,512,276),new V(t,i,268,276,10)],H:{x:380,y:80}}),l8:(t,i)=>({v:[new T(t,i,2,0,0,32,600),new T(t,i,2,768,0,32,600),new T(t,i,2,228,132,32,200),new T(t,i,3,260,300,540,32),new T(t,i,3,0,0,800,32),new T(t,i,1,0,568,800,32),new T(t,i,1,330,480,160,96),new T(t,i,4,32,440,100,32),new T(t,i,1,228,120,380,32),new T(t,i,3,270,136,338,16)],A:[new U(t,i,440,180)],B:[new W(t,i,1,330,448,32,32),new W(t,i,1,458,448,32,32),new W(t,i,2,32,536,320,32),new W(t,i,2,490,536,320,32),new W(t,i,1,260,270,512,32),new W(t,i,1,260,164,32,96)],D:[new Y(t,i,400,238,60,730)],H:{x:406,y:300}})}}},z=class{constructor(t,i,h,s){this.Y=!1,this.i=this.g=this.alpha=0,this.h=void 0,this.j=0,this.C=t,this.o=i,this.G=h,this.text=s}dispose(){}update(t){this.Y&&this.h&&(this.alpha+=.02*t,this.alpha>1&&(this.alpha=1),this.alpha>.5&&(this.g+=.05*t),this.g>1&&(this.g=1,this.i+=1*t),this.i>20&&this.h&&(this.i=20,0===this.j&&(this.o.U.get(0)??!1)&&(this.j=1),1===this.j&&this.o.V.get(0)&&(this.j=2,this.h(),this.h=void 0)))}m(){if(this.Y){var t=200;w(this.C,{u:this.G.ua,scale:3,L:{x:.5,y:.5},x:this.C.S.width>>1,y:t,alpha:this.alpha}),t+=100,E(this.text,"congrats",{x:260,y:t,scale:2,alpha:this.g}),t+=50,E(this.text,"you have finished the game",{x:200,y:t,alpha:this.g}),E(this.text,"tap to play again",{x:260,y:t+100,alpha:this.g,color:"#7e5e5e"})}}show(t){this.Y||(this.Y=!0,this.j=this.i=this.g=this.alpha=0,this.h=t)}};function Q(t,i){_(t);const h=function(t,i){return t.i[`l${i}`]?.(t.g,t.h)}(t.W,i);h?(t.j=i,i=t.i,t.g=new D(i,t.J,h.H.x,h.H.y),function(t,i){t.J=i}(t.g,()=>{if(!t.g.O)for(let i=0;i<t.D.length;i++)t.D[i].toggle()}),t.h=new F(i,t.N),$(t.o,h.va??1),t.v=h.v,t.A=h.A,t.B=h.B??[],t.D=h.D??[],t.F=h.F??[],t.M=!0):function(t){$(t.o,2),t.G.show(()=>{R(t.C,()=>{t.G.Y=!1,Q(t,0)})})}(t)}function _(t){t.g&&(t.g.dispose(),t.g=void 0),t.h&&(t.h.dispose(),t.h=void 0),t.v.forEach(t=>t.dispose()),t.v.length=0,t.A.forEach(t=>t.dispose()),t.A.length=0,t.B.forEach(t=>t.dispose()),t.B.length=0,t.D.forEach(t=>t.dispose()),t.D.length=0,t.F.forEach(t=>t.dispose()),t.F.length=0}var tt=class{constructor(t,i){this.M=!1,this.v=[],this.D=[],this.F=[],this.A=[],this.B=[],this.j=0,this.i=t,this.N=i}init(){const t=this.i,i=this.J;this.text=new I(t,i),this.W=new Z(t,i),this.C=new G(t,i),this.G=new z(t,this.N,i,this.text),this.o=new H(t,i),Q(this,0)}update(i){if(this.M&&(this.o.update(i),this.C.update(i),this.G.update(i),this.g)){if(!this.g.P&&this.g.$){for(var h=0;h<this.v.length;h++){var s=this.v[h];if(t(s.l,1===s.type?this.g.ea:this.g.l)){2===s.type?(M(this.g,!0,this.g.la?s.x+s.width+16:s.x-16),S(this.h)):3===s.type?(B(this.g,!0,s.y+s.height+16),S(this.h)):s.ma&&(s.ga(),this.ga(s.y));break}}for(h=0;h<this.D.length;h++)if(!(s=this.D[h]).da&&t(s.l,this.g.ea)){this.ga(s.y);break}for(h=0;h<this.A.length;h++)if(!(s=this.A[h]).aa&&t(s.l,this.g.l)){s.aa=!0,s=(h=this.g).g,h.G=s?s.p1.x-s.fa.x>>2:0,b(h),h.O=!0;break}for(h=0;h<this.B.length;h++)if(t(this.B[h].l,this.g.l)){this.T();break}for(h=0;h<this.F.length;h++)if(t(this.F[h].l,this.g.l)){this.T();break}this.g.l.y>600&&this.T()}if(this.g.P&&this.g.$){for(h=0;h<this.v.length;h++)4===(s=this.v[h]).type&&!s.ma&&t(s.l,this.g.l)&&j(this.g,!1);for(h=0;h<this.F.length;h++)if(t(this.F[h].l,this.g.l)){this.T();break}}for(this.h.update(i,this.g.x,this.g.y),this.g.update(i,this.h.result),h=0;h<this.A.length;h++)this.A[h].update(i);for(h=0;h<this.v.length;h++)this.v[h].update(i);for(h=0;h<this.B.length;h++)this.B[h].update(i);for(h=0;h<this.D.length;h++)this.D[h].update(i);for(h=0;h<this.F.length;h++)this.F[h].update(i)}}m(){var t=this.i;const i=t.Z;for(i.save(),i.fillStyle="#e1d1d1",i.fillRect(0,0,t.S.width,t.S.height),i.restore(),this.o.m(),0===this.j?(E(this.text,"tap to aim and jump",{x:240,y:140,color:"#7e5e5e"}),E(this.text,"collect all balls, to go to next level",{x:90,y:170,color:"#7e5e5e"})):2===this.j&&(w(this.i,{u:this.J.ua,scale:3,L:{x:.5,y:.5},x:400,y:120}),E(this.text,"a game by karthik vj",{x:220,y:180,color:"#7e5e5e"}),E(this.text,"labrat.mobi",{x:280,y:210,color:"#7e5e5e"})),t=0;t<this.A.length;t++)this.A[t].m();for(t=0;t<this.v.length;t++)this.v[t].m();for(t=0;t<this.B.length;t++)this.B[t].m();for(t=0;t<this.D.length;t++)this.D[t].m();for(t=0;t<this.F.length;t++)this.F[t].m();this.h&&this.h.m(),this.g&&this.g.m(),this.G.m(),this.C.m()}ga(t){M(this.g,!1),B(this.g,!1),j(this.g,!0),C(this.g,t-16),S(this.h),this.A.some(t=>!1===t.aa)?O(this.h,!0):function(t){R(t.C,()=>{Q(t,t.j+1)})}(this)}T(){this.g.T(()=>{Q(this,this.j)})}dispose(){_(this)}};function it(t,i){if("object"==typeof t&&"getBoundingClientRect"in t){const h=t.getBoundingClientRect();return{x:t.width/h.width*(i.clientX-h.left),y:t.height/h.height*(i.clientY-h.top)}}return{x:i.x,y:i.y}}var ht=class{constructor(t){this.g=new o,this.U=new Map,this.V=new Map,this.I={x:0,y:0};const i=t.source;(t=t.Ba)&&function(t,i){t.i=i}(t,(t,i,h)=>{t*=800,i*=600,1===h?(this.U.set(0,!0),this.V.set(0,!1)):(this.V.set(0,!0),this.U.set(0,!1)),this.I.x=t,this.I.y=i}),t=t=>{var h=t.button??0;this.U.set(h,!0),this.V.set(h,!1),h=it(i,t),this.I.x=h.x,this.I.y=h.y,t.stopPropagation?.(),t.preventDefault?.()};const h=t=>{var h=t.button??0;this.V.set(h,!0),this.U.set(h,!1),h=it(i,t),this.I.x=h.x,this.I.y=h.y,t.stopPropagation?.(),t.preventDefault?.()},s=t=>{if(!("isPrimary"in t)||t.isPrimary){var h=it(i,t);this.I.x=h.x,this.I.y=h.y,t.stopPropagation?.(),t.preventDefault?.()}};"onpointerdown"in i?(n(this.g,i,"pointerdown",t),n(this.g,i,"pointerup",h),n(this.g,i,"pointermove",s),n(this.g,i,"pointercancel",h),"undefined"!=typeof window&&(n(this.g,window,"pointermove",s),n(this.g,window,"pointerup",h))):(n(this.g,i,"mousedown",t),n(this.g,i,"mouseup",h),n(this.g,i,"mousemove",s))}dispose(){this.g.dispose()}};function st(t,i){if(t.g&&i.touches){if(i.touches)var h=i.touches[0].clientX,s=i.touches[0].clientY;i=h-t.o,h=s-t.C,s=t.M,Math.sqrt(i*i+h*h)>s&&(h=Math.atan2(h,i),i=s*Math.cos(h),h=s*Math.sin(h)),t.N.style.transform=`translate(-50%, -50%) translate(${i}px, ${h}px)`,t.x=i/s,t.y=h/s,t.i?.(t.x,t.y,t.h)}}function et(t){t.g&&(t.g=!1,t.N.style.transform="translate(-50%, -50%)",t.i?.(t.x,t.y,0),t.x=0,t.y=0,t.h=0)}function at(t,i){t.j!==i&&(t.j=i,t.J&&(t.J.style.display=i?"block":"none"))}var nt=class{constructor(){this.g=!1,this.h=this.M=this.C=this.o=this.y=this.x=0,this.j=!1,this.i=void 0;const t=document,i=window;this.J=t.getElementById("jc"),this.G=t.getElementById("jb"),this.N=t.getElementById("jh"),this.G.addEventListener("touchstart",t=>{this.g=!0,this.h=1,st(this,t)}),i.addEventListener("touchmove",t=>st(this,t)),i.addEventListener("touchend",()=>et(this)),i.addEventListener("touchcancel",()=>et(this)),at(this,!0)}dispose(){}W(t,i){at(this,t<i),t=this.G.getBoundingClientRect(),this.o=t.left+t.width/2,this.C=t.top+t.height/2,this.M=t.width/2}};window.onload=()=>async function(){function t(){const t=window.innerWidth,i=window.innerHeight;if(t<800||i<600){const s=Math.min(t/800,i/600);h.style.width=(800*s|0)+"px",h.style.height=(600*s|0)+"px"}else h.style.width="800px",h.style.height="600px";s?.W(t,i)}var i=document;const h=i.createElement("canvas");let s;h.width=800,h.height=600,Object.assign(h.style,{display:"block",margin:"auto",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",maxWidth:"100%",maxHeight:"100%",imageRendering:"pixelated",touchAction:"none",userSelect:"none"}),Object.assign(i.body.style,{backgroundColor:"#977575",margin:"0",height:"100vh",overflow:"hidden"}),i.body.appendChild(h),"ontouchstart"in window&&(s=new nt),window.addEventListener("resize",t),t(),i=new u({canvas:h,ka:new r,ra:!0});const e=new tt(i,new ht({source:h,Ba:s}));await async function(t){t.J=await new k(t.i).load()}(e),e.init(),function(t){const i=new l,h=(s=performance.now())=>{let e;s>i.h?(e=s-i.h,e>i.i&&(e=i.i),i.g=.06*e*i.speed):i.g=0,i.h=s,t(i.g),g(h)};g(h)}(t=>{e.update(t),e.m()})}()</script>