<!doctype html><meta content="width=device-width,user-scalable=0,user-scalable=no,,minimum-scale=1,maximum-scale=1" name=viewport><style>#c,body,html{margin:0;padding:0;border:0;position:absolute}body,html{width:100%;height:100%}@media (min-aspect-ratio:16/9){#c{max-height:100%}}@media (max-aspect-ratio:16/9){#c{max-width:100%}}</style><title>Solar Defense</title><canvas height=1080 id=c width=1920></canvas><script>"use strict";let zzfx,zzfxV,zzfxX;zzfxV=.3,zzfx=(e=1,t=.05,z=220,n=0,f=0,a=.1,r=0,x=1,i=0,o=0,s=0,u=0,c=0,d=0,X=0,b=0,w=0,l=1,m=0,C=0)=>{let V,h,A=Math,B=44100,g=2*A.PI,k=i*=500*g/B/B,D=z*=(1-t+2*t*A.random(t=[]))*g/B,I=0,M=0,P=0,S=1,j=0,p=0,q=0;for(o*=500*g/B**3,X*=g/B,s*=g/B,u*=B,c=B*c|0,h=(n=B*n+9)+(m*=B)+(f*=B)+(a*=B)+(w*=B)|0;P<h;t[P++]=q)++p%(100*b|0)||(q=r?1<r?2<r?3<r?A.sin((I%g)**3):A.max(A.min(A.tan(I),1),-1):1-(2*I/g%2+2)%2:1-4*A.abs(A.round(I/g)-I/g):A.sin(I),q=(c?1-C+C*A.sin(g*P/c):1)*(0<q?1:-1)*A.abs(q)**x*e*zzfxV*(P<n?P/n:P<n+m?1-(P-n)/m*(1-l):P<n+m+f?l:P<h-w?(h-P-w)/a*l:0),q=w?q/2+(w>P?0:(P<h-w?1:(h-P)/w)*t[P-w|0]/2):q),V=(z+=i+=o)*A.cos(X*M++),I+=V-V*d*(1-1e9*(A.sin(P)+1)%2),S&&++S>u&&(z+=s,D+=s,S=0),!c||++j%c||(z=D,i=k,S=S||1);return(e=zzfxX.createBuffer(1,h,B)).getChannelData(0).set(t),(z=zzfxX.createBufferSource()).buffer=e,z.connect(zzfxX.destination),z.start(),z},zzfxX=new(window.AudioContext||webkitAudioContext)</script><script>!function(t){"use strict";function i(t,i,h,s){this.p=t,this.ce=window.document.createElement("canvas"),this.ce.width=512,this.ce.height=512;var e=this.ce.getContext("2d",null),a=Math.floor(512/i);e.fillStyle="#FFF";for(var n=0,l=i;n<l;)for(var o=a*n++,r=0,c=i;r<c;){var f=a*r++,u=h+Math.random()*s,d=u+Math.random()*(a-2*u),p=u+Math.random()*(a-2*u);e.beginPath(),e.arc(d+f,p+o,u,0,2*Math.PI),e.fill()}}function h(t,i,h,s){this.x=t,this.y=i,this.xs=h,this.ys=s,this.ttl=5,this.aabb=new y(t,i,10,10)}function s(){}function e(){this.done=!0,this.cb=null,this.i=!0,this.t=1,this.d=1}i.prototype={update:function(t,i,h){var s=Math.ceil(t.canvas.width/512)+1,e=Math.ceil(t.canvas.height/512)+1,a=-i*this.p;a-=512*Math.ceil(a/512);var n=-h*this.p;n-=512*Math.ceil(n/512);for(var l=0,o=e;l<o;)for(var r=512*l++,c=0,f=s;c<f;){var u=c++;t.drawImage(this.ce,a+512*u,n+r)}}},h.prototype={update:function(t,i){if(this.ttl-=i,this.ttl<0)return!1;this.x+=this.xs*i,this.y+=this.ys*i,this.aabb.x=this.x-5,this.aabb.y=this.y-5;for(var h=0,s=a.pl;h<s.length;){var e=s[h];if(++h,e.aabb.check(this.aabb)&&Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))<e.r+5){this.ttl=0;break}}for(h=0,s=a.eSwm;h<s.length;){var n=s[h];if(++h,n.checkHit(this)){this.ttl=0;break}}return t.fillStyle="#F00",t.beginPath(),t.arc(this.x,this.y,5,0,2*Math.PI),t.fill(),!0}},s.init=function(t,i){s.keys=new v,t.onkeydown=s.onKeyDown,t.onkeyup=s.onKeyUp,i.onmousemove=s.onMouseMove,t.onmousedown=s.onMouseDown,t.onmouseup=s.onMouseUp,t.ontouchstart=s.onTouchStart,t.ontouchmove=s.onTouchMove,t.ontouchend=s.onTouchEnd,t.ontouchcancel=s.onTouchEnd,s.c=i},s.onKeyDown=function(t){s.keys.h[t.code]=!0,s.updateKeys()},s.onKeyUp=function(t){s.keys.h[t.code]=!1,s.updateKeys()},s.onMouseMove=function(t){s.mx=t.offsetX/s.c.clientWidth*s.c.width,s.my=t.offsetY/s.c.clientHeight*s.c.height},s.onMouseDown=function(t){s.trg=!0},s.onMouseUp=function(t){s.trg=!1,s.justReleased=!0},s.onTouchStart=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var e=h[i];++i;var a=(e.clientX-s.c.offsetLeft)/s.c.clientWidth*s.c.width,n=(e.clientY-s.c.offsetTop)/s.c.clientHeight*s.c.height;a<s.c.width/2?null==s.leftTouch&&(s.leftTouch={id:e.identifier,sx:a,sy:n,cx:a,cy:n}):null==s.rightTouch&&(s.rightTouch={id:e.identifier,sx:a,sy:n,cx:a,cy:n})}},s.onTouchMove=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var e,a=h[i];if(++i,null!=s.leftTouch&&s.leftTouch.id==a.identifier)e=s.leftTouch;else{if(null==s.rightTouch||s.rightTouch.id!=a.identifier)continue;e=s.rightTouch}e.cx=(a.clientX-s.c.offsetLeft)/s.c.clientWidth*s.c.width,e.cy=(a.clientY-s.c.offsetTop)/s.c.clientHeight*s.c.height,s.mx=e.cx,s.my=e.cy,s.mTouch=a.identifier}},s.onTouchEnd=function(t){for(var i=0,h=t.changedTouches;i<h.length;){var e=h[i];++i,null!=s.leftTouch&&s.leftTouch.id==e.identifier&&(s.leftTouch=null,s.acc=0),null!=s.rightTouch&&s.rightTouch.id==e.identifier&&(s.rightTouch=null,s.trg=!1),e.identifier==s.mTouch&&(s.justReleased=!0)}},s.updateKeys=function(){var t=0,i=0;(s.keys.h.KeyW||s.keys.h.ArrowUp)&&--i,(s.keys.h.KeyS||s.keys.h.ArrowDown)&&++i,(s.keys.h.KeyA||s.keys.h.ArrowLeft)&&--t,(s.keys.h.KeyD||s.keys.h.ArrowRight)&&++t,s.acc=0!=t||0!=i?1:0,s.dir=Math.atan2(i,t)},s.update=function(){var t,i;null==s.rightTouch?(t=(a.p.x-a.v.x)*a.zoom,i=(a.p.y-a.v.y)*a.zoom,s.aim=Math.atan2(s.my-i,s.mx-t)):(s.aim=Math.atan2(s.rightTouch.cy-s.rightTouch.sy,s.rightTouch.cx-s.rightTouch.sx),s.trg=Math.sqrt(Math.pow(s.rightTouch.cx-s.rightTouch.sx,2)+Math.pow(s.rightTouch.cy-s.rightTouch.sy,2))>s.deadZone),null!=s.leftTouch&&(Math.sqrt(Math.pow(s.leftTouch.cx-s.leftTouch.sx,2)+Math.pow(s.leftTouch.cy-s.leftTouch.sy,2))>s.deadZone?s.acc=1:s.acc=0,s.dir=Math.atan2(s.leftTouch.cy-s.leftTouch.sy,s.leftTouch.cx-s.leftTouch.sx))},s.reset=function(){s.justReleased=!1},e.prototype={update:function(t,i){this.t+=t,this.t>this.d&&!this.done&&(this.done=!0,null!=this.cb&&this.cb()),this.t>this.d&&(this.t=this.d),t=this.t/this.d,0<(t=this.i?1-t:t)&&(i.fillStyle="#000",i.globalAlpha=t,i.fillRect(0,0,i.canvas.width,i.canvas.height),i.globalAlpha=1)},start:function(t,i,h){this.d=t,this.i=i,this.cb=h,this.t=0,this.done=!1}};var a=function(){};a.i=function(t,i){a.c=t,a.img=i,a.restartRegion=new y(.33*t.canvas.width,.69*t.canvas.height,.34*t.canvas.width,.12*t.canvas.height)},a.r=function(){a.p=new c,a.pBlt=[],a.eSwm=[],a.pl=[];var t=new T(0,0,1e3,7e5,"#FEE",0);a.pl.push(t);var h=new T(1500,-1500,300,5e4,"#888",3);h.orbit(t,.010466666666666668),a.pl.push(h),(h=new T(3e3,3e3,600,2e5,"#0F8",5)).orbit(t,-.005233333333333334),a.pl.push(h),(h=new T(-4500,4500,900,3e5,"#F88",8)).orbit(t,.00314),a.pl.push(h),(h=new T(-4500,-4500,500,3e4,"#FF8",4)).orbit(t,.00314),a.pl.push(h),(h=new T(7e3,-7e3,900,3e5,"#08F",10)).orbit(t,.0008722222222222223),a.pl.push(h),(t=new T(6e3,-6e3,200,1e4,"#808",2)).orbit(h,.017444444444444446),a.pl.push(t),a.v=new y(0,0,a.c.canvas.width,a.c.canvas.height),h=a.pl[Math.ceil(Math.random()*(a.pl.length-1))],t=Math.random()*(2*Math.PI),a.p.x=h.x+Math.cos(t)*h.r,a.p.y=h.y+Math.sin(t)*h.r,h=a.c.canvas.height/6,a.minimap=new r(a.c.canvas.width-h,h,h,13e3),a.bg=[new i(.01,10,1,1),new i(.02,5,1,2)],a.tut=[new u(["Move:","W,A,S,D / ←,→,↑,↓","or","👆 (left side)"],0,0,a.c.canvas.width/2,a.c.canvas.height),new u(["Shoot:","🖰","or","👆 (right side)"],a.c.canvas.width/2,0,a.c.canvas.width/2,a.c.canvas.height)],f.reset(),a.statsText=null,a.gameOver=!1,a.msk.start(.5,!0),a.restartTimer=0,a.spawnTimer=0,a.spawnSize=1},a.u=function(t){if(a.spawnTimer-=t,a.spawnTimer<0){for(var i=[],h=0,e=a.pl;h<e.length;){var o=e[h];++h,0<o.alive&&!a.ist(o)&&i.push(o)}for(x.shuffle(i),h=0;h<i.length;){var r=i[h];++h;var c=Math.atan2(r.y,r.x),u=13e3*Math.cos(c),d=13e3*Math.sin(c);c=60*Math.sqrt(a.spawnSize);if(null!=(z=new p(Math.floor(a.spawnSize),u,d,c,c))){z.infTarget=r,a.eSwm.push(z);break}}a.spawnTimer=10+10*Math.random(),a.spawnSize=Math.min(a.spawnSize+.3,10)}f.time+=t,a.c.fillStyle="#000",a.c.fillRect(0,0,a.c.canvas.width,a.c.canvas.height),a.bg[0].update(a.c,a.v.cX(),a.v.cY()),a.bg[1].update(a.c,a.v.cX(),a.v.cY()),a.v.w=a.c.canvas.width/a.zoom,a.v.h=a.c.canvas.height/a.zoom;var v=a.v.x+a.v.w/2,y=a.v.y+a.v.h/2,w=Math.sqrt(Math.pow(a.p.x-v,2)+Math.pow(a.p.y-y,2)),M=100/a.zoom;for(M<w&&(T=Math.atan2(a.p.y-y,a.p.x-v),S=w-M,a.v.x+=Math.cos(T)*S,a.v.y+=Math.sin(T)*S),a.zoom!=a.zt&&(k=.25*t,Math.abs(a.zoom-a.zt)<k?a.zoom=a.zt:a.zoom+=a.zoom>a.zt?-k:k),a.c.save(),a.c.scale(a.zoom,a.zoom),a.c.translate(-a.v.x,-a.v.y),h=0,e=a.pl;h<e.length;)o=e[h],++h,o.update(t,a.c);var m=null;for(h=0,e=a.pBlt;h<e.length;)o=e[h],++h,o.update(a.c,t)||(m=o);for(n.remove(a.pBlt,m),a.p.update(t,a.c),m=null,h=0,e=a.eSwm;h<e.length;){var g=e[h];++h,g.update(t,a.c)||(m=g)}for(null!=m&&(f.swarmsKilled++,n.remove(a.eSwm,m)),m=null,h=0,e=a.ptcl;h<e.length;)o=e[h],++h,o.update(t,a.c)||(m=o);if(null!=m&&n.remove(a.ptcl,m),a.c.restore(),a.minimap.update(a.c),a.msk.update(t,a.c),a.gameOver){a.c.font="48px sans-serif",a.c.fillStyle="#FFF",a.c.fillText("Game Over",a.c.canvas.width/2-a.c.measureText("Game Over").width/2,94),a.c.font="32px sans-serif";var b=-1,T=48*a.statsText.length;for(h=0,e=a.statsText;h<e.length;){var z=e[h];++h,b=Math.max(b,a.c.measureText(z).width)}var k,S,L=a.c.canvas.height/2-T/2;for(h=0,e=a.statsText;h<e.length;)z=e[h],++h,a.c.fillText(z,a.c.canvas.width/2-b/2,L),L+=48;1<a.restartTimer?(S=a.restartRegion,k=s.my,S=!((T=s.mx)<S.x||T>S.x+S.w||k<S.y||k>S.y+S.h),a.c.font="48px sans-serif",a.c.fillStyle="#FFF",a.c.fillText(M=S?"-RESTART-":"RESTART",a.c.canvas.width/2-a.c.measureText(M).width/2,.75*a.c.canvas.height),s.justReleased&&S&&l.restart()):a.restartTimer+=t}a.tutStage<2&&((0==a.tutStage&&0<s.acc||1==a.tutStage&&s.trg)&&(a.tutProg+=t),a.tut[a.tutStage].update(t,a.c),1<a.tutProg&&(a.tutProg=0,a.tutStage++))},a.ist=function(t,i){null==i&&(i=!0);for(var h=0,s=a.eSwm;h<s.length;){var e=s[h];if(++h,e.inf==t||e.infTarget==t&&i)return!0}return!1},a.respawn=function(){a.msk.start(.5,!1,(function(){for(var t,i,h=[],s=0,e=a.pl;s<e.length;){var n=e[s];++s,0<n.alive&&!a.ist(n,!1)&&h.push(n)}0<h.length?(a.p=new c,x.shuffle(h),t=h[0],i=Math.random()*(2*Math.PI),a.p.x=t.x+Math.cos(i)*t.r,a.p.y=t.y+Math.sin(i)*t.r,a.msk.start(.5,!0)):(a.gameOver=!0,null==a.statsText&&(a.statsText=f.makeText()))}))};var n=function(){};n.remove=function(t,i){return-1!=(i=t.indexOf(i))&&(t.splice(i,1),!0)},n.now=function(){return Date.now()};var l=function(){};l.main=function(){l.e=window.document.getElementById("c"),l.c=l.e.getContext("2d",null),window.document.body.onresize=l.onResize,l.onResize(),l.restart(),window.onfocus=function(t){l.f=!0},new L(l.r.img,l.init),window.requestAnimationFrame(l.update)},l.init=function(t){a.i(l.c,t),o.loaded=!0},l.onResize=function(){var t=Math.floor((window.document.body.clientWidth-l.e.clientWidth)/2),i=Math.floor((window.document.body.clientHeight-l.e.clientHeight)/2);l.e.style.left=t+"px",l.e.style.top=i+"px"},l.update=function(t){l.f&&(l.l=t-1,l.f=!1),l.playing?(s.update(),a.u((t-l.l)/1e3),s.reset()):o.u((t-l.l)/1e3,l.c),l.l=t,window.requestAnimationFrame(l.update)},l.restart=function(){l.playing=!1,o.i(l.e),o.startCallback=function(){o.startCallback=null,s.init(window,l.e),l.playing=!0,a.r()}};var o=function(){};o.i=function(t){o.c=t,o.bg=[new i(.01,10,1,1),new i(.02,5,1,2)],o.playRegion=new y(.37*t.width,.6*t.height,.26*t.width,.1*t.height),o.fullRegion=new y(.37*t.width,.77*t.height,.26*t.width,.1*t.height),t.onmousemove=o.onMouseMove,t.onclick=o.onClick,o.msk.start(.5,!0,(function(){o.active=!0}))},o.u=function(t,i){i.fillStyle="#000",i.fillRect(0,0,i.canvas.width,i.canvas.height),o.bg[0].update(i,0,0),o.bg[1].update(i,0,0),i.font="bold 128px sans-serif",i.fillStyle="#F00";var h="SOLAR DEFENCE";i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.25*i.canvas.height+128),i.font="bold 48px sans-serif",i.fillStyle="#F00",h=o.playOver?"-PLAY-":"PLAY",o.loaded||(h="Loading..."),i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.67*i.canvas.height),i.font="bold 48px sans-serif",i.fillStyle="#F00",h=o.fullOver?"-FULL SCREEN-":"FULL SCREEN",i.fillText(h,i.canvas.width/2-i.measureText(h).width/2,.84*i.canvas.height),o.msk.update(t,i)},o.onMouseMove=function(t){var i,h;o.active&&(i=t.offsetX/o.c.clientWidth*o.c.width,h=t.offsetY/o.c.clientHeight*o.c.height,t=o.playRegion,o.playOver=!(i<t.x||i>t.x+t.w||h<t.y||h>t.y+t.h),t=o.fullRegion,o.fullOver=!(i<t.x||i>t.x+t.w||h<t.y||h>t.y+t.h))},o.onClick=function(t){var i,h;o.active&&(i=t.offsetX/o.c.clientWidth*o.c.width,h=t.offsetY/o.c.clientHeight*o.c.height,i<(t=o.fullRegion).x||i>t.x+t.w||h<t.y||h>t.y+t.h?i<(t=o.playRegion).x||i>t.x+t.w||h<t.y||h>t.y+t.h||!o.loaded||(o.active=!1,o.msk.start(.5,!1,o.startCallback)):window.document.body.requestFullscreen())};var r=function(t,i,h,s){this.x=t,this.y=i,this.r=h,this.ratio=h/s,this.iconSize=Math.round(.15*h)};r.prototype={update:function(t){t.fillStyle="#AAA",t.beginPath(),t.arc(this.x,this.y,this.r+16,0,2*Math.PI),t.fill(),t.fillStyle="#000",t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.fill();for(var i=0,h=a.pl;i<h.length;){var s=h[i];++i;var e=Math.max(s.r*this.ratio,5);t.fillStyle=s.c,t.beginPath(),t.arc(this.x+s.x*this.ratio,this.y+s.y*this.ratio,e,0,2*Math.PI),t.fill(),s.alive<=0&&s.hasDomes()&&(t.fillStyle="#FFF",t.font="bold "+this.iconSize+"px sans-serif",n=t.measureText("☠").width/2,t.fillText("☠",this.x+s.x*this.ratio-n,this.y+s.y*this.ratio+n))}this.drawTriangle(t,this.x+a.p.x*this.ratio,this.y+a.p.y*this.ratio,8,"#0F0"),t.fillStyle="#F00",t.font="bold "+this.iconSize+"px sans-serif";var n=t.measureText("⚔").width/2;for(i=0,h=a.eSwm;i<h.length;){var l=h[i];++i,null!=l.inf?t.fillText("⚔",this.x+l.aabb.cX()*this.ratio-n,this.y+l.aabb.cY()*this.ratio+n):this.drawTriangle(t,this.x+l.aabb.cX()*this.ratio,this.y+l.aabb.cY()*this.ratio,8,"#F00")}},drawTriangle:function(t,i,h,s,e){t.fillStyle=e,t.beginPath(),t.moveTo(i,h-s),t.lineTo(i+s,h+s),t.lineTo(i-s,h+s),t.lineTo(i,h-s),t.fill()}};var c=function(){this.deadTime=0,this.hitCli=new M,this.alive=!0,this.scd=0,this.ys=0,this.xs=0,this.y=0,this.x=0,this.spr=a.img.h.player,this.gunSpr=a.img.h.gun};c.prototype={update:function(t,i){if(!this.alive)return this.deadTime+=t,void(3<this.deadTime&&this.deadTime<100&&(a.respawn(),this.deadTime=100));var e=0,n=0,l=null,o=.7;this.pNear=null;for(var r=0,c=a.pl;r<c.length;){var u=c[r];++r;var d=u.x-this.x,p=u.y-this.y,v=Math.atan2(p,d);d=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),p=1e3*u.m/Math.pow(d,2);e+=Math.cos(v)*p,n+=Math.sin(v)*p,(p=d-u.r)<=0&&(l=u),d-u.r<900&&(o=1),(null==this.pNear||p<this.pNearDist)&&(this.pNearDist=p,this.pNear=u)}this.xs+=e*t,this.ys+=n*t,a.zt=o;u=l,v=Math.atan2(this.ys,this.xs);var y=Math.sqrt(Math.pow(this.xs,2)+Math.pow(this.ys,2));y=Math.min(y,600);this.xs=Math.cos(v)*y,this.ys=Math.sin(v)*y,null!=u&&(y=Math.atan2(this.y-u.y,this.x-u.x),this.x=u.x+Math.cos(y)*u.r,this.y=u.y+Math.sin(y)*u.r,this.xs=u.xs,this.ys=u.ys,699999<u.m&&this.die()),0<s.acc&&(e=Math.cos(s.dir)*s.acc*800,n=Math.sin(s.dir)*s.acc*800,this.xs+=e*t,this.ys+=n*t),this.x+=this.xs*t,this.y+=this.ys*t,this.hitCli.circle.set(this.x,this.y,12),this.scd=0<this.scd?this.scd-t:0,s.trg&&this.scd<=0&&(this.scd=.15,zzfx(1.02,.05,399,.01,0,.02,1,1.98,0,.3,0,0,0,0,7,0,0,.71,.02,0),t=s.aim-.098125+.19625*Math.random(),t=new h(this.x,this.y,600*Math.cos(t),600*Math.sin(t)),a.pBlt.push(t),f.shotsFired++),this.pNearDist<50&&(v=Math.atan2(this.y-this.pNear.y,this.x-this.pNear.x)),i.save(),i.translate(this.x,this.y),i.rotate(v+Math.PI/2),i.drawImage(this.spr,-20,-20,40,40),i.rotate(s.aim+Math.PI/2-(v+Math.PI/2)),i.drawImage(this.gunSpr,-20,-20,40,40),i.restore()},checkHit:function(t){this.alive&&(this.hitCli.line.copy(t),this.hitCli.update()&&this.die())},die:function(){this.alive=!1,zzfx(1.28,.05,606,0,.39,.96,3,2.6,0,0,0,0,0,.7,0,.8,.18,.89,0,.06);var t=new z(this.x,this.y);a.ptcl.push(t),f.timesKilled++}};var f=function(){};f.reset=function(){f.time=0,f.swarmsKilled=0,f.enemiesKilled=0,f.timesKilled=0,f.shotsFired=0},f.makeText=function(){var t=Math.floor(f.time/60);return["Time Survived: "+t+":"+Math.floor(f.time-60*t),"Swarms Defeated: "+f.swarmsKilled,"Total Enemies Killed: "+f.enemiesKilled,"Times Killed: "+f.timesKilled,"Shots Fired: "+f.shotsFired]};var u=function(t,i,h,s,e){this.th=-1,this.tw=-1,this.time=0,this.text=t,this.d=new y(i,h,s,e)};function d(t,i,h,s){this.dir=0,this.fireSnd=!0,this.laserLine=new m,this.fireDist=1e3,this.fireDir=0,this.fire=0,this.fcd=2,this.engaged=!1,this.ya=0,this.xa=0,this.ys=0,this.xs=0,this.x=t,this.y=i,this.health=h,this.swrm=s,this.aabb=new y(t,i,40,40),this.spr=a.img.h.enemy}u.prototype={update:function(t,i){if(this.time+=t,i.globalAlpha=Math.min(1,this.time/.5),i.font="42px sans-serif",i.fillStyle="#FFF",-1==this.tw){for(var h=0,s=this.text;h<s.length;){var e=s[h];++h,this.tw=Math.max(this.tw,i.measureText(e).width)}this.th=48*this.text.length}var a=this.d.y+this.d.h/2-this.th/2;for(h=0,s=this.text;h<s.length;)e=s[h],++h,i.fillText(e,this.d.x+this.d.w/2-this.tw/2,a),a+=48;i.globalAlpha=1}},d.prototype={update:function(t,i){if(this.health<=0)return!1;var h,s,e,n,l,o,r,c,f;this.xs*=.9,this.ys*=.9,this.engaged?(s=Math.sqrt(Math.pow(a.p.x-this.x,2)+Math.pow(a.p.y-this.y,2)),this.dir=Math.atan2(a.p.y-this.y,a.p.x-this.x),400<s?(this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir)):(this.xa=0,this.ya=0),s<600&&(this.shoot(a.p.x+.75*a.p.xs,a.p.y+.75*a.p.ys,t),this.fireDist=600),a.p.alive||(this.engaged=!1)):null!=this.swrm.inf?(e=(s=Math.sqrt(Math.pow(this.swrm.inf.x-this.x,2)+Math.pow(this.swrm.inf.y-this.y,2))-this.swrm.inf.r)-(200+this.swrm.inf.r),h=this.swrm.inf.getClosestDome(this.x,this.y),400<e||null==h?(this.dir=Math.atan2(this.swrm.inf.y-this.y,this.swrm.inf.x-this.x),this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir)):(s=Math.sqrt(Math.pow(h.ex-this.x,2)+Math.pow(h.ey-this.y,2)),n=Math.atan2(h.ey-this.y,h.ex-this.x),l=this.x,o=this.y,e=h.aabb.cX(),this.dir=Math.atan2(h.aabb.cY()-o,e-l),20<s?(this.xa=2e3*Math.cos(n),this.ya=2e3*Math.sin(n)):(this.xa=0,this.ya=0,this.xs=this.swrm.inf.xs,this.ys=this.swrm.inf.ys,l=this.x,o=this.y,e=h.aabb.cX(),n=h.aabb.cY(),this.fireDist=Math.sqrt(Math.pow(e-l,2)+Math.pow(n-o,2)),this.shoot(h.aabb.cX(),h.aabb.cY(),t),0<this.fire&&this.fire<.5&&(n=0<h.h,h.h-=2*t,!n||0<h.h||(l=h.aabb.cX(),o=h.aabb.cY(),c=Math.sqrt(Math.pow(a.p.x-l,2)+Math.pow(a.p.y-o,2)),null==(f=x.cap(400/c))&&(f=1),zzfx(1.28*f,.05,606,0,.39,.96,3,2.6,0,0,0,0,0,.7,0,.8,.18,.89,0,.06),r=new z(h.aabb.cX(),h.aabb.cY()),a.ptcl.push(r)))))):(this.dir=Math.atan2(this.swrm.infTarget.y-this.y,this.swrm.infTarget.x-this.x),this.xa=2e3*Math.cos(this.dir),this.ya=2e3*Math.sin(this.dir),Math.sqrt(Math.pow(this.swrm.infTarget.x-this.x,2)+Math.pow(this.swrm.infTarget.y-this.y,2))<100+this.swrm.infTarget.r&&((r=this.swrm).inf=this.swrm.infTarget,r.infTarget=null)),0<this.fire&&(this.fire-=t,this.laserLine.a.set(this.x,this.y),this.laserLine.b.set(this.x+Math.cos(this.fireDir)*this.fireDist,this.y+Math.sin(this.fireDir)*this.fireDist),.5<this.fire?(i.strokeStyle="#F00",i.lineWidth=1,this.fireSnd=!0):(i.strokeStyle="#F00",i.lineWidth=3,a.p.checkHit(this.laserLine),this.fireSnd&&(c=Math.sqrt(Math.pow(a.p.x-this.x,2)+Math.pow(a.p.y-this.y,2)),null==(f=x.cap(400/c))&&(f=1),zzfx(1.99*f,.05,152,0,.19,.05,3,.62,52,0,0,0,0,0,215,0,.23,1,0,.05),this.fireSnd=!1)),this.dir=this.fireDir,i.beginPath(),i.moveTo(this.x,this.y),i.lineTo(this.laserLine.b.x,this.laserLine.b.y),i.stroke());for(var u=null,d=0,p=a.pl;d<p.length;){var v=p[d];++d,Math.sqrt(Math.pow(v.x-this.x,2)+Math.pow(v.y-this.y,2))<100+v.r&&(u=v)}for(null!=u&&(y=Math.atan2(this.y-u.y,this.x-u.x),this.xa=2e3*Math.cos(y),this.ya=2e3*Math.sin(y)),d=this.swrm.member.indexOf(this)+1,p=this.swrm.member.length;d<p;){var y,w=d++;w=this.swrm.member[w];Math.sqrt(Math.pow(this.x-w.x,2)+Math.pow(this.y-w.y,2))<120&&(y=Math.atan2(this.y-w.y,this.x-w.x),this.xa+=2e3*Math.cos(y),this.ya+=2e3*Math.sin(y))}return this.xs+=this.xa*t,this.ys+=this.ya*t,this.x+=this.xs*t,this.y+=this.ys*t,this.aabb.x=this.x-20,this.aabb.y=this.y-20,a.v.check(this.aabb)&&(i.save(),i.translate(this.x,this.y),i.rotate(this.dir+Math.PI/2),i.drawImage(this.spr,-20,-20,this.aabb.w,this.aabb.h),i.restore()),!0},shoot:function(t,i,h){this.fcd-=h,this.fcd<0&&(this.fire=1,this.fireDir=Math.atan2(i-this.y,t-this.x),this.fcd=2*Math.random()+2)},check:function(t){return!!(0<this.health&&this.aabb.check(t.aabb)&&Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))<25)&&(this.health--,this.health<=0?(zzfx(1,.05,188,0,.12,.21,4,2.23,0,.3,0,0,0,1,0,.7,0,.9,.08,.03),t=new z(this.x,this.y),a.ptcl.push(t),f.enemiesKilled++):zzfx(1.15,.05,628,0,.01,.17,4,1.57,0,-47,402,.02,0,0,72,.5,0,.04,.01,0),this.engaged||this.swrm.engage(),!0)}};var p=function(t,i,h,s,e){this.inView=!1,this.oov=6,this.alive=0,this.infTarget=null,this.inf=null,this.member=[],this.aabb=new y(i,h,100,100);for(var a=0,n=t;a<n;){a++;var l=new d(i+Math.random()*s,h+Math.random()*e,3,this);this.member.push(l)}this.alive=t};p.prototype={update:function(t,i){if(0==this.alive)return!1;if(5<this.oov){var h,s;this.inView&&null==this.inf&&(this.aabb.w=60*Math.sqrt(this.member.length),this.aabb.h=this.aabb.w),null!=this.inf&&(this.aabb.x=this.inf.x-(this.inf.r+200),this.aabb.y=this.inf.y-(this.inf.r+200),this.aabb.w=2*this.inf.r+400,this.aabb.h=this.aabb.w),null!=this.infTarget&&(s=this.aabb.cX(),h=this.aabb.cY(),s=Math.atan2(this.infTarget.y-h,this.infTarget.x-s),this.aabb.x+=400*Math.cos(s)*t,this.aabb.y+=400*Math.sin(s)*t,this.aabb.check(this.infTarget.aabb)&&(this.inf=this.infTarget,this.infTarget=null)),this.inView=!1}else{if(!this.inView){if(null==this.inf)for(var e=Math.floor(Math.sqrt(this.member.length)),n=0,l=0,o=0,r=this.member;o<r.length;){var c=r[o];++o,c.x=this.aabb.x+60*n,c.y=this.aabb.y+60*l,e<++n&&(++l,n=0)}else{var f=2*Math.PI/this.alive,u=0;for(o=0,r=this.member;o<r.length;)c=r[o],++o,c.x=this.inf.x+Math.cos(u)*(this.inf.r+200),c.y=this.inf.y+Math.sin(u)*(this.inf.r+200),u+=f}this.inView=!0}for(o=this.alive=0,r=this.member;o<r.length;)c=r[o],++o,c.update(t,i)&&(this.alive++,1==this.alive?this.aabb.copy(c.aabb):this.aabb.add(c.aabb))}return this.oov=a.v.check(this.aabb)?0:this.oov+t,0<this.alive},checkHit:function(t){if(this.aabb.check(t.aabb))for(var i=0,h=this.member;i<h.length;){var s=h[i];if(++i,s.check(t))return!0}return!1},engage:function(){for(var t=0,i=this.member;t<i.length;){var h=i[t];++t,h.engaged=!0}}};var v=function(){this.h=Object.create(null)},y=function(t,i,h,s){null==s&&(s=0),null==h&&(h=0),null==i&&(i=0),this.x=t=null==t?0:t,this.y=i,this.w=h,this.h=s};function w(t,i,h){null==h&&(h=0),this.c=new g(t=null==t?0:t,i=null==i?0:i),this.r=h}y.prototype={check:function(t){return!(this.x>t.x+t.w||t.x>this.x+this.w||this.y>t.y+t.h||t.y>this.y+this.h)},copy:function(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h},add:function(t){this.addR(t.x,t.y,t.w,t.h)},addC:function(t,i,h){this.addR(t-h,i-h,2*h,2*h)},addR:function(t,i,h,s){var e=Math.min(this.x,t),a=Math.min(this.y,i);this.w=Math.max(this.x+this.w,t+h)-e,this.h=Math.max(this.y+this.h,i+s)-a,this.x=e,this.y=a},cX:function(){return this.x+this.w/2},cY:function(){return this.y+this.h/2}},w.prototype={set:function(t,i,h){null==h&&(h=0),this.c.set(t=null==t?0:t,i=null==i?0:i),this.r=h}};var M=function(){this.circle=new w,this.line=new m,this.first=new g,this.second=new g};M.prototype={update:function(){this.firstIntersect=!1,this.secondIntersect=!1;var t,i=0,h=0,s=0,e=0,a=this.circle.c.x,n=this.circle.c.y,l=this.circle.r,o=this.line.a.x-a,r=this.line.a.y-n,c=this.line.b.x-this.line.a.x,f=this.line.b.y-this.line.a.y,u=c*c+f*f,d=2*(o*c+r*f);return 0==(l=d*d-4*u*(o*o+r*r-l*l))?0<=(t=-d/(2*u))&&t<=1&&(i=a+o+c*t,h=n+r+f*t,this.firstIntersect=!0):0<l&&(a+=o,n+=r,(r=0<=(t=(-d+(l=Math.sqrt(l)))/(2*u))&&t<=1)&&(i=a+c*t,h=n+f*t,this.firstIntersect=!0),0<=(t=(-d-l)/(2*u))&&t<=1&&(r?(s=a+c*t,e=n+f*t,this.secondIntersect=!0):(i=a+c*t,h=n+f*t,this.firstIntersect=!0))),this.first.x=i,this.first.y=h,this.second.x=s,this.second.y=e,this.hasIntersect()},hasIntersect:function(){return!!this.firstIntersect||this.secondIntersect}};var x=function(){};x.shuffle=function(t){for(var i=t.length;0!=i;){var h=Math.floor(Math.random()*i),s=t[--i],e=t[h];t[i]=e,t[h]=s}},x.cap=function(t,i,h){return null==h&&(h=1),t<(i=null==i?0:i)?i:h<t?h:t};var m=function(t,i,h,s){null==s&&(s=0),null==h&&(h=0),this.a=new g(t=null==t?0:t,i=null==i?0:i),this.b=new g(h,s)};m.prototype={copy:function(t){this.a.copy(t.a),this.b.copy(t.b)}};var g=function(t,i){null==i&&(i=0),this.x=t=null==t?0:t,this.y=i};function b(t,i){this.ey=0,this.ex=0,this.h=5,this.p=t,this.d=i,this.aabb=new y(0,0,100,100),this.spr=a.img.h.dome}g.prototype={set:function(t,i){this.x=t,this.y=i},copy:function(t){this.x=t.x,this.y=t.y}},b.prototype={update:function(t,i){var h=this.p.x+Math.cos(this.d)*this.p.r,s=this.p.y+Math.sin(this.d)*this.p.r;this.aabb.x=h-50,this.aabb.y=s-50,this.ex=this.p.x+Math.cos(this.d)*(this.p.r+200),this.ey=this.p.y+Math.sin(this.d)*(this.p.r+200),a.v.check(this.aabb)&&0<this.h&&i.drawImage(this.spr,h-50,s-50,100,100)}};var T=function(t,i,h,s,e,a){null==a&&(a=3),this.alive=0,this.domes=[],this.x=t,this.y=i,this.r=h,this.m=s,this.c=e,this.aabb=new y(t-h-50,i-h-50,2*h+100,2*h+100),this.xs=0,this.ys=0;for(var n=2*Math.PI/a,l=.5*n,o=0,r=a;o<r;){var c=n*o+++Math.random()*l;this.domes.push(new b(this,c))}this.alive=a};T.prototype={update:function(t,i){null!=this.ot&&(this.oa+=this.ov*t,this.xs=this.x,this.ys=this.y,this.x=this.ot.x+Math.cos(this.oa)*this.od,this.y=this.ot.y+Math.sin(this.oa)*this.od,this.xs=(this.x-this.xs)/t,this.ys=(this.y-this.ys)/t,this.aabb.x=this.x-this.r-50,this.aabb.y=this.y-this.r-50);for(var h=this.alive=0,s=this.domes;h<s.length;){var e=s[h];++h,e.update(t,i),0<e.h&&this.alive++}a.v.check(this.aabb)&&(i.fillStyle=this.c,i.beginPath(),i.arc(this.x,this.y,this.r,0,2*Math.PI),i.fill())},orbit:function(t,i){this.ot=t,this.ov=i,this.oa=Math.atan2(this.y-t.y,this.x-t.x),this.od=Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},getClosestDome:function(t,i){for(var h=-1,s=null,e=0,a=this.domes;e<a.length;){var n,l,o=a[e];++e,0<o.h&&(n=o.aabb.cX(),l=o.aabb.cY(),((l=Math.sqrt(Math.pow(n-t,2)+Math.pow(l-i,2)))<h||h<0)&&(h=l,s=o))}return s},hasDomes:function(){return 0<this.domes.length}};var z=function(t,i){this.smoke=new k(t,i,F(this,this.smokeFactory),15,10),this.fire=new k(t,i,F(this,this.fireFactory),20,10)};z.prototype={update:function(t,i){return 0<(this.smoke.update(t,i)?1:0)+(this.fire.update(t,i)?1:0)},smokeFactory:function(){var t=Math.floor(100+100*Math.random());return new S(5,50,100,"rgb(255, "+t+", 0)",1)},fireFactory:function(){var t=Math.floor(100+50*Math.random());return new S(5,100,250,"rgb("+t+", "+t+", "+t+")",2)}};var k=function(t,i,h,s,e){this.ptcl=[],this.aabb=new y;for(var a=0,n=s;a<n;){a++;var l=h();l.getPosition().set(t-e+Math.random()*(2*e),i-e+Math.random()*(2*e)),this.ptcl.push(l)}};k.prototype={update:function(t,i){for(var h=!1,s=0,e=this.ptcl;s<e.length;){var n,l,o=e[s];++s,o.isAlive()&&(o.update(t),h?this.aabb.addC(o.getPosition().x,o.getPosition().y,o.getRadius()):(n=o.getPosition().x,l=o.getRadius(),this.aabb.x=n-l,n=o.getPosition().y,l=o.getRadius(),this.aabb.y=n-l,l=o.getRadius(),this.aabb.w=2*l,l=o.getRadius(),this.aabb.h=2*l),h=!0)}if(h&&a.v.check(this.aabb)){for(s=0,e=this.ptcl;s<e.length;)o=e[s],++s,o.isAlive()&&o.draw(i);i.globalAlpha=1}return h}};var S=function(t,i,h,s,e){this.vel=new g,this.pos=new g,this.radius=t,this.colour=s,this.time=e,this.timeTotal=e,e=Math.random()*(2*Math.PI),i+=Math.random()*(h-i),this.vel.set(Math.cos(e)*i,Math.sin(e)*i)};S.prototype={update:function(t){this.pos.x+=this.vel.x*t,this.pos.y+=this.vel.y*t,this.time-=t},draw:function(t){t.fillStyle=this.colour,t.globalAlpha=this.time/this.timeTotal,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI),t.fill()},getPosition:function(){return this.pos},getRadius:function(){return this.radius},isAlive:function(){return 0<this.time}};var L=function(i,h){this.img=new v,this.lc=i.length,this.lcb=h;for(var s=0;s<i.length;){var e=i[s];++s;var a="data:image/svg+xml;base64,"+window.btoa(e.d),n=[e.n];(e=window.document.createElement("img")).onload=F(this,this.cb),e.onerror=function(i){return function(){t.console.error("Failed to load image resource: "+i[0])}}(n),e.setAttribute("src",a),this.img.h[n[0]]=e}};function F(i,h){return null==h?null:(null==h.__id__&&(h.__id__=t.$haxeUID++),null==i.hx__closures__?i.hx__closures__={}:s=i.hx__closures__[h.__id__],null==s&&(s=h.bind(i),i.hx__closures__[h.__id__]=s),s);var s}L.prototype={cb:function(){this.lc--,0==this.lc&&this.lcb(this.img)}},t.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(n.now=performance.now.bind(performance)),s.mx=0,s.my=0,s.mTouch=-1,s.justReleased=!1,s.deadZone=100,a.zoom=2,a.zt=a.zoom,a.spawnTimer=0,a.spawnSize=1,a.msk=new e,a.gameOver=!1,a.ptcl=[],a.tut=[],a.tutStage=0,a.tutProg=0,a.restartTimer=0,l.r=new function(){this.img=[{n:"dome",d:'<svg width="256" height="256" viewBox="0 0 67.7 67.7" xmlns="http://www.w3.org/2000/svg"><path d="M2.1 33.9v10.5l4.2 2.2 14.9 14.8M61.4 19l4.2 14.8m2.1 0h-2M33.8 67.7v-2m-12.7-4.3l12.7 4.2m0-65.6v2.1H23.3l-2.1 4.2-10.6 4.3L8.5 19 2 23.3v10.6L8.5 19l2 14.8H2.2l4.2 12.7L10.6 57l10.6 4.3 2 4.2H34v-8.5l-12.7 4.3V46.6H6.3l4.3-12.7 10.6 12.7 2-12.7H10.7L21.2 19H8.5L21.2 6.3v12.8l12.7-8.5-12.7-4.3 12.7-4.2v21.2L21.2 19l2 14.9L34 23.3v10.6H23.3l10.6 10.5-12.7 2.2L33.9 57l12.7 4.3-12.7 4.2h10.5l2.2-4.2V46.6L33.9 57V44.4l12.7 2.2h14.8L46.6 61.4 57 57l4.3-10.5 4.2-2.2V34l-4.2 12.7L57 33.9 46.6 46.6l-2.2-12.7L34 44.4V34h31.7V23.3L61.4 19 57 34 46.6 19l-2.2 14.8L34 23.3 46.6 19l-12.7-8.4 12.7-4.3-12.7-4.2h10.5l2.2 4.2L57 10.6l4.3 8.5H46.6V6.3l14.8 12.8M33.9 0L23.3 2.1l-12.7 8.5L2 23.3 0 33.9l2.1 10.5 8.5 12.7 12.7 8.5 10.6 2.1 10.5-2L57.1 57l8.5-12.7L67.7 34l-2-10.6L57 10.6 44.4 2z" fill="none" stroke="#000" stroke-width=".3" transform="translate(.1 .1) scale(.99603)"/><path d="M34 17v-6c.2 0 12 8 12 8a268.7 268.7 0 01-11.8 4c-.1 0-.2-1.2-.2-6z" fill="#21cfcf" fill-rule="evenodd"/><path d="M29.5 1.2l4-.8.1.8V2h-8z" fill="#cbcbcb" fill-rule="evenodd"/><path d="M22.6 4.2l.9-1.8h9.2l-5.4 1.8-5.6 1.9.9-1.9z" fill="#bebebe" fill-rule="evenodd"/><path d="M27.6 8.4c-3.2-1-5.7-2-5.6-2a1358.6 1358.6 0 0111.5-3.8l.1 3.8-.1 4-6-2z" fill="#b3b3b3" fill-rule="evenodd"/><path d="M34 1.2l.1-.8 4 .8 4 .8h-8zM51.4 8.2l-4.1-1.6-.7-.3-.8-1.7L45 3 55 9.5c.2.2-.1 0-3.5-1.3zM62.6 20.2a26 26 0 01-3.5-6 65.2 65.2 0 014.8 7.2l-1.3-1.2zM65.7 29.6v-4l.8 3.9.8 4c0 .2-.2.2-.8.2h-.8zM65.7 38.1v-4h.8l.8.1-.8 4.1-.8 4zM58.2 54.7l3.2-7.9 3.3-1.7a420.8 420.8 0 01-6.5 9.6zM45 64.8l.9-1.8.8-1.6 4-1.6 4.2-1.6a118 118 0 01-9.9 6.6zM34 66.5v-.9h8.5l-3.8.8-4.3 1H34zM29.4 66.5l-4.2-.8h8.4V67.3l-4.2-.9zM17.7 61.5l-4.8-3.3 4.1 1.6 4 1.6.9 1.6.7 1.7-5-3.2zM6.2 50L3 45l1.7.9 1.6.8 1.6 4 1.6 4.1L6.2 50zM1.2 38l-.9-4.2.9-4.3.9-4.2v17L1 38zM3.2 22.3a287.2 287.2 0 017-10.4l-1.8 7a220.2 220.2 0 01-5.2 3.4zM12.9 9.5c.2-.3 9.7-6.5 9.7-6.4L22 4.7 21 6.3 17 8c-4.7 1.9-4.4 1.8-4.2 1.6z" fill="#cbcbcb" fill-rule="evenodd"/><path d="M40.4 4.2l-5.3-1.8h9.2l1 1.8L46 6l-5.6-1.8zM54.1 12.7l-6.3-5.5L52.4 9l4.5 1.8 1.8 3.6 1.8 3.7-6.4-5.4zM63.5 26.2a152 152 0 01-1.7-6.2l1.8 1.7 1.7 1.7v8.9zM61.7 45.8l1.8-5.4 1.8-5.3v9.2l-1.8.9-1.8.9v-.3zM54 54a360 360 0 016.6-6.5l-1.8 4.7-1.9 4.7-4.6 1.8-4.7 1.9L54 54zM40.6 63.5c3-1 5.3-1.8 5.4-1.7l-.8 1.7-.9 1.7h-9zM22.5 63.5l-.8-1.8 5.4 1.7 5.3 1.8h-9zM15.4 58.7L10.8 57 9 52.3l-1.8-4.7a439 439 0 0112.9 13l-4.7-1.9zM4.2 45.2l-1.7-.9v-4.5-4.3L6 46l-1.8-1zM2.5 28v-4.6l2.7-1.8c1.5-1 2.7-1.8 2.8-1.7L2.5 32.7V28zM9 18.1l1-3.8.9-3.5 4.6-1.9 4.7-1.8A322.4 322.4 0 019 18.1z" fill="#bebebe" fill-rule="evenodd"/><path d="M34 6.4V2.5l11.6 3.9-11.5 4v-4zM40.3 14.7l-5.8-4 6-2 5.9-2v6l-.1 6-6-4zM46.8 13V7l.7.6a3065.1 3065.1 0 0013.1 11.3H46.7zM51.9 26.3l-5-7h7c5.7 0 7.1 0 7 .2a953.8 953.8 0 00-4 13.7l-5-6.9zM57.4 33.6l3.9-13.5 3.9 13.5a42 42 0 01-7.8 0zM59.3 40l-2-5.8 4-.1 3.9.1a1795.9 1795.9 0 00-4 11.5L59.4 40zM47 46.2l10-11.8 2 6 2 6h-7c-4.3 0-7-.1-7-.2zM46.8 53.7v-7h14l-7 7-7 7v-7zM40.2 59l-6-2 5.9-4.9 6-5c.3-.2.3 0 .3 6.8 0 5.6 0 7-.2 7l-6-2zM34 61.3v-4l6 2c3.2 1 5.8 2 5.7 2l-6 2-5.7 2zM27.7 63.2L22 61.3s2.5-1 5.8-2l5.8-2v4c0 3.6 0 3.8-.2 3.8l-5.7-1.9zM21.4 54v-7l.4.2 6 5 5.7 4.8-6 2-6 2-.1-7zM14 53.7l-7-7h14v14l-7-7zM6.8 46.2a1916.7 1916.7 0 004-11.9L20.5 46l.3.4h-7l-7-.1zM4.5 40l-2-5.8 4-.1h3.9l-2 5.8-2 5.9L4.6 40zM2.6 33.5l3-7 2.9-6.7 1 6.9 1 6.9a41.1 41.1 0 01-7.9-.1zM12.4 15.5l6-6L21 7v12H9zM21.4 12.7v-6l5.8 2 6 2a374.9 374.9 0 01-11.8 8v-6zM10.7 33c-.1-1-2-13.6-1.9-13.7h12l-5 7-5 7v-.4z" fill="#b3b3b3" fill-rule="evenodd"/><path d="M23.8 33.7l5-5 4.8-5v10h-9.9zM27.6 21l-5.8-2 11.5-7.7.3-.2v6l-.1 5.9-5.9-2zM22.5 26.5l-1-7s2.8.8 6 2l6 2-5 5-5 5zM11.3 33.3a1684 1684 0 009.8-13.4l1 7 1 6.8h-12zM16.1 40l-5-5.9h12l-2 12-5-6zM22.4 40.4l1-6a104.2 104.2 0 019.7 10 634.3 634.3 0 01-11.4 1.9c-.3 0-.2-.2.7-5.9zM28.7 39L24 34h9.8v5l-.1 4.8-4.9-4.9zM27.6 51.6l-6-5 6-1 6-.9v11.9zM34 50.7c0-5.3 0-6 .2-6s11.5 1.8 11.7 2l-5.6 4.7c-3.1 2.7-5.8 5-6 5l-.3.3zM34 39v-5h10l-5 5-5 5v-5zM40.4 45.3l-6-1 4.8-5 5-5 2 12-5.8-1zM46.6 45.7l-2-11.6h12L51.8 40a707 707 0 01-5 5.9c-.1.2-.2.1-.2-.1zM44.7 33.4A603.8 603.8 0 0046.6 20a576.7 576.7 0 0110 13.6l-6 .1h-6zM39.2 28.4l-5-5 6-2 6-2-2 14-5-5zM34 28.7v-5l5 5 4.9 5H34z" fill="#21cfcf" fill-rule="evenodd"/></svg>'},{n:"enemy",d:'<svg width="64" height="64" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000"><path d="M38.5 16.2a6.6 6.6 0 010 .2A6.6 6.6 0 0132 23a6.6 6.6 0 01-6.6-6.6 18.9 18.9 0 00-12 17.6A18.9 18.9 0 0032 53a18.9 18.9 0 0019-19 18.9 18.9 0 00-12.6-17.8z" fill="#31967e" stroke-width=".6"/><path d="M15.4 4.7A32 32 0 000 32a32 32 0 0032 32 32 32 0 0032-32A32 32 0 0049 4.9a18.9 18.9 0 012 8.5 18.9 18.9 0 01-18.9 19 18.9 18.9 0 01-18.9-19 18.9 18.9 0 012.2-8.7z" fill="#d74e9a" stroke-width=".5"/></g></svg>'},{n:"gun",d:'<svg width="64" height="64" viewBox="0 0 16.9 16.9" xmlns="http://www.w3.org/2000/svg"><path d="M7.7 2.6v4a2 2 0 00-1.2 1.9 2 2 0 002 2 2 2 0 002-2 2 2 0 00-1.2-1.9v-4z" fill="#9b9b9b" stroke="#000" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"/></svg>'},{n:"player",d:'<svg width="64" height="64" viewBox="0 0 16.9 16.9" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 2.3c0 3.3.5 4 1.2 4.3.6-.2 1.1-1 1.1-4.3L8.5.3zm1.2-2C7.7 1.5 7 2.8 6.7 4.1c-.4 1.2-.8 2.5-1 3.7-.9-1.6-1.2-3.1-1.2-4.6-2.3 3.8-3 7.6-2.3 11.4h.6v2.3H5v-2.3H12v2.3h2.3v-2.3h.5c.8-3.7 0-7.6-2.2-11.4 0 1.5-.4 3-1.2 4.6l-1-3.8c-.5-1.2-1-2.5-1.8-3.7z" fill="#b3cfff" stroke="#000" stroke-width=".2"/><path d="M8.3 6.5L8 6c-.3-.6-.4-1.5-.5-3v-.6l.1-.2 1-1.7 1 1.8V3.2l-.2 2.1c-.2.6-.4 1-.6 1.1l-.2.1h-.2z" fill="#b3cfff"/><path d="M2.3 14.5a18 18 0 01-.2-4 15.9 15.9 0 012.1-6.7l.2-.3v.3A10.1 10.1 0 005.6 8l.3-.7L7 3.4l.2-.5v.3c0 1.1.1 1.5.2 2 .2.8.5 1.3 1 1.5h.2c.2-.1.5-.4.6-.7.2-.3.3-.8.4-1.4l.1-1.4V3l.2.5A44 44 0 0111.3 8l.5-1c.4-1 .6-2 .7-3v-.5l.3.4c1.2 2.2 1.9 4.4 2 6.6.2 1.2.1 2.6-.1 3.8v.2H2.3z" fill="#156bff"/><path d="M2.8 15.6v-1H5v2.2H3zM12 15.6v-1h2v2.2h-2z" fill="#9b9b9b"/></svg>'}]},l.l=0,l.f=!1,l.playing=!1,o.msk=new e,o.playOver=!1,o.fullOver=!1,o.active=!1,o.loaded=!1,f.time=0,f.swarmsKilled=0,f.enemiesKilled=0,f.timesKilled=0,f.shotsFired=0,l.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)</script>