<html><head><title>JS13K 2024: SUP3RFR1GHT VR</title><script src=https://js13kgames.com/webxr-src/2024/aframe.js></script><script>(()=>{var t={};(async()=>{window.speak=await(async()=>{const e=await new Promise(((t,e)=>{let i=0,s=setInterval((()=>{i+=1,speechSynthesis.getVoices().length?(t(speechSynthesis.getVoices()),clearInterval(s)):100>i||(e([]),clearInterval(s))}),10)})),i=[];for(const t of["Boing","Zarvox","Whisper"]){const s=e.find((e=>e.name===t));s&&i.push(s)}if(i.length){let e=0;return s=>{const o=t[s]||(t[s]=new SpeechSynthesisUtterance(s));o.voice=i[e],o.pitch=.1,speechSynthesis.speak(o),e=(e+1)%i.length}}return()=>{}})()})(),zzfxV=.3,zzfxX=new AudioContext,zzfx=(t=1,e=.05,i=220,s=0,o=0,a=.1,n=0,r=1,l=0,h=0,c=0,d=0,p=0,m=0,u=0,g=0,b=0,v=1,y=0,A=0,f=0)=>{let S=Math,k=2*S.PI,D=44100,E=l*=500*k/D/D,x=i*=(1-e+2*e*S.random(e=[]))*k/D,z=0,M=0,T=0,R=1,j=0,w=0,I=0,L=0>f?-1:1,C=k*L*f*2/D,F=S.cos(C),P=S.sin,q=P(C)/4,_=1+q,O=-2*F/_,N=(1-q)/_,$=(1+L*F)/2/_,H=-(L+F)/_,W=$,V=0,G=0,B=0,U=0;for(h*=500*k/D**3,u*=k/D,c*=k/D,d*=D,p=D*p|0,t*=.3,L=(s=D*s+9)+(y*=D)+(o*=D)+(a*=D)+(b*=D)|0;L>T;e[T++]=I*t)++w%(100*g|0)||(I=n?n>1?n>2?n>3?P(z**3):S.max(S.min(S.tan(z),1),-1):1-(2*z/k%2+2)%2:1-4*S.abs(S.round(z/k)-z/k):P(z),I=(p?1-A+A*P(k*T/p):1)*(0>I?-1:1)*S.abs(I)**r*(s>T?T/s:s+y>T?1-(T-s)/y*(1-v):s+y+o>T?v:L-b>T?(L-T-b)/a*v:0),I=b?I/2+(b>T?0:(L-b>T?1:(L-T)/b)*e[T-b|0]/2/t):I,f&&(I=U=W*V+H*(V=G)+$*(G=I)-N*B-O*(B=U))),C=(i+=l+=h)*S.cos(u*M++),z+=C+C*m*P(T**5),R&&++R>d&&(i+=c,x+=c,R=0),!p||++j%p||(i=x,l=E,R=R||1);(t=zzfxX.createBuffer(1,L,D)).getChannelData(0).set(e),(i=zzfxX.createBufferSource()).buffer=t,i.connect(zzfxX.destination),i.start()},AFRAME.registerPrimitive("a-bullet",{defaultComponents:{bullet:{},"dynamic-collider":{on:!0},"linear-motion":{speed:2},ttl:15},mappings:{direction:"linear-motion.direction"}}),AFRAME.registerComponent("bullet",{schema:{fromPlayer:{type:"boolean",default:!0}},events:{componentchanged(t){"linear-motion"===t.detail.name&&this.updateTrail(this.el.getAttribute("linear-motion").distanceTravelled)},ttlreached(){this.el.setAttribute("health",{hp:0})},obbcollisionstarted(t){const e=t.detail.withEl;e.components.health&&this.el.components.health.data.group!==e.components.health.data.group&&(e.setAttribute("health",{hp:e.components.health.data.hp-1}),this.el.setAttribute("health",{hp:0}))}},init(){const t=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"cylinder",radius:.01,height:.04,segmentsRadial:6,segmentsHeight:1,openEnded:!1}),t.setAttribute("material",{color:"black"}),t.object3D.rotation.x=this.data.fromPlayer?0:-Math.PI/2;const e=document.createElement("a-entity");e.setAttribute("line",{color:"red",opacity:.45,transparent:!0,start:"0 0 0",end:"0 0 0"}),t.appendChild(e),this.el.appendChild(t),this.trail=e},updateTrail(t){t>2.5||this.trail.setAttribute("line",{end:`0 ${t} 0`})}}),AFRAME.registerPrimitive("a-gun",{defaultComponents:{gun:{},"dynamic-collider":{size:.15},raycaster:{enabled:!1,objects:"#world"}},mapping:{pointDown:"gun.pointDown"}}),AFRAME.registerComponent("gun",{schema:{pointDown:{type:"boolean",default:!1}},init(){this.gimbal=document.createElement("a-entity"),this.gimbal.object3D.rotation.x=this.data.pointDown?-Math.PI/2:0;const t=document.createElement("a-box");t.setAttribute("color","#000"),t.setAttribute("depth",.2),t.setAttribute("height",.08),t.setAttribute("width",.04),t.object3D.position.y=.06,t.object3D.position.z=-.08,this.gimbal.appendChild(t);const e=document.createElement("a-box");e.setAttribute("color","#000"),e.setAttribute("depth",.08),e.setAttribute("height",.16),e.setAttribute("width",.04),e.object3D.rotation.x=-Math.PI/8,this.gimbal.appendChild(e),this.el.appendChild(this.gimbal)},update(){this.gimbal.object3D.rotation.x=this.data.pointDown?-Math.PI/2:0,this.el.setAttribute("raycaster",this.data.pointDown?{direction:"0 -1 0",origin:"0 -0.2 -0.08"}:{direction:"0 0 -1",origin:"0 0.09 -0.2"})}}),AFRAME.registerPrimitive("a-portal",{defaultComponents:{portal:{},geometry:{primitive:"cone",thetaStart:45,segmentsRadial:4,segmentsHeight:1,radiusTop:0,radiusBottom:.2,height:.175},material:{color:"black",opacity:.45,transparent:!0,flatShading:!0},"dynamic-collider":{size:.15}},mappings:{to:"portal.to","text-value":"portal.textValue","text-width":"portal.textWidth"}}),AFRAME.registerComponent("portal",{schema:{to:{type:"string"},textValue:{type:"string"},textWidth:{type:"number"}},events:{componentchanged(t){"visible"===t.detail.name&&this.el.getAttribute("visible")&&this.el.components["dynamic-collider"]._play()}},init(){const t=this.data,e=document.createElement("a-entity");e.setAttribute("text",{value:t.textValue,align:"center",font:"monoid",width:t.textWidth}),e.setAttribute("position",{x:0,y:-.04,z:.05}),this.el.appendChild(e)}}),AFRAME.registerPrimitive("a-pyramid",{defaultComponents:{geometry:{primitive:"cone",thetaStart:45,segmentsRadial:4,segmentsHeight:1,radiusTop:0},material:{flatShading:!0}},mappings:{color:"material.color",height:"geometry.height",width:"geometry.radiusBottom"}}),AFRAME.registerComponent("dynamic-collider",{schema:{size:{type:"number",default:0},on:{type:"boolean",default:!1}},init(){this.data.on&&this._play()},_play(){this.el.setAttribute("obb-collider",{size:this.data.size})},_pause(){this.el.removeAttribute("obb-collider")}}),AFRAME.registerComponent("game-time",{schema:{type:"number",default:0},init(){this.format=new Intl.NumberFormat(navigator.language,{minimumFractionDigits:2,maximumFractionDigits:2}).format},update(){this.el.setAttribute("value",this.format(this.data)+"s")}}),AFRAME.registerComponent("gravity",{schema:{type:"boolean",default:!1}}),AFRAME.registerComponent("gesture-tracker",{events:{gripdown(){this.el.addState("grabbing")},gripup(){this.el.removeState("grabbing")},triggerdown(){this.el.addState("shooting")},triggerup(){this.el.removeState("shooting")},obbcollisionstarted(t){const e=t.detail.withEl;e.components["gesture-tracker"]||(e.components.portal?(this.el.addState("hovering-portal"),this.targets["hovering-portal"]=e):e.components.gun&&(this.el.addState("hovering-gun"),this.targets["hovering-gun"]=e))},obbcollisionended(t){const e=t.detail.withEl;e.components["gesture-tracker"]||(e.components.portal?(this.el.removeState("hovering-portal"),delete this.targets["hovering-portal"]):e.components.gun&&(this.el.removeState("hovering-gun"),delete this.targets["hovering-gun"]))}},init(){this.targets={}},getTarget(t){return this.targets[t]},updateTarget(t,e){return this.targets[e]=this.targets[t],delete this.targets[t],this.targets[e]},reset(){for(state in this.targets)this.targets[state].removeState("grabbed");this.targets={},this.el.removeState("holding-gun"),this.el.removeState("hovering-gun"),this.el.removeState("hovering-portal")}}),AFRAME.registerComponent("health",{schema:{hp:{type:"int",default:1},group:{type:"string",default:"foe"}},events:{obbcollisionstarted(t){const e=t.detail.withEl;if(e.components.health){const t=this.el.components.health.data.group;t!==e.components.health.data.group&&("friend"===t&&this.el.is("shooting")&&!this.el.is("holding-gun")||"foe"===t&&e.components["motion-tracker"]&&!e.is("shooting"))&&e.setAttribute("health",{hp:e.components.health.data.hp-1})}}},update(){this.data.hp>0||this.el.components["motion-tracker"]||this.el.parentNode.components["motion-tracker"]||(this.el.parentNode.removeChild(this.el),this.el.components.sniper&&this.el.setAttribute("sniper",{enabled:!1}))}}),AFRAME.registerComponent("level",{dependencies:["visible"],schema:{active:{type:"boolean",default:!1},gameTimeTracked:{type:"boolean",default:!1}},update(){this.el.object3D.visible=this.data.active,this.el[this.data.active?"play":"pause"]();for(const t of document.querySelectorAll(`#${this.el.id} [dynamic-collider]`))t.getAttribute("visible")&&t.components["dynamic-collider"][this.data.active?"_play":"_pause"]();for(const t of document.querySelectorAll(`#${this.el.id} [sniper]`))t.setAttribute("sniper",{enabled:this.data.active})}}),AFRAME.registerComponent("linear-motion",{schema:{direction:{type:"vec3",default:"0 0 0"},speed:{type:"number",default:1},distanceTravelled:{type:"number",default:0}}}),AFRAME.registerComponent("spin-motion",{schema:{direction:{type:"vec3",default:"0 0 0"},speed:{type:"number",default:1}}}),AFRAME.registerComponent("sinlinear-motion",{schema:{direction:{type:"vec3",default:"0 0 0"},speed:{type:"number",default:1},alpha:{type:"number",default:0}}}),POSITION_MIN_MOTION=1e-7,POSITION_MAX_MOTION=1e-5,ROTATION_MIN_MOTION=1e-6,ROTATION_MAX_MOTION=.001;var e=(t,e,i)=>THREE.MathUtils.mapLinear(THREE.MathUtils.clamp(t,e,i),e,i,0,1);function i(t){return new THREE.Vector3(t.x,t.y,t.z)}AFRAME.registerComponent("motion-tracker",{init(){this.prevPos=this.el.object3D.position.clone(),this.prevRot=i(this.el.object3D.rotation)},tick(){const t=i(this.el.object3D.rotation),s=this.prevRot.distanceToSquared(t),o=this.prevPos.distanceToSquared(this.el.object3D.position);this.slowMotion=Math.max(e(o,1e-7,1e-5),e(s,1e-6,.001)),this.prevRot=t,this.prevPos=this.el.object3D.position.clone()}}),AFRAME.registerComponent("puppet",{events:{ttlreached(t){const e=t.detail.el;e.parentNode.removeChild(e),e.setAttribute("health",{hp:0})}}}),AFRAME.registerComponent("sniper",{schema:{frequency:{type:"number",default:1.5},firstShotDelay:{type:"number",default:.5},enabled:{type:"boolean",default:!1}},init(){this.nextShotDelay=this.data.firstShotDelay,this.playerHead=document.querySelector("a-camera").object3D,this.el.sceneEl.addEventListener("tick",(t=>{this._tick(t.detail.time,t.detail.timeDelta)}))},_tick(t,e){this.data.enabled&&(this.nextShotDelay-=e,this.nextShotDelay>0||(this.nextShotDelay+=this.data.frequency,this.fireBullet()))},fireBullet(){zzfx(1,.05,62,.01,.07,.4,2,2.8,6,-8,0,0,0,1.4,28,.4,0,.4,.1,.46,181);const t=this.el.object3D,e=t.localToWorld(t.position.clone()),i=this.playerHead.position.clone();i.y-=.05,i.sub(e).normalize();const s=document.createElement("a-bullet");s.setAttribute("bullet",{fromPlayer:!1}),s.setAttribute("position",e),s.object3D.lookAt(i),s.setAttribute("linear-motion",{direction:i}),s.setAttribute("health",{group:this.el.components.health.data.group}),this.el.sceneEl.systems.level.activeLevel.appendChild(s)}}),AFRAME.registerComponent("sync-stance",{schema:{src:{type:"string"}},init(){this.src=document.querySelector(this.data.src)},tick(){this.el.isPlaying&&this.src&&(this.el.object3D.position.x=this.src.object3D.position.x,this.el.object3D.position.y=this.src.object3D.position.y,this.el.object3D.position.z=this.src.object3D.position.z,this.el.object3D.rotation.x=this.src.object3D.rotation.x,this.el.object3D.rotation.y=this.src.object3D.rotation.y,this.el.object3D.rotation.z=this.src.object3D.rotation.z)}}),AFRAME.registerComponent("ttl",{schema:{type:"number",default:10},init(){this.timeLeft=this.data;let t=this.el.parentNode;for(;t;){if(t.getAttribute("level")){this.levelId=t.id;break}t=t.parentNode}this.el.sceneEl.addEventListener("tick",(t=>this._tick(t.detail.time,t.detail.timeDelta)))},_tick(t,e){this.el.sceneEl.systems.level.activeLevel.id===this.levelId&&(this.timeLeft-=e,0>this.timeLeft&&(this.el.removeAttribute("ttl"),this.el.emit("ttlreached",{el:this.el})))}}),SLOWMO_RATIO=2,AFRAME.registerSystem("game-time",{schema:{type:"number",default:0},init(){this.playerLimbs=document.querySelectorAll("[motion-tracker]")},tick(t,e){const i=this.el;let s=0;for(limb of this.playerLimbs)s=Math.max(limb.components["motion-tracker"].slowMotion,s);(e=s/2*e/1e3)&&(i.is("game-time-tracked")&&(this.data+=e),i.emit("tick",{time:this.data,timeDelta:e}))},toggleGameTimeHUDVisibility(t){this.gameTimeHUD.object3D.visible=t}}),AFRAME.registerSystem("gesture-tracker",{init(){this.hands=document.querySelectorAll("[gesture-tracker]")},tick(){for(const t of this.hands){const e=t.components["gesture-tracker"];t.is("hovering-portal")&&t.is("grabbing")?(t.removeState("hovering-portal"),t.removeState("grabbing"),zzfx(1,.05,166,.07,.11,.15,0,2.8,-3,-186,0,0,.1,0,0,.1,0,.55,.26,0,0),this.el.emit("loadlevel",{levelId:e.getTarget("hovering-portal").components.portal.data.to})):t.is("hovering-gun")&&t.is("grabbing")&&!e.getTarget("hovering-gun").is("grabbed")?(t.removeState("hovering-gun"),t.addState("holding-gun"),this.grabGun(e.updateTarget("hovering-gun","holding-gun"),t)):t.is("holding-gun")&&!t.is("grabbing")?(t.removeState("holding-gun"),t.addState("hovering-gun"),this.dropGun(e.updateTarget("holding-gun","hovering-gun"))):t.is("holding-gun")&&t.is("shooting")&&(t.removeState("shooting"),this.shootGun(e.getTarget("holding-gun")))}},grabGun(t,e){zzfx(1,.05,43,0,.44,.03,1,1.8,-18,-58,0,0,.01,.4,0,.1,0,.77,.11,0,0),t.addState("grabbed"),t.setAttribute("sync-stance",{src:"#"+e.id}),t.setAttribute("gun",{pointDown:this.el.is("vr-mode")}),t.setAttribute("raycaster",{enabled:!0}),t.setAttribute("gravity",!1)},dropGun(t){zzfx(1,.05,43,0,.44,.03,1,1.8,-18,-58,0,0,.01,.4,0,.1,0,.77,.11,0,0),t.removeState("grabbed"),t.removeAttribute("sync-stance"),t.setAttribute("raycaster",{enabled:!1}),t.setAttribute("gravity",!0)},shootGun(t){if(t.components.raycaster.data.enabled){zzfx(1,.05,62,.01,.07,.4,2,2.8,6,-8,0,0,0,1.4,28,.4,0,.4,.1,.46,181);const e=document.querySelector("#world"),i=t.components.raycaster.getIntersection(e).normal,s={x:-i.x,y:-i.y,z:-i.z},o=document.createElement("a-bullet"),a=t.getAttribute("rotation"),n=new THREE.Vector3(0,-.22,-.08),r=t.object3D.localToWorld(n);o.setAttribute("position",`${r.x} ${r.y} ${r.z}`),o.setAttribute("rotation",`${a.x} ${a.y} ${a.z}`),o.setAttribute("linear-motion",{direction:`${s.x} ${s.y} ${s.z}`}),o.setAttribute("health",{group:t.components.health.data.group}),this.el.systems.level.activeLevel.appendChild(o)}}}),GRAVITY=.49,FLOOR_HEIGHT=.1,AFRAME.registerSystem("puppeteer",{init(){this.playerLimbs=[...document.querySelectorAll("[motion-tracker]")],this.retry=document.querySelector("#retry"),this.el.addEventListener("tick",(t=>this._tick(t.detail.time,t.detail.timeDelta))),this.el.addEventListener("child-attached",(t=>{this.trackEntity(t.detail.el)})),this.el.addEventListener("child-detached",(t=>{this.untrackEntity(t.detail.el)}))},_tick(t,e){for(let t of this.gravitas)t.getAttribute("gravity")&&t.object3D.position.y>.1&&(t.object3D.position.y=Math.max(.1,t.object3D.position.y-.49*e));for(let t of this.walkers){const i=t.components["linear-motion"],{speed:s,direction:o,distanceTravelled:a}=i.data,n=s*e,r=o.x*n,l=o.y*n,h=o.z*n;t.object3D.position.x+=r,t.object3D.position.y+=l,t.object3D.position.z+=h,t.setAttribute("linear-motion",{distanceTravelled:a+Math.sqrt(r*r+l*l+h*h)})}for(let t of this.sinWalkers){const i=t.components["sinlinear-motion"];let{speed:s,direction:o,alpha:a}=i.data;a+=Math.PI*e;const n=s*e*Math.sin(a),r=o.y*n,l=o.z*n;t.object3D.position.x+=o.x*n,t.object3D.position.y+=r,t.object3D.position.z+=l,t.setAttribute("sinlinear-motion",{alpha:a})}for(let t of this.spinners){const i=t.components["spin-motion"],{speed:s,direction:o}=i.data,a=s*e;t.object3D.rotation.x+=o.x*a,t.object3D.rotation.y+=o.y*a,t.object3D.rotation.z+=o.z*a}for(let t of this.puppets)t.components.health.data.hp||(zzfx(2.1,.05,315,.02,.02,.25,3,2.2,0,0,0,0,.02,0,32,.1,.17,.7,.07,.42,-1696),this.puppets=this.puppets.filter((e=>e!==t)));if(this.puppets.length){if(!this.retry.getAttribute("visible"))for(limb of this.playerLimbs)if(!limb.getAttribute("health")?.hp){this.showRetry();break}}else this.showNextLevelPortal()},showNextLevelPortal(){this.el.is("level-cleared")||(this.el.addState("level-cleared"),this.el.removeState("game-time-tracked"),this.el.is("title")||this.el.is("end")?(speak("Super. Fright!"),this.speakInterval=setInterval((()=>{speak("Super. Fright!")}),7500)):setTimeout((()=>{zzfx(1.7,.05,281,.04,.13,.35,0,1.7,0,-22,227,.09,.09,.3,0,0,.17,.6,.21,.28,-1463),this.portal.setAttribute("visible",!0)}),1e3))},showRetry(){this.el.is("game-over")||(this.el.addState("game-over"),zzfx(1,.05,148,.02,.01,.18,3,.2,.1,.8,0,-.05,0,.1,-4,.3,0,.68,.08,.01,103),setTimeout((()=>{zzfx(1.7,.05,507,.07,.23,.17,0,2.5,0,7,-85,.07,.02,0,0,0,.15,.72,.15,0,0),this.retry.setAttribute("portal",{to:"#"+this.el.systems.level.activeLevel.id}),this.retry.setAttribute("visible",!0)}),1e3))},stopSpeak(){this.speakInterval&&(clearInterval(this.speakInterval),this.speakInterval=0)},reset(){this.walkers=[...document.querySelectorAll(`#${this.el.systems.level.activeLevel?.id} [linear-motion]`)],this.sinWalkers=[...document.querySelectorAll(`#${this.el.systems.level.activeLevel?.id} [sinlinear-motion]`)],this.spinners=[...document.querySelectorAll(`#${this.el.systems.level.activeLevel?.id} [spin-motion]`)],this.gravitas=[...document.querySelectorAll(`#${this.el.systems.level.activeLevel?.id} [gravity]`)],this.puppets=[...document.querySelectorAll(`#${this.el.systems.level.activeLevel?.id} [puppet]`)],this.portal=document.querySelector(`#${this.el.systems.level.activeLevel?.id} a-portal`)},trackEntity(t){t.components["linear-motion"]&&this.walkers.push(t),t.components["spin-motion"]&&this.spinners.push(t),t.components["sinlinear-motion"]&&this.sinWalkers.push(t),t.components.gravity&&this.gravitas.push(t)},untrackEntity(t){t.components["linear-motion"]&&(this.walkers=this.walkers.filter((e=>e!==t))),t.components["spin-motion"]&&(this.spinners=this.spinners.filter((e=>e!==t))),t.components["sinlinear-motion"]&&(this.sinWalkers=this.sinWalkers.filter((e=>e!==t))),t.components.gravity&&(this.gravitas=this.gravitas.filter((e=>e!==t)))}}),AFRAME.registerSystem("level",{init(){this.hands=document.querySelectorAll("[gesture-tracker]");const t=this.el;t.addEventListener("loadlevel",(t=>this.loadLevel(t.detail.levelId))),t.addEventListener("loaded",(()=>{const t=new URLSearchParams(location.search).get("levelId")||"#title";this.loadLevel(t)}))},loadLevel(t){let e=this.activeLevel;e&&"#"+e.id===t?location.search="?levelId="+t:(e&&this.toggleLevel(e,!1),e=document.querySelector(t),this.toggleLevel(e,!0),this.activeLevel=e,this.hands.forEach((t=>{t.components["gesture-tracker"]?.reset()})),this.el.systems.puppeteer.reset(),this.el.emit("level-loaded",{level:e}))},toggleLevel(t,e){t.setAttribute("level",{active:e});const i=this.el;i[e?"addState":"removeState"](t.id),i[t.getAttribute("level").gameTimeTracked?"addState":"removeState"]("game-time-tracked"),i.removeState("level-cleared"),i.removeState("game-over"),i.systems.puppeteer.stopSpeak()}})})();</script></head><body><a-scene><a-entity id=title level><a-text value="SUP3RFR1GHT VR" align=center color=#ef2d5e font=monoid width=20 position="0 2.5 -5"></a-text><a-text value="A GAME BY JEROME LECOMTE FOR JS13K 2024" position="0 1.8 -5" align=center font=monoid width=5></a-text><a-text value="press GRIP to GRAB objects\npress TRIGGER to shoot or punch" position="0 0.5 -5" align=center color=black font=monoid width=5 height=2></a-text><a-portal to=#level_1 text-value=GRAB text-width=1.75 position="0 1 -0.65"></a-portal></a-entity><a-entity id=level_1 level="gameTimeTracked: true"><a-gun position="0 1.2 -0.5" gravity health="group: friend"></a-gun><a-portal position="0 1 -0.65" to=#level_2 text-value=GRAB text-width=1.75 visible=false></a-portal><a-tetrahedron puppet radius=1 color=#ef2d5e position="0 1.25 -3" rotation="0 -45 0" spin-motion="direction: 1 1 1; speed: 2" health="group: foe" dynamic-collider="size: 1"></a-tetrahedron><a-cylinder radius=4 height=30 segments-radial=4 segments-height=1 theta-start=45 geometry="openEnded: true" material="color: #f7fafd; side: back; flatShading: true" position="0 2 0" rotation="-90 0 0"><a-text value="TIME MOVES\nWHEN YOU MOVE" align=center font=monoid width=12 position="0 5.5 1" rotation="90 0 0"></a-text></a-cylinder></a-entity><a-entity id=level_2 level="gameTimeTracked: true"><a-portal position="0 1 -0.65" to=#level_3 text-value=GRAB text-width=1.75 visible=false></a-portal><a-box puppet color=#ef2d5e position="0 1 -2" spin-motion="direction: 1 0 0.5; speed: 2" sinlinear-motion="direction: 0 0 1" health="group: foe" dynamic-collider></a-box><a-cylinder radius=4 height=30 segments-radial=5 segments-height=1 geometry="openEnded: true" material="color: #f7fafd; side: back; flatShading: true" position="0 2 0" rotation="-90 0 0"><a-text value="PUNCH THRU" align=center font=monoid width=15 position="0 5.5 1" rotation="90 0 0"></a-text></a-cylinder></a-entity><a-entity id=level_3 level="gameTimeTracked: true"><a-portal position="0 1 -0.65" to=#level_4 text-value=GRAB text-width=1.75 visible=false></a-portal><a-octahedron position="0 0.9 -5" radius=1 scale="0.5 1 0.5" material="color: #ef2d5e; flatShading: true" puppet health="group: foe" dynamic-collider linear-motion="direction: 0 0 1; speed: 0.8" spin-motion="direction: 0 1 0; speed: 1"></a-octahedron><a-entity position="-0.4 1.24 -4.5" rotation="90 0 0" linear-motion="direction: 0.15 0 1; speed: 2.5"><a-pyramid scale="0.25 0.6 0.25" rotation="0 45 0" color=#ef2d5e spin-motion="direction: 0 -1 0; speed: 2" puppet dynamic-collider health="group: foe" ttl=5></a-pyramid></a-entity><a-entity position="0.4 1.24 -4.5" rotation="90 0 0" linear-motion="direction: -0.15 0 1; speed: 1.5"><a-pyramid scale="0.25 0.6 0.25" rotation="0 45 0" color=#ef2d5e spin-motion="direction: 0 1 0; speed: 2" puppet dynamic-collider health="group: foe" ttl=5></a-pyramid></a-entity><a-cylinder radius=4 height=30 segments-radial=6 segments-height=1 theta-start=30 geometry="openEnded: true" material="color: #f7fafd; side: back; flatShading: true" position="0 2 0" rotation="-90 0 0"><a-text value="MOVE YOUR BODY" align=center font=monoid width=15 position="0 5.5 1" rotation="90 0 0"></a-text></a-cylinder></a-entity><a-entity id=level_4 level="gameTimeTracked: true"><a-gun position="-0.35 1.2 -0.4" gravity health="group: friend"></a-gun><a-gun position="0.35 1.2 -0.4" gravity health="group: friend"></a-gun><a-portal position="0 1 -0.65" to=#last_level text-value=GRAB text-width=1.75 visible=false></a-portal><a-entity position="0 2 -3" spin-motion="direction: 0 -0.5 0" sinlinear-motion="direction: 0 -1 0"><a-dodecahedron radius=0.5 material="color: #ef2d5e; flatShading: true" spin-motion="direction: 1 -1 0; speed: 2" puppet sniper="firstShotDelay: 1.5" dynamic-collider health="group: foe"></a-dodecahedron><a-entity rotation="0 0 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 45 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 90 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 135 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 180 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 -45 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 -90 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity><a-entity rotation="0 -135 0"><a-pyramid width=0.25 depth=0.25 position="0.75 0 0" sinlinear-motion="direction: 2.5 0 0" rotation="180 135 45" color=#ef2d5e puppet dynamic-collider health="group: foe"></a-pyramid></a-entity></a-entity><a-box width=12 depth=12 height=5 color=#f7fafd material="side: back" position="0 2.5 -4"><a-box width=1 depth=1 height=5 color=#f7fafd position="3 0 3"></a-box><a-box width=0.5 depth=6 height=0.5 color=#f7fafd position="-3 1.4 0"></a-box><a-box width=1 depth=1 height=5 color=#f7fafd position="3 0 -3"></a-box><a-box width=1 depth=1 height=5 color=#f7fafd position="-3 0 3"></a-box><a-box width=0.5 depth=6 height=0.5 color=#f7fafd position="3 1.4 0"></a-box><a-box width=1 depth=1 height=5 color=#f7fafd position="-3 0 -3"></a-box><a-text value="JAIL SUBJECT 13\nKNOWS" align=center font=monoid width=15 position="0 1 -5"></a-text></a-box><a-plane height=12 width=12 position="0 0.01 -4" rotation="-90 0 0"></a-plane></a-entity><a-entity id=last_level level="gameTimeTracked: true"><a-gun position="0 1.5 -0.75" gravity health="group: friend"></a-gun><a-portal position="0 1 -0.65" to=#end text-value=GRAB text-width=1.75 visible=false></a-portal><a-entity position="0 1.25 -5" spin-motion="direction: 0 0 1; speed: 4" linear-motion="direction: 0 0 1; speed: 0.33" sinlinear-motion="direction: -1 0 0"><a-torus-knot p=5 q=11 radius=0.25 radius-tubular=0.05 material="color: #ef2d5e; flatShading: true" puppet sniper="firstShotDelay: 0.25; frequency: 0.75" health="group: foe" dynamic-collider><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35 0" color=#ef2d5e></a-pyramid><a-entity rotation="0 0 60"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 120"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 180"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 240"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 300"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity></a-torus-knot></a-entity><a-entity position="-6 1.25 -4" spin-motion="direction: 0 0 1; speed: 4" linear-motion="direction: 1.25 0 1; speed: 0.33" sinlinear-motion="direction: -1 0 0" rotation="0 55 0"><a-torus-knot p=5 q=11 radius=0.25 radius-tubular=0.05 material="color: #ef2d5e; flatShading: true" puppet sniper="firstShotDelay: 0.75; frequency: 1.5" health="group: foe" dynamic-collider><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35 0" color=#ef2d5e></a-pyramid><a-entity rotation="0 0 60"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 120"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 180"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 240"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 300"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity></a-torus-knot></a-entity><a-entity position="6 1.25 -4" spin-motion="direction: 0 0 1; speed: 4" linear-motion="direction: -1.25 0 1; speed: 0.33" sinlinear-motion="direction: -1 0 0" rotation="0 -55 0"><a-torus-knot p=5 q=11 radius=0.25 radius-tubular=0.05 material="color: #ef2d5e; flatShading: true" puppet sniper="firstShotDelay: 0.55; frequency: 1.5" health="group: foe" dynamic-collider><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35 0" color=#ef2d5e></a-pyramid><a-entity rotation="0 0 60"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 120"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 180"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 240"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity><a-entity rotation="0 0 300"><a-pyramid width=0.1 depth=0.1 height=0.5 position="0.45 0 0.45" rotation="90 35" color=#ef2d5e></a-pyramid></a-entity></a-torus-knot></a-entity><a-plane height=100 width=100 rotation="-90 0 0"></a-plane><a-box width=1 depth=0.2 height=1 color=#f7fafd position="-5 0.5 -5" rotation="0 0 10"><a-cylinder color=#f7fafd height=0.2 radius=0.5 position="0 0.5 0" rotation="90 0 0"></a-cylinder><a-text value=JUST align=center font=monoid width=8 position="0 0.25 0.1"></a-text></a-box><a-box width=1 depth=0.2 height=1 color=#f7fafd position="-2 0.25 -4.5" rotation="0 -15 -5"><a-cylinder color=#f7fafd height=0.2 radius=0.5 position="0 0.5 0" rotation="90 0 0"></a-cylinder><a-text value=SHOOT align=center font=monoid width=7 position="0 0.25 0.1"></a-text></a-box><a-box width=1 depth=0.2 height=2 color=#f7fafd position="1.25 1 -6.5" rotation="0 10 0"><a-text value=13 align=center font=monoid width=12 position="0 0.25 0.1"></a-text></a-box><a-box width=1.2 depth=0.2 height=1.2 color=#f7fafd position="2.5 0.6 -4" rotation="0 10 0"><a-cylinder color=#f7fafd height=0.2 radius=0.5 position="0 0.4 0" rotation="90 0 0"></a-cylinder><a-text value=KNUCKLE-\nHEADS! align=center font=monoid width=5 position="0 0.25 0.1"></a-text></a-box><a-box width=1.5 depth=0.25 height=0.75 position="0 0.375 -1" color=#f7fafd><a-cylinder color=#f7fafd height=0.25 radius=0.5 position="0 0.4 0" rotation="90 0 0" health="group: friend; hp: 999" dynamic-collider></a-cylinder><a-text value="GOD\nALL MIGHTY\nEXTERMINATE\nSWIFTLY" align=center font=monoid width=3 height=10 position="0 0.4 0.15"></a-text></a-box><a-box width=1 depth=0.2 height=1 color=#f7fafd position="-2 0.55 -2.5" rotation="0 0 -5"></a-box><a-box width=1 depth=0.2 height=1 color=#f7fafd position="4.5 0 -1.25" rotation="0 -35 -10"><a-cylinder color=#f7fafd height=0.2 radius=0.5 position="0 0.5 0" rotation="90 0 0"></a-cylinder></a-box><a-box width=1 depth=0.2 height=2.5 color=#f7fafd position="-4.25 0 -1.5" rotation="0 40 15"><a-cylinder color=#f7fafd height=0.2 radius=0.5 position="0 1.7 0" rotation="90 0 0"></a-cylinder></a-box><a-box width=4 depth=5 height=5 color=#f7fafd position="-8 3.5 -15" rotation="0 10 0"><a-box width=5 depth=6 height=0.5 color=#f7fafd position="0 3.25 0"></a-box><a-box width=4.5 depth=5.5 height=0.5 color=#f7fafd position="0 2.75 0"></a-box><a-box width=4.5 depth=5.5 height=0.5 color=#f7fafd position="0 -2.75 0"></a-box><a-box width=5 depth=6 height=0.5 color=#f7fafd position="0 -3.25 0"></a-box><a-box width=1 depth=0.5 height=4 color=#f7fafd position="0 5 2.5"></a-box><a-box width=3 depth=0.5 height=1 color=#f7fafd position="0 5.5 2.5"></a-box></a-box><a-circle radius=50 position="200 250 -250" rotation="0 -25 0"></a-circle><a-box width=50 depth=0.1 height=5 color=#f7fafd position="0 2.5 -25"></a-box><a-box width=50 depth=0.1 height=5 color=#f7fafd position="-15 2.5 0" rotation="0 90 0"></a-box><a-box width=50 depth=0.1 height=5 color=#f7fafd position="15 2.5 0" rotation="0 90 0"></a-box><a-box width=75 depth=0.1 height=5 color=#f7fafd position="0 2.5 5"></a-box></a-entity><a-entity id=end level><a-text value="SUP3RFR1GHT VR" align=center color=#ef2d5e font=monoid width=20 position="0 2.5 -5"></a-text><a-text value="THANK YOU FOR PLAYING!" align=center color=black font=monoid width=8 position="0 1.6 -5"></a-text><a-text value="NO 3D SHAPES WERE HARMED\nIN THE MAKING OF THIS GAME\n(IT'S ALL VIRTUAL ANYWAY)" align=center color=black font=monoid width=8 position="0 0.25 -5.5"></a-text></a-entity><a-portal id=retry position="0 1 -0.65" text-value=RETRY text-width=1.4 visible=false></a-portal><a-sky color=#ddd></a-sky><a-sphere id=world color=blue radius=1000 material="shader: flat; wireframe: true; side: back"></a-sphere><a-camera motion-tracker health="group: friend" obb-collider="size: 0.2"></a-camera><a-entity id=left hand-controls="hand: left; handModelStyle: toon" position="-0.5 1 0" health="group: friend" obb-collider="size: 0.1" motion-tracker gesture-tracker><a-text value=1 color=black font=monoid align=center width=1 position="-0.028 0.05 0" rotation="185 90 0"></a-text></a-entity><a-entity id=right hand-controls="hand: right; handModelStyle: toon" position="0.5 1 0" health="group: friend" obb-collider="size: 0.1" motion-tracker gesture-tracker><a-text value=3 color=black font=monoid align=center width=1 position="0.028 0.05 0" rotation="185 -90 0"></a-text></a-entity></a-scene></body></html>