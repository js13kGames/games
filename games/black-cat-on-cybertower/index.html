<!doctype html><title>Black Cat on Cybertower</title><meta content="width=device-width,user-scalable=no" name=viewport><style>*{margin:0;padding:0;user-select:none;-moz-user-select:none;-webkit-user-select:none;font-family:'Courier New',Courier,monospace}body{overflow:hidden;background:#0e1e29;transition:all 5s}#cnvs{pointer-events:none;image-rendering:pixelated;transition:filter 5s}#restart{opacity:0;position:absolute;bottom:0;padding:20px;color:#fff;width:100%;font-weight:700;cursor:pointer;transition:5s;pointer-events:none}.gameover+#restart{opacity:1;pointer-events:all}</style><canvas id=cnvs></canvas><div id=restart onclick=location.reload()>>> __HIGHEST: <span id=record></span><br>>> CLICK TO RESTART â– </div><script>const t=new Image;t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAABuCAMAAAB7ho3NAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAbdEVYdFNvZnR3YXJlAENlbHN5cyBTdHVkaW8gVG9vbMGn4XwAAAAJcEhZcwAACxIAAAsSAdLdfvwAAABmUExURUdwTP///////////////////////////////////////////////////////////15ocv///////////////15ockdSXXyDiy4zOV5ocgD/AP/XAAD/5nmNjlk1Jmx+kHRMO3uFj+Oq+O8AAAAWdFJOUwBaNVlGljYnG26DgqqXq0f+HG0mrP0844E0AAAI/UlEQVR42u2ciWLbNgxAuS1d263tsgsUeq7//5MTTxwED9mOkzilIguGKJlP4AmRcXjDwXXPeH/FZPgUlHgkwiE4v22+l45GBzFIqcgUBnH3X9vyDzJRJmccIYcvezgdzhs3hi1unktVpi1p8224tIeYYNQiC9MI379/X4YD76HD1tABbLhvMcFFqlrargeXCftlDgCX4VLqPZeqTNsV4L4twnVz69O03BcB920Px+Egljl4epbLcIHpZLhQFtvCqOtpUX3XMIp7PlzMietw/3bKIizHvT/w1I7cYXrfDHePDxPuz6Y9/w4Obzi4tp+VvutcXYqJpZ12QGZabwSjk6PKrOz51O8Ux7UNWvqu4UrSTC1rHkg+oAUj5CTyHyuNEab6GrhaHP0WO1juWBveiXsuXL9N5TVzgcOgZvaXbCHpPt3Y9YYBMBwcSLv60Fh5LQutp4zNWgW7G063ZXD1umATgxmhbZpcz1YwtKDKtMCikcy19n2K0i5z8VCL0ZbtWAW6Uj+0nM9PrS1VUrtws2zeGRxloHqMcD4VtUQBOutmZroaBrWl1iZbFYvRIzfSDkZGOVSGLXYymKh5fcmjVm7t1pZaK+HoZ3U2VmX7PDh2PTeYqBeL5VBYLuK7gxkRDJYB3EyJozInMixvIHVzAahz69EeygTugBGw46awnBILD93oHVyw+8UeLC/QZoIPaLvWNA1tRXXnJ4JKaeMKQl7v8UeBrE5TtqvDDl923/q7lKY2HDKqC90EUHscdUYphFbLz3hVoSPHoAFS0+JBaihAaDO3aR/kY9ux9UqUCOdNOG/C+TEc5+ApRd2lAFClkOUO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";let i=new AudioContext,e=(t=1,e=.05,h=220,n=0,a=0,o=.1,s=0,l=1,r=0,g=0,c=0,d=0,w=0,f=0,y=0,m=0,A=0,u=1,p=0,F=0,P=0)=>{let M=Math,x=2*M.PI,v=44100,b=r*=500*x/v/v,I=h*=(1-e+2*e*M.random(e=[]))*x/v,E=0,S=0,D=0,k=1,V=0,z=0,T=0,X=P<0?-1:1,L=x*X*P*2/v,R=M.cos(L),U=M.sin,H=U(L)/4,C=1+H,O=-2*R/C,Z=(1-H)/C,B=(1+X*R)/2/C,G=-(X+R)/C,q=B,K=0,Y=0,W=0,N=0;for(g*=500*x/v**3,y*=x/v,c*=x/v,d*=v,w=v*w|0,t*=.3,X=(n=v*n+9)+(p*=v)+(a*=v)+(o*=v)+(A*=v)|0;D<X;e[D++]=T*t)++z%(100*m|0)||(T=s?1<s?2<s?3<s?U(E**3):M.max(M.min(M.tan(E),1),-1):1-(2*E/x%2+2)%2:1-4*M.abs(M.round(E/x)-E/x):U(E),T=(w?1-F+F*U(x*D/w):1)*(T<0?-1:1)*M.abs(T)**l*(D<n?D/n:D<n+p?1-(D-n)/p*(1-u):D<n+p+a?u:D<X-A?(X-D-A)/o*u:0),T=A?T/2+(A>D?0:(D<X-A?1:(X-D)/A)*e[D-A|0]/2/t):T,P&&(T=N=q*K+G*(K=Y)+B*(Y=T)-Z*W-O*(W=N))),E+=(L=(h+=r+=g)*M.cos(y*S++))+L*f*U(D**5),k&&++k>d&&(h+=c,I+=c,k=0),!w||++V%w||(h=I,r=b,k=k||1);(t=i.createBuffer(1,X,v)).getChannelData(0).set(e),(h=i.createBufferSource()).buffer=t,h.connect(i.destination),h.start()};const h=document.getElementById("cnvs"),n=Math.round(window.innerWidth/500);h.width=window.innerWidth/n,h.height=window.innerHeight/n,h.style.zoom=`calc(${n} * 100%)`;const a=h.getContext("2d");a.imageSmoothingEnabled=!1;const o=(t,i,e,h)=>{t.beginPath(),t.arc(i,e,h,0,2*Math.PI),t.fill(),t.closePath()},s=document.createElement("canvas");s.width=h.width,s.height=h.height;const l=s.getContext("2d");l.fillStyle="white";for(let t=0;t<h.width*h.height/2e3;t++){let t=1*Math.random()+1;l.fillRect(Math.random()*h.width,Math.random()*h.height,t,t)}const r=s.toDataURL("image/png");h.style.backgroundImage=`url('${r}')`;const g=document.createElement("canvas");g.width=g.height=14;const c=g.getContext("2d");c.fillStyle="#00aaFF55",c.arc(7,7,7,0,2*Math.PI),c.fill(),c.fillStyle="#0088DD",c.fillRect(3,3,8,8),c.fillStyle="#00aaFF",c.fillRect(3,3,8,1),c.fillRect(4,3,4,7),c.beginPath(),c.fillStyle="#FFFFFF",o(c,7.5,8,1.5),c.fillRect(5,6,1,1),c.fillRect(7,5,1,1),c.fillRect(9,6,1,1),c.closePath();const d=g.toDataURL("image/png"),w=new Image;w.src=d;let f,y=0,m=0,A=0,u=!1,p=!1,F=0,P=100,M={text:"Reach the top!",transparency:255,warningDisplayed:!1},x=!1;const v=[{text:"0m",height:0},{text:"10m",height:1e3},{text:"100m",height:1e4},{text:"Eiffel Tower",height:33e3},{text:"Taipei 101",height:50800},{text:"Tokyo SKYTREE",height:63400},{text:"Burj Khalifa",height:82990},{text:"1km",height:1e5},{text:"Fuji",height:377624}];class b{constructor(t,i,e){this.angle=t,this.height=i,this.isFront=!0,this.initPoint=this.getInitPoint(),this.faceInitPoint=this.getFaceInitPoint(),this.faceType=Math.floor(79.9*Math.random()),this.blink=!0,this.isBlink=.1>Math.random(),this.type=e,this.isFood=Math.round(Math.random()+A/1e4)}getInitPoint(){return h.width/2-11+100*Math.sin((this.angle+y)*Math.PI/180)}getFaceInitPoint(){return h.width/2+110*Math.sin((this.angle+y)*Math.PI/180)}draw(){if(0===this.height||this.height<A||this.height-11>h.height+A)return;100*Math.random()<1&&(this.blink=!this.blink);let i=Math.cos((this.angle+y)*Math.PI/180);this.isFront=i>0;let e=64*i+16;if(a.fillStyle=`rgb(${e},${e},${e})`,this.initPoint=this.getInitPoint(),this.faceInitPoint=this.getFaceInitPoint(),a.save(),"energy"!==this.type){if(a.fillRect(this.initPoint,h.height+A-this.height,22,11.5),this.isFront&&(a.drawImage(t,Math.round(this.faceType)%10*22,11*Math.round(this.faceType/10),22,11,this.faceInitPoint-11*i-1,h.height+A-this.height,22*i+2,11),this.isBlink)){let t=this.faceInitPoint+this.faceType%10*i-1,e=h.height+A-this.height+this.faceType%8;a.fillStyle=this.blink?"#2F3338":M.warningDisplayed?"#FF0000":"#05ff00",a.fillRect(t,e,3,3),this.blink||(a.fillStyle+="55",o(a,t+2,e+2,6))}this.faceType<10&&a.drawImage(t,Math.round(this.faceType)%10*22,99.5,22,10,this.faceInitPoint-11*i-1,h.height+A-this.height-11+1,22*i+1,10),a.restore()}else this.isFood&&M.warningDisplayed&&a.drawImage(w,0,0,14,14,this.initPoint+5,h.height+A-this.height,14,14)}}class I{constructor(t,i){this.angle=t,this.height=i,this.isFront=!0,this.initPoint=this.getInitPoint()}getInitPoint(){return h.width/2+90*Math.sin((this.angle+y)*Math.PI/180)}draw(){let t=Math.cos((this.angle+y)*Math.PI/180);this.isFront=t>0,this.isFront&&0!==this.height&&!(this.height<A)&&!(this.height>h.height+A)&&(this.initPoint=this.getInitPoint(),a.fillStyle="#1a1a1a",a.fillRect(this.initPoint-1,h.height+A-this.height,22*t-1,11),a.beginPath(),a.strokeStyle="#000",a.moveTo(this.initPoint+11*t,h.height+A-this.height),a.lineTo(this.initPoint+11*t,h.height+A-this.height+5.5),a.strokeRect(this.initPoint-1,h.height+A-this.height+5.5,22*t,5.5),a.stroke(),a.closePath())}}const E=["000000000000000000000000000000","000000000000000000000000000000","000000000000000000000000000000","000000000000000000000000000000","000000000000000000000000000000","111111111111111111111111111111","000030030030030030030030030030"],S=[["0","021111110001111110000000002000","000000001110000001110000000000","000000000000000000001111000000","000111000000200000000000111111","111000111001110011100000000000","000000000010000030011111200000","100000000000000000000000011111"],["0","021001110000000011100000000010","000110001111111100011110011100","000000000000000000000000000000","000000200000000002002000000000","111111111111000111110000000111","000000000003000000000000000000","000000212000000000001111100000","001111000001111111000000000000","110000000000000000000000000000"],["0","001111111111220000221111111110","000000110001112222111000000000","000000000000011111100000000000","111100000000000000000000001111","000000000222222222222000000000","000000111111111111111111100000","000000000000030111000000000000","111000000000000000000000000111"],["0","000000000000000000000000000001","000000000000000000000000000010","000000000000000000000000000100","000000200002022000020000021000","000000000222220000222222210000","000022222222222222222222100000","000222222222222222222221000000","002222222222222222222210000000","000002222222222222222100000000","000022222222222222221000000000","000222222222222222210000000000","002222222222222222100000000000","000222222222222221000000000000","000022222222222210000000200000","000000222222222100000000000000","000022222222221000000000000200","000002222222210000000000000000","200000222222100000020000000022","220000222221000000000000002222","222000002210000000000002222222","222200022100000000000000022222","220000221000000000000002222222","222002210000000000022222222222","222002100000002000002222222222","220021000000000000022222222222","002210000000000022222222222222","022100000000000111122222222222","221000222222111222211111222222","210000000000000000000000111122","100000000000000000000000000011"],["0","000000000000000000000000000001","000000000000000000000000000010","000000000000000000000000000100","000000000000000000000000001000","000000000000000000000000210000","000000000000000000000000200000","000000000000000000000001000000","000000000000000000000010000000","000000000000000000002100000000","000000000000000000002000000000","000000000000000000010000000000","000000000000000000100000000000","000000000000000021000000000000","000000000000000020000000000000","000000000000000100000000000000","000000000000001000000000000000","000000000000210000000000000000","000000000000200000000000000000","000000000001000000000000000000","000000000010000000000000000000","000000000100000000000000000000","000000021000000000000000000000","000000020000000000000000000000","000000100000000000000000000000","000001000000000000000000000000","000010000000000000000000000000","000100000000000000000000000000","001000000000000000000000000000","010000000000000000000000000000","100000000000000000000000000011"],["0","000000000000000000000000000001","000000000000002000000000000010","000000000000010000000000000100","000000000000100000000000001000","000000000001000011112111110000","000000000010021100000000000000","000000000200003000000002000000","000000001000000000000020000000","000000010000000000002200000000","000000100000000000002000000000","000002000000000000010000000000","000010000000000000100000000000","002100000000000021002112100000","111000000000000020000000011211","000000000000000100000000000000","100000000000001000000000000000","000000000000210000000000000001","000000000000200000000000000010","000000000001000000000000000200","000000000010000000000000001000","000000000100000000000000020000","112111111000000000000000100000","000000000000000000000021002111","000000100000000000000010000000","000001000000000000000200000000","000010000000000000001000000000","000100000000000000010000000000","001000000000000000200000000000","010000000000000001000000000000","100000000000000000000000000011"],["0","010000000000000000000000000000","001220000000000000000000000000","000122000000000000000000000000","000012222222222222222222000000","000001222222222222222222200000","000000122222222222222222222000","000000012222222222222222200000","000000001222222222222222200000","000000000122222222222222000000","200000000012222222222222220000","000000000001222222222222200000","002000000000122222222222220000","000000000000012222222222200000","220002000000001222222222200000","000000000000000122222222220000","022200000000000012222222222200","002000200000000001222222222000","000000000000000000122222222200","000022222000000000012222222000","000000000222200000001222220000","002200022222200000000122200000","000000222222222200000012220000","000022222222222222000001220000","00022222222222222222000012200","002222222222222222222000012000","022222222222222222222200001200","022222222222220000000000000120","221111111122220002222220000012","200100000011111110000000000001","111000000000000000000000000000"],["0","010000000000000000000000000000","001000000000000000000000000000","000120000000000000000000000000","000020000000000000000000000000","000001000000000000000000000000","000000120000000000000000000000","000000020000000000000000000000","000000001000000000000000000000","000000000100000000000000000000","000000000010000000000000000000","000000000001200000000000000000","000000000000200000000000000000","000000000000010000000000000000","000000000000001000000000000000","000000000000000100000000000000","000000000000000012000000000000","000000000000000002000000000000","000000000000000000100000000000","000000000000000000010000000000","000000000000000000001000000000","000000000000000000000120000000","000000000000000000000020000000","000000000000000000000001000000","000000000000000000000000100000","000000000000000000000000010000","000000000000000000000000001000","000000000000000000000000000100","000000000000000000000000000010","000000000000000000000000000001","111000000000000000000000000000"],["0","010000000000000000000000000000","001000000000000001000000000000","000120000000000000100000000000","000020000000000000012000000000","000001000000000000002000000000","000000111111100000000100000000","000000000000011211120010000000","000000001000000000000001200000","000000000100000000000000200000","000000000010000000000000010000","000000000001200000000000001000","000000000000200000000000000100","000000000000010000000000000012","000000000000001000000000000002","100000000000000200000000000000","010000000000000012000000000000","001000000000000001000000000000","000111110000000000100000000000","000000001111100000010000000000","000001000030011112001000000000","000000100000000000000120000000","000000010000000000000020000000","000000001000000000000001000000","000000000100000000000000100000","000000000012000000000000010000","000000000002000000000000001000","000000000000100000000000000100","000000000000010000000000000010","000000000000001000000000000001","111000000000000000000000000000"],["0","001112000000000000000000000000","000001112200000000000000000000","000000001112222000000000000000","000000000001112222220000000000","000000000000001112222220000000","222200000000000001112222000000","002222222000000000001112220000","000002222220000000000301112220","000000000000000000000000001110","110000000000000000000000000001"],["0","000000000000000000000000001110","000000000000000000002221110000","000000000000000222221110000000","000000000002222221110000000000","000000002222221110300000000000","000000022221110000000000022222","000002221110000000000222222200","002221110000000022222222000000","001110000000000000000000000000","110000000000000000000000000001"],["0","001111220000000000000000000000","000000111122000000220000222200","000000000011112200000022000000","000000000003001111222000000000","00222000000000000111122000000","000022222000000000000011112200","000000002222000000000000001111","110000000000000000000000000000"],["0","000000000000000000000002211110","000022200002200000022111100000","002220000000000221111000000000","000000000002211110000000000000","000000022111100000000022220000","000221111000000000022222222000","211110030000000022222000220002","100000000000000000000000000001"],["0","001111111111111111111111111111","000000000000000000000300000000","000111111111111111110001111110","222122222222222222100012222212","222222222222222221000122222222","222222222222222210001222222222","222222222222222100012222222222","222222222222221000122222222222","222222222222210001222222222222","222222222222100012222222222222","222221111221000122211111122222","111111001110001111122222211111"],["0","001111111111111111111111111110","000122222222222222022222221221","100012222222222222022222221222","210001222222222222022222221222","221000122222222222022222221222","222100012222222222022222221222","222210031222222222022222221222","222221000122222222022222221222","222222100012222222022222221222","222222210001222222022222221222","211111221000122222022111111222","112221111100011111111122221111"],["0","001111111111111111111111111110","000000000000000000000000000011","100000000000000022222222220001","111111111111111112222222222000","100000000000000000000000000001","000222222222200000000000000011","002222222222111111111111111110","000000000000003000000000000011","100000000000000022222222220001","111111111111111112222222222000","100000000000000000000000000001","000222222222200000000000000011","002222222222111111111111111110","000000000000000000000000000011","000000000002222222222222220001","111111111111222222222222222000"],["0","001000000011100000111110000000","000122222100012221000001222222","100012221000001110000000122222","210001110000000300000000012222","221000000011100000111110001222","222100000122211111222221000122","222211111222222222222222100012","000000000000000000000001000001","110000000000000000000000000000"],["0","001000000011100000111110000000","000100000100010001000001000001","100010001000001110000000100000","010001110000000000000000010000","001000300011100000111110001000","000100000100011111000001000100","000011111000000000000000100010","000000000000000000000001000001","110000000000000000000000000000"],["0","000000000000000000000000000110","000000000000000000000000211000","000211111000001111000000000000","100000000000110000112000000011","011200000000000000000000000000","000000000011000000001110000000","000001111100002222000001111000","000000000000000000000000000000","000000000200000000002200000000","000000000011120000000000000000","000000000000002111120000000000","021111120000000000002111111110","000030000000000000000000000000","000000000002111111200000211200","000000000000000000000000000000","000000000000211122112211200000","000000111112000000000000000100","002112000000000000000000000010","110000000000000000000000000001"],["0","001000000000000000011110000010","012222222222222222100001222100","122222222211222221000000111000","222222222100122210000000000001","222222221000011100011110000012","222222210000003000122221000122","222222100011000001222222111222","222221000122100012222222212222","222210001222111222222222221222","222100012222222222222222222122","221000100000000000000000000012","210000010000000000000000000001","100000000000000000000000000000"],["0","001000000000000000011110000010","010000000000000000103001000100","100000000011000001000000111000","000000000100100010000000000001","000000001000011100011110000010","000000010000000000100001000100","000000100011000001000000111000","000001000100100010000000020000","000010001000011100000000001000","000100010000000000000000000100","001000100000000000000000000010","010000010000000000000000000001","100000000000000000000000000000"],["0","001111111111111111111111111110","000000000000000000000000000000","000000000000000000000000000000","112111121111111001112111112111","000000000000000000000000000000","000000000000000000000000000000","011122111121111112111112211110","000000000000000000000000000000","000000000000000000000000000000","111111122111001111112211111111","000000000000000003000000000000","000000000000000000000000000000","111122111111111122111112111100"],["0","001111111111111111111111111110","000000000000000000000000000000","000000000000000000000000000000","222201111222222222221112222222","000000300000000000000000000000","000000000000000000000000000000","222222220111122221110201112222","000000000000000000000000000000","000000000000000000000000000000","222222222222011110222222201112","000000000000000000000000000000","000000000000000000000000000000","110222222222222222222222222201"],["0","001001001001001001001001001001","000000000000000000000000000000","000000000000000000000000000000","100100100100100100100100100100","000000000000000300000000000000","000000000000000000000000000000","010010010010010010010010010010","000000000000000000000000000000","000000000000000000000000000000","100100000000000000000000000100"],["0","001111111111111111111111111110","000000000000000000020000000000","000000000000000000010000000000","111111111111111120010021111111","000000300000000000010000000000","000000000000000000010000000000","110002111111111111111111111111"],["0","001111111111111111111111111110","000000002000000000000000000000","000000001000000000000000000000","111112001002111111111111111111","000000001000000000000000000000","000000001000000000000000000000","111111111111111111111111112002","000000000000000000000020300000","000000000000000000000010000000","111111111111111111120011111111","000000000000002000000000000000","000000000000001000000000000000","110021111111111111111111111111"],["0","001100000000000000000000000110","000011000000000000000000011000","000000110000000000000001100000","111000001100000000000110000011","000110000011000000011000001100","000001100000110001100000110000","000000011000001110000011000000","000000000110000300001100000000","000000000001100000110000000000","000000000110000000001100000000","000000011000001110000011000000","000001100000110001100000110000","000110000011000000011000001100","011000001100000000000110000011","100000110000000000000001100000"],["0","001100000000000000000000000110","000011222222222222222222211000","000000112222222222222221100000","111000001122222222222110000011","222110000011222222211000001122","222221100000112221100000112222","222222211000001110000011222222","222222222110000300001122222222","222222222221100000112222222222","222222222110000000001122222222","222222211000001110000011222222","222221100000111111100000112222","222110000011222222211000001122","211000001122222222222110000011","100000112222222222222221100000"],["0","001111111111111111111111111110","000222222222222222222222222200","000000000000000000000000000000","111111111111111000111111111111","222222222222220000022222222222","000000000000000000000000000000","110001111111111111111111110001"],["0","001111111111111111111111111110","000222222222222222222222222200","000000000000000000000000000000","222222222222220000022222222222","111111111111111000111111111111","222222222222220000022222222222","000000000000000000000000000000","000000222222222222222222200000","110001111111111111111111110001"]];function D(t,i){return t.split("").map((t,e)=>new b(12*e,("1"===t?1:"2"===t?Math.round(Math.random()):"3"===t?1:0)*i*11,"3"===t?"energy":"block"))}const k=E.map((t,i)=>D(t,i)),V=E.map((t,i)=>t.split("").map((t,e)=>new I(12*e,("0"===t&&Math.random()>.5?1:0)*i*11))),z=new class{constructor(){this.height=h.height+k[5][0].height,this.velocity=1,this.inAir=!1,this.minHeight=this.height}jump(){!p&&(e(1,.5,210,.01,0,.05,0,3.6,0,65,0,0,0,0,0,0,0,.53,.06,0,0),this.velocity=-9,this.inAir=!0)}stop(){this.velocity=1,this.inAir=!1}draw(){this.velocity+=1,this.velocity>3&&(this.velocity=3),this.height+=this.velocity,this.minHeight=f?h.height+A-f?.height-4:h.height+A-k[5][0].height-4,this.height>this.minHeight&&(this.height=this.minHeight,this.stop()),a.fillStyle="#FFFFFF11",o(a,h.width/2,this.height,9),o(a,h.width/2,this.height,12),o(a,h.width/2,this.height,16),a.fillStyle="black",o(a,h.width/2,this.height,4),a.save(),a.strokeStyle="black",a.lineWidth=5,a.lineCap="round",a.moveTo(h.width/2+6*Math.sin(y+2.5),this.height+6*Math.cos(y+2.5)),a.lineTo(h.width/2,this.height),a.lineTo(h.width/2+6*Math.sin(y+3.5),this.height+6*Math.cos(y+3.5)),a.stroke(),a.restore(),a.fillStyle=`hsl(${Math.round(P)} 100% 50%)`,o(a,h.width/2+3*Math.sin(y+2),this.height+3*Math.cos(y+2),1.5),o(a,h.width/2+3*Math.sin(y+4),this.height+3*Math.cos(y+4),1.5)}},T={left:!1,right:!1};function X(t){"ArrowLeft"===t||"A"===t||"a"===t?T.right=!0:"ArrowRight"===t||"D"===t||"d"===t?T.left=!0:("ArrowUp"===t||"W"===t||"w"===t||" "===t)&&(x||u||z.inAir||z.jump(),u=!0)}function L(t){("ArrowUp"===t||"W"===t||"w"===t||" "===t)&&(u=!0),"ArrowLeft"===t||"A"===t||"a"===t?T.right=!1:("ArrowRight"===t||"D"===t||"d"===t)&&(T.left=!1)}function R(t){let i=Math.floor(t/1e5),e=Math.floor(t%1e5/100);return`${i?i+"km":""} ${e?e+"m":""} ${t%100+"cm"}`}document.addEventListener("keydown",t=>X(t.key)),document.addEventListener("keyup",t=>L(t.key)),document.addEventListener("pointerdown",t=>{t.preventDefault(),t.isPrimary?t.clientX<document.body.offsetWidth/2?X("A"):X("D"):(u||z.inAir||z.jump(),u=!0)}),document.addEventListener("pointerup",t=>{t.isPrimary&&(L("D"),L("A"),L("W"))}),document.addEventListener("touchmove",t=>t.preventDefault()),function t(){M.warningDisplayed&&(P-=.016+A/1e6),P<0&&(P=0,x=!0,h.style.filter="brightness(0)",h.classList.add("gameover"),localStorage.setItem("m_endless_tower",Math.max(localStorage.getItem("m_endless_tower"),F))),x&&(document.getElementById("record").innerText=R(localStorage.getItem("m_endless_tower"))),function(t){let i=k[((h.height+A-t.height)/11).toFixed()]?.filter(t=>t.isFront&&0!==t.height&&t.initPoint-4<h.width/2&&t.initPoint+22+4>h.width/2&&"energy"!==t.type);(f=i?.[0])&&(u=!1),F=Math.max(F,(f?.height||0)-50),M.warningDisplayed&&k[((h.height+A-t.height)/11+1).toFixed()]?.some(t=>"energy"===t.type&&t.isFood&&t.height>0&&t.isFront&&t.initPoint+16>h.width/2&&t.initPoint+8<h.width/2)&&(k[((h.height+A-t.height)/11+1).toFixed()].find(t=>"energy"===t.type&&t.isFood&&t.height>0&&t.isFront&&t.initPoint+16>h.width/2&&t.initPoint+8<h.width/2).height=0,e(...[.7,,632,.07,.26,.3,,3.8,,74,471,.08,.04,,,,,.97,.18,,-713]),(P+=30)>100&&(P=100)),k[((h.height+A-t.height+1)/11+1).toFixed()]?.filter(t=>t.isFront&&"energy"!==t.type&&0!==t.height&&t.initPoint-4<h.width/2&&t.initPoint+22+4>h.width/2).length>0?(t.velocity=3,p=!0):p=!1,k[((h.height+A-t.height)/11+1).toFixed()]?.some(t=>t.isFront&&0!==t.height&&t.initPoint-5<h.width/2&&t.initPoint+22>h.width/2&&"energy"!==t.type)?(y+=.1,m=0):k[((h.height+A-t.height)/11+1).toFixed()]?.some(t=>t.isFront&&0!==t.height&&t.initPoint+22<h.width/2&&t.initPoint>h.width/2-22-5&&"energy"!==t.type)&&(y-=.1,m=0)}(z),y+=m,y%=360,!x&&(T.left?m-=.3:T.right&&(m+=.3)),m>1&&(m=1),m<-1&&(m=-1),.1>Math.abs(m*=.9)&&(m=0),A>1e3&&!M.warningDisplayed&&(M.text="HUNGRY!",M.transparency=255,M.warningDisplayed=!0),x&&(document.body.style.backgroundColor="#000000",M.text="GAME OVER",M.transparency=255),z.height<h.height/2?A+=Math.abs(h.height/2-z.height)/30:z.height>h.height/3*2&&(A-=Math.abs(h.height/2-z.height)/30),11*E.length<A+h.height&&function(){let t=E.length,i=Math.floor(Math.random()*S.length);E.push(...S[i]);let e=S[i].map((i,e,h)=>D(i,e+t));k.push(...e);let h=S[i].map((i,e,h)=>i.split("").map((i,h)=>new I(12*h,("0"===i&&Math.random()>.5?1:0)*(e+t)*11,e%2==0)));V.push(...h)}(),h.style.backgroundPosition=` ${-10*y}px ${A}px`,a.clearRect(0,0,h.width,h.height),k.forEach(t=>t.filter(t=>!t.isFront).forEach(t=>t.draw())),a.fillStyle="#000",a.fillRect(h.width/2-90,0,180,h.height),V.forEach(t=>t.forEach(t=>t.draw())),z.draw(),k.toReversed().forEach(t=>t.filter(t=>t.isFront).toSorted((t,i)=>Math.abs(h.width/2-i.initPoint)-Math.abs(h.width/2-t.initPoint)).forEach(t=>t.draw()));let i=h.height-50+A;v.forEach(t=>{a.fillStyle="#FFF",a.fillRect(0,i-t.height,h.width/2-120,1),a.textAlign="left",a.font="20px Courier New",a.fillText(t.text,5,i-t.height-5)}),a.fillStyle="#10121c",a.fillRect(0,h.height+A-k[5][0].height+11,h.width,h.height-k[5][0].height),a.textAlign="left",a.font="20px Courier New",a.fillStyle="#000",a.fillText(R(F),1,21),a.fillStyle="#FFF",a.fillText(R(F),0,20),a.strokeStyle="#FFF",a.strokeRect(h.width-37,8,29,14),a.fillStyle=`hsl(${Math.round(P)} 100% 50%)`,a.fillRect(h.width-35,10,Math.max(0,P/4),10),M.text&&(a.textAlign="center",a.font=`bold calc(3vw + ${(255-M.transparency)/10}px) Courier New`,a.fillStyle="#FFFFFF"+M.transparency.toString(16),a.fillText(M.text,h.width/2,h.height/2),M.transparency-=1,M.transparency<17&&(M.text="")),requestAnimationFrame(t)}()</script>