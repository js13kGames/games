<body bgcolor=0 style=margin:0><canvas height=650 id=$ style="cursor:pointer;background:#75d1ff;background:radial-gradient(#75d1ff 50%,#3591bf)" width=1200></canvas><button id=Z onclick='window.open("http://twitter.com/home?status=I played the @js13kgames game GeoQuiz by @MaximeEuziere. My score: "+(A+1)+"levels, "+r+"km. Play here: http://xem.github.io/JS13k15")' style=display:none;position:absolute;top:570px;left:530px>Tweet tour score!</button><script>for(g="Cape canaveralChrist the redeemerThe great chinese wallThe great sphinxThe eiffel towerTower of pisaMount everestSagrada familiaBig benThe statue of libertyForbidden cityThe pyramids of gizaThe palace of versaillesAcropolisTrevi fountainKremlinLoch nessAtomiumLascaux cavesMont st. michelPiazza san marcoThe grand canyonMillau bridgeRock of gibraltarThe empire state buildingHollywood signTimes squareLouvre museumWhite houseFlorence cathedralLas vegasMadrid palaceCentral parkSistine chapelPiazza del campo1Machu picchuThe burj al arab hotelSt. peter's cathedralKilimanjaroCapitol hillLuxor templeGolden gate bridgeBurj khalifaAlcatrazEphesusManneken pisMount eden craterNorth capeSt. basil's cathedralVictoria fallsThe great buddhaLotus templeThe colosseumAbu simbelPetronas twin towersYellowstoneNiagara fallsThe taj mahalMount fujiMeccaAuschwitzStonehengeMount rushmorePentagonCape of good hopeOpera houseParc guellPompeiiDead sea1WaterlooEaster islandEvergladesCloud gateRialto bridgeWillis towerLittle mermaidTower bridgeThe blue mosqueNevado mismiTable mountainMinaret of jamAngkor watFaisal mosqueNeuschwanstein castleGolden temple of amritsarAl aqsa mosqueTemple of besakihChichen itzaBran castleHagia sophiaUluruBrandenburg gateBlue domed churchTaal lakeCheyenne mountainKiyomizu-deraPetraTombouctouKultury i nauki palace0AlgiersBuenos airesCanberraViennaBrusselsBrasiliaSofiaOttawaSantiagoBeijingZagrebHavanaPragueCopenhagenQuitoCairoTallinnHelsinkiParisBerlinAthensBudapestReykjavikNew delhiJakartaTehranBaghdadDublinJerusalemRomeKingstonTokyoBeirutVilniusLuxembourgSkopjeAntananarivoMexico cityMonacoRabatKathmanduAmsterdamWellingtonPyongyangOsloRamallahAsunciónLimaManilaWarsawLisbonBucharestDohaMoscowRiyadhSingaporeBratislavaLjubljanaPretoriaSeoulMadridStockholmBernTaipeiTunisAnkaraKyivMontevideoAbu dhabiLondonWashington d.c.CaracasVatican cityHanoiGeorgetownTripoli1KabulAndorra la vellaTiranaMinskSarajevoOuagadougouYaoundéBanguiBrazzavilleKinshasaYamoussoukroSan joseBogotáLa pazPraiaNicosiaPorto-novoPhnom penhRoseauSanto domingoMalaboGuatemala cityPort-au-princeTegucigalpaAmmanAstanaPristinaKuwait cityVientianeNairobiKuala lumpurBamakoVallettaChisinauIslamabadPanama citySan marinoDakarBelgradeVictoriaMogadishuSri jayawardenepura kotteKhartoumDodomaBangkokSana'aHarare1Saint john'sYerevanBakuLuandaNassauManamaDhakaBridgetownBelmopanThimphuGaboroneBandar seri begawanBujumburaN'djamenaMoroniDjiboutiSan salvadorAsmaraAddis ababaSuvaLibrevilleBanjulTbilisiAccraSt. george'sConakryBissauSouth tarawaBishkekRigaMaseruMonroviaVaduzLilongweMaleMajuroNouakchottPort louisPalikirUlaanbaatarPodgoricaMaputoNaypyidawWindhoekYaren districtManaguaNiameyAbujaMuscatNgerulmudPort moresbyKigaliBasseterreCastriesKingstownApiaSão toméFreetownHoniaraJubaParamariboMbabaneDamascusDushanbeDiliLoméNuku'alofaPort of spainAshgabatFunafutiKampalaTashkentPort vilaLusakaZZZZ0HonoluluJuneauOlympiaCarson citySanta feAlbanyTallahasseeSpringfieldColumbusProvidenceColumbiaAustinSalt lake cityRichmondCharlestonHarrisburgBostonRaleighMontgomerySacramentoDenverAtlantaLansing1BismarckHelenaLincolnPhoenixLittle rockConcordTrentonHartfordDoverOklahoma cityBoiseSalemIndianapolisDes moinesTopekaPierreFrankfortNashvilleBaton rougeAugustaAnnapolisMontpelierSt. paulJacksonMadisonJefferson cityCheyenne0AlgeriaArgentinaAustraliaAustriaBelgiumBrazilBulgariaCanadaChileChinaCroatiaCubaCzech republicDenmarkEcuadorEgyptEstoniaFinlandFranceGermanyGreeceHungaryIcelandIndiaIndonesiaIranIraqIrelandIsraelItalyJamaicaJapanLebanonLithuaniaLuxembourgMacedoniaMadagascarMexicoMonacoMoroccoNepalNetherlandsNew zealandNorth koreaNorwayPalestineParaguayPeruPhilippinesPolandPortugalRomaniaQatarRussiaSaudi arabiaSingaporeSlovakiaSloveniaSouth africaSouth koreaSpainSwedenSwitzerlandTaiwanTunisiaTurkeyUkraineUruguayUnited arab emiratesUnited kingdomU.s.a.VenezuelaVatican cityVietnamGuyanaLibya1AfghanistanAndorraAlbaniaBelarusBosnia and herzegovina Burkina fasoCameroonCentral african republicRepublic of the congo Democratic republic of the congo Cote d'ivoireCosta ricaColombiaBoliviaCabo verdeCyprusBeninCambodiaDominicaDominican republicEquatorial guineaGuatemalaHaitiHondurasJordanKazakhstanKosovoKuwaitLaosKenyaMalaysiaMaliMaltaMoldovaPakistanPanamaSan marinoSenegalSerbiaSeychellesSomaliaSri lankaSudanTanzaniaThailandYemenZimbabwe1Antigua and barbudaArmeniaAzerbaijanAngolaBahamasBahrainBangladeshBarbadosBelizeBhutanBotswanaBruneiBurundiChadComorosDjiboutiEl salvadorEritreaEthiopiaFijiGabonGambiaGeorgiaGhanaGrenadaGuineaGuinea-bissauKiribatiKyrgyzstanLatviaLesothoLiberiaLiechtensteinMalawiMaldivesMarshall islandsMauritaniaMauritiusMicronesiaMongoliaMontenegroMozambiqueMyanmarNamibiaNauruNicaraguaNigerNigeriaOmanPalauPapua new guineaRwandaSaint kitts and nevisSaint luciaSaint vincent and the grenadinesSamoaSao tome and principeSierra leoneSolomon islandsSouth sudanSurinameSwazilandSyriaTajikistanTimor-lesteTogoTongaTrinidad and tobagoTurkmenistanTuvaluUgandaUzbekistanVanuatuZambia1ZZZZ0HawaiiAlaskaWashingtonNevadaNew mexicoNew yorkFloridaIllinoisOhioRhode islandSouth carolinaTexasUtahVirginiaWest virginiaPennsylvaniaMassachusettsNorth carolinaAlabamaCaliforniaColoradoGeorgiaMichigan1North dakotaMontanaNebraskaArizonaArkansasNew hampshireNew jerseyConnecticutDelawareOklahomaIdahoOregonIndianaIowaKansasSouth dakotaKentuckyTennesseeLouisianaMaineMarylandVermontMinnesotaMississippiWisconsinMissouriWyoming1ZZ".split(0),h=$.getContext("2d"),m=Math,o=n=0,p=5e4,q=3e4,r=0,s=[],i=0;300>i;i++)s[i]=[1200*m.random(),650*m.random(),m.random()+.5];t=function(a,e,i,o,n,t){h.textAlign=t||"center",h.fillStyle=n||"#fff",h.font=(o||50)+"px Impact, Charcoal",h.strokeStyle="#000",h.strokeText(i,a,e),h.fillText(i,a,e)},Y=X=B=A=z=v=u=0,a=new XMLHttpRequest,a.open("GET",1),a.responseType="arraybuffer",a.send(),a.onload=function(){for(i in b=new Uint8Array(a.response),c=0,g)for(j in g[i]=g[i].split(1),g[i])for(k in g[i][j]=g[i][j].split(/(?=[A-Z])/),g[i][j])if(3>i)g[i][j][k]=[g[i][j][k],[b[c],b[c+1]]],c+=2;else{for(g[i][j][k]=[g[i][j][k],[]];254!=b[c]&&c<b.length;)g[i][j][k][1].push(b[c]),c++;c++}g[3][0][0][1]=[105,81,107,78,113,76,112,82,114,88,114,97,116,102,111,109,109,110,100,95,99,93,106,85,255,109,78],g[2][0][6][1]=[207,218],g[1][1][7][1]=[121,137],w()},w=function(){if($.width^=0,0==n){for(h.fillRect(0,0,1200,650),u--,u%=1200,i=0;300>i;i++)h.fillStyle="#fff",h.beginPath(),h.arc(a=s[i][0]+u,b=s[i][1],c=s[i][2]+.2*m.random(),0,7),h.arc(1200+a,b,c,0,7),h.fill();for(h.beginPath(),gradient=h.createLinearGradient(300,0,600,0),gradient.addColorStop(0,"#75D1FF"),gradient.addColorStop(1,"#3591bF"),h.fillStyle=gradient,h.arc(470,260,140,0,7),h.fill(),v++,v%=220,h.strokeStyle="#83864F",h.fillStyle="#95D866",i=4;i--;)for(j=0;j<g[3][i].length;j++){for(a=3==i&&3==j?[]:g[3][i][j][1],k=0;k<a.length;k+=2){for(255==a[k]&&(k++,h.closePath(),h.fill(),h.stroke(),h.beginPath()),255==a[k+1]&&(k+=2,h.closePath(),h.fill(),h.stroke(),h.beginPath()),x=(a[k]-v+100)/110,y=(a[k+1]-120)/150;1<x;)x-=2;-1<x&&-.5>x&&(x=-.5),.5<x&&1>x&&(x=.5),k||"Russia"==g[3][i][j][0]||"Canada"==g[3][i][j][0]||(b=0>x?-.5:.5),"Russia"==g[3][i][j][0]&&(b=.5,50<v&&(b=-.5),160<v&&(b=.5)),"Canada"==g[3][i][j][0]&&(b=.5,160<v&&(b=-.5),50>v&&(b=-.5)),(-.5>=x||.5<=x)&&(x=b),x=m.sin(x*m.PI)*m.cos(y*m.PI/2),y=m.sin(y*m.PI/2),x=140*x+470,y=140*y+260,0==k&&(h.beginPath(),h.moveTo(x,y)),h.lineTo(x,y)}h.closePath(),h.fill(),h.stroke()}t(180,375,"GE",300),t(890,375,"Quiz",300),t(990,405,"JS13kGames 2015",30),t(600,570,"START",80)}else if(1==n)h.fillRect(0,0,1200,650),t(600,280,"Level "+(A+1)+":",60),t(600,360,"Countries (easy);Capitols (easy);Famous places (easy);Countries (medium);Capitols (medium);U.S. states (medium);Famous places (medium);U.S. capitols (medium);World countries (hard);U.S. states (hard);Famous places (hard);U.S. capitols (hard);Capitols (hard)".split(";")[A],60),t(600,450,"START",30);else if(2==n||3==n){for(C=[g[3][0],g[1][0],g[0][0],g[3][1],g[1][1],g[4][0],g[0][1],g[2][0],g[3][2],g[4][1],g[0][2],g[2][1],g[1][2]][A],f=5==A||7==A||9==A||11==A?4:3,i=g[f].length;i--;)for(j=0;j<g[f][i].length;j++){for(a=g[f][i][j][1],k=0;k<a.length;k+=2)255==a[k]&&(k++,h.closePath(),h.fill(),h.stroke(),h.beginPath()),255==a[k+1]&&(k+=2,h.closePath(),h.fill(),h.stroke(),h.beginPath()),x=a[k]*(4==f?4.8:4.9),y=a[k+1]*(4==f?2.46:2.35)+(4==f?38:65),4!=B&&9!=B||(x=1200-x,y=715-y),0==k&&(h.beginPath(),h.strokeStyle=5>B?"#83864F":"#000",h.fillStyle=5>B?"#95D866":"#000",h.moveTo(x,y)),h.lineTo(x,y);h.closePath(),h.fill(),h.stroke()}if(2==n&&0==o&&(n=3,o=60,z=1),3==n){if(a=C[B][1],0==A||3==A||5==A||8==A||9==A){for(h.fillStyle="yellow",h.beginPath(),k=0;k<a.length;k+=2)255==a[k]&&(k++,h.closePath(),h.fill(),h.stroke(),60==o&&h.isPointInPath(X,Y)&&(p=0,c=[X,Y]),h.beginPath()),255==a[k+1]&&(k+=2,h.closePath(),h.fill(),h.stroke(),60==o&&h.isPointInPath(X,Y)&&(p=0,c=[X,Y]),h.beginPath()),x=a[k]*(4==f?4.8:4.9),y=a[k+1]*(4==f?2.46:2.35)+(4==f?38:65),4!=B&&9!=B||(x=1200-x,y=715-y),60==o&&(b=m.sqrt(m.pow(x-X,2)+m.pow(y-Y,2)),b<p&&(p=b,c=[x,y])),0==k&&(h.beginPath(),h.moveTo(x,y)),h.lineTo(x,y);h.closePath(),h.fill(),h.stroke(),60==o&&h.isPointInPath(X,Y)&&(p=0,c=[X,Y])}else x=a[0]*(4==f?4.8:4.9),y=a[1]*(4==f?2.46:2.35)+(4==f?38:65),4!=B&&9!=B||(x=1200-x,y=715-y),h.fillStyle="yellow",h.beginPath(),h.arc(x,y,10,0,7),h.fill(),60==o&&(p=b=m.sqrt(m.pow(x-X,2)+m.pow(y-Y,2)),c=[x,y]);z||(5<p&&(h.fillStyle="green",h.strokeStyle="green",h.beginPath(),h.moveTo(c[0],c[1]),h.lineTo(c[0]-1,c[1]),h.lineTo(c[0]-1,c[1]-40),h.lineTo(c[0],c[1]-40),h.lineTo(c[0]+20,c[1]-30),h.lineTo(c[0],c[1]-20),h.stroke(),h.fill(),h.strokeStyle="red",h.lineWidth="2",h.setLineDash([5,5]),h.beginPath(),h.moveTo(X,Y),h.lineTo(c[0],c[1]),h.stroke()),h.setLineDash([0,0]),h.fillStyle="blue",h.strokeStyle="blue",h.beginPath(),h.moveTo(X,Y),h.lineTo(X-1,Y),h.lineTo(X-1,Y-40),h.lineTo(X,Y-40),h.lineTo(X+20,Y-30),h.lineTo(X,Y-20),h.stroke(),h.fill()),45==o&&(5==A||7==A||9==A||11==A?(e=100>p?100*~~(p/10):1e3*~~(p/100),q-=z?5e3:e):(e=100>p?100*~~(p/4):1e3*~~(p/40),q-=z?1e4:e)),45>o&&(z?(t(600,350,"TIME OUT",100,5>B?"#000":"#fff"),5==A||7==A||9==A||11==A?t(600,400,"5,000km penalty",50,5>B?"#000":"#fff"):t(600,400,"10,000km penalty",50,5>B?"#000":"#fff")):t(600,350,5<p?e+"km away":"PERFECT",100,5>B?"#000":"#fff")),d=0,0>=q&&(q=0,d=1),0==o&&(n=4,o=15)}h.beginPath(),h.fillStyle="#000",h.rect(0,0,1200,66),h.fill(),h.closePath(),h.beginPath(),h.fillStyle="#fff",2==n&&(h.rect(0,60,4*o,5),h.fill()),h.closePath(),t(10,45,"Country;Capitol;Place;Country;Capitol;U.S. state;Place;U.S. capitol;Country;U.S. state;Place;U.S. capitol;Capitol".split(";")[A]+": "+C[B][0].toUpperCase(),40,0,"left"),t(1190,45,q+"km remaining",40,0,"right")}4==n&&(d&&(n=5),h.fillRect(0,0,1200,650),0==o)&&(Y=X=0,B++,n=2,p=5e4,o=300,z=0,9<B&&(B=0,A++,n=1,r+=q,q=3e4,5!=A&&7!=A&&9!=A&&11!=A||(q=15e3),12<A&&(n=5),M.t*=1.075),M.r=4==B||9==B,4<=B&&9>=B?(M.f=0,M.a=[60,10],M.b=1.5,M.c=.6):(M.f=.1,M.a=[22,8,9,3,2,1],M.b=1.5,M.c=.1)),5==n&&(h.fillRect(0,0,1200,650),t(600,280,13==A?"YOU WON!":"GAME OVER!"),t(600,360,"Level "+(A+1)+" ~ total score: "+r+"km",40),t(600,450,"REPLAY?",30),Z.style.display="block"),o&&o--,setTimeout(w,33)},$.onclick=function(a){0==n?(n=1,b=function(){return.5-m.random()},g[0][0].sort(b),g[0][1].sort(b),g[0][2].sort(b),g[1][0].sort(b),g[1][1].sort(b),g[1][2].sort(b),g[2][0].sort(b),g[2][1].sort(b),g[3][0].sort(b),g[3][1].sort(b),g[3][2].sort(b),g[4][0].sort(b),g[4][1].sort(b)):1==n?(n=2,o=300):2==n?(X=a.pageX,Y=a.pageY,n=3,o=60):5==n&&(window.location=window.location)},M=new function(){if(window.AudioContext){var a=this,e=new AudioContext,i=e.createScriptProcessor(4096,0,1),o=e.sampleRate/48e3,n=Math.floor,t=Math.pow,r=Math.sin,l=Math.random,s=2*Math.PI,h=function(a){var e=0;return function(i){return(e+=t(2,i/12)*o)>s&&(e-=s),a(e)}},u=[[0,1,4,5,7,10,12],[-2,0,1,4,5,8,1],[5,3,0,9,0],[0,4,7,1,-2],[1,3,5,7,8,10,12],[5,3,12,0,13]],c=[.9,.4,.7,.3,.2,.9,.3],g=[-84,-86,-79,-84,-83,-79],d=h((function(a){return r(a)+.6*l()})),m=h(r),b=h((function(e){for(var i=0,o=0;o<a.a.length;o++)i+=r(e*(o+1))*a.a[o];return i})),f=h((function(a){return a/s-.5+3*t(r(a),5)})),p=1,k=-1,y=0,S=16777215,P=!0,A=0;i.onaudioprocess=function(e){e=e.outputBuffer.getChannelData(0);for(var i=0;i<e.length;i++){if(p+=a.t/o,A+=.001/o,1<=p){--p,k++;var s=c[k%c.length];(P=l()<s)&&(.1>l()&&(S-=2),.2>l()&&(S+=4),.6>l()&&(S+=a.r?-1:1))}y=n(k/32);s=1-p;var h=(p+(1&k))/2,T=1-h,M=0;if(P){var B=u[y%u.length];M=M+b(a.x-60+B[S%B.length]+r(1.3*A)*a.h)*(a.r?h:s)*(1&k?.04:.1)*a.p}var v=g[y%g.length];2!=(B=3&k)&&(M+=f(a.x+v+(3==B?12:0)+r(A)*a.c)*s*a.b*(1&k?.03:.12)),h=a.r?h:T,M+=m(40*t(h,5)-95)*a.k*t(h,5),2&k&&(M+=d(60*t(h,15)-80)*a.f*t(h,5)),M+=l()*t(s,10)*(1&k?.03:.1)*a.g,e[i]=M}},i.connect(e.destination),a.stop=function(){i.disconnect()},a.r=!1,a.k=.12,a.g=.9,a.f=.1,a.p=.06,a.b=1.5,a.t=93e-6,a.a=[22,8,9,3,2,1],a.h=.2,a.c=.1,a.x=1}}</script><title>GeoQuiz