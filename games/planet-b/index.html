<!doctype html><meta content="width=device-width,user-scalable=0" name=viewport><link href=manifest.json rel=manifest><link href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cfilter id='css_hue_rotate'%3E%3CfeColorMatrix type='matrix' values=' 1.000 0.200 0.200 0.000 -0.100 0.100 0.100 0.100 0.000 -0.100 0.100 0.100 0.100 0.000 -0.100 0.000 0.000 0.000 1.000 0.000'%3E%3C/feColorMatrix%3E%3C/filter%3E%3Ctext filter='url(%23css_hue_rotate)' y='.9em' font-size='90'%3E🌒%3C/text%3E%3C/svg%3E" rel="shortcut icon" type=image/x-icon><title>Planet B</title><style>html{background:#000}body{display:none}</style><script src=client.js defer></script><style>:root{--T-width:2;--T-size-height:1.1547}body,html{touch-action:none}body{background:#000;color:#fff;display:initial;font-family:DejaVu Sans Mono,Consolas,SF Mono,Roboto Mono,monospace;height:100vh;image-rendering:crisp-edges;image-rendering:optimizespeed;margin:0;overflow:hidden;user-select:none;width:100vw}.hidden{opacity:0;transition:opacity 0s}.show{opacity:1;transition:opacity .7s ease-out}#tileset,canvas{position:absolute}#tileset{--tile-color:#510223;align-items:center;box-sizing:border-box;display:flex;flex-direction:column;height:100vh;justify-content:center;margin:0;top:0;transform:rotate(25deg);width:100vw}.a11y .T{--tile-color:#a7700b}#wrapper{height:100vh}#wrapper,.T{transition:transform .5s ease-in-out}.T{--T-size:2.8vmin;--fade-time:300ms;display:inline-flex;font-size:1.4vmin;height:calc(var(--T-size-height)*var(--T-size));margin:.8vmin .3vmin;opacity:.8;position:relative;width:calc(var(--T-width)*var(--T-size))}.T:not(.free):not(.deco){opacity:.5;transform:scale(.6)}.row:first-child .T{--tile-color:#00474e}.a11y .row:first-child .T{--tile-color:#ccc}.T.night:not(:empty){--tile-color:#ffe479}.T:after,.T:before{content:"";height:100%;position:absolute;transform:rotate(60deg);transform-origin:center;width:100%}.T:after{align-items:center;color:transparent;content:attr(data-n);display:flex;font-size:3vmin;justify-content:center;line-height:0;transform:rotate(-60deg)}.T:hover:after{color:#fff}.T,.T:after,.T:before{background:var(--tile-color);border-radius:4px;box-sizing:border-box;transition:all var(--fade-time) ease}.night,.night:after,.night:before{box-shadow:0 0 3vh -.5vh var(--tile-color)}.T:hover{--tile-color:#e9a745;cursor:pointer}.row:first-child .T:hover{--tile-color:#45ade9}.T.selected{--fade-time:50ms;--tile-color:#fffdfd!important;opacity:1;z-index:1}.T.selected,.T.selected:after,.T.selected:before{transition-duration:.5s}.T span{animation-timing-function:ease-in;display:block;font-size:4.5vh;pointer-events:none;position:absolute;text-align:center;transform:translate(.9vh,-1.6vh) rotate(-25deg) scale(1);transform-origin:bottom;width:100%;z-index:1}.T span:after{font-size:30%;position:absolute;right:10px;top:20%}.new span:after,.stop span:after{background:#0093ff;border:1px solid #363636;border-radius:1vh;content:"";display:inline-block;height:1.5vh;width:1.5vh}.stop span:after{background:#ff7b00;border-radius:0}.T .wip,.bad span{animation:bounce .12s infinite alternate}.bad span{text-shadow:0 -1vh 2vh red}.bad span:after{content:"💢";font-size:50%}.deco{--tile-color:transparent!important;filter:sepia(1) hue-rotate(-20deg) brightness(.5);pointer-events:none;z-index:5}.mount{letter-spacing:-2.5vh;margin-left:-1.3vh;text-shadow:none}.mount:first-letter{font-size:80%}.mine{--tile-color:#002d63}.mine:hover{--tile-color:#458ce9}.a11y .mine{--tile-color:#0b69db}.road{top:-1vh!important}.road,.road:after,.road:before{border-radius:0;height:calc(var(--T-size-height)*var(--T-size) - 2vh)}@keyframes bounce{0%{transform:translate(.9vh,-1.6vh) rotate(-25deg) scale(1)}to{transform:translate(.9vh,-1.6vh) rotate(-25deg) scale(1.2,.8)}}.T.dust{animation:dust .8s infinite alternate;cursor:wait;opacity:1;transform:scale(1)!important}.T.dust span{animation-duration:999s;opacity:.3}@keyframes dust{0%{filter:blur(1.2vh) contrast(.8) brightness(.8)}20%{filter:blur(1.3vh) contrast(.8) brightness(.8)}80%{filter:blur(1.2vh) contrast(.8) brightness(.8)}to{filter:blur(1.3vh) contrast(.8) brightness(.8)}}svg{left:0;position:fixed;top:0;z-index:-1}.fast svg{display:none}.noise{opacity:.15;pointer-events:none;z-index:1}#earth{animation:screen 1s infinite alternate;background-color:#000;border:1px solid #003461;border-radius:6px;height:6vh;left:1vh;overflow:hidden;padding:1vh;position:absolute;top:1vh;width:24vh}@keyframes screen{0%{box-shadow:inset 0 0 3.5vh -1vh #0754e9}to{box-shadow:inset 0 0 4vh -1vh #0754e9}}#earth .icon,#earth .icon:after,#earth .icon:before{background:radial-gradient(circle at top left,#bcbebf 30%,#063680 31%);border-radius:5vh;height:5vh;overflow:hidden;position:relative;width:5vh;z-index:1}#earth .icon:after,#earth .icon:before{background:#b68929;content:"";display:inline-block;position:absolute;top:60%;width:4vmin}#earth .icon:after{right:10%;top:-60%;width:2vmin}#rocket,#rocket2{display:inline-block;font-size:3vh;left:2vh;position:absolute;top:2vh;transform:rotate(45deg)}#rocket.go{left:105%;transition:left 6s cubic-bezier(.55,.06,.68,.19)}#rocket2{left:-100vh;top:0;transform:rotate(-135deg);z-index:9}#rocket2.go{left:8vh;transition:left 6s cubic-bezier(.22,.61,.36,1)}#_dialog{background:#131212;line-height:1.4;min-width:30vh;opacity:0;overflow:auto;padding:1vmin;position:fixed;right:5vh;top:-999px;transform:scale(2,0);transition:all .1s ease-out,top 0s .1s}#_dialog.show{opacity:1;top:10vh;transform:scale(1);transition:all .1s ease-out,top 0s}#_dialog div{display:inline-block}#_dialog b{opacity:.5}#_prompt{margin-right:2vh}#dismiss{position:absolute;right:1vh;top:1vh}aside{align-items:center;border-top:1px dashed gray;display:grid;gap:1vh;grid-template-columns:repeat(2,1fr);margin-top:2vh;text-align:center}aside p{grid-column:1/3}aside btn{align-content:center;display:flex;justify-content:center;text-align:center}small{pointer-events:none}.close{margin-left:1vmin}ul{display:grid;gap:1vh;grid-template-columns:1fr 1fr;max-height:50vh;max-width:450px;overflow:auto;padding:0}li{list-style:none}#chatlist,#players{display:block}ul small{color:#d1c1bd;font-weight:700;line-height:1.8}btn{align-items:center;background:#131212;border:1px solid;padding:.7vmin}btn:hover,btn:hover *{background:#999;color:#131212!important;cursor:pointer}#_dialog,btn{border-radius:3px}btn:empty,btn:only-child{text-align:center}btn:only-child{font-size:1.1em;grid-column:1/3;padding:1vh}.radio{border:none}.radio:before{border:2px solid gray;border-radius:3ch;box-sizing:border-box;content:"";height:2.5ch;margin-right:1ch;transition:border .1s;width:2.5ch}.radio.checked:before{border:.9ch solid #167ae4}.off{opacity:.4}.red{background:#9d0404;padding:0 1ch}#_input{display:block;margin:5%;padding:5%;width:80%}#sidebar{background:#131212;height:100vh}#sidebar,#toolbar{position:fixed;right:0;top:0}#toolbar{display:grid;gap:1vh;grid-template-columns:repeat(4,1fr) repeat(3,3fr);padding:1vh}[data-count]:after{content:" " attr(data-count);margin-left:1ch;text-align:right}[data-new]:after{content:"🔴";float:right}#intro{align-items:center;display:flex;flex-direction:column;font-size:3vh;height:100vh;justify-content:center;left:0;opacity:1;position:fixed;top:0;width:100vw;z-index:99}h1{text-shadow:#ff6363 0 0 2vh}#intro span{display:inline-block;filter:brightness(.6) hue-rotate(-55deg) contrast(1.4) saturate(1.4);text-shadow:#fffe63 0 0 2vh;transform:rotate(25deg)}#intro.gone{filter:blur(20px);opacity:0;top:-999%;transform:scale(3);transition:all 1s ease-out,top 0s 1s}#intro btn{display:flex;justify-content:space-between;margin-bottom:.8vmin;min-width:20ch;padding:1.5vh}#_stats{bottom:0;display:grid;gap:.6vh 2.5vh;grid-auto-flow:column;grid-template-rows:repeat(10,1fr);padding:2vh;pointer-events:none;position:fixed}#_notices,#_stats{box-sizing:border-box;max-width:48vw}#_notices,#_stats div{align-items:center;background:#151515;border-radius:1vh;display:grid;gap:1vh;padding:1px 12px;text-align:center}#_stats div{grid-template-columns:1fr auto 1fr}[i]:before{content:attr(i);font-size:1.5em;justify-self:start;margin-right:.5ch}#_notices{bottom:0;gap:0;margin:2vh;max-height:15vh;overflow-y:scroll;position:fixed;right:0;transition:max-height .2s ease-in-out}#_notices:empty{display:none}#_notices:hover{max-height:50vh}#_notices p{animation:appear .5s;display:flex;margin:0;padding:1vh;position:relative;text-align:left}#_notices p+p{border-top:1px dashed gray}p[i]:before{margin-right:1.5ch}@keyframes appear{0%{opacity:0;top:-100%}to{opacity:1;top:0}}@media screen and (max-width:812px){body{font-size:1.3vw}}</style><div id=intro><h1>Planet B <span>🌓</span></h1><btn id=offline i=👤>Solo (no save)</btn><btn id=global i=👥>Global Co-Op</btn></div><svg height=100% width=100% id=stars><filter id=filter><feTurbulence baseFrequency=0.1 /><feColorMatrix values="0 0 0 7 -4 0 0 0 7 -4 0 0 0 7 -4 0 0 0 0 1"/></filter><rect filter=url(#filter) height=100% width=100% /></svg><div id=wrapper><canvas class=hidden id=canvas></canvas><div id=tileset class=hidden></div></div><svg height=100% width=100% class=noise version=1.1><defs><filter id=noise><feTurbulence baseFrequency=6.29 numOctaves=2 stitchTiles=stitch type=fractalNoise /><feColorMatrix values="0 0 0 1 -0.6 0 0 0 1 -0.6 0 0 0 1 -0.6 0 0 0 0 1"/></filter></defs><rect filter=url(#noise) height=100% width=100% fill=indianred /></svg><div id=earth class=hidden><div class=icon></div><div id=rocket>🚀</div></div><div id=_dialog><div id=_prompt></div><btn id=dismiss title="Close dialog [Esc]">⨉</btn><section id=_choices></section></div><div id=toolbar class=hidden><btn id=_sound i=🔉 title=Sounds></btn><btn id=_music i=🎵 title=Music></btn><btn id=_fast i=🐇 title=Performance class=off></btn><btn id=_a11y i=👁 title="Color blindness" class=off></btn><btn id=_sol i=🗓>Sol</btn><btn id=_users i=👥>Players</btn><btn id=_comms i=💬>Comms</btn></div><div id=_stats class=hidden><div id=food data-count=0 i=🥔>Food</div><div id=waste data-count=0 i=💩>Waste</div><div id=minerals data-count=0 i=🌑>Minerals</div><div id=energy data-count=0 i=🔋>Energy</div><div id=water data-count=0 i=💧>Water</div><div id=energy_use data-count=0 i=🔌>Energy use</div><div id=minerals_use data-count=0 i=☢️>Minerals use</div><div id=waste_use data-count=0 i=🌱>Waste use</div><div id=workforce data-count=0 i=👷‍♂️>Available<br>Workforce</div><div id=population data-count=0 i=👨‍👨‍👦>Population</div></div><div id=_notices class=hidden></div><script src=/socket.io.js></script><script src=shared.js></script>