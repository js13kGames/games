<!doctype html><title>Bichita the Cat - js13kGames 2025</title><link rel=icon type=image/png href=favicon.png><body><script>function debugUpdate(){}function abs(t){return Math.abs(t)}function min(t,e){return Math.min(t,e)}function mod(t,e=1){return(t%e+e)%e}function clamp(t,e=0,a=1){return t<e?e:t>a?a:t}function percent(t,e,a){return(a-=e)?clamp((t-e)/a):0}function rand(t=1,e=0){return e+Math.random()*(t-e)}function vec2(t=0,e){return"number"==typeof t?new Vector2(t,null==e?t:e):new Vector2(t.x,t.y)}function isVector2(t){return t instanceof Vector2}Math;class Vector2{constructor(t=0,e=0){this.x=t,this.y=e,this.isValid()}set(t=0,e=0){return this.x=t,this.y=e,this.isValid(),this}copy(){return new Vector2(this.x,this.y)}add(t){return isVector2(t),new Vector2(this.x+t.x,this.y+t.y)}subtract(t){return isVector2(t),new Vector2(this.x-t.x,this.y-t.y)}multiply(t){return isVector2(t),new Vector2(this.x*t.x,this.y*t.y)}divide(t){return isVector2(t),new Vector2(this.x/t.x,this.y/t.y)}scale(t){return isVector2(t),new Vector2(this.x*t,this.y*t)}length(){return this.lengthSquared()**.5}lengthSquared(){return this.x**2+this.y**2}distance(t){return isVector2(t),this.distanceSquared(t)**.5}distanceSquared(t){return isVector2(t),(this.x-t.x)**2+(this.y-t.y)**2}normalize(t=1){const e=this.length();return e?this.scale(t/e):new Vector2(0,t)}clampLength(t=1){const e=this.length();return e>t?this.scale(t/e):this}dot(t){return isVector2(t),this.x*t.x+this.y*t.y}cross(t){return isVector2(t),this.x*t.y-this.y*t.x}angle(){return Math.atan2(this.x,this.y)}setAngle(t=0,e=1){return this.x=e*Math.sin(t),this.y=e*Math.cos(t),this}rotate(t){const e=Math.cos(-t),a=Math.sin(-t);return new Vector2(this.x*e-this.y*a,this.x*a+this.y*e)}setDirection(t,e=1){return vec2((t=mod(t,4))%2?t-1?-e:e:0,t%2?0:t?-e:e)}direction(){return abs(this.x)>abs(this.y)?this.x<0?3:1:this.y<0?2:0}invert(){return new Vector2(this.y,-this.x)}floor(){return new Vector2(Math.floor(this.x),Math.floor(this.y))}area(){return abs(this.x*this.y)}lerp(t,e){return isVector2(t),this.add(t.subtract(this).scale(clamp(e)))}arrayCheck(t){return isVector2(t),this.x>=0&&this.y>=0&&this.x<t.x&&this.y<t.y}toString(t=3){}isValid(){return"number"==typeof this.x&&!isNaN(this.x)&&"number"==typeof this.y&&!isNaN(this.y)}}function rgb(t,e,a,n){return new Color(t,e,a,n)}function hsl(t,e,a,n){return(new Color).setHSLA(t,e,a,n)}function isColor(t){return t instanceof Color}class Color{constructor(t=1,e=1,a=1,n=1){this.r=t,this.g=e,this.b=a,this.a=n,this.isValid()}set(t=1,e=1,a=1,n=1){return this.r=t,this.g=e,this.b=a,this.a=n,this.isValid(),this}copy(){return new Color(this.r,this.g,this.b,this.a)}add(t){return isColor(t),new Color(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}subtract(t){return isColor(t),new Color(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}multiply(t){return isColor(t),new Color(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}divide(t){return isColor(t),new Color(this.r/t.r,this.g/t.g,this.b/t.b,this.a/t.a)}scale(t,e=t){return new Color(this.r*t,this.g*t,this.b*t,this.a*e)}clamp(){return new Color(clamp(this.r),clamp(this.g),clamp(this.b),clamp(this.a))}lerp(t,e){return isColor(t),this.add(t.subtract(this).scale(clamp(e)))}setHSLA(t=0,e=0,a=1,n=1){t=mod(t,1),e=clamp(e);const i=(a=clamp(a))<.5?a*(1+e):a+e-a*e,s=2*a-i,r=(t,e,a)=>6*(a=mod(a,1))<1?t+6*(e-t)*a:2*a<1?e:3*a<2?t+(e-t)*(4-6*a):t;return this.r=r(s,i,t+1/3),this.g=r(s,i,t),this.b=r(s,i,t-1/3),this.a=n,this.isValid(),this}HSLA(){const t=clamp(this.r),e=clamp(this.g),a=clamp(this.b),n=clamp(this.a),i=Math.max(t,e,a),s=Math.min(t,e,a),r=(i+s)/2;let o=0,c=0;if(i!=s){let n=i-s;c=r>.5?n/(2-i-s):n/(i+s),t==i?o=(e-a)/n+(e<a?6:0):e==i?o=(a-t)/n+2:a==i&&(o=(t-e)/n+4)}return[o/6,c,r,n]}mutate(t=.05,e=0){return new Color(this.r+rand(t,-t),this.g+rand(t,-t),this.b+rand(t,-t),this.a+rand(e,-e)).clamp()}toString(t=!0){const e=t=>((t=255*clamp(t)|0)<16?"0":"")+t.toString(16);return"#"+e(this.r)+e(this.g)+e(this.b)+(t?e(this.a):"")}setHex(t){if([4,5,7,9].includes(t.length),t.length<6){const e=e=>clamp(parseInt(t[e],16)/15);this.r=e(1),this.g=e(2),this.b=e(3),this.a=5==t.length?e(4):1}else{const e=e=>clamp(parseInt(t.slice(e,e+2),16)/255);this.r=e(1),this.g=e(3),this.b=e(5),this.a=9==t.length?e(7):1}return this.isValid(),this}rgbaInt(){return(255*clamp(this.r)|0)+(255*clamp(this.g)<<8)+(255*clamp(this.b)<<16)+(255*clamp(this.a)<<24)}isValid(){return!("number"!=typeof this.r||isNaN(this.r)||"number"!=typeof this.g||isNaN(this.g)||"number"!=typeof this.b||isNaN(this.b)||"number"!=typeof this.a||isNaN(this.a))}}rgb(),rgb(0,0,0),rgb(.5,.5,.5),rgb(1,0,0),rgb(1,.5,0),rgb(1,1,0),rgb(0,1,0),rgb(0,1,1),rgb(0,0,1),rgb(.5,0,1),rgb(1,0,1);let mainCanvas,mainContext,overlayCanvas,overlayContext,cameraPos=vec2(),canvasMaxSize=vec2(1920,1080),canvasFixedSize=vec2(),showSplashScreen=!1,mainCanvasSize=vec2(),textureInfos=[];class TextureInfo{constructor(t){this.image=t,this.size=vec2(t.width,t.height),this.glTexture=!1}}function screenToWorld(t){return new Vector2((t.x-mainCanvasSize.x/2+.5)/32+cameraPos.x,(t.y-mainCanvasSize.y/2+.5)/-32+cameraPos.y)}function worldToScreen(t){return new Vector2(32*(t.x-cameraPos.x)+mainCanvasSize.x/2-.5,-32*(t.y-cameraPos.y)+mainCanvasSize.y/2-.5)}function drawTextScreen(t,e,a=1,n=new Color,i=0,s=new Color(0,0,0),r="center",o="arial",c=void 0,h=overlayContext){h.fillStyle=n.toString(),h.lineWidth=i,h.strokeStyle=s.toString(),h.textAlign=r,h.font=a+"px "+o,h.textBaseline="middle",h.lineJoin="round",e=e.copy();const l=(t+"").split("\n");e.y-=(l.length-1)*a/2,l.forEach(t=>{i&&h.strokeText(t,e.x,e.y,c),h.fillText(t,e.x,e.y,c),e.y+=a})}function clearInput(){inputData=[[]],touchGamepadButtons=[]}const mouseWasPressed=function(t,e=0){return inputData[e]&&!!(2&inputData[e][t])},mouseWasReleased=function(t,e=0){return inputData[e]&&!!(4&inputData[e][t])};let mousePos=vec2(),mousePosScreen=vec2(),mouseWheel=0,isUsingGamepad=!1,inputData=[[]];function inputUpdate(){isTouchDevice||document.hasFocus()||clearInput(),mousePos=screenToWorld(mousePosScreen)}function inputUpdatePost(){for(const t of inputData)for(const e in t)t[e]&=1;mouseWheel=0}function inputInit(){function t(t){return"KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t}onkeydown=e=>{e.repeat||(isUsingGamepad=!1,inputData[0][e.code]=3,inputData[0][t(e.code)]=3)},onkeyup=e=>{inputData[0][e.code]=4,inputData[0][t(e.code)]=4},onmousedown=t=>{isUsingGamepad=!1,inputData[0][t.button]=3,mousePosScreen=mouseEventToScreen(t),t.button&&t.preventDefault()},onmouseup=t=>inputData[0][t.button]=2&inputData[0][t.button]|4,onmousemove=t=>mousePosScreen=mouseEventToScreen(t),onwheel=t=>mouseWheel=t.ctrlKey?0:Math.sign(t.deltaY),oncontextmenu=t=>!1,onblur=t=>clearInput(),isTouchDevice&&function(){let t,e=function(e){soundEnable&&audioContext&&"running"!=audioContext.state&&audioContext.resume();const a=e.touches.length;if(a){const a=vec2(e.touches[0].clientX,e.touches[0].clientY);mousePosScreen=mouseEventToScreen(a),t?isUsingGamepad=touchGamepadEnable:inputData[0][0]=3}else t&&(inputData[0][0]=2&inputData[0][0]|4);return t=a,document.hasFocus()&&e.preventDefault(),!0};document.addEventListener("touchstart",t=>e(t),{passive:!1}),document.addEventListener("touchmove",t=>e(t),{passive:!1}),document.addEventListener("touchend",t=>e(t),{passive:!1}),onmousedown=onmouseup=()=>0}()}function mouseEventToScreen(t){const e=mainCanvas.getBoundingClientRect(),a=percent(t.x,e.left,e.right),n=percent(t.y,e.top,e.bottom);return vec2(a*mainCanvas.width,n*mainCanvas.height)}const isTouchDevice=void 0!==window.ontouchstart;let touchGamepadButtons;new class{constructor(t){this.time=null==t?void 0:time+t,this.setTime=t}set(t=0){this.time=time+t,this.setTime=t}unset(){this.time=void 0}isSet(){return null!=this.time}active(){return time<this.time}elapsed(){return time>=this.time}get(){return this.isSet()?time-this.time:0}getPercent(){return this.isSet()?1-percent(this.time-time,0,this.setTime):0}toString(){}valueOf(){return this.get()}};let engineObjects=[],engineObjectsCollide=[],frame=0,time=0,timeReal=0,frameTimeLastMS=0,frameTimeBufferMS=0;const pluginUpdateList=[],pluginRenderList=[];function engineObjectsUpdate(){function t(e){if(!e.destroyed){e.update();for(const a of e.children)t(a)}}engineObjectsCollide=engineObjects.filter(t=>t.collideSolidObjects);for(const e of engineObjects)e.parent||(t(e),e.updateTransforms());engineObjects=engineObjects.filter(t=>!t.destroyed)}showSplashScreen=!1;const CAT_DENSITY_SETUPS={lowest:{quantity:50},low:{quantity:100},medium:{quantity:200},high:{quantity:400},extreme:{quantity:800},ultra:{quantity:1e3},ultimate:{quantity:2e3}},sprites={},SPRITE_MAP={bichita:{walk:[0,0],pose:[24,0],drag:[24,0]},white:{walk:[0,24],pose:[24,24]},tabby:{walk:[0,48],pose:[24,48]},orange:{walk:[0,72],pose:[24,72]}},catTypes=["white","tabby","orange"];class Cat{constructor(t,e,a,n){this.y=Math.floor(Math.max(0,Math.random()*mainCanvasSize.y-40)),this.x=Math.floor(Math.random()*mainCanvasSize.x),this.speed=Math.random()<.5?-Math.random()/5:Math.random()/5,this.type=catTypes[Math.floor(Math.random()*catTypes.length)],this.isWalking=!0}}class Bichita extends Cat{constructor(){super(),this.speed=.05,this.type=null,this.isDragging=!1,this.isBichita=!0}startDragging(){this.isDragging=!0}endDragging(){this.isDragging=!1}}class Mother extends Cat{constructor(){super(),this.type=null,this.isMother=!0}}let catTalking,talkInterval,cats=[],gameState=0,motherGaveGreetings=!1,musicPlaying=!1;const checkMouseCollisionWithMother=t=>{let e=!1;const a=worldToScreen(t);return structuredClone(cats).reverse().forEach(t=>{t.isMother&&Math.abs(t.x-a.x)<18&&Math.abs(t.y-a.y)<18&&(e=!0)}),e},drawSprite=(t,e,a,n,i=!1,s=1)=>{mainContext.save(),i?(mainContext.scale(-1,1),mainContext.drawImage(sprites.atlas,a,n,24,24,-t-24,e,24*s,24*s)):mainContext.drawImage(sprites.atlas,a,n,24,24,t,e,24*s,24*s),mainContext.restore()},getBichitaInstance=()=>cats.find(t=>"Bichita"===t.constructor.name),getMotherInstance=()=>cats.find(t=>"Mother"===t.constructor.name),startCatTalking=(t,e,a=2e3)=>{catTalking={text:t,pos:e,ttl:a},setTimeout(()=>{catTalking=null},a)},setGrabbingPointer=t=>{document.getElementsByTagName("body")[0].style.cursor=t?"grabbing":"grab"};let audioContext,gainNode,oscillators=[];const playMusic=()=>{audioContext&&(oscillators.forEach(t=>{try{t.stop()}catch(t){}}),oscillators=[],gainNode.gain.setValueAtTime(0,audioContext.currentTime),musicPlaying=!1),((t,e,a,n,i,s)=>{audioContext=new AudioContext,gainNode=audioContext.createGain(),gainNode.connect(audioContext.destination),oscillators=[];for(let t of[[4,13],[4,10],[11,10],[7,10],[7,13],[11,13],[9,13],[13,13],[15,10],[16,14],[16,10],[18,10],[20,13],[20,10],[23,13],[23,10],[27,10],[27,13],[29,10],[31,13],[31,10],[32,13],[34,13],[36,10],[36,13],[39,10],[39,13],[41,13],[43,13],[45,13],[43,10],[60,10],[62,10],[47,10],[47,15],[48,10],[50,10],[52,13],[52,10],[55,13],[55,10],[57,10],[59,10],[59,13],[60,13],[25,13]]){const e=audioContext.createOscillator();oscillators.push(e),e.connect(gainNode),e.start(t[0]*s),e.frequency.setValueAtTime(400*1.06**(13-t[1]),t[0]*s),e.type="",gainNode.gain.setValueAtTime(.05,t[0]*s),gainNode.gain.setTargetAtTime(1e-5,t[0]*s+.18,.005),e.stop(t[0]*s+.19)}})(0,0,0,0,0,.2),musicPlaying=!0};function gameInit(){localStorage.getItem("gamesPlayed")||localStorage.setItem("gamesPlayed",1),mainCanvas.style.background="white",(t=>{const e=Math.floor(Math.random()*t),a=Math.floor(Math.random()*t);for(let n=0;n<t;n++)cats.push(n===e?new Bichita:n===a?new Mother:new Cat);cats.sort((t,e)=>t.y<e.y?-1:1),getBichitaInstance().y+=15})((()=>{const t=localStorage.getItem("gamesPlayed");return{1:CAT_DENSITY_SETUPS.lowest,2:CAT_DENSITY_SETUPS.low,3:CAT_DENSITY_SETUPS.medium,4:CAT_DENSITY_SETUPS.high,5:CAT_DENSITY_SETUPS.extreme,6:CAT_DENSITY_SETUPS.ultra}[t]||CAT_DENSITY_SETUPS.ultimate})().quantity),sprites.atlas=textureInfos[0].image,sprites.grass=textureInfos[1].image,sprites.cover=textureInfos[2].image,talkInterval=setInterval(()=>{if(Math.random()<.5){const t=screenToWorld(vec2(getBichitaInstance().x,getBichitaInstance().y-20));startCatTalking("Meow",t,2e3)}},3e4)}!function(t,e,a,n,i,s=[],r=document.body){function o(t=0){let s=t-frameTimeLastMS;frameTimeLastMS=t,timeReal+=s/1e3,frameTimeBufferMS+=s,frameTimeBufferMS=min(frameTimeBufferMS,50),c();{let t=0;for(frameTimeBufferMS<0&&frameTimeBufferMS>-9&&(t=frameTimeBufferMS,frameTimeBufferMS=0);frameTimeBufferMS>=0;frameTimeBufferMS-=1e3/60)time=frame++/60,inputUpdate(),e(),pluginUpdateList.forEach(t=>t()),engineObjectsUpdate(),debugUpdate(),a(),inputUpdatePost();frameTimeBufferMS+=t}mainCanvasSize=vec2(mainCanvas.width,mainCanvas.height),overlayContext.imageSmoothingEnabled=mainContext.imageSmoothingEnabled=!1,n(),engineObjects.sort((t,e)=>t.renderOrder-e.renderOrder);for(const t of engineObjects)t.destroyed||t.render();i(),pluginRenderList.forEach(t=>t()),requestAnimationFrame(o)}function c(){if(canvasFixedSize.x){mainCanvas.width=canvasFixedSize.x,mainCanvas.height=canvasFixedSize.y;const t=innerWidth/innerHeight,e=mainCanvas.width/mainCanvas.height;mainCanvas.style.width=mainCanvas.style.width=overlayCanvas.style.width=t<e?"100%":"",mainCanvas.style.height=mainCanvas.style.height=overlayCanvas.style.height=t<e?"":"100%"}else mainCanvas.width=min(innerWidth,canvasMaxSize.x),mainCanvas.height=min(innerHeight,canvasMaxSize.y);overlayCanvas.width=mainCanvas.width,overlayCanvas.height=mainCanvas.height,mainCanvasSize=vec2(mainCanvas.width,mainCanvas.height)}Array.isArray(s),t||(t=()=>{}),e||(e=()=>{}),a||(a=()=>{}),n||(n=()=>{}),i||(i=()=>{}),r.style.cssText="margin:0;overflow:hidden;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#000;image-rendering:pixelated;user-select:none;-webkit-user-select:none;touch-action:none;-webkit-touch-callout:none",r.appendChild(mainCanvas=document.createElement("canvas")),mainContext=mainCanvas.getContext("2d"),inputInit(),r.appendChild(overlayCanvas=document.createElement("canvas")),overlayContext=overlayCanvas.getContext("2d"),mainCanvas.style.cssText=overlayCanvas.style.cssText="position:absolute",c();const h=s.map((t,e)=>new Promise(a=>{const n=new Image;n.crossOrigin="anonymous",n.onerror=n.onload=()=>{textureInfos[e]=new TextureInfo(n),a()},n.src=t}));s.length||h.push(new Promise(t=>{textureInfos[0]=new TextureInfo(new Image),t()})),Promise.all(h).then(function(){new Promise(e=>e(t())).then(o)})}(gameInit,function(){switch(gameState){case 0:mouseWasPressed(0)&&(gameState=1,playMusic());break;case 1:if(musicPlaying||playMusic(),!motherGaveGreetings){const t=screenToWorld(vec2(getMotherInstance().x,getMotherInstance().y-20));startCatTalking("Please, bring my baby back!",t,5e3),motherGaveGreetings=!0}if(mouseWasPressed(0)&&(setGrabbingPointer(!0),(()=>{const t=worldToScreen(mousePos);let e=!1;return structuredClone(cats).reverse().forEach(a=>{a.isBichita&&Math.abs(a.x-t.x)<15&&Math.abs(a.y-t.y)<15&&(e=!0)}),e})()?(getBichitaInstance().startDragging(),startCatTalking("Meow!",mousePos)):checkMouseCollisionWithMother(mousePos)?startCatTalking("Please, find Bichita.",mousePos):(()=>{let t=!1;const e=worldToScreen(mousePos);return structuredClone(cats).reverse().forEach(a=>{!a.isMother&&!a.isBichita&&Math.abs(a.x-e.x)<18&&Math.abs(a.y-e.y)<18&&(t=!0)}),t})()&&startCatTalking("Prrr",mousePos)),mouseWasReleased(0)){if(setGrabbingPointer(!1),checkMouseCollisionWithMother(mousePos)&&cats.find(t=>"Bichita"===t.constructor.name&&t.isDragging))gameState=2,localStorage.setItem("gamesPlayed",Number(localStorage.getItem("gamesPlayed"))+1),(()=>{const t=getBichitaInstance(),e=getMotherInstance();cats=cats.filter(t=>"Bichita"===t.constructor.name||"Mother"===t.constructor.name),t.x=e.x-15,t.y=e.y+8})();else if(getBichitaInstance().isDragging){const t=screenToWorld(vec2(getBichitaInstance().x,getBichitaInstance().y-20));startCatTalking("Not my mother...",t)}getBichitaInstance().endDragging()}cats.forEach(t=>{t.isWalking&&(t.x+=t.speed,(t.x<0||t.x>mainCanvasSize.x)&&(t.speed=-t.speed)),Math.random()<.001&&(t.isWalking=!t.isWalking),Math.random()<.001&&(t.speed=-t.speed)});break;case 2:mouseWasPressed(0)&&(clearInterval(talkInterval),cats=[],catTalking=null,motherGaveGreetings=!1,gameState=1,musicPlaying=!1,gameInit())}},function(){},function(){switch(gameState){case 0:(()=>{const t=mainCanvasSize.x/2-80,e=mainCanvasSize.y/2-80;mainContext.drawImage(sprites.cover,t,e,128,128),drawTextScreen("Bichita the Cat  -  Js13kGames 2025",vec2(t+60,e+140),16,hsl(0,0,1),6,hsl(0,0,0)),drawTextScreen("The young cat is lost! Help it find his mother!",vec2(t+60,e+180),16,hsl(0,0,1),6,hsl(0,0,0)),drawTextScreen("To play, just find it and move it next to her mother using the mouse / touch",vec2(t+60,e+200),16,hsl(0,0,1),6,hsl(0,0,0)),drawSprite(t+64,e+230,...SPRITE_MAP.bichita.pose,!1,.7),drawTextScreen("Click or tap to continue",vec2(t+60,e+320),16,hsl(0,0,1),6,hsl(0,0,0))})();break;case 1:case 2:const t=sprites.grass;if(t){const e=mainContext.createPattern(t,"repeat");mainContext.fillStyle=e,mainContext.fillRect(0,0,mainCanvasSize.x,mainCanvasSize.y)}cats.forEach(t=>{if("Bichita"===t.constructor.name)if(t.isDragging){const t=worldToScreen(mousePos);drawSprite(t.x,t.y,...SPRITE_MAP.bichita.drag,!1,.7)}else t.isWalking?drawSprite(t.x,t.y,...SPRITE_MAP.bichita.walk,t.speed<0,.7):drawSprite(t.x,t.y,...SPRITE_MAP.bichita.pose,!1,.7);else if("Mother"===t.constructor.name)drawSprite(t.x,t.y,...SPRITE_MAP.bichita.walk,t.speed<0);else{const e=SPRITE_MAP[t.type]||SPRITE_MAP.white;t.isWalking?drawSprite(t.x,t.y,...e.walk,t.speed<0):drawSprite(t.x,t.y,...e.pose,t.speed<0)}})}},function(){if(0!==gameState&&(drawTextScreen("Bichita the Cat",vec2(40,mainCanvasSize.y-10),10,hsl(0,0,1),6,hsl(0,0,0)),catTalking)){const t=worldToScreen(catTalking.pos);t.y-=10,catTalking.pos.y+=.001,drawTextScreen(catTalking.text,t,20,hsl(0,0,1),6,hsl(0,0,0))}if(2===gameState){const{x:t,y:e}=getBichitaInstance();drawTextScreen("Thank you!",vec2(t,e-20),20,hsl(0,0,1),6,hsl(0,0,0)),drawTextScreen("Click anywhere to play again",vec2(200,20),20,hsl(0,100,1),6,hsl(0,0,0))}},["sprites.webp","grass.webp","bichita-cover.webp"])</script>