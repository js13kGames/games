<!doctype html><html lang=en><meta content="width=device-width" name=viewport><title>Black Hole Number 6174</title><style>#result{margin-top:20px;font-size:20px}.step{transition:all .5s ease;opacity:0}.step.show{opacity:1}</style><h1>Black Hole Number 6174 Game</h1><input id=numberInput onkeypress=checkEnter(event) placeholder="Enter a four-digit number"> <button onclick=calculateKaprekar()>Calculate</button><div id=result></div><script>function checkEnter(e){"Enter"===e.key&&calculateKaprekar()}function calculateKaprekar(){let e=document.getElementById("numberInput").value,t=document.getElementById("result");if(t.innerHTML="",4!==e.length||!/^\d+$/.test(e)||1===new Set(e).size)return void(t.innerHTML="Please enter a valid four-digit number, and the digits cannot be all the same!");let n=[],a=[];for(;"6174"!==e;){let t=e.split("").sort().join(""),a=t.split("").reverse().join(""),i=(parseInt(a)-parseInt(t)).toString().padStart(4,"0");n.push({asc:t,desc:a,difference:i}),e=i}n.forEach(((e,n)=>{let i=document.createElement("div");i.className="step",i.innerHTML=`Step ${n+1}: ${e.desc} - ${e.asc} = ${e.difference}`,t.appendChild(i),a.push(i)})),setTimeout((()=>{a.forEach(((e,t)=>{setTimeout((()=>{e.classList.add("show")}),1e3*t)}))}),100),setTimeout((()=>{let e=document.createElement("div");e.innerHTML="Final Result: 6174",t.appendChild(e)}),1e3*n.length+1e3)}window.onload=function(){document.getElementById("numberInput").focus()}</script>