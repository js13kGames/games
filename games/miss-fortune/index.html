<!doctype html><meta content="width=device-width,height=device-height,maximum-scale=1" name=viewport><title>Miss Fortune - js13kGames 2025</title><div id=app></div><script>function t(t){return Math.abs(t)}function s(t,s){return Math.min(t,s)}function i(t,s){return Math.max(t,s)}function e(t){return Math.sign(t)}function h(t,s=1){return(t%s+s)%s}function n(t,s=0,i=1){return s>t?s:t>i?i:t}function r(t,s,i){return(i-=s)?n((t-s)/i):0}function o(t,s,i){return s+n(t)*(i-s)}function u(s,i,e,h=y()){return 2*t(s.x-e.x)<i.x+h.x&&2*t(s.y-e.y)<i.y+h.y}function a(t=1,s=0){return s+Math.random()*(t-s)}function c(t,s=0){return Math.floor(a(t,s))}function l(t=1){return(new K).t(a(2*j),t)}function d(t=new q,s=new q(0,0,0,1),i=!1){return i?t.i(s,a()):new q(a(t.r,s.r),a(t.g,s.g),a(t.b,s.b),a(t.a,s.a))}function y(t=0,s){return"number"==typeof t?new K(t,s??t):new K(t.x,t.y)}function f(t,s,i,e){return new q(t,s,i,e)}function x(t){V=t}function w(t){J=t}function p(t=y(),s=it,i=0,e=0){"number"==typeof s&&(s=y(s));var h=ft[i];const n=s.add(y(2*e));return"number"==typeof t&&(t=(h=h.size.x/n.x|0)>0?y(t%h,t/h|0):y()),t=y(t.x*n.x+e,t.y*n.y+e),new xt(t,s,i,e)}function g(t){return new K((t.x-yt.x/2+.5)/J+V.x,(t.y-yt.y/2+.5)/-J+V.y)}function m(t){return new K((t.x-V.x)*J+yt.x/2-.5,(t.y-V.y)*-J+yt.y/2-.5)}function v(t,s=y(1),i,e=new q,h=0,n,r=new q(0,0,0,0),o=!0,u,a){const c=i&&i.h();if(o)if(u&&(t=g(t),s=s.scale(1/J)),c){var l=y(1).o(c.size);o=i.u.x*l.x,u=i.u.y*l.y,a=i.size.x*l.x;const d=i.size.y*l.y;l=l.scale(0),(t=>{t==Wt||(W(),Bt.bindTexture(Bt.TEXTURE_2D,Wt=t))})(c.l),Y(t.x,t.y,n?-s.x:s.x,s.y,h,o+l.x,u+l.y,o-l.x+a,u-l.y+d,e.v(),r.v())}else Y(t.x,t.y,s.x,s.y,h,0,0,0,0,0,e.v());else((t,s,i,e,h,n,r=ct)=>{n||(t=m(t),s=s.scale(J)),r.save(),r.translate(t.x+.5,t.y+.5),r.rotate(i),r.scale(e?-s.x:s.x,-s.y),h(r),r.restore()})(t,s=y(s.x,-s.y),h,n,t=>{if(c){const s=i.u.x+0,h=i.u.y+0,n=i.size.x-0,r=i.size.y-0;t.globalAlpha=e.a,t.drawImage(c.image,s,h,n,r,-.5,-.5,1,1),t.globalAlpha=1}else t.fillStyle=""+e,t.fillRect(-.5,-.5,1,1)},u,a)}function b(t,s,i,e,h,n,r){v(t,s,void 0,i,e,!1,void 0,h,n,r)}function M(t,s,i=.1,e,h,n,r){s=y((s.x-t.x)/2,(s.y-t.y)/2),i=y(i,2*s.length()),b(t.add(s),i,e,s.angle(),h,n,r)}function A(t,s=1,i=1,e=0,h=new q,n=0,r=new q(0,0,0),o,u=ct){t=m(t),s*=J,i*=J,n*=J,u.fillStyle=""+h,u.beginPath(),u.ellipse(t.x,t.y,s,i,e,0,9),u.fill(),n&&(u.strokeStyle=""+r,u.lineWidth=n,u.stroke())}function T(t,s=1,i=new q,e=0,h=new q(0,0,0),n,r=ct){A(t,s,s,0,i,e,h,0,r)}function E(t,s,i=1,e,h=0,n,r,o,u,a=ct){((t,s,i=1,e=new q,h=0,n=new q(0,0,0),r="center",o=st,u,a=dt)=>{a.fillStyle=""+e,a.lineWidth=h,a.strokeStyle=""+n,a.textAlign=r,a.font=i+"px "+o,a.textBaseline="middle",a.lineJoin="round",(s=s.p()).y-=((t=(t+"").split("\n")).length-1)*i/2,t.forEach(t=>{h&&a.strokeText(t,s.x,s.y,u),a.fillText(t,s.x,s.y,u),s.y+=i})})(t,m(s),i*J,e,h*J,n,r,o,u,a)}function C(t,s=!0,i){s?jt=t:(i||=ct,i.globalCompositeOperation=t?"lighter":"source-over")}function R(t,s=0){return Mt[s]&&!!(1&Mt[s][t])}function P(t,s=0){return Mt[s]&&!!(2&Mt[s][t])}function S(t,s=0){return Mt[s]&&!!(4&Mt[s][t])}function I(){Mt=[[]],Et=[]}function N(t,s=0){return R(t,s+1)}function L(t,s=0){return P(t,s+1)}function F(t,s=0){return S(t,s+1)}function D(){Tt||document.hasFocus()||I(),mt=g(vt),(()=>{const t=t=>{const s=t=>t>.3?r(t,.3,.8):-.3>t?-r(-t,.3,.8):0;return y(s(t.x),s(-t.y)).m()};if(nt&&Tt&&Pt.M()){var s=At[0]||(At[0]=[]);s[0]=y(),rt?s[0]=t(Ct):Ct.S()>.3&&(s[0].x=Math.round(Ct.x),s[0].y=-Math.round(Ct.y),s[0]=s[0].m()),s=Mt[1]||(Mt[1]=[]);for(var i=10;i--;){var e=3==i?2:2==i?3:i,h=N(e,0);s[e]=Et[i]?h?1:3:h?4:0}}if(ht&&navigator&&navigator.getGamepads&&document.hasFocus())for(i=(s=navigator.getGamepads()).length;i--;){h=s[i];const r=Mt[i+1]||(Mt[i+1]=[]);if(e=At[i]||(At[i]=[]),h){for(var n=0;h.axes.length-1>n;n+=2)e[n>>1]=t(y(h.axes[n],h.axes[n+1]));for(n=h.buttons.length;n--;){const t=h.buttons[n],s=N(n,i);r[n]=t.pressed?s?1:3:s?4:0,bt||=!i&&t.pressed}(h=y((N(15,i)&&1)-(N(14,i)&&1),(N(12,i)&&1)-(N(13,i)&&1))).S()&&(e[0]=h.m()),nt&&bt&&Pt.I()}}})()}function k(){for(const t of Mt)for(const s in t)t[s]&=1}function z(t){const s=at.getBoundingClientRect(),i=r(t.x,s.left,s.right);return t=r(t.y,s.top,s.bottom),y(i*at.width,t*at.height)}function _(s=1,i=.05,h=220,r=0,o=0,u=.1,c=0,l=1,d=0,y=0,f=0,x=0,w=0,p=0,g=0,m=0,v=0,b=1,M=0,A=0,T=0){let E=2*j;var C=Lt;let R=d*=500*E/C/C;i=h*=a(1+i,1-i)*E/C;let P,S=[],I=0,N=0,L=0,F=1,D=0,k=0,z=0;var _=E*t(T)*2/C,B=Math.cos(_),U=Math.sin(_)/2/2,W=1+U;_=-2*B/W,U=(1-U)/W;let Y=(1+e(T)*B)/2/W;B=-(e(T)+B)/W;let G=W=0,O=0,H=0;for(y*=500*E/C**3,g*=E/C,f*=E/C,x*=C,w=w*C|0,P=(r=r*C+9)+(M*=C)+(o*=C)+(u*=C)+(v*=C)|0;P>L;S[L++]=z*s)++k%(100*m|0)||(z=c?c>1?c>2?c>3?Math.sin(I**3):n(Math.tan(I),1,-1):1-(2*I/E%2+2)%2:1-4*t(Math.round(I/E)-I/E):Math.sin(I),z=(w?1-A+A*Math.sin(E*L/w):1)*e(z)*t(z)**l*(r>L?L/r:r+M>L?1-(L-r)/M*(1-b):r+M+o>L?b:P-v>L?(P-L-v)/u*b:0),z=v?z/2+(v>L?0:(P-v>L?1:(P-L)/v)*S[L-v|0]/2/s):z,T&&(z=H=Y*W+B*(W=G)+Y*(G=z)-U*O-_*(O=H))),I+=(C=(h+=d+=y)*Math.cos(g*N++))+C*p*Math.sin(L**5),F&&++F>x&&(h+=f,i+=f,F=0),!w||++D%w||(h=i,d=R,F=F||1);return S}function B(t,e=y(),h){const n=i(t.x-e.x/2|0,0);var r=i(t.y-e.y/2|0,0);const o=s(t.x+e.x/2,Dt.x);for(t=s(t.y+e.y/2,Dt.y);t>r;++r)for(e=n;o>e;++e){const t=Ft[r*Dt.x+e];if(t&&(!h||h.A(t,y(e,r))))return!0}return!1}function U(t,s){return s=Bt.createShader(s),Bt.shaderSource(s,t),Bt.compileShader(s),s}function W(){if(Xt){var t=$t?Bt.ONE:Bt.ONE_MINUS_SRC_ALPHA;Bt.blendFuncSeparate(Bt.SRC_ALPHA,t,Bt.ONE,t),Bt.enable(Bt.BLEND),Bt.bufferSubData(Bt.ARRAY_BUFFER,0,Ot),Bt.drawArraysInstanced(Bt.TRIANGLE_STRIP,0,4,Xt),Xt=0,$t=jt}}function Y(t,s,i,e,h,n,r,o,u,a,c=0){(Xt>=qt||$t!=jt)&&W();let l=Xt++*Zt;Ot[l++]=t,Ot[l++]=s,Ot[l++]=i,Ot[l++]=e,Ot[l++]=n,Ot[l++]=r,Ot[l++]=o,Ot[l++]=u,Ht[l++]=a,Ht[l++]=c,Ot[l++]=h}function G(){function t(s){if(!s.P){s.update();for(const i of s.children)t(i)}}ss=ts.filter(t=>t.T);for(const s of ts)s.parent||(t(s),s.k());ts=ts.filter(t=>!t.P)}function O(t,s,i,e,h,n=!0,r=ct){r.save(),r.beginPath(),r.ellipse(t.x,t.y,s,s+10,0,i,e),r.lineTo(t.x,t.y),r.closePath(),r[n?"fillStyle":"strokeStyle"]=""+h,n?r.fill():r.stroke(),r.restore()}function H(t,s,i,e,h,n,r){return new t(y(s,i),y(e,h),n,r)}function X(t,s,i,e,h,n,r){const o=[],u=Ms[t];switch(u.length){case 1:o.push(H(u[0],0,i,3*e,h,n,r));break;case 2:o.push(H(u[0],-s+e,i,e,h,n,r)),o.push(H(u[1],s-e,i,e,h,n,r));break;case 3:o.push(H(u[0],-s,i,e,h,n,r)),o.push(H(u[1],0,i,e,h,n,r)),o.push(H(u[2],s,i,e,h,n,r))}return o}const j=Math.PI;class ${constructor(t){this.seed=t}float(t=1,s=0){return this.seed^=this.seed<<13,this.seed^=this.seed>>>17,this.seed^=this.seed<<5,s+(this.seed>>>0)/2**32*(t-s)}N(t,s=0){return Math.floor(this.float(t,s))}sign(){return this.float()>.5?1:-1}}class K{constructor(t=0,s=0){this.x=t,this.y=s,this.C()}set(t=0,s=0){return this.x=t,this.y=s,this.C(),this}p(){return new K(this.x,this.y)}add(t){return new K(this.x+t.x,this.y+t.y)}L(t){return new K(this.x-t.x,this.y-t.y)}multiply(t){return new K(this.x*t.x,this.y*t.y)}o(t){return new K(this.x/t.x,this.y/t.y)}scale(t){return new K(this.x*t,this.y*t)}length(){return this.S()**.5}S(){return this.x**2+this.y**2}W(t){return this.F(t)**.5}F(t){return(this.x-t.x)**2+(this.y-t.y)**2}normalize(t=1){const s=this.length();return s?this.scale(t/s):new K(0,t)}m(t=1){const s=this.length();return s>t?this.scale(t/s):this}H(t){return this.x*t.x+this.y*t.y}O(t){return this.x*t.y-this.y*t.x}angle(){return Math.atan2(this.x,this.y)}t(t=0,s=1){return this.x=s*Math.sin(t),this.y=s*Math.cos(t),this}rotate(t){const s=Math.cos(-t);return new K(this.x*s-this.y*(t=Math.sin(-t)),this.x*t+this.y*s)}D(t,s=1){return y((t=h(t,4))%2?t-1?-s:s:0,t%2?0:t?-s:s)}direction(){return t(this.x)>t(this.y)?0>this.x?3:1:0>this.y?2:0}B(){return new K(this.y,-this.x)}floor(){return new K(Math.floor(this.x),Math.floor(this.y))}j(){return t(this.x*this.y)}i(t,s){return this.add(t.L(this).scale(n(s)))}U(t){return this.x>=0&&this.y>=0&&t.x>this.x&&t.y>this.y}toString(t=3){}C(){return"number"==typeof this.x&&!isNaN(this.x)&&"number"==typeof this.y&&!isNaN(this.y)}}class q{constructor(t=1,s=1,i=1,e=1){this.r=t,this.g=s,this.b=i,this.a=e,this.C()}set(t=1,s=1,i=1,e=1){return this.r=t,this.g=s,this.b=i,this.a=e,this.C(),this}p(){return new q(this.r,this.g,this.b,this.a)}add(t){return new q(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}L(t){return new q(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}multiply(t){return new q(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}o(t){return new q(this.r/t.r,this.g/t.g,this.b/t.b,this.a/t.a)}scale(t,s=t){return new q(this.r*t,this.g*t,this.b*t,this.a*s)}_(){return new q(n(this.r),n(this.g),n(this.b),n(this.a))}i(t,s){return this.add(t.L(this).scale(n(s)))}G(t=0,s=0,i=1,e=1){t=h(t,1),s=n(s),i=n(i);const r=(t,s,i)=>1>6*(i=h(i,1))?t+6*(s-t)*i:1>2*i?s:2>3*i?t+(s-t)*(4-6*i):t;return this.r=r(i=2*i-(s=.5>i?i*(1+s):i+s-i*s),s,t+1/3),this.g=r(i,s,t),this.b=r(i,s,t-1/3),this.a=e,this.C(),this}K(){const t=n(this.r),s=n(this.g),i=n(this.b),e=n(this.a),h=Math.max(t,s,i),r=Math.min(t,s,i),o=(h+r)/2;let u=0,a=0;if(h!=r){let e=h-r;a=o>.5?e/(2-h-r):e/(h+r),t==h?u=(s-i)/e+(i>s?6:0):s==h?u=(i-t)/e+2:i==h&&(u=(t-s)/e+4)}return[u/6,a,o,e]}R(t=.05,s=0){return new q(this.r+a(t,-t),this.g+a(t,-t),this.b+a(t,-t),this.a+a(s,-s))._()}toString(t=!0){const s=t=>(16>(t=255*n(t)|0)?"0":"")+t.toString(16);return"#"+s(this.r)+s(this.g)+s(this.b)+(t?s(this.a):"")}V(t){return 6>t.length?(this.r=n(parseInt(t[1],16)/15),this.g=n(parseInt(t[2],16)/15),this.b=n(parseInt(t[3],16)/15),this.a=5==t.length?n(parseInt(t[4],16)/15):1):(this.r=n(parseInt(t.slice(1,3),16)/255),this.g=n(parseInt(t.slice(3,5),16)/255),this.b=n(parseInt(t.slice(5,7),16)/255),this.a=9==t.length?n(parseInt(t.slice(7,9),16)/255):1),this.C(),this}v(){return(255*n(this.r)|0)+(255*n(this.g)<<8)+(255*n(this.b)<<16)+(255*n(this.a)<<24)}C(){return!("number"!=typeof this.r||isNaN(this.r)||"number"!=typeof this.g||isNaN(this.g)||"number"!=typeof this.b||isNaN(this.b)||"number"!=typeof this.a||isNaN(this.a))}}f(),f(0,0,0),f(.5,.5,.5),f(1,0,0),f(1,.5,0),f(1,1,0),f(0,1,0),f(0,1,1),f(0,0,1),f(.5,0,1),f(1,0,1);class Z{constructor(t){this.time=null==t?void 0:es+t,this.setTime=t}set(t=0){this.time=es+t,this.setTime=t}I(){this.time=void 0}M(){return null!=this.time}active(){return this.time>es}q(){return es>=this.time}get(){return this.M()?es-this.time:0}$(){return this.M()?1-r(this.time-es,0,this.setTime):0}toString(){}valueOf(){return this.get()}}let V=y(),J=32,Q=y(1920,1080),tt=y(),st="arial",it=y(16),et=0,ht=!0,nt=!1,rt=!0,ot=99;y(640,80);class ut{constructor(t=y(),s=y(1),i,e=0,h=new q,n=0){this.u=t.p(),this.size=s,this.J=void 0,this.Y=i,this.angle=e,this.color=h,this.X=void 0,this.Z=!1,this.tt=1,this.st=1,this.it=1,this.ht=0,this.et=.8,this.nt=1,this.rt=n,this.ot=y(),this.ut=0,this.ct=es,this.children=[],this.lt=!0,this.parent=this.dt=void 0,this.ft=y(),this.wt=0,this.vt=this.gt=this.T=this.yt=!1,ts.push(this)}k(){const t=this.parent;if(t){const s=t.Mt();this.u=this.ft.multiply(y(s,1)).rotate(t.angle).add(t.u),this.angle=s*this.wt+t.angle}for(const t of this.children)t.k()}update(){if(!this.parent){if(this.lt)this.ot.x=n(this.ot.x,-1,1),this.ot.y=n(this.ot.y,-1,1);else{var s=this.ot.S();s>1&&(this.ot.x*=s=1/s**.5,this.ot.y*=s)}if(s=this.u.p(),this.ot.x*=this.st,this.ot.y*=this.st,this.tt&&(this.ot.y+=et*this.nt),this.u.x+=this.ot.x,this.u.y+=this.ot.y,this.angle+=this.ut*=this.it,this.tt){var h=0>this.ot.y;if(this.dt){var r=this.dt.ot?this.dt.ot.x:0;this.ot.x=r+(this.ot.x-r)*this.et,this.dt=void 0}if(this.T)for(var a of ss){if(!this.gt&&!a.gt||a.P||a.parent||a==this)continue;if(!u(this.u,this.size,a.u,a.size))continue;r=this.bt(a);var c=a.bt(this);if(!r||!c)continue;if(u(s,this.size,a.u,a.size)){c=(r=s.L(a.u)).length(),r=.01>c?l(.001):r.scale(.001/c),this.ot=this.ot.add(r),a.tt&&(a.ot=a.ot.L(r));continue}c=this.size.add(a.size);var d=2*(s.y-a.u.y)>c.y+et;const n=2*t(s.y-a.u.y)<c.y;var f=2*t(s.x-a.u.x)<c.x;if(r=i(this.ht,a.ht),d||f||!n)if(this.u.y=a.u.y+(c.y/2+.001)*e(s.y-a.u.y),a.dt&&h||!a.tt)h&&(this.dt=a),this.ot.y*=-r;else if(a.tt){const t=a.ot.y*(a.tt-this.tt)/(this.tt+a.tt)+2*this.ot.y*this.tt/(this.tt+a.tt);this.ot.y=o(r,f=(this.tt*this.ot.y+a.tt*a.ot.y)/(this.tt+a.tt),this.ot.y*(this.tt-a.tt)/(this.tt+a.tt)+2*a.ot.y*a.tt/(this.tt+a.tt)),a.ot.y=o(r,f,t)}!d&&n&&(this.u.x=a.u.x+(c.x/2+.001)*e(s.x-a.u.x),a.tt?(d=a.ot.x*(a.tt-this.tt)/(this.tt+a.tt)+2*this.ot.x*this.tt/(this.tt+a.tt),this.ot.x=o(r,c=(this.tt*this.ot.x+a.tt*a.ot.x)/(this.tt+a.tt),this.ot.x*(this.tt-a.tt)/(this.tt+a.tt)+2*a.ot.x*a.tt/(this.tt+a.tt)),a.ot.x=o(r,c,d)):this.ot.x*=-r)}this.yt&&B(this.u,this.size,this)&&!B(s,this.size,this)&&(a=B(y(s.x,this.u.y),this.size,this),r=B(y(this.u.x,s.y),this.size,this),!a&&r||(this.ot.y*=-this.ht,h?(this.u.y=(s.y-this.size.y/2|0)+this.size.y/2+1e-4,this.dt=this):(this.u.y=s.y,this.dt=void 0)),r&&(this.u.x=s.x,this.ot.x*=-this.ht))}}}xt(){v(this.u,this.J||this.size,this.Y,this.color,this.angle,this.Z,this.X)}destroy(){if(!this.P){this.P=1,this.parent&&this.parent.removeChild(this);for(const t of this.children)t.destroy(t.parent=0)}}St(t){return this.u.add(t.rotate(this.angle))}It(t){return t.L(this.u).rotate(-this.angle)}At(t){return t.rotate(this.angle)}Pt(t){return t.rotate(-this.angle)}A(t,s){return t>0}bt(t){return!0}Tt(){return es-this.ct}kt(t){this.tt&&(this.ot=this.ot.add(t))}Nt(t){this.kt(t.scale(1/this.tt))}Mt(){return this.Z?-1:1}Ct(t,s=y(),i=0){!t.parent&&this.children.includes(t),this.children.push(t),t.parent=this,t.ft=s.p(),t.wt=i}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}Lt(t=!0,s=!0,i=!0,e=!0){this.T=t,this.gt=s,this.yt=i,this.vt=e}toString(){}Wt(){}}let at,ct,lt,dt,yt=y(),ft=[];class xt{constructor(t=y(),s=it,i=0,e=0){this.u=t.p(),this.size=s.p(),this.Ft=i,this.padding=e}offset(t){return new xt(this.u.add(t),this.size,this.Ft)}frame(t){return this.offset(y(t*(this.size.x+2*this.padding),0))}h(){return ft[this.Ft]}}class wt{constructor(t){this.image=t,this.size=y(t.width,t.height),this.l=(t=>{const s=Bt.createTexture();return Bt.bindTexture(Bt.TEXTURE_2D,s),t&&t.width?Bt.texImage2D(Bt.TEXTURE_2D,0,Bt.RGBA,Bt.RGBA,Bt.UNSIGNED_BYTE,t):(t=new Uint8Array([255,255,255,255]),Bt.texImage2D(Bt.TEXTURE_2D,0,Bt.RGBA,1,1,0,Bt.RGBA,Bt.UNSIGNED_BYTE,t)),Bt.texParameteri(Bt.TEXTURE_2D,Bt.TEXTURE_MIN_FILTER,t=Bt.NEAREST),Bt.texParameteri(Bt.TEXTURE_2D,Bt.TEXTURE_MAG_FILTER,t),s})(t)}}const pt=P,gt=S;let mt=y(),vt=y(),bt=!1,Mt=[[]];const At=[],Tt=void 0!==window.ontouchstart;let Et,Ct,Rt,Pt=new Z,St=new AudioContext;class It{constructor(t,s=40,i=.7){this.range=s,this.Ht=i,this.Ot=0,t&&(this.Ot=null!=t[1]?t[1]:.05,t[1]=0,this.Dt=[_(...t)],this.sampleRate=Lt)}play(t,s=1,i=1,e=1,h=!1){if(this.Dt){var o;if(t){if(o=this.range){const i=V.F(t);if(i>o*o)return;s*=r(i**.5,o,o*this.Ht)}o=2*m(t).x/at.width-1}return t=i+i*this.Ot*e*a(-1,1),this.Bt=St.createGain(),this.source=((t,s=1,i=1,e=0,h=!1,r=Lt,o)=>{var u=St.createBuffer(t.length,t[0].length,r),a=St.createBufferSource();return t.forEach((t,s)=>u.getChannelData(s).set(t)),a.buffer=u,a.playbackRate.value=i,a.loop=h,(o=o||St.createGain()).gain.value=s,o.connect(Rt),t=new StereoPannerNode(St,{pan:n(e,-1,1)}),a.connect(t).connect(o),"running"!=St.state?St.resume().then(()=>a.start()):a.start(),a})(this.Dt,s,t,o,h,this.sampleRate,this.Bt)}}jt(t=1){this.Bt&&(this.Bt.gain.value=t)}stop(){this.source&&this.source.stop(),this.source=void 0}Ut(){return this.source}_t(t,s,i){return this.play(s,i,2**(t/12),0)}zt(){return this.Dt&&this.Dt[0].length/this.sampleRate}Gt(){return!this.Dt}}class Nt extends It{constructor(t){super(void 0),this.Ot=0,this.Dt=((t,s,i,e=125)=>{let h,n,r,o,u,a,c,l,d,y,f,x,w,p,g=0,m=[],v=[],b=[],M=0,A=0,T=1,E={},C=Lt/e*60>>2;for(;T;M++)m=[T=l=x=0],i.forEach((e,R)=>{for(c=s[e][M]||[0,0,0],T|=s[e][M]&&1,p=x+(s[e][0].length-2-(l?0:1))*C,w=R==i.length-1,h=2,r=x;c.length+w>h;l=++h){for(u=c[h],d=h==c.length+w-1&&w||y!=(c[0]||0)||0|u,n=0;C>n&&l;n++>C-99&&d&&1>f?f+=1/99:0)a=(1-f)*m[g++]/2||0,v[r]=(v[r]||0)-a*A+a,b[r]=(b[r++]||0)+a*A+a;u&&(f=u%1,A=c[1]||0,u|=0)&&(m=E[[y=c[g=0]||0,u]]=E[[y,u]]||(o=[...t[y]],o[2]*=2**((u-12)/12),u>0?_(...o):[]))}x=p});return[v,b]})(...t),this.sampleRate=Lt}Kt(t,s=!1){return super.play(void 0,t,1,1,s)}}const Lt=44100;let Ft=[],Dt=y();class kt extends ut{constructor(t,s,i=0,e=0,h=100,n=j,r,o=new q,u=new q,a=new q(1,1,1,0),c=new q(1,1,1,0),l=.5,d=.1,f=1,x=.1,w=.05,p=1,g=1,m=0,v=j,b=.1,M=.2,A=!1,T=!1,E=!0,C=(T?1e9:0),R=!1){super(t,y(),r,s,void 0,C),this.Rt=i,this.Vt=e,this.qt=h,this.$t=n,this.Et=o,this.Jt=u,this.Yt=a,this.Qt=c,this.Xt=E,this.Zt=l,this.ts=d,this.ss=f,this.speed=x,this.hs=w,this.st=p,this.it=g,this.nt=m,this.es=v,this.ns=b,this.Ot=M,this.yt=A,this.rs=T,this.us=R,this.cs=0,this.ls=this.ds=void 0,this.fs=0}update(){if(this.parent&&super.update(),this.Vt&&this.Tt()>this.Vt)this.destroy();else if(1*this.qt){const t=1/this.qt/1;for(this.fs+=Qt;this.fs>0;this.fs-=t)this.ws()}}ws(){var t="number"==typeof this.Rt?((t=1,s=0)=>t>0?l(t*a(s/t,1)**.5):new K)(this.Rt/2):y(a(-.5,.5),a(-.5,.5)).multiply(this.Rt).rotate(this.angle);let s=a(this.es,-this.es);this.us||(t=this.u.add(t),s+=this.angle);const i=this.Ot;var e=t=>t+t*a(i,-i);const h=e(this.Zt),n=e(this.ts),r=e(this.ss),o=e(this.speed);e=e(this.hs)*(2*c(2)-1);var u=a(this.$t,-this.$t);const f=d(this.Et,this.Jt,this.Xt),x=d(this.Yt,this.Qt,this.Xt);return u=this.us?u:this.angle+u,(t=new zt(t,this.Y,s,f,x,h,n,r,this.ns,this.rs,this.cs,this.us&&this,this.ds)).ot=y().t(u,o),t.ut=e,t.ns=this.ns,t.st=this.st,t.it=this.it,t.ht=this.ht,t.et=this.et,t.nt=this.nt,t.yt=this.yt,t.rt=this.rt,t.Z=!!c(2),this.ls&&this.ls(t),t}xt(){}}class zt extends ut{constructor(t,s,i,e,h,n,r,o,u,a,c,l,d){super(t,y(),s,i),this.vs=e,this.ps=h.L(e),this.gs=n,this.ts=r,this.ys=o-r,this.ns=u,this.rs=a,this.cs=c,this.Ms=l,this.bs=d,this.lt=!1}xt(){const t=this.gs>0?s((es-this.ct)/this.gs,1):1,e=y(this.ts+t*this.ys);var h=this.ns/2;h=new q(this.vs.r+t*this.ps.r,this.vs.g+t*this.ps.g,this.vs.b+t*this.ps.b,(this.vs.a+t*this.ps.a)*(h>t?t/h:t>1-h?(1-t)/h:1)),this.rs&&C(!0);let n=this.u,r=this.angle;if(this.Ms&&(n=this.Ms.u.add(n.rotate(-this.Ms.angle)),r+=this.Ms.angle),this.cs){var o=this.ot;this.Ms&&(o=o.rotate(-this.Ms.angle));var u=o.length();u&&(o=o.scale(1/u),e.y=i(e.x,u*=this.cs),r=o.angle(),v(n.add(o.multiply(y(0,-u/2))),e,this.Y,h,r,this.Z))}else v(n,e,this.Y,h,r,this.Z);this.rs&&C(),1==t&&(this.color=h,this.size=e,this.bs&&this.bs(this),this.P=1)}}let _t,Bt,Ut,Wt,Yt,Gt,Ot,Ht,Xt,jt,$t,Kt=!0;const qt=1e4,Zt=11,Vt=4*Zt,Jt=qt*Vt,Qt=1/60;let ts=[],ss=[],is=0,es=0,hs=0,ns=0;const rs=[],os=[],us={xs:new q(1,1,1,1),Ss:new q(1,1,1,0),Is:new q(.65,.65,.65,1),As:new q(.5,.5,.5,1),Ps:new q(.25,.25,.25,1),Ts:new q(.1,.1,.1,1),ks:new q(.15,.15,.15,1),Ns:new q(0,0,0,1),Cs:new q(1,1,0,1),Ls:new q(1,1,.38,1),Ws:new q(.4,.22,.19,1),Fs:new q(1,.65,.65,1),clear:new q(0,0,0,0),Hs:new q(0,0,1,.5),Os:new q(1,0,0,1)},as=.5;class cs extends ut{speed;Ds;Bs;js;Us;_s;zs;Gs;Ks;Rs;constructor(t=y(0,0)){super(t),this.Y=p(0,16),this.Lt(),this.et=.2,this.speed=.14,this.Ds=.5,this.nt=3,this.Bs=!1,this.js=0,this.rt=1,this.Us=0,this._s=9,this.Gs=[],this.Ks=void 0,this.zs=0,this.Rs=void 0}Vs(){clearInterval(this.Rs),this.Rs=setInterval(()=>{this.color.set(this.color.r,this.color.g,this.color.b,1>this.color.a?1:.2)},100),setTimeout(()=>{this.Rs&&(clearInterval(this.Rs),this.Rs=void 0,this.color.set(this.color.r,this.color.g,this.color.b,1))},1e3)}qs(){this.u=y(this.Ks.u.x,this.Ks.u.y+1)}$s(){return this._s}Es(t=!1){this._s-=1,this.Vs(),0>=this._s||t?new It([1.1,,-397,.01,.03,.09,3,1.2,1,,,,,,,.1,,.8,.04]).play(this.u,as):this._s>0&&new It([1.1,,397,.01,.03,.09,3,1.2,1,,,,,,,.1,,.8,.04]).play(this.u,as)}Js(t){this.Us+=t}Ys(){return this.Us}update(){if(super.update(),this.Gs.push(this.u.p()),this.Gs.length>6&&this.Gs.shift(),0>=this.$s())return;const t=bt?((t,s=0)=>At[s]&&At[s][0]||y())():((t="ArrowUp",s="ArrowDown",i="ArrowLeft",e="ArrowRight")=>y((R(e)?1:0)-(R(i)?1:0),(R(t)?1:0)-(R(s)?1:0)))();0!==t.x&&(this.ot=y(t.x*this.speed,this.ot.y));let s=L(0)||L(1)||L(2)||L(3)||P("ArrowUp")||P("w"),i=F(0)||F(1)||F(2)||F(3)||S("ArrowUp")||S("w");this.dt?(this.dt instanceof fs&&(this.zs=Math.max(this.dt.Qs(),this.zs)),this.js=0,this.Ks=this.dt):0===this.js&&0>this.ot.y&&(i=!0,this.js=1),this.Bs&&s&&2===this.js?(this.ot=y(this.ot.x,this.Ds),this.Bs=!1,this.js+=1,new It([.6,,449,.02,.1,.3,1,2.9,30,,,,,.9,,,,.1,.03,,-1054]).play(this.u,as)):i&&1===this.js?(this.Bs=!0,this.js+=1):s&&0===this.js&&(this.ot=y(this.ot.x,this.Ds),this.js+=1)}xt(){const t=this.Gs[0]||this.u;for(let s=0;10>s;s++){const i=s/10;T(y(t.x-.15*Math.sin(.5*Math.sin(6*es-1.5*i)*(1-i))*s,t.y+.1*s),.1*(1-.5*i),us.Ns,.01,us.Ts)}for(const t of this.Gs)T(y(t.x,t.y-.05),.5,us.Ns,.05,us.Ts);ts.filter(t=>t instanceof ds).some(t=>this.u.x>t.u.x-1&&t.u.x+1>this.u.x&&t.u.y>this.u.y)&&E("!!!",y(this.u.x,this.u.y+1),1,us.Os),super.xt()}Xs(){return this.zs}Zs(){return this.Ks}}class ls extends ut{constructor(t,s){super(t,y(1,1)),this.Lt(),this.tt=0,this.rt=2,this.Y=p(s,16)}update(){super.update(),-10>this.u.y&&(new It([.6,,500,.02,.09,.01,3,1.5,,,,,,.6,35,.4,,.42,.09,,1303]).play(this.u,as),this.destroy())}bt(t){return!this.tt&&t instanceof cs&&(this.Lt(!1,!1),this.tt=1,this.ut=.2*(Math.random()-.5),t.Js(1),new It([,,129,.01,,.15,,,,,,,,5]).play(t.u,as),!0)}}class ds extends ut{constructor(t){super(t),this.Y=p(4,16),this.Lt(),this.tt=.01,this.rt=3,this.color=us.Hs}xt(){super.xt();for(let t=0;5>t;t++)T(y(this.u.x,this.u.y+.25*t),.5-.1*t,us.Hs,0)}bt(t){if(t instanceof cs){const s=new kt(t.u,0,0,0,100,3.14,p(4,16),us.Hs,us.Hs,us.Ss,us.Ss,.5,1,.1,.1,.05,1,1,0,3.14,.1,.2,!1,!1,!0);return setTimeout(()=>s.destroy(),250),new It([,.2,40,.5,,1.5,,11,,,,,,199]).play(t.u,as),t.Es(),this.destroy(),!0}return t instanceof ys&&(this.destroy(),!0)}}class ys extends ut{constructor(t,s){super(t,s),this.Lt(),this.tt=0}}class fs extends ut{floor;constructor(t,s,i){super(t,s),this.Lt(),this.tt=0,this.rt=0,this.color=us.clear,this.floor=i}ti(t,s,i=.1){b(y(this.u.x,this.u.y+1.5),y(this.size.x,this.size.y-3),t,0,!1),this.si(),b(this.u,this.size,us.xs,0,!1),M(y(this.u.x-s,this.u.y+3),y(this.u.x+s,this.u.y+3),i,us.xs,!1)}Qs(){return this.floor}}class xs extends fs{type;ii;hi;ei;ni;constructor(t,s,i,e){if(super(t,s,i),this.Lt(),this.tt=0,this.rt=0,this.type=0|Math.floor(4*Math.random()),this.color=us.clear,this.hi=!1,this.ei=e.N(500,1e3),this.ni=0===e.N(0,2),4>e.N(0,5)){const s=[1,2,3],i=s[e.N(0,s.length)];this.ii=new ls(y(t.x,t.y+.75),i)}}si(){switch(this.type){case 1:M(y(this.u.x-1.25,this.u.y+1.5),y(this.u.x+1.25,this.u.y+1.5),.1,us.xs,!1),M(y(this.u.x,this.u.y+2.75),y(this.u.x,this.u.y),.1,us.xs,!1);break;case 2:O(m(y(this.u.x-1.25,this.u.y+2.75)),45,0,Math.PI/2,us.As),O(m(y(this.u.x+1.25,this.u.y+2.75)),45,Math.PI/2,Math.PI,us.As)}}xt(){this.ti(this.hi?us.Ls:us.Ps,1.5,.1)}update(){super.update(),this.ii?.P&&this.ni&&setTimeout(()=>this.hi=!0,this.ei)}ri(){return void 0!==this.ii}}class ws extends fs{oi;ui;state;constructor(t,s,i){super(t,s,i),this.Lt(),this.tt=0,this.rt=0,this.oi=new Z(2.5),this.ui=new Z(2.5),this.state=!1,this.color=us.clear}si(){A(y(this.u.x,this.u.y+1.25),1,1.25,0,us.As),T(y(this.u.x,this.u.y+2.25),.5,us.Fs),M(y(this.u.x+.05,this.u.y+2.25),y(this.u.x+.25,this.u.y+2.45),.1,us.Ps,!1),M(y(this.u.x-.05,this.u.y+2.25),y(this.u.x-.25,this.u.y+2.45),.1,us.Ps,!1),((t,s=new q,i=0,e=new q(0,0,0),h,n=ct)=>{n.fillStyle=""+s,n.beginPath();for(const s of t.map(m))n.lineTo(s.x,s.y);n.closePath(),n.fill(),i&&(n.strokeStyle=""+e,n.lineWidth=i*J,n.stroke())})(this.state?[y(this.u.x-.5,this.u.y+1.5),y(this.u.x-.75,this.u.y+.5),y(this.u.x+.75,this.u.y+.5),y(this.u.x+.5,this.u.y+1.5)]:[y(this.u.x-.75,this.u.y+1.5),y(this.u.x-.5,this.u.y+.5),y(this.u.x+.5,this.u.y+.5),y(this.u.x+.75,this.u.y+1.5)],us.Ps),T(y(this.u.x-.5,this.u.y+1),.25,us.Fs),T(y(this.u.x+.5,this.u.y+1),.25,us.Fs)}xt(){this.ti(us.Ls,1.5,.1)}update(){super.update(),this.u.y-20>V.y||(this.ui.M()&&this.ui.q()?(this.state=!0,this.ui.I(),this.oi.set(2.5),new ds(this.u)):this.oi.M()&&this.oi.q()&&(this.state=!1,this.ui.set(2.5),this.oi.I()))}ri(){return!1}}class ps extends fs{hi;timeout;ai;constructor(t,s,i,e){super(t,s,i),this.hi=!1,this.timeout=!1,this.ai=!1;const h=[1,2,3],n=h[e.N(0,h.length)];new ls(y(t.x,t.y+.75),n)}si(){this.hi&&(O(m(y(this.u.x,this.u.y)),45,Math.PI,0,us.As),T(y(this.u.x,this.u.y+1.25),.5,us.Fs),M(y(this.u.x+.05,this.u.y+1.25),y(this.u.x+.25,this.u.y+1.45),.1,us.Ps,!1),M(y(this.u.x-.05,this.u.y+1.25),y(this.u.x-.25,this.u.y+1.45),.1,us.Ps,!1),T(y(this.u.x-.75,this.u.y+.5),.25,us.Fs),T(y(this.u.x+.75,this.u.y+.5),.25,us.Fs),E("Boo!!",y(this.u.x,this.u.y+2),.8,us.xs,.1,us.Ns))}xt(){this.ti(this.hi?us.Ls:us.Ps,1.5,.1)}bt(t){return t instanceof cs&&0>t.ot.y&&!this.timeout&&!this.ai?(this.ai=!0,setTimeout(()=>{this.hi=!0,new It([1.1,,100,.01,.4,.01,2,3.1,43,,-108,.37,,,.4,,,.6,,.03]).play(this.u,as),t.dt!==this||this.timeout||(t.Es(),this.timeout=!0,t.ot.y=.3),setTimeout(()=>{this.hi=!1,this.timeout=!1,this.ai=!1},5e3)},a(1e3,2e3)),!0):t instanceof cs}ri(){return!0}}class gs extends fs{constructor(t,s,i){super(t,s,i)}si(){O(m(y(this.u.x-3.75,this.u.y+2.75)),45,0,Math.PI/2,us.As),O(m(y(this.u.x+3.75,this.u.y+2.75)),45,Math.PI/2,Math.PI,us.As),M(y(this.u.x-3.75,this.u.y+1.5),y(this.u.x+3.75,this.u.y+1.5),.1,us.xs,!1),M(y(this.u.x,this.u.y+2.75),y(this.u.x,this.u.y+1.5),.1,us.xs,!1)}xt(){this.ti(us.Ls,4.25,.1),E("Home, Sweet Home!",y(this.u.x,this.u.y+3.5),.8,us.Cs,.1,us.Ns,"center",st,void 0,ct)}update(){super.update()}ri(){return!1}}class ms{windows;ci;li;width;height;di;floor=1;constructor(t){this.windows=[],this.ci=5,this.li=6,this.width=2.5,this.height=.5,this.di=t,this.windows.push(new xs(y(-this.ci,-this.li),y(this.width,this.height),this.floor,this.di)),this.windows.push(new xs(y(this.ci,-this.li),y(this.width,this.height),this.floor,this.di))}}class vs extends ms{fi;constructor(t){super(t),this.fi=0;const s=[1,3,6,10,3,11,0,4,0,5,3,9,12,13];for(const[i,e]of s.entries())this.floor++,this.windows.push(...X(e,this.ci,this.li*i,this.width,this.height,this.floor,t));this.fi=this.windows.filter(t=>t.ri()).length}wi(){return this.fi}}class bs extends ms{constructor(t){super(t),this.li=0}pi(){this.floor++,this.windows.push(...X(this.di.N(13),this.ci,this.li,this.width,this.height,this.floor,this.di)),this.li+=6}mi(){return this.li}}const Ms=[[xs,xs],[xs,ps],[ps,xs],[xs,xs,xs],[xs,ws,xs],[xs,ws],[ws,xs],[ws,xs,xs],[xs,xs,ws],[ws,xs,ws],[xs,xs,ps],[ps,xs,xs],[xs,ps,xs],[gs]];class As{text;u;size;gi;constructor(t,s,i){this.text=t,this.u=s,this.size=i,this.gi=!1}draw(){b(this.u,this.size,this.gi?us.Cs:us.xs,0,!1),E(this.text,this.u,1.5,us.Ns)}yi(t,s){return this.gi=!(this.u.x-this.size.x/2>t.x||t.x>this.u.x+this.size.x/2||this.u.y-this.size.y/2>t.y||t.y>this.u.y+this.size.y/2),this.gi&&s}}class Ts{Mi}let Es,Cs=1;class Rs extends Ts{bi=new Image(8,8);offsetY;finished;Mi;xi;Si;Ii;Ai;constructor(){super(),this.bi.src="black_cat.png",this.offsetY=0,this.finished=!1,this.xi=new As("Play Intro Level",y(0,0),y(14,2)),this.Si=new As("Play Endless Mode",y(0,-3),y(14,2)),this.Ii=new As(">",y(5,-6),y(2,2)),this.Ai=new As("<",y(-5,-6),y(2,2)),this.Mi=void 0}update(){this.offsetY=Math.sin(es),this.xi.yi(mt,pt(0))?(this.finished=!0,this.Mi=new Ss):this.Si.yi(mt,pt(0))?(this.finished=!0,this.Mi=new Is):this.Ai.yi(mt,pt(0))?(Cs--,1>Cs&&(Cs=1)):this.Ii.yi(mt,pt(0))&&Cs++}draw(){((t,s,i,e,h=20)=>{for(let n=0;h>n;n++){const r=n/(h-1);T(t,s*(1-r),new q(i.r*(1-r)+e.r*r,i.g*(1-r)+e.g*r,i.b*(1-r)+e.b*r,i.a*(1-r)+e.a*r))}})(y(0,6-this.offsetY),4,new q(0,0,0,.5),us.xs,30),v(y(0,6-this.offsetY),y(5,5),p(0,16))}Pi(){E("Miss\nFortune",y(0,13),3,us.Cs),this.xi.draw(),this.Si.draw(),E("Seed: "+Cs,y(0,-6),1.5,us.xs),this.Ii.draw(),this.Ai.draw(),E('Change "seed" or randomize game',y(0,-9),1.2,us.xs)}Ti(){return this.Mi||new Ss}ki(){return this.finished}Ni(){}}class Ps extends Ts{Ci;Li;Wi;Fi;finished;Hi;constructor(){super(),this.Ci=new cs(y(0,-7.5)),this.Li=new Z(5),this.Wi=0,this.Fi=!1,this.Mi=void 0,this.finished=!1,this.Hi=!1,new ys(y(0,-8.5),y(16,.5)),w(50)}update(){const t=m(this.Ci.u),s=1180,i=this.Ci.Zs(),e=i?m(i.u):y(0,0);t.y>s&&e.y>s?(this.Ci.Es(!0),this.finished=!0):t.y>s&&this.Ci.$s()>0&&(this.Ci.Es(),this.Ci.$s()>0&&this.Ci.qs())}draw(){b(y(0,2+this.Wi),y(14,23),us.ks,0,!1),M(y(-7,-8.5),y(-7,13+this.Wi),.1,us.xs,!1),M(y(7,-8.5),y(7,13+this.Wi),.1,us.xs,!1),this.Oi(),E("Locked out again!",y(0,-1.5),.8,us.Cs,.1,new q(0,0,0,1),"center",st,void 0,ct),E("I'll need to double jump\njust to reach these windows...",y(0,4.5),.8,us.Cs,.1,new q(0,0,0,1),"center",st,void 0,ct)}Oi(){b(y(0,-5.75),y(4,-5.5),us.Ws,0,!1),M(y(-2,-3),y(2,-3),.1,us.xs,!1),M(y(0,-8.5),y(0,-3),.1,us.xs,!1),M(y(2,-8.5),y(2,-3),.1,us.xs,!1),M(y(-2,-8.5),y(-2,-3),.1,us.xs,!1),M(y(.5,-5),y(.5,-6),.1,us.Cs,!1),M(y(-.5,-5),y(-.5,-6),.1,us.Cs,!1)}ki(){return this.finished}Ni(){ts.forEach(t=>t.destroy()),w(35)}}class Ss extends Ps{ks;constructor(){super(),this.ks=new vs(new $(Cs))}update(){super.update();const t=this.Ci.u.y;t>7&&!this.Fi&&(this.Fi=!0),this.Li.q()&&this.Fi?(70>this.Wi&&(7>t-this.Wi?this.Wi+=.01:this.Wi=t-7),x(y(0,this.Wi))):this.Fi&&this.Li.set(0),this.Ci.$s()>0||this.Hi||(this.Hi=!0,this.Ci.Vs(),setTimeout(()=>{this.finished=!0},1e3)),this.Ci.dt instanceof gs&&setTimeout(()=>this.finished=!0,1e3)}Pi(){b(y(0,-11+this.Wi),y(15,3.5),us.xs,0,!0),b(y(0,-11+this.Wi),y(13.5,3),us.Ns,0,!0),E("Smashables: "+this.Ci.Ys()+"/"+this.ks.wi(),y(0,-10.5+this.Wi),.8,us.Cs,.2,new q(0,0,0,1),"center",st,void 0,dt),E("Lives: "+this.Ci.$s(),y(0,-11.5+this.Wi),.8,us.Cs,.2,new q(0,0,0,1),"center",st,void 0,dt)}draw(){super.draw(),E("And if I time it right,\nI can reach the penthouse!",y(0,10.5),.8,us.Cs,.1,new q(0,0,0,1),"center",st,void 0,ct)}Ti(){return new Ns(!1,Cs,this.Ci.Ys(),this.Ci.Xs())}}class Is extends Ps{ks;di;constructor(){super(),this.di=new $(Cs),this.ks=new bs(this.di);for(let t=0;5>t;t++)this.ks.pi();w(50)}update(){this.Ci.u.y+25>this.ks.mi()&&this.ks.pi(),super.update();const t=this.Ci.u.y;t>7&&!this.Fi&&(this.Fi=!0),this.Li.q()&&this.Fi?(7>t-this.Wi?this.Wi+=.01:this.Wi=t-7,x(y(0,this.Wi))):this.Fi&&this.Li.set(0),this.Ci.$s()>0||(this.finished=!0)}draw(){super.draw(),E("This building is huge!\nHow high can I climb?",y(0,10.5),.8,us.Cs,.1,new q(0,0,0,1),"center",st,void 0,ct)}Pi(){b(y(0,-11+this.Wi),y(15,3.5),us.xs,0,!0),b(y(0,-11+this.Wi),y(13.5,3),us.Ns,0,!0),E("Smashables: "+this.Ci.Ys(),y(0,-10.5+this.Wi),.8,us.Cs,.2,us.Ns,"center",st,void 0,dt),E("Lives: "+this.Ci.$s(),y(0,-11.5+this.Wi),.8,us.Cs,.2,us.Ns,"center",st,void 0,dt)}Ti(){return new Ns(!0,Cs,this.Ci.Ys(),this.Ci.Xs())}ki(){return this.finished}Ni(){ts.forEach(t=>t.destroy()),w(35)}}class Ns extends Ts{finished;Di;Bi;ji;Ui;floor;seed;constructor(t=!1,s,i=0,e=0){super(),this.finished=!1,this.ji=t,this.Ui=i,this.floor=e,this.seed=s,this.Di=new As("Restart",y(0,-2),y(14,2)),this.Bi=new As("Main Menu",y(0,-5),y(14,2)),this.Mi=void 0}draw(){E("Game Over!",y(0,8),2.4,us.Cs,.1,us.Ns,"center"),E(`Seed: ${this.seed}\n\nSmashed: ${this.Ui} things\n\nFloors Climbed: ${this.floor}`,y(0,3),1.2,us.Cs,.1,us.Ns,"center"),this.Di.draw(),this.Bi.draw()}Pi(){}Ti(){return this.Mi||new Rs}ki(){return this.finished}update(){this.Di.yi(mt,gt(0))?(this.Mi=this.ji?new Is:new Ss,this.finished=!0):this.Bi.yi(mt,gt(0))&&(this.Mi=new Rs,this.finished=!0)}Ni(){}}var Ls;Ls=y(720,1280),tt=Ls,et=-.01,nt=!0,rt=!0,ot=175,ht=!0,((t=!0)=>{Kt=t})(!1),((t,i,h,n,o,u=[],a=document.body)=>{function c(t=0){var e=t-hs;for(hs=t,ns+=e,(t=0)||(ns=s(ns,50)),l(),e=0,0>ns&&ns>-9&&(e=ns,ns=0);ns>=0;ns-=1e3/60)es=is++/60,D(),i(),rs.forEach(t=>t()),G(),h(),k();for(var u of(ns+=e,yt=y(at.width,at.height),dt.imageSmoothingEnabled=ct.imageSmoothingEnabled=!1,(()=>{Bt.viewport(0,0,_t.width=at.width,_t.height=at.height),Bt.clear(Bt.COLOR_BUFFER_BIT),Bt.useProgram(Ut),Bt.activeTexture(Bt.TEXTURE0),ft[0]&&Bt.bindTexture(Bt.TEXTURE_2D,Wt=ft[0].l);var t=jt=$t=0,s=(s,i,e,h)=>{s=Bt.getAttribLocation(Ut,s);const n=e&&Vt,r=e&&1,o=1==e;Bt.enableVertexAttribArray(s),Bt.vertexAttribPointer(s,h,i,o,n,t),Bt.vertexAttribDivisor(s,r),t+=h*e};Bt.bindBuffer(Bt.ARRAY_BUFFER,Gt),s("g",Bt.FLOAT,0,2),Bt.bindBuffer(Bt.ARRAY_BUFFER,Yt),Bt.bufferData(Bt.ARRAY_BUFFER,Jt,Bt.DYNAMIC_DRAW),s("p",Bt.FLOAT,4,4),s("u",Bt.FLOAT,4,4),s("c",Bt.UNSIGNED_BYTE,1,4),s("a",Bt.UNSIGNED_BYTE,1,4),s("r",Bt.FLOAT,4,1),s=y(2*J).o(yt);var i=y(-1).L(V.multiply(s));Bt.uniformMatrix4fv(Bt.getUniformLocation(Ut,"m"),!1,[s.x,0,0,0,0,s.y,0,0,1,1,1,1,i.x,i.y,0,0])})(),n(),ts.sort((t,s)=>t.rt-s.rt),ts))u.P||u.xt();o(),os.forEach(t=>t()),(()=>{if(Tt&&nt&&Pt.M()){var t=r(Pt.get(),4,3);if(t){var s=dt;if(s.save(),s.globalAlpha=.3*t,s.strokeStyle="#fff",s.lineWidth=3,s.fillStyle=Ct.S()>0?"#fff":"#000",s.beginPath(),t=y(ot,yt.y-ot),rt)s.arc(t.x,t.y,87.5,0,9),s.fill();else for(var i=10;i--;){var e=i*j/4;s.arc(t.x,t.y,105,e+j/8,e+j/8),i%2&&s.arc(t.x,t.y,57.75,e,e),1==i&&s.fill()}for(s.stroke(),t=y(yt.x-ot,yt.y-ot),i=4;i--;)e=t.add(y().D(i,87.5)),s.fillStyle=Et[i]?"#fff":"#000",s.beginPath(),s.arc(e.x,e.y,43.75,0,9),s.fill(),s.stroke();s.restore()}}})(),((t,s=!1)=>{(Xt||s)&&(W(),!s||t.drawImage(_t,0,0))})(ct),requestAnimationFrame(c)}function l(){if(tt.x){at.width=tt.x,at.height=tt.y;const t=innerWidth/innerHeight,s=at.width/at.height;(_t||at).style.width=at.style.width=lt.style.width=s>t?"100%":"",(_t||at).style.height=at.style.height=lt.style.height=s>t?"":"100%"}else at.width=s(innerWidth,Q.x),at.height=s(innerHeight,Q.y);lt.width=at.width,lt.height=at.height,yt=y(at.width,at.height)}t||=()=>{},i||=()=>{},h||=()=>{},n||=()=>{},o||=()=>{},a.style.cssText="margin:0;overflow:hidden;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#000;image-rendering:pixelated;user-select:none;-webkit-user-select:none;touch-action:none;-webkit-touch-callout:none",a.appendChild(at=document.createElement("canvas")),ct=at.getContext("2d"),(()=>{function t(t){return"KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t}onkeydown=s=>{s.repeat||(bt=!1,Mt[0][s.code]=3,Mt[0][t(s.code)]=3)},onkeyup=s=>{Mt[0][s.code]=4,Mt[0][t(s.code)]=4},onmousedown=t=>{St&&"running"!=St.state&&St.resume(),bt=!1,Mt[0][t.button]=3,vt=z(t),t.button&&t.preventDefault()},onmouseup=t=>Mt[0][t.button]=2&Mt[0][t.button]|4,onmousemove=t=>vt=z(t),onwheel=t=>t.ctrlKey?0:e(t.deltaY),oncontextmenu=()=>!1,onblur=()=>I(),Tt&&(()=>{function t(t){St&&"running"!=St.state&&St.resume();const i=t.touches.length;if(i){const i=y(t.touches[0].clientX,t.touches[0].clientY);vt=z(i),s?bt=nt:Mt[0][0]=3}else s&&(Mt[0][0]=2&Mt[0][0]|4);return s=i,document.hasFocus()&&t.preventDefault(),!0}let s,i=t;nt&&(i=i=>{Ct=y(),Et=[],bt=!0,i.touches.length&&Pt.set();const e=y(ot,yt.y-ot),h=yt.L(y(ot,ot)),n=yt.scale(.5);for(const t of i.touches){var r=z(y(t.clientX,t.clientY));r.W(e)<ot?Ct=r.L(e).scale(2/ot).m():r.W(h)<ot?(r=r.L(h).direction(),Et[r]=1):r.W(n)<ot&&!s&&(Et[9]=1)}return t(i),!0},Et=[],Ct=y()),document.addEventListener("touchstart",t=>i(t),{passive:!1}),document.addEventListener("touchmove",t=>i(t),{passive:!1}),document.addEventListener("touchend",t=>i(t),{passive:!1}),onmousedown=onmouseup=()=>0})()})(),Rt=St.createGain(),Rt.connect(St.destination),Rt.gain.value=.3,(()=>{_t=document.createElement("canvas"),Bt=_t.getContext("webgl2",{antialias:Kt});var t=at.parentElement;t.appendChild(_t),Ut=(()=>{const t=Bt.createProgram();return Bt.attachShader(t,U("#version 300 es\nprecision highp float;uniform mat4 m;in vec2 g;in vec4 p,u,c,a;in float r;out vec2 v;out vec4 d,e;void main(){vec2 s=(g-.5)*p.zw;gl_Position=m*vec4(p.xy+s*cos(r)-vec2(-s.y,s)*sin(r),1,1);v=mix(u.xw,u.zy,g);d=c;e=a;}",Bt.VERTEX_SHADER)),Bt.attachShader(t,U("#version 300 es\nprecision highp float;uniform sampler2D s;in vec2 v;in vec4 d,e;out vec4 c;void main(){c=texture(s,v)*d+e;}",Bt.FRAGMENT_SHADER)),Bt.linkProgram(t),t})(),t=new ArrayBuffer(Jt),Ot=new Float32Array(t),Ht=new Uint32Array(t),Yt=Bt.createBuffer(),Gt=Bt.createBuffer(),t=new Float32Array([Xt=0,0,1,0,0,1,1,1]),Bt.bindBuffer(Bt.ARRAY_BUFFER,Gt),Bt.bufferData(Bt.ARRAY_BUFFER,t,Bt.STATIC_DRAW)})(),a.appendChild(lt=document.createElement("canvas")),dt=lt.getContext("2d"),at.style.cssText=lt.style.cssText="position:absolute",_t&&(_t.style.cssText="position:absolute"),l(),a=u.map((t,s)=>new Promise(i=>{const e=new Image;e.crossOrigin="anonymous",e.onerror=e.onload=()=>{ft[s]=new wt(e),i()},e.src=t})),u.length||a.push(new Promise(t=>{ft[0]=new wt(new Image),t()})),Promise.all(a).then(()=>{new Promise(s=>s(t())).then(c)})})(()=>{Es=new Rs,new Nt([[[.4,0,1e4,,,,,,,,,,.01,6.8,-.2],[3,0,,1],[1.4,0,84,,,,,.7,,,,.5,,6.7,1,.01],[1.2,0,490,,.25,.45,,,,,,,.2,,,,,,,.1],[.7,0,4e3,,,.03,2,1.25,,,,,.02,6.8,-.3,,.5],[.6,0,77,,,.7,2,.41,,,,,,,,.06],[,0],[1.5,0,740,,,.15,2,.2,-.1,-.15,9,.02,,.1,.12,,.06]],[[[,-1,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,],[,1,2,,,,,6,6,,,,,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,9,,11,,4,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,-1,11,,,,,,,,-1,,,,,,,-1,11,,,,,,,,11,,,11,11,,11,,11,,,,,,,,11,,,,,,,,11,,,,,,,,11,,,11,11,,11,,],[,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,-1,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,-1,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,-1,,,,,,2,,,,,,,,,,6,,,,,,6,,,,,,,,,,,,,,,,,,,,,,,,-1,,,,,,6,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,]],[[4,-.6,-1,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,-1,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[4,-.6,-1,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,-1,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,10,,,,,,10,,,,,,,,,,,,10,,,,10,,,,10,,3,,,,10,,,,,,10,,,,,,,,,,,,,,,,10,,,,10,,3,,,,]],[[4,-.6,9,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,-1,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,10,,,,,,10,,,,,,,,,,,,10,,,,10,,,,10,,3,,,,10,,,,,,10,,,,,,,,,,,,,,,,10,,,,10,,3,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[4,-.6,-1,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,-1,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,-1,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,10,,,,,,10,,,,,,,,,,,,10,,,,10,,,,10,,3,,,,10,,,,,,10,,,,,,,,,,,,,,,,10,,,,10,,3,,,,],[6,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,28,,,26,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,,31,,33,,]],[[4,-.6,-1,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,-1,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,10,,,,,,10,,,,,,,,,,,,10,,,,10,,,,10,,3,,,,10,,,,,,10,,,,,,,,,,,,,,,,10,,,,10,,3,,,,],[6,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,31,,,28,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,31,,,33,,]],[[4,-.6,9,,9,,9,9,,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,,9,20,9,,9,,9,,9,,9,,9,,9,,9,,9,9],[1,1,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,4,,9,,11,,14,,],[2,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,9,,,,,-1,,,9,,,,,,,,9,,,,,,,,9,,,,,,,,],[,1,,,,,9,,,,,,,,9,,,,,,,,9,,6,,,,,,9,,,,,,,,9,,,,,,,,9,,-1,,,,,,9,,,,7,,,,,,,,],[3,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,,,,,,,,,2,,,,,,2,,4,,,,12,,,,],[3,,6,,,,,,6,,,,,,,,,,6,,,,,,6,,,,9,,,,7,,6,,,,,,6,,6,,,,6,,,,6,,,,,,6,,,,,,,,,,],[,,,,,,,,,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[5,,10,,,,,,10,,,,,,,,,,,,10,,,,10,,,,10,,3,,,,10,,,,,,10,,,,,,,,,,,,,,,,10,,,,10,,3,,,,],[6,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,31,,,28,,,,26,,28,,,,26,28,,28,,,,,,,26,,28,,,,26,28,,31,,,33,,],[7,,,,7,,9,,11,,,,14,,,,9,,14,,,,16,,,,14,,11,,9,,7,,,,7,,9,,11,,,,14,,,,11,,,,9,,,,7,,,,9,,,,,,]]],[4,5,6,8,8,8],108,{title:"Cataclysm",instruments:["snare","ghost","Kick","Instrument 3","hats","bass","lead","lead2"],patterns:["Pattern 0","Pattern 1","Pattern 2","Pattern 3","Pattern 4","Pattern 5","Pattern 6","Pattern 7","Pattern 8"]}]).play(y(),.3,1,0,!0)},()=>{Es.update(),Es.ki()&&(Es.Ni(),x(y(0,0)),Es=Es.Ti())},()=>{},()=>{Es.draw()},()=>{Es.Pi()},["black_cat.png"])</script>