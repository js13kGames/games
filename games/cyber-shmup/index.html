<!doctype html><title>CyberShmup</title><style>#w,canvas{position:absolute}body{background:#000;padding:0;margin:0}canvas{top:0;left:0;box-shadow:0 0 150px #024}</style><meta name=mobile-web-app-capable content=yes><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><div id=w><canvas id=m></canvas><canvas id=ui></canvas></div><script>!function(e,t,n){function r(){this.D=function(e){for(var t=0;24>t;t++)this[String.fromCharCode(97+t)]=e[t]||0;.01>this.B&&(this.B=.01),.18>(e=this.C+this.B+this.e)&&(e=.18/e,this.C*=e,this.B*=e,this.e*=e)}}function i(e){Ke=ze=1,a(e)}function a(e){e.preventDefault(),Ke?Ke=0:ze=0,e=e.touches?e.touches[0]:e;var t=Nt.getBoundingClientRect();We=T((e.clientX-t.left)/Ye,480),Ve=T((e.clientY-t.top)/Ye,640)}function o(e){e.preventDefault(),e.touches&&e.touches[0]||(ze=0,We=Ve=-1)}function f(e,t){return e[t]||(e[t]=qt.getUniformLocation(e[0],t))}function c(e,t){var n=qt.createShader(t);return qt.shaderSource(n,e),qt.compileShader(n),qt.getShaderParameter(n,qt.COMPILE_STATUS)?n:(console.error("An error occurred compiling the shaders:",+qt.getShaderInfoLog(n)),null)}function u(e,t,n){t=c(t,qt.FRAGMENT_SHADER),e=c(e,qt.VERTEX_SHADER);var r=qt.createProgram();if(qt.attachShader(r,t),qt.attachShader(r,e),qt.linkProgram(r),!qt.getProgramParameter(r,qt.LINK_STATUS))return console.error("Unable to initialize the shader program:",qt.getProgramInfoLog(r)),qt.deleteProgram(r);for(r=[r],e=0;e<n.length;e++)r[n[e]]=qt.getAttribLocation(r[0],n[e]),qt.enableVertexAttribArray(r[n[e]]);return r}function l(e,t){var n=qt.createTexture();return qt.bindTexture(qt.TEXTURE_2D,n),qt.texParameteri(qt.TEXTURE_2D,qt.TEXTURE_WRAP_S,t?qt.REPEAT:qt.CLAMP_TO_EDGE),qt.texParameteri(qt.TEXTURE_2D,qt.TEXTURE_WRAP_T,t?qt.REPEAT:qt.CLAMP_TO_EDGE),qt.texParameteri(qt.TEXTURE_2D,qt.TEXTURE_MIN_FILTER,qt.NEAREST),qt.texParameteri(qt.TEXTURE_2D,qt.TEXTURE_MAG_FILTER,qt.NEAREST),e?qt.texImage2D(qt.TEXTURE_2D,0,qt.RGBA,qt.RGBA,qt.UNSIGNED_BYTE,e):qt.texImage2D(qt.TEXTURE_2D,0,qt.RGBA,480,640,0,qt.RGBA,qt.UNSIGNED_BYTE,null),n}function v(e,t){return qt.activeTexture(qt.TEXTURE0+t),qt.bindTexture(qt.TEXTURE_2D,e),t}function s(){var e=qt.createFramebuffer(),t=l();return qt.bindFramebuffer(qt.FRAMEBUFFER,e),qt.framebufferTexture2D(qt.FRAMEBUFFER,qt.COLOR_ATTACHMENT0,qt.TEXTURE_2D,t,0),[e,t]}function h(e){(e=e?e[0]:null)!==Xe&&(Xe=e,qt.bindFramebuffer(qt.FRAMEBUFFER,e))}function d(e,t){t=t||qt.ARRAY_BUFFER;var n=qt.createBuffer();return qt.bindBuffer(t,n),qt.bufferData(t,e,qt.STATIC_DRAW),n}function g(e,t,n,r,i){var a;a=t;for(var o=[];a;)o=o.concat(nt),a--;a=new Float32Array(o),n=l(e,n);o=d(a);var f=[];t*=6;for(var c=0,u=0;c<t;c+=6,u+=4)f[c+0]=u+0,f[c+1]=u+1,f[c+2]=u+2,f[c+3]=u+0,f[c+4]=u+2,f[c+5]=u+3;return[n,a,o,d(t=new Uint16Array(f),qt.ELEMENT_ARRAY_BUFFER),fn,e.width*(r||1),e.height*(i||1)]}function m(e){qe!==e&&(qe=e,qt.useProgram(e[0]))}function p(e,t){if(0!==t){var n=e[4];m(n),qt.uniform1i(f(n,"t"),v(e[0],0)),qt.bindBuffer(qt.ARRAY_BUFFER,e[2]),qt.bufferData(qt.ARRAY_BUFFER,e[1],qt.STATIC_DRAW),qt.vertexAttribPointer(n.p,2,qt.FLOAT,!1,4*rt,0),qt.vertexAttribPointer(n.uv,2,qt.FLOAT,!1,4*rt,8),qt.vertexAttribPointer(n.c,4,qt.FLOAT,!1,4*rt,16),qt.bindBuffer(qt.ELEMENT_ARRAY_BUFFER,e[3]),qt.drawElements(qt.TRIANGLES,6*t,qt.UNSIGNED_SHORT,0)}}function A(e,t,r,i,a,o,f,c,u){var l;l=e[5];var v=e[6];for(l=[l,0,0,0,v,0,-l/2,-v/2,1],r=[1,0,0,0,1,0,r,i,1],(f&&1!==f||c&&1!==c)&&(l=E(l,[f,0,0,0,c,0,0,0,1])),a&&(l=E(l,[f=Math.cos(a),-(a=Math.sin(a)),0,a,f,0,0,0,1])),l=E(l,r),a=b(l=E(l,Yt),0,0),f=b(l,1,0),c=b(l,1,1),l=b(l,0,1),(e=e[1])[(t=4*t*rt)+0]=a[0],e[t+1]=a[1],e[t+rt+0]=f[0],e[t+rt+1]=f[1],e[t+2*rt+0]=c[0],e[t+2*rt+1]=c[1],e[t+3*rt+0]=l[0],e[t+3*rt+1]=l[1],l=0;4>l;l++)u&&(e[t+rt*l+4]=u[0]/255,e[t+rt*l+5]=u[1]/255,e[t+rt*l+6]=u[2]/255),o!==n&&(e[t+rt*l+7]=o)}function E(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],f=e[5],c=e[6],u=e[7],l=e[8],v=t[0],s=t[1],h=t[2],d=t[3],g=t[4],m=t[5],p=t[6],A=t[7],E=t[8];return[n*v+r*d+i*p,n*s+r*g+i*A,n*h+r*m+i*E,a*v+o*d+f*p,a*s+o*g+f*A,a*h+o*m+f*E,c*v+u*d+l*p,c*s+u*g+l*A,c*h+u*m+l*E]}function b(e,t,n){return[t*e[0]+n*e[3]+e[6],t*e[1]+n*e[4]+e[7],t*e[2]+n*e[5]+e[8]]}function T(e,t){return 0>e?0:e>t?t:e}function R(e,t){var n=M(e);return"rgba("+n[0]+", "+n[1]+", "+n[2]+","+t+")"}function M(e){return e=e.split(""),[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16)]}function y(e,t){return function(e){return e.map((function(e){return 1===(e=(~~e).toString(16)).length&&(e="0"+e),e})).join("")}(function(e,t){return e.map((function(e){return e*t}))}(M(e),t))}function w(e){return e-Me*Math.floor((e+Math.PI)/Me)}function P(e,t){var n;return it[e]&&!t||(it[e]=[e]),(n=!t)&&(n=1e4*Math.sin(it[e][0]++),n-=Math.floor(n)),n}function S(e,t){return Math.floor(Math.pow(P(e),2)*(t+1))}function I(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return 0===t?[0,0]:[e[0]/t,e[1]/t]}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function D(e,t){return[e[0]*t,e[1]*t]}function _(e,t){return[e[0]+t[0],e[1]+t[1]]}function F(e,t){return[e[0]*Math.cos(t)+e[1]*Math.sin(t),-e[0]*Math.sin(t)+e[1]*Math.cos(t)]}function k(e,t,n){return _(e,D([t[0]-e[0],t[1]-e[1]],n))}function C(e,t,n,r){return e[0]>=t[0]-n/2&&e[0]<=t[0]+n/2&&e[1]>=t[1]-r/2&&e[1]<=t[1]+r/2}function U(e){return 0<=e[0]&&480>=e[0]&&0<=e[1]&&640>=e[1]}function L(e,t){return Math.atan2(e[1]-t[1],t[0]-e[0])}function B(e,t,n,r,i,a,o,f,c,u){return[e,t,n,60,r,4,i,a,o||0,f,r,0,null,c,u]}function G(e){e[12]&&e[4]===e[10]||(e[12]=W((e[2]-(4*e[4].length-1)*e[5])/2,(e[3]-5*e[5])/2,e[4],e[6],e[5]));var t=e[2]/2,n=e[3]/2;Xt.save(),Xt.fillStyle="#"+y(e[e[11]?6:7],e[14]?.3:1),Xt.translate(e[0]-t,e[1]-n),Xt.save(),e[13]?(Xt.beginPath(),Xt.arc(t,n,t,0,Me,!1),Xt.fill(),Xt.fillStyle="#000",Xt.beginPath(),Xt.arc(t,n,t-5,0,Me,!1),Xt.fill(),Xt.beginPath(),Xt.fillStyle="#"+y(e[7],e[14]?.3:1),Xt.arc(t,n,t-10,0,Me,!1),Xt.fill()):(Xt.transform(1,0,.78*e[8],1,0,0),Xt.fillRect(0,0,e[2],e[3]),Xt.fillStyle="#000",Xt.fillRect(5,5,e[2]-10,e[3]-10),Xt.fillStyle="#"+y(e[7],e[14]?.3:1),Xt.fillRect(10,10,e[2]-20,e[3]-20)),Xt.restore(),e[14]||V(e[12]),Xt.restore()}function N(e){e[11]=0}function O(e){if(C([We,Ve],[e[0],e[1]],e[2],e[3])&&!e[14])return X(e),!0}function X(e){e[9](e)}function q(e,t){e[9]=t,e[10]&&(e[11]+=Tn/100)}function Y(e){Xt.save();var t=e[2]+20+5*(e[8]-1),n=e[3]+20;Xt.translate(e[0],e[1]),Xt.rotate(e[6]),Xt.transform(1,0,e[7]?.78:-.78,1,-t/2,-n/2);var r="#"+(e[10]?y(e[4],.5*(Math.sin(e[11])+1)):e[4]);for(Xt.fillStyle=r,Xt.fillRect(0,0,t,n),Xt.fillStyle="#000",Xt.fillRect(5,5,t-10,n-10),t=e[2]/e[8],n=0;n<e[8];n++)Xt.fillStyle=e[9]>n?r:"#"+e[5],Xt.fillRect(10+n*(t+5),10,t,t);Xt.restore()}function W(e,t,n,r,i){return[e,t,i,r,n,n]}function V(t){if(!t[6]||t[4]!==t[5]){(i=t[6]=e.createElement("canvas")).height=5,i.width=4*t[4].length-1;for(var n=i.getContext("2d"),r=0;r<t[4].length;r++){-1<(a=ot.indexOf(t[4][r]))&&n.drawImage(at,3*a,0,3,5,4*r,0,3,5)}var i,a=(i=n.getImageData(0,0,i.width,5)).data,o=M(t[3]);for(r=0;r<a.length;r+=4)a[r]=o[0],a[r+1]=o[1],a[r+2]=o[2];n.putImageData(i,0,0)}Xt.drawImage(t[6],t[0],t[1],(4*t[4].length-1)*t[2],5*t[2])}function j(t,n){var r=[],i=e.createElement("canvas");i.width=i.height=320;var a=i.getContext("2d"),o=a.createRadialGradient(160,160,160,160,160,0);return o.addColorStop(0,R("ccc",0)),o.addColorStop(1,"#ccc"),a.fillStyle=o,a.fillRect(0,0,320,320),r[1]=g(i,1,void 0,void 0,void 0),r[2]=[240,0],r[3]=[0,0],r[4]=480*1.33,r[5]=32*Math.ceil(20),r[6]=M(t),r[7]=n,r[8]=[20,40],(i=e.createElement("canvas")).width=64,i.height=32,(a=i.getContext("2d")).beginPath(),a.lineWidth=4,a.strokeStyle="#ccc",a.moveTo(8,0),a.lineTo(1,16),a.lineTo(8,32),a.lineTo(32,32),a.lineTo(40,16),a.lineTo(32,0),a.lineTo(8,0),a.moveTo(40,16),a.lineTo(64,16),a.stroke(),a.lineWidth=2,a.strokeStyle="#000",a.stroke(),r[0]=g(i,1,1,r[8][0],r[8][1]),A(r[0],0,r[2][0],r[2][1],0,1,1,1,r[6]),H(r,0,0,1),r}function H(e,t,n,r){r||(e[2][0]=2*t/480+wn/e[4]),e[2][1]-=e[7]*Tn/500+Pn/e[5],e[3][0]=t,e[3][1]=n,t=e[2][0],n=e[2][1],r=e[8][0];var i=e[8][1],a=e[0][1];a[2]=t,a[3]=n,a[rt+2]=t+1*r,a[rt+3]=n,a[2*rt+2]=t+1*r,a[2*rt+3]=n+1*i,a[3*rt+2]=t,a[3*rt+3]=n+1*i,A(e[1],0,e[3][0],e[3][1],0,1,4,4,e[6])}function z(e,t,r,i,a){st[0].length===st[2]&&st[0].shift(),e=[].concat(xe[e]),a&&(e[0]=Se),e.push(t,F(ye,r),1,i,a),st[0].push(e),A(st[1],st[0].length-1,e[3][0],e[3][1],0,n,1,1,e[0])}function K(t){var n=e.createElement("canvas");n.width=n.height=t;var r=n.getContext("2d");return r.beginPath(),t/=2,r.fillStyle="#fff",r.arc(t,t,t,0,Me,!1),r.fill(),n}function Q(e){p(e[0],1)}function Z(t){var n=t[0],r=e.createElement("canvas");r.width=r.height=24;var i=r.getContext("2d");return i.beginPath(),i.fillStyle="#"+y(n,.3),i.strokeStyle="#"+n,i.lineWidth=2,i.arc(12,12,11,0,Me,!1),i.fill(),i.stroke(),i.fillStyle="#"+n,i.textAlign="center",i.font="20px sans-serif",i.fillText(t[1],12,19.2),r}function J(e,t,n,r,i,a){var o,f=null;return"t"===e[0]?f=2e3:(o=Ue[_e[e][3]])&&(f=o[1]),[e,[t,n],0,_e[e][2]*r,f,i,0,a]}function $(e){if(e[4]!==n){var t;if("t"===e[0][0]){for(var r=(t=_e[e[0]])[5]||0;r<Me;r+=t[4])z(t[3]+3,e[1],r,0,e[6]);e[4]=2e3}else{if(!(t=Ue[_e[e[0]][3]]))return;z(t[0],e[1],w(L(e[1],vt[2])),0,e[6]),e[4]=t[1]}be(Ge[1],1,1)}}function ee(t){var n=e.createElement("canvas"),r=t[0];t=t[1],n.width=n.height=r+4;var i=n.getContext("2d");i.lineWidth=3,i.lineCap="round",i.translate(n.width/2,n.height/2);for(var a=0;a<t.length;a+=2)if("string"==typeof t[a]){0<a&&(i.closePath(),i.stroke(),i.fill()),i.beginPath(),i.strokeStyle="#"+t[a];var o=y(t[a],.5);i.fillStyle="#"+o,a++,i.moveTo(t[a]*r,t[a+1]*r)}else i.lineTo(t[a]*r,t[a+1]*r);return i.closePath(),i.stroke(),i.fill(),n}function te(t){t=t[0]-6;var n=Math.ceil(t*Math.sqrt(2)+4),r=0,i=e.createElement("canvas");i.width=i.height=n;var a=i.getContext("2d");a.lineWidth=2,a.strokeStyle="#fff",a.fillStyle="#"+y("fff",.5),a.save(),a.translate(n/2,n/2),a.rotate(Math.PI/4);do{a.beginPath(),a.rect(-t/2,-t/2,t,t),a.stroke(),a.fill(),a.rotate(Math.PI/6)}while(3>++r);return a.restore(),a.beginPath(),a.arc(n/2,n/2,t/2,0,Me,!1),a.fill(),a.stroke(),a.beginPath(),a.arc(n/2,n/2,t/6,0,Me,!1),a.fillStyle=R("f0f",.4),a.strokeStyle="#f0f",a.fill(),a.stroke(),i}function ne(e,t,n){dt[0].length>=dt[2]&&dt[0].shift(),dt[0].push([[e,t],0,1.5*n,1,0,1]),be(Ge[2],!0,24<n),24<n&&(Sn=P(en)*Me,In=7)}function re(){var e=1/0,t=!1;return ht.forEach((function(n){n[3].forEach((function(n){var r=x(vt[2],n[1]);r<e&&(e=r,t=n)}))})),t}function ie(e){p(e[0],1)}function ae(e,t){var n=Le[e].slice();if(t){n=n.slice();for(var r=0;r<n.length;r+=2)n[r]=1-n[r]}return n}function oe(e,t,n,r,i){var a=1.5*n,o=~~(St[e]*n),f=16*_e[e][0]/1e3*1.5/a,c=480*t[0],u=640*t[1],l=[];ut+=o;for(var v=0;v<o;v++)l.push(J(e,c,u,n,a,r));return[(Le[i].length-5)/a+o*f,l,g(_e[e][1],o),[],t,0,f]}function fe(e,t){for(var n=!0;t--&&n;)ce(ht[t])||(n=!1);if(n&&(e[0]=0),0<e[0])e[0]-=Tn/1e3;else for(0>=e[5]&&e[1].length&&(e[5]=e[6],e[3].push(e[1].pop())),e[5]-=Tn/1e3,n=e[3].length,t=0;t<n;t++){var r=e[3][t],i=r,a=e[4];if(!(0>=i[3]))if(i[2]+=i[5]*Tn/4e3,4*i[2]>a.length)i[3]=-1e3;else{var o=i[2],f=4*~~o,c=a.length;f<c-4?(o-=~~o,c=[a[f+2],a[f+3]],a=[480*(a=k(k([a[f],a[f+1]],c,o),k(c,[a[f+4],a[f+5]],o),o))[0],640*a[1]]):a=[480*a[c-2],640*a[c-1]],i[1]=a,i[4]-=Tn,0>=i[4]&&$(i)}0<r[3]?A(e[2],t,r[1][0],r[1][1],0,1,1,1,r[7]):(-1e3<r[3]&&(lt++,ne(r[1][0],r[1][1],_e[r[0]][0]),i=r[1],0==lt%ct&&ft.length&&(r=ft.shift(),gt.push([g(De[r][1],1,void 0,void 0,void 0),i[0],i.slice(),r,1,0]))),e[3].splice(t,1),n--,t--)}}function ce(e){return!e[1].length&&e[3].every((function(e){return 0>=e[3]}))}function ue(e){p(e[2],e[3].length)}function le(){Ht=T(Ht+1,zt)}function ve(){Kt=T(Kt+1,Qt)}function se(){Zt=T(Zt+1,Jt)}function he(){if(250<(e=performance.now())-yn){yn=e;var e=t.innerWidth,n=t.innerHeight;e===Rn&&n===Mn||(e=Rn=e,n=Mn=n,Ye=Math.min(1/Math.max(480/e,640/n),1),Gt.style.width=Bt.style.width=480*Ye+"px",Gt.style.height=Bt.style.height=640*Ye+"px",Re||(Nt.style.top=~~((n-640*Ye)/2)+"px",Nt.style.left=~~((e-480*Ye)/2)+"px"))}}function de(e,t){Wt[Vt=e][0](t)}var ge,me,pe,Ae,Ee,be,Te=new function(){var e,t,n,i,a,o,f,c,u,l,v,s;this.A=new r,this.reset=function(){var e=this.A;i=100/(e.f*e.f+.001),a=100/(e.g*e.g+.001),o=1-e.h*e.h*e.h*.01,f=-e.i*e.i*e.i*1e-6,e.a||(v=.5-e.n/2,s=5e-5*-e.o),c=1+e.l*e.l*(0<e.l?-.9:10),u=0,l=1==e.m?0:(1-e.m)*(1-e.m)*2e4+32},this.G=function(){this.reset();var r=this.A;return e=r.b*r.b*1e5,t=r.c*r.c*1e5,n=r.e*r.e*1e5+12,3*((e+t+n)/3|0)},this.F=function(r,h){var d=1!=(N=this.A).s||N.v,g=N.v*N.v*.1,m=1+3e-4*N.w,p=N.s*N.s*N.s*.1,A=1+1e-4*N.t,E=1!=N.s,b=N.x*N.x,T=N.g,R=N.q||N.r,M=N.r*N.r*N.r*.2,y=N.q*N.q*(0>N.q?-1020:1020),w=N.p?32+((1-N.p)*(1-N.p)*2e4|0):0,P=N.d,S=N.j/2,I=N.k*N.k*.01,x=N.a,D=e,_=1/e,F=1/t,k=1/n;.8<(N=5/(1+N.u*N.u*20)*(.01+p))&&(N=.8);for(var C,U,L,B,G,N=1-N,O=!1,X=0,q=0,Y=0,W=0,V=0,j=0,H=0,z=0,K=0,Q=0,Z=Array(1024),J=Array(32),$=Z.length;$--;)Z[$]=0;for($=J.length;$--;)J[$]=2*Math.random()-1;for($=0;$<h;$++){if(O)return $;if(w&&++K>=w&&(K=0,this.reset()),l&&++u>=l&&(l=0,i*=c),(i*=o+=f)>a&&(i=a,0<T&&(O=!0)),U=i,0<S&&(Q+=I,U*=1+Math.sin(Q)*S),8>(U|=0)&&(U=8),x||(0>(v+=s)?v=0:.5<v&&(v=.5)),++q>D)switch(q=0,++X){case 1:D=t;break;case 2:D=n}switch(X){case 0:Y=q*_;break;case 1:Y=1+2*(1-q*F)*P;break;case 2:Y=1-q*k;break;case 3:Y=0,O=!0}R&&(0>(L=0|(y+=M))?L=-L:1023<L&&(L=1023)),d&&m&&(1e-5>(g*=m)?g=1e-5:.1<g&&(g=.1)),G=0;for(var ee=8;ee--;){if(++H>=U&&(H%=U,3==x))for(C=J.length;C--;)J[C]=2*Math.random()-1;switch(x){case 0:B=H/U<v?.5:-.5;break;case 1:B=1-H/U*2;break;case 2:B=.225*((0>(B=1.27323954*(B=6.28318531*(.5<(B=H/U)?B-1:B))+.405284735*B*B*(0>B?1:-1))?-1:1)*B*B-B)+B;break;case 3:B=J[Math.abs(32*H/U|0)]}d&&(C=j,0>(p*=A)?p=0:.1<p&&(p=.1),E?(V+=(B-j)*p,V*=N):(j=B,V=0),W+=(j+=V)-C,B=W*=1-g),R&&(Z[z%1024]=B,B+=Z[(z-L+1024)%1024],z++),G+=B}G*=.125*Y*b,r[$]=1<=G?32767:-1>=G?-32768:32767*G|0}return h}},Re="ontouchstart"in e,Me=2*Math.PI,ye=[1,0],we=[0,480],Pe=[240,320],Se=[100,100,100],Ie=[255,100,0],xe=[["fff",1,500],["fc6",1,600],["ff0",1,700],["66f",1,150],["09f",1,200],["09f",1,250]],De={h:["0f0","✚"],w:["f0c","✊"],e:["0cf","⚡"]},_e={ss:[32,["fff",-.2,-.5,.2,-.5,.5,-.2,0,.5,-.5,-.2,"fff",0,-.5,0,-.1],2,-1],sm:[40,["fff",0,-.5,.5,-.1,.5,.1,.2,.1,0,.5,-.2,.1,-.5,.1,-.5,-.1,"fff",0,-.5,0,-.2,"f0f",-.1,0,.1,0,0,.2],5,0],sl:[48,["fff",-.2,-.5,.2,-.5,.5,-.2,.5,.1,.3,.5,.2,.1,-.2,.1,-.3,.5,-.5,.1,-.5,-.2,"fff",-.2,-.5,-.2,-.3,-.5,-0,-.5,-.3,"fff",.2,-.5,.2,-.3,.5,-0,.5,-.3,"f0f",0,-.2,.2,0,-.2,0],10,1]},Fe={ts:[32,"0f0",5,0,Math.PI/2,Math.PI/4],tm:[40,"ff0",7,1,Math.PI/4],tl:[48,"f03",10,2,Math.PI/6]},ke=[56,["fff",0,-.5,.3,0,.5,.1,.45,.25,.2,.4,0,.35,-.2,.4,-.45,.25,-.5,.1,-.3,0,"f0f",0,-.3,.1,-.1,-.1,-.1,"fff",0,.2,0,.5,"fff",.3,0,.1,.1,"fff",-.3,0,-.1,.1]],Ce=[[0,400,[Math.PI/2]],[1,300,[Math.PI/2]],[2,200,[Math.PI/2]],[2,200,[Math.PI/2,[-.3,0]],[Math.PI/2,[.3,0]]],[2,190,[3*Math.PI/5],[Math.PI/2],[2*Math.PI/5]],[2,180,[3*Math.PI/5],[Math.PI/2],[2*Math.PI/5],1500],[2,170,[3*Math.PI/5],[Math.PI/2],[2*Math.PI/5],1250],[2,160,[3*Math.PI/5],[Math.PI/2],[2*Math.PI/5],1e3]],Ue=[[3,2e3],[4,1500],[5,1e3]],Le={z:[.2,-.1,.2,.1,.5,.1,.8,.1,.8,.3,.8,.5,.5,.5,.2,.5,.2,.7,.2,.9,.5,.9,.8,.9,.8,1.1],s:[-.1,-.1,.05,.05,.2,.2,.35,.35,.5,.5,.65,.65,.8,.8,.95,.95,1.1,1.1],a:[-.2,0,0,0,.3,.05,.6,.1,.77,.3,.9,.5,.77,.7,.6,.9,.3,.95,0,1,-.2,1],u:[.2,-.1,.2,0,.2,.2,.2,.4,.2,.6,.2,.8,.5,.8,.8,.8,.8,.6,.8,.4,.8,.2,.8,0,.8,-.1]},Be=t.AudioContext||t.H,Ge=[[0,,.0135,.32,.16,.33,,,,,,,.5,,,,,,1,,,,,.4],[0,,.22,,.17,.96,.4,-.286,,,,,,.53,-.65,,.2,-.02,1,,,.013,,.3],[3,,.24,.71,.36,.54,,-.39,,,,.032,.62,,,,,,1,,,,,.5]];if(Be){var Ne=new Be,Oe=Ne.destination;Ee=function(e){Te.A.D(e);var t=Te.G();e=new Uint8Array(4*((t+1)/2|0)+44);t=2*Te.F(new Uint16Array(e.buffer,44),t);(n=new Uint32Array(e.buffer,0,44))[0]=1179011410,n[1]=t+36,n[2]=1163280727,n[3]=544501094,n[4]=16,n[5]=65537,n[6]=44100,n[7]=88200,n[8]=1048578,n[9]=1635017060,n[10]=t;t+=44;for(var n=0,r="data:audio/wav;base64,";n<t;n+=3){var i=e[n]<<16|e[n+1]<<8|e[n+2];r=r+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&i])}return r.split("base64,")[1]},be=function(e,n,r){if(an){var i=Ne.createBufferSource();Ne.decodeAudioData(function(e){for(var n=(e=t.atob(e)).length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}(e),(function(e){i.buffer=e,e=r?-2e3:-200;var t=r?-1500:200;i.detune.value=n?function(e,t,n){return n-=t,~~(P(e)*n)+t}(en,e,t):1,i.connect(Oe),i.start(0),setTimeout((function(){i.disconnect(Oe)}),1e3*i.buffer.duration+200)}))}}}else Ee=be=function(){};var Xe,qe,Ye=1,We=-1,Ve=-1,je=0,He=0,ze=0,Ke=0,Qe=0,Ze=0,Je=0,$e=0,et=0,tt=0,nt=[0,0,0,0,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1],rt=nt.length/4,it={},at=new Image;at.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIEAAAAFAQMAAABYTx3dAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAGRJREFUCNdj+P3+77vT/37+zt1bX///6wsOBoZtkapu53O3aecuF04xu5LBycDwK3a9u3/e7tVVK+v/x185wABSoxt2OufL6tpAJ98pFxgcGRh2v7f997vGXG9t/L/6+V9aGhgAgjkti3Vv1kQAAAAASUVORK5CYII=";var ot="abcdefghijklmnopqrstuvwxyz1234567890!?\".,':";Object.keys(De);var ft,ct,ut,lt,vt,st,ht,dt,gt,mt,pt,At,Et,bt,Tt,Rt,Mt=0,yt=0,wt=[240,540],Pt=["s","a","z","u"],St={ss:10,sm:5,ts:2,tm:2,sl:3,tl:2},It=Object.keys(St),xt=[function(){P(tn=en+jt+1,1),xt[4]=j(Ut[jt][4].split("").map((function(e){return(e=+e)?e+2:e})).join(""),1+.2*jt),xt[5]=B(430,50,60,"x","0cf","024",0,(function(){de(1,1)}),1),xt[6]=[[-40,400,300,300/zt,"0d0","020",-1.6,void 0,zt,Ht],[500,450,300,300/Jt,"f0c","202",-1.55,1,Jt,Zt],[265,645,480,480/Qt,"0cf","022",-.05,void 0,Qt,Kt]],xt[7]=[W(3,295,"hp","0d0",2),W(463,250,"wp","f0c",2),W(375,570,"glitch","0cf",3)],2==jt||5==jt||8==jt?(bt=1,xt[6].push([195,0,320,32,"d00","200",-.05,void 0,10,10]),xt[7].push(W(280,30,"boss "+Ut[jt][2],"d00",3)),function(){var e=M("f00");2===jt&&(Tt=[[J("tm",160,100,15,0,e),g(_e.tm[1],1,void 0,void 0,void 0)],[J("tm",320,100,15,0,e),g(_e.tm[1],1,void 0,void 0,void 0)]]),5===jt&&(Tt=[[J("tl",240,150,15,0,e),g(_e.tl[1],1,void 0,void 0,void 0)]]),8===jt&&(Tt=[[J("tm",160,100,15,0,e),g(_e.tm[1],1,void 0,void 0,void 0)],[J("tm",320,100,15,0,e),g(_e.tm[1],1,void 0,void 0,void 0)],[J("tl",240,150,15,0,e),g(_e.tl[1],1,void 0,void 0,void 0)]])}(),Rt=Tt.reduce((function(e,t){return e+t[0][3]}),0)):bt=Tt=0,Ht=zt,Kt=At=Et=0,function(){var e=g(ke[1],1,void 0,void 0,void 0);A(e,0,0,0,0,1,1,1,void 0),vt=[e,ke[0],[].concat(wt),[0,0]]}(),function(){ht=[],lt=ut=0;var e,t=1+jt/10,n=~~(3+jt/3),r=[],i=[],a=bt?18:9,o=a/3,f=M(Ut[jt][3]);for(e=0;e<a;e++)r.push(bt?0:S(tn,n));for(r=r.sort().map((function(e){return It[e]})),e=0;e<o;e++)i.push(r[e],r[e+o],r[e+2*o]);for(e=n=0;e<a;e++)for(var c=[ae(o=Pt[~~(4*P(tn))]),ae(o,1)],u=0;u<c.length;u++){var l=oe(i[e],c[u],t,f,o);r=l[0],l[0]=n,ht.push(l),n+=r}}(),st=[[],g(ge,100),100],dt=[[],g(me,100),100],function(){ft=[];var e="eeweeweehe";nn===$t&&(e=e.replace(/w/g,"h"));for(var t=0,n=bt?6:3;t<n;t++)ft.push.apply(ft,e.split(""));ct=~~(ut/ft.length)}(),gt=[],mt=[g(pe,1,void 0,void 0,void 0),240,704,1,0],pt=[]},function(){if(0>=Ht)de(1,2);else{if(H(xt[4],vt[2][0],vt[2][1]),q(xt[6][0],Ht),q(xt[6][1],Zt),q(xt[6][2],Kt),bt){q(xt[6][3],Math.round(Tt.reduce((function(e,t){return e+t[0][3]}),0)/Rt*10));for(var e=0,t=Tt.length;e<t;e++){var r,i=Tt[e],a=(r=i)[1];0>=(r=r[0])[3]||(r[4]-=Tn,0>=r[4]&&$(r),A(a,0,r[1][0],r[1][1],0,1,1,1,r[7])),0>=i[0][3]&&(Tt.splice(e,1),t--,e--)}}if(mt[4]&&ht.forEach((function(e){e[3].forEach((function(e){var t=_e[e[0]][0]/2;0<e[3]&&!e[6]&&e[1][1]+t>=mt[2]-64&&e[1][1]-t<=mt[2]+64&&function(e){e[6]||(e[6]=1,e[7]=e[7].map((function(e){return.5*e})))}(e)}))})),mt[4]&&st[0].forEach((function(e){e[5]&&!e[6]&&!e[7]&&e[3][1]+6>=mt[2]-64&&e[3][1]-6<=mt[2]+64&&(e[7]=1,e[0]=Se)})),ht.forEach((function(e){e[3].forEach((function(e){!(0>=e[3])&&x(vt[2],e[1])<(vt[1]+_e[e[0]][0])/2&&(e[3]=0,e[6]||(Ht=0))}))})),gt.forEach((function(e){if(x(vt[2],e[2])<(vt[1]+24)/2){var t;switch(e[3]){case"h":t=le;break;case"w":t=se;break;case"e":t=ve}t(),e[4]=0}})),ht.some((function(e){e[3].some((function(e){pt.some((function(t){if(x(t[1],e[1])<(16+_e[e[0]][0])/2)return e[3]-=3,t[5]=0,ne(t[1][0],t[1][1],16),!0}))}))})),st[0].forEach((function(e){e[5]&&(e[6]?(ht.some((function(t){return t[3].some((function(t){if(x(e[3],t[1])<(12+_e[t[0]][0])/2)return e[5]=0,t[3]=t[6]?0:t[3]-e[1],!0}))})),bt&&Tt.some((function(t){if(x(e[3],t[0][1])<(12+_e[t[0][0]][0])/2)return e[5]=0,t[0][3]-=e[1],!0}))):0<Ht&&!e[7]&&x(e[3],vt[2])<(12+vt[1])/2&&(e[5]=0,Ht-=e[1],Sn=P(en)*Me,In=5),e[5]||ne(e[3][0],e[3][1],12))})),e=Tn/1e3,i=[0,0],Re?(r=Ve-50,0<=We&&0<=Ve&&(t=x(vt[2],[We,r]),i=[We,r],r=vt[2],i=D(i=I(i=[i[0]-r[0],i[1]-r[1]]),90),15>t&&(i=D(i,t/480)))):i=D(i=I([je,He]),90),vt[3]=_(vt[3],i),vt[3]=D(vt[3],.8),e=D(vt[3],e),t=vt[1],0>(i=vt[2][0]+e[0]-t/2)&&(e[0]-=i),480<(i=vt[2][0]+e[0]+t/2)&&(e[0]-=i-480),0>(i=vt[2][1]+e[1]-t/2)&&(e[1]-=i),640<(i=vt[2][1]+e[1]+t)&&(e[1]-=i-640),vt[2]=_(vt[2],e),A(vt[0],0,vt[2][0],vt[2][1],void 0,void 0,void 0,void 0,void 0),e=Ce[nn],0>=(Mt-=Tn)){for(Mt=e[1],t=vt,i=e.slice(2),r=0;r<i.length;r++)z(e[0],_(t[2],D(i[r][1]||[0,0],t[1])),i[r][0],1);be(Ge[1],!0)}for(5>nn||0>=(yt-=Tn)&&ht.some((function(e){return 0<e[3].length}))&&(yt=e[5],e=vt[2][0],t=vt[2][1],pt.push([g(Ae,1,void 0,void 0,void 0),[e,t],.5>P(en)?Math.PI/3:2*Math.PI/3,5,null,1]),be(Ge[1],1,1)),t=0,i=st[0].length;t<i;t++)(r=e=st[0][t])[5]&&(r[3]=_(r[3],D(r[4],r[2]*Tn/1e3)),U(r[3])||(r[5]=0)),e[5]?A(st[1],t,e[3][0],e[3][1],0,n,1,1,e[0]):(st[0].splice(t,1),i--,t--);for(e=0,t=pt.length;e<t;e++){if((i=pt[e])[5]){if(a=Tn/1e3,(!(r=i)[4]||0>=r[4][3])&&(r[4]=re()),r[4]&&0<r[4][3]){var o=w(L(r[1],r[4][1])-r[2]);r[2]=w(r[2]+Math.min(Math.abs(o),Math.abs(6*a))*(0>o?-1:1))}o=F(ye,r[2]),r[3]+=.8*a,r[1]=_(r[1],D(o,r[3])),U(r[1])?A(r[0],0,r[1][0],r[1][1],r[2],void 0,void 0,void 0,void 0):r[5]=0}i[5]||(pt.splice(e,1),t--,e--)}for(ht.forEach(fe),e=0,t=dt[0].length;e<t;e++)(i=dt[0][e])[5]?(i[4]+=10*Tn/1e3,i[1]=1>=i[4]?i[4]*i[2]:i[2],1<i[4]&&(i[3]-=10*Tn/1e3),0>=i[3]&&(i[5]=0),r=i[1]/64,A(dt[1],e,i[0][0],i[0][1],0,i[3],r,r,Ie)):(dt[0].splice(e,1),t--,e--);for(e=gt.length-1;0<=e;)(t=gt[e])[4]&&(t[5]+=Tn/1e3,t[2][0]=t[1]+30*Math.sin(t[5]),t[2][1]+=70*Tn/1e3,640<t[2][1]?t[4]=0:A(t[0],0,t[2][0],t[2][1],void 0,void 0,void 0,void 0,void 0)),gt[e][4]||gt.splice(e,1),e--;mt[4]&&(mt[2]-=200*Tn/1e3,-64>mt[2]&&(mt[4]=0),mt[3]=T(mt[2]/640+.1,1),A(mt[0],0,mt[1],mt[2],0,mt[3],void 0,void 0,void 0)),Kt>=Qt?("press"!=(e=xt[7][2])[4]&&(e[5]=e[4],e[4]="press"),(e=xt[6][2])[10]||(e[10]=1,e[11]=0)):("glitch"!=(e=xt[7][2])[4]&&(e[5]=e[4],e[4]="glitch"),xt[6][2][10]=0),Zt===Jt&&nn<$t&&(Zt-=Jt,nn++),!At&&(bt&&!Tt.length||!bt&&ht.every(ce))&&(At=1,Et=0),At&&(Et+=Tn),2e3<Et&&(8===jt?de(1,4):(rn=Math.max(rn,jt+1),de(1,3)))}},function(){if(Re||(et&&(Kt>=Qt&&(mt[2]=704,mt[3]=mt[4]=1,Kt-=Qt),et=0),tt&&(de(1,1),tt=0)),ze){if(O(xt[5]))return ze=0,!0;if(Kt>=Qt&&C([We,Ve],[240,615],480,50))return mt[2]=704,mt[3]=mt[4]=1,Kt-=Qt,!0}},function(){G(xt[5]),xt[6].forEach(Y),xt[7].forEach(V),p(vt[0],1),ht.forEach(ue),p(st[1],st[0].length),pt.forEach(ie),gt.forEach(Q),p(dt[1],dt[0].length),mt[4]&&p(mt[0],1),bt&&Tt.forEach((function(e){p(e[1],1)}))}],Dt=!1,_t=0,Ft=W(110,290,"pixel chinchilla","fff",4),kt=W(190,330,"presents","fff",3),Ct=[function(e){if(Ct[4]=j("046",0),Dt){Ct[6]=0,Ct[7]=[W(25,40,"cyber shmup","fff",10),W(57,100,"escape from the c.o.r.e","0cf",4)];var t=[B(365,500,300,"graphics: "+(on?"hi":"lo"),"f0c","202",1,(function(e){on=on?0:1,localStorage.setItem("csq",on);var t="graphics: "+(on?"hi":"lo");e[4]!==t&&(e[10]=e[4],e[4]=t)})),B(380,580,260,"sound: "+(an?"on":"off"),"f0c","202",1,(function(e){an=an?0:1,localStorage.setItem("css",an);var t="sound: "+(an?"on":"off");e[4]!==t&&(e[10]=e[4],e[4]=t)}))],n=[B(114,350,300,"change level","0cf","024",-1,(function(){de(2)})),B(90,430,260,"main menu","0cf","024",-1,(function(){de(1)}))];switch(e){case 4:Ct[7].push(W(190,170,"fin","fff",8));case 0:Ct[5]=[B(390,580,260,"main menu","0cf","024",1,(function(){de(1)}))],Ct[7].push(W(160,250,"created by","09c",4),W(110,290,"greg pabian","0cf",6),W(90,330,"pixelchinchilla.com","0cf",4),W(90,360,"twitter: gregpabian","0cf",4),W(100,390,"github: gregpabian","0cf",4));break;case 1:Ct[5]=[B(107,270,290,"resume game","0cf","024",-1,(function(){Vt=0}))].concat(n,t),Ct[7].push(W(110,170,"game paused","0cf",6));break;case 2:Ct[5]=[B(122,270,315,"restart level","0cf","024",-1,(function(){de(0)}))].concat(n,t),Ct[7].push(W(100,170,"level failed","0cf",6));break;case 3:Ct[5]=[B(99,270,260,"next level","0cf","024",-1,(function(){jt++,de(0)}))].concat(n,t),Ct[7].push(W(75,170,"level complete","0cf",6));break;default:Ct[5]=[B(100,250,300,"start game","0cf","024",-1,(function(){de(2)})),B(75,330,250,"credits","0cf","024",-1,(function(){de(1,0)}))].concat(t),Re||Ct[7].push(W(20,540,"controls:","fff",3),W(20,560,"wasd, enter","fff",3),W(20,580,"arrows, space","fff",3))}}},function(){var e=_(Pe,F(we,Date.now()/1e3));H(Ct[4],e[0],e[1],1),Dt?Re||(Ct[5].forEach(N),Ct[5][Ct[6]][11]=1):(_t+=Tn/2e3,Xt.globalAlpha=1>_t?_t:1,1.7<_t&&(Dt=!0,de(1)))},function(){Dt&&(Re||(et&&(X(Ct[5][Ct[6]]),et=0),Je&&(Ct[6]--,Je=0,be(Ge[0])),$e&&(Ct[6]++,$e=0,be(Ge[0])),Ct[6]=T(Ct[6],Ct[5].length-1)),ze&&Ct[5].some((function(e){if(O(e))return ze=!1,!0})))},function(){Dt?(Ct[5].forEach(G),Ct[7].forEach(V)):(V(Ft),1<_t&&V(kt))}],Ut=[[180,130,"1","0ff","034"],[300,130,"2","0af","014"],[400,210,"a","05f","004"],[300,290,"3","50f","104"],[180,290,"4","a0f","304"],[80,370,"b","f0f","404"],[180,450,"5","f0a","403"],[300,450,"6","f05","401"],[400,520,"c","f33","400"]],Lt=[function(){Lt[4]=j("043",0),H(Lt[4],0,640,1),Lt[5]=Ut.map((function(e,t){return B(e[0],e[1],60,e[2],e[3],e[4],0,(function(){jt=t,de(0)}),1,t>rn)})).concat([B(100,580,260,"main menu","0fa","043",-1,(function(){de(1)}))]),Lt[6]=0},function(){Re||(Lt[5].forEach(N),Lt[5][Lt[6]][11]=1);var e=_(Pe,F(we,Date.now()/1e3));H(Lt[4],e[0],e[1],1)},function(){if(!Re){if(et&&(X(Lt[5][Lt[6]]),et=0),tt&&(de(1),tt=0),Je||Qe){do{Lt[6]--}while(Lt[5][Lt[6]]&&Lt[5][Lt[6]][14]);Je=Qe=0,be(Ge[0])}if($e||Ze){do{Lt[6]++}while(Lt[5][Lt[6]]&&Lt[5][Lt[6]][14]);$e=Ze=0,be(Ge[0])}Lt[6]=T(Lt[6],Lt[5].length-1)}ze&&Lt[5].some((function(e){if(O(e))return ze=!1,!0}))},function(){var e=Lt[4];for(p(e[1],1),p(e[0],1),Xt.lineWidth=5,e=0;e<rn;e++)Xt.beginPath(),Xt.moveTo(Ut[e][0],Ut[e][1]),Xt.lineTo(Ut[e+1][0],Ut[e+1][1]),Xt.strokeStyle="#"+Ut[e+1][4],Xt.stroke();Lt[5].forEach(G)}],Bt=e.getElementById("m"),Gt=e.getElementById("ui"),Nt=e.getElementById("w");Bt.width=Gt.width=480,Bt.height=Gt.height=640;var Ot,Xt=Gt.getContext("2d"),qt=Bt.getContext("webgl")||Bt.getContext("experimental-webgl");ke=[ke[0],ee(ke)];for(Ot in _e)_e[Ot][1]=ee(_e[Ot]);for(Ot in De)De[Ot][1]=Z(De[Ot]);for(Ot in Fe)Fe[Ot][1]=te(Fe[Ot]),_e[Ot]=Fe[Ot];for(Ot in xe)xe[Ot][0]=M(xe[Ot][0]);for(Ot in Ge)Ge[Ot]=Ee(Ge[Ot]);ge=K(12),me=K(64),pe=function(){var t=e.createElement("canvas");t.width=480,t.height=128;var n=t.getContext("2d"),r=n.createLinearGradient(0,0,0,128),i=R("0ff",0);return r.addColorStop(0,i),r.addColorStop(.5,"#0ff"),r.addColorStop(1,i),n.fillStyle=r,n.fillRect(0,0,480,128),t}(),Ae=function(){var t=e.createElement("canvas");t.width=t.height=16;var n=t.getContext("2d");return n.fillStyle="#09f",n.moveTo(0,0),n.lineTo(16,8),n.lineTo(0,16),n.fill(),t}();var Yt=[2/480,0,0,0,-.003125,0,-1,1,1],Wt=[xt,Ct,Lt],Vt=1,jt=0,Ht=3,zt=3,Kt=0,Qt=7,Zt=0,Jt=5,$t=Ce.length-1,en=9,tn=en,nn=0,rn=0,an=null===(an=localStorage.getItem("css"))?1:+an,on=null===(on=localStorage.getItem("csq"))?Re?0:1:+on;Re?(e.addEventListener("touchstart",i),e.addEventListener("touchmove",a),e.addEventListener("touchend",o),e.addEventListener("touchcancel",o)):(e.addEventListener("keydown",(function(e){switch(e.which){case 13:case 32:et=1;break;case 27:tt=1;break;case 37:case 65:Qe=1;break;case 38:case 87:Je=1;break;case 39:case 68:Ze=1;break;case 40:case 83:$e=1}})),e.addEventListener("keyup",(function(e){switch(e.which){case 13:case 32:et=0;break;case 27:tt=0;break;case 37:case 65:Qe=0;break;case 38:case 87:Je=0;break;case 39:case 68:Ze=0;break;case 40:case 83:$e=0}})),e.addEventListener("mousedown",i),e.addEventListener("mouseup",o));var fn,cn,un,ln,vn,sn,hn,dn,gn,mn,pn,An,En,bn=0,Tn=0,Rn=0,Mn=0,yn=0,wn=0,Pn=0,Sn=0,In=0;En=Xt,["mozI","msI","i"].forEach((function(e){En[e+"mageSmoothingEnabled"]=!1})),he(),qt.viewport(0,0,480,640),qt.clearColor(0,0,0,1),qt.blendFunc(qt.SRC_ALPHA,qt.ONE_MINUS_SRC_ALPHA),qt.enable(qt.BLEND),fn=u("attribute vec2 p;attribute vec2 uv;attribute vec4 c;varying vec2 vuv;varying vec4 vc;void main(){gl_Position=vec4(p,1,1);vuv=uv;vc=c;}\n","precision mediump float;uniform sampler2D t;varying vec2 vuv;varying vec4 vc;void main(){vec4 a=texture2D(t,vuv);if(a.r==a.g&&a.g==a.b){gl_FragColor=a*vc;}else{gl_FragColor=a;}}\n",["p","uv","c"]),vn=u("attribute vec2 p;varying vec2 vuv;void main(){gl_Position=vec4(p,1,1);vuv=0.5*(p+1.0);}\n","precision mediump float;uniform sampler2D t;uniform vec2 d;varying vec2 vuv;void main(){vec2 a=vec2(480,640);vec2 b=vec2(1.385)*d/a;vec2 c=vec2(3.23)*d/a;gl_FragColor=texture2D(t,vuv)*0.22704+texture2D(t,vuv+b)*0.31621+texture2D(t,vuv-b)*0.31621+texture2D(t,vuv+c)*0.07027+texture2D(t,vuv-c)*0.07027;}\n",["p"]),sn=u("attribute vec2 p;varying vec2 vuv;void main(){gl_Position=vec4(p,1,1);vuv=0.5*(p+1.0);}\n","precision mediump float;uniform sampler2D m;uniform sampler2D b;uniform sampler2D t;varying vec2 vuv;void main(){vec4 a=texture2D(m,vuv)+texture2D(b,vuv)+texture2D(t,vuv)*0.5;gl_FragColor=vec4(vec3(1.0)-exp(-a.rgb*1.0),a.a);}\n",["p"]),cn=u("attribute vec2 p;varying vec2 vuv;void main(){gl_Position=vec4(p,1,1);vuv=0.5*(p+1.0);}\n","precision mediump float;uniform sampler2D t;varying vec2 vuv;void main(){vec3 a=texture2D(t,vuv).rgb;float b=dot(a,vec3(1,1,1));if(b>0.65){gl_FragColor=vec4(a,1);}else{gl_FragColor=vec4(0,0,0,1);}}\n",["p"]),un=u("attribute vec2 p;varying vec2 vuv;void main(){gl_Position=vec4(p,1,1);vuv=0.5*(p+1.0);}\n","precision mediump float;uniform sampler2D t;varying vec2 vuv;void main(){gl_FragColor=texture2D(t,vuv);}\n",["p"]),ln=u("attribute vec2 p;varying vec2 vuv;void main(){gl_Position=vec4(p,1,1);vuv=0.5*(p+1.0);}\n","precision mediump float;uniform sampler2D t;uniform sampler2D o;varying vec2 vuv;void main(){gl_FragColor=texture2D(t,vuv)+texture2D(o,vuv)*0.7;}\n",["p"]),hn=s(),dn=s(),gn=s(),mn=s(),pn=s(),An=d(new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1])),de(Vt),requestAnimationFrame((function e(t){Tn=Math.min(t-bn,100),bn=t,he(),Re||(je=He=0,Qe&&je--,Ze&&je++,Je&&He--,$e&&He++),Wt[Vt][2](),Wt[Vt][1](),0<In?(Sn+=Math.PI/2,wn=Math.sin(Sn)*In,Pn=Math.cos(Sn)*In,In-=Tn/50):wn=Pn=0,Yt[6]=wn/480-1,Yt[7]=1+Pn/640,Xt.clearRect(0,0,480,640),h(on?hn:null),qt.clear(qt.COLOR_BUFFER_BIT),Dt&&(p((t=Wt[Vt][4])[1],1),p(t[0],1)),Wt[Vt][3](),on&&Dt&&(h(mn),m(cn),qt.uniform1i(f(cn,"t"),v(hn[1],0)),qt.bindBuffer(qt.ARRAY_BUFFER,An),qt.vertexAttribPointer(cn.p,2,qt.FLOAT,!1,0,0),qt.drawArrays(qt.TRIANGLES,0,6),h(gn),m(vn),qt.uniform1i(f(vn,"t"),v(mn[1],0)),qt.uniform2f(f(vn,"d"),1,1),qt.drawArrays(qt.TRIANGLES,0,6),h(mn),qt.uniform1i(f(vn,"t"),v(gn[1],0)),qt.uniform2f(f(vn,"d"),-1,1),qt.drawArrays(qt.TRIANGLES,0,6),h(pn),m(ln),qt.uniform1i(f(ln,"t"),v(mn[1],0)),qt.uniform1i(f(ln,"o"),v(dn[1],1)),qt.drawArrays(qt.TRIANGLES,0,6),h(dn),m(un),qt.uniform1i(f(un,"t"),v(pn[1],0)),qt.drawArrays(qt.TRIANGLES,0,6),h(null),m(sn),qt.uniform1i(f(sn,"m"),v(hn[1],0)),qt.uniform1i(f(sn,"b"),v(mn[1],1)),qt.uniform1i(f(sn,"t"),v(pn[1],2)),qt.drawArrays(qt.TRIANGLES,0,6)),requestAnimationFrame(e)}))}(document,this)</script>