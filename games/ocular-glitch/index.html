<!doctype html><title>Ocular Glitch</title><style>body,html{margin:0;width:100%;height:100%;background:#444;color:#fff;text-align:center}#c{position:absolute;top:0;left:0;width:1px;height:1px;cursor:none}.started #c{width:100%;height:100%}p{display:inline-block;text-align:left;font-size:30px;text-shadow:0 0 14px #fff,0 0 14px #fff;margin-top:10%}</style><canvas id=c></canvas><p>You are experiencing an ocular glitch.<br>Your retina remains excited by light too much time.<br>Right now when you must escape from falling bombs...<br><b>Click to start.</b></p><audio id=step src="data:audio/wav;base64,UklGRtgAAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YbQAAAAAhISEfnFxcXF9hISEhHN2dnZ4emtra3eDkpKSkZCAgIB9f4ODiI6ZoaF/d3Z2eISEgYGAf4SJiYSDZF1eYmNvb3N9fHp6enp2dXViYmVma3p+hoaHiIiIiHh2ZmVodHmFhYB7fX5+g4R2dXRvcnt7fX97d3h4eX1+foGAfX16dXd4eHp7fHx8fHx+fn+DgX19e3l7e3yAgYCAf3x9f39/f359fXx9f39/gH9+fn9/f39/f38="></audio><script>var explosion="data:audio/wav;base64,UklGRksUAABXQVZFZm10IBAAAAABAAEAiBUAAIgVAAABAAgAZGF0YScUAABK/wAA/wAAAAAAAAD//////wAAHv/////4to5DR///////AAAAAAAAAADWAAAhAAAAAMz//wAAAAAAAAAAAP////8kKkn//////////////////wAAAAAAAAAAAAAAAAAAAAAAAF3//////////////////////////4cAAAAAAAD/////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////6UAAAAAAAAAAAAAAAAAAAAAAAAAJKn//////+xYAAAAAAAAAOj//////////74AAAAAAAAAAAAAAAAAAAAAAAAAAJGJiIiIiIeHh2toUElKS0xNTk9QUU4sLw0NDxETFRcZGx0fIf///////wAAAAAAAAAAAAACBAYICw0PERMVFxkbHR8gIiQlJykqLC0vMDIzNTY3OTo7PD5eZGyKioqKiomJiYmJiYiIiIiIiIiHh4eHh4eHhoaGhoaGhoaGhYWFhYWFhYWFhYWEo6Oiwb++vby7urm4t7a1tLSzsrGwr6+uraysq6qpqainp6ampaSko6OioaGgoJ+fbQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABeXV70/////////////////////////////////fv5+Pb08vHv7ezq6efm5OPh4N///////////////////////////////////////////////////////////////////6SlpCEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKvNzMv///////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL6SioaGh//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8XAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA///////////////////////////////////////////////////////////////////////////zioqKioqKioqKiomJiYmJiYmJiYmJiYmJiYiIiIiIiIiIiIiIiIiIiP7/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIeRkZGRkJCQkP////////////////////////////////////////////////////////////////8qAAAAAAECAwMEBQUGBwcICQkKCwsMDA0ODg8QEBEREhMTFBQVFRYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsf//////////////////////////////////////////////////////////////////////////////0tPT09LS0tHR0NDQz8/Pzs7Nzc3MzMzLy8vKysrJycnIyMjHx7lAQ0NDRERERUVFKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAwMEBAUFBgYHOkBBQUFCQkJCQ0NDQ0RERERFRUVFRUZGRkZHR0dHR0hISEhJSSoaGhobGxwcHB0dHQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9OTk5PT09PT09PUFBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoKGhoaGhoaGhoKCgoP//////////////////////////////////////////////zldYWFhYWFlZWVlZWVkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtLi4uLi3t7e3t7e3trb//////////////////////////////////////////////////////////////////////////////////////////////////////////////5oNCwsLCwwMDAwNDQ0ODg4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcW9vb29vb29vb29vb29v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7+/f39/cIPCgoKCwsLCwwMDAwNDQ0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMS4uLi8vLy8vLzAwMDAwkv//////////////////////////////////////////+Nvb29ra2tra2dnZ2dnZ2LGWlpaWlpaWlpaWlZWVlZWVlZWVlZWVlZWVlZWVlZWVlbbCwsLCwsLBwcHBwcHBwcDi7e3t7ezs7Ozs6+vr6+vr6urq6urp6enp6ejo6Ojo5+f//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6qjo6Ojo6Ojo6Ojo6OjokoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcWlpaWlpaWlpaWlpaWlq5/////////////////////////////////////////////////////////////////fLx8fHx8fHx8PDw8PDw7+/v7+/v7+7u7u7u7u7t7e3tt6ampqampqampqampqampm9gYGBgYGBgYGBgYGBgYGBgYGBgYGBhYWFhYWFhYWFhYW1tbW1tbW1tbm5ubm5ubm55enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6enAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ0ZGRkZGRkZGRkZGR0dHgf//////////////////////////////////////////8t/g39/f39/f39/f3t7e3s68vby8vLy8vLy8vLy8vLy8u7u7u7u7u7u7u7u7u7u6urazs7Ozs7OysrKysrKysrKtqqqqqqqqqqqqqqqqqqqqqqqqqqqqqampqampqampqamhn5+fn5+fn5+fn5+fn5+fl5aWlpWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWV//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+5Y2NjY2NjY2NjY2NjZGRkEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARYmJiIiIiIiIiIiIiIiIiP////////////////////////////////////////////jp6enp6eno6Ojo6Ojo6OeekZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQkJCQkJCQkJA5OTk5OTk5Ojo6Ojo6Ojo6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjs7Ozs7Ozw8PDw8PDw8TIuMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMZRYXFxgYGBgYGBgYGRkZGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfICAgICAgISEhISEhISFekJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZBvX2BgYGBgYGBgYGBgYGBgPjAwMDAwMDExMTExMTExMTEyMjIyMjIyMjIzMzMzMzMzAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuMDAwMDExMTExMTExMTJQra+vr6+vr6+vr6+vr66urq6urq6urq6urq6urq2tra2ALzExMTExMTIyMjIyMjIyBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHWVnZ2dnZ2dnZ2dnZ2dnZ8X//////////////////////////////////////////8CjpKSkpKSko6Ojo6Ojo6NeQ0RERERERERFRUVFRUVFRUVFRUZGRkZGRkZGRkZGRkd/hoaGhoaGhoaGhoaGhoaGv8XFxcTExMTExMTExMPDw8PDw8PDw8PCwsLCwsLCwsLAlJWVlZWVlZWVlZWVlZWVk2hqampqampqampqampqampqampqampqampqampqa2trZFFRUVFRUVFRUVFRUVJSUks5ODg5OTk5OTk5OTk6Ojo6Ojo6Ojo7Ozs7Ozs7Ozs8PGGcm5qampqampqampqamprA+Pf29vb29vX19fX19PT09PTz8/Pz8/Py8vLy8vHx8fGvgYCAgICAgICAgICAgICAPhISEhISEhMTExMTFBQUFBQVFRUVFRUWFhYWFhcXFxcXPElJSUlJSUlJSUlJSkpKSm96enp6enp6enp6enp6enp6enp6enp6enp6enp6enp6ent7e3t7e3t7e3t7e3t7e3t8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fH2KiYmJiYmJiYmJiYmJiYmKlpaWlpaWlpWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZSZo6Ojo6OjoqKioqKioqKiprCwsLCvr6+vr6+vr6+vr66urq6urq6urq6tra2tra2tl3p7e3t7e3t7e3t7e3t7e2VJSkpKSkpKS0tLS0tLS0tLTExMTExMTExMTU1NTU1NTT40NDQ0NTU1NTU1NjY2NjYnHh4eHh8fHx8fICAgICAhISEhIiIiIiIjIyMjJCQkJCRSX19fX19gYGBgYGBgYGBgjpmZmZmZmZmZmZmYmJiYmJiYmJiYmJiYmJiYmJeXl5eXjY2NjYyMjIyMjIyMjIyMjIKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoODg4ODg4ODg4ODg4ODg4OEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhHliYmJiYmJjY2NjY2NjY2NZQ0NDQ0REREREREVFRUVFRkZGRkZGR0dHR0dHSEhISEhPV1dYWFhYWFhYWFlZWVlZYGdnZ2hoaGhoaGhoaGhoaGlpaWlpaWlpaWlpaWlqampqeYKCgoKCgoKCgoKCgoKCgpGZmZmZmZmYmJiYmJiYmJiYmJeXl5eXl5eXl5eWlpaWlpSTk5OTk5OTk5OSkpKSkpKQj4+Pj4+Pj4+Pj4+Pjo6Ojo6Ojo6Ojo6Ojo6Ojo2NjY2Xl5eXl5eXlpaWlpaWlpaWn5+enp6enp6enZ2dnZ2dnJycnJycnJubm5ubm5qampqWgYGBgYGBgYGBgYGBgYGBfGpqampqampqa2tra2tra2xsbGxsbGxsbW1tbW1tbW5ubm9vb29vb29vcHBwcHBwcHFxcXFxcnJycnJycnJzc3Nzc3Nzc3N0dHR0dHR0dHR1dXd4eXl5eXl5eXl5eXl5eXp7fX19fX19fX19fX19fX19fX19fX19fX19fn5+fn5+fn5/gICAgICAgICAgICAgICAgYGBgYGBgYGBgYGBgYGBgYCAgICAgICAgICAgICAgICAgA==";document.body.onclick=function(){document.body.webkitRequestFullscreen&&document.body.webkitRequestFullscreen(),document.body.mozRequestFullScreen&&document.body.mozRequestFullScreen(),document.body.requestFullscreen&&document.body.requestFullscreen(),document.body.onclick=null,setTimeout(start,300)};var ctx=c.getContext("2d"),ratio=2,w=0,h=0,pi=Math.PI,alive=!1,usrX=200,usrFrame=0,bombs=[],escapedCounter=0;function start(){document.body.className="started",w=c.width=document.body.clientWidth/ratio,h=c.height=document.body.clientHeight/ratio,usrX=Math.round(w/2),alive=!0;var A=ctx.createLinearGradient(0,0,0,h);A.addColorStop(0,"#00F"),A.addColorStop(1,"#0FF"),ctx.fillStyle=A,ctx.fillRect(0,0,w,h);for(var e=5;e<w-30;e+=100)bombs.push({x:e+30*Math.random(),y:150*Math.random()-150,c:"#F0"+Math.floor(15*Math.random()).toString(16)});tic()}function dot(A,e,t,o){ctx.fillStyle=o,ctx.beginPath(),ctx.arc(A,e,t,0,2*Math.PI,!0),ctx.fill(),ctx.closePath()}function boneco(A,e,t,o){1!=o&&11!=o||step.play();var a=o+10;a>=20&&(a-=20);var l=o,i=a;l>10&&(l=20-l),i>10&&(i=20-i);var n=Math.sin(2*pi*o/20);n>0&&(n/=3);var r=Math.sin(2*pi*a/20);r>0&&(r/=3),ctx.lineWidth=12,ctx.lineJoin="round",ctx.lineCap="round",-1==o?(ctx.strokeStyle="rgba(255,160,0,1)",ctx.beginPath(),ctx.arc(e,t-55,5,1.5,2.5*pi,!0),ctx.lineTo(e,t-25),ctx.moveTo(e-10,t-23),ctx.lineTo(e-5,t-40),ctx.lineTo(e+5,t-40),ctx.lineTo(e+10,t-23),ctx.moveTo(e-10,t-7),ctx.lineTo(e,t-25),ctx.lineTo(e+10,t-7),ctx.stroke(),ctx.closePath()):(ctx.strokeStyle="rgba(255,160,0,.6)",ctx.beginPath(),ctx.moveTo(e,t-45),ctx.lineTo(e+(5-2*l)*A,t-33),ctx.lineTo(e+(17-2*l)*A,t-38),ctx.moveTo(e,t-25),ctx.lineTo(e+(15-2.5*i)*A,t-7- -7*r),ctx.stroke(),ctx.closePath(),ctx.strokeStyle="rgba(255,160,0,1)",ctx.beginPath(),ctx.moveTo(e,t-45),ctx.lineTo(e+(5-2*i)*A,t-33),ctx.lineTo(e+(17-2*i)*A,t-38),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(e,t-55,5,1.5,2.5*pi,!0),ctx.lineTo(e,t-25),ctx.lineTo(e+(15-2.5*l)*A,t-7- -7*n),ctx.stroke(),ctx.closePath())}function explode(A){var e=bombs.indexOf(A);bombs=bombs.slice(0,e).concat(bombs.slice(e+1));var t=ctx.createRadialGradient(A.x,A.y,0,A.x,A.y,60);t.addColorStop(1,"rgba(255,0,0,0)"),t.addColorStop(.6,A.c),t.addColorStop(.5,A.c),t.addColorStop(.2,"#F8F"),dot(A.x,A.y,60,t);var o=document.createElement("audio");o.src=explosion,o.play()}function gameOver(){alive=!1,usrX=-100}var ticCounter=0;function tic(){++ticCounter%12==0&&bombs.push({x:Math.random()*(w-10)+5,y:20*Math.random()-30,c:"#F0"+Math.floor(15*Math.random()).toString(16)});for(var A,e=0;A=bombs[e];e++)A.y+=2,dot(A.x,A.y,10,A.c),A.y>h-95&&Math.abs(A.x-usrX)<25&&(explode(A),gameOver()),A.y>h-24&&(explode(A),alive&&escapedCounter++,notifyEscaped());var t,o={},a=ctx.getImageData(0,0,w,h),l=a.data;for(o.r=0;o.r<l.length;o.r+=4){o.g=o.r+1,o.b=o.r+2;var i;for(e=0;i=["r","g","b"][e];e++)t=(l[o[i]-4*w]||0)+(l[o[i]+4*w]||0)+(l[o[i]-4]||0)+(l[o[i]+4]||0),4*l[o[i]]>t?l[o[i]]=(4*l[o[i]]+t)/8:l[o[i]]=(l[o[i]]+2*t)/9,l[o[i]]>200&&(l[o[i]]-=5),l[o[i]]+=Math.round(5*Math.random()-3)}ctx.putImageData(a,0,0),alive?(keyRight&&(usrX+=3,usrFrame++),keyLeft&&(usrX-=3,usrFrame++),keyRight||keyLeft||(usrFrame=-1),20==usrFrame&&(usrFrame=0),console.log("usrFrame",usrFrame),usrX<18&&(usrX=18),usrX>w-18&&(usrX=w-18),boneco(keyRight?1:-1,usrX,h-20,usrFrame)):(ctx.fillStyle="rgba(255,255,100,0.1)",ctx.font="bold 20px sans-serif",ctx.textAlign="right",ctx.fillText("Survived "+escapedCounter+" explosions!",w-30,40),ctx.font="bold 38px sans-serif",ctx.textAlign="center",ctx.fillText("You died. 😢",w/2,h/3)),ctx.fillStyle="#4A0",ctx.fillRect(0,h-20,w,20);for(var n=0;n<w;n+=8)dot(n,h-20,3,"#4A0");setTimeout(tic,33)}function notifyEscaped(){ctx.fillStyle="rgba(255,255,100,1)",ctx.font="bold 20px sans-serif",ctx.textAlign="right",ctx.fillText("Survived "+escapedCounter+" explosions!",w-30,40)}var keyTop=!1,keyDown=!1,keyLeft=!1,keyRight=!1;document.body.onkeydown=function(A){38==A.keyCode&&(keyUp=!0),40==A.keyCode&&(keyDown=!0),37==A.keyCode&&(keyLeft=!0),39==A.keyCode&&(keyRight=!0)},document.body.onkeyup=function(A){38==A.keyCode&&(keyUp=!1),40==A.keyCode&&(keyDown=!1),37==A.keyCode&&(keyLeft=!1),39==A.keyCode&&(keyRight=!1)}</script>