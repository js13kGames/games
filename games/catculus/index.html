<html><head><title>Catculus - js13kGames 2025</title><style>body{margin:0;overflow:hidden;background:#000}</style></head><body><script>(()=>{var t={t:[{i:[0,255,116,79,0,255,114,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],o:[,3,1,2,1,2,1,2,1,2,3,,3,,3,1,2,3],c:[{n:[147,,,,,,,,,,,,,,,,147,,,,,,,,,,147],f:[]},{n:[147,,,,,,,,,,,,,,,,147,,,,,,,,147,,147,147,,,147],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,147,147,,,147],f:[]}]},{i:[1,221,128,64,0,210,128,0,64,255,4,6,73,79,0,0,0,64,7,1,3,195,15,0,32,20,0,24,6],o:[,3,1,2,1,2,1,2,1,2,3,,3,,3,1,2,3],c:[{n:[,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,135,,135],f:[]},{n:[,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,135,135,,135],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,135,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],o:[1,2,1,2,1,2,1,2,1,1,1,1,2,1,2,1,2,2],c:[{n:[147,,,,,,,,147,,,,,,,,147,,,,147,,,,147,,,,147,,147],f:[]},{n:[147,,,,,,,,147,,,,,,,,147,,,,147],f:[]}]},{i:[1,192,128,0,1,191,116,9,0,0,6,22,34,0,37,0,0,69,3,1,1,23,167,0,32,23,6,25,6],o:[1,1,1,1,1,2,1,1,1,1,2,,1,1,2,1,1,2],c:[{n:[114,,116,,,,116,,,,,,,,118,,114,,116,,,,116,,,,,,,,118],f:[]},{n:[114,,116,,,,116,,,,,,,,118,,114,,116,,,,116],f:[]}]},{i:[1,192,128,0,1,191,116,9,0,0,6,22,28,0,18,0,0,39,6,1,1,23,167,0,32,20,6,25,6],o:[,,4,4,1,1,2,3,2,3,,,,,,2,3,4],c:[{n:[140,,140,,,,145,,,,140,,147,,,,,,147,,147,,147,,150,,150,,147],f:[]},{n:[140,,,140,140,,147,,148,,150,,147,,152,,,,152,,152,,155,,157,157,155,,152,,150,150],f:[]},{n:[140,,,,140,,147,,150,,150,,147,,152,,,152,152,,152,,143,,145,,135,,138,,135,135],f:[]},{n:[140,,,,,,145,,,,140,,147,,,,,,,,,,147,,150,,150,,147],f:[]}]},{i:[1,84,128,0,1,32,128,2,0,0,6,22,31,0,54,0,1,69,3,1,1,2,57,0,32,13,7,28,6],o:[,,,,,,,,,,,3,2,1,2],c:[{n:[140,,138,,142,,138,,,,138,,143,,138,,147,143,140,,140,,143,140,147,,140,,140,,145,147],f:[]},{n:[143,,,,150,,,,143,,150,,143,,147,,150,145,147,,142,,147,,147,,142,,138],f:[]},{n:[140,,,,142,,,,,,,,143,,,,147,,,,140,,,,147,,,,140,,147],f:[]}]}],h:5513,u:32,l:17,v:6},n=function(){var t,n,i,o,e,r=function(t){return Math.sin(6.283184*t)},s=function(t){return.003959503758*Math.pow(2,(t-128)/12)},h=function(t,n,i){var o,e,r,h,a,c,l=u[t.i[0]],p=t.i[1],f=t.i[3]/32,y=u[t.i[4]],d=t.i[5],v=t.i[8]/32,x=t.i[9],g=t.i[10]*t.i[10]*4,m=t.i[11]*t.i[11]*4,w=t.i[12]*t.i[12]*4,b=1/w,_=-t.i[13]/16,O=t.i[14],T=(Math.pow(2,2-t.i[15]),new Int32Array(g+m+w)),M=0,S=0;for(o=0,e=0;o<g+m+w;o++,e++)e>=0&&(a=s(n+(15&O)+t.i[2]-128),c=s(n+(15&O)+t.i[6]-128)*(1+8e-4*t.i[7])),r=1,o<g?r=o/g:o>=g+m&&(r=(1-(r=(o-g-m)*b))*Math.pow(3,_*r)),h=l(M+=a*Math.pow(r,f))*p,h+=y(S+=c*Math.pow(r,v))*d,x&&(h+=(2*Math.random()-1)*x),T[o]=80*h*r|0;return T},u=[r,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var n=t%1*4;return n<2?n-1:3-n}];this.init=function(r){t=r,n=r.l,i=0,o=r.h*r.u*(n+1)*2,e=new Int32Array(o)},this.p=function(){var s,a,c,l,p,f,y,d,v,x,g,m,w,b,_=new Int32Array(o),O=t.t[i],T=t.h,M=t.u,S=0,P=0,j=!1,k=[];for(c=0;c<=n;++c)for(y=O.o[c],l=0;l<M;++l){var C=u[O.i[16]],A=O.i[17]/512,E=Math.pow(2,O.i[18]-9)/T,R=O.i[19],W=O.i[20],I=43.23529*O.i[21]*3.141592/44100,q=1-O.i[22]/255,B=1e-5*O.i[23],F=O.i[24]/32,L=O.i[25]/512,z=6.283184*Math.pow(2,O.i[26]-9)/T,U=O.i[27]/255,H=O.i[28]*T&-2;for(g=(c*M+l)*T,p=0;p<4;++p)if(f=y?O.c[y-1].n[l+p*M]:0){k[f]||(k[f]=h(O,f));var K=k[f];for(a=0,s=2*g;a<K.length;a++,s+=2)_[s]+=K[a]}for(a=0;a<T;a++)(x=_[d=2*(g+a)])||j?(m=I,R&&(m*=C(E*d)*A+.5),P+=(m=1.5*Math.sin(m))*(w=q*(x-P)-(S+=m*P)),x=3==W?P:1==W?w:S,B&&(x=(x*=B)<1?x>-1?r(.25*x):-1:1,x/=B),j=(x*=F)*x>1e-5,b=x*(1-(v=Math.sin(z*d)*L+.5)),x*=v):b=0,d>=H&&(b+=_[d-H+1]*U,x+=_[d-H]*U),_[d]=0|b,_[d+1]=0|x,e[d]+=0|b,e[d+1]+=0|x}return++i/t.v},this.m=function(t){for(var n=t.createBuffer(2,o/2,44100),i=0;i<2;i++)for(var r=n.getChannelData(i),s=i;s<o;s+=2)r[s>>1]=e[s]/65536;return n},this.M=function(){var t=44+2*o-8,n=t-36,i=new Uint8Array(44+2*o);i.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&n,n>>8&255,n>>16&255,n>>24&255]);for(var r=0,s=44;r<o;++r){var h=e[r];h=h<-32767?-32767:h>32767?32767:h,i[s++]=255&h,i[s++]=h>>8&255}return i},this.getData=function(t,n){for(var i=2*Math.floor(44100*t),o=new Array(n),r=0;r<2*n;r+=1){var s=i+r;o[r]=t>0&&s<e.length?e[s]/32768:0}return o}};function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.play.apply(e,t)}var o,e={volume:.3,sampleRate:44100,x:new AudioContext,play:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.O(this._.apply(this,t))},O:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.x.createBuffer(t.length,t[0].length,this.sampleRate),o=this.x.createBufferSource();return t.map(function(t,n){return i.getChannelData(n).set(t)}),o.buffer=i,o.connect(this.x.destination),o.start(),o},_:function(t,n,i,o,e,r,s,h,u,a,c,l,p,f,y,d,v,x,g,m){void 0===t&&(t=1),void 0===n&&(n=.05),void 0===i&&(i=220),void 0===o&&(o=0),void 0===e&&(e=0),void 0===r&&(r=.1),void 0===s&&(s=0),void 0===h&&(h=1),void 0===u&&(u=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===l&&(l=0),void 0===p&&(p=0),void 0===f&&(f=0),void 0===y&&(y=0),void 0===d&&(d=0),void 0===v&&(v=0),void 0===x&&(x=1),void 0===g&&(g=0),void 0===m&&(m=0);var w,b,_=2*Math.PI,O=this.sampleRate,T=u*=500*_/O/O,M=i*=(1+2*n*Math.random()-n)*_/O,S=[],P=0,j=0,k=0,C=1,A=0,E=0,R=0;for(o=o*O+9,g*=O,e*=O,r*=O,v*=O,a*=500*_/Math.pow(O,3),y*=_/O,c*=_/O,l*=O,p=p*O|0,b=o+g+e+r+v|0;k<b;S[k++]=R)++E%(100*d|0)||(R=s?s>1?s>2?s>3?Math.sin(Math.pow(P%_,3)):Math.max(Math.min(Math.tan(P),1),-1):1-(2*P/_%2+2)%2:1-4*Math.abs(Math.round(P/_)-P/_):Math.sin(P),R=(p?1-m+m*Math.sin(_*k/p):1)*(R>0?1:-1)*Math.pow(Math.abs(R),h)*t*this.volume*(k<o?k/o:k<o+g?1-(k-o)/g*(1-x):k<o+g+e?x:k<b-v?(b-k-v)/r*x:0),R=v?R/2+(v>k?0:(k<b-v?1:(b-k)/v)*S[k-v|0]/2):R),P+=(w=(i+=u+=a)*Math.cos(y*j++))-w*f*(1-1e9*(Math.sin(k)+1)%2),C&&++C>l&&(i+=c,M+=c,C=0),!p||++A%p||(i=M,u=T,C||(C=1));return S}},r=function(){function o(){this.j=!1,this.T=.5,this.A=.5,this.g=document.createElement("audio"),document.body.appendChild(this.g)}return o.prototype.C=function(){var i=this;if(this.j=!0,t){var o=new n;o.init(t),o.p(),this.loaded=!1;var e=setInterval(function(){if(!i.loaded&&(i.loaded=o.p()>=1,i.loaded)){var t=o.M();i.g.src=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),i.g.loop=!0,i.g.volume=i.A,i.g.S=!1,clearInterval(e)}},5)}},o.prototype.R=function(){return this.g.playbackRate},o.prototype.k=function(t){t<.1?this.g.volume=0:this.g.playbackRate=t},o.prototype.I=function(){var t=this,n=setInterval(function(){t.loaded&&(t.g.play(),clearInterval(n))},5);this.g.addEventListener("timeupdate",function(){t.g.currentTime>t.g.duration-.21&&(t.g.currentTime=0,t.g.play())})},o.prototype.play=function(t){var n=this;i.apply(void 0,t.map(function(t,i){return 0===i?.6*(null!=t?t:1)*n.T:t}))},o.prototype.button=function(){this.play([2.5,,372,.02,.01,.002,2,4.8,-42,-11,8,.6,,.9,,,.03,.76,.02,.24,-1500])},o.prototype.F=function(){},o.prototype.select=function(){},o.prototype.L=function(){this.play([.3,,136,.04,.09,.07,1,3.6,,-32,,,,.5,,,,.88,.06])},o.prototype.P=function(){this.play([.7,,353,.03,.03,.15,,2.7,7,54,,,,,,.1,,.62,,,-1065]),this.play([.2,,435,.01,.07,,,2.1,24,,,,,,,.1,,.82,.04,,-1498])},o.prototype.B=function(){this.play([,,296,.01,.21,.29,,.9,-1,,323,.09,.05,,,,,.91,.16]),this.play([1.1,,257,.02,.06,.18,,3.9,,15,,,,,,.1,,.62,.03,,-1091]),this.play([2,,69,,.09,.44,,1.4,,3,,,,2,,.9,.3,.38,.19,,-3432])},o.prototype.U=function(){this.play([.5,,627,.01,.14,.27,1,2.9,-1,,37,.06,.08,.3,,,,.87,.13,.26]),this.play([,,474,,.05,.18,,.9,,,,,,,,,,.85,.01]),this.play([1,,551,.02,.11,.11,,2.7,,-1,,,.07,,3.2,,,.65,.12,,-656])},o.prototype.W=function(){this.play([.3,,313,.09,.21,.08,1,.3,,105,-168,.06,.07,,,.1,,.8,.21,.07,-1426])},o.prototype.D=function(){this.play([1.2,,105,.01,.02,.04,1,1.1,54,,43,.5,,.1,70,,,.8,.01,.01,352])},o.prototype.q=function(t){var n=Math.ceil(t/7);this.play([,,[220,246.9417,261.6256,293.6648,329.6276,349.2282,391.9954][t%7]*n,.02,.01,.07,1,.4,,,368,.05,,.3,,,,.7,.02])},o.prototype.done=function(){this.play([2,,650,.01,.28,.4,1,3.9,,,209,.07,.08,,,,,.73,.24,.48,-520]),this.play([,,380,.04,.21,.12,,3.5,,,,,.02,,4.6,,,.72,.19,.48])},o.prototype.G=function(){this.play([3,,498,.04,.24,.32,,2.9,,8,-76,.06,.1,,3.3,,,.88,.14,.43]),this.play([5,,48,.05,.09,.69,1,2.7,6,,,,.19,1.2,47,.6,.43,.46,.18,.34])},o.prototype.H=function(){this.play([.9,,443,.1,.18,.29,1,1.7,,,,,.09,,3.3,.1,,.72,.18,,172])},o.prototype.N=function(){this.play([.8,,347,.09,.13,.14,,3.9,-1,,-154,.1,.06,,,,,.66,.2,.35,-1312]),this.play([.8,,431,.01,.03,.04,1,1.4,61,,,,.03,,,,,.59,.03,.28,-1229])},o.prototype.V=function(){this.play([,,614,.01,.24,.21,1,.4,,,-132,.08,.08,,,.2,,.55,.11]),this.play([2,,52,.04,.29,.46,4,3.2,1,,,,,1.6,11,.3,,.38,.17,,1135])},o.prototype.Y=function(){this.play([.3,,390,.03,.2,.11,,.1,50,-91,410,.11,.07,.1,.8]),this.play([5,,311,,,.006,1,.6,,,,,.05,,1.1,,.47,.55,.38,.08,728])},o}(),s=function(t,n,i){return Math.min(Math.max(t,n),i)},h=function(t){return s(t,0,1)},u=function(t,n,i){return t+(n>t?Math.min(n-t,i):Math.max(n-t,-i))},a=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},c={x:0,y:0},l=function(t,n){var i=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);return Math.sqrt(i*i+o*o)},p=function(t,n,i){return{x:t.x+n,y:t.y+i}},f=function(t){return t<.5?2*t*t:-2*t*t+4*t-1},y=function(){function t(t){this.K=t,this.time=0,this.type="none",this.J=function(t){return(n=t)<4/11?121*n*n/16:n<8/11?9.075*n*n-9.9*n+3.4:n<.9?4356/361*n*n-35442/1805*n+16061/1805:10.8*n*n-20.52*n+10.72;var n}}return t.prototype.isActive=function(){return this.active},t.prototype.scale=function(t,n){this.type="scale";var i=this.K.scale;this.start={x:i.x,y:i.y},this.X(t,n)},t.prototype.move=function(t,n){this.type="move";var i=this.K.o;this.start={x:i.x,y:i.y},this.X(t,n)},t.prototype.Z=function(t){this.J=t},t.prototype.X=function(t,n){this.target=t,this.duration=1e3*n,this.active=!0,this.startTime=-1},t.prototype.stop=function(){this.type,this.active=!1},t.prototype.update=function(t){if(this.startTime<0||"none"==this.type)this.startTime=t;else if(this.active&&(this.time=h((t-this.startTime)/this.duration),this.start&&this.target)){var n,i,o,e,r=(n=this.start,i=this.target,o=this.time,void 0===(e=this.J)&&(e=function(t){return t}),{x:n.x+e(o)*(i.x-n.x),y:n.y+e(o)*(i.y-n.y)});"move"==this.type&&(this.K.o={x:r.x,y:r.y}),"scale"==this.type&&(this.K.scale={x:r.x,y:r.y}),this.active=this.time<1}},t.$=function(t,n){void 0===n&&(n=1e3);for(var i=function(i){setTimeout(function(){return t(i)},i*n)},o=0;o<1;o+=.01)i(o)},t}(),d=function(){function t(t,n,i,o,e){this.tt=t,this.scale={x:1,y:1},this.d=0,this.rotation=0,this.it=0,this.nt=0,this.st=0,this.rt=0,this.ot=.005,this.delta=0,this.o={x:n,y:i},this.s={x:o,y:e},this.ht=new y(this),this.it=Math.random()}return t.prototype.update=function(t,n){this.delta=t-this.nt,this.nt=t,this.ht.update(t),this.st=Math.sin(t*this.ot+this.it),this.rt=Math.abs(this.st)},t.prototype.ut=function(t){},t.prototype.et=function(){return{x:this.o.x+.5*this.s.x,y:this.o.y+.5*this.s.y}},t.prototype.setPosition=function(t,n){this.o={x:t,y:n}},t.prototype.ct=function(t,n){void 0===n&&(n=0);var i=this.et();return t.x>i.x-.5*this.s.x*this.scale.x-.5*n&&t.x<i.x+.5*this.s.x*this.scale.x+.5*n&&t.y>i.y-.5*this.s.y*this.scale.y-.5*n&&t.y<i.y+.5*this.s.y*this.scale.y+.5*n},t.prototype.ft=function(t){t.save(),t.translate(this.o.x,this.o.y),this.ut(t),t.restore()},t}(),v=(o=function(t,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),x=function(t){function n(n,i){void 0===i&&(i=0);var o=t.call(this,n,0,0,0,0)||this;return o.d=500,setTimeout(function(){return o.open()},i),o}return v(n,t),n.prototype.open=function(t){void 0===t&&(t=function(){}),this.ht.scale({x:0,y:0},.5),setTimeout(t,500)},n.prototype.close=function(t){void 0===t&&(t=function(){}),this.ht.scale({x:1,y:1},.4),setTimeout(t,500)},n.prototype.ut=function(t){t.fillStyle="#000";var n=window.innerHeight>window.innerWidth?400:800;t.fillRect(0,0,.55*n*this.scale.x,800),t.fillRect(n-.55*n*this.scale.x,0,n*this.scale.x,800)},n}(d),g=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1),t+Math.random()*(n-t)},m=function(t){return t[Math.floor(Math.random()*t.length)]},w=function(){return Math.random()<.5?1:-1},b=w,_=function(){function t(){this.offset=c,this.pan=c,this.shift=0,this.lt=0,this.vt=0}return t.prototype.dt=function(t,n,i){var o=this;void 0===i&&(i=0),this.lt=t,this.vt=i/360*Math.PI,clearTimeout(this.wt),this.wt=setTimeout(function(){return o.reset()},1e3*n)},t.prototype.update=function(){this.offset={x:g(-this.lt,this.lt),y:g(-this.lt,this.lt)},this.rotation=g(-this.vt,this.vt)},t.prototype.reset=function(){this.lt=0,this.vt=0},t}(),O=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),T=function(){return T=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},T.apply(this,arguments)},M=function(t){function n(n,i){var o=t.call(this,null,0,0,0,0)||this;return o.g=n,o.canvas=i,o.yt=new _,o.xt=new x(o,400),o}return O(n,t),n.prototype.click=function(t){var n;this.bt=!1,null===(n=this.Mt)||void 0===n||n.Ot().forEach(function(n){n.visible&&n.ct(t)&&n._t()})},n.prototype.jt=function(){return this.Tt},n.prototype.update=function(n,i){var o;t.prototype.update.call(this,n,i),null===(o=this.Mt)||void 0===o||o.update(n,i),this.yt.update(),this.xt.update(n,i),i.At=!1,this.Tt=T({},i)},n.prototype.ut=function(t){var n,i;t.fillStyle=null===(n=this.Mt)||void 0===n?void 0:n.Et(),t.fillRect(0,0,800,600),t.save(),t.rotate(this.yt.rotation),t.scale(this.yt.zoom,this.yt.zoom),t.translate(this.yt.offset.x-this.yt.pan.x+this.yt.shift,this.yt.offset.y+this.yt.pan.y),null===(i=this.Mt)||void 0===i||i.ut(t),t.restore(),this.xt.ut(t)},n.prototype.gt=function(t){var n=this;this.xt.close(function(){var i;null===(i=n.Mt)||void 0===i||i.end(),n.Mt=t,t.Ct(window.innerHeight>window.innerWidth),n.xt.open()})},n.prototype.St=function(){return this.xt},n}(d),S=function(t,n,i,o,e,r){t.beginPath(),e&&(t.fillStyle=e),t.ellipse(n.x,n.y,i,o,0,0,2*Math.PI),t.fill(),r&&(t.strokeStyle=r,t.stroke())},P=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),j=function(t){function n(n,i,o,e){var r=t.call(this,n,i,o,e,e)||this;return r.Rt=1,r.kt=1,r.color="#fff",r}return P(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.Rt=u(this.Rt,this.kt,.075)},n.prototype.It=function(){return this.color},n.prototype.setColor=function(t){this.color=t},n.prototype.Ft=function(t){this.s={x:t,y:t}},n.prototype.ut=function(t,n){var i=t.globalCompositeOperation;t.globalCompositeOperation="source-over",t.fillStyle=this.color,n||S(t,this.o,this.s.x*Math.min(1.1,1/this.Rt),this.s.y*this.Rt,this.color),n&&function(t,n,i){t.fillRect(n-10,i-3.5,20,7)}(t,this.o.x,this.o.y+6),t.globalCompositeOperation=i},n.prototype.blink=function(t){var n=this;clearTimeout(this.wt),this.kt=0,this.wt=setTimeout(function(){return n.open()},t)},n.prototype.open=function(){this.kt=1},n}(d),k=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),C=function(){return C=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},C.apply(this,arguments)},A={Lt:"#FE6847",Pt:10,width:1,Bt:150,Ut:200,Wt:1.3,Dt:1,zt:7,qt:0,color:"#fff",Gt:"#fff"},E=function(t){function n(n,i){var o=t.call(this,n,0,0,0,0)||this;return o.Rt=0,o.kt=0,o.Ht=1,o.options=C({},A),o.Nt(i),o.blink(o.options.Ut,o.options.Bt),o.left=new j(n,-30*o.options.width,5,o.options.Pt),o.right=new j(n,30*o.options.width,5,o.options.Pt),o}return k(n,t),n.prototype.Vt=function(){return this.options},n.prototype.Nt=function(t){var n,i;this.options=C(C({},this.options),t),null===(n=this.left)||void 0===n||n.setColor(t.color),null===(i=this.right)||void 0===i||i.setColor(t.color)},n.prototype.blink=function(t,n){var i=this;this.options.Yt||(setTimeout(function(){return i.Kt(i.left,t,n)},g(0,n)),setTimeout(function(){return i.Kt(i.right,t,n)},g(0,n)),setTimeout(function(){return i.blink(t,n)},g(1e3,4e3)))},n.prototype.Kt=function(t,n,i){this.options.Yt||(t.blink(n),g(0,i))},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.Rt=u(this.Rt,this.kt,.1),this.left.update(n,i),this.right.update(n,i),Math.random()<.002&&(this.Ht*=-1)},n.prototype.Jt=function(t){this.left.Ft(t),this.right.Ft(t)},n.prototype.Qt=function(t){this.left.setColor(t),this.right.setColor(t)},n.prototype.Xt=function(){return this.left.It()},n.prototype.ut=function(t,n){void 0===n&&(n=!0),S(t,{x:-65*this.options.width-this.options.qt,y:20},15*this.options.Wt,10*this.options.Wt,this.options.Lt),S(t,{x:65*this.options.width+this.options.qt,y:20},15*this.options.Wt,10*this.options.Wt,this.options.Lt),t.fillStyle="#000",this.left.ut(t,this.Zt),this.right.ut(t,this.Zt),t.lineCap="round",t.lineJoin="round",t.lineWidth=this.options.zt,t.strokeStyle=this.options.color,t.fillStyle=this.options.color,this.$t&&n&&(t.beginPath(),t.moveTo(-50*this.options.width+10,-5),t.lineTo(-50*this.options.width-20,-20),t.stroke(),t.beginPath(),t.moveTo(50*this.options.width-10,-5),t.lineTo(50*this.options.width+20,-20),t.stroke()),t.save(),t.scale(this.Ht,1),t.beginPath(),t.strokeStyle=this.options.Gt;var i=this.options.width*this.options.Dt,o=this.$t?-30:0;if(this.options.ti){var e=30;t.save(),t.translate(0,5),t.lineWidth=.01*this.options.zt,t.beginPath(),t.moveTo(-40*i,e),t.quadraticCurveTo(-10,40+10*i,0,15),t.quadraticCurveTo(10,40+10*i,40*i,e),t.restore()}else e=20,t.moveTo(-40*i,e),t.quadraticCurveTo(0,40-60*i*this.Rt+o,40*i,20),t.quadraticCurveTo(0,40+60*i*this.Rt+o,-40*i,e);t.stroke(),t.fill(),t.restore()},n.prototype.ii=function(t,n){var i=this;clearTimeout(this.ni),this.kt=t,this.ni=setTimeout(function(){return i.si()},1e3*n)},n.prototype.si=function(){this.kt=0},n.prototype.setColor=function(t){this.options.color=t,this.left.setColor(t),this.right.setColor(t)},n.prototype.ri=function(t){this.options.Lt=t},n}(d),R=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),W=[{x:900,y:320},{x:700,y:320},{x:500,y:300},{x:400,y:220}],I=[{x:500,y:200},{x:350,y:250},{x:300,y:300},{x:200,y:380}],q=function(t){function n(n,i,o){var e=t.call(this,n,i,o,0,0)||this;return e.oi=1,e.ot=.003,e.face=new E(n,{width:.8,ti:!0}),e.d=100,e.ht.Z(f),e.ot*=g(.8,1.2),e}return R(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.oi=h(this.oi+(this.Zt?-1:1)*this.delta*.01),this.Zt||this.face.update(n,i)},n.prototype.hi=function(t){void 0===t&&(t=!0),this.Zt=t,this.face.Zt=t},n.prototype.ut=function(t){var n=this;t.save(),t.translate(this.o.x,this.o.y),S(t,{x:0,y:1},17,5,"#00000055"),t.strokeStyle="#000",t.lineCap="round";var i=this.Zt?0:this.st,o=this.Zt?this.st:0;t.scale(1-.1*o,1+.1*o);var e,r=(e=Math.sin(this.ht.time*Math.PI))*e;t.translate(0,-40*r);var s=function(i,o){t.lineWidth=2,t.beginPath(),t.moveTo(i,-3-6*n.rt),t.quadraticCurveTo(1.4*i,-2-3*n.rt,i,1+o),t.stroke()};this.Zt||(s(10,0),s(-10,0),s(6,1),s(-6,1)),t.lineWidth=20,t.beginPath(),t.translate(0,-7-3*Math.abs(i)-5*r-3*this.oi),t.moveTo(-5,0),t.lineTo(5,0),t.stroke(),t.translate(2*i,0),t.lineWidth=5,t.moveTo(0,0),t.quadraticCurveTo(25*-this.st,-5,12*-i,-20-5*this.rt),this.Zt||t.stroke();var h=function(n){t.fillStyle="#000",t.beginPath(),t.moveTo(7*n,-15),t.lineTo(5*n-5,0),t.lineTo(5*n+5,0),t.fill()};h(-1),h(1),t.translate(0,-2-i-3*r-2*o),t.scale(.13,.13),this.face.ut(t,!1),t.restore()},n.prototype.ui=function(t){var n=this;this.Zt&&this.tt.g.Y(),this.hi(!1),this.ei=!0,this.ht.move(t,.4),this.tt.g.P(),setTimeout(function(){return n.tt.g.L()},380)},n.prototype.ci=function(){return!this.Zt},n}(d),B="#57B8FF",F="#2176AE",L="#FE6847",z="#FBB13C",U="#82CC32",H=function(t){t.fillStyle=B,t.fillRect(-100,-100,t.canvas.width+200,t.canvas.height+200),t.strokeStyle=F,t.setLineDash([0,53]),t.lineDashOffset=5,t.lineWidth=60,t.lineCap="round";var n=window.innerHeight>window.innerWidth,i=n?400:800,o=n?800:400,e=function(n,o){t.beginPath(),t.moveTo(-100,o),t.quadraticCurveTo(i/2,n,i+100,o),t.stroke()};e(o+20,o-20),e(0,80),e(0,45),e(0,10),t.setLineDash([])},K="Arial Black,HelveticaNeue-CondensedBlack,Roboto,arial,sans-serif",N=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),D=function(t){function n(n,i,o,e,r,s,h,u,a){void 0===a&&(a=30);var c=t.call(this,n,o-.5*r,e-.5*s,r,s)||this;return c.content=i,c.fi=h,c.g=u,c.fontSize=a,c.visible=!0,c.ai=5,c.li={x:0,y:0},c.vi="#000",c.di=7,c.ot=.0025,c}return N(n,t),n.prototype.wi=function(){return this.yi},n.prototype.pi=function(t){this.li=t},n.prototype.xi=function(t){this.ai=t},n.prototype._t=function(){this.g.button(),this.fi()},n.prototype.mi=function(){this.bi=!0},n.prototype.Mi=function(){return this.content},n.prototype.et=function(){return{x:this.o.x+.5*this.s.x+this.li.x,y:this.o.y+.5*this.s.y+this.li.y}},n.prototype.update=function(n,i){if(this.visible){var o=this.yi;this.yi=!i.Oi&&this.ct(i)&&!this.tt.bt,!o&&this.yi&&this._i(),i.At||(this.pressed&&!i.Oi&&this.yi,this.pressed=!1),t.prototype.update.call(this,n,i),!this.yi||!i.At||this.pressed||i.Oi||(this.pressed=!0)}},n.prototype.ut=function(t){var n=this;if(this.visible){t.save(),t.translate(0,this.yi?-this.ai:0+3*this.rt),t.fillStyle=t.strokeStyle="#000",t.fillRect(this.o.x,this.o.y,this.s.x,this.s.y),t.fillStyle=this.yi?"#FE6847":"#fff";var i=function(i){t.beginPath(),t.moveTo(i-15,n.o.y+10),t.lineTo(i,n.o.y-10),t.lineTo(i+15,n.o.y+10),t.stroke(),t.fill()},o=function(i,o){t.moveTo(n.o.x+.5*n.s.x+i*n.s.x*.5-10*i,n.o.y+o*n.s.y),t.lineTo(n.o.x+.5*n.s.x+i*n.s.x*.5+15*i,n.o.y+o*n.s.y)};t.lineWidth=1.75*this.di,i(this.o.x+.2*this.s.x),i(this.o.x+.8*this.s.x),t.lineCap="round",t.lineWidth=1*this.di,t.beginPath(),o(1,.5),o(1,.65),o(1,.8),o(-1,.5),o(-1,.65),o(-1,.8),t.stroke(),t.fillRect(this.o.x+this.di,this.o.y+this.di,this.s.x-2*this.di,this.s.y-2*this.di),t.font="".concat(this.fontSize,"px ").concat(K),t.textBaseline="alphabetic",t.textAlign="center",t.fillStyle=this.vi,t.strokeStyle="#000",t.lineWidth=6,this.strokeText&&t.strokeText(this.content,this.o.x+.5*this.s.x,this.o.y+.5*this.s.y+.3*this.fontSize),t.fillText(this.content,this.o.x+.5*this.s.x,this.o.y+.5*this.s.y+.3*this.fontSize),t.restore()}},n.prototype._i=function(){this.g.F(),this.ji&&this.ji()},n}(d),V=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Z=function(t){function n(n,i,o,e){var r;void 0===i&&(i=0),void 0===o&&(o=0),void 0===e&&(e=[]);var s=t.call(this,n,i,o,0,0)||this;return s.children=[],(r=s.children).push.apply(r,e),s}return V(n,t),n.prototype.Ct=function(t){},n.prototype.Et=function(){return"#ccc"},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.children.forEach(function(t){return t.update(n,i)}),this.children.some(function(t){return t.Ti})&&(this.children=this.children.filter(function(t){return!t.Ti}))},n.prototype.hide=function(t){void 0===t&&(t=.3),this.ht.scale({x:0,y:0},t)},n.prototype.show=function(t){void 0===t&&(t=.3),this.ht.scale({x:1,y:1},t)},n.prototype.ut=function(t){t.save(),function(t,n,i){if(i||2===arguments.length)for(var o,e=0,r=n.length;e<r;e++)!o&&e in n||(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return t.concat(o||Array.prototype.slice.call(n))}([],this.children,!0).sort(function(t,n){return t.d-n.d}).forEach(function(n){return n.ut(t)}),t.restore()},n.prototype.Ai=function(t){return this.children[t]},n.prototype.Ei=function(){return this.children},n.prototype.add=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=this.children).push.apply(t,n)},n.prototype.clear=function(){this.children=[]},n.prototype.Ot=function(){return[]},n.prototype.end=function(){},n}(d),Y=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),G=function(t){function n(n,i,o,e,r,s,h){var u=t.call(this,n,i,o,e,r)||this;return u.gi=s,u.Ci=h,u.ratio=1,u.start=-1,u}return Y(n,t),n.prototype.update=function(t,n){this.Ti||this.gi<0||(this.o={x:this.o.x+this.Ci.x,y:this.o.y+this.Ci.y},this.ratio=1-(t-this.start)/(1e3*this.gi),this.start<0&&(this.start=t),t-this.start>1e3*this.gi&&(this.Ti=!0))},n}(d),J=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),X=function(){return X=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},X.apply(this,arguments)},$=function(t){function n(n,i,o,e,r,s,h,u){var a=t.call(this,n,e,r,0,0,s,h)||this;return a.content=i,a.fontSize=o,a.options=u,a}return J(n,t),n.prototype.ut=function(t){var n,i,o,e,r,s,h,u;t.save(),t.rotate(null!==(i=null===(n=this.options)||void 0===n?void 0:n.angle)&&void 0!==i?i:0);var a=(null===(o=this.options)||void 0===o?void 0:o.Si)?this.ratio:1;t.font="".concat(this.fontSize*a,"px ").concat(K),t.textAlign=null!==(r=null===(e=this.options)||void 0===e?void 0:e.align)&&void 0!==r?r:"center",(null===(s=this.options)||void 0===s?void 0:s.Ri)&&(t.fillStyle="#000",t.fillText(this.content,this.o.x+this.options.Ri,this.o.y+this.options.Ri)),t.fillStyle=null!==(u=null===(h=this.options)||void 0===h?void 0:h.color)&&void 0!==u?u:"#fff",t.fillText(this.content,this.o.x,this.o.y),t.restore()},n.prototype.ki=function(t){var n,i=(null===(n=this.options)||void 0===n?void 0:n.Si)?this.ratio:1;return t.font="".concat(this.fontSize*i,"px ").concat(K),Math.max.apply(Math,this.content.split("\n").map(function(n){return t.measureText(n).width}))},n.prototype.Nt=function(t){this.options=X(X({},this.options),t)},n}(G),Q=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),tt=function(t){function n(n,i,o,e,r,s,h,u){var a=t.call(this,n,i,o,e,r,-1,c,u)||this;return a.frequency=s,a.amplitude=h,a.time=0,a.Ii=[],a.Fi=!1,a.font=K,a.scale={x:1,y:1},a}return Q(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.ht.update(n),this.time=n},n.prototype.toggle=function(t){var n=this;clearTimeout(this.wt);var i=g(.2,.5);this.wt=setTimeout(function(){n.content=t,n.Li(n.Fi)},t?0:1e3*i);var o=t?1:0;this.ht.scale({x:o,y:o},i)},n.prototype.ut=function(t){var n,i,o,e,r,s,u,a,c,l,p,f=this;t.save(),t.rotate(null!==(i=null===(n=this.options)||void 0===n?void 0:n.angle)&&void 0!==i?i:0),this.ratio=h(this.scale.x);var y=(null===(o=this.options)||void 0===o?void 0:o.Si)?this.ratio:1;t.textAlign="left",t.font="".concat(this.fontSize*y,"px ").concat(K);var d=null!==(r=null===(e=this.options)||void 0===e?void 0:e.spacing)&&void 0!==r?r:0,v=this.ki(t);this.width=v,t.lineJoin="round";var x=!1;(null===(s=this.options)||void 0===s?void 0:s.background)&&(t.fillStyle=this.options.background,t.beginPath(),t.rect(this.o.x-.5*v-15,this.o.y-30,v+30,47),t.fill(),(null===(u=this.options)||void 0===u?void 0:u.border)&&(t.strokeStyle=this.options.border,t.lineWidth=null!==(a=this.options.borderWidth)&&void 0!==a?a:1,t.stroke()));var g=("center"!==(null===(c=this.options)||void 0===c?void 0:c.align)&&(null===(l=this.options)||void 0===l?void 0:l.align)?0:.5*-v)-this.content.replace(/\|/g,"").length*d*.5;"right"==(null===(p=this.options)||void 0===p?void 0:p.align)&&(g=-v);var m=0;t.translate(this.o.x+g,this.o.y),this.content.split("").forEach(function(n){var i,o,e,r,s,h,u,a;if("|"!==n){var c=null!==(o=null===(i=f.Ii[m])||void 0===i?void 0:i.x)&&void 0!==o?o:1,l=null!==(r=null===(e=f.Ii[m])||void 0===e?void 0:e.y)&&void 0!==r?r:1,p=t.measureText(n),y=p.width,v=p.actualBoundingBoxAscent+.5*p.actualBoundingBoxDescent;t.save(),t.translate(.5*y,.5*-v),t.scale(c,l),t.translate(.5*-y,.5*v),(null===(s=f.options)||void 0===s?void 0:s.Ri)&&(t.fillStyle="#000",t.fillText(n,d*m*c+f.options.Ri*c,f.options.Ri*l+Math.sin(.005*f.time+m*f.frequency)*f.amplitude*l)),t.fillStyle=x?"#FBB13C":null!==(u=null===(h=f.options)||void 0===h?void 0:h.color)&&void 0!==u?u:"#fff",(null===(a=f.options)||void 0===a?void 0:a.outline)&&(t.strokeStyle="#000",t.lineWidth=f.options.outline*f.ratio,t.strokeText(n,d*m*c,Math.sin(.005*f.time+m*f.frequency)*f.amplitude*l)),t.fillText(n,d*m*c,Math.sin(.005*f.time+m*f.frequency)*f.amplitude*l),t.restore(),t.translate(y,0),m++}else x=!x}),t.restore()},n.prototype.Pi=function(t){this.font=t},n.prototype.Li=function(t){void 0===t&&(t=!0),this.Fi=t,this.Ii=t?this.content.replace(/\|/g,"").split("").map(function(){return{x:b(),y:b()}}):[]},n.prototype.Bi=function(){return this.width},n.prototype.ki=function(t){var n,i=(null===(n=this.options)||void 0===n?void 0:n.Si)?this.ratio:1;return t.font="".concat(this.fontSize*i,"px ").concat(this.font),Math.max.apply(Math,this.content.split("\n").map(function(n){return t.measureText(n.replace(/\|/g,"")).width}))},n.prototype.Ft=function(t,n){this.fontSize=t,this.options.Ri=n},n}($),nt=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),it=function(t){function n(n){return t.call(this,n,-50,290,900,370)||this}return nt(n,t),n.prototype.ut=function(t){this.visible&&(t.fillStyle="#00000088",t.fillRect(this.o.x,this.o.y,this.s.x,this.s.y))},n}(d),ot=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),et=function(t){function n(n,i,o,e,r,s,h){void 0===h&&(h=0);var u=t.call(this,n,0,0,0,0,e,c)||this;return u.from=i,u.to=o,u.width=r,u.color=s,u.Ui=h,u.Wi=Math.random()<.5?1:-1,u.Di=Math.random()<.5?1:-1,u.zi=.25+.5*Math.random(),u}return ot(n,t),n.prototype.ut=function(t){if(t.beginPath(),!(this.ratio<.2)){if(t.lineWidth=this.width*this.ratio,t.lineCap="butt",t.strokeStyle=this.color,t.moveTo(this.from.x,this.from.y),this.Ui){var n={x:this.from.x*this.zi+this.to.x*(1-this.zi),y:this.from.y*this.zi+this.to.y*(1-this.zi)},i=p(n,this.Ui*this.Wi,this.Ui*this.Di),o=p(n,-this.Ui*this.Wi,this.Ui*this.Di);t.lineTo(i.x,i.y),t.lineTo(o.x,o.y)}t.lineTo(this.to.x,this.to.y),t.stroke()}},n}(G),rt=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),st=function(t){function n(n,i,o,e,r){var s=t.call(this,n,i,o,e,r)||this;return s.qi=9,s.text=new $(n,"LIVES:",15,0,15,-1,c,{Ri:2.2,align:"left"}),s}return rt(n,t),n.prototype.Gi=function(t){0!==this.qi&&(this.qi=s(this.qi+t,0,9))},n.prototype.equals=function(t){return this.qi===t},n.prototype.Hi=function(){return this.qi<=0},n.prototype.Ni=function(t){this.s=t?{x:380-this.ki(),y:20}:{x:200,y:20}},n.prototype.ki=function(){var t=this.tt.canvas.getContext("2d");return t.font="15px ".concat(K),t.measureText(this.text.content).width+7},n.prototype.ut=function(t){t.save(),t.lineWidth=2,t.translate(this.o.x,this.o.y),this.text.ut(t),t.translate(this.ki(),0),t.fillStyle="#000",t.strokeStyle="#fff",t.beginPath(),t.rect(0,0,this.s.x,this.s.y),t.fill(),t.stroke(),t.beginPath(),t.fillStyle=L,t.translate(6,6),t.scale(Math.max(0,this.qi/9),1),t.rect(0,0,this.s.x-12,this.s.y-12),t.fill(),t.restore()},n}(d),ht=function(){function t(){this.ratio=0,this.Vi=0,this.speed=1}return t.prototype.update=function(t){this.Vi=Math.max(0,this.Vi-t*this.speed),this.ratio=Math.sin(this.Vi*Math.PI)},t.prototype.pulse=function(t){void 0===t&&(t=1),this.speed=t,this.Vi=1},t}(),ut=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),at=function(t){function n(n,i,o){var e=t.call(this,n,i,o)||this;return e.Yi=1,e.ratio=0,e.Ki=new ht,e.ot=.002,e.text=new $(n,"foo",40,25,13,-1,c,{Ri:3,align:"right"}),e.add(e.text),e}return ut(n,t),n.prototype.reset=function(t){this.ratio=0,this.value=t,this.text.content="x".concat(this.value),this.Ki.pulse()},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.Ki.update(.0075*this.delta*this.Yi),this.paused||(this.ratio=h(this.ratio+13e-5*this.delta),this.ratio>.99&&this.value>1&&(this.reset(this.value-1),this.ratio=0,this.tt.g.N(),this.Ki.pulse()))},n.prototype.ut=function(n){n.save(),n.translate(this.o.x,this.o.y),n.scale(1+.2*this.Ki.ratio,1+.2*this.Ki.ratio),this.value>1&&(n.beginPath(),n.fillStyle="#000",n.moveTo(0,0),n.arc(0,0,28,.5*-Math.PI,.5*-Math.PI+2*Math.PI*this.ratio,!0),n.closePath(),n.fill()),t.prototype.ut.call(this,n),n.restore()},n}(Z),ct=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),lt=function(t){function n(n,i,o,e,r){void 0===r&&(r=30);var s=t.call(this,n,i,r,o.x,o.y,g(.7,.9),{x:0,y:g(-.5,-.7)},{Ri:3,Si:!0})||this;return s.options.color=e,s.d=200,s}return ct(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.ratio=Math.sin(this.ratio/2*Math.PI)},n}($),pt=[{name:"catnip",icon:"⚘",description:"Cats |always jump| to\nthe |highest value| tile"},{name:"box",icon:"⛶",description:"Cats |always jump| to\nthe |lowest value| tile"},{name:"catnap",icon:"◑",description:"|3x| score for |sleeping| cats,\n|no bonus| for |awake| cats"},{name:"sprayer",icon:"⛬",description:"|Awake| cats |reveal| the |tile\n |value| when selected"},{name:"reflexes",icon:"ꔮ",description:"Any |mistake| equal to\nyour |total life| is |ignored"},{name:"nine",icon:"⅏",description:"Regain a |life| for each |used 9|\n in the |calculation",Ji:!0},{name:"allergies",icon:"⍨",description:"|2x score| for |catless| tiles,\n|no score| for tiles with |cats|"},{name:"hiss",icon:"⑆",description:"All picked |2 value| tiles \nincrease |multiplier| by |one",Ji:!0},{name:"litter",icon:"☋",description:"|Increase| the |maximum\npossible |multiplier| by |one",Ji:!0},{name:"zoomies",icon:"⧰",description:"|Increase| the |delay| of which\n|multiplier| drops by |20%",Ji:!0},{name:"copycat",icon:"♅",description:"Immediately |heal| back\nto full |9 lives",Ji:!0},{name:"hairball",icon:"㉦",description:"|Cats| take |30%| longer\nto |move| on the |board",Ji:!0},{name:"purr",icon:"𐄷",description:"|Imperfect sums| increase\nthe |max multiplier| too"},{name:"mouse",icon:"𐡸",description:"|Closest cat| to a |picked\n|tile| jumps |on top| of it"},{name:"scratch",icon:"⚸",description:"All |unpicked tiles| around\npicked ones |lower| in |value|"},{name:"loaf",icon:"𖭅",description:"Tiles under |sleeping cats\n|increase| in |value|"}],ft=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),yt=function(t){function n(n,i,o){var e=t.call(this,n,i,o)||this;return e.value=0,e.angle=0,e.Qi=Math.random()*Math.PI,e.Vi=0,e.ot=.002,e.text=new $(n,"",40,0,13,-1,c,{Ri:3,align:"center"}),e.d=-500,e.add(e.text),e}return ft(n,t),n.prototype.set=function(t){this.value=t,this.text.content=this.value.toString(),this.angle=this.Qi,this.Qi+=g(-1.5,1.5),this.Vi=0},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.Vi=h(this.Vi+.001*this.delta)},n.prototype.ut=function(n){var i=function(t,n,i,o){return void 0===o&&(o=function(t){return t}),t+o(i)*(n-t)}(this.angle,this.Qi,f(this.Vi));n.save(),n.translate(this.o.x,this.o.y),n.rotate(i),n.scale(1+.05*this.rt,1+.05*this.rt),n.lineWidth=10;var o=F;!function(t,n,i,o,e){S(t,{x:0,y:0},50,50,"transparent",e)}(n,0,0,0,o),n.beginPath(),n.moveTo(35,0),n.lineTo(70,0),n.moveTo(-35,0),n.lineTo(-70,0),n.moveTo(0,35),n.lineTo(0,70),n.moveTo(0,-35),n.lineTo(0,-70),n.lineWidth=25,n.strokeStyle=B,n.stroke(),n.lineWidth=10,n.strokeStyle=o,n.stroke(),n.rotate(-i),t.prototype.ut.call(this,n),n.restore()},n}(Z),dt=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),vt=function(t){function n(n,i,o,e){void 0===o&&(o=!1),void 0===e&&(e=null);var r=t.call(this,n,0,0,40,40)||this;r.Xi=e,r.Zi=0,r.Ki=new ht,r.$i={x:0,y:0},r.moveTo(i,50,45);var s=i%wt,h=Math.floor(i/wt);return o||(r.value=s-1+3*(h-2),(s<2||s>4||h<2||h>4)&&(r.value=1,r.hidden=!0),r.d=0),r}return dt(n,t),n.prototype.moveTo=function(t,n,i){var o=t%wt,e=Math.floor(t/wt);this.o={x:n+46*o,y:i+46*e},this.tn&&(this.tn.o=this.et())},n.prototype.nn=function(){return this.tn?"?":"".concat(this.value)},n.prototype.H=function(){this.hidden=!1,this.scale={x:0,y:0},this.ht.scale({x:1,y:1},.3),this.pulse(1)},n.prototype.sn=function(t){void 0===t&&(t=1),this.value=Math.max(1,this.value+t),this.pulse(1),this.rn=!1,this.Zi=0},n.prototype.pulse=function(t){this.$i={x:0,y:0},this.Ki.pulse(.6*t)},n.prototype.on=function(t){this.$i=function(t,n){void 0===n&&(n=1);var i=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}(t);return 0==i?c:{x:t.x/i*n,y:t.y/i*n}}({x:t.x-this.o.x,y:t.y-this.o.y})},n.prototype.hn=function(t){return l(this.o,t.o)<60},n.prototype.un=function(){return this.rn?-1:this.yi?5:this.en?4:0},n.prototype.update=function(n,i){this.yi=!this.Xi&&this.ct(i,1),this.d=this.un()+this.Zi,t.prototype.update.call(this,n,i),this.Ki.update(.01*this.delta)},n.prototype.cn=function(){return this.rn?F:this.en?this.yi&&!this.tt.fn?z:L:this.yi&&!this.tt.fn?L:"#0D2E45"},n.prototype.an=function(){return this.rn?B:this.en?this.yi&&!this.tt.fn?L:z:"#fff"},n.prototype.ut=function(t){if(!this.hidden){t.save(),t.fillStyle=this.an();var n=this.cn();t.strokeStyle=n,t.beginPath(),t.lineWidth=12,t.translate(this.o.x+this.$i.x*this.Ki.ratio*-5,this.o.y+this.$i.y*this.Ki.ratio*-5),t.translate(.5*this.s.x,.5*this.s.y),t.scale(this.scale.x+.12*this.Ki.ratio,this.scale.y+.12*this.Ki.ratio),t.translate(.5*-this.s.x,.5*-this.s.y),t.rect(0,0,this.s.x,this.s.y),t.stroke(),t.fill(),t.fillStyle=n,t.textAlign="center",t.textBaseline="middle",t.font="20px ".concat(K),t.fillText(this.Xi?this.Xi:this.value.toString(),this.s.x/2,this.s.y/2),t.restore()}},n}(d),xt=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),gt=function(){return gt=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},gt.apply(this,arguments)},mt=function(t,n,i){if(i||2===arguments.length)for(var o,e=0,r=n.length;e<r;e++)!o&&e in n||(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return t.concat(o||Array.prototype.slice.call(n))},wt=7,bt=[["Select |adjacent tiles","that |add up| to..."],["Too many |mistakes","|means| you'll |lose|..."],["Tiles with |cats| on them","will |score| for |more|!"],["Playing |faster| will also","earn you |bigger points|!"]],_t=function(t){function n(i){var o=t.call(this,i)||this;return o.ln=[],o.level=0,o.vn=1,o.dn=[],o.wn=W,o.q=0,o.B=[],o.yn=[],o.pn=4,o.xn=13,o.mn=1,o.bn=Array.from(Array(wt*wt)).map(function(t,n){return new vt(i,n)}),o.Mn=new tt(i,"",25,400,30,.25,2.5,{Ri:3}),o.On=new $(i,"0",40,790,40,-1,c,{Ri:3,align:"right"}),o._n=[new tt(i,"",30,500,50,.25,2.5,{Ri:3,Si:!0}),new tt(i,"",30,500,80,.25,2.5,{Ri:3,Si:!0})],o.target=new yt(i,500,220),o.N=new at(i,765,73),o.gi=new st(i,10,10,200,20),o.button=new D(i,"TRY AGAIN?",400,500,260,70,function(){o.tt.g.k(1),o.tt.gt(new n(i))},o.tt.g,25),o.button.d=500,o.button.visible=!1,o.jn=new it(i),o.Tn=new $(i,"",25,790,122,-1,c,{Ri:2,align:"right"}),o._n.forEach(function(t){return t.d=500}),o.gi.d=o.N.d=o.On.d=400,o.add.apply(o,mt(mt(mt(mt([],o.bn,!1),[o.Mn,o.On],!1),o._n,!1),[o.target,o.N,o.gi,o.button,o.jn,o.Tn],!1)),o.An(),o}return xt(n,t),n.prototype.En=function(t){this._n.forEach(function(n){return n.scale={x:t,y:t}})},n.prototype.gn=function(){var t=this;this._n[0].toggle("Pick |one| of these"),this._n[1].toggle("bonus |effects|..."),this.jn.visible=!0,this.tt.g.B(),this.tt.yt.dt(3,.2),this.tt.jt().x=-999,this.yn=this.Cn().map(function(n,i){var o=function(){t.tt.g.W();var i=n.description.split("\n");t._n[0].content=i[0],t._n[1].content=i[1],t.En(t.Sn?.8:1)},e=t.Sn?{x:200,y:390+90*i}:{x:155+250*i,y:350},r=new D(t.tt,"".concat(n.icon," ").concat(n.name.toUpperCase()," "),e.x,e.y,200,60,function(){if(t.tt.fn&&t.Rn!==n.name)return o(),void setTimeout(function(){return t.Rn=n.name},500);t.tt.yt.dt(2,.15),"litter"===n.name&&t.xn++,"zoomies"===n.name&&(t.N.Yi*=.8),"copycat"===n.name&&t.gi.Gi(9),"hairball"===n.name&&(t.mn*=1.3),t.jn.visible=!1,t.tt.g.U(),t.yn.forEach(function(t){return t.Ti=!0}),t.yn=[],t.B.push(gt({},n)),t.pn=t.level+4+t.B.length,t.kn(),t.Rn=null,t.Tn.content=t.B.map(function(t){return t.icon}).join(" "),setTimeout(function(){return t.next()},250)},t.tt.g,20);return r.ji=o,r.d=999,r}),this.add.apply(this,this.yn)},n.prototype.has=function(t){return this.B.some(function(n){return n.name===t})},n.prototype.In=function(t){return this.B.filter(function(n){return n.name===t}).length},n.prototype.next=function(){this.locked=!1,this.An()},n.prototype.Cn=function(){var t=this;return pt.filter(function(n){return n.Ji||!t.B.includes(n)}).sort(w).slice(0,3)},n.prototype.Ot=function(){return mt([this.button],this.yn,!0)},n.prototype.update=function(n,i){var o;if(t.prototype.update.call(this,n,i),this.tt.canvas.style.cursor=this.bn.some(function(t){return!t.hidden&&t.yi})?"pointer":"default",!i.At&&!i.Fn||this.locked)this.Ln=null;else{var e=this.bn.find(function(t){return t.yi}),r=!i.At&&i.Fn;if(r&&(null==this?void 0:this.Ln)===e)return;if(e&&!e.hidden&&(0===this.ln.length||this.ln.some(function(t){return t.hn(e)}))){if(this.has("sprayer")&&(null===(o=null==e?void 0:e.tn)||void 0===o?void 0:o.ci())&&e.tn.ui(e.et()),r&&e.en)return;if(e.en=!e.en,this.toggle(e),!e.tn&&this.has("mouse")){var s=e.et(),h=mt([],this.dn,!0).sort(function(t,n){return l(t.o,s)-l(n.o,s)})[0];if(h){var u=this.bn.find(function(t){return t.tn===h});u&&(u.tn=null),e.tn=h,h.ui(s)}}var a=this.ln.reduce(function(t,n){return t+n.value},0),c=this.ln.reduce(function(t,n){return t+(n.tn?0:n.value)},0),p=this.ln.some(function(t){return t.tn})?"".concat(c,"?"):"".concat(a);this.Pn(this.ln.length>1?"|".concat(this.ln.map(function(t){return t.nn()}).join("|+|"),"|=|").concat(p):""),a>=this.target.value?(i.Fn=!1,this.Bn(a)):this.add(new lt(this.tt,p,e.et(),"#fff",35))}this.Ln=e}},n.prototype.Pn=function(t){var n=this.tt.canvas.getContext("2d"),i=t.split("+");if(i.length>3)for(var o=0;o<i.length-1;o++){var e=mt(mt([],i.slice(0,o),!0),[i[i.length-1]],!1);if(n.font="25px ".concat(K),n.measureText(e.join("+")).width>this.Un){var r=Math.floor(e.length/2);return void(this.Mn.content=mt(mt(mt([],e.slice(0,r),!0),["..."],!1),e.slice(r),!0).join("+"))}}this.Mn.content=t},n.prototype.showHelp=function(){var t=this;this._n.forEach(function(n,i){var o,e;n.toggle(null!==(e=null===(o=bt[t.level])||void 0===o?void 0:o[i])&&void 0!==e?e:"")})},n.prototype.kn=function(){this._n.forEach(function(t){return t.toggle("")})},n.prototype.Ct=function(t){this.bn.forEach(function(n,i){return n.moveTo(i,t?45:50,t?400:45)}),this.target.o=t?{x:200,y:320}:{x:550,y:270},this.Mn.o={x:t?200:400,y:t?150:380},this.wn=t?I:W,this.On.o=t?{x:390,y:40}:{x:790,y:40},this.N.o=t?{x:365,y:75}:{x:765,y:73},this._n.forEach(function(n,i){return n.o=t?{x:200,y:200+35*i}:{x:550,y:160+35*i}}),this.gi.o=t?{x:10,y:765}:{x:10,y:10},this.gi.Ni(t),this.Un=t?250:700,this.button.o=p(this.target.o,-130,-35),this.Sn=t,this.Tn.o=t?{x:390,y:120}:{x:790,y:122}},n.prototype.Wn=function(t){return p(t,g(-10,10),g(-10,10))},n.prototype.Bn=function(t){var n=this;this.N.paused=!0,this.kn(),this.locked=!0,this.Pn(this.ln.length>1?"|".concat(this.ln.map(function(t){return t.value}).join("|+|"),"|=|").concat(t):"");var i=t-this.target.value,o=0===i,e=p(this.ln[this.ln.length-1].et(),0,-2),r=m(["PURRFECT!","PAWFECT!","PAWLESS!","MEOWRVELOUS!","FURFECT!","CATEMPLARY!","FELICCIMO!","RADICLAW!"]),s=m(["MEOWSTAKE!","PURROR!","MEOWSCALCULATION!","MEOWSSTEP!","FURROR!","CATASTROPHE!","MEOWSERABLE!"]);this.add(new lt(this.tt,o?r:s,this.Wn(e),o?z:L,20)),o?(this.tt.g.done(),this.vn++):(this.has("purr")&&this.vn++,this.tt.yt.dt(5,.1),this.tt.g.G(),setTimeout(function(){n.tt.g.G(),n.add(new lt(n.tt,"".concat(n.target.value-t),n.Wn(e),L,60)),n.tt.yt.dt(5,.15)},300)),this.ln.reverse(),this.dn.forEach(function(t){return t.ei=!1}),this.has("reflexes")&&this.gi.equals(i)||this.gi.Gi(-i);var h=1;this.ln.forEach(function(t,i){setTimeout(function(){var e;if(n.has("nine")&&9===t.value){var r=n.In("nine");setTimeout(function(){n.add(new lt(n.tt,"+".concat(r),n.Wn(t.et()),U,35)),n.gi.Gi(r)},200)}n.has("hiss")&&2===t.value&&(h+=n.In("hiss"),setTimeout(function(){n.add(new lt(n.tt,"x".concat(h),n.Wn(t.et()),U,35))},100)),i%2==0&&n.tt.g.k(Math.min(1.5,1+.05*i)),n.tt.g.q(i),t.pulse(.6),t.rn=!0,t.Zi=-i,n.tt.yt.dt(2,.05),i>0&&n.add(new et(n.tt,n.ln[i-1].et(),t.et(),1,5,z,g(0,10))),i<n.ln.length-1&&t.on(n.ln[i+1].o),t.en=!1;var s=!(null===(e=t.tn)||void 0===e?void 0:e.ci()),u=n.has("catnap")?s?15:1:5,c=n.has("allergies")?t.tn?0:2:1,l=t.value*(i+1)*(t.tn?u:1)*n.N.value*(o?5:1)*c*h;n.q+=l,n.On.content=a(n.q),c>0?n.add(new lt(n.tt,a(l),t.et(),t.tn?z:"#fff")):n.add(new lt(n.tt,"ALLERGIES",t.et(),L,20)),t.tn&&n.Dn(t.tn,t)},120*i+300+(o?0:500))}),setTimeout(function(){if(n.tt.g.k(1),n.gi.Hi())setTimeout(function(){n.tt.yt.dt(5,.2),n._n[0].toggle("|GAME OVER|!"),n._n[1].toggle("Final score: |".concat(a(n.q))),n.dn.forEach(function(t){return t.hi(!0)}),n.tt.g.V(),n.tt.g.k(.7),n.button.visible=!0},500);else{var t=n.bn.filter(function(t){return t.hidden&&n.ln.some(function(n){return n.hn(t)})});t.length>0&&n.tt.g.H(),t.forEach(function(t){return t.H()}),n.ln.forEach(function(t){return t.sn()}),n.has("scratch")&&n.bn.filter(function(t){return!t.hidden&&!n.ln.includes(t)&&n.ln.some(function(n){return n.hn(t)})}).forEach(function(t){return t.sn(-1)}),n.has("loaf")&&n.bn.filter(function(t){return!t.hidden&&t.tn&&!t.tn.ci()}).forEach(function(t){t.sn(),n.add(new lt(n.tt,"LOAF",t.et(),U,20))}),n.ln=[],n.Mn.content="",n.zn(),n.level===n.pn?n.gn():n.next(),n.dn.filter(function(t){return!t.ei}).forEach(function(t){return t.hi(!0)})}},800+120*this.ln.length)},n.prototype.An=function(){this.showHelp(),this.level++,this.N.paused=!1,this.N.reset(Math.min(this.xn,this.vn)),this.target.set(this.qn(this.level+1))},n.prototype.qn=function(t){for(var n=[m(this.bn.filter(function(t){return!t.hidden}))],i=0;i<Math.min(t,Math.floor(this.bn.filter(function(t){return!t.hidden}).length/2))-1;i++)n.push(m(this.bn.filter(function(t){return!t.hidden&&!n.includes(t)&&n.some(function(n){return n.hn(t)})})));return n.reduce(function(t,n){return t+n.value},0)},n.prototype.toggle=function(t){this.tt.g.D(),t.pulse(1),this.ln.includes(t)?this.ln=this.ln.filter(function(n){return n!==t}):this.ln.push(t)},n.prototype.zn=function(){var t=this;if(this.bn.some(function(t){return!t.hidden&&!t.tn})){var n=new q(this.tt,this.wn[0].x,this.wn[0].y);this.dn.push(n),this.add(n),n.ui({x:this.wn[1].x,y:this.wn[1].y}),setTimeout(function(){return n.ui({x:t.wn[2].x,y:t.wn[2].y})},1e3*this.mn),setTimeout(function(){return n.ui({x:t.wn[3].x,y:t.wn[3].y})},1700*this.mn),setTimeout(function(){return t.Dn(n)},2600*this.mn)}},n.prototype.Gn=function(){var t,n=this.bn.filter(function(t){return!t.hidden&&!t.tn});if(0===n.length)return null;var i="catnip"===(null===(t=this.B.find(function(t){return"catnip"===t.name||"box"===t.name}))||void 0===t?void 0:t.name);return this.has("catnip")||this.has("box")?n.sort(function(t,n){return n.value-t.value})[i?0:n.length-1]:m(n)},n.prototype.Dn=function(t,n){void 0===n&&(n=null);var i=this.Gn();i&&(i.tn=t,n&&(n.tn=null),t.ui(p(i.et(),0,5)))},n.prototype.ut=function(n){H(n),t.prototype.ut.call(this,n)},n}(Z),Ot=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Tt=function(t,n,i){if(i||2===arguments.length)for(var o,e=0,r=n.length;e<r;e++)!o&&e in n||(o||(o=Array.prototype.slice.call(n,0,e)),o[e]=n[e]);return t.concat(o||Array.prototype.slice.call(n))},Mt=function(t){function n(n){var i=t.call(this,n)||this;return i.dn=[],i.bn="CATCULUS".split("").map(function(t,i){var o=new vt(n,i,!0,t);return o.o={x:46*i+220,y:120},o}),i.button=new D(n,"⏵ PLAY ",400,320,260,70,function(){n.gt(new _t(n))},i.tt.g,35),i.zn(i.bn[0],-46),i.zn(i.bn[i.bn.length-1],46),i.zn(i.bn[2],0),i.dn[0].hi(!0),i.dn[1].hi(!0),i.add.apply(i,Tt(Tt([new tt(n,"|Antti Haavikko| presents",18,400,105,.25,1.5,{Ri:2}),new tt(n,"Made for |js13k| 2025",12,400,182,.2,1.5,{Ri:1.5})],i.bn,!1),i.dn,!1)),setTimeout(function(){return i.Hn()},3e3),i}return Ot(n,t),n.prototype.end=function(){this.ended=!0},n.prototype.Hn=function(){var t=this;this.ended||(this.dn[2].ui(m(this.bn).et()),setTimeout(function(){return t.Hn()},1e3+Math.floor(7001*Math.random())))},n.prototype.Ot=function(){return[this.button]},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.button.update(n,i)},n.prototype.zn=function(t,n){var i=t.et();this.dn.push(new q(this.tt,i.x+n,i.y))},n.prototype.Ct=function(t){this.button.o=t?{x:70,y:420}:{x:260,y:280},this.Nn=t?-140:-200,this.Vn=t?220:-50,this.Yn=t?.85:1.5},n.prototype.ut=function(n){n.save(),H(n),n.translate(this.Nn,this.Vn),n.scale(this.Yn,this.Yn),t.prototype.ut.call(this,n),n.restore(),this.button.ut(n)},n}(Z),St=1600,Pt=document.createElement("canvas");Pt.style.userSelect="none",Pt.style.touchAction="none";var jt=Pt.getContext("2d"),kt={x:0,y:0},Ct=new r;Ct.C(),Ct.I();var At=new M(Ct,Pt);At.Mt=new Mt(At),Pt.id="game",Pt.width=St,Pt.height=800,document.body.appendChild(Pt);var Et=1,Rt=0,Wt=0,It=null,qt=function(){var t=window.innerHeight>window.innerWidth;Pt.width=t?800:St,Pt.height=t?St:800,Et=Math.min(window.innerWidth/Pt.width,window.innerHeight/Pt.height),Pt.style.transformOrigin="top left",Rt=.5*(window.innerWidth-Pt.width*Et),Wt=.5*(window.innerHeight-Pt.height*Et),Pt.style.transform="translate(".concat(Rt,"px,").concat(Wt,"px) scale(").concat(Et,")"),t!==It&&At.Mt.Ct(t),It=t};qt(),window.onresize=qt;var Bt=!1;document.onfullscreenchange=function(){return Bt=!Bt};var Ft=function(t,n){kt.x=(Bt?(t-t)/Et:t)/2,kt.y=(Bt?(n-n)/Et:n)/2};document.onmousemove=function(t){return Ft(t.offsetX,t.offsetY)},Pt.ontouchmove=function(t){return Ft(t.touches[0].clientX/Et-Rt,t.touches[0].clientY/Et-Wt)},document.onmousedown=function(){Ct.I(),kt.At=!0,kt.Fn=!0,At.click(kt)},Pt.ontouchstart=function(t){At.fn=!0,Ft(t.touches[0].clientX/Et-Rt,t.touches[0].clientY/Et-Wt),document.onmousedown(null)},document.onmouseup=Pt.ontouchcancel=Pt.ontouchend=function(){kt.At=!1,kt.Fn=!1};var Lt=function(t){requestAnimationFrame(Lt),jt.resetTransform(),At.update(t,kt),jt.scale(2,2),At.ut(jt)};requestAnimationFrame(Lt)})()</script></body></html>