<!doctype html><title>Black Cat Maze - js13kGames 2025</title><meta name=viewport content="width=device-width,user-scalable=0,user-scalable=no,minimum-scale=1,maximum-scale=1"><style>#c,body,html{margin:0;padding:0;border:0;position:absolute}body,html{width:100%;height:100%;background-color:#000;overscroll-behavior:none}@media (min-aspect-ratio:1){#c{height:100%}}@media (max-aspect-ratio:1){#c{width:100%}}#c{image-rendering:pixelated}.osc{position:fixed;color:#fff;display:none}.osc div{width:calc(100% / 3);height:calc(100% / 3);position:absolute;background-color:#00f}#osc-up{top:0;left:calc(100% / 3)}#osc-left{top:calc(100% / 3);left:0}#osc-right{top:calc(100% / 3);right:0}#osc-down{bottom:0;left:calc(100% / 3)}#osc-act{top:calc(100% / 3);left:calc(100% / 3)}</style><canvas id=c width=255 height=255></canvas><div class="osc left"><div id=osc-up>Up</div><div id=osc-left>Left</div><div id=osc-right>Right</div><div id=osc-down>Down</div></div><div class="osc right"><div id=osc-act>Action</div></div><script>let zzfxV=.3,zzfxX=new AudioContext,zzfx=(e=1,t=.05,f=220,z=0,a=0,n=.1,o=0,r=1,x=0,s=0,c=0,u=0,i=0,d=0,X=0,b=0,l=0,m=1,h=0,B=0,C=0)=>{let V=Math,g=2*V.PI,w=44100,A=x*=500*g/w/w,D=f*=(1-t+2*t*V.random(t=[]))*g/w,I=0,M=0,P=0,S=1,j=0,k=0,p=0,q=C<0?-1:1,v=g*q*C*2/w,y=V.cos(v),E=V.sin,F=E(v)/4,G=1+F,H=-2*y/G,J=(1-F)/G,K=(1+q*y)/2/G,L=-(q+y)/G,N=K,O=0,Q=0,R=0,T=0;for(s*=500*g/w**3,X*=g/w,c*=g/w,u*=w,i=w*i|0,e*=zzfxV,q=(z=w*z+9)+(h*=w)+(a*=w)+(n*=w)+(l*=w)|0;P<q;t[P++]=p*e)++k%(100*b|0)||(p=o?1<o?2<o?3<o?E(I**3):V.max(V.min(V.tan(I),1),-1):1-(2*I/g%2+2)%2:1-4*V.abs(V.round(I/g)-I/g):E(I),p=(i?1-B+B*E(g*P/i):1)*(p<0?-1:1)*V.abs(p)**r*(P<z?P/z:P<z+h?1-(P-z)/h*(1-m):P<z+h+a?m:P<q-l?(q-P-l)/n*m:0),p=l?p/2+(l>P?0:(P<q-l?1:(q-P)/l)*t[P-l|0]/2/e):p,C&&(p=T=N*O+L*(O=Q)+K*(Q=p)-J*R-H*(R=T))),v=(f+=x+=s)*V.cos(X*M++),I+=v+v*d*E(P**5),S&&++S>u&&(f+=c,D+=c,S=0),!i||++j%i||(f=D,x=A,S=S||1);(e=zzfxX.createBuffer(1,q,w)).getChannelData(0).set(t),(f=zzfxX.createBufferSource()).buffer=e,f.connect(zzfxX.destination),f.start()};!function(f){"use strict";function w(f,w){var t,i=Object.create(f);for(t in w)i[t]=w[t];return w.toString!==Object.prototype.toString&&(i.toString=w.toString),i}function t(){this.backgroundStyle="#000"}function i(){this.h={}}function a(){}function e(){this.fgAlpha=0,this.bgAlpha=0,t.call(this)}function s(){}function h(){t.call(this),H.l().then((function(f){return n.cs=new r}))}t.prototype={update:function(f){n.c.fillStyle=this.backgroundStyle,n.c.fillRect(0,0,255,255)}},i.prototype={remove:function(f){return!!this.h.hasOwnProperty(f)&&(delete this.h[f],!0)},keys:function(){var f,w=[];for(f in this.h)this.h.hasOwnProperty(f)&&w.push(+f);return new g(w)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var f=this.it.next();return this.ref[f]}}}},a.init=function(w,t){a.keys=new m,a.c=t,w.onkeydown=a.okd,w.onkeyup=a.oku,w.addEventListener("touchstart",a.ots,{passive:!1}),w.addEventListener("touchmove",a.otm,{passive:!1}),w.addEventListener("touchend",a.ote,{passive:!1}),w.addEventListener("touchcancel",a.ote,{passive:!1}),null==f.navigator.getGamepads||0<(t=f.navigator.getGamepads()).length&&(a.g=t[0]),w.addEventListener("gamepadconnected",(function(f){null==a.g&&(a.g=f.gamepad)})),a.osb=[{n:"Left",p:0,e:window.document.querySelector("#osc-left")},{n:"Right",p:0,e:window.document.querySelector("#osc-right")},{n:"UP",p:0,e:window.document.querySelector("#osc-up")},{n:"DOWN",p:0,e:window.document.querySelector("#osc-down")},{n:"ACTION",p:0,e:window.document.querySelector("#osc-act")}]},a.okd=function(f){a.keys.h[f.code]=!0},a.oku=function(f){a.keys.h[f.code]=!1},a.ots=function(f){f.preventDefault(),f.stopImmediatePropagation();for(var w=0,t=f.changedTouches;w<t.length;){var i=t[w];++w;var e=a.tl,s=i.identifier;i=new _(i.clientX,i.clientY);e.h[s]=i}if(!a.ut)for(a.ut=!0,w=0,t=window.document.querySelectorAll(".osc");w<t.length;)f=t[w],++w,f.style.display="block"},a.otm=function(f){f.preventDefault(),f.stopImmediatePropagation();for(var w=0,t=f.changedTouches;w<t.length;){var i=t[w];++w,a.tl.h[i.identifier].s(i.clientX,i.clientY)}},a.ote=function(f){f.preventDefault(),f.stopImmediatePropagation();for(var w=0,t=f.changedTouches;w<t.length;){var i=t[w];++w,a.tl.remove(i.identifier)}},a.upd=function(){a.l=a.ck(["ArrowLeft","KeyA"])||a.cb([14],[0,2],(function(f){return f<-.3}))||a.cosb(0),a.r=a.ck(["ArrowRight","KeyD"])||a.cb([15],[0,2],(function(f){return.3<f}))||a.cosb(1);var f=a.u;a.u=a.ck(["ArrowUp","KeyW"])||a.cb([12],[1,3],(function(f){return f<-.3}))||a.cosb(2),a.up=!f&&a.u,f=a.d,a.d=a.ck(["ArrowDown","KeyS"])||a.cb([13],[1,3],(function(f){return.3<f}))||a.cosb(3),a.dp=!f&&a.d,f=a.a,a.a=a.ck(["Space","Enter","KeyE"])||a.cb([0,1,2,3],[])||a.cosb(4),a.ap=!f&&a.a},a.ck=function(f){for(var w=0;w<f.length;){var t=f[w];if(++w,a.keys.h[t])return!0}return!1},a.cb=function(f,w,t){if(null!=a.g){for(var i=0;i<f.length;){var e=f[i];if(++i,a.g.buttons[e].pressed)return!0}for(i=0;i<w.length;)if(e=w[i],++i,t(a.g.axes[e]))return!0}return!1},a.cosb=function(f){f=a.osb[f].e.getBoundingClientRect();for(var w=new u(f.left,f.top,f.width,f.height),t=a.tl.iterator();t.hasNext();){var i=t.next();if(w.contains(i.x,i.y))return!0}return!1},e.__super__=t,e.prototype=w(t.prototype,{update:function(f){n.c.globalAlpha=.7*this.bgAlpha,t.prototype.update.call(this,f),n.c.globalAlpha=this.fgAlpha,this.bgAlpha<1?this.bgAlpha+=f:this.fgAlpha<1?this.fgAlpha+=f:a.a&&(n.cs=new r,l.e()),n.c.fillStyle="#FFF",n.c.font="20px monospace",W.centeredText(n.c,"You escaped",0,255,63.75),W.centeredText(n.c,"the maze!",0,255,83.75),n.c.font="10px monospace",W.centeredText(n.c,"Press any key to re-start",0,255,127.5),n.c.globalAlpha=1}}),s.substr=function(f,w,t){if(null==t)t=f.length;else if(t<0){if(0!=w)return"";t=f.length+t}return f.substr(w,t)},s.now=function(){return Date.now()},h.__super__=t,h.prototype=w(t.prototype,{update:function(f){t.prototype.update.call(this,f),n.c.fillStyle="#FFF",n.c.font="20px sans-serif",W.centeredText(n.c,"Loading ("+H.lq+" / "+H.rq+")",0,255,127.5)}});var n=function(){};n.main=function(){n.ca=window.document.getElementById("c"),n.c=n.ca.getContext("2d",null),n.oscL=window.document.querySelector(".osc.left"),n.oscR=window.document.querySelector(".osc.right"),window.onresize=n.onResize,n.onResize(),a.init(window,n.ca),n.cs=new h,window.requestAnimationFrame(n.update)},n.update=function(f){var w=f-n.l;a.upd();var t=n.cs;null!=t&&t.update(w/1e3),n.l=f,window.requestAnimationFrame(n.update)},n.onResize=function(){var f,w=window.innerWidth,t=window.innerHeight,i=(w-n.ca.clientWidth)/2;n.ca.style.top="0px",n.ca.style.left=i+"px",w<t?(f=t-n.ca.clientHeight,f=Math.max(0,f/2-w/4),n.oscL.style.width=w/2+"px",n.oscL.style.height=w/2+"px",n.oscL.style.bottom=f+"px",n.oscL.style.top=null,n.oscL.style.left="0px",n.oscR.style.width=w/2+"px",n.oscR.style.height=w/2+"px",n.oscR.style.bottom=f+"px",n.oscR.style.top=null):(i=Math.min(t,i),n.oscL.style.width=i+"px",n.oscL.style.height=i+"px",n.oscL.style.top=t/2-i/2+"px",n.oscL.style.left="0px",n.oscR.style.width=i+"px",n.oscR.style.height=i+"px",n.oscR.style.top=t/2-i/2+"px"),n.oscR.style.right="0px"};var r=function(){this.idx=0,this.opts=[],t.call(this);var f=x.getLocalStorage();null!=(null!=f?f.getItem(n.SAVE):null)&&this.opts.push({name:"Continue",act:D(this,this.onContinue)}),this.opts.push({name:"Start",act:D(this,this.onStart)}),n.c.font="20px sans-serif";for(var w=153-30*(this.opts.length-1)/2,i=0,a=this.opts;i<a.length;){var e=a[i];++i;var s=n.c.measureText(e.name);e.x=127.5-s.width/2,e.y=w,e.w=s.width,w+=30}};function o(){this.ob=["g",480,384,160,16,672,352,"g",960,1360,16,48,944,1328,"g",1120,1104,48,16,1088,1104,"g",2672,272,144,16,2736,208,"h",56,40,56,72,"h",504,1272,504,1304,"h",1464,920,1464,888,"c",336,64,16,32,"c",824,16,16,32,"c",888,64,16,32,"a",248,936,160,800,176,208,"c",848,1312,16,32,"c",840,1264,16,32,"c",848,1216,16,32,"c",720,1312,16,32,"c",768,1264,16,32,"c",672,1264,16,32,"c",800,1216,16,32,"c",656,1216,16,32,"d",912,200,48,16,"c",704,576,32,16,"c",912,496,32,16,"c",848,608,16,32,"c",848,736,32,16,"a",560,1032,432,944,256,112,"d",1040,1152,16,48,"d",992,1104,48,16,"d",800,928,48,16,"d",928,944,48,16,"g",1360,896,16,48,1376,960,"a",1504,1248,1360,1040,352,464,"a",1984,1248,1888,1040,320,480,"a",2512,1248,2416,1024,272,512,"m",1408,624,32,16,"s","m",1856,480,16,32,"w","m",1824,240,32,16,"s","m",2128,256,16,32,"w","m",2096,496,32,16,"n","m",2352,432,32,16,"s","m",2352,512,32,16,"n","m",2400,464,16,32,"w","m",2352,128,32,16,"s","m",2352,688,32,16,"n","m",2816,656,16,32,"w","m",2704,464,16,32,"w","a",1616,224,1400,152,336,240,"a",3024,456,2928,368,192,176,"a",2112,640,2032,592,160,128],this.lights=[56,156,112,"#ffff00ff",240,116,96,"#ffff00ff",400,68,104,"#ffff00ff",116,56,120,"#ffff00ff",504,68,56,"#ffff00ff",560,116,88,"#ffff00ff",528,444,96,"#ffff00ff",892,152,72,"#ffff00ff",832,92,72,"#ffff00ff",896,20,80,"#ffff00ff",704,140,96,"#ffff00ff",592,444,96,"#ffff00ff",560,988,128,"#ffff00ff",560,1012,128,"#ffff00ff",684,360,80,"#ff0000ff",952,1332,80,"#ff0000ff",1092,1112,80,"#ff0000ff",908,1280,96,"#aaff7fff",504,1404,136,"#aaff7fff",1008,1404,80,"#aaff7fff",956,256,96,"#ffff00ff",996,1176,128,"#aaff7fff",952,884,128,"#aaff7fff",804,992,128,"#aaff7fff",1380,968,80,"#ff0000ff",1300,1032,128,"#aaff7fff",1348,1144,128,"#aaff7fff",1308,1256,128,"#aaff7fff",1348,1384,128,"#aaff7fff",1400,1508,128,"#aaff7fff",1512,1508,128,"#aaff7fff",1496,1036,128,"#aaff7fff",1592,1228,128,"#aaff7fff",1656,1468,128,"#aaff7fff",1800,1228,128,"#aaff7fff",1688,1036,128,"#aaff7fff",1912,1036,128,"#aaff7fff",2428,1096,128,"#aaff7fff",2196,1096,128,"#aaff7fff",2156,1144,128,"#aaff7fff",1992,1228,128,"#aaff7fff",1800,1508,128,"#aaff7fff",1992,1508,128,"#aaff7fff",2156,1384,128,"#aaff7fff",2428,1256,128,"#aaff7fff",2520,1228,128,"#aaff7fff",2468,1384,128,"#aaff7fff",2584,1428,128,"#aaff7fff",2584,1484,128,"#aaff7fff",1328,900,136,"#aaff7fff",1164,1072,80,"#aaff7fff",2312,1036,128,"#aaff7fff",2744,212,80,"#ff0000ff",1464,660,136,"#55aaffff",2364,480,192,"#55aaffff",2812,256,136,"#55aaffff",3292,256,272,"#ffffffff"],this.py=72,this.px=56,this.h=100,this.w=200,this.walls="wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffffwffffffffffffffffffffffffwffffffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffffwffffffffffffffffffffffffwffffffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffffwffwwwwwwwwwwwwwwwwwwwfffwfffwwwwwwwwwwwwwfffwwffwwfffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffffwffffffffffffffffffffwfffffffwfffffffffffwffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwfffffffffffffffffffffffffffffffffffffffffffffffffwwfffffwffffffffffffffffffffwfffffffwfffffffffffwffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffwwwfffwwwwwwwwwwwwwwwwwwffffwwwwwwwwwwwwwwwwffffwwwwwwwwwwfffwffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffffffffffffffffffwffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffffffffffffffffffwffwffffffffffffffffffffwffwfffffwffwwwwwwwwwwwwwwwwwwwwwwwwwfffffffffffffffffffffffffwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffwwwwwwwwwwwwwwwwwwwwwwwwwwwffwffffffffffffffffffffwffwfffffwffffffffffffffffffffffffffwfffffffffffffffffffffffffwwwwwwwwwwwwwwfffwwwwwwwwwwwwwwwwwffffwwwwwwwwwwwwwwwwfffwfffwffffffffffffffffffffffffffwfffffffffffffwwfffffffffffffwffffffffffffffffffffwffwfffffwffffffffffffffffffffffffffwffffffffffffffffffffffffwwwfffffffffffwfffwfffffffffffwffffffffffffwffffffffffffffwfffwffffffffffffffffffffffffffwfffffffffffffwwfffffffffffffwffffffffffffffffffffwffwfffffwffwwwwwwwwwwwwwwwwwwwwwfffwfffffffffffffffffffffwwwwfwfffffffffffwfffwfffffffffffwffffffffffffwffffffffffffffwfffwffffffffffffffffffffffffffwffffffwwffffffffffffwwwwwwffwffffffffffffffffffffwffwfffffwffwfffffffffffffffffffwfffwffffffffffffffffffwwwwffffwfffwwwwwfffwfffwfffwwwwwfffwffffffffffffwffffffffffffffwfffwffffffffffffffffffffffffffwwwffffwwffffffffffffwffffwffwffffffffffffffffffffwffwfffffwffwfffffffffffffffffffwfffwfffffffffffffffwwwwfffffffwfffwfffffffwfffwfffffffwfffwfffwwffwwfffwwwwwwwwwwwwwwwwfffwffffffffffffffffffffffffffwwwffffffffffffffffwwwffffwffwffffffffffffffffffffwffwfffffwffwffffffffffffffffwwwwwwwwwwwwwwwwwwwwwwwwffffffffffwfffwfffffffwfffwfffffffwfffwfffwwffwwfffwffffffffffffffffffwffffffffffffffffffffffffffwffffffffffffffffffwwwffffwffwwwwwwwwwwwwwwwwwwwwwwffwfffffwffwffffffffffffffffwfffffffffffffffffffffffffffffffffwfffwfffffffwfffwfffffffwfffwffffffffffffwffffffffffffffffffwffffffffffffffffffffffffffwffffffffffwwffffffffwffffwffffffffffffffffffffffffffwfffffwffwffffffffffffffffwfffffffffffffffffffffffffffffffffwfffwwwwwwwwwfffwwwwwwwwwfffwffffffffffffwfffwwwwwwwwwwwwfffwffffffffffffffffffffffffffwffffffffffwwffffffffwffffwffffffffffffffffffffffffffwfffffwffwffffffffffffffffwfffffffffwwwwwwwwwwwwwwffffffffffwfffffffffffffffffffffffffffwffffffffffffwfffffffwffffffwfffwffffffffffffffffffffffffffwffffwwffffffffffffffwffffwffwwwwwwwwwwwwwwwffwwwwwwwwfffffwffwffffffffffffffffwffffwffffwffffffffffffwwwwfffffffwfffffffffffffffffffffffffffwfffwwffwwfffwfffffffwffffffwfffwffffffffffffffffffffffffffwffffwwffffffffffffffwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffffwffffwfffffffffffffffwwwwffffwfffffffffffffffffffffffffffwfffwwffwwfffwwwwwfffwffffffwfffwffffffffffffffffffffffffffwffffffffffffffffwwffwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwwwwwffwffffffffffffffffffwwwwfwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffffffffffffwfffffffwfffwffffffwffffffffffffffffffffffffffwffffffffffffffffwwffwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffffffffffffffffffwwffffffffffffffffffffffffffffwffffffffffffwfffffffwfffwffffffwffffffffffffffffffffffffffwfffffffffwwfffffffffwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffwwwwwwwwwwwwwwfffwffffffffffffffffffffffffffffwffffffffffffwfffffffwfffwffffffwffffffffffffffffffffffffffwfffffffffwwfffffffffwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffwffffffffffffwfffwffffffffffffffffffffffffffffwwffffffffffwwwwwwwwwwfffwwwwwwwwffffffffffffffffffffffffffwffwwwwwwwwwwwwwwwwwwwffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffwffffffffffffwfffwfffffffffffffffffffffffffffffwffffffffffwffffffffffffwffffffwffffffffffffffffffffffffffwffwffffffffffffffffffffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffwfffffwwfffffwfffwfffffffffffffffffffffffffffffwffffffffffwffffffffffffwffffffwffffffffffffffffffffffffffwffwffffffffffffffffffffffwffwfffffffffffffwffwffffffffffffwffwffffffffffffffffwffwfffwffwfffffwffffffffffffwfffwfffffffffffffffffffffffffffffwffffffffffwffffffffffffwffwwffwffffffffffffffffffffffffffwffwffffffffffffffffffffffwffwfffffffffffffwffwfffffffffffwwffwwfffffffffffffffwffwfffwffwfffffwwwffffffffwwwfffwfffffffffffffffffffffffffffffwffwwffwwffwwwwwwwwwwwwwwffwwffwffffffffffffffffffffffffffwffwffffffffffffffffffffffwffwfffffffffffffwffwwwwwwwwwwwwwffffwwwwwwwwwwwwwwwwwffwwffwffwfffffwwwwwffffwwwwwfffwfffffffffffffffffffffffffffffwffwwffwwffwffffffffffffwffwfffwffffffffffffffffffffffffffwffwfwwwwwwwwwwwwwwwwwwwwwwffwwffffffffffffwfffffffffffffffffffffffffffffffffffffffwffwffwfffffwwwffffffffwwwfffwfffffffffffffffffffffffffffffwffwwffwwffwffffffffffffwffwfffwffffffffffffffffffffffffffwffwfwffffffffffffffffffffffffwffffffffffffwfffffffffffffffffffffffffffffffffffffffwffwffwfffffwffffffffffffwfffwfffffffffffffffffffffffffffffwffwwffwwffwffffffffffffwffwffwwffffffffffffffffffffffffffwffwfwffffffffffffffffffffffffwffffffffffffwffwwwwwwwwwwwwwffffwwwwwwwwwwwwwwwwwwwwwffwffwfffffwfffffwwfffffwfffwfffffffffffffffffffffffffffffwffwwffwwffwffwwwwwwwfffwffwfffwffffffffffffffffffffffffffwffwfwffwwwwwwwwwwwwwwwwwwwwwwwffffffffffffwffwfffffffffffwwffwwffffffffffffffffffffffwffwfffffwffffffffffffwfffffffffffffffffffffffffffffffffwffwwffwwffwffwfffffwfffwffwfffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffffffwffwffffffffffffwffwfffffffffffffffffffffffwffwfffffwffffffffffffwfffffffffffffffffffffffffffffffffwffwwffwwffwffwfffffwwwwwfffwffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffffffwffwffffffffffffwffwfffffffffffffffffffffffwffwfffffwwwwwwffwwwwwwfffffffffffffffffffffffffffffffffwffwwffwwffwffwffwffwfffffffwffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffffffwffwffffffffffffwffwfffffffffffffffffffffffwffwffffffffffwffwfffffffffffffffffffffffffffffffffffffwfffwwffwwfffwfwffwffwfffffffwffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffwwwwwffwwwwwffffffffwffwfffffffffffffffffffffffwffwffffffffffwffwfffffffffffffffffffffffffffffffffffffwfffwffffwfffwfwffwffwffwwwwwwffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffwffffffffffwffffffffwffwfffffffffffffffffffffffwffwffffffffffwffwffffffffffffffffffffffwwwwwwwwwwwwwwwwfffwffffwfffwwwffwffwfffffffwffwffffffffffffffffffffffffffwffwfwffwffffffffffffffffffffffffffffffwffffffffffwffffffffwffwfffffffffffffffffffffffwffwffffffffffwffwffffffffffffffffffffffwffffffffffffffffffwffffwffffffffwffwfffffffwffwffffffffffffffffffffffffffwffwwwffwffffffffffffffffffffffffffffffwfffffffwwwwffffffffwffwfffffffffffffffffffffffwffwffffffffffwffwffffffffffffffffffffffwffffffffffffffffffwffffwffffffffwffwwwwwfffwffwffffffffffffffffffffffffffwfffffffwffffffffffffffffffffffffffffffwfffffffwwwwffffffffwffwwwwwwwwwwwwwwwwwwwwwwwwwffwwwwwwwwwwwwffwffffffffffffffffffffffwffffffffffffffffffwffffwffffffffwffwfffffffwffwffffffffffffffffffffffffffwfffffffwffffffffffffffffffffffffffffffwwwwfffffffwffffffffwfffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffffffffwfffwwwwwwwwwwwwwwwwffffwfffwwwwwwffwfffffffwffwffffffffffffffffffffffffffwfffffffwffffffffffffffffffffffffffffffwwwwfffffffwffffffffwfffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffffffffwfffwffffffwffffffffffffwfffwffffwfffffwwwwwwffwffffffffffffffffffffffffffwwwfffwwwffffffffffffffffffffffffffffffwffffffffffwffffffffwffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffffffffffffffffffffffwfffwffffffwffffffffffffwfffwffffwfffffwfffffffwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffwffffffffffwffffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffwffffffffffffwfffwffffwfffffwfffffffwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffwwwwwffwwwwwffffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffwfffwwwwwffffwfffwwwwwwwwwwwwffwwwwwwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffwffwwwwwwwwwwwwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffwfffwfffwffffwfffffffffffffffffwffffwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffwffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffffffwfffwfffwffffwfffffffffffffffffwffffwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffwffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwwwwfffwwwwwffwfffwfffwffffwfffffffffffffffffwffffwffffffffffffffffffffffffffffwfffwffffffffffffffffffffffffffffffffffffwwwwwwwwwwwwwwwwwwwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffffffffwwffwfffwfffwffffwwwwwwwwwwwwwwwwwwwffffwffffffffffffffffffffffffffffwfffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffwfffwfffwfffffffffffffffffffffffffffwffffffffffffffffffffffffffffwfffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwfffffwffwfffwfffwfffffffffffffffffffffffffffwffffffffffffffffffffffffffffwfffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffwfffwfffwfffffffffffffffffffffffffffwffffffffffffffffffffffffffffwfffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffwfffffwffwffwwwwwfffwffffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffffffffffffffffffwwfffwwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffffffffffwffffwfffffffffffwfffffffffffffffffffwwwwwwwwwwwwwwwwwwwwfffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwfffffwffffffffffwffffwfffffffffffwfffffffffffffffffffwffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffffffffffwffffwfffffffffffwfffwfffffffffffffffwffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffwfffffwffwffffwwwwwwwffffwwwwwwwfwwwwwfffwfffwfffwfffwfffwffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffffwffffffffffffffffwfwfffwfffwfffwfffwfffwfffwfffwwwwwwwwwffwwwwwfffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwfffffwffffwffffffffffffffffwfwfffwfffwfffwfffwfffwfffwfffwfffffffwffwfffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffffffffffffffffffffffffffffffffffffffffffffwfffffffffffwffffwffffffffffffffffwfwfffwfffwfffwfffwfffwfffwfffwfffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffwwfffffffffwwffffwfffwwwwwwwwwwfffwfwfffwfffwfffwfffwfffwfffwfffwfffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffwwwwwwwwwwwwwffffwffffffffffffffffwfwfffwfffwffwwfffwfffwfffwfffwffffffwwffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffwfwfffwfffwfffffffwfffwfffwfffwffffffwfffwwwwwwwwwfwwwwwwwwwwwfwwwwwwwwwwwwwfwwwwwwwwwwwwwwwwwwwwwwwwfwwwwwwwwwwffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffffffwfwfffwfffwfffffffwfffwfffwfffwffffffwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwwwfffwwwwfffwwwwfwfffwfffwwwwwfffwfffwfffwfffwfffffffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffwfffwffffwfffwfffffffffffwfffwfffwfffwfffffffwffwwwwwwwwwffwwwwwwwwwffwwwwwwwwwwwwwffwwwwwwwwwwwwwwffwwwwwwwwwwwwwwwffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffwfffwffffwfffwfffffffffffwfffwfffwfffwfffffffwffwfffffffwffwfffffffwffwfffffffffffwffwffffffffffffwfffwfffffffffffwfffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffwfffwwwwwwfffwfffwwwwwwwwwfffwfffwfffwfffffffwffwfffffffwffwfffffffwffwfffffffffffwffwffffffffffffwffwwwwwwwwwwwwwwwffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffwffffffffffffwfffffffffffffffwfffwfffwfffffffwffwwffffffwffwfffffffwffwfffffffffffwffwfffffffffffwwfffffffffffffffffffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwffwffffffffffffwfffffffffffffffwwwwwfffwfffffffwfffwffffffwffwfffffffwffwfffffffffffwffwfffffffffffwffffffffffffffffffffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwfffffffffffwfffffffwffwwffffffwffwfffffffwffwfffffffffffwffwfffffffffffwwffwwwwwwwwwwwwwwwffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwffffffffffffffffffffffffffwfffffffffffwfffffffwffwfffffffwffwfffffffwffwfffffffffffwffwffffffffffffwffwfffffffffffffwffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwffffffffffffffffffffffffffwfffffffwfffwfffffffwffwfffffffwffwfffffffwffwfffffffffffwffwffffffffffffwffwfffffffffffffwffwffffffwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwffwwwwwwwwwwwwwwwwwwwwwfffwfffwffwwfffwfffffffwffwfffffffwffwffwwwffwffwffffwwwffffwffwfwwwffffffffwffwfffffffffffffwffwfwwwffwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffwwffwfffffffffffffffffffwfffwfffwfffwfffwfffffffwffwwwwwwwwwffwwwwfwwwwffwwwwwwfwwwwwwffwwwfwwwwwwwwwwffwfffffffffffffwffwwwfwwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwffwfffffffffffffffffffwfffwfffwfffwfffwffffffwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffwwffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwffwwwwwwwwwwwwwwwwwfffwfffwfffwfffwfffwffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffffffffffffwfffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwffwfffffffffffffffffffwfffwfffwfffwfffwffffffwwffwwwwwwwwwffwwwwwwwwwwwwwwwwwffwwwwwwwwwffwwwwwwwwwwffwffffffffffffwwffwwffwwwwwwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwffwfffffffffffffffffffwfffwfffwfffwfffwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffwffwwwwwwwwwwwwwwwwwfffwfffwfffwfffwfffwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwfffwwffffffffffffffffffffffwfffwfffffffwfffwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffwwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwffffffffffffffffffffffwfffwfffffffwfffwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffwwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffwwwwwwwwwwwwwwwwwwwwwwffwwwwwwwwwwwwwfffwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffwwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffwfffffffwffwwffffffwffwfffffffffffffffwffwfffffffwffwfffffffwwffwwwwwwwwwwwwwwwffwwffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffwfffffffwfffwffffffwffwfffffffffffffffwffwfffffffwffwfffffffwfffffffffffffffffffffwffwwwwwwwwwwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffwfffffffwffwwffffffwffwfffffffffffffffwffwfffffffwffwfffffffwwfffffffffffffffffffwwfffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwfffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwwwwwwwwwwwwwwwffwwfffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffwfffffffwffwfffffffffffffffwffwfffffffwffwffffffffwffwfffffffffffffwffffffwwwfwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffwfffffffwffwffffffwwwffffffwffwfffffffwffwffffffffwffwfffffffffffffwffffffwfwwwfwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwffwwwwwwwwwffwwwwwwwwfwwwwwwwwffwwwwwwwwwffwwwwwwwwwwffwfffffffffffffwffwwffwfwwwfwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffwffwwffwwwfwwwffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffwfffffffffffffwfffffffffffffffwfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwwwwwfwwwwwwfwwwwwwwwwwwwwwwwwfwwwwwwwwwwwfwwwwwwwwwwwwwfffffffffffffwfffffffffffffffwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffwwwffffwwwfffffffffffffffwwwfffffffffwwwfffffffffffffffffffffffffwwwwwwwwwwwwwwwwwffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}r.__super__=t,r.prototype=w(t.prototype,{update:function(f){t.prototype.update.call(this,f),n.c.fillStyle="#FFF",n.c.font="30px sans-serif",W.centeredText(n.c,n.TITLE,0,255,63.75),n.c.font="20px sans-serif";for(var w=0,i=this.opts;w<i.length;){var e=i[w];++w,n.c.fillText(e.name,e.x,e.y)}n.c.strokeStyle="#FFF",n.c.lineWidth=5,f=this.opts[this.idx],n.c.beginPath(),n.c.moveTo(f.x-30,f.y-7),n.c.lineTo(f.x-10,f.y-7),n.c.stroke(),n.c.beginPath(),n.c.moveTo(f.x+f.w+10,f.y-7),n.c.lineTo(f.x+f.w+30,f.y-7),n.c.stroke(),a.ap&&(f.act(),l.e()),a.up&&(this.idx=0<this.idx?this.idx-1:0,l.n()),a.dp&&(this.idx=this.idx<this.opts.length-1?this.idx+1:this.opts.length-1,l.n())},onStart:function(){var f=x.getLocalStorage();null!=f&&f.setItem(n.SAVE,""),this.onContinue()},onContinue:function(){n.cs=new S}});var l=function(){};function c(f,w,t){this.thisForEachRun=0;var i=f/t,a=w/t;this.quads=new b;for(var e=0,s=t;e<s;)for(var h=e++,n=0,r=t;n<r;){var o=n++;this.quads.push(new d(h*i,o*a,i,a))}}l.c=function(){zzfx(1,.05,323,.1,0,.06,0,2.4,-62,0,-114,0,.04,.9,51,0,0,.75,0,0,-1170)},l.m=function(f,w){zzfx(w,.2,594,.07,0,.35,3,1.2,0,-1,90,.05,0,.2,0,0,0,.51,.16,.07,795)},l.s=function(){zzfx(1,.05,524.25,0,0,0,2,0,-.1,-.2,0,0,0,.1,-2,.9,.02,.7,.02,.04,0)},l.k=function(){zzfx(1,.05,261.6256,0,.03,.02,0,1.5,0,0,0,0,0,0,6,0,0,.51,.01,.45,-1394)},l.r=function(){zzfx(1,.05,364,.02,.1,.01,4,2.3,0,1,0,0,0,2,49,.1,.03,.72,.02,0,249)},l.a=function(){zzfx(1.5,.05,100,.02,0,.06,4,1.5,0,0,50,0,0,0,0,0,.05,.74,.2,0,-3e3)},l.e=function(){zzfx(1.2,.05,536,.1,.05,.01,0,.2,4,-5,0,0,0,0,265,.1,.4,.85,0,0,-1112)},l.n=function(){zzfx(2.4,.05,336,.02,.03,.02,0,1,0,0,-261,.41,0,0,140,0,0,.74,0,0,295)},l.d=function(){zzfx(2.2,.05,27,0,0,.006,2,2.6,-2,-40,0,0,0,0,0,.7,.45,.82,.21,0,0)},c.prototype={add:function(f,w){for(var t=new p(f,w.x,w.y,w.w,w.h),i=this.quads.h;null!=i;){var a=i.item;i=i.next;(a=a).overlaps(w)&&a.add(t)}},forEachIn:function(f,w){this.thisForEachRun++;for(var t=this.quads.h;null!=t;){var i=t.item;t=t.next;(i=i).overlaps(f)&&i.forEachIn(f,this.thisForEachRun,w)}}};var u=function(f,w,t,i){null==i&&(i=0),null==t&&(t=0),null==w&&(w=0),this.x=f=null==f?0:f,this.y=w,this.w=t,this.h=i};u.mc=function(f,w,t,i,a){return f=.9*(0<a?t-w:i-f),0<a?Math.min(Math.abs(f),Math.abs(a)):-Math.min(Math.abs(f),Math.abs(a))},u.prototype={overlaps:function(f){return!(this.x+this.w<f.x||this.x>f.x+f.w||this.y+this.h<f.y||this.y>f.y+f.h)},contains:function(f,w){return!(f<this.x||f>this.x+this.w||w<this.y||w>this.y+this.h)},mx:function(f,w){return u.mc(this.x,this.x+this.w,f.x,f.x+f.w,w)},my:function(f,w){return u.mc(this.y,this.y+this.h,f.y,f.y+f.h,w)}};var d=function(f,w,t,i){u.call(this,f,w,t,i),this.members=new b};d.__super__=u,d.prototype=w(u.prototype,{add:function(f){this.members.add(f)},forEachIn:function(f,w,t){for(var i=this.members.h;null!=i;){var a=i.item;i=i.next;(a=a).lastForEachRun!=w&&a.overlaps(f)&&t(a.member),a.lastForEachRun=w}}});var p=function(f,w,t,i,a){this.lastForEachRun=0,u.call(this,w,t,i,a),this.member=f};p.__super__=u,p.prototype=w(u.prototype,{});var b=function(){this.length=0};b.prototype={add:function(f){f=new y(f,null),null==this.h?this.h=f:this.q.next=f,this.q=f,this.length++},push:function(f){f=new y(f,this.h),this.h=f,null==this.q&&(this.q=f),this.length++},clear:function(){this.h=null,this.q=null,this.length=0}};var y=function(f,w){this.item=f,this.next=w},m=function(){this.h=Object.create(null)},g=function(f){this.current=0,this.array=f};g.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]}};var x=function(){};function v(){}x.getLocalStorage=function(){try{var f,w=window.localStorage;return w.getItem(""),0==w.length&&(f="_hx_"+Math.random(),w.setItem(f,f),w.removeItem(f)),w}catch(f){return null}},v.range=function(f,w){return Math.random()*(w-f)+f};var _=function(f,w){null==w&&(w=0),null==f&&(f=0),this.y=0,this.x=0,this.x=f,this.y=w};function k(f){this.offset=new _,this.y=0,this.x=0,this.aabb=new u,this.room=f}function M(f,w,t,i,a,e,s){k.call(this,f),this.aabb.w=i,this.aabb.h=a,this.set_x(w),this.set_y(t),this.i=e,this.a=s}function C(){this.fgAlpha=0,this.bgAlpha=0,t.call(this)}_.prototype={s:function(f,w){this.x=f,this.y=w}},k.prototype={drawShadow:function(f,w,t,i){},set_x:function(f){return this.aabb.x=f-this.offset.x,this.x=f},set_y:function(f){return this.aabb.y=f-this.offset.y,this.y=f}},M.__super__=k,M.prototype=w(k.prototype,{update:function(f){},draw:function(f){return f.save(),f.translate(this.x+this.aabb.w/2,this.y+this.aabb.h/2),f.rotate(this.a),f.translate(-this.i.naturalWidth/2,-this.i.naturalHeight/2),f.drawImage(this.i,0,0),f.restore(),null}}),C.__super__=t,C.prototype=w(t.prototype,{update:function(f){n.c.globalAlpha=.7*this.bgAlpha,t.prototype.update.call(this,f),n.c.globalAlpha=this.fgAlpha,this.bgAlpha<1?this.bgAlpha+=f:this.fgAlpha<1?this.fgAlpha+=f:a.a&&(n.cs=new S,l.e()),n.c.fillStyle="#FFF",n.c.font="20px monospace",W.centeredText(n.c,"Your luck ran out",0,255,63.75),n.c.font="10px monospace",W.centeredText(n.c,"Press any key to retry",0,255,127.5),n.c.globalAlpha=1}});var S=function(){this.deferredDraws=new b,this.interactionHint="test",this.gameOver=!1,this.luck=100,this.lvl=new o,this.playerLightFlickerTimer=3,this.playerLightOffset=new _,t.call(this),this.mapWidth=16*this.lvl.w,this.mapHeight=16*this.lvl.h,this.backgroundStyle="#888",this.walls=new c(this.mapWidth,this.mapHeight,10);for(var f=0,w=0,i=0,a=this.lvl.walls.split("");i<a.length;){var e=a[i];++i,"w"==e&&(e=new T(this,16*f,16*w),this.walls.add(e,e.aabb)),++f>=this.lvl.w&&(f=0,++w)}for(this.player=new I(this),S.CHECKPOINT=S.loadCheckpoint(),this.player.set_x(null==S.CHECKPOINT?this.lvl.px:S.CHECKPOINT.x),this.player.set_y(null==S.CHECKPOINT?this.lvl.py:S.CHECKPOINT.y),this.playerLight=new A(this,48,"#FFA700FF",!1),this.lights=new c(this.mapWidth,this.mapHeight,10),i=0,a=Math.floor(this.lvl.lights.length/4);i<a;){var s=i++,h=this.lvl.lights[4*s],r=this.lvl.lights[4*s+1],l=this.lvl.lights[4*s+2];s=this.lvl.lights[4*s+3];(s=new A(this,l,s)).set_x(h),s.set_y(r),this.lights.add(s,s.aabb)}this.obstacles=new c(this.mapWidth,this.mapHeight,10),this.loadObjects(this.lvl.ob),this.camera=new u(0,0,255,255),this.shadowCanvas=S.newCanvas(),this.bgPattern=n.c.createPattern(H.bg,"repeat"),this.decals=new c(this.mapWidth,this.mapHeight,10)};S.newCanvas=function(){var f=window.document.createElement("canvas");return f.width=255,f.height=255,f.getContext("2d",null)},S.loadCheckpoint=function(){var f;return null==(f=null!=(f=x.getLocalStorage())?f.getItem(n.SAVE):null)||""==f?null:(f=f.split(","),new _(parseFloat(f[0]),parseFloat(f[1])))},S.__super__=t,S.prototype=w(t.prototype,{loadObjects:function(f){for(var w=0,t=f;w<t.length;)switch(t[w++]){case"a":var i=new P(this,t[w++],t[w++],t[w++],t[w++],t[w++],t[w++]);this.obstacles.add(i,i.aabb);break;case"c":i=new q(this,t[w++],t[w++],t[w++],t[w++]),this.obstacles.add(i,i.aabb);break;case"d":var a=new F(this,t[w++],t[w++],t[w++],t[w++]);this.obstacles.add(a,a.aabb);break;case"g":for(var e=B.makeWalls(this,t[w++],t[w++],t[w++],t[w++]),s=0;s<e.length;){var h=e[s];++s,this.walls.add(h,h.aabb)}(a=new R(this,t[w++],t[w++])).walls=e,this.walls.add(a,a.aabb);break;case"h":var n=new O(this,t[w++],t[w++],t[w++],t[w++]);this.obstacles.add(n,n.aabb),n=n.makeWall(),this.walls.add(n,n.aabb);break;case"m":n=new z(this,t[w++],t[w++],t[w++],t[w++],t[w++]),this.walls.add(n,n.aabb)}},update:function(f){var w=this;t.prototype.update.call(this,f),this.gameOver||(this.player.update(f),this.player.aabb.x>this.mapWidth&&(this.gameOver=!0,this.gameOverScreen=new e)),this.camera.x=Math.min(Math.max(0,this.player.x-this.camera.w/2),this.mapWidth-this.camera.w),this.camera.y=Math.min(Math.max(0,this.player.y-this.camera.h/2),this.mapHeight-this.camera.h),n.c.save(),n.c.translate(-this.camera.x,-this.camera.y),n.c.fillStyle=this.bgPattern,n.c.fillRect(this.camera.x,this.camera.y,this.camera.w,this.camera.h),this.decals.forEachIn(this.camera,(function(f){f.draw(n.c)})),this.obstacles.forEachIn(this.camera,(function(t){t.update(f),null!=(t=t.draw(n.c))&&w.deferredDraws.add(t)})),this.player.draw(n.c),this.playerLight.set_x(this.player.x+this.playerLightOffset.x),this.playerLight.set_y(this.player.y+this.playerLightOffset.y),this.playerLightFlickerTimer--,this.playerLightFlickerTimer<=0&&(this.playerLightFlickerTimer=3,this.playerLightOffset.s(v.range(-1,1),v.range(-1,1)));for(var i=this.deferredDraws.h;null!=i;){var a=i.item;i=i.next;a(n.c)}this.deferredDraws.clear(),this.walls.forEachIn(this.camera,(function(w){w.update(f),w.draw(n.c)})),this.shadowCanvas.globalCompositeOperation="source-over",this.shadowCanvas.fillStyle="#000",this.shadowCanvas.fillRect(0,0,255,255),this.shadowCanvas.globalCompositeOperation="destination-out",n.c.restore(),n.c.globalAlpha=.5,n.c.globalCompositeOperation="lighter",this.playerLight.update(f),this.playerLight.draw(this.shadowCanvas),this.playerLight.drawGlow(n.c),this.lights.forEachIn(this.camera,(function(t){t.update(f),t.draw(w.shadowCanvas),t.drawGlow(n.c)})),n.c.globalCompositeOperation="source-over",n.c.globalAlpha=1,n.c.drawImage(this.shadowCanvas.canvas,0,0),n.c.fillStyle="#fff",n.c.font="bold 10px sans-serif",W.centeredText(n.c,this.interactionHint,this.player.x-this.camera.x,0,this.player.y-this.camera.y-10),this.interactionHint="",this.luck=Math.max(0,this.luck),n.c.fillStyle="#444",n.c.fillRect(63.75,10,127.5,12.75),n.c.fillStyle="#208",n.c.fillRect(63.75,10,127.5*this.luck/100,12.75),n.c.fillStyle="#fff",n.c.letterSpacing="3px",W.centeredText(n.c,"Luck",63.75,127.5,20.200000000000003,!0),this.gameOver&&this.gameOverScreen.update(f)},hurt:function(f){return 0<this.luck?(this.luck-=f,!1):(this.gameOver||(this.gameOver=!0,this.gameOverScreen=new C,l.d(),this.player.fall()),!0)},saveCheckpoint:function(f,w){S.CHECKPOINT=new _(f,w);var t=x.getLocalStorage();null!=t&&t.setItem(n.SAVE,f+","+w),this.luck=100}});var A=function(f,w,t,i){null==i&&(i=!0),this.dirty=!0,this.lastY=null,this.lastX=null,k.call(this,f),this.aabb.w=2*w,this.aabb.h=2*w,this.offset.s(w,w),this.colour=t,this.castPlayer=i};A.__super__=k,A.prototype=w(k.prototype,{update:function(f){null!=this.lastX&&null!=this.lastY&&this.lastX==this.x&&this.lastY==this.y||(this.grad=A.shadowCtx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.offset.x),this.grad.addColorStop(0,this.colour),this.grad.addColorStop(1,s.substr(this.colour,0,7)+"00")),this.dirty=!0},updateCtx:function(){var f=this;this.dirty&&null!=this.grad&&(A.shadowCtx.clearRect(0,0,A.shadowCtx.canvas.width,A.shadowCtx.canvas.height),A.shadowCtx.save(),A.shadowCtx.translate(-this.room.camera.x,-this.room.camera.y),A.shadowCtx.globalCompositeOperation="source-over",A.shadowCtx.fillStyle=this.grad,A.shadowCtx.fillRect(this.aabb.x,this.aabb.y,this.aabb.w,this.aabb.h),A.shadowCtx.globalCompositeOperation="destination-out",A.shadowCtx.fillStyle="#000",this.room.walls.forEachIn(this.aabb,(function(w){w.drawShadow(A.shadowCtx,f.x,f.y,f.offset.x)})),this.castPlayer&&(this.room.obstacles.forEachIn(this.aabb,(function(w){w.drawShadow(A.shadowCtx,f.x,f.y,f.offset.x)})),this.aabb.overlaps(this.room.player.aabb)&&this.room.player.drawShadow(A.shadowCtx,this.x,this.y,this.offset.x)),this.dirty=!1,A.shadowCtx.restore())},draw:function(f){return this.updateCtx(),f.drawImage(A.shadowCtx.canvas,0,0),null},drawGlow:function(f){this.updateCtx(),f.drawImage(A.shadowCtx.canvas,0,0)}});var I=function(f){this.alive=!0,this.stepAngle=0,this.stepTimer=0,this.a=0,this.nextAABB=new u,k.call(this,f),this.aabb.w=13,this.aabb.h=13,this.offset.s(this.aabb.w/2,this.aabb.h/2),this.nextAABB.w=this.aabb.w,this.nextAABB.h=this.aabb.h,this.i=H.i.h.p};I.__super__=k,I.prototype=w(k.prototype,{update:function(f){var w=this,t=a.l?-1:a.r?1:0,i=a.u?-1:a.d?1:0,e=0,s=0;0==t&&0==i||(this.a=Math.atan2(i,t),e=128*Math.cos(this.a)*f,s=128*Math.sin(this.a)*f),this.nextAABB.x=this.aabb.x+e,this.nextAABB.y=this.aabb.y,this.room.walls.forEachIn(this.nextAABB,(function(f){f.alive&&0!=(e=w.aabb.mx(f.aabb,e))&&(0<e?e-=.2:e+=.2)})),this.nextAABB.x=this.aabb.x,this.nextAABB.y=this.aabb.y+s,this.room.walls.forEachIn(this.nextAABB,(function(f){f.alive&&0!=(s=w.aabb.my(f.aabb,s))&&(0<s?s-=.2:s+=.2)})),this.set_x(this.x+e),this.set_y(this.y+s),0!=e||0!=s?(this.stepTimer-=f,this.stepTimer<0&&(this.stepTimer=.35,l.s()),this.stepAngle+=3*Math.PI*f):this.stepAngle=0},draw:function(f){return f.save(),f.translate(this.x,this.y),f.rotate(this.a),this.alive&&(f.fillStyle="#11260B",f.beginPath(),W.circle(f,-4*Math.sin(this.stepAngle),-3,4),W.circle(f,4*Math.sin(this.stepAngle),3,4),f.fill()),f.translate(-this.i.naturalWidth/2,-this.i.naturalHeight/2),f.drawImage(this.i,0,0),f.restore(),null},drawShadow:function(f,w,t,i){var a=Math.atan2(this.y-t,this.x-w),e=this.x+-5*Math.cos(a+.5*Math.PI),s=this.y+-5*Math.sin(a+.5*Math.PI),h=this.x+5*Math.cos(a+.5*Math.PI),n=this.y+5*Math.sin(a+.5*Math.PI),r=Math.atan2(s-t,e-w),o=Math.atan2(n-t,h-w),l=Math.sqrt(Math.pow(this.x-w,2)+Math.pow(this.y-t,2));w=this.x+Math.cos(a)*(1.5*l+10),t=this.y+Math.sin(a)*(1.5*l+10);f.filter="blur(2px)",f.beginPath(),f.moveTo(e,s),f.quadraticCurveTo(this.x+5*Math.cos(a),this.y+5*Math.sin(a),h,n),f.lineTo(h+Math.cos(o)*l,n+Math.sin(o)*l),f.quadraticCurveTo(w,t,e+Math.cos(r)*l,s+Math.sin(r)*l),f.lineTo(e,s),f.fill(),f.filter=""},fall:function(){this.i=H.i.h.f,this.offset.s(25,19),this.alive=!1}});var T=function(f,w,t,i,a){null==a&&(a=16),null==i&&(i=16),this.visible=!0,this.alive=!0,k.call(this,f),this.aabb.w=i,this.aabb.h=a,this.set_x(w),this.set_y(t)};function L(f){k.call(this,f)}function E(f,w,t,i){this.mewCooldown=0,this.mewTimer=0,this.frq=0,this.a=0,this.cr=new u(0,0,16,16),this.md=new _,k.call(this,f),this.aabb.w=16,this.aabb.h=16,this.offset.s(8,8),this.set_x(w),this.set_y(t),this.region=i,this.i=H.i.h.a,this.frq=74+316*Math.random()}T.__super__=k,T.prototype=w(k.prototype,{update:function(f){},draw:function(f){return this.alive&&this.visible&&(f.fillStyle="#000",f.fillRect(this.x,this.y,this.aabb.w,this.aabb.h)),null},drawShadow:function(f,w,t,i){this.alive&&this.visible&&this.eachLine((function(a,e,s,h){var n=Math.atan2(e-t,a-w),r=Math.atan2(h-t,s-w);f.beginPath(),f.moveTo(a,e),f.lineTo(s,h),f.lineTo(s+Math.cos(r)*i,h+Math.sin(r)*i),f.lineTo(a+Math.cos(n)*i,e+Math.sin(n)*i),f.lineTo(a,e),f.fill()}))},eachLine:function(f){f(this.aabb.x-1,this.aabb.y-1,this.aabb.x+this.aabb.w+1,this.aabb.y-1),f(this.aabb.x+this.aabb.w+1,this.aabb.y-1,this.aabb.x+this.aabb.w+1,this.aabb.y+this.aabb.h+1),f(this.aabb.x+this.aabb.w+1,this.aabb.y+this.aabb.h+1,this.aabb.x-1,this.aabb.y+this.aabb.h+1),f(this.aabb.x-1,this.aabb.y+this.aabb.h+1,this.aabb.x-1,this.aabb.y-1)}}),L.__super__=k,L.prototype=w(k.prototype,{}),E.__super__=k,E.prototype=w(k.prototype,{update:function(f){if(0==this.md.x&&0==this.md.y){switch(Math.floor(4*Math.random())){case 0:this.md.x=-1;break;case 1:this.md.x=1;break;case 2:this.md.y=-1;break;case 3:this.md.y=1}this.a=Math.atan2(this.md.y,this.md.x)}this.isBlocked(this.md.x,this.md.y)&&this.pickNewDirection(),this.set_x(this.x+50*this.md.x*Math.min(f,.16)),this.set_y(this.y+50*this.md.y*Math.min(f,.16)),this.mewTimer-=f,this.mewCooldown-=f,this.mewTimer<0&&(this.mew(),this.mewTimer=2+10*Math.random())},mew:function(){var f,w;this.mewCooldown<=0&&(this.mewCooldown=1.5,f=this.room.player.x-this.x,w=this.room.player.y-this.y,w=Math.sqrt(f*f+w*w),l.m(this.frq,1-Math.min(w/255,1)))},isBlocked:function(f,w){if(this.cr.x=this.x+12*f-this.cr.w/2,this.cr.y=this.y+12*w-this.cr.h/2,!this.region.aabb.overlaps(this.cr))return!0;var t=!1;return this.room.walls.forEachIn(this.cr,(function(f){t=!0})),t},pickNewDirection:function(){var f=.5<Math.random()?1:-1,w=this.md.x,t=this.md.y;t=this.firstFree([[t*f,w*f],[-t*f,-w*f],[-w,-t]]);this.md.s(t[0],t[1]),this.a=Math.atan2(this.md.y,this.md.x)},firstFree:function(f){for(var w=0;w<f.length;){var t=f[w];if(++w,!this.isBlocked(t[0],t[1]))return t}return[0,0]},draw:function(f){return f.save(),f.translate(this.x,this.y),f.rotate(this.a),f.translate(-this.i.naturalWidth/2,-this.i.naturalHeight/2),f.drawImage(this.i,0,0),f.restore(),null}});var P=function(f,w,t,i,a,e,s){L.call(this,f),this.aabb.w=e,this.aabb.h=s,this.set_x(i),this.set_y(a),this.cat=new E(f,w,t,this)};P.__super__=L,P.prototype=w(L.prototype,{update:function(f){var w,t;this.cat.update(f),this.aabb.overlaps(this.room.player.aabb)&&(w=this.room.player.x-this.cat.x,t=this.room.player.y-this.cat.y,Math.sqrt(w*w+t*t)<48&&(this.room.hurt(20*f),this.cat.mew()))},draw:function(f){return this.room.camera.overlaps(this.cat.aabb)&&this.cat.draw(f),null}});var O=function(f,w,t,i,a){this.knockDelay=0,L.call(this,f),this.aabb.w=48,this.aabb.h=48,this.offset.s(24,24),this.set_x(w),this.set_y(t),this.spawnX=i,this.spawnY=a,this.iBox=new u(w-16,t-16,32,32),this.ia=H.i.h.l,this.ib=H.i.h.b};O.__super__=L,O.prototype=w(L.prototype,{update:function(f){this.iBox.overlaps(this.room.player.aabb)&&(this.room.interactionHint="Knock on wood",a.ap&&(this.room.saveCheckpoint(this.spawnX,this.spawnY),l.k(),this.knockDelay=.4)),0<this.knockDelay&&(this.knockDelay-=f,this.knockDelay<0&&l.k())},draw:function(f){return f.drawImage(this.ia,this.aabb.x,this.aabb.y),D(this,this.drawB)},drawB:function(f){f.drawImage(this.ib,this.aabb.x-20,this.aabb.y-14)},makeWall:function(){var f=new T(this.room,this.x-6,this.y-6,12,12);return f.visible=!1,f}});var q=function(f,w,t,i,a){this.over=!1,L.call(this,f),this.aabb.w=i,this.aabb.h=a,this.set_x(w),this.set_y(t),this.i=H.i.h.c,this.a=a<i?Math.PI/2:0};q.__super__=L,q.prototype=w(L.prototype,{update:function(f){var w=this.room.player.aabb.overlaps(this.aabb);!this.over&&w&&(this.over=!0,this.room.hurt(10),l.r()),this.over=w},draw:function(f){return f.save(),f.translate(this.x+this.aabb.w/2,this.y+this.aabb.h/2),f.rotate(this.a),f.translate(-this.i.naturalWidth/2,-this.i.naturalHeight/2),f.drawImage(this.i,0,0),f.restore(),null}});var B=function(){};B.makeWalls=function(f,w,t,i,a){for(var e=[],s=0,h=Math.floor(i/16);s<h;)for(var n=s++,r=0,o=Math.floor(a/16);r<o;){var l=r++;e.push(new T(f,w+16*n+6,t+16*l+6,4,4))}return e};var F=function(f,w,t,i,a){this.over=!1,L.call(this,f),this.aabb.w=i,this.aabb.h=a,this.set_x(w),this.set_y(t);var e=i<a;this.lines=[[[0,0,.5],[e?0:i,e?a:0,.5]],[[e?i:0,e?0:a,.5],[i,a,.5]]];for(var s=1,h=Math.floor((e?a:i)/8);s<h;){var n=8*s++;this.lines.push([[e?0:n,e?n:0,.5],[e?i:n,e?n:a,.5]])}};F.__super__=L,F.prototype=w(L.prototype,{update:function(f){var w=this.room.player.aabb.overlaps(this.aabb);!this.over&&w&&(this.over=!0,this.room.hurt(20)),this.over=w},draw:function(f){return D(this,this.drawLadder)},drawLadder:function(f){f.lineWidth=4,f.strokeStyle="#000";for(var w=0,t=this.lines;w<t.length;){var i=t[w];++w,f.beginPath(),f.moveTo(this.x+i[0][0],this.y+i[0][1]),f.lineTo(this.x+i[1][0],this.y+i[1][1]),f.stroke()}},drawShadow:function(f,w,t,i){f.lineWidth=4;for(var a=0,e=this.lines;a<e.length;){var s=e[a];++a;var h=this.x+s[0][0],n=this.y+s[0][1],r=s[0][2],o=this.x+s[1][0],l=this.y+s[1][1],c=s[1][2],u=Math.sqrt(Math.pow(h-w,2)+Math.pow(n-t,2)),d=Math.sqrt(Math.pow(o-w,2)+Math.pow(l-t,2)),p=Math.atan2(n-t,h-w);s=Math.atan2(l-t,o-w);f.beginPath(),f.moveTo(h+Math.cos(p)*u*r,n+Math.sin(p)*u*r),f.lineTo(o+Math.cos(s)*d*c,l+Math.sin(s)*d*c),f.stroke()}}});var z=function(f,w,t,i,a,e){var s;switch(T.call(this,f,w,t,i,a),this.i=H.i.h.m,this.iBox=new u(w-8,t-8,i+16,a+16),this.sax="w"==e?i:0,this.say="n"==e?a:0,this.sbx="e"==e?0:i,this.sby="s"==e?0:a,e){case"e":s=1.5*Math.PI;break;case"n":s=Math.PI;break;case"w":s=Math.PI/2;break;default:s=0}this.a=s};z.__super__=T,z.prototype=w(T.prototype,{draw:function(f){return this.alive&&(f.save(),f.translate(this.x+this.aabb.w/2,this.y+this.aabb.h/2),f.rotate(this.a),f.translate(-this.i.naturalWidth/2,-this.i.naturalHeight/2),f.drawImage(this.i,0,0),f.restore()),null},update:function(f){T.prototype.update.call(this,f),this.iBox.overlaps(this.room.player.aabb)&&this.alive&&(this.room.interactionHint="Smash",a.ap&&(this.alive=!1,this.room.hurt(40),l.a(),f=new M(this.room,this.x,this.y,this.aabb.w,this.aabb.h,H.i.h.i,this.a),this.room.decals.add(f,f.aabb)))},eachLine:function(f){f(this.x+this.sax,this.y+this.say,this.x+this.sbx,this.y+this.sby)}});var R=function(f,w,t){T.call(this,f,w,t),this.iBox=new u(w-8,t-8,32,32),this.i=H.i.h.s,this.visible=!1};R.__super__=T,R.prototype=w(T.prototype,{update:function(f){if(T.prototype.update.call(this,f),this.iBox.overlaps(this.room.player.aabb)&&(this.room.interactionHint="Use Switch",a.ap)){for(var w=0,t=this.walls;w<t.length;){var i=t[w];++w,i.alive=!i.alive}l.c()}},draw:function(f){return f.drawImage(this.i,this.aabb.x,this.aabb.y),null}});var H=function(){};H.l=function(){var f=[H.lbt,function(){return H.loadImage("c",'<svg width="16" height="32" xmlns="http://www.w3.org/2000/svg"><defs><filter id="a" x="0" y="0" width="1.1" height="1" color-interpolation-filters="sRGB"><feGaussianBlur stdDeviation=".1"/></filter></defs><path d="M8.3 11.3c1.6.1 8.3-.3 8.3-.3M9.1 23.9l7.8-2.6-.2.2M7.8 10.2l-8 6.4M10 32L7 0" transform="matrix(.98342 0 0 1.00926 0 -.1)" fill="none" stroke="#000" stroke-width=".9" stroke-linejoin="bevel" filter="url(#a)"/></svg>')},function(){return H.loadImage("p",'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" stroke="#000" stroke-width=".5" stroke-linejoin="bevel"><ellipse cx="8" cy="8" rx="5.5" ry="7.5" fill="#3775b5"/><ellipse cx="8" cy="8" rx="5.2" ry="4.7" fill="#6f4731"/></g></svg>')},function(){return H.loadImage("l",'<svg width="48" height="48" xmlns="http://www.w3.org/2000/svg"><g stroke="#000"><circle cx="24" cy="24" r="23.8" fill="#655e52" fill-rule="evenodd" stroke-width=".5" stroke-linejoin="bevel"/><circle cx="24" cy="24" r="18.8" fill="#507140" fill-rule="evenodd" stroke-width=".5"/><circle cx="24" cy="24" fill="#6d4e30" fill-rule="evenodd" stroke-width=".5" stroke-linejoin="bevel" r="7.9"/><path d="M23.6 0v5M47.6 23.7h-4.9M23.8 47.6v-4.8M.2 24H5M7 7.2l3.7 3.3M40.8 7l-3.6 3.7M41 40.8L37.3 37M7 40.7l3.5-3.5" fill="none"/></g></svg>')},function(){return H.loadImage("b",'<svg width="87.4" height="73.7" xmlns="http://www.w3.org/2000/svg"><path d="M40.4 33.8A38 38 0 0155 16.6c6.3-3.7 0-5.3-1.3-14.6 5.5 7 1.9 7 7.8 10.7.7 2.2 3.1 3.8 11.2 8.5-10.7 0-10.6-8.5-16.5-1.5-8.3 9-6.8 10-7.3 15.1 15.5 0 19 5.5 28 9-11.5-2-26-6-28.5-1-4 3.3-4 6.4-2.2 11-.6 4.7 9.6 2.3 9 13.1-4.4-10.7-11.6-8-14.1-12.4-1.7-4-2.6-8.2-.5-12.9C35 44 39.1 47 23 46.5 7.5 41 7.5 40.7 4.9 38.2c8 3.5 13.2 5 15.3 4.6-4.3-6.8 2-15 9.2-21.6-8.3 10.2-9 18.7-4.3 20.7.3 2.8 5 1.5 15.3-8z" fill="#4d352b" stroke="#000"/><path d="M57.8 0a22.5 15.4 0 00-22.6 15.4 26.1 20.2 0 00-9-1.3A26.1 20.2 0 000 34.3a26.1 20.2 0 0026.1 20.2 26.1 20.2 0 006.8-.7 14.4 18.6 0 000 1.3 14.4 18.6 0 0014.3 18.6 14.4 18.6 0 0014.1-15.4 20.6 19.1 0 005.5.6 20.6 19.1 0 0020.6-19.1A20.6 19.1 0 0077 23.2a22.5 15.4 0 003.2-7.8A22.5 15.4 0 0057.8 0z" fill="#364d2b" fill-opacity=".7" fill-rule="evenodd"/></svg>')},function(){return H.loadImage("s",'<svg width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs><radialGradient xlink:href="#a" id="b" cx="6.4" cy="6.4" fx="6.4" fy="6.4" r="4" gradientUnits="userSpaceOnUse" gradientTransform="matrix(1.40251 0 0 1.5292 -2.5 -3.6)"/><linearGradient id="a"><stop offset="0" stop-color="#ff0202"/><stop offset="1" stop-color="#6e0000"/></linearGradient></defs><g fill-rule="evenodd" stroke="#000" stroke-width=".5"><rect width="15.5" height="15.5" x=".2" y=".2" ry="3.3" fill="#525252"/><circle cx="8" cy="8" r="4" fill="url(#b)" fill-opacity=".7"/></g></svg>')},function(){return H.loadImage("a",'<svg width="32" height="16" xmlns="http://www.w3.org/2000/svg"><ellipse cx="16.5" cy="8" rx="7.7" ry="4.2" fill="#3d3d3d" fill-rule="evenodd" stroke="#000" stroke-width=".5"/><circle cx="25.8" cy="8" r="2.8" fill="#3d3d3d" fill-rule="evenodd" stroke="#000" stroke-width=".5"/><path d="M8.6 8H.5" fill="none" stroke="#000" stroke-linecap="round"/><path d="M25.9 6l-1.4.7 1.3.4M25.8 9.9L24.4 9l1.3-.4" fill="none" stroke="#000" stroke-width=".5"/><circle cx="27" cy="6.9" fill="#faff8d" fill-rule="evenodd" r=".4"/><circle cx="27" cy="8.9" fill="#faff8d" fill-rule="evenodd" r=".4"/></svg>')},function(){return H.loadImage("m",'<svg width="32" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="b"><stop offset="0" stop-color="#808337"/><stop offset=".4" stop-color="#d3d5a0"/><stop offset="1" stop-color="#808337"/></linearGradient><linearGradient id="a"><stop offset="0" stop-color="#8acecc"/><stop offset="1" stop-color="#f2f2f2"/></linearGradient><linearGradient xlink:href="#a" id="d" x1="8.4" y1="8.2" x2="5.6" y2="2.9" gradientUnits="userSpaceOnUse" gradientTransform="matrix(2.0073 0 0 2.00746 0 0)"/><linearGradient xlink:href="#b" id="c" x1="1.6" y1=".3" x2="11.7" y2="7.9" gradientUnits="userSpaceOnUse" gradientTransform="matrix(2.0073 0 0 2.00746 0 0)"/></defs><path d="M14.2.5c1-.3 2-.6 3.3 0 2 1.5 1.6.2 2.2.4.8.3 1.3-.3 1.6.4h2.4C25 .5 28.1.7 30.2.2c2.8 0 1.4.6 1 1.2.3 1.3-2 2.5-3.2 3.8L26 9c-.7 1 .7 1.6-.2 2 .2.5-1.5 1-1.5 1.6l-1 2v1c-.2.3-.5.4-.9.4-1 0-1.9 0-2.7-.2h-1.4l-2.6.2c-.8 0-1.7 0-2.8-.3h-1.1c-1 .3-2 .3-2.8.3-.3 0-.7 0-.8-.3-.2-.5.3-1 0-1.4l-.8-1.5c-.8 0-.4-.8-1.8-1.6-.4-1.2.4-.5 0-2.1L3.6 5.2c-.4-.3-.9 0-1.2-1C1.5 3.3.6 2.5.3 1.7-.3.5.3.4 1.3.6c.4-.4 1.9 0 3.2.3.8.4 2.3-.4 3.1.7h2.5c0-1 .7 0 1.4-.6C13 2 13 .6 14.2.5z" fill="url(#c)" stroke="#726b39" stroke-width=".2"/><path d="M6.5 4h18.6l-4 11H10.5z" fill="url(#d)" stroke="#4f4815" stroke-width=".4"/></svg>')},function(){return H.loadImage("f",'<svg width="55" height="34.1" xmlns="http://www.w3.org/2000/svg"><g transform="translate(27.5 10.1)" stroke="#000"><ellipse cx="22" cy="8" rx="5.2" ry="4.7" fill="#6f4731" fill-rule="evenodd" stroke-width=".5" stroke-linejoin="bevel"/><path d="M16.7 6.7l-1.8-3.9 10.2-9.7-3.6-2.6L10.1 3.3l-12-.5v11.8l11.5-.8 13 9.5 3.3-3.2-11-7.2 1.8-4z" fill="#3775b5"/><path d="M-1.9 3.1C-3 3.3-27 1.7-27 1.7V7l19 1.7-18.7 8.4 2 5.5 23-8.4z" fill="#2b631f"/></g></svg>')},function(){return H.loadImage("i",'<svg width="32" height="35" xmlns="http://www.w3.org/2000/svg"><path d="M30.2.2c-2 1-5.2.7-6.4 2.7h-2.4c-.3-1.7-.9-.3-1.6-1-2 1-1.3-1.4-4-1.4-2.2 0-2.9 3.5-4.2 1.6-.7 1.5-1.3-.7-1.4 1.3H7.7C6.9 1 5.4 2.8 4.6 1.8 1.2.3-.3.3.5 3.8c.7 2.6 2 4.8 2.3 7.4l.1 8.2c.5 3.6-.5 2-.2 4.7.8 2.2.6 6.8.6 6.8.2 1-3.3 1.8-3.1 3 .3 1.5 5.9.3 6.3.1h6.4c1 .4 1.9.6 2.7.5.7 0 1.6-.1 2.6-.4H26c.3.2 5.2 1.2 5.4-.4 0-.6-2.2-1-2.4-2.2 0-2.6.4-5.3.2-7.8 1-1-.7-2 0-4.4v-8.2c1.2-2.8 2.3-5.5 2-8.4.8-1.5 1.2-2.5-1-2.5z" fill="#8b8e48" stroke="#726b39" stroke-width=".3"/><path d="M6.6 6.6H25v23.7H6.7z" fill="#52cbc5" stroke="#4f4815" stroke-width=".6"/><path d="M6.9 6.8l3.3 3-2 1.9 1.6 4.2-3 2v5.3l2.7 2.1-1.3 2.8 3.2.2 3.1 1.8h7L21 28l2.5.6-2-3.8 3.5-.9-2.5-2.5 2.4-.4-1.6-4.1L25 13l-.2-5.4L23.5 9l-.9-1.4-4.7-1-3.4 3.6L12 8.4z" fill="#4d3717"/></svg>')}];H.rq=f.length;for(var w=Promise.resolve(),t=0;t<f.length;){var i=[f[t]];++t,w=w.then(function(f){return function(w){return H.lq++,f[0]()}}(i))}return w},H.lbt=function(){return new Promise((function(f,w){var t=window.document.createElement("canvas");t.width=24,t.height=24;var i=t.getContext("2d",null);i.fillStyle="#888",i.fillRect(0,0,24,24),i.lineWidth=1,i.strokeStyle="#444",i.beginPath(),i.rect(0,0,24,24),i.stroke(),i.lineWidth=1,i.beginPath(),i.strokeStyle="#666",i.rect(2,2,20,20),i.stroke(),H.bg=window.document.createElement("img"),H.bg.src=t.toDataURL(),H.bg.onload=function(){f(1)},H.bg.onerror=function(f){w(f)}}))},H.loadImage=function(f,w){return new Promise((function(t,i){var a="data:image/svg+xml;base64,"+window.btoa(w),e=window.document.createElement("img");e.onload=function(){H.i.h[f]=e,t(1)},e.onerror=function(f){i(f)},e.setAttribute("src",a)}))};var W=function(){};function D(w,t){return null==t?null:(null==t.__id__&&(t.__id__=f.$haxeUID++),null==w.hx__closures__?w.hx__closures__={}:i=w.hx__closures__[t.__id__],null==i&&(i=t.bind(w),w.hx__closures__[t.__id__]=i),i);var i}W.centeredText=function(f,w,t,i,a,e,s){null==s&&(s=!1),null==e&&(e=!0);var h=f.measureText(w).width;e&&f.fillText(w,t+i/2-h/2,a),s&&f.strokeText(w,t+i/2-h/2,a)},W.circle=function(f,w,t,i,a){f.ellipse(w,t,i,null==a?i:a,0,0,2*Math.PI)},f.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(s.now=performance.now.bind(performance)),a.l=!1,a.r=!1,a.u=!1,a.up=!1,a.d=!1,a.dp=!1,a.a=!1,a.ap=!1,a.tl=new i,a.ut=!1,n.TITLE="Black Cat Maze",n.SAVE="lcann.bcm.chkpt",n.l=0,A.shadowCtx=S.newCanvas(),H.rq=0,H.lq=0,H.i=new m,n.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)</script>