<!DOCTYPE html><html><head><title>TIMBER TERRY</title><meta name="viewport" content="width=device-width"><script src="prefixfree.js"></script><script>var game=(function(){var A,aw,Y,a,aD,ao,aC,aE,j,D,G,S,R,af,Z,O,aj,m,q,P,N,x,M,C,B,z,y,X,f,au,L,s,e,ai,k=0,T={},am=false,ac=0,ab=0,t=false,o=new Date(),at=o.getTime(),an=at;function ah(){aC=aq("terry");A=aq("bg");ao=aq("score");aD=aq("chips");aw=aq("tree");a=aq("p");Y=aq("bear");O=aC.getContext("2d");aj=A.getContext("2d");j=aw.getContext("2d");D=a.getContext("2d");aE=Y.getContext("2d");G=aD.getContext("2d");Z=aC.width;af=aC.height;S=Z*0.5;R=af*0.5;q=new ay({Q:aj});N=new E({Q:aj,y:330,height:70});x=new I({Q:G});e=new p({Q:aE});X=new ax({Q:j,x:470,y:360,fC:x,bear:e});f=new g({x:300,y:300,gY:300,tree:X});s=new J({x:200,y:200,follow:f});M=new ae({Q:aj,y:10,nT:50});C=new ae({Q:aj,nT:100,cL:-0.1,tX:0.6,tY:0.6});B=new ae({Q:aj,nT:100,cL:-0.2,tX:0.7,tY:0.7});z=new ae({Q:aj,nT:100,cL:-0.3,tX:0.7,tY:0.7});y=new ae({Q:aj,nT:100,cL:-0.4,tX:0.7,tY:0.7});q.draw();q.gAI();var aG=ak(44,30);var aK=aG.getContext("2d");var aN=new ad({Q:aK,x:22,y:15,h:false});aN.draw();av(aG,"bn",44,30);document.addEventListener("ILbn",function(aT){if(aN){aN.I=aT.I}var aR=f.tree.b.length;for(var aS=0;aS<aR;aS++){if(f.tree.b[aS]&&f.tree.b[aS].bN){f.tree.b[aS].bN.I=aT.I}}aG=aK=aN=null},false);var aL=ak(250,80);var aH=aL.getContext("2d");var aP=new l({Q:aH,m1:"OH NO! That bear",m2:"will rip me apart!",width:250,height:80,dur:3000});aP.draw();av(aL,"s1",aP.width,aP.height);document.addEventListener("ILs1",function(i){if(aP){aP.I=i.I}aP.Q=O;f.sBs.opening=aP;aL=aH=null},false);var H=ak(250,100);var aF=H.getContext("2d");var aO=new l({Q:aF,m1:"I'll escape up this tree",m2:"and save those",m3:"poor bird's nests!",width:250,height:100});aO.draw();av(H,"s2",aO.width,aO.height);document.addEventListener("ILs2",function(i){if(aO){aO.I=i.I}aO.Q=O;f.sBs.opening2=aO;H=null;aF=null},false);var aQ=ak(250,100);var W=aQ.getContext("2d");var aM=new l({Q:W,m1:"Must chop down this tree and",m2:" put that bear to rest!",width:250,height:100});aM.draw();av(aQ,"s3",aM.width,aM.height);document.addEventListener("ILs3",function(i){if(aM){aM.I=i.I}aM.Q=O;f.sBs.end=aM;aQ=W=null},false);var aJ=[M,C,B,z,y];for(var aI in aJ){aj.Z(0,0,Z,af);aJ[aI].draw();aJ[aI].gAI()}G.Z(0,0,Z,af);aj.Z(0,0,Z,af);N.draw();N.dDP({x:X.x+X.width*0.5,y:30});N.gAI();if(!am){document.addEventListener("ll",function(){var aS=[q,y,z,B,C,M,N];for(var aR in aS){aj.O(aS[aR].I,0,0,Z,af,0,0,Z,af)}am=true},false)}au=new az({el:ao,score:0,});document.onkeydown=function(i){i.preventDefault();var aR=i.keyCode;T[aR]=true};document.onkeyup=function(i){i.preventDefault();var aR=i.keyCode;T[aR]=false};L=new al();if(!ai){F()}ai=true}function F(H,i){if(t){return}if(k<an){au.U9Score(f.getScore());k=an+300}if(i>0){f.r2+=i;f.rT+=i;f.j1+=i;f.j2+=i;f.j7+=i;f.runsT+=i;f.RT+=i;f.a1+=i;f.a2+=i;f.aT+=i;f.d2+=i;f.dET+=i;f.dT+=i;L.offset(i)}an=H;O.Z(0,0,Z,af);j.Z(0,0,Z,af);aj.Z(0,0,Z,af);aE.Z(0,0,Z,af);O.S();aE.S();j.S();if(f.y<100){ab=ab+((-f.y+200-ab)*0.02)}else{ab=ab+((0-ab)*0.2)}O.T(ac,ab);aE.T(ac,ab);j.T(ac,ab);aD.style.top=ab+"px";X.draw();f.draw();s.draw();e.draw();L.U9(H);if(am&&q.I){aj.O(q.I,0,0,Z,af,0,0,Z,af);aj.O(y.I,0,0,Z,af,0,ab*0.2,Z,af);aj.O(z.I,0,0,Z,af,0,ab*0.3,Z,af);aj.O(B.I,0,0,Z,af,0,ab*0.5,Z,af);aj.O(C.I,0,0,Z,af,0,ab*0.7,Z,af);aj.O(M.I,0,0,Z,af,0,ab*1.1,Z,af);aj.O(N.I,0,0,Z,af,0,ab,Z,af)}O.Re();aE.Re();j.Re();if(T[37]||T[65]){f.t("run",{iRs:false})}else{if(T[39]||T[68]){f.t("run",{iRs:true})}else{f.t("rest")}}if(T[40]||T[83]){f.t("dropdown")}if(T[38]||T[87]){f.t("jump")}if(T[32]){f.t("action")}requestAnimFrame(F);at=an}function v(){var aG,i=new Date();var W=i.getTime();if(H.className===""){H.className="play";t=true;aG=W;H.setAttribute("dpT",aG);aq("cv").className="on"}else{H.className="";t=false;aG=H.getAttribute("dpT");var aF=W-aG;F(W,aF);aq("cv").className=""}}function g(i){this.Q=O;for(var H in i){this[H]=i[H]}this.IN()}g.prototype={x:0,y:0,z:0,vx:0,vy:0,height:70,r:0,V:1,U:1,bP:null,hS:13,hC:"#6D471B",tC:"#191E82",sC:"#FBE1BC",srC:"#7F7F7F",pC:"#454545",shC:"#AB8726",hY:30,bLn:15,brDW:25,eyS:2,eyC:"#111",e1:2,eyS:2,bodyW:18,bdH:17,bdY:30,pH:6,lW:7,lH:15,shW:12,shH:6,aH:19,aW:5,hSz:4,aY:30,aXW:4,axeH:40,axW:16,aXSH:8,aXEH:10,aHC:"#603C0E",aXC:"#B00",aEC:"#EEE",af:null,gvY:8,aPw:10,aRd:20,aP:{},JH:140,gY:300,INGY:0,tree:null,hTrvd:0,sBs:null,IN:function(){var W=this;var H=0;H=-4;W.hat=new aa(0,H-2,W.hS+2,W.tC,180,360,1,1.6);H=-10;W.ears=new aB(new aa(-W.hS,H-1,W.hS*0.3,W.sC),new aa(W.hS,H-1,W.hS*0.3,W.sC));H=-10;var i=O.X(0,H*0.5,0,W.hS*2+H*0.5);i.addColorStop(0,W.sC);i.addColorStop(1,"#B8A07C");W.hSP=new aa(0,H,W.hS,i);H=-11;W.beard=new aA(function(){O.bP();O.N(-W.hS,H,-W.brDW*0.5,H+W.bLn,0,H+W.bLn);O.N(0,H+W.bLn,W.brDW*0.5,H+W.bLn,W.hS,H);O.N(W.hS,H,W.brDW*0.5,H+W.bLn*0.3,0,H+W.bLn*0.3);O.N(0,H+W.bLn*0.3,-W.brDW*0.5,H+W.bLn*0.3,-W.hS,H);O.fillStyle=W.hC;O.j();O.g()});H=-14;W.browL=new aB(new w(-W.eyS*3*0.5,-W.e1*0.5,W.eyS*3,W.e1,0,W.hC));W.browL.x=W.eyS*3*0.5+W.eyS*0.5;W.browL.y=H+W.e1*0.5-3;W.browL.r=20;W.browR=new aB(new w(-W.eyS*3*0.5,-W.e1*0.5,W.eyS*3,W.e1,0,W.hC));W.browR.x=-W.eyS*3*0.5-W.eyS*0.5;W.browR.y=H+W.e1*0.5-3;W.browR.r=-20;W.brows=new aB(W.browL,W.browR);W.eyes=new aB(new w(-W.eyS-W.eyS,H,W.eyS,W.eyS,0,W.eyC),new w(W.eyS,H,W.eyS,W.eyS,0,W.eyC));H=-10;W.MM=new aB(new w(-W.hS*0.5-2,H,W.hS+4,2,0,W.hC),new w(-W.hS*0.5-2,H,2,4,0,W.hC),new w(W.hS*0.5,H,2,4,0,W.hC));W.head=new aB(W.hat,W.ears,W.hSP,W.beard,W.brows,W.eyes,W.MM);W.head.y=W.hY;W.body=new aB(new w(-W.bodyW*0.5,W.bdY+W.pH,W.bodyW,W.bdH,0,W.pC),new w(-W.bodyW*0.5,W.bdY,W.bodyW,W.bdH,0,W.srC));W.footL=new w(-W.lW*0.5-W.shW*0.5+2,W.lH-2,W.shW,W.shH,0,W.shC);W.lL=new aB(new w(-W.lW*0.5,-2,W.lW,W.lH,0,W.pC),W.footL);W.lL.x=-W.bodyW*0.5+W.lW*0.5;W.lL.y=W.bdY+W.pH+W.lH;W.footR=new w(-W.shW*0.5-2+W.lW*0.5,W.lH-2,W.shW,W.shH,0,n(W.shC,-0.1));W.lR=new aB(new w(-W.lW+W.lW*0.5,-2,W.lW,W.lH,0,W.pC),W.footR);W.lR.x=W.bodyW*0.5-W.lW*0.5;W.lR.y=W.bdY+W.pH+W.lH;W.ax=new aB(new aA(function(){O.bP();O.lT(0,0);O.lT(W.axW,4+W.aXEH*0.5);O.lT(W.axW,-W.aXSH-W.aXEH*0.5);O.lT(0,-W.aXSH);O.fillStyle=W.aXC;O.j();O.g();O.bP();O.lT(W.axW,4+W.aXEH*0.5);O.lT(W.axW,-W.aXSH-W.aXEH*0.5);O.lT(W.axW+3,-W.aXSH-W.aXEH*0.5);O.lT(W.axW+3,4+W.aXEH*0.5);O.fillStyle=W.aEC;O.j();O.g()}));W.ax.x=W.aXW-W.aXW*0.5;W.ax.y=W.axeH-W.aXSH*0.5;W.axe=new aB(new w(-2,-4,W.aXW,W.axeH,0,W.aHC),W.ax);W.axe.r=80;W.axe.x=-W.aXW*0.5;W.axe.y=W.aH;W.armL=new aB(new w(-W.aW*0.5,0,W.aW,W.aH,10,W.srC),new aa(-W.hSz*0.5,W.aH,W.hSz,W.sC),W.axe);W.armL.x=-W.bodyW*0.5-W.aW*0.5;W.armL.y=W.aY;W.armR=new aB(new w(-W.aW+W.aW*0.5,0,W.aW,W.aH,-10,W.srC),new aa(W.hSz*0.5,W.aH,W.hSz,W.sC));W.armR.x=W.bodyW*0.5+W.aW*0.5;W.armR.y=W.aY;W.aP={x:W.aH+W.axeH-W.aXSH,y:W.aY+W.aH-25};W.bP=new aB(W.lL,W.lR,W.armR,W.body,W.head,W.armL);W.bP.autoZ();W.INGY=W.gY;W.t("rest");W.sBs=[]},run:function(){var i=this;i.axe.U=-1;i.footL.x=-this.lW*0.5-i.shW*0.5+5;i.RT=an-i.runsT;if(i.vy!==0){i.lL.r=50;i.lR.r=-80;if(!i.iA){i.armL.r=-70;i.armR.r=80}i.d1=true;return false}if(i.iRU){i.runUp()}else{i.runDown()}},runUp:function(){var i=this;var H=190;i.lL.r=h(i.RT,-70,70,H,Math.e1);i.lR.r=h(i.RT,80,-80,H,Math.e1);if(!i.iA){i.armL.r=h(i.RT,70,-70,H,Math.e1);i.armR.r=h(i.RT,-80,80,H,Math.e1)}i.head.r=h(i.RT,5,-5,H,Math.e1);i.head.y=h(i.RT,i.hY+2,i.hY-2,H,Math.e1);if(i.RT>H){i.runsT=an;i.RT=0;i.iRU=false}},runDown:function(){var i=this;var H=190;i.lL.r=h(i.RT,70,-70,H,Math.e1);i.lR.r=h(i.RT,-80,80,H,Math.e1);if(!i.iA){i.armL.r=h(i.RT,-70,70,H,Math.e1);i.armR.r=h(i.RT,80,-80,H,Math.e1)}i.head.r=h(i.RT,-5,5,H,Math.e1);i.head.y=h(i.RT,i.hY-2,i.hY+2,H,Math.e1);if(i.RT>H){i.runsT=an;i.RT=0;i.iRU=true}},jump:function(){var i=this;i.footL.x=-this.lW*0.5-i.shW*0.5+5;i.axe.U=-1;i.j7=an-i.j1;if(i.j1Up){i.JUP()}else{i.JUD()}},JUP:function(){var i=this;var H=240;i.lL.r=h(i.j7,0,50,H,Math.e1);i.lR.r=h(i.j7,0,-80,H,Math.e1);if(!i.iA){i.armL.r=h(i.j7,0,-70,H,Math.e1);i.armR.r=h(i.j7,0,80,H,Math.e1)}i.y=h(i.j7,i.gY,i.gY-i.JH,H,Math.e2);if(i.j7>H){i.j1=an;i.j7=0;i.j1Up=false}},JUD:function(){var i=this;var H=200;i.lL.r=50;i.lR.r=-80;if(!i.iA){i.armL.r=-70;i.armR.r=80}if(i.j7>H){i.armL.r=-70;i.armR.r=80;i.j1=an;i.j7=0;i.j1Up=false}},drop:function(){var i=this;i.axe.U=-1;i.dT=an-i.d2;i.dropDown()},dropDown:function(){var i=this;var H=200;i.lL.r=50;i.lR.r=-80;if(!i.iA){i.armL.r=-70;i.armR.r=80}if(i.y>i.gY){i.d2=0;i.dT=0}},action:function(){var i=this;i.armR.z=6;i.bP.refreshOrder();i.axe.U=1;i.aT=an-i.a1;if(i.cy3){i.s1=true;i.searchUp()}else{i.actionUp()}},searchUp:function(){var i=this;var H=800;i.head.r=20;i.head.x=10;i.head.y=28;i.MM.y=1;i.browL.r=30;i.browR.r=-30;i.body.r=24;i.body.x=20;i.body.y=2;i.lL.r=40;i.lL.y=47;i.armL.x=0;i.armL.y=25;i.armR.x=16;i.armR.y=35;if(i.aT<H*0.5){i.armL.r=h(i.aT,40,50,H,Math.e1);i.armR.r=h(i.aT,-50,50,H,Math.e1)}else{i.armL.r=h(i.aT,50,40,H,Math.e1);i.armR.r=h(i.aT,50,-50,H,Math.e1)}if(i.aT>H){i.aT=0;i.a1=an;i.iA=false;i.s1=false;if(i.b2.bN){i.b2.bN.r3(i.b2,i.x);i.tree.n1+=1}if(i.iR||i.r1){i.reset()}}},actionUp:function(){var i=this;var H=260;i.MM.y=1;i.browL.r=h(i.aT,-10,0,H,Math.e1);i.browR.r=h(i.aT,10,0,H,Math.e1);i.axe.r=h(i.aT,80,10,H,Math.e1);i.axe.U=h(i.aT,0.5,1,H,Math.e1);i.armL.r=h(i.aT,70,-110,H,Math.e1);i.armL.x=h(i.aT,-i.bodyW*0.5-i.aW*0.5,-i.bodyW*0.5-i.aW*0.5+15,H,Math.e1);i.armL.y=h(i.aT,i.aY,i.aY+15,H,Math.e1);i.armR.r=h(i.aT,90,-50,H,Math.e1);i.armR.x=h(i.aT,i.bodyW*0.5+i.aW*0.5-14,i.bodyW*0.5+i.aW*0.5,H,Math.e1);i.armR.y=h(i.aT,i.aY+10,i.aY,H,Math.e1);if(i.aT>H){i.aT=0;i.axe.x=-i.aXW*0.5;i.axe.y=i.aH;i.MM.y=0;i.browL.r=20;i.browR.r=-20;i.axe.r=80;i.axe.U=1;i.armL.r=0;i.armL.x=-i.bodyW*0.5-i.aW*0.5;i.armL.y=i.aY;i.armR.r=0;i.armR.x=i.bodyW*0.5+i.aW*0.5;i.armR.y=i.aY;m={power:i.aPw,radius:i.aRd,x:i.x+(i.aP.x*i.V),y:i.y+i.aP.y};i.iA=false}},stop:function(){var i=this;i.lL.r=0;i.lR.r=0;i.armL.r=0;i.armR.r=0;i.head.r=0;i.armR.z=2;i.bP.refreshOrder();i.axe.U=1;i.rT=an-i.r2;if(i.IRSU){i.restUp()}else{i.restDown()}},restUp:function(){var i=this;var H=300;if(!i.iA){i.armL.y=h(i.rT,i.aY,i.aY+0.5,H,Math.e3);i.armR.y=h(i.rT,i.aY,i.aY+0.5,H,Math.e3);i.head.y=h(i.rT,i.hY+1,i.hY-0,H,Math.e1)}if(i.rT>H){i.r2=an;i.rT=0;i.IRSU=false}},restDown:function(){var i=this;var H=300;if(!i.iA){i.armL.y=h(i.rT,i.aY+0.5,i.aY,H,Math.e3);i.armR.y=h(i.rT,i.aY+0.5,i.aY,H,Math.e3);i.head.y=h(i.rT,i.hY-0,i.hY+1,H,Math.e1)}if(i.rT>H){i.r2=an;i.rT=0;i.IRSU=true}},t:function(W,H){var i=this;if(i.s1){i.vx=0;i.af=i.stop;i.iR=false;return}if(H){if(H.iRs){i.V=1;i.vx=4}else{i.V=-1;i.vx=-4}}switch(W){case"rest":if(!i.r1&&!i.j1&&!i.d1&&!i.s1){i.r1=true;i.r2=an;i.af=i.stop;i.iR=false;i.j2=0;i.reset()}i.vx=0;break;case"jump":if(!i.j1&&i.y==i.gY){i.j1=true;i.iR=false;i.r1=false;i.j1=an;i.af=i.jump;i.j1Up=true;i.j2=an+440}break;case"run":if(!i.iR&&!i.j1&&!i.s1){i.iR=true;i.r1=false;i.j1=false;i.runsT=an;i.af=i.run;i.iRU=true}break;case"action":if(!i.iA){i.iA=true;i.r1=false;i.a1=an;i.a2=an+260}break;case"dropdown":if(!i.d1&&!i.j1&&i.y<=i.gY){i.d1=true;i.d3=true;i.gY=i.gY;i.j1=false;i.iR=false;i.r1=false;i.d2=an;i.af=i.drop;i.dET=an+200}break;default:break}},U9:function(){var W=this;W.af();if(W.iA){W.action()}if(W.y<W.gY){var aI=(an-at)*0.002;W.vy=W.vy+W.gvY*aI}else{W.vy=0;W.y=W.gY;W.d1=false;W.j1=an;W.j7=0;W.j1Up=false;W.j1=false}var aJ=-(W.y-W.INGY);if(aJ>W.hTrvd){W.hTrvd=aJ}if(!W.tree.iT){W.b2=null;var aH=W.y+W.height;var H=W.tree.b.length;for(var aF=0;aF<H;aF++){var aG=W.tree.b[aF];if(aG&&aH<=aG.y&&W.x>aG.x-10&&W.x<aG.x+aG.width+10){if(W.b2){if(aG.y<W.b2.y){W.b2=aG}}else{W.b2=aG}if(!W.j1Up){W.gY=aG.y-W.height}}}if(W.d3){W.b2=null;W.gY=W.INGY;W.d3=false}if(W.b2&&W.d1){W.gY=W.b2.y-W.height}if(!W.b2&&!W.j1Up){W.gY=W.INGY}if(W.b2&&!W.d1&&W.b2.hasBush&&!W.j1){if(W.b2.onLeft){if(W.x-W.b2.x<80){W.cy3=true}else{W.cy3=false}}else{if(W.b2.x+W.b2.width-W.x<80){W.cy3=true}else{W.cy3=false}}}else{W.cy3=false}}W.x=W.x+W.vx;W.y=W.y+W.vy;W.bP.x=W.x;W.bP.y=W.y;W.bP.r=W.r;W.bP.V=W.V;W.bP.U=W.U;if(!W.tree.bear.hsS&&W.y<-200){W.tree.bear.start()}},draw:function(){var i=this;i.U9();i.bP.draw();var aF=i.sBs.opening;var W=i.sBs.opening2;var H=i.sBs.end;if(aF){aF.x=i.x;aF.y=i.y}if(W){W.x=i.x;W.y=i.y}if(H){H.x=i.x;H.y=i.y}if(aF&&!i.s1Trd){L.add(aF,{prop:"opacity",start:0,end:1},an+500,500,Math.e2);L.add(aF,{},an+1000,4000,Math.e2);L.add(W,{},an+5000,4000,Math.e2);L.add(W,{prop:"opacity",start:1,end:0},an+9000,500,Math.e2);i.s1Trd=true}if(i.y>i.tree.bear.y&&!i.eTrG){L.add(H,{prop:"opacity",start:0,end:1},an+2000,500,Math.e2);L.add(H,{},an+2500,4000,Math.e2);i.eTrG=true}},reset:function(){var i=this;i.lL.r=i.lR.r=i.armL.r=i.armR.r=i.head.r=i.head.x=i.MM.y=i.body.r=i.body.x=i.body.y=0;i.head.y=30.82;i.browL.r=20;i.browR.r=-20;i.lL.y=51;i.armL.x=-11.5;i.armL.y=i.armR.y=30;i.armR.x=11.5},getScore:function(){var i=this;return i.tree.n1*500+parseInt(i.hTrvd)}};function ay(i){this.Q=O;for(var H in i){this[H]=i[H]}this.IN()}ay.prototype={Q:null,bg:null,gSXO:-90,gEXO:200,LBC:"#b4ecf7",DBC:"#91c2f7",nOs:10,cp1:{x:150,y:100},cp2:{x:200,y:350},iD:null,dataURL:null,image:null,IN:function(){var H=this;H.drawBg();H.ccp1={x:0,y:0};H.ccp2={x:0,y:0};H.sXOs=[];H.eXOs=[];H.cp1s=[];H.cp2s=[];H.isStripe=[];for(var W=0;W<H.nOs;W++){H.sXOs[W]=ag(10,100);H.eXOs[W]=ag(50,300);H.cp1s[W]=ag(50,300);H.cp2s[W]=ag(50,300);H.isStripe[W]=random()<0.6}},gAI:c,drawBg:function(){var i=this.Q.createRadialGradient(50,350,100,50,350,900);i.addColorStop(0,this.LBC);i.addColorStop(1,this.DBC);this.bg=new w(0,0,Z,af,0,i);this.bg.Q=this.Q},drwS:function(){var W=this;W.Q.bP();W.ccp1.x=W.ccp1.x+W.sXOs[W.c1];W.ccp2.x=W.ccp2.x+W.eXOs[W.c1];var aH={x:W.cSxO,y:af};var H={x:W.cExO,y:0};var aG=W.sXOs[W.c1];var aF=W.eXOs[W.c1];W.Q.J(aH.x,aH.y);W.Q.N(W.ccp1.x,W.ccp1.y,W.ccp2.x,W.ccp2.y,H.x,H.y);W.Q.lT(H.x+aF,0);W.Q.N(W.ccp2.x,W.ccp2.y,W.ccp1.x,W.ccp1.y,aH.x+aG,aH.y);var i=W.Q.X(0,0,0,af);i.addColorStop(0,"rgba(255,255,255,.05)");i.addColorStop(1,"rgba(255,255,255,.1)");W.Q.fillStyle=i;if(this.isStripe[W.c1]){W.Q.j()}W.Q.g();W.cSxO=W.cSxO+aG;W.cExO=W.cExO+aF},draw:function(){var H=this;H.cSxO=H.gSXO;H.cExO=H.gEXO;H.ccp1.x=H.cp1.x;H.ccp1.y=H.cp1.y;H.ccp2.x=H.cp2.x;H.ccp2.y=H.cp2.y;H.bg.draw();H.c1=0;for(var W=0;W<H.nOs;W++){H.drwS();H.c1=H.c1+1}}};function E(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.IN()}E.prototype={Q:null,x:0,y:0,ground:null,width:800,height:40,GBladeNum:200,GLengthMin:3,GLengthMax:5,image:null,IN:function(){var H=this;var i=H.Q.X(0,0,0,H.height);i.addColorStop(0,"#b2ce70");i.addColorStop(1,"#69612c");var W=new w(0,0,H.width,H.height,0,i);W.Q=H.Q;H.ground=new aB(W);H.ground.Q=H.Q},gAI:c,dDP:function(aO){var aM=this;var aN=aM.Q;var aI={x:300,y:10,radius:300,fill:null,V:1,U:0.1};for(var aJ in aO){aI[aJ]=aO[aJ]}aO=aI;if(!aO.fill){var aK=this.Q.createRadialGradient(0,0,0,0,0,aO.radius);aK.addColorStop(0,"rgba(219,205,162,.8)");aK.addColorStop(1,"rgba(219,205,162,0)");aO.fill=aK}var aG=new aB(new aa(0,0,aO.radius,aO.fill));aG.Q=aN;aG.x=aM.x+aO.x;aG.y=aM.y+aO.y;aG.V=aO.V;aG.U=aO.U;aG.draw();aG.V=aO.V+0.4;aG.draw();for(var aL=0;aL<20;aL++){aN.bP();var aF=aG.x+ag(-aO.radius,aO.radius);var H=aG.y+ag(-5,10);var aH=u(0.4,1.5);var W=u(0.05,0.8);aN.arc(aF,H,aH,0,TP);aN.fillStyle="rgba(100,100,100,"+W+")";aN.j()}},draw:function(){var W=this;var H=W.Q;W.ground.x=W.x;W.ground.y=W.y;W.ground.draw();var aF,aH,aG;H.lineWidth=0.4;H.strokeStyle="#b2bc3e";for(aF=0;aF<W.GBladeNum;aF++){aH=ag(W.x,W.width);aG=W.y;H.bP();H.J(aH,aG);H.N(aH-ag(-5,9),aG-ag(-5,4),aH-ag(-5,9),aG-2,aH-4,aG-ag(W.GLengthMin,W.GLengthMax));H.J(aH,aG);H.N(aH-ag(-5,9),aG-ag(-5,4),aH-ag(-5,9),aG-ag(-5,9),aH-4,aG-ag(W.GLengthMin,W.GLengthMax));H.stroke()}}};function ax(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.IN();i.bear.x=i.x}ax.prototype={Q:null,x:0,y:0,r:0,tree:null,bear:null,width:70,height:5000,color:"#826d3f",fill:null,chipSize:{w:4,h:2},ch5:[],numChips:200,chipPool:[],abC:[],tHO:35,tWO:2,b:[],maxNumb:155,mBw:250,m2:110,wS:[],numwS:150,player:null,canopy:null,nBn:13,n1:0,cBy:-36,bTC:false,IN:function(){var aM=this;for(var aF=0;aF<aM.numChips;aF++){var W=new V();W.rV();aM.chipPool.push(W)}aM.wS=[];for(aF=0;aF<aM.numwS;aF++){var aJ=new U();aJ.Q=aM.Q;aJ.x=ag(5,aM.width-5);aJ.y=ag(aM.y-aM.height-200,aM.y-400);aJ.size=u(0.3,0.5);aM.wS.push(aJ)}var aG=0;var aH=aM.y-110;aM.b=[];for(aF=0;aF<aM.maxNumb;aF++){var H=random()>0.5||aF===0;var aL=new r({Q:aM.Q,onLeft:H,width:ag(20,aM.mBw)});aL.x=H?aM.x-aL.width-aM.width*0.5:aM.x+aM.width-aM.width*0.5;if(aF===0){aL.y=aH}else{aL.y=aH-ag(70,aM.m2)}aL.height=aL.width*0.1;aH=aL.y;aM.b.push(aL);if(aH-aM.m2-400<aM.y-aM.height){aM.canopy=new ar({Q:aM.Q,y:aH-350});break}}var aK;while(aG!=aM.nBn){var aI=aM.b.length-1;for(aF=aI;aF>=0;aF--){aK=aM.b[aF];if(aK.hasBush&&random()>0.7){aK.B2();aG=aG+1;if(aG==aM.nBn){break}}}}aM.fill=O.X(0,0,aM.width,0);aM.fill.addColorStop(0,aM.color);aM.fill.addColorStop(0.2,n(aM.color,0.1));aM.fill.addColorStop(0.4,aM.color);aM.fill.addColorStop(1,n(aM.color,-0.4));aM.ch5=[]},LCs:function(aG){var aF=this;if(!aG){aG=50}var H,W=[];for(var aH=0;aH<aG;aH++){H=aF.chipPool.pop();aF.abC.push(H);W.push(H)}return W},draw:function(){var aP=this;var aQ=aP.Q;var aN=m;var aG,aI,aF,aR;aQ.S();aQ.rotate(0*DR);aQ.T(aP.x-aP.width*0.5,aP.y);aQ.bP();aQ.J(0,-aP.tHO);aQ.lT(aP.width,-aP.tHO);aQ.N(aP.width+aP.tWO,0,aP.width+aP.tWO+8,0,aP.width+aP.tWO,0);aQ.lT(-aP.tWO,0);aQ.N(-aP.tWO-8,0,-aP.tWO,0,0,-aP.tHO);aQ.S();aQ.J(-aP.tWO,0);aQ.N(aP.width*0.5+aP.tWO,10,aP.width*0.5+aP.tWO,10,aP.width+aP.tWO,0);aQ.Re();aQ.fillStyle=aP.fill;aQ.j();if(aP.iT){aQ.bP();aQ.J(0,-35);aQ.N(aP.width*0.5-20,-25,aP.width*0.5+20,-25,aP.width,-35);aQ.J(0,-35);aQ.N(aP.width*0.5-20,-45,aP.width*0.5+20,-45,aP.width,-35);aQ.fillStyle="rgba(239,228,201,1)";aQ.j();aQ.S();aQ.bP();aQ.rect(0,-35,aP.width,80);aQ.clip();aP.lTC.draw();aQ.Re()}aQ.Re();aQ.S();aQ.T(aP.x-aP.width*0.5,aP.y);aQ.rotate(aP.r*DR);aQ.bP();aQ.rect(0,-35,aP.width,-aP.height-aP.tHO);aQ.J(0,-35);aQ.N(aP.width*0.5-20,-25,aP.width*0.5+20,-25,aP.width,-35);aQ.fillStyle=aP.fill;aQ.j();aI=aP.wS.length;for(aG=0;aG<aI;aG++){var aJ=aP.wS[aG];aJ.draw()}aQ.bP();if(!aP.iT&&m&&ap(aN,{x:aP.x-aP.width*0.5,y:aP.y-aP.height,width:aP.width,height:aP.height},aN.radius*0.2)){var aH=false;var W=new aB(new aa(0,0,aN.radius,"rgba(239,228,201,.7)",0,180,1,1),new aa(0,0,aN.radius,"rgba(86,71,39,.7)",180,360,1,1));W.Q=aQ;W.U=0.15;W.width=aN.radius*2*W.U;W.height=W.width;W.x=aN.x+aP.width*0.5-aP.x;W.y=aN.y-aP.y;W.r=ag(-4,4);aI=aP.ch5.length;var aL=0;for(aG=0;aG<aI;aG++){if(ap(W,aP.ch5[aG],2)){aH=aP.ch5[aG];break}if(aP.ch5[aG].y==aP.cBy){aL=aL+1}if(aP.ch5[aG].U>1.2){aL=aL+1}}if(aH){aP.ch5[aG].V=aP.ch5[aG].V+0.02;aP.ch5[aG].U=aP.ch5[aG].U+0.02;if(aP.ch5[aG].U>0.65&&aP.ch5[aG].y==aP.cBy&&aP.bTC!==null){aP.bTC=true;aP.lTC=aP.ch5[aG];aP.iT=true;b(function(){aq("e").className="";b(function(){aq("e").className="show"},10);var i=aP.n1;aq("nN").innerHTML=i;aq("O").innerHTML=K(parseInt(i*500));aq("hScore").innerHTML=K(parseInt(f.hTrvd));aq("e-s").innerHTML=K(parseInt(i*500+f.hTrvd))},3000)}}else{aP.ch5.push(W)}aI=10;var aM=aP.LCs(aI);for(aG=0;aG<aI;aG++){aF=aM[aG];if(!aF){continue}aF.x=aN.x;aF.y=aN.y;aF.rV()}}aQ.S();aQ.bP();if(aP.iT){aQ.rect(0,aP.y-aP.height,aP.width,aP.height-aP.y-34);aQ.J(0,-34);aQ.N(aP.width*0.5-20,-25,aP.width*0.5+20,-25,aP.width,-34)}else{aQ.rect(0,aP.y-aP.height,aP.width,aP.height-aP.y)}aQ.clip();aI=aP.ch5.length;for(aG=0;aG<aI;aG++){aP.ch5[aG].draw()}aQ.Re();aQ.Re();var aK=ab-af;var H=false;if(!aP.iT){aI=aP.b.length;for(aG=0;aG<aI;aG++){var aO=aP.b[aG];if(aO&&aP.b[aG].y<aP.bear.y){aO.draw();if(!H){if(aO.bN&&d(aO,s)<300&&d(f,aO)<200&&aG%2==0){s.ff=aO;H=true}else{s.ff=f}}}else{aP.b[aG]=null}}aP.canopy.draw()}if(aP.bTC){L.add(aP,{prop:"r",start:0,end:-90},an,2500,Math.e4);aP.bTC=null}aI=aP.abC.length;aQ.bP();aQ.fillStyle="#eddcb4";for(aG=0;aG<aI;aG++){aF=aP.abC[aG];if(!aF){continue}aF.U9();if(aF.hasHitGround()){aP.fC.drawChip(aF);aP.chipPool.push(aF);aP.abC.splice(aG,1);continue}aQ.S();aQ.T(aF.x-aF.w*0.5,aF.y-aF.h*0.5);aQ.rotate(aF.r*DR);aQ.rect(-aF.w*0.5,-aF.h*0.5,aF.w,aF.h);aQ.Re()}aQ.j();m=null;aP.bear.draw()}};function r(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.fill=i.Q.X(0,0,0,8);i.fill.addColorStop(0,"#826D3F");i.fill.addColorStop(1,"#564629");i.bushFill=i.Q.X(0,0,0,50);i.bushFill.addColorStop(0,"rgba(68,74,35,.99)");i.bushFill.addColorStop(1,"rgba(48,54,15,1)");i.bushU=u(0.4,1);if(i.width>130){i.hasBush=true}}r.prototype={Q:null,x:10,y:14,width:100,height:8,r:0,V:1,U:1,fill:null,bushFill:"rgba(68,74,35,1)",bV:0.5,bushU:0.5,onLeft:true,hasBush:false,hBN:true,bN:null,B2:function(){var H=this;var i=H.onLeft?H.x:H.x+H.width;H.bN=new ad({x:i,y:H.y});H.ss5=an;H.ST=an-H.ss5;H.hBN=true;H.INbV=H.bV;H.ss1=ag(5000,12000);H.ss2=an+H.ss1;H.ss6=1000;H.ss4=an+H.ss6},draw:function(){var H=this;var i=H.Q;var W=new aA(function(){i.bP();i.S();if(H.onLeft){i.T(H.x,H.y);i.lT(H.width,0);i.lT(H.width,H.height);i.lT(0,H.height*0.4);i.lT(0,0)}else{i.T(H.x,H.y);i.lT(H.width,0);i.lT(H.width,H.height*0.4);i.lT(0,H.height);i.lT(0,0)}i.fillStyle=H.fill;i.j();if(an>H.ss2){H.ss5=an;H.ss2=an+H.ss1;H.ss4=an+H.ss6}if(H.bN&&an<H.ss4){var aG=100;H.ST=an-H.ss5;if(!H.ss3){H.bV=h(H.ST,H.INbV,H.INbV-0.02,aG,Math.e2)}else{H.bV=h(H.ST,H.INbV-0.02,H.INbV,aG,Math.e2)}if(H.bV>2){H.bV=H.INbV}if(H.ST>aG&&!H.ss3){H.ST=0;H.ss3=true}if(H.ST>aG&&H.ss3){H.ss5=an;H.ST=0;H.ss3=false}}if(H.width>130){i.S();i.scale(H.onLeft?1:-1,1);i.T(H.onLeft?0:-H.width,0);i.bP();var aF=90;var aI=(H.width/250)*0.8*H.bV;var aH=H.bushU;i.J(aF,0);i.N((aF-130)*aI,-50*aH,(aF-170)*aI,-30*aH,(aF-120)*aI,-10*aH);i.N((aF-230)*aI,0*aH,(aF-260)*aI,40*aH,(aF-220)*aI,40*aH);i.N((aF-290)*aI,84*aH,(aF-160)*aI,84*aH,(aF-150)*aI,54*aH);i.N((aF-160)*aI,34*aH,(aF+20)*aI,124*aH,(aF-90)*aI,14*aH);i.N((aF-60)*aI,95*aH,(aF+20)*aI,85*aH,(aF+10)*aI,25*aH);i.N((aF+30)*aI,15*aH,(aF+50)*aI,65*aH,aF,0);i.fillStyle=H.bushFill;i.j();i.Re()}i.Re()});W.draw();if(H.hBN&&H.bN){H.bN.draw()}}};function ad(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.fill=i.Q.X(0,0,0,8);i.fill.addColorStop(0,"#8F7442");i.fill.addColorStop(1,"#7F6331");i.eF=i.Q.X(0,0,0,5);i.eF.addColorStop(0,"rgb(255,255,255)");i.eF.addColorStop(1,"rgb(140,140,140)")}ad.prototype={Q:null,x:0,y:0,r:0,opacity:1,fill:"#7F6331",eF:"#FFF",h:true,isFound:false,image:null,r3:function(W,i){var H=this;H.revealsT=an;H.iY=H.y;H.x=W.onLeft?i-44:i;H.h=false;H.isFound=true;H.revea=true;H.branch=W},draw:function(){var H=this;if(H.h){return}if(H.revea){var W=400;var aF=1200;H.rTi=an-H.revealsT;if(!H.rVe){H.y=h(H.rTi,H.iY-10,H.iY-20,W,Math.e2)}if(H.fadeStart){H.opacity=h(H.rTi,4,0,aF,Math.e4)}if(H.rTi>W&&!H.rVe){H.y=H.iY-20;H.revealsT=an;H.rTi=0;H.rVe=true;H.fadeStart=true}if(H.rTi>aF&&H.fadeStart){H.draw=function(){};H.branch.bN=null;delete H.branch.bN;return}}var i=H.Q;i.S();i.globalAlpha=H.opacity;if(H.I){i.S();i.T(H.x,H.y);i.O(H.I,0,0,44,30,0,0,44,30);i.Re()}else{i.S();i.T(H.x,H.y);i.scale(1,0.6);i.bP();i.arc(0,0,20,0,TP);i.fillStyle=H.fill;i.j();i.Re();i.S();i.T(H.x,H.y-4);i.scale(0.9,0.3);i.bP();i.arc(0,0,15,0,TP);i.fillStyle="rgba(0,0,0,.3)";i.j();i.Re();i.S();i.S();i.T(H.x,H.y-4);i.scale(0.9,0.3);i.bP();i.arc(0,0,15,0,TP);i.arc(0,-8,15,0,TP);i.arc(0,-18,20,0,TP);i.fillStyle="rgba(0,0,0,0)";i.j();i.Re();i.clip();i.S();i.T(H.x,H.y-4);i.scale(0.6,1);i.bP();i.arc(-13,0,7,0,TP);i.arc(12,-2,7,0,TP);i.fillStyle=H.eF;i.j();i.Re();i.S();i.T(H.x,H.y-4);i.scale(0.6,1);i.bP();i.arc(0,-2,10,0,TP);i.shadowColor="rgba(0,0,0,.3)";i.shadowBlur=4;i.shadowOffsetX=0;i.shadowOffsetY=0;i.fillStyle=H.eF;i.j();i.Re();i.Re()}i.Re()}};function ar(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.fill=i.Q.X(0,0,0,50);i.fill.addColorStop(0,"rgba(68,74,35,1)");i.fill.addColorStop(1,"rgba(48,54,15,1)")}ar.prototype={Q:null,x:0,y:0,r:0,V:5,U:5,fill:"rgba(68,74,35,.98)",draw:function(){var aF=this;var W=aF.Q;W.S();W.scale(1,1);W.T(aF.x,aF.y);var H=200;var aJ=-40;var aI=3;var aH=5;for(var aG=0;aG<5;aG++){W.bP();W.J(H,0);W.N((H-130)*aI,(-50+aJ)*aH,(H-170)*aI,(-60+aJ)*aH,(H-120)*aI,(-10+aJ)*aH);W.N((H-230)*aI,(0+aJ)*aH,(H-260)*aI,(40+aJ)*aH,(H-220)*aI,(40+aJ)*aH);W.N((H-290)*aI,(84+aJ)*aH,(H-160)*aI,(84+aJ)*aH,(H-150)*aI,(54+aJ)*aH);W.N((H-160)*aI,(34+aJ)*aH,(H+20)*aI,(124+aJ)*aH,(H-90)*aI,(14+aJ)*aH);W.N((H-60)*aI,(95+aJ)*aH,(H+20)*aI,(85+aJ)*aH,(H+10)*aI,(25+aJ)*aH);W.N((H+30)*aI,(15+aJ)*aH,(H+50)*aI,(15+aJ)*aH,H,0);H=H+100;W.fillStyle=aF.fill;W.j()}W.Re()}};function U(i){this.Q=O;for(var H in i){this[H]=i[H]}this.r=ag(0,360);this.isKnot=random()<0.2}U.prototype={Q:null,x:10,y:14,size:0.5,r:0,V:1,U:1,isKnot:false,draw:function(){var H=this;var i=H.Q;var W=new aB(new aA(function(){if(H.isKnot){var aH=1;var aG=H.size;var aL=0;var aJ=0;i.S();i.bP();i.T(H.x,H.y);i.rotate(H.r*DR);for(var aI=0;aI<80;aI++){var aK=0.1*aI;var aF=aL+(aH+aG*aK)*Math.cos(aK);var aM=aJ+(aH+aG*aK)*Math.sin(aK);i.lT(aF,aM)}i.strokeStyle="rgba(178,160,123,.4)";i.stroke();i.Re()}else{i.S();i.bP();i.T(H.x,H.y);i.J(0,0);i.lT(0,10);i.lT(3,10);i.J(3,3);i.lineWidth=1;i.strokeStyle="rgba(68,57,33,.2)";i.stroke();i.Re()}}));W.draw()}};function V(i){for(var H in i){this[H]=i[H]}}V.prototype={x:0,y:0,vx:0,vy:0,vr:0,r:0,w:6,h:2,gvY:4,color:"#eddcb4",hitLimit:3,curHits:0,isAttached:true,gY:370,rV:function(){var i=this;i.vy=u(-5,5);i.vx=u(-3,3);i.vr=u(-8,8)},U9:function(){var i=this;var H=(an-at)*0.002;i.vy=i.vy+i.gvY*H;i.x=i.x+i.vx;i.y=i.y+i.vy;i.r=i.r+i.vr},isOutofBounds:function(){return this.x<0||this.x>Z||this.y<0||this.y>this.gY},hasHitGround:function(){return this.y>this.gY}};function I(i){this.Q=O;for(var H in i){this[H]=i[H]}}I.prototype={Q:null,drawChip:function(i){this.count=this.count+1;var H=this.Q;H.fillStyle=Math.random()>0.5?"#d3c198":"#eddcb4";H.S();H.bP();H.T(i.x-i.w*0.5,i.y-i.h*0.5+u(-5,5));H.rotate(i.r*DR);H.rect(-i.w*0.5,-i.h*0.5,i.w,i.h);H.j();H.Re()}};function ae(i){this.Q=O;for(var H in i){this[H]=i[H]}this.IN()}ae.prototype={Q:null,x:10,y:14,width:400,height:50,r:0,V:1,U:1,nT:400,trees:[],image:null,cL:0,tX:0.5,tY:0.5,IN:function(){var W=this;var aF;W.trees=[];for(aF=0;aF<W.nT;aF++){var H=new Q({random:true,y:W.y,cL:W.cL,V:W.tX,U:W.tY});H.Q=W.Q;W.trees.push(H)}},gAI:c,draw:function(){var aF,W=this;for(aF=0;aF<W.nT;aF++){var H=W.trees[aF];H.draw()}}};function Q(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}if(i.random){i.V=u(i.V-0.2,i.V+0.2);i.U=i.V;i.x=ag(0,Z)}}Q.prototype={Q:null,x:100,y:0,gY:350,V:0.3,U:0.3,random:false,cL:0,draw:function(){var H=this;var i=H.Q;i.S();var W=new aB(new aA(function(){i.J(0,0);i.N(10,25,10,55,50,50);i.N(25,60,25,60,0,55);i.N(-25,60,-25,60,-50,50);i.N(-10,55,-10,25,0,0)}));W.x=H.x*(1/H.V);W.y=(H.gY+H.y)*(1/H.U);i.S();i.scale(H.V,H.U);i.T(0,-280);i.bP();i.rect(W.x-5,W.y+80,10,300);i.fillStyle="#7A663B";i.j();i.bP();W.Q=i;W.V=0.5;W.draw();W.y=W.y+20;W.V=0.6;W.draw();W.y=W.y+20;W.V=0.8;W.U=1.2;W.draw();W.y=W.y+20;W.V=1;W.U=1.5;W.draw();i.shadowColor="rgba(0,0,0,.06)";i.shadowBlur=2;i.shadowOffsetX=2;i.shadowOffsetY=0;i.fillStyle=Math.random()>0.5?n("#7b8740",0+H.cL):n("#7b8740",-0.05+H.cL);i.j();i.Re()}};function J(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.BF=O.X(0,0,0,20);i.BF.addColorStop(0,"#CFD0F2");i.BF.addColorStop(1,"#9292DE");i.bwF=n("#9292DE",-0.1);i.yHover=0;i.fIv=an;i.wU=false}J.prototype={Q:null,x:0,y:0,r:0,vx:0,vy:0,follow:null,V:0.5,U:0.5,U9:function(){var aF=this;var W=aF.ff.x;if(aF.ff.onLeft==false){W=W+aF.ff.width}var H=aF.ff.y;aF.x=aF.x+(W+30-aF.x)*0.02;aF.y=aF.y+(H-20-aF.y)*0.02;aF.yHover=aF.yHover+0.03;aF.y=aF.y+1*Math.sin(aF.yHover);aF.x=aF.x+1*Math.sin(aF.yHover+PI*0.25);if(aF.ff.x<aF.x&&aF.V>0){aF.V=abs(aF.V)*-1}else{if(aF.ff.x>aF.x&&aF.V<0){aF.V=abs(aF.V)}}var i=(aF.ff.y-20)-aF.y;if(abs(i)>10&&abs(i)<60){aF.r=i*0.4}},draw:function(){var W=this;W.U9();var H=W.Q;var i=an-W.fIv;if(i>60){W.wU=!W.wU;W.fIv=an}H.S();H.T(W.x,W.y);H.scale(W.V,W.U);H.rotate(W.r*DR);H.bP();H.J(0,8);H.lT(-23,25);H.J(-4,8);H.lT(-30,21);H.lineWidth=2.3;H.strokeStyle="#A52307";H.stroke();H.J(15,-9);H.lT(33,-2);H.lT(8,4);H.fillStyle="#FF6600";H.j();H.bP();H.J(8,4);H.lT(30,-2);H.lT(8,12);H.fillStyle="#C74519";H.j();H.g();H.S();H.bP();if(W.wU){H.rotate(30*DR)}else{H.rotate(0*DR)}H.bP();H.scale(1,0.2);H.T(-15,-5);H.arc(0,0,20,0,TP);H.fillStyle=W.bwF;H.j();H.Re();H.bP();H.arc(0,0,20,0,TP);H.fillStyle=W.BF;H.j();H.S();H.bP();if(W.wU){H.rotate(15*DR)}else{H.rotate(-15*DR)}H.bP();H.scale(1,0.25);H.T(-20,6);H.arc(0,0,20,0,TP);H.fillStyle=W.BF;H.j();H.Re();H.bP();H.arc(12,-4,3.8,0,TP);H.fillStyle="#000";H.j();H.bP();H.arc(13,-3,1.7,0,TP);H.fillStyle="#FFF";H.j();H.Re()}};function p(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.bearFill=O.X(0,0,0,200);i.bearFill.addColorStop(0,"#333");i.bearFill.addColorStop(1,"#111");i.tF=O.X(0,0,0,25);i.tF.addColorStop(0,"#222");i.tF.addColorStop(1,"#333");i.bwF=n("#000",-0.1);i.yHover=0;i.CIn=an;i.aY=0;i.bearUp=true;i.sT=an;i.dur=1000}p.prototype={Q:null,x:0,y:400,r:0,vx:0,vy:2,follow:null,V:1,U:1,armInterval:1000,lY:215,llY:215,start:function(){var i=this;i.y=250;i.hsS=true},U9:function(){var H=this;var i=an-H.sT;if(H.bearUp){H.aY=h(i,0,-40,H.dur,Math.e2);H.lY=h(i,215,240,H.dur,Math.e3);if(H.hsS){H.y=h(i,H.y,H.y-H.vy,H.dur,Math.e2)}H.llY=H.lY}else{H.aY=h(i,-40,0,H.dur,Math.e3);H.lY=h(i,240,215,H.dur,Math.e2)}if(i>H.dur){H.bearUp=!H.bearUp;H.sT=an}},draw:function(){var H=this;H.U9();if(!H.hsS){return}var i=H.Q;i.S();i.T(H.x,H.y);i.scale(H.V,H.U);i.rotate(H.r*DR);i.S();i.bP();i.J(-40,55);i.N(-70,35,-70,25,-50,H.aY);i.J(40,55);i.N(70,35,70,25,50,H.aY);i.lineWidth=40;i.lineCap="round";i.strokeStyle="#222";i.stroke();i.Re();i.S();i.bP();i.J(-30,155);i.N(-40,185,-40,185,-30,H.lY);i.J(30,155);i.N(40,185,40,185,30,H.lY);i.lineWidth=40;i.lineCap="round";i.strokeStyle="#222";i.stroke();i.Re();i.S();i.bP();i.J(0,-45);i.lT(11,-38);i.lT(-11,-38);i.fillStyle="#412C1C";i.j();i.Re();i.S();i.scale(1,0.7);i.bP();i.arc(0,-40,19,0,TP);i.fillStyle="#A88E62";i.j();i.Re();i.bP();i.arc(0,0,37,0,TP);i.arc(0,140,66,0,TP);i.J(-37,0);i.lT(37,0);i.lT(66,135);i.lT(-66,135);i.fillStyle=H.bearFill;i.j();i.S();i.T(0,200);i.bP();i.arc(-10,0,12,0,TP);i.fillStyle=H.tF;i.j();i.Re();i.bP();i.arc(-30,-18,11,0,TP);i.arc(30,-18,11,0,TP);i.fillStyle="#333";i.j();i.g();i.Re()}};function l(H){var i=this;i.Q=O;for(var W in H){i[W]=H[W]}i.textY=0;if(i.m1){i.textY=i.height*0.5}if(i.m2){i.textY=i.height*0.5-10}if(i.m3){i.textY=i.height*0.5-20}}l.prototype={Q:null,x:0,y:0,textY:0,m1:null,m2:null,m3:null,width:200,height:100,V:1,U:1,opacity:1,draw:function(){var W=this;var H=W.Q;if(W.I){var i=W.x-20;var aF=W.y-W.height-20;H.S();H.globalAlpha=W.opacity;H.O(W.I,0,0,W.width,W.height,i,aF,W.width,W.height);i+=40;aF+=W.height-2;H.bP();H.J(i,aF);H.lT(i+20,aF);H.lT(i-5,aF+20);H.lT(i,aF);H.fillStyle="#FFF";H.j();H.g();H.Re()}else{H.roundRect(0,0,W.width,W.height,10);H.fillStyle="#FFF";H.j();H.fillStyle="#333";H.textBaseline="middle";H.font="13pt Comic Sans MS";H.textAlign="center";if(W.m1){H.fillText(W.m1,W.width*0.5,W.textY)}if(W.m2){H.fillText(W.m2,W.width*0.5,W.textY+20)}if(W.m3){H.fillText(W.m3,W.width*0.5,W.textY+40)}}}};function az(i){this.Q=O;for(var H in i){this[H]=i[H]}}az.prototype={el:null,score:0,U9Score:function(H){var i=this;i.el.innerHTML=K(H)}};function aa(aI,aG,i,aJ,H,aF,aH,W){this.x=aI;this.y=aG;this.z=0;this.radius=i;this.fill=aJ;this.As=H?H*DR:0;this.AsSs=aF?aF*DR:TP;this.V=aH?aH:1;this.U=W?W:1;this.Q=O}aa.prototype={Q:null,draw:function(){var i=this.Q;i.S();i.bP();i.scale(this.V,this.U);i.arc(this.x,this.y,this.radius,this.As,this.AsSs,false);i.fillStyle=this.fill;i.j();i.Re()}};function w(aF,H,i,aG,aH,aI){var W=this;W.x=aF;W.y=H;W.z=0;W.width=i;W.height=aG;W.r=aH?aH*DR:0;W.fill=aI;W.Q=O}w.prototype={Q:null,draw:function(){var i=this.Q;i.S();i.T(this.x,this.y);i.rotate(this.r);i.bP();i.rect(0,0,this.width,this.height);i.fillStyle=this.fill;i.j();i.Re()}};function aA(i){this.Q=O;this.shape=i}aA.prototype={Q:null,x:0,y:0,z:0,r:0,V:1,U:1,draw:function(){O.S();O.T(this.x,this.y);O.rotate(this.r*DR);O.scale(this.V,this.U);this.shape();O.Re()}};function aB(W){this.s=arguments;var H=arguments.length;if(H){this.s=[];for(var aF=0;aF<H;aF++){this.s.push(arguments[aF])}this.s.sort()}this.Q=O}aB.prototype={Q:null,x:0,y:0,z:0,r:0,V:1,U:1,s:null,draw:function(){var W=this.Q;W.S();W.T(this.x,this.y);W.rotate(this.r*DR);W.scale(this.V,this.U);var H=this.s.length;if(H){for(var aF=0;aF<H;aF++){this.s[aF].Q=W;this.s[aF].draw()}}else{this.s.draw()}W.Re()},autoZ:function(){var H=this.s.length;if(H){for(var W=0;W<H;W++){this.s[W].z=W}}},refreshOrder:function(){if(this.s.length){this.s.sort(function(H,i){return(H.z-i.z)})}}};function n(aG,H){aG=String(aG).replace(/[^0-9a-f]/gi,"");if(aG.length<6){aG=aG[0]+aG[0]+aG[1]+aG[1]+aG[2]+aG[2]}H=H||0;var W="#",aH,aF;for(aF=0;aF<3;aF++){aH=parseInt(aG.substr(aF*2,2),16);aH=Math.round(Math.min(Math.max(0,aH+(aH*H)),255)).toString(16);W+=("00"+aH).substr(aH.length)}return W}function ap(W,i,H){if(!H){H=0}O.S();O.T(i.x,i.y);O.bP();O.rect(0,0,i.width,i.height);O.fillStyle="rgba(255,255,255,.05)";O.Re();return(W.x>i.x-H&&W.x<i.x+i.width+H&&W.y>i.y-H&&W.y<i.y+i.height+H)}function al(){var i=this;i.tweens=[]}al.prototype={add:function(aF,aG,H,i,W){this.tweens.push({obj:aF,sT:H,twP:aG,dur:i,ease:W})},U9:function(aK){var aG=this;var aH,W,aI,aF,aJ,H=aG.tweens.length;for(aH=0;aH<H;aH++){W=aG.tweens[aH];if(!W){continue}aI=W.obj;aF=aK-W.sT;aJ=W.twP;aI[aJ.prop]=h(aF,aJ.start,aJ.end,W.dur,W.ease);if(aK>W.sT+W.dur){aG.tweens[aH]=null}else{if(aK>W.sT){aI.draw()}}}aG.cleanup()},offset:function(aH){var aF=this;var aG,W,H=aF.tweens.length;for(aG=0;aG<H;aG++){W=aF.tweens[aG];if(!W){continue}W.sT=W.sT+aH}},cleanup:function(){var H=this;var i=H.tweens.length;for(P=0;P<i;P++){if(!H.tweens[P]){H.tweens.splice(P,1)}}}};function h(aG,H,i,W,aF){return H+((H>i?-1:1)*aF(aG,0,abs(H-i),W))}function d(aF,W){var i=0;var H=0;i=W.x-aF.x;i=i*i;H=W.y-aF.y;H=H*H;return Math.sqrt(i+H)}function ag(H,i){return Math.floor(random()*(i-H+1))+H}function u(H,i){return(random()*(i-H)+H)}function aq(i){return document.getElementById(i)}function b(H,i){return setTimeout(H,i)}function ak(i,W){var H=document.createElement("canvas");H.setAttribute("width",i);H.setAttribute("height",W);return H}function c(){var H=this;var aF=H.Q.canvas.toDataURL();var i=new Image();var W=H.Q.canvas.getAttribute("d1t");if(!W){H.Q.canvas.setAttribute("d1t",1)}else{W=parseInt(W)+1;H.Q.canvas.setAttribute("d1t",W)}i.onload=function(){H.I=i;var aH=H.Q.canvas.getAttribute("d1l");if(!aH){H.Q.canvas.setAttribute("d1l",1)}else{aH=parseInt(aH)+1;H.Q.canvas.setAttribute("d1l",aH)}var aI=parseInt(H.Q.canvas.getAttribute("d1t"));if(aI==aH){var aG=new CustomEvent("ll");document.dispatchEvent(aG)}};i.src=aF}function K(i){return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function av(W,aF){var i=W.getContext("2d");var aG=W.toDataURL();var H=new Image();H.onload=function(){var aH=new CustomEvent("IL"+aF);aH.name=aF;aH.I=H;document.dispatchEvent(aH)};H.src=aG}return{IN:function(){ah()},replay:function(){ah();aq("e").className=""},tgp:function(){v()}}}());window.onload=game.IN;var PI=Math.PI,TP=PI*2,DR=PI/180;window.requestAnimFrame=(function(a){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)}})();var abs=Math.abs;var random=Math.random;var ceil=Math.ceil;var round=Math.round;var uu=CanvasRenderingContext2D.prototype;uu.O=uu.drawImage;uu.J=uu.moveTo;uu.j=uu.fill; uu.g=uu.closePath;uu.N=uu.bezierCurveTo;uu.bP=uu.beginPath;uu.lT=uu.lineTo;uu.S=uu.save;uu.Re=uu.restore;uu.Z=uu.clearRect;uu.T=uu.translate;uu.X=uu.createLinearGradient;uu.R=uu.rotate;uu.roundRect=function(a,f,b,d,e){var c=this;if(b<2*e){e=b/2}if(d<2*e){e=d/2}c.bP();c.J(a+e,f);c.arcTo(a+b,f,a+b,f+d,e);c.arcTo(a+b,f+d,a,f+d,e);c.arcTo(a,f+d,a,f,e);c.arcTo(a,f,a+b,f,e);c.g();return c};Math.e1=function(e,a,g,f){return g*e/f+a};Math.e4=function(e,a,g,f){e/=f;return g*e*e*e+a};Math.e2=function(e,a,g,f){e/=f;e--;return g*(e*e*e+1)+a};Math.e3=function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e*e+a}e-=2;return g/2*(e*e*e+2)+a};</script><style type="text/css"> body{background: #000;perspective: 150px;font-family: "Comic Sans MS";transform-style: preserve-3d;}#ctr{width: 800px;height: 400px;position: relative;overflow: hidden;}#ctr > canvas,#score{position: absolute;}#score{color: #FFF;margin: 10px 15px;font-size: 20px;font-weight: bold;}#cv{background: rgba(0,0,0,.5);width: 100%;height: 100%;position: absolute;opacity: 0;transition: opacity .5s ease-out 0s;}#cv.on{opacity: 1;}#cv.hide{display: none;}#e.show{transform: translateY(0px);}#e.hide{display: none;}#e{position: absolute;width: 300px;top: 15px;margin: auto -150px;left: 50%;text-align: center;background: rgba(255,255,255,1);border-radius: 5px;box-shadow: 0px 10px 10px -3px rgba(0,0,0,.3),0px -25px 50px -16px rgba(0,0,0,.2) inset;padding: 10px 0;transform: translateY(-250px);transition: all .9s cubic-bezier(.85,-0.53,.62,.93) 0s;}#e > *{margin: 0;color: #575757;}#e h2{font-size: 34px;margin: 20px 0 0;letter-spacing: -2px;}#e h2:before{content: "Total Score";position: absolute;font-size: 14px;margin-top: -9px;letter-spacing: 0;text-align: center;width: 100%;left: 0;}#e a{background: #A2B378;color: #FFF;text-decoration: none;padding: 2px 10px;border-radius: 10px;margin: 10px auto 0;display: block;box-shadow: 0px -7px 20px 0px rgba(0,0,0,.2) inset;width: 100px;}#e a:hover{box-shadow: 0px 0px 20px 0px rgba(0,0,0,.2) inset;}#e h3{font-size: 22px;margin: 0 0 15px;}#e h4{font-size: 17px;text-align: left;color: #999;line-height: 19px;margin: 0 30px;letter-spacing: -1px;}#e h4 span{display: block;float: right}#dd{color: #FFF;}</style></head><body><div id="ctr"><canvas id="bg" width='800' height="400"></canvas><canvas id="tree" width='800' height="400"></canvas><canvas id="chips" width='800' height="400"></canvas><canvas id="p" width='800' height="400"></canvas><canvas id="terry" width='800' height="400"></canvas><canvas id="bear" width='800' height="400"></canvas><div id="score"></div><div id="cv"></div><section id="e" class="hide"><h3>TIMBER!!</h3><h4>Nests Found (<b id="nN"></b> x 500) <span id="O"></span></h4><h4>Height Bonus <span id="hScore"></span></h4><h2 id="e-s">0</h2><a href="javascript:game.replay()">Play Again?</a></section></div><p id="dd">Move: W,A,S,D<br/>Chop/Collect: space</p></body></html>