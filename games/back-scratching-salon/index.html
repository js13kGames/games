<!doctype html><title>Back Scratching Salon</title><meta name=description content="You are an owner of Back Scratching Salon. Scratch itchy backs of your customer to earn bilions of $!"><meta name=monetization content=$coil.xrptipbot.com/cgvxd5YaS0yHvNNXPMV5jw><meta name=viewport content="width=device-width,user-scalable=yes"><style>body,html{font-family:monospace;font-size:1.2em;height:100%;margin:0;overflow:hidden;padding:0;width:100%}button{background:#444;color:#fff;font-size:1em}button:hover{transform:scale(1.05)}button::-moz-focus-inner{border:0}button:focus{outline:0}.hidden{display:none!important}.inactiveCover{filter:brightness(50%)!important}.inactiveCover *{animation-play-state:paused!important}.playScreen{width:100%;height:100%}.playScreen,.titleScreen{user-select:none;-webkit-user-select:none}.modal{position:fixed;z-index:3;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4)}.modal>div{color:#fff;background-color:#777;margin:auto;padding:20px;width:80%}.manual>div{background-color:#fff;color:#000;overflow-y:auto;height:70%}.modal>div>textarea{display:block;margin:5px;width:95%}.manual>div>button{display:block;margin-top:20px}.customerContainer{width:550px;height:calc(100% - 170px);position:relative;display:inline-block;background:radial-gradient(circle,rgba(238,174,202,.3) 0,rgba(68,37,148,.9) 100%)}.customer{transition:filter 1s}.customer>*{left:50%;transform:translateX(-50%);position:absolute;--head-top:130px}.head{top:var(--head-top);width:240px;height:270px;background:var(--skin-color);border-radius:40%;z-index:1}.hair{top:var(--head-top);width:240px;background:var(--skin-color);filter:invert(80%);height:260px;border-radius:80px}.hair.long{height:400px;border-radius:50px 50px 90% 90%}.ears{top:245px;display:inline-block;background:var(--skin-color);width:290px;height:75px;border-radius:20px 20px 50px 50px}.neck{top:calc(var(--head-top) + 225px);width:90px;height:115px;border-radius:36px;background:var(--skin-color);animation:breath 2s infinite alternate}.spot{display:inline-block;width:25px;height:25px}.back{cursor:grabbing;top:calc(var(--head-top) + 300px);border-radius:90px;background:var(--skin-color);width:300px;height:500px;animation:breath 2s infinite alternate;overflow:hidden}.inactiveCover .back{cursor:default}.break{background:#fcf59b;filter:brightness(90%);transform:rotate(-5deg);border-bottom-right-radius:70px 20px;border-top-left-radius:5px 30px;color:#667;font-size:3em;margin-left:50px;mix-blend-mode:soft-light;padding:50px;position:absolute;top:50%;z-index:2}.break>p{transform:scale(-1,1)}.backToWork{font-size:.8em;height:30px;cursor:pointer;color:#00f900;animation:pulsation 1s infinite alternate!important}.backToWork:after{content:'\00a0\00a0\21A9'}.takeBreak{background-image:linear-gradient(315deg,#a55c1b 0,#000 74%);bottom:0;color:#fff;outline:5px solid #000;padding:10px;position:absolute;text-align:center;transform:rotate(5deg)}.takeBreak:hover{height:+10%;cursor:pointer}.hud{border:10px solid #333}.hudBar{height:150px;bottom:0;position:absolute;width:calc(100% - 20px);background:linear-gradient(45deg,silver 0,#fff 50%,grey 100%)}#progressBar{margin:10px;text-align:center;border:5px solid #686868;background-color:#000}#satisfyBar{height:30px;box-shadow:0 0 5px 5px green;background:linear-gradient(0deg,#3cff00 0,#00ffa6 50%,#3cff00 100%)}.hudBar>div:not(#progressBar){background:#000;border:5px solid #686868;color:#00f900;display:inline-block;font-size:24px;margin:10px;padding:5px}.cmd{display:inline;width:9em}.cmd>span{animation:blink 1s step-end infinite}.money:before{content:'$'}.menu{cursor:pointer;left:10px;position:absolute;top:10px;z-index:2;border-radius:5px;padding:3px;background:#999}.menu>p,.showShop{display:inline-block;filter:drop-shadow(0 0 3px #000);font-size:50px;margin:5px}.showShop{display:none}.menu>.unwindMenu{display:none}.menu>:hover{transform:scale(1.05)}.backToTitle{filter:none!important}.backToTitleConfirm>div{width:min-content;white-space:nowrap}.backToTitleConfirm>div>button{display:initial!important}.management{width:calc(100% - 560px);display:inline-block;height:calc(100% - 170px);float:right;border-left:10px solid #333}.tabs{background:#222}.tabs>button{border:10px solid #333;color:#000;cursor:pointer;display:table-cell;height:70px;font-size:24px;font-weight:700;letter-spacing:3px;margin-bottom:-10px}.tabs>button:hover{transform:initial}.tabs>.current{border-bottom:10px solid transparent}.tabs>.close{display:none}.management>div:not(.tabs){border-top:10px solid #333;overflow-y:auto;height:calc(100% - 70px);border-right:10px solid #333}.management>div:not(.tabs):not(.current){display:none}.management .powerUps{background:#f55}.management .equipment{background:#7474ff}.management .personnel{background:#4f8}.item{width:400px;position:relative;margin:10px;height:200px;display:inline-table;background-image:linear-gradient(315deg,#a38560 0,#e0d4ae 74%)}.item>h1{margin:5px;text-decoration:underline}.item>p{margin:5px}.item>.bottomRow{position:absolute;bottom:0;margin:20px}.item>.bottomRow>*{display:inline;margin:5px}.price,:not(.personnel)>div>div>.amount{border:3px solid #555;background:#000;padding:5px;color:#00f900}.powerUps :not(#hands)>div>.amount:after{content:' [+'attr(data-worth) ']'}.equipment .amount:after{content:' (+ $'attr(data-worth) ')'}.price:before{content:'$'}.personnel .price:before{content:'Wage: $'}.titleScreen{text-align:center;overflow-x:hidden;overflow-y:auto;width:100%;height:100%;background-image:repeating-linear-gradient(45deg,#fff 0 35px,#eee 35px 70px)}.titleScreen button{background:0 0;text-shadow:0 0 5px #b4e3ff;border:none;display:block;font-size:3em;margin:10px 15%;padding:10px;animation:bri 3s infinite alternate;color:#000}.titleScreen .menu{all:initial}.titleScreen>.customer{--skin-color:#ffcb3a;position:absolute;right:25%;top:30%}.newGameWarning{padding-top:40vh}.newGameWarning button{background:#444;color:#fff;display:inline;font-size:1em}#title{animation:pulsation 10s infinite alternate;filter:drop-shadow(0 0 10px #b4e3ff);font-size:6em;margin:100px}#title>p{font-size:.3em}#title a{color:#444}#version{left:10px;bottom:0;position:absolute}.settingsWin label{display:block}.settingsWin button{margin-top:20px;padding:10px;background:#555}@keyframes breath{to{transform:translateX(-50%) scale(1.05)}}@keyframes pulsation{to{transform:scale(1.1)}}@keyframes blink{67%{opacity:0}}@keyframes bri{50%{text-shadow:0 0 15px #005182}}@media (max-device-width:1200px),(max-device-height:890px){*{animation:initial!important}.hudBar>div{margin:2px!important;font-size:1em!important}.cmd{width:initial}.customer{transform:scale(.5)}.customerContainer{width:100%}.showShop{position:absolute;display:initial;right:10px;background:#ddd;top:5px;border-radius:5px;padding:3px}.menu>p{font-size:40px}.menu>p:not(.unwindMenu){display:none}.menu>.unwindMenu{font-size:45px;display:initial!important}.break{top:20%;font-size:2em}.backToTitleConfirm>div{width:initial;white-space:initial;text-align:center}.backToTitleConfirm>div>button{margin:5px}.management{float:left;width:calc(100% - 10px)}.tabs>button{display:block;height:50px;margin-bottom:-10px;width:100%;border-left:none}.tabs>button.current:before{content:'>'}.tabs>.close{color:#999;display:initial}.management>div:not(.tabs){height:calc(100% - 170px)}.management .item{width:calc(100% - 40px)}.titleScreen button{font-size:1em}.titleScreen>.customer{transform:scale(.5);top:50%}#title{text-align:center;word-spacing:100vw;font-size:3em;margin:40px auto}#title>p{word-spacing:initial}}</style><div class="settingsWin modal hidden"><div class=hud><label><input type=checkbox name=autoMute> Auto mute</label><label><input type=checkbox name=autoSave> Auto save</label><label><input type=checkbox name=skipTitle> Skip title screen</label><label><input type=checkbox name=autoPause> Start with taking a break</label><button onclick='save("settings",s),document.querySelector(".settingsWin").toggle()'>CLOSE AND SAVE</button></div></div><div class="exportWin modal hidden"><div class=hud><textarea readonly></textarea><button onclick='document.querySelector(".exportWin").toggle()'>CLOSE</button></div></div><div class="importWin modal hidden"><div class=hud><textarea></textarea><button id=loadImported>LOAD</button><button onclick='document.querySelector(".importWin").toggle()'>CLOSE</button></div></div><div class="manual modal hidden"><div class=hud><i>According to the fashion of AAA gaming manuals this is just boring black on white text</i><p>You are the owner of this beautiful salon where your customers can deal with their itching problems.<p>To earn your first money just scratch back of your first customer. If you aren't on mobile, then to do so click on the customer's back and move mouse over it.<p>On the left you can see a <b>shop</b> (if you are on mobile, click on the shopping card in top right).<p><b>Power Ups</b> are for you. You get getter at scratching<p><b>Equipment</b> are machines to earning money when you are lazing around.<p><b>Personnel</b> is there to aid you as you only know how to scratch backs.<p>In Power Ups and Equipment items have two labels next to buy button:<ul><li>Your currently owned amount of item and how much each of them will give you (power ups: scratching efficiency; equipment: money/second),<li>The cost of buying the next such item.</ul><p>If you are not working, then take a break, so customers won't wait for you. For every customer who doesn't get even a little bit of satisfaction, you will lose 10% of your money.<p>One of the first things you will want to do is to hire a janitor. Without him your place will get dirty and Centers for Disease Control and Prevention will give you a enormous fine.<p>If by payday you will not have enough money to pay your employees, all of them will quit.<p>On the bottom you can see control panel:<ul><li>First row: satisfy bar - how much your customer is satisfied,<li>Second row: customer timer, CMD messages, time to next tax, time to next payday, your money.</ul><p>The rest you will get from reading descriptions<p>Have fun!</p><br>Back Scratching Salon is a game created by <a href=https://joren.ga>Jorengarenar</a> for <a href=//js13kgames.com/2019/ >js13kGames 2019</a> competition.<br>Please, report technical problems <a href=https://github.com/Jorengarenar/BackScratchingSalon/issues>here</a><button onclick='document.querySelector(".manual").toggle()'>CLOSE</button></div></div><div class=titleScreen><div id=title>Back Scratching Salon<p>by<a href=https://joren.ga target=_blank>Jorengarenar</a></div><div class=customer><div class=back></div><div class=ears></div><div class="hair long"></div></div><div class="newGameWarning modal hidden"><div class=hud><p>Your previous progress will be lost, when you save (or game will autosave)</p><button onclick=this.parentNode.parentNode.toggle()>ABORT</button><button onclick=startGame(0)>OK</button></div></div><div class=menu><button id=continue class=hidden onclick=startGame(1)>CONTINUE</button><button id=newGame onclick=startGame(0)>NEW GAME</button><button onclick='document.querySelector(".settingsWin").toggle()'>SETTINGS</button><button onclick='document.querySelector(".manual").toggle()'>MANUAL</button></div><p id=version>Version: 1.0</div><div class="playScreen hidden" onmouseup="mouseIsDown=0" onmousedown="mouseIsDown=1"><div class=customerContainer><div class=customer></div><div class="break hidden"><p>I'M ON BREAK<div class="backToWork hidden" onclick=togglePause()>BACK TO WORK</div></div><div class=takeBreak onclick=togglePause()>TAKE<br>BREAK</div></div><p class=showShop onclick=toggleShopMobile()>🛒<div class="backToTitleConfirm modal hidden"><div class=hud><p>Are you sure? All unsaved progress will be lost</p><button onclick=this.parentNode.parentNode.toggle()>NO</button><button onclick=backToTitle()>YES</button><button onclick='save("data",d),backToTitle()'>SAVE AND RETURN TO TITLE</button></div></div><div class=menu><p class=unwindMenu onclick=toggleMenu(this)>☰<p class=backToTitle title="RETURN TO TITLE SCREEN" onclick='document.querySelector(".backToTitleConfirm").toggle()'>🔙<p class=sound title=MUTE/UNMUTE onclick=toggleMute()>🔈<p class=save title=SAVE onclick='save("data",d)'>💾<p class=export title="EXPORT SAVE" onclick=export_save()>📤<p class=import title="IMPORT SAVE" onclick=import_save()>📥<p class=settings title=SETTINGS onclick='document.querySelector(".settingsWin").toggle()'>🛠</div><div class=management><div class=tabs><button class=close onclick=toggleShopMobile()>CLOSE</button><button class="powerUps current">POWER-UPS</button><button class=equipment>EQUIPMENT</button><button class=personnel>PERSONNEL</button></div><div class="powerUps current"><div id=fingers class="hud item"><h1>FINGER</h1><p>Multiply amount of your itching power (and money making) by increasing amount of your fingers!<div class=bottomRow><div class=amount data-worth=0.2></div><div class=price data-initiator=15></div></div></div><div id=hands class="hud item"><h1>HAND</h1><p>More hands won't make your scratching any better, but you will gain speed!<br>P.S. No more than 10!<div class=bottomRow><div class=amount data-worth=0 data-max=10></div><div class=price data-initiator=30></div></div></div><div id=longNails class="hud item"><h1>LONG NAILS</h1><p>Everybody knows that the longer the nails the better the scratch<div class=bottomRow><div class=amount data-worth=0.5></div><div class=price data-initiator=150></div></div></div><div id=bark class="hud item"><h1>BARK</h1><p>Bears use it so you can too!<div class=bottomRow><div class=amount data-worth=2></div><div class=price data-initiator=500></div></div></div><div id=scratcher class="hud item"><h1>SCRATCHER</h1><p>Just stupid scratcher. You know how to use it<div class=bottomRow><div class=amount data-worth=4></div><div class=price data-initiator=1300></div></div></div><div id=sandpaper class="hud item"><h1>SANDPAPER</h1><p>For really itchy backs<div class=bottomRow><div class=amount data-worth=5></div><div class=price data-initiator=1999></div></div></div></div><div class=equipment><div id=toothbrush class="hud item"><h1>ELECTRIC TOOTHBRUSH</h1><p>For some people it's enough<div class=bottomRow><div class=amount data-worth=0.10></div><div class=price data-initiator=5></div></div></div><div id=laser class="hud item"><h1>LASER POINTER</h1><p>Those red dots of hell brings all stray cats from neighborhood. What will happen when you direct them on you customers' backs?<div class=bottomRow><div class=amount data-worth=0.25></div><div class=price data-initiator=20></div></div></div><div id=blender class="hud item"><h1>BLENDER</h1><p>If it's good enough to prepare food then it's good enough to scratch some backs!<div class=bottomRow><div class=amount data-worth=1></div><div class=price data-initiator=50></div></div></div><div id=grinder class="hud item"><h1>GRINDER</h1><p>Back cannot itch if there is no back<div class=bottomRow><div class=amount data-worth=10></div><div class=price data-initiator=100></div></div></div><div id=powerWasher class="hud item"><h1>POWER WASHER</h1><p>Just wash the itch away!<div class=bottomRow><div class=amount data-worth=25></div><div class=price data-initiator=150></div></div></div><div id=chainsaw class="hud item"><h1>CHAINSAW</h1><p>Who likes restrictions? You definitely not!<div class=bottomRow><div class=amount data-worth=50></div><div class=price data-initiator=185></div></div></div><div id=lawnMower class="hud item"><h1>LAWN MOWER</h1><p>Just mow your customer back!<div class=bottomRow><div class=amount data-worth=100></div><div class=price data-initiator=250></div></div></div></div><div class=personnel><div id=janitor class="hud item"><h1>JANITOR</h1><p>Janitor a day keeps an inspectorate away<div class=bottomRow><div class=amount data-max=1></div><div class=price>10</div></div></div><div id=accountant class="hud item"><h1>Accountant</h1><p>Reduces tax from merciless 20% to only 1%<div class=bottomRow><div class=amount data-max=1></div><div class=price>300</div></div></div><div id=technician class="hud item"><h1>Technician</h1><p>With him your equipment is twice as efficient<div class=bottomRow><div class=amount data-max=1></div><div class=price>200</div></div></div></div></div><div class="hudBar hud"><div id=progressBar><div id=satisfyBar></div></div><div class=timer>--</div><div class=cmd>#<span>_</span></div><div>Tax:<span id=nextTax></span></div><div>Payday:<span id=nextPayday></span></div><div class=money></div></div></div><script>var mouseIsDown,firstRun=1,mute=0,pause=0,sound=0,satisfy=0,autosaveTimer,customerTimer,equipmentTimer,paydayTimer,taxTimer,customerDiv=document.querySelector(".playScreen .customer"),satisfyBar=document.getElementById("satisfyBar"),timerDiv=document.querySelector(".timer");const savePrefix="BackScratchingSalon_";var d={accountant:0,bark:0,blender:0,bonus:0,chainsaw:0,fingers:1,grinder:0,hands:0,hands:0,janitor:0,laser:0,lawnMower:0,longNails:0,money:0,nextPayday:990,nextTax:1500,powerWasher:0,sandpaper:0,scratcher:0,technician:0,toothbrush:0},s={autoMute:0,autoPause:0,autoSave:1,skipTitle:0};const m=Object.assign({},d);function startTimer(e,t,o){return setInterval((()=>{0==d[e]--&&o();let n=parseInt(d[e]/60,10),a=parseInt(d[e]%60,10);n=n<10?"0"+n:n,a=a<10?"0"+a:a,t.textContent=n+":"+a}),1e3)}Element.prototype.toggle=function(){this.classList.toggle("hidden")},Element.prototype.toggleInactive=function(){this.classList.toggle("inactiveCover")};const taxPay=function(){let e=Math.floor((d.accountant?.01:.2)*d.money);updateMoney(-e),e&&setTimeout((()=>{document.querySelector("#nextTax").textContent="paid"}),0),d.nextTax=1200},payday=function(){let e=0;document.querySelectorAll(".personnel> .item").forEach((t=>{e+=d[t.id]*parseInt(t.querySelector(".price").innerHTML)})),e<=d.money?(updateMoney(-e),e&&setTimeout((()=>{document.querySelector("#nextTax").textContent="paid"}),0)):document.querySelectorAll(".personnel> .item").forEach((e=>{d[e.id]=0;let t=e.querySelector("button");t.toggleInactive(),t.onclick=()=>{++d[e.id],e.querySelector(".amount").dataset.max==d[e.id]&&(t.toggleInactive(),t.onclick=()=>{})}})),d.janitor||updateMoney(-Math.floor(.45*d.money)),d.nextPayday=600};function save(e,t){localStorage.setItem(savePrefix+e,JSON.stringify(t)),document.querySelector(".cmd").innerHTML="SAVED "+e+"_",setTimeout((()=>{document.querySelector(".cmd").innerHTML="#<span>_</span>"}),1e3)}function readSave(e,t){Object.assign(t,JSON.parse(localStorage[savePrefix+e]))}function fillData(){updateMoney(0),mute=s.autoMute,document.getElementById("nextPayday").innerHTML="--:--",document.getElementById("nextTax").innerHTML="--:--",document.querySelectorAll(":not(.personnel)> .item").forEach((e=>{e.querySelector(".amount").innerHTML=d[e.id]})),firstRun||document.querySelectorAll(".item").forEach((e=>{e.querySelector(".amount").dataset.max==d[e.id]?e.querySelector(".bottomRow> button").classList.add("inactiveCover"):e.querySelector(".bottomRow> button").classList.remove("inactiveCover")}))}function checkForSave(){localStorage.BackScratchingSalon_data&&(document.getElementById("continue").classList.remove("hidden"),document.getElementById("newGame").onclick=()=>{document.querySelector(".newGameWarning").toggle()})}function rot13Fast(e){return input="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),output="NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm".split(""),lookup=input.reduce(((e,t,o)=>Object.assign(e,{[t]:output[o]})),{}),e.split("").map((e=>lookup[e]||e)).join("")}function export_save(){let e=document.querySelector(".exportWin");e.toggle(),e.querySelector("textarea").value=rot13Fast(encodeURI(JSON.stringify(d)))}function import_save(){let e=document.querySelector(".importWin");e.toggle();let t=e.querySelector("textarea");t.value="",e.querySelector("#loadImported").onclick=()=>{Object.assign(d,JSON.parse(decodeURI(rot13Fast(t.value)))),e.toggle(),fillData()}}function toggleMute(){mute=mute?0:1,document.querySelector(".sound").innerHTML=mute?"&#128263;":"&#128264;"}function togglePause(){pause=pause?0:1,satisfyBar.toggleInactive(),pause?(clearInterval(customerTimer),customerDiv.innerHTML="",timerDiv.innerHTML="--",satisfy=0,satisfyBar.style.width="0%"):createCustomer(),document.querySelector(".backToWork").toggle(),document.querySelector(".takeBreak").toggle(),document.querySelector(".break").toggle(),customerDiv.parentNode.toggleInactive()}function backToTitle(){clearInterval(autosaveTimer),clearInterval(customerTimer),clearInterval(taxTimer),clearInterval(paydayTimer),clearInterval(equipmentTimer),pause&&togglePause(),document.title="Back Scratching Salon",customerDiv.innerHTML="",checkForSave(),document.querySelector(".backToTitleConfirm").toggle(),document.querySelector(".playScreen").toggle(),document.querySelector(".titleScreen").toggle()}function toggleMenu(e){document.querySelectorAll(".menu> p:not(.unwindMenu)").forEach((e=>{let t=e.style.display;e.style.display="block"==t?"none":"block"}))}function toggleShopMobile(){document.querySelector(".showShop").toggle(),document.querySelector(".playScreen .menu").toggle(),document.querySelector(".playScreen .management").classList.toggle("hiddenMobile"),customerDiv.parentNode.toggle()}function updateMoney(e){d.money+=e;let t=d.money.toFixed(2);e<0&&console.log("Money decrease: $"+-e.toFixed(2)),document.title="$"+t+" | Back Scratching Salon",document.querySelector(".money").innerHTML=t}function finalize(e){if(clearInterval(customerTimer),customerDiv.querySelector(".back").onmousemove=()=>{},timerDiv.innerHTML="--",satisfy){let t=.2;document.querySelectorAll(".powerUps .amount").forEach((e=>{let o=e.innerHTML;t+=o*e.dataset.worth})),updateMoney(e>0?Math.floor(e*satisfy*t/100):Math.floor(satisfy*t/100))}else updateMoney(-.1*d.money);customerDiv.style.filter="opacity(20%)",setTimeout((()=>{customerDiv.innerHTML="",createCustomer(),satisfyBar.style.width="0%"}),1e3)}function createBodyPart(e,t){return part=document.createElement("div"),part.className=e,t.appendChild(part),part}function scratching(time){if(satisfy<100){if(!mute&&10==++sound)with(sound=0,new AudioContext)with(G=createGain())for(i in D=[16,12])with(createOscillator())D[i]&&(connect(G),G.connect(destination),start(.05*i),frequency.setValueAtTime(550*1.06**(13-D[i]),.05*i),gain.setValueAtTime(.1,.05*i),gain.setTargetAtTime(1e-4,.05*i+.03,.005),stop(.05*i+.04));satisfy+=.325*(d.hands+1),satisfy<100?satisfyBar.style.width=satisfy+"%":(satisfyBar.style.width="100%",finalize(time))}}function createCustomer(){if(pause)return;satisfy=0,satisfyBar.style.width="0%";let e=15;timerDiv.innerHTML=e,customerTimer=setInterval((()=>{0===e?finalize(0):pause||(timerDiv.innerHTML=--e>=10?e:"0"+e)}),1e3),customerDiv.style="--skin-color: #"+("00000"+(Math.random()*(1<<24)|0).toString(16)).slice(-6);let t=createBodyPart("head",customerDiv);createBodyPart("neck",customerDiv);let o=createBodyPart("back",customerDiv),n=createBodyPart("hair",t);Math.floor(2*Math.random())&&n.classList.add("long"),createBodyPart("ears",customerDiv),sound=0,o.onmousemove=()=>{mouseIsDown&&scratching(e)},o.addEventListener("touchmove",(()=>{scratching(e)}),!1)}function startGame(e){if(e?readSave("data",d):(Object.assign(d,m),document.querySelector(".newGameWarning").classList.add("hidden")),fillData(),taxTimer=startTimer("nextTax",document.getElementById("nextTax"),taxPay),paydayTimer=startTimer("nextPayday",document.getElementById("nextPayday"),payday),document.querySelector(".sound").innerHTML=mute?"&#128263;":"&#128264;",document.querySelector(".playScreen").toggle(),document.querySelector(".titleScreen").toggle(),createCustomer(),!d.bonus&&document.monetization&&"started"===document.monetization.state){let e=document.createElement("div");e.className="hud item bonus",e.innerHTML='<h1>COIL BONUS</h1><p>Claim your Coil subscriber bonus: +$100</p><div class="bottomRow"><button onclick="updateMoney(100); this.parentNode.parentNode.remove()">CLAIM</button></div>',document.querySelector("div.powerUps").prepend(e)}document.querySelectorAll(":not(.personnel)> .item:not(.bonus)").forEach((e=>{let t=e.querySelector(".amount"),o=e.querySelector(".price"),n=o.dataset.initiator,a=1.1985+t.dataset.worth/100,r=Math.floor(n*Math.pow(a,d[e.id]+1));if(o.innerHTML=r,firstRun){let c=document.createElement("button");c.innerHTML="BUY",t.dataset.max==d[e.id]?c.toggleInactive():c.onclick=()=>{d.money>=r&&(t.innerHTML=++d[e.id],updateMoney(-r),o.innerHTML=r=Math.floor(n*Math.pow(a,d[e.id]+1))),t.dataset.max==d[e.id]&&(c.toggleInactive(),c.onclick=()=>{})},e.querySelector(".bottomRow").insertBefore(c,t)}})),document.querySelectorAll(".personnel> .item").forEach((e=>{if(firstRun){let t=e.querySelector(".amount"),o=document.createElement("button");o.innerHTML="HIRE",t.dataset.max==d[e.id]?o.toggleInactive():o.onclick=()=>{++d[e.id],t.dataset.max==d[e.id]&&(o.toggleInactive(),o.onclick=()=>{})},e.querySelector(".bottomRow").insertBefore(o,t)}})),firstRun=0,equipmentTimer=setInterval((()=>{document.querySelectorAll(".equipment> .item").forEach((e=>{let t=e.querySelector(".amount"),o=t.dataset.worth;o*=d.technician+1,updateMoney((o*=1-.15*pause)*t.innerHTML)}))}),1100),autosaveTimer=setInterval((()=>{s.autoSave&&save("data",d)}),6e4),s.autoPause&&togglePause()}localStorage.BackScratchingSalon_settings&&readSave("settings",s),document.querySelectorAll(".settingsWin> div> label> input[type=checkbox]").forEach((e=>{e.checked=s[e.name],e.onclick=()=>{s[e.name]=Number(e.checked)}})),document.querySelectorAll(".tabs> button:not(.close)").forEach((e=>{e.onclick=()=>{document.querySelectorAll(".management .current").forEach((e=>{e.classList.remove("current")})),document.querySelector(".management div."+CSS.escape(e.className)).classList.add("current"),e.classList.add("current")}})),checkForSave(),s.skipTitle&&startGame(1)</script>