<!doctype html><title>Bomb.js - js13kGames 2012</title><style>body{margin:10px;background-color:#f6ddae;background-image:repeating-linear-gradient(45deg,transparent,transparent 35px,rgba(255,255,255,.5) 35px,rgba(255,255,255,.5) 70px);background-attachment:fixed;font-family:Arial Black}a,body{color:#325128}h1{color:#f6ddae;margin-top:5px;margin-bottom:0}div{margin:0 auto;width:850px;text-align:center}#box{background-color:#003100;padding-top:5px;padding-bottom:10px;border-radius:25px;box-shadow:5px 5px 10px #333}</style><div id=box><h1>bomb.js</h1><canvas height=480 id=c width=800></canvas><div style=color:#f6ddae>Press m to toggle music</div></div><div style=font-size:.8em><br>© Markus Neubrand 2012 (<a href=http://twitter.com/markusneubrand>@markusneubrand</a>)<br>SFX synth: <a href=//github.com/mneubrand/jsfxr>JavaScript port</a> of <a href=//superflashbros.net/as3sfxr>as3sfxr</a> by Tom Vian<br>Music synth: Stripped version of <a href=//github.com/BillyWM/jsmodplayer>jsmodplayer</a> by Billy Wenge-Murphy<br>Background music: Bubble toast (score) by rez from <a href=//chiptune.com>"chiptune.com"</a><br><br>Sound uses the Blob API and is only available on Firefox and Chrome.<br>Creating the sounds when the page is loaded can take a while.<br>Don't panic and don't kill the script!</div><script>function f(){bX=Date.now(),bY=[],bZ=Math.floor(bX%1e3/250);for(var A=0;A<bS.length+bT.length+bV.length;A++){var t;if(A<bS.length)t=bS[A];else if(A<bS.length+bT.length)t=bT[A-bS.length];else if((t=bV[A-bS.length-bT.length])==b)continue;h(t.x,t.y);var i=bX-t.V;if(t.d||t.j&&t.N){var o=ba(t.direction);i>t.k/2&&!t.n&&((t instanceof n||t instanceof s)&&(bU[t.x][t.y]=b),t.x+=o[0],t.y+=o[1],t.n=a,(t instanceof n||t instanceof s)&&(bU[t.x][t.y]=t.field)),h(t.x+o[0]*(t.n?-1:1),t.y+o[1]*(t.n?-1:1))}if(!(t instanceof q))for(i=0;i<bV.length;i++){var u=bV[i];if(u!=b&&u.x==t.x&&u.y==t.y)if(t instanceof r||t instanceof p){(o=u).j||(cd.play(),o.j=bX,o.d=c,o.N=o.N);for(var v=o=0;v<bV.length;v++)bV[v]!=b&&!bV[v].j&&o++;!bW&&(bQ==bN.r&&1==o||bQ!=bN.r&&0==o)&&(bW=bX,e.onkeydown=b,e.onkeyup=b,b_=Array(4),d.setTimeout(bi,3e3))}else t instanceof m&&(o=t,v=u,cf.play(),o.b==N?v.w++:o.b==R?5>v.s&&v.s++:o.b==O?v.k=250:o.b==Q?v.Ga=a:o.b==S?v.sa=a:o.b==P&&(v.ka=a),bU[t.x][t.y]=b,bS.splice(A--,1))}if(t instanceof p){for(i=0;i<bT.length;i++)bT[i].x==t.x&&bT[i].y==t.y&&bT[i].Aa();for(i=0;i<bS.length;i++)bS[i]instanceof m&&bS[i].x==t.x&&bS[i].y==t.y&&bS.splice(i,1)}for(i=0;i<bV.length;i++){o=0==i?b_:ca,v=0;for(var w=-1,y=0;4>y;y++)o[y]>v&&(v=o[y],w=y);if(-1!=(o=w)&&!bV[i].d){if(bV[i].direction=o,w=ba((o=bV[i]).direction),v=o.x+w[0],w=o.y+w[1],y=c,0<=v&&v<bK&&0<=w&&w<bL)if(bU[v][w]==b)y=a;else if(o.Ga&&bU[v][w].b!=K){if(y=a,o.ka&&bU[v][w].h instanceof n&&bU[v][w].h.u==o){var B=bU[v][w].h;B.direction=o.direction,bh(B)}}else bU[v][w]instanceof k&&(bU[v][w].h instanceof n&&o.ka&&bU[v][w].h.u==o?((B=bU[v][w].h).direction=o.direction,bh(B)&&(y=a)):bU[v][w].h instanceof r&&(y=a));y&&(bU[o.x][o.y]instanceof l&&(bU[o.x][o.y]=b),o.move(),bU[v][w]==b&&(bU[v][w]=new l(v,w)))}}bR.save(),bR.translate(20+40*t.x,40+40*t.y),t instanceof q&&(bI=0==bV.indexOf(t)?bz:bw),t.update()&&bS.splice(A--,1),bR.restore()}bR.textAlign="left",bR.font="bold 12pt Arial Black",bV[0]!=b&&(x(50,0,50,40,bl),x(150,0,50,40,bl),bR.fillStyle=bH,bR.fillText("x"+bV[0].w,50,22),bR.fillText("x"+bV[0].s,150,22)),bV[1]!=b&&(x(650,0,50,40,bl),x(750,0,50,40,bl),bR.fillStyle=bH,bR.fillText("x"+bV[1].w,650,22),bR.fillText("x"+bV[1].s,750,22)),z([[20,40],[20+40*bK,40],[20+40*bK,39+40*bL],[20,39+40*bL],[20,40]],bl,a,2),g(20,40,0),g(740,40,.5*Math.PI),g(740,440,Math.PI),g(20,440,1.5*Math.PI),bQ!=bN.r&&0==bT.length?(bR.font="bold 72pt Arial Black",bR.textAlign="center",bR.fillStyle=bF,bR.fillText("GAME WON",400,240),u.d=c,u.N=u.N,e.onkeydown=b,e.onkeyup=b,b_=Array(4),bT!=b&&(bT=b,d.setTimeout(bi,1500))):bW&&1e3<bX-bW&&(bR.font="bold 72pt Arial Black",bR.textAlign="center",bR.fillStyle=bB,bR.fillText("GAME OVER",400,240),bQ==bN.r&&(bR.font="bold 48pt Arial Black",bR.textAlign="center",bR.fillStyle=bB,bR.fillText("Player "+(!bV[0].j||bV[0].j>bV[1].j?"1":"2")+" won",400,340))),bW&&3e3<bX-bW&&bi(),bJ(f)}function g(A,t,b){bR.save(),bR.translate(A,t),bb(b),bR.beginPath(),bR.moveTo(0,15),bR.arc(15,15,15,Math.PI,1.5*Math.PI,c),bR.lineTo(0,0),bR.lineTo(0,15),bR.fillStyle=bl,bR.fill(),bR.closePath(),bR.restore()}function h(A,t){var e=100*A+t;-1==bY.indexOf(e)&&(bR.save(),bR.translate(20+40*A,40+40*t),x(0,0,40,40,bE),bU[A][t]!=b&&bU[A][t].update(),bY.push(e),bR.restore())}function i(A,t,b){this.x=A,this.y=t,this.U=bX,this.b=b,this.offset=[0,0]}function j(A,t,b){i.call(this,A,t,b),this.k=400,this.V=0,this.n=this.d=c,this.move=function(){this.V=bX,this.d=a,this.n=c}}function k(A,t,b){i.call(this,A,t,(function(){})),this.h=b}function l(A,t,b){this.h=b,i.call(this,A,t,(function(){}))}function m(A,t,b){i.call(this,A,t,b)}function n(A,t,e){j.call(this,A,t),this.k=250,this.u=e,this.scale=0,this.b=function(){bR.translate(2,2),this.d&&(u(this),this.d||bh(this)),this.scale++;var A=1+.1*this.scale/20;20<this.scale&&(this.scale=0),bR.scale(A,A),L(0==bZ||2==bZ),this.u.sa||3e3<bX-this.U&&this.S()},this.S=function(){cc.play(),this.u.K--,bU[this.x][this.y]=b;for(var A=this.x,t=this.y,e=this.u.s,i=[a,a,a,a],r=[],s=1;s<=e;s++)for(var l=0;4>l;l++)if(i[l]){var h=A+(f=ba(l))[0]*s,f=t+f[1]*s;if(0<=h&&h<bK&&0<=f&&f<bL){if(bU[h][f]!=b)if(bU[h][f].b==C)bU[h][f]=b,bS.push(new o(h,f,J)),bS.push(new p(h,f,$,l)),i[l]=c;else if(bU[h][f].b==K)i[l]=c;else if(bU[h][f]instanceof k){var u=bU[h][f].h;u instanceof n&&r.push(u)}i[l]&&bS.push(new p(h,f,s==e?$:Y,l))}}for(s=0;s<r.length;s++)r[s].S();bS.push(new p(A,t,Z,bM.g)),bS.splice(bS.indexOf(this),1)}}function o(A,t,b){i.call(this,A,t),this.b=function(){if(this.clear&&(bR.save(),bR.translate(-(20+40*this.x),-(40+40*this.y)),h(this.x+this.clear[0],this.y+this.clear[1]),bR.restore()),750<bX-this.U){if(B(),b==J){var A=this.x,t=this.y,e=Math.random();.33>e&&(e=Math.random(),bS.push(new m(A,t,.16>e?N:.32>e?R:.49>e?O:.66>e?Q:.82>e?S:P)))}return a}bR.translate(this.offset[0],this.offset[1]),b()}}function p(A,t,b,e){i.call(this,A,t),this.direction=e,this.b=function(){bb(.5*Math.PI*this.direction),(this.direction==bM.f||this.direction==bM.c)&&bc();var A=bX-this.U;if(!(450>A))return B(),a;b(150>A?0:300>A?1:2)}}function q(A,t){j.call(this,A,t),this.direction=bM.f,this.a=[],this.a[bM.g]=X,this.a[bM.i]=V,this.a[bM.f]=W,this.a[bM.c]=V,this.b=function(){var A=0==bZ||2==bZ;if(this.j)if(cg.pause(),bR.translate(this.offset[0],this.offset[1]),3e3<bX-this.j)B(),bV[bV.indexOf(this)]=b;else{var t=!A;T();var e=A?[13,27]:[10,10];z([[16,18],e],bp,a),v(e[0],e[1],2,bp),z([[24,18],e=t?[28,27]:[31,10]],bp,a),v(e[0],e[1],2,bp),z([[18,27],A=[17,A?37:33]],bp,a),v(A[0],A[1],2,bp),z([[22,27],t=[23,t?37:33]],bp,a),v(t[0],t[1],2,bp),z([[13,13],[15,9],[25,9],[27,13]],bC),z([[15,11],[19,11]],bu,a,1),z([[17,9],[17,13]],bu,a,1),z([[21,11],[25,11]],bu,a,1),z([[23,9],[23,13]],bu,a,1)}else this.d?(cg.play(),u(this),this.direction==bM.c&&bc(),this.a[this.direction](A,!A)):(cg.pause(),this.direction==bM.c&&bc(),this.a[this.direction](a,a))}}function r(A,t){j.call(this,A,t),this.direction=bM.f,this.Aa=function(){cd.play();var A=new o(this.x,this.y,this.fa);if(A.offset=this.offset,bS.push(A),bT.splice(bT.indexOf(this),1),bU[this.x][this.y]=b,this.d){var t=ba(this.direction);this.n?A.clear=[-t[0],-t[1]]:(bU[this.x+t[0]][this.y+t[1]]=b,A.clear=[t[0],t[1]])}}}function s(A,t){r.call(this,A,t),this.ua=0,this.k=700,this.fa=H,this.a=[],this.a[bM.g]=E,this.a[bM.i]=I,this.a[bM.f]=E,this.a[bM.c]=I,this.b=function(){if(this.d)u(this),this.direction==bM.c&&bc(),bb(0==bZ||2==bZ?.1:-.1),this.a[this.direction]();else if(this.direction==bM.c&&bc(),this.a[this.direction](),bX-this.ua>this.k)if(.3>Math.random())this.ua=bX;else{for(var A=[],t=0;4>t;t++){var e=ba(t);null!=bU[this.x+e[0]]&&(bU[this.x+e[0]][this.y+e[1]]==b||bU[this.x+e[0]][this.y+e[1]]instanceof l)&&A.push(t)}0<A.length&&(this.direction=A[Math.floor(Math.random()*A.length)],bh(this))}}}function t(A,t){r.call(this,A,t),this.k=600,this.fa=F,this.ba=0,this.a=[],this.a[bM.g]=G,this.a[bM.i]=G,this.a[bM.f]=G,this.a[bM.c]=G,this.b=function(){if(this.d)u(this),0==bZ?bR.translate(0,0):1==bZ?bR.translate(2,-2):2==bZ?bR.translate(0,-4):bR.translate(-2,-2),this.a[this.direction](0==bZ||2==bZ);else{this.a[this.direction](a);for(var A=c,t=0;t<bV.length;t++){if((i=bV[t])!=b){var e=this.x-i.x,i=this.y-i.y;if(3>Math.abs(e)&&0!=e&&0==i){this.direction=0>e?bM.i:bM.c,A=a;break}if(3>Math.abs(i)&&0!=i&&0==e){this.direction=0>i?bM.f:bM.g,A=a;break}}}A||(0<this.ba?this.ba--:(this.direction=Math.floor(4*Math.random()),this.ba=2+6*Math.random())),bh(this)}}}function u(A){var t=bX-A.V,b=40*t/A.k,e=(b=A.n?-40+b:b,A.direction==bM.i?b:A.direction==bM.c?-b:0);b=A.direction==bM.f?b:A.direction==bM.g?-b:0;bR.translate(e,b),t>A.k?A.d=c:A.offset=[e,b]}function v(A,t,b,e){w(A,t,b,0,2*Math.PI,e)}function w(A,t,b,e,a,i,n){bR.beginPath(),bR.arc(A,t,b,e,a,c),n?(bR.strokeStyle=i,bR.lineWidth=2,bR.stroke()):(bR.fillStyle=i,bR.fill()),bR.closePath()}function x(A,t,b,e,a){bR.fillStyle=a,bR.fillRect(A,t,b,e)}function y(A,t,b,e,a){var i=b/2*.5522848,n=e/2*.5522848,r=A+b,s=t+e;b=A+b/2,e=t+e/2;bR.beginPath(),bR.moveTo(A,e),bR.bezierCurveTo(A,e-n,b-i,t,b,t),bR.bezierCurveTo(b+i,t,r,e-n,r,e),bR.bezierCurveTo(r,e+n,b+i,s,b,s),bR.bezierCurveTo(b-i,s,A,e+n,A,e),bR.fillStyle=a,bR.fill(),bR.closePath()}function z(A,t,b,e){e=e||2,bR.beginPath(),bR.moveTo(A[0][0],A[0][1]);for(var a=1;a<A.length;a++)bR.lineTo(A[a][0],A[a][1]);b?(bR.strokeStyle=t,bR.lineWidth=e,bR.stroke()):(bR.lineTo(A[0][0],A[0][1]),bR.fillStyle=t,bR.fill()),bR.closePath()}function A(A,t,b,e,a,i){bR.beginPath(),bR.moveTo(A,t+a),bR.arc(A+a,t+a,a,Math.PI,1.5*Math.PI),bR.lineTo(A+b-2*a,t),bR.arc(A+b-a,t+a,a,1.5*Math.PI,2*Math.PI),bR.lineTo(A+b,t+e-a),bR.arc(A+b-a,t+e-a,a,0,.5*Math.PI),bR.lineTo(A+a,t+e),bR.arc(A+a,t+e-a,a,.5*Math.PI,Math.PI),bR.lineTo(A,t+a),bR.closePath(),bR.fillStyle=i,bR.fill()}function B(){x(0,0,40,40,bE)}function C(){y(5,28,30,10,bD),z([[9,34],[14,31],[17,20],[22,20],[24,31],[29,34],[19,33]],bt),v(10,15,8,bl),v(20,13,10,bl),v(30,16,8,bl),v(10,15,7,bm),v(20,13,9,bm),v(30,16,7,bm),w(10,15,5,Math.PI,1.7*Math.PI,bn,a),w(20,13,7,1.1*Math.PI,1.7*Math.PI,bn,a)}function D(){y(7,30,26,6,bD),A(8,5,24,28,3,bp)}function E(){D(),w(15,12,4,.1*Math.PI,1.1*Math.PI,bu),v(15,14,1,bz),w(25,12,4,1.9*Math.PI,.9*Math.PI,bu),v(25,14,1,bz),A(10,23,20,8,2,bu);for(var t=0;8>t;t++)z([[12,23],[16,23],[14,26]],bv),bR.translate(4,0),3==t&&(bR.translate(-16,14),bd())}function F(){y(6,33,28,6,bD),v(11,30,3,bA),v(17,30,3,bA),v(23,30,3,bA),v(29,30,3,bA),y(8,6,24,16,bA),x(8,14,24,16,bA),z([[12,12],[16,16]],bu,a),z([[16,12],[12,16]],bu,a),z([[24,12],[28,16]],bu,a),z([[28,12],[24,16]],bu,a)}function G(A){y(6,33,28,6,bD),v(11,30,3,bv),v(17,30,3,bv),v(23,30,3,bv),v(29,30,3,bv),y(8,6,24,16,bv),x(8,14,24,16,bv),v(14,16,4,bD),v(26,16,4,bD),v(14,17,2,bu),v(26,17,2,bu),A?y(14,24,12,4,bq):y(15,23,10,6,bq)}function H(){D(),v(15,14,4,bv),v(15,14,2,bu),v(25,14,3,bv),v(25,14,1,bu),A(10,23,20,8,2,bu),z([[12,23],[16,23],[14,26]],bv),bR.translate(12,0),z([[12,23],[16,23],[14,26]],bv),bR.translate(-4,14),bd(),z([[12,23],[16,23],[14,26]],bv)}function I(){D(),w(25,12,4,.1*Math.PI,1.1*Math.PI,bu),v(26,14,1,bz),A(18,23,10,8,2,bu),x(22,23,10,8,bu),bR.translate(7,0);for(var t=0;6>t;t++)z([[12,23],[16,23],[14,26]],bv),bR.translate(4,0),2==t&&(bR.translate(-12,14),bd())}function J(){y(7,29,26,8,bD),z([[9,34],[14,31],[17,20],[22,20],[24,31],[29,34],[19,33]],bo),z([[19,21],[13,17],[7,21]],bo,a),z([[19,21],[13,17],[11,12]],bo,a),z([[20,21],[21,15],[15,8]],bo,a),z([[21,21],[21,15],[22,5]],bo,a),z([[22,21],[27,17],[30,10]],bo,a)}function K(){y(3,25,36,13,bD),z([[7,31],[9,12],[14,8],[28,8],[32,12],[35,30],[27,35],[14,34]],bo),z([[8,31],[10,12],[13,9],[27,9],[31,12],[34,30],[26,34],[14,33]],br),z([[8,31],[10,12],[16,14],[14,33]],bq),z([[26,14],[31,12],[34,30],[26,34]],bq),z([[10,12],[16,15],[26,15],[31,12]],bs,a)}function L(A){y(12,26,20,8,bD),v(18,25,9,bu),w(18,25,7,Math.PI,1.5*Math.PI,bo,a),z([[18,25],[27,16]],bu,a),v(27,16,A?3:2,by),v(27,16,1,bw)}function M(){x(4,4,32,32,bG),x(6,6,28,28,bF)}function N(){M(),bR.save(),bR.translate(0,-3),L(a),bR.restore()}function O(){M(),bR.save(),bR.translate(20,20),bR.scale(.7,.7),bR.translate(-20,-20),bR.translate(5,0),V(a,a),bR.restore(),z([[10,12],[17,12]],bv,a,2),z([[8,17],[15,17]],bv,a,2),z([[10,22],[17,22]],bv,a,2)}function P(){M(),bR.save(),bR.translate(20,20),bR.scale(.7,.7),bR.translate(-20,-20),bR.translate(7,-3),L(a),bR.restore(),z([[10,15],[17,15]],bv,a,2),z([[8,20],[15,20]],bv,a,2),z([[10,25],[17,25]],bv,a,2)}function Q(){M(),bR.save(),bR.translate(20,20),bR.scale(.7,.7),bR.translate(-20,-20),bR.globalAlpha=.5,V(a,a),bR.restore()}function R(){M(),bR.save(),bR.translate(20,20),bR.scale(.5,.5),bR.translate(-20,-20),Z(2),bR.restore()}function S(){M(),y(10,25,20,8,bD),x(12,19,16,10,bt),x(18,12,4,7,bo),x(13,8,14,4,bo),x(19,11,2,8,bq),x(14,9,12,2,bq)}function T(){y(12,33,16,6,bD),y(10,4,20,16,bp),x(16,18,8,12,bp),z([[12,8],[28,8]],bI,a,1)}function U(A,t,b,e){T(),z([[16,18],A=[13,A?27:23]],bp,a),v(A[0],A[1],2,bp),z([[24,18],t=[28,t?27:23]],bp,a),v(t[0],t[1],2,bp),z([[18,27],b=[17,b?36:33]],bp,a),v(b[0],b[1],2,bp),z([[22,27],e=[23,e?36:33]],bp,a),v(e[0],e[1],2,bp)}function V(A,t){var b,e;T(),A?(b=[18,36],e=[22,36]):t&&(b=[15,35],e=[25,35]),z([[18,27],b],bp,a),v(b[0],b[1],2,bp),z([[22,27],e],bu,a),v(e[0],e[1],2,bp),z([[20,20],b=[A?28:25,25]],bp,a),v(b[0],b[1],2,bp),z([[20,13],[20,9],[25,9],[27,13]],bC),w(23,10,2,1.9*Math.PI,.9*Math.PI,bu)}function W(A,t){U(A,t,t,A),z([[13,13],[15,9],[25,9],[27,13]],bC),w(17,10,2,.1*Math.PI,1.1*Math.PI,bu),w(23,10,2,1.9*Math.PI,.9*Math.PI,bu)}function X(A,t){U(A,t,t,A),z([[20,8],[17,11]],bz,a,1),z([[20,8],[23,11]],bz,a,1)}function Y(A){var t=0==A?by:bw,b=0==A?bB:by;0!=A&&z([[8,40],[12,31],[9,20],[13,10],[8,0],[28,0],[31,10],[27,20],[32,29],[28,40]],bB),z([[11,40],[14,29],[11,20],[15,11],[11,0],[25,0],[27,11],[24,21],[28,30],[25,40]],b),z([[14,40],[18,30],[13,21],[17,10],[14,0],[22,0],[25,9],[21,21],[24,30],[22,40]],t),2==A&&z([[16,40],[19,30],[17,21],[19,10],[16,0],[20,0],[22,9],[20,21],[21,30],[20,40]],bx)}function Z(A){var t=0==A?by:bw,b=0==A?bB:by;0!=A&&(z([[8,40],[12,31],[9,20],[13,10],[8,0],[28,0],[31,10],[27,20],[32,29],[28,40]],bB),bb(Math.PI/2),z([[8,40],[12,31],[9,20],[13,10],[8,0],[28,0],[31,10],[27,20],[32,29],[28,40]],bB),bb(-Math.PI/2)),z([[11,40],[14,29],[11,20],[15,11],[11,0],[25,0],[27,11],[24,21],[28,30],[25,40]],b),bb(Math.PI/2),z([[11,40],[14,29],[11,20],[15,11],[11,0],[25,0],[27,11],[24,21],[28,30],[25,40]],b),bb(-Math.PI/2),z([[14,40],[18,30],[13,21],[17,10],[14,0],[22,0],[25,9],[21,21],[24,30],[22,40]],t),bb(Math.PI/2),z([[14,40],[18,30],[13,21],[17,10],[14,0],[22,0],[25,9],[21,21],[24,30],[22,40]],t),bb(-Math.PI/2),2==A&&(z([[16,40],[19,30],[17,21],[19,10],[16,0],[20,0],[22,9],[20,21],[21,30],[20,40]],bx),bb(Math.PI/2),z([[16,40],[19,30],[17,21],[19,10],[16,0],[20,0],[22,9],[20,21],[21,30],[20,40]],bx))}function $(A){var t=0==A?by:bw,b=0==A?bB:by;0!=A&&z([[8,40],[12,32],[9,18],[21,7],[27,19],[32,31],[28,40]],bB),z([[11,40],[14,29],[11,20],[21,10],[24,21],[28,30],[25,40]],b),z([[14,40],[18,31],[13,22],[21,13],[21,22],[24,31],[22,40]],t),2==A&&z([[16,40],[19,31],[17,23],[21,15],[20,23],[21,31],[20,40]],bx)}function _(t,b,e){bR.save(),bR.translate(40*t,40*b),(t=bR.createLinearGradient(0,0,38,0)).addColorStop(0,br),t.addColorStop(.5,bs),t.addColorStop(1,br),A(2,2,36,36,4,bq),A(6,6,28,28,4,t),bR.textAlign="center",bR.font="bold 10pt Arial",bR.fillStyle=bo,bR.fillText(e,19,25),bR.restore()}function ba(A){var t;switch(A){case bM.g:t=[0,-1];break;case bM.i:t=[1,0];break;case bM.f:t=[0,1];break;case bM.c:t=[-1,0]}return t}function bb(A){bR.translate(20,20),bR.rotate(A),bR.translate(-20,-20)}function bc(){bR.translate(20,20),bR.scale(-1,1),bR.translate(-20,-20)}function bd(){bR.translate(20,20),bR.scale(1,-1),bR.translate(-20,-20)}function be(A,t){return 0==A&&0==t||0==A&&1==t||1==A&&0==t||0==A&&t==bL-1||0==A&&t==bL-2||1==A&&t==bL-1||A==bK-1&&0==t||A==bK-1&&1==t||A==bK-2&&0==t||A==bK-1&&t==bL-1||A==bK-1&&t==bL-2||A==bK-2&&t==bL-1}function bf(A){if((bU[A.x][A.y]==b||bU[A.x][A.y]instanceof l)&&A.K<A.w){ce.play();var t=new n(A.x,A.y,A);bS.push(t);var e=new k(A.x,A.y,t);t.field=e,bU[A.x][A.y]=e,A.K++}}function bg(A){if(A.sa)for(var t=0;t<bS.length;t++)bS[t]instanceof n&&bS[t].u==A&&bS[t].S()}function bh(A){var e=ba(A.direction),i=A.x+e[0];e=A.y+e[1];if(0<=i&&i<bK&&0<=e&&e<bL&&!A.d)if(bU[i][e]==b)A.move(),A instanceof t||(bU[i][e]=new k(i,e));else{if(!(A instanceof n)&&bU[i][e]instanceof l)return A.move(),a;A instanceof t&&bU[i][e].b!=K&&!(bU[i][e]instanceof k)&&A.move()}return c}function bi(){bS=[],bT=[],bW=b,x(20,40,760,440,bE);for(var A=0;A<bK;A++){bU[A]=Array(bL);for(var n=0;n<bL;n++)bU[A][n]=1==A%2&&1==n%2?new i(A,n,K):be(A,n)?b:.4>Math.random()||2==A&&0==n||0==A&&2==n||A==bK-3&&n==bL-1||A==bK-1&&n==bL-3?new i(A,n,C):b,bU[A][n]!=b&&(bR.save(),bR.translate(20+40*A,40+40*n),bU[A][n].update(),bR.restore())}if(bQ!=bN.r)for(var r=0;13>bT.length;)if(A=parseInt(Math.random()*bK),n=parseInt(Math.random()*bL),bU[A][n]==b&&!be(A,n))if(.7>Math.random()||3<=r){var o=new s(A,n);bT.push(o);var h=new k(o.x,o.y,o);bU[A][n]=h,o.field=h}else A=new t(A,n),r++,bT.push(A);bR.save(),bR.translate(20,0),bR.scale(.7,.7),L(a),bR.restore(),bR.save(),bR.translate(120,5),bR.scale(.5,.5),Z(2),bR.restore(),bQ!=bN.O&&(bR.save(),bR.translate(620,0),bR.scale(.7,.7),L(a),bR.restore(),bR.save(),bR.translate(720,5),bR.scale(.5,.5),Z(2),bR.restore()),bV=[],r=new q(0,0),bU[0][0]=new l(0,0),r.w=1,r.K=0,r.s=1,bV.push(r),bQ!=bN.O&&(r=new q(bK-1,bL-1),bU[bK-1][bL-1]=new l(0,0),r.w=1,r.K=0,r.s=1,bV.push(r)),b$=function(A){var t="keydown"==A.type;switch(A.keyCode){case 38:return ca[bM.g]=t?A.timeStamp:0,A.preventDefault(),c;case 87:return b_[bM.g]=t?A.timeStamp:0,A.preventDefault(),c;case 39:return ca[bM.i]=t?A.timeStamp:0,A.preventDefault(),c;case 68:return b_[bM.i]=t?A.timeStamp:0,A.preventDefault(),c;case 40:return ca[bM.f]=t?A.timeStamp:0,A.preventDefault(),c;case 83:return b_[bM.f]=t?A.timeStamp:0,A.preventDefault(),c;case 37:return ca[bM.c]=t?A.timeStamp:0,A.preventDefault(),c;case 65:return b_[bM.c]=t?A.timeStamp:0,A.preventDefault(),c;case 32:return bV[0]&&bf(bV[0]),A.preventDefault(),c;case 86:return bV[0]&&bg(bV[0]),A.preventDefault(),c;case 18:return bV[1]&&bf(bV[1]),A.preventDefault(),c;case 17:return bV[1]&&bg(bV[1]),A.preventDefault(),c;case 77:return t||(ch.paused?ch.play():ch.pause()),A.preventDefault(),c}},e.onkeyup=b$,e.onkeydown=b$,bJ(f)}function bj(){bP||(bR.save(),bO!=b&&x(20,40,760,440,bE),g(20,40,0),g(740,40,.5*Math.PI),g(740,440,Math.PI),g(20,440,1.5*Math.PI),bR.textAlign="left",bR.font="bold 12pt Arial Black",bR.fillStyle=bH,bR.fillText("Single Player",320,187),bR.fillText("2-Player Coop",320,227),bR.fillText("2-Player Versus",320,267),bR.fillText("Controls/Tutorial",320,307),bO!=b&&(bR.translate(40*bO.x,40*bO.y),L(),bR.restore(),bJ(bj)))}function bk(A){A=cb.getSfx(A);var t=new Audio;return t.src=A,t}function ci(A){this.data=A,this.o=[],this.Z=[],this.M=[],this.X=0,this.t=[],this.qa=31;for(var t=0;t<this.qa;t++){var b=A.substr(20+30*t,30);b.substr(0,22).replace(/\x00+$/,""),this.o[t]={length:2*((b.charCodeAt(22)<<8)+b.charCodeAt(23)),B:b.charCodeAt(24),volume:b.charCodeAt(25),pa:2*((b.charCodeAt(26)<<8)+b.charCodeAt(27)),oa:2*((b.charCodeAt(28)<<8)+b.charCodeAt(29))}}for(this.Ha=A.charCodeAt(950),this.Ia=A.charCodeAt(951),t=0;128>t;t++)this.M[t]=A.charCodeAt(952+t),this.M[t]>=this.X&&(this.X=this.M[t]+1);for(this.l=4,t=1084,b=0;b<this.X;b++){this.t[b]=[];for(var e=0;64>e;e++){this.t[b][e]=[];for(var a=0;a<this.l;a++){b0=A.charCodeAt(t),b1=A.charCodeAt(t+1),b2=A.charCodeAt(t+2),b3=A.charCodeAt(t+3);var i=15&b2;this.t[b][e][a]={e:240&b0|b2>>4,J:(15&b0)<<8|b1,ga:i,m:b3},14==i&&(this.t[b][e][a].Qa=(240&b3)>>4,this.t[b][e][a].Ra=15&b3),t+=4}}}for(b=t,e=0;e<this.qa;e++){for(this.o[e].startOffset=b,this.Z[e]=new Uint8Array(this.o[e].length),t=0,a=b,i=b+this.o[e].length;a<i;a++)this.Z[e][t]=A.charCodeAt(a),t++;b+=this.o[e].length}}function cm(A){function t(t){for(l=t,f=0,u=c,t=R=0;t<A.l;t++){var b=v[t],n=s[l][t];if(null==b.$&&(b.$=0),0==n.J&&0==n.e||(b.L=a,b.D=0,b.F=0,0!=n.e&&(b.e=A.o[n.e-1],b.$=n.e-1,b.volume=b.e.volume,b.B=b.e.B),0!=n.J&&(b.H=ck[n.J],b.q=2*cj[b.B][b.H])),b.ha=0,b.ia=0,b.ya=c,b.za=c,b.Wa=c,b.ta=c,0!=n.ga||0!=n.m)switch(b.ca=0,b.na=0,b.P=c,n.ga){case 0:b.P=a,b.xa=[b.H,b.H+(n.m>>4),b.H+(15&n.m)],b.ea=0;break;case 10:b.ca=-n.m;break;case 12:b.volume=n.m;break;case 15:var r=0==n.m?1:n.m;32<r?e=Math.round(2.5*i/r):h=r}0!=n.J&&(b.Va=n),b.ta==c&&(b.Na=0,b.Oa=0,b.Pa=0)}}function b(b){o=b=b>A.Ha-1?0:b,b=u?R:0,s=A.t[A.M[o]],t(b)}var e,i=7093789.2,n=Math.round(i/44100),r=0;e=Math.round(2.5*i/125);for(var s,o,l,h=6,f=0,u=c,R=0,v=[],p=0;p<A.l;p++)v[p]={L:c,e:A.o[0],B:0,volume:0,I:127,ca:0,na:0,ia:0,ha:0,Oa:0,Na:0,Pa:0,ta:c,ya:c,za:c,P:c};b(0),this.Ca=function(){samples=new Uint16Array(3704400);for(var a=0;3704400>a;){for(r+=n;r>=e;){for(var i=0;i<A.l;i++){var s=v[i],o=s.B;0==f&&(s.q+=2*s.ha,s.volume+=s.ia),s.volume+=s.ca,s.q+=2*s.na,s.P&&(s.ea++,s.q=2*cj[o][s.xa[s.ea%3]])}++f==h&&(f=0,63==l?b(A.Ia):t(l+1)),r-=e}for(i=rightOutputLevel=leftOutputLevel=0;i<A.l;i++)if((s=v[i]).L){for(s.F+=n;s.F>=s.q;)if(s.D++,2<s.e.oa&&s.D>=s.e.pa+s.e.oa)s.D=s.e.pa;else{if(!(s.D<s.e.length)){s.L=c;break}s.F-=s.q}s.L&&(o=((A.Z[s.$][s.D]+128&255)-128)*s.volume,0&i||1&i?(leftOutputLevel+=3*(o+s.I),rightOutputLevel+=o+255-s.I):(leftOutputLevel+=o+255-s.I,rightOutputLevel+=3*(o+s.I)))}samples[a]=parseInt(32e3*leftOutputLevel/(16384*A.l)*.8),samples[a+1]=parseInt(32e3*rightOutputLevel/(16384*A.l)*.8),a+=2}return samples}}function co(){this.Ja=function(A){A=A.split(","),this.va=parseInt(A[0])||0,this.v=parseFloat(A[1])||0,this.p=parseFloat(A[2])||0,this.La=parseFloat(A[3])||0,this.A=parseFloat(A[4])||0,this.ra=parseFloat(A[5])||0,this.W=parseFloat(A[6])||0,this.aa=parseFloat(A[7])||0,this.R=parseFloat(A[8])||0,this.Xa=parseFloat(A[9])||0,this.Ya=parseFloat(A[10])||0,this.z=parseFloat(A[11])||0,this.Q=parseFloat(A[12])||0,this.Ka=parseFloat(A[13])||0,this.Ba=parseFloat(A[14])||0,this.Y=parseFloat(A[15])||0,this.Ta=parseFloat(A[16])||0,this.Ua=parseFloat(A[17])||0,this.C=parseFloat(A[18])||0,this.Fa=parseFloat(A[19])||0,this.la=parseFloat(A[20])||0,this.T=parseFloat(A[21])||0,this.Ea=parseFloat(A[22])||0,this.ma=parseFloat(A[23])||0}}function cp(){var A,t,b,e,a,i,n,r,s,o,l,h,f,u,R,v,p,w,d,y,g,B,I,x,M,z,P,m,C,Q,E,T,U,S;this.da=new co,this.reset=function(D){var k=this.da;if(R=100/(k.ra*k.ra+.001),v=100/(k.W*k.W+.001),p=1-.01*k.aa*k.aa*k.aa,w=1e-6*-k.R*k.R*k.R,0==k.va&&(I=.5-.5*k.Ka,x=5e-5*-k.Ba),y=0<k.z?1-.9*k.z*k.z:1+10*k.z*k.z,g=0,B=1==k.Q?0:2e4*(1-k.Q)*(1-k.Q)+32,D){for(k.Sa=c,A=k.ma*k.ma,t=k.va,.01>k.p&&(k.p=.01),.18>(D=k.v+k.p+k.A)&&(D=.18/D,k.v*=D,k.p*=D,k.A*=D),f=k.La,u=0,d=k.W,M=1!=k.C||0!=k.T,z=_lpFilterPos=0,P=.1*k.C*k.C*k.C,m=1+1e-4*k.Fa,.8<(C=5/(1+20*k.la*k.la)*(.01+P))&&(C=.8),C=1-C,Q=1!=k.C,E=0,T=.1*k.T*k.T,U=1+3e-4*k.Ea,a=e=b=0,n=1e5*k.v*k.v,r=1e5*k.p*k.p,s=1e5*k.A*k.A+10,i=n,this.G=n+r+s,o=1/n,l=1/r,h=1/s,S||(S=Array(32)),cl=0;32>cl;cl++)S[cl]=2*Math.random()-1;_repeatTime=0,_repeatLimit=0==k.Y?0:parseInt(2e4*(1-k.Y)*(1-k.Y))+32}},this.Ma=function(n,D){for(var k,L,F,O,q,N=0;N<D;N++){if(void 0<=++F&&(F=0,this.reset(c)),0!=B&&++g>=B&&(B=0,R*=y),(R*=p+=w)>v&&(R=v,0<d))return N;if(L=R,8>(L=parseInt(L))&&(L=8),0==t&&(0>(I+=x)?I=0:.5<I&&(I=.5)),++a>i)switch(a=0,++e){case 1:i=r;break;case 2:i=s}switch(e){case 0:b=a*o;break;case 1:b=1+2*(1-a*l)*f;break;case 2:b=1-a*h;break;case 3:return b=0,N}M&&0!=U&&(1e-5>(T*=U)?T=1e-5:.1<T&&(T=.1));for(var H=q=0;8>H;H++){if(++u>=L&&(u-=L,3==t))for(k=0;32>k;k++)S[k]=2*Math.random()-1;switch(t){case 0:O=u/L<I?.5:-.5;break;case 3:O=S[Math.abs(parseInt(32*u/parseInt(L)))]}M&&(k=_lpFilterPos,0>(P*=m)?P=0:.1<P&&(P=.1),Q?(z+=(O-_lpFilterPos)*P,z*=C):(_lpFilterPos=O,z=0),_lpFilterPos+=z,E+=_lpFilterPos-k,O=E*=1-T),q+=O}1<(q*=.125*A*b)?q=1:-1>q&&(q=-1),n[N]=parseInt(32e3*q)}return D}}var bO,bQ,bR,bS,bT,bV,bW,bY,bZ,b$,cb,cc,cd,ce,cf,cg,ch,a=!0,b=null,c=!1,d=window,e=document,bl="#003100",bm="#003b00",bn="#004500",bo="#151515",bp="#202020",bq="#5b5245",br="#72685c",bs="#80766a",bt="#492200",bu="#000",bv="#fff",bw="#ffcc00",bx="#ffff8c",by="#d45500",bz="#ff0000",bA="#ffaaaa",bB="#a91000",bC="#ffcc99",bD="rgba(0,0,0,0.2)",bE="#325128",bF="#7a94c9",bG="#112a5e",bH="#f6ddae",bI=bz,bJ=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(A){window.setTimeout(A,1e3/60)},bK=19,bL=11,bM={g:0,i:1,f:2,c:3},bN={O:0,r:1,wa:2},bP=c,bU=Array(bK),bX=0,b_=Array(4),ca=Array(4);i.prototype.update=function(){return this.b()},j.prototype=new i,k.prototype=new i,l.prototype=new k,m.prototype=new i,n.prototype=new j,o.prototype=new i,p.prototype=new i,q.prototype=new j,r.prototype=new j,s.prototype=new r,t.prototype=new r,d.onload=function(){bR=e.getElementById("c").getContext("2d");try{cb=new window.SfxrSynth;var t=atob(cn),n=new cm(new ci(t)),r=cb.getWave(n.Ca(),3704400,2);(ch=new Audio).loop=a,ch.src=r,(cg=bk("0,,0.0532,,0.1459,0.4123,,-0.6521,,,,,,0.3961,,,,,1,,,0.0584,,0.4")).loop=a,cc=bk("3,,0.1572,0.3281,0.422,0.0723,,0.0993,,,,,,,,0.4485,,,1,,,,,0.5"),ce=bk("0,,0.0589,,0.2623,0.269,,-0.3668,,,,,,0.5726,,,,,1,,,,,0.5"),cf=bk("0,,0.2524,,0.442,0.18,,0.4331,,,,,,0.2551,,0.5655,,,1,,,,,0.5"),cd=bk("0,,0.0119,,0.63,0.1,,0.1163,,,,,,0.1669,,0.7294,,,1,,,,,0.6"),ch.play()}catch(A){ch=cd=cf=ce=cc=cg=t={play:function(){},pause:function(){}}}b$=function(t){switch(t.keyCode){case 38:case 87:return bO.y--,4>bO.y&&(bO.y=7),t.preventDefault(),c;case 40:case 83:return bO.y++,7<bO.y&&(bO.y=4),t.preventDefault(),c;case 32:if(bP)bP=c,bj();else{for(var e=1;2>=e;e++)for(var i=0;4>i;i++){var n=ba(i),r=bO.x+n[0]*e;n=bO.y+n[1]*e;bR.save(),bR.translate(40*r,40*n),bb(.5*Math.PI*i),(2==i||3==i)&&bc(),2==e?$(2):Y(2),bR.restore()}bR.save(),bR.translate(40*bO.x,40*bO.y),Z(2),bR.restore(),7==bO.y?(bP=a,d.setTimeout((function(){bR.save(),x(20,40,760,440,bE),g(20,40,0),g(740,40,.5*Math.PI),g(740,440,Math.PI),g(20,440,1.5*Math.PI),bR.textAlign="left",bR.font="bold 12pt Arial Black",bR.fillStyle=bH,bR.fillText("Player 1 Controls",40,67),bR.fillText("Player 2 Controls",40,267),bR.fillText("Upgrades",520,67),bR.textAlign="center",bR.font="10pt Arial",bR.fillText("Movement",100,180),bR.fillText("Movement",100,380),bR.textAlign="left",bR.fillText("Trigger Bomb (only with Trigger upgrade)",245,104),bR.fillText("Trigger Bomb (only with Trigger upgrade)",245,304),bR.fillText("Plant Bomb",310,144),bR.fillText("Plant Bomb",245,344),_(2,2,"W"),_(1,3,"A"),_(2,3,"S"),_(3,3,"D"),_(5,2,"V"),_(2,7,"↑"),_(1,8,"←"),_(2,8,"↓"),_(3,8,"→"),_(5,7,"Ctrl"),_(5,8,"Alt"),bR.save(),bR.translate(200,120),(t=bR.createLinearGradient(0,0,80,0)).addColorStop(0,br),t.addColorStop(.5,bs),t.addColorStop(1,br),A(2,2,100,36,4,bq),A(6,6,92,28,4,t),bR.restore();for(var t=[N,R,O,Q,S,P],b=0;b<t.length;b++)bR.save(),bR.translate(520,40*(2+b)),t[b](),bR.restore();bR.fillText("Extra Bomb",565,104),bR.fillText("Increase explosion size",565,144),bR.fillText("Faster movement",565,184),bR.fillText("Walk through trees",565,224),bR.fillText("Trigger bombs",565,264),bR.fillText("Kick bombs",565,304),z([[500,50],[500,400]],bH,a,2),bR.textAlign="center",bR.font="bold 14pt Arial Black",bR.fillText("Return by pressing space",400,450)}),500)):(4==bO.y?bQ=bN.O:5==bO.y?bQ=bN.wa:6==bO.y&&(bQ=bN.r),d.removeEventListener("keyup",b$),bO=b,d.setTimeout(bi,500)),cc.play()}return t.preventDefault(),c;case 77:return ch.paused?ch.play():ch.pause(),t.preventDefault(),c}},e.onkeydown=b$,bO=new i(7,4),bj()};for(var cj=[[1712,1616,1524,1440,1356,1280,1208,1140,1076,1016,960,906,856,808,762,720,678,640,604,570,538,508,480,453,428,404,381,360,339,320,302,285,269,254,240,226,214,202,190,180,170,160,151,143,135,127,120,113,107,101,95,90,85,80,75,71,67,63,60,56]],ck={},cl=0;cl<cj[0].length;cl++)ck[cj[0][cl]]=cl;var cn="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";cp.prototype.Da=function(A){this.da.Ja(A),this.reset(a),this.G=parseInt(this.G);A=new Uint16Array(this.G);var t=this.Ma(A,this.G);return this.ja(A,t)},cp.prototype.ja=function(A,t,b){b=b||1;var e=new Uint8Array([82,73,70,70,0,0,0,0,87,65,86,69,102,109,116,32,16,0,0,0,1,0,b,0,68,172,0,0,0,0,0,0,2*b,0,16,0,100,97,116,97,0,0,0,0]),a=2*t,i=new Uint32Array(e.buffer);return i[1]=36+a,i[7]=88200*b,i[10]=a,A=new Blob([e.buffer,A.subarray(0,t-1).buffer],{type:"audio/wav"}),(d.URL||d.webkitURL).createObjectURL(A)},window.SfxrSynth=cp,cp.prototype.getWave=cp.prototype.ja,cp.prototype.getSfx=cp.prototype.Da</script>