<!doctype html><title>Cattlost</title><style>*{margin:0;padding:0}body,html{height:100%;font-family:Verdana,Geneva,sans-serif;text-align:center;background-color:#000}#entryScreen{position:absolute;color:#784b41;font-weight:700;font-size:30px;z-index:100;margin-left:150px}#intr,#win{font-size:20px}#hero{position:absolute;width:30px;height:30px;left:90px;background:url(cattle30.png) -90px 0;z-index:999}.cattle{position:absolute;width:30px;height:30px;z-index:50}.cow{left:0;background:url(cattle30.png) 0 0}.pig{left:30px;background:url(cattle30.png) -30px 0}.sheep{left:60px;background:url(cattle30.png) -60px 0}#farmField{position:absolute;width:900px;height:600px;background-color:#8cc355;border:5px #784b41 solid;z-index:10}#farmFieldExt{position:absolute;width:100px;height:600px;background-color:#784b41;border:5px #784b41 solid;z-index:10;margin-left:910px;color:#fff;font-size:13px;font-weight:700}#farmFieldExt .cattle{margin-top:200px;width:30px;margin-left:15px;background-repeat:no-repeat}#farmFieldExt .cattle>div{margin-top:10px;margin-left:40px}#farmFieldExt .pig{margin-top:245px;margin-left:-15px}#farmFieldExt .sheep{margin-top:285px;margin-left:-45px}#coverField{position:absolute;width:900px;height:600px;border:5px #784b41 solid;z-index:20;opacity:0}#win{display:none}div#coverField{opacity:0}div#coverField.fade{opacity:1;transition:opacity 1s}div#entryScreen{opacity:1}div#entryScreen.fade{opacity:0;transition:opacity 1s}div.cattle{opacity:1;transition:opacity 1s}div.cattle.fade{opacity:0}#barn{position:absolute;width:80px;height:77px;background:url(barn.png) 80px 77px;bottom:0;margin-left:8px}#windmill{position:absolute;width:50px;height:76px;background:url(windmill.png) 50px 76px;margin-left:22px;margin-top:50px}#fan{position:absolute;width:61px;height:61px;background:url(fan.png) 61px 61px;margin-left:17px;margin-top:25px;animation-name:rotate;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}#cowScore,#pigScore,#sheepScore{-webkit-animation-duration:1s;-webkit-animation-timing-function:linear}@keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}</style><body onload=onLoad()><div id=farmField></div><div id=farmFieldExt><div id=barn></div><div id=windmill></div><div id=fan></div><div id=cowScore class="cattle cow"><div>0/7</div></div><div id=pigScore class="cattle pig"><div>0/6</div></div><div id=sheepScore class="cattle sheep"><div>0/7</div></div></div><div id=coverField></div><div id=entryScreen><div><br>Cattlost</div><div id=intr><br><br>Story<br><br>You had a long day in farm<br>And have left the cattle to graze in the open field<br>Its evening time now, sun is about to call its day<br>You need to get your cattle back<br><br><br>Game Play<br><br>Use arrow keys to get yourself moving<br>Press "Space" to start game<br>Press "R" to reset game<br>You have limited view area<br>And the cattle will roam around the field<br>You can't afford to <span style=color:red>LOSE</span> them</div><div id=win><br><br><br>Game Over<br><br>Yes, you are a hero!<br>You saved your cattle from losing in wild<br>Press "R" to restart game</div></div><script>var heroDiv,farmFieldDiv,entryScreenDiv,coverFieldDiv,cowScoreDiv,pigScoreDiv,sheepScoreDiv,cattleTimer,flag,cattleArr=new Array,cattleX=new Array,cattleY=new Array,coverArr=new Array,heroX=19,heroY=29,score=0,cowScore=0,pigScore=0,sheepScore=0,cattleCount=20;function onLoad(){farmFieldDiv=document.getElementById("farmField"),coverFieldDiv=document.getElementById("coverField"),entryScreenDiv=document.getElementById("entryScreen"),cowScoreDiv=document.getElementById("cowScore"),pigScoreDiv=document.getElementById("pigScore"),sheepScoreDiv=document.getElementById("sheepScore"),window.addEventListener("keydown",checkSpace,!1);for(var e=0;e<20;e++)for(var t=0;t<30;t++)createCover(e,t);resetGame();for(var r=0;r<cattleCount;++r)createCattle(r);cowScoreDiv.addEventListener("webkitAnimationEnd",(function(){this.style.webkitAnimationName=""}),!1),pigScoreDiv.addEventListener("webkitAnimationEnd",(function(){this.style.webkitAnimationName=""}),!1),sheepScoreDiv.addEventListener("webkitAnimationEnd",(function(){this.style.webkitAnimationName=""}),!1)}function checkSpace(e){null!=e&&"32"==e.keyCode&&startGame()}function startGame(){entryScreenDiv.classList.toggle("fade"),coverFieldDiv.classList.toggle("fade"),window.removeEventListener("keydown",checkSpace,!1),window.addEventListener("keydown",checkKeyPressed,!1),checkKeyPressed(null),cattleTimer=setInterval(changePos,5e3)}function checkKeyPressed(e){null!=e&&("40"==e.keyCode&&parseInt(heroDiv.style.top)<570&&(heroDiv.style.top=parseInt(heroDiv.style.top)+30+"px",heroX++),"39"==e.keyCode&&parseInt(heroDiv.style.left)<870&&(heroDiv.style.left=parseInt(heroDiv.style.left)+30+"px",heroY++),"38"==e.keyCode&&parseInt(heroDiv.style.top)>0&&(heroDiv.style.top=parseInt(heroDiv.style.top)-30+"px",heroX--),"37"==e.keyCode&&parseInt(heroDiv.style.left)>0&&(heroDiv.style.left=parseInt(heroDiv.style.left)-30+"px",heroY--),"82"==e.keyCode?(window.removeEventListener("keydown",checkKeyPressed,!1),resetGame(flag="reset")):flag=""),setUserLight();for(var t=0;t<cattleArr.length;t++){var r=cattleArr[t];parseInt(heroDiv.style.left)==parseInt(r.style.left)&&parseInt(heroDiv.style.top)==parseInt(r.style.top)&&(r.classList.contains("cow")&&(score+=3,cowScore++,cowScoreDiv.style.webkitAnimationName="shake"),r.classList.contains("sheep")&&(score+=2,sheepScore++,sheepScoreDiv.style.webkitAnimationName="shake"),r.classList.contains("pig")&&(score+=1,pigScore++,pigScoreDiv.style.webkitAnimationName="shake"),r.classList.toggle("fade"),cattleArr.splice(t,1))}cowScoreDiv.childNodes[0].innerHTML=cowScore+"/7",pigScoreDiv.childNodes[0].innerHTML=pigScore+"/6",sheepScoreDiv.childNodes[0].innerHTML=sheepScore+"/7",0==cattleArr.length&&"reset"!=flag&&resetGame("win")}function setUserLight(){for(var e=coverFieldDiv.childNodes,t=0;t<e.length;t++)e[t].style.visibility="visible";var r=document.getElementById(heroX+"."+heroY),o=document.getElementById(heroX+1+"."+(heroY+1)),i=document.getElementById(heroX-1+"."+(heroY-1)),n=document.getElementById(heroX+1+"."+(heroY-1)),l=document.getElementById(heroX-1+"."+(heroY+1)),c=document.getElementById(heroX-1+"."+heroY),a=document.getElementById(heroX+1+"."+heroY),s=document.getElementById(heroX+"."+(heroY+1)),d=document.getElementById(heroX+"."+(heroY-1));r&&(r.style.visibility="hidden"),o&&(o.style.visibility="hidden"),i&&(i.style.visibility="hidden"),n&&(n.style.visibility="hidden"),l&&(l.style.visibility="hidden"),c&&(c.style.visibility="hidden"),a&&(a.style.visibility="hidden"),s&&(s.style.visibility="hidden"),d&&(d.style.visibility="hidden")}function createCattle(e){var t=document.createElement("DIV");farmFieldDiv.appendChild(t),t.className=e<7?"cattle cow":e>=7&&e<13?"cattle pig":"cattle sheep",t.style.top=30*cattleY[e]+"px",t.style.left=30*cattleX[e]+"px",cattleArr.push(t)}function createCover(e,t){var r=document.createElement("DIV");coverFieldDiv.appendChild(r),r.className="cover",r.id=e+"."+t,r.setAttribute("data-attr",t),r.style.width=r.style.height="30px",r.style.backgroundColor="#000000",r.style.cssFloat="left",r.style.zIndex=e*t+900,coverArr.push(r)}function changePos(){getNewPos();for(var e=0;e<cattleArr.length;e++){var t=cattleArr[e];t.style.top=30*cattleY[e]+"px",t.style.left=30*cattleX[e]+"px"}}function getNewPos(){for(cattleX=new Array,cattleY=new Array;cattleX.length<cattleArr.length;){var e=Math.floor(30*Math.random());cattleX.indexOf(e)>-1||(cattleX[cattleX.length]=e)}for(;cattleY.length<cattleArr.length;){var t=Math.floor(20*Math.random());cattleY.indexOf(t)>-1||(cattleY[cattleY.length]=t)}}function resetGame(e){for("win"==e&&(flag="",entryScreenDiv.style.opacity=1,coverFieldDiv.style.opacity=0,document.getElementById("win").style.display="block",document.getElementById("intr").style.display="none",window.addEventListener("keydown",checkRestart,!1)),window.removeEventListener("keydown",checkKeyPressed,!1),clearInterval(cattleTimer),farmFieldDiv.innerHTML="",heroDiv=document.createElement("DIV"),farmFieldDiv.appendChild(heroDiv),heroDiv.id="hero",heroDiv.style.left="870px",heroDiv.style.top="570px",cattleArr=new Array,cattleX=new Array,cattleY=new Array,coverArr=new Array,heroX=19,heroY=29,score=0,cowScore=0,pigScore=0,sheepScore=0,cattleCount=20,heroDiv.style.left="870px",heroDiv.style.top="570px",setUserLight();cattleX.length<cattleCount;){var t=Math.floor(30*Math.random());cattleX.indexOf(t)>-1||(cattleX[cattleX.length]=t)}for(;cattleY.length<cattleCount;){var r=Math.floor(20*Math.random());cattleY.indexOf(r)>-1||(cattleY[cattleY.length]=r)}"reset"==e&&(flag="reset",restartGame())}function checkRestart(e){null!=e&&"82"==e.keyCode&&restartGame()}function restartGame(){window.removeEventListener("keydown",checkRestart,!1),window.addEventListener("keydown",checkKeyPressed,!1),flag="",entryScreenDiv.style.opacity=0,coverFieldDiv.style.opacity=1;for(var e=0;e<cattleCount;++e)createCattle(e);cattleTimer=setInterval(changePos,5e3)}</script>