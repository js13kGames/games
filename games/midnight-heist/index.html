<!DOCTYPE html><html><head><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1.0"><title>Black Cat's Midnight Heist</title><script src=/2025/webxr/babylon.js></script><style>*{margin:0;padding:0;box-sizing:border-box}body,html{overflow:hidden;width:100%;height:100%;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#0a0a1a;color:#fff}#renderCanvas{width:100%;height:100%;touch-action:none}#ui{position:absolute;top:20px;left:0;width: 100%;text-align: center;z-index: 10;pointer-events: none;}.stat-container {display: inline-flex;background: rgba(10, 10, 26, 0.85);border-radius: 20px;padding: 12px 25px;box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);border: 1px solid rgba(255, 255, 255, 0.1);backdrop-filter: blur(5px);}.stat {display: flex;align-items: center;margin: 0 15px;font-size: 18px;}.stat i {margin-right: 8px;color: #f8c301;}#lives {color: #ff5a5a;}#lives i {color: #ff5a5a;}#level {color: #6a38b3;}#level i {color: #6a38b3;}#startScreen {position: absolute;top: 0;left: 0;width: 100%;height: 100%;background: radial-gradient(circle at center, #1a1a3a 0%, #0a0a1a 100%);display: flex;flex-direction: column;justify-content: center;align-items: center;z-index: 20;color: white;transition: opacity 0.8s ease;}.title-container {text-align: center;margin-bottom: 40px;position: relative;}h1 {font-size: 3.5rem;margin-bottom: 15px;color: #f8c301;text-shadow: 0 0 15px rgba(248, 195, 1, 0.7);letter-spacing: 2px;position: relative;animation: glow 2s infinite alternate;}.subtitle {font-size: 1.5rem;color: #a594f9;margin-bottom: 30px;}.game-info {background: rgba(20, 20, 40, 0.7);border-radius: 15px;padding: 25px;max-width: 600px;margin-bottom: 30px;border: 1px solid rgba(165, 148, 249, 0.3);}.info-text {font-size: 1.1rem;margin-bottom: 12px;display: flex;align-items: center;justify-content: center;}.info-text i {margin-right: 10px;color: #6a38b3;width: 25px;}.controls-container {display: flex;justify-content: center;gap: 30px;margin: 20px 0;}.control-item {background: rgba(106, 56, 179, 0.2);padding: 15px;border-radius: 10px;width: 140px;border: 1px solid rgba(165, 148, 249, 0.2);}.control-item i {font-size: 2rem;margin-bottom: 8px;color: #a594f9;}#startButton {background: linear-gradient(135deg, #6a38b3 0%, #8a5cd9 100%);color: white;border: none;padding: 18px 45px;font-size: 1.3rem;border-radius: 50px;cursor: pointer;margin-top: 20px;transition: all 0.3s;box-shadow: 0 5px 15px rgba(106, 56, 179, 0.4);letter-spacing: 1px;font-weight: bold;}#startButton:hover {transform: scale(1.05);box-shadow: 0 7px 20px rgba(106, 56, 179, 0.6);}#gameOver {display: none;position: absolute;top: 0;left: 0;width: 100%;height: 100%;background: rgba(10, 10, 26, 0.95);flex-direction: column;justify-content: center;align-items: center;z-index: 30;color: white;opacity: 0;transition: opacity 0.8s ease;}#gameOver h2 {font-size: 3rem;color: #ff5a5a;margin-bottom: 20px;text-shadow: 0 0 10px rgba(255, 90, 90, 0.5);}#finalScore {font-size: 1.5rem;margin-bottom: 30px;}#restartButton {background: linear-gradient(135deg, #6a38b3 0%, #8a5cd9 100%);color: white;border: none;padding: 15px 40px;font-size: 1.2rem;border-radius: 50px;cursor: pointer;margin-top: 20px;transition: all 0.3s;box-shadow: 0 5px 15px rgba(106, 56, 179, 0.4);}#restartButton:hover {transform: scale(1.05);box-shadow: 0 7px 20px rgba(106, 56, 179, 0.6);}#xrButton {position: absolute;bottom: 20px;right: 20px;background: rgba(106, 56, 179, 0.5);color: white;border: none;padding: 12px 20px;border-radius: 50px;cursor: pointer;z-index: 40;backdrop-filter: blur(5px);border: 1px solid rgba(255, 255, 255, 0.1);}@keyframes glow {from { text-shadow: 0 0 10px rgba(248, 195, 1, 0.7); }to { text-shadow: 0 0 20px rgba(248, 195, 1, 0.9), 0 0 30px rgba(248, 195, 1, 0.6); }}@keyframes float {0% { transform: translateY(0px); }50% { transform: translateY(-10px); }100% { transform: translateY(0px); }}.notification {position: absolute;top: 100px;left: 50%;transform: translateX(-50%);background: rgba(20, 20, 40, 0.9);color: white;padding: 12px 25px;border-radius: 30px;opacity: 0;transition: opacity 0.5s ease;pointer-events: none;z-index: 15;box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);border: 1px solid rgba(255, 255, 255, 0.1);}#touchControls {position: absolute;bottom: 80px;width: 100%;display: none;justify-content: center;gap: 20px;}.touch-btn {width: 70px;height: 70px;background: rgba(106, 56, 179, 0.3);border-radius: 50%;display: flex;justify-content: center;align-items: center;font-size: 28px;color: white;user-select: none;backdrop-filter: blur(5px);border: 1px solid rgba(255, 255, 255, 0.1);box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);}#touchUpDown {display: flex;flex-direction: column;gap: 15px;}@media (max-width: 768px) {h1 {font-size: 2.5rem;}.subtitle {font-size: 1.2rem;}.game-info {padding: 15px;max-width: 90%;}.info-text {font-size: 1rem;}.controls-container {flex-direction: column;gap: 15px;}.stat {font-size: 16px;margin: 0 10px;}#touchControls {display: flex;}}</style></head><body><canvas id="renderCanvas"></canvas><div id="ui"><div class="stat-container"><div class="stat" id="score"><i class="fas fa-fish"></i><span>0</span></div><div class="stat" id="lives"><i class="fas fa-heart"></i><span>9</span></div><div class="stat" id="level"><i class="fas fa-level-up-alt"></i><span>1</span></div></div><div id="notification" class="notification"></div></div><div id="startScreen"><div class="title-container"><h1>Black Cat's Midnight Heist</h1><div class="subtitle">Steal the fish without getting caught!</div></div><div class="game-info"><div class="info-text"><i class="fas fa-info-circle"></i> You're a black cat on a mission to collect fish while avoiding obstacles!</div><div class="info-text"><i class="fas fa-exclamation-triangle"></i> Watch out for the dog and falling obstacles!</div><div class="info-text"><i class="fas fa-trophy"></i> Collect 5 fish to advance to the next level.</div><div class="info-text"><i class="fas fa-vr-cardboard"></i> Now with WebXR support! Use VR/AR headsets for immersive gameplay.</div></div><div class="controls-container"><div class="control-item"><i class="fas fa-vr-cardboard"></i><div>VR/AR Controls</div></div><div class="control-item"><i class="fas fa-mobile-alt"></i><div>Device Motion</div></div><div class="control-item"><i class="fas fa-gamepad"></i><div>XR Controllers</div></div></div><button id="startButton">START GAME</button></div><div id="gameOver"><h2>Game Over</h2><p id="finalScore">You collected 0 fish</p><button id="restartButton">PLAY AGAIN</button></div><button id="xrButton">ENTER XR</button><script>let score = 0;let lives = 9;let level = 1;let gameActive = false;let isInXR = false;let cat, ground, dog;let obstacles = [];let fishes = [];let engine, scene, xrHelper;let moveLeft = false, moveRight = false, moveUp = false, moveDown = false;let audioContext;function initGame() {const canvas = document.getElementById('renderCanvas');engine = new BABYLON.Engine(canvas, true);scene = new BABYLON.Scene(engine);scene.clearColor = new BABYLON.Color3(0.05, 0.05, 0.1);const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);light.intensity = 0.7;const dirLight = new BABYLON.DirectionalLight("dirLight", new BABYLON.Vector3(0, -1, 1), scene);dirLight.intensity = 0.5;const camera = new BABYLON.UniversalCamera("camera", new BABYLON.Vector3(0, 5, -10), scene);camera.setTarget(BABYLON.Vector3.Zero());camera.attachControl(canvas, true);initWebXR();createGround();createCat();createFishes(5);createDog();createStars();setupDeviceOrientation();scene.onBeforeRenderObservable.add(gameLoop);window.addEventListener('resize', () => {engine.resize();});engine.runRenderLoop(() => {scene.render();});}function createGround() {ground = BABYLON.MeshBuilder.CreateGround("ground", {width: 20, height: 20}, scene);const groundMat = new BABYLON.StandardMaterial("groundMat", scene);groundMat.diffuseColor = new BABYLON.Color3(0.1, 0.3, 0.1);ground.material = groundMat;ground.position.y = -0.5;ground.checkCollisions = true;}function initWebXR() {const xrPromise = scene.createDefaultXRExperienceAsync({floorMeshes: [ground]}).then((xrExperience) => {xrHelper = xrExperience;const xrButton = document.getElementById("xrButton");xrButton.onclick = () => {xrExperience.baseExperience.enterXRAsync("immersive-vr", "local-floor");};xrExperience.baseExperience.onStateChangedObservable.add((state) => {isInXR = (state === BABYLON.WebXRState.IN_XR);if (isInXR) {xrExperience.baseExperience.camera.position = new BABYLON.Vector3(0, 5, -10);xrExperience.baseExperience.camera.setTarget(BABYLON.Vector3.Zero());}});setupXRControls(xrExperience);}).catch((error) => {console.error("Error creating XR experience:", error);document.getElementById("xrButton").style.display = "none";});}function setupXRControls(xrExperience) {xrExperience.input.onControllerAddedObservable.add((controller) => {controller.onMotionControllerInitObservable.add((motionController) => {if (motionController.handness === "left") {const thumbstick = motionController.getComponent("xr-standard-thumbstick");if (thumbstick) {thumbstick.onAxisValueChangedObservable.add((value) => {if (!gameActive || !isInXR) return;handleXRMovement(value);});}}});});}function handleXRMovement(value) {const moveSpeed = 0.1 + (level * 0.02);cat.position.x += value.x * moveSpeed;cat.position.z -= value.y * moveSpeed;cat.position.x = Math.min(9, Math.max(-9, cat.position.x));cat.position.z = Math.min(9, Math.max(-9, cat.position.z));if (value.x < -0.1) cat.rotation.z = Math.PI / 12;else if (value.x > 0.1) cat.rotation.z = -Math.PI / 12;else cat.rotation.z = 0;}function createCat() {cat = BABYLON.MeshBuilder.CreateSphere("catBody", {diameter: 0.8, segments: 16}, scene);cat.position.y = 0.5;const catMat = new BABYLON.StandardMaterial("catMat", scene);catMat.diffuseColor = new BABYLON.Color3(0.05, 0.05, 0.05);catMat.specularColor = new BABYLON.Color3(0.1, 0.1, 0.1);const furTexture = new BABYLON.NoiseProceduralTexture("furTexture", 256, scene);furTexture.animationSpeedFactor = 0;furTexture.persistence = 0.5;furTexture.brightness = 0.5;furTexture.octaves = 4;catMat.diffuseTexture = furTexture;catMat.diffuseTexture.level = 0.5;cat.material = catMat;createCatDetails(cat, catMat);scene.collisionsEnabled = true;cat.checkCollisions = true;cat.ellipsoid = new BABYLON.Vector3(0.5, 0.5, 0.5);}function createCatDetails(cat, catMat) {const head = BABYLON.MeshBuilder.CreateSphere("catHead", {diameter: 0.5, segments: 16}, scene);head.position.y = 0.9;head.position.z = 0.4;head.parent = cat;head.material = catMat;createCatEars(cat, catMat);const tail = BABYLON.MeshBuilder.CreateCylinder("tail", {diameter: 0.08, height: 1}, scene);tail.position.y = 0.3;tail.position.z = -0.5;tail.rotation.x = Math.PI / 3;tail.parent = cat;tail.material = catMat;createCatEyes(cat);}function createCatEars(cat, catMat) {const ear1 = BABYLON.MeshBuilder.CreateCylinder("ear1", {diameterTop: 0, diameterBottom: 0.2, height: 0.3, tessellation: 3}, scene);ear1.position.y = 1.1;ear1.position.x = -0.15;ear1.position.z = 0.4;ear1.rotation.x = Math.PI / 4;ear1.parent = cat;ear1.material = catMat;const ear2 = BABYLON.MeshBuilder.CreateCylinder("ear2", {diameterTop: 0, diameterBottom: 0.2, height: 0.3, tessellation: 3}, scene);ear2.position.y = 1.1;ear2.position.x = 0.15;ear2.position.z = 0.4;ear2.rotation.x = Math.PI / 4;ear2.parent = cat;ear2.material = catMat;}function createCatEyes(cat) {const eyeMat = new BABYLON.StandardMaterial("eyeMat", scene);eyeMat.emissiveColor = new BABYLON.Color3(0.2, 0.2, 0.8);const eye1 = BABYLON.MeshBuilder.CreateSphere("eye1", {diameter: 0.1}, scene);eye1.position.y = 0.95;eye1.position.x = -0.12;eye1.position.z = 0.6;eye1.parent = cat;eye1.material = eyeMat;const eye2 = BABYLON.MeshBuilder.CreateSphere("eye2", {diameter: 0.1}, scene);eye2.position.y = 0.95;eye2.position.x = 0.12;eye2.position.z = 0.6;eye2.parent = cat;eye2.material = eyeMat;}function createStars() {for (let i = 0; i < 100; i++) {const star = BABYLON.MeshBuilder.CreateSphere("star", {diameter: 0.1}, scene);star.position.x = Math.random() * 40 - 20;star.position.y = Math.random() * 20;star.position.z = Math.random() * 40 - 20;const starMat = new BABYLON.StandardMaterial("starMat", scene);starMat.emissiveColor = new BABYLON.Color3(1, 1, 1);star.material = starMat;star.isVisible = false;const starLight = new BABYLON.PointLight("starLight", star.position, scene);starLight.intensity = 0.1;starLight.diffuse = new BABYLON.Color3(1, 1, 1);}}function setupDeviceOrientation() {if (window.DeviceOrientationEvent) {window.addEventListener('deviceorientation', handleDeviceOrientation);}}function handleDeviceOrientation(event) {if (!gameActive || isInXR) return;const x = event.gamma ? Math.min(1, Math.max(-1, event.gamma / 45)) : 0;const z = event.beta ? Math.min(1, Math.max(-1, (event.beta - 90) / 45)) : 0;const moveSpeed = 0.1 + (level * 0.02);cat.position.x += x * moveSpeed;cat.position.z += z * moveSpeed;if (x < -0.1) cat.rotation.z = Math.PI / 12;else if (x > 0.1) cat.rotation.z = -Math.PI / 12;else cat.rotation.z = 0;cat.position.x = Math.min(9, Math.max(-9, cat.position.x));cat.position.z = Math.min(9, Math.max(-9, cat.position.z));}function createFishes(count) {for (let i = 0; i < count; i++) {const fish = BABYLON.MeshBuilder.CreateCylinder("fish", {diameter: 0.3, height: 0.8, tessellation: 6}, scene);fish.position.x = Math.random() * 18 - 9;fish.position.z = Math.random() * 18 - 9;fish.position.y = 0.2;fish.rotation.x = Math.PI / 2;const fishMat = new BABYLON.StandardMaterial("fishMat", scene);fishMat.diffuseColor = new BABYLON.Color3(1, 0.7, 0.2);fishMat.specularColor = new BABYLON.Color3(0.5, 0.5, 0.5);fish.material = fishMat;createFishDetails(fish, fishMat);fish.checkCollisions = true;fish.ellipsoid = new BABYLON.Vector3(0.2, 0.2, 0.2);animateFish(fish);fishes.push(fish);}}function createFishDetails(fish, fishMat) {const tail = BABYLON.MeshBuilder.CreateBox("tail", {width: 0.2, height: 0.4, depth: 0.1}, scene);tail.position.z = -0.4;tail.parent = fish;tail.material = fishMat;const fin = BABYLON.MeshBuilder.CreateBox("fin", {width: 0.1, height: 0.3, depth: 0.1}, scene);fin.position.y = 0.2;fin.parent = fish;fin.material = fishMat;}function animateFish(fish) {const anim = new BABYLON.Animation("fishAnim", "position.y", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT);const keys = [];keys.push({ frame: 0, value: 0.2 });keys.push({ frame: 30, value: 0.4 });keys.push({ frame: 60, value: 0.2 });anim.setKeys(keys);fish.animations = [anim];scene.beginAnimation(fish, 0, 60, true);}function createDog() {dog = BABYLON.MeshBuilder.CreateCylinder("dog", {diameter: 1, height: 1}, scene);dog.position.x = 0;dog.position.z = 10;dog.position.y = 0.5;const dogMat = new BABYLON.StandardMaterial("dogMat", scene);dogMat.diffuseColor = new BABYLON.Color3(0.6, 0.4, 0.2);dog.material = dogMat;dog.checkCollisions = true;dog.ellipsoid = new BABYLON.Vector3(0.5, 0.5, 0.5);createDogDetails(dog);}function createDogDetails(dog) {const dogHead = BABYLON.MeshBuilder.CreateSphere("dogHead", {diameter: 0.7}, scene);dogHead.position.y = 0.8;dogHead.position.z = 0.3;dogHead.parent = dog;createDogEyes(dogHead);}function createDogEyes(dogHead) {const eye1 = BABYLON.MeshBuilder.CreateSphere("eye1", {diameter: 0.1}, scene);eye1.position.y = 0.85;eye1.position.x = -0.2;eye1.position.z = 0.6;const eyeMat1 = new BABYLON.StandardMaterial("eyeMat1", scene);eyeMat1.diffuseColor = new BABYLON.Color3(1, 0, 0);eyeMat1.emissiveColor = new BABYLON.Color3(0.5, 0, 0);eye1.material = eyeMat1;eye1.parent = dogHead;const eye2 = BABYLON.MeshBuilder.CreateSphere("eye2", {diameter: 0.1}, scene);eye2.position.y = 0.85;eye2.position.x = 0.2;eye2.position.z = 0.6;const eyeMat2 = new BABYLON.StandardMaterial("eyeMat2", scene);eyeMat2.diffuseColor = new BABYLON.Color3(1, 0, 0);eyeMat2.emissiveColor = new BABYLON.Color3(0.5, 0, 0);eye2.material = eyeMat2;eye2.parent = dogHead;}function gameLoop() {if (!gameActive) return;handlePlayerMovement();updateObstacles();updateDog();checkCollisions();}function handlePlayerMovement() {const moveSpeed = 0.1 + (level * 0.02);if (moveLeft) cat.position.x -= moveSpeed;if (moveRight) cat.position.x += moveSpeed;if (moveUp) cat.position.z -= moveSpeed;if (moveDown) cat.position.z += moveSpeed;if (moveLeft) cat.rotation.z = Math.PI / 12;else if (moveRight) cat.rotation.z = -Math.PI / 12;else cat.rotation.z = 0;cat.position.x = Math.min(9, Math.max(-9, cat.position.x));cat.position.z = Math.min(9, Math.max(-9, cat.position.z));}function updateObstacles() {if (Math.random() < (0.01 + level * 0.005)) {createObstacle();}for (let i = obstacles.length - 1; i >= 0; i--) {const obstacle = obstacles[i];obstacle.position.y -= 0.1 + (level * 0.02);obstacle.rotation.x += 0.05;obstacle.rotation.z += 0.05;if (obstacle.position.y < -5) {obstacle.dispose();obstacles.splice(i, 1);}}}function createObstacle() {const obstacleTypes = ['sphere', 'box', 'cylinder'];const type = obstacleTypes[Math.floor(Math.random() * obstacleTypes.length)];let obstacle;if (type === 'sphere') {obstacle = BABYLON.MeshBuilder.CreateSphere("obstacle", {diameter: 0.6}, scene);} else if (type === 'box') {obstacle = BABYLON.MeshBuilder.CreateBox("obstacle", {size: 0.6}, scene);} else {obstacle = BABYLON.MeshBuilder.CreateCylinder("obstacle", {diameter: 0.5, height: 0.6}, scene);}obstacle.position.x = Math.random() * 18 - 9;obstacle.position.z = Math.random() * 18 - 9;obstacle.position.y = 10;const obstacleMat = new BABYLON.StandardMaterial("obstacleMat", scene);obstacleMat.diffuseColor = new BABYLON.Color3(0.8, 0.1, 0.1);obstacle.material = obstacleMat;obstacle.checkCollisions = true;obstacle.ellipsoid = new BABYLON.Vector3(0.3, 0.3, 0.3);obstacles.push(obstacle);}function updateDog() {const dogSpeed = 0.05 + (level * 0.01);dog.position.z -= dogSpeed;if (dog.position.z < -10) {dog.position.z = 10;dog.position.x = Math.random() * 18 - 9;}dog.lookAt(cat.position);}function checkCollisions() {checkFishCollisions();checkObstacleCollisions();checkDogCollision();}function checkFishCollisions() {for (let i = fishes.length - 1; i >= 0; i--) {const fish = fishes[i];if (cat.intersectsMesh(fish, false)) {fish.dispose();fishes.splice(i, 1);score++;updateUI();const scoreElement = document.querySelector('#score span');scoreElement.style.transform = 'scale(1.5)';setTimeout(() => { scoreElement.style.transform = 'scale(1)'; }, 300);playSound(500, 0.2, 'sine');showNotification('+1 Fish!', '#f8c301');if (fishes.length === 0) {levelUp();}}}}function levelUp() {level++;createFishes(5 + level);updateUI();showNotification('Level Up!', '#6a38b3');playSound(800, 0.5, 'sine');}function checkObstacleCollisions() {for (let i = obstacles.length - 1; i >= 0; i--) {const obstacle = obstacles[i];if (cat.intersectsMesh(obstacle, false)) {obstacle.dispose();obstacles.splice(i, 1);lives--;updateUI();const livesElement = document.querySelector('#lives span');livesElement.style.transform = 'scale(1.5)';setTimeout(() => { livesElement.style.transform = 'scale(1)'; }, 300);playSound(200, 0.3, 'square');showNotification('Ouch! -1 Life', '#ff5a5a');const originalEmissive = cat.material.emissiveColor;cat.material.emissiveColor = new BABYLON.Color3(1, 0, 0);setTimeout(() => {cat.material.emissiveColor = originalEmissive;}, 300);if (lives <= 0) {endGame();}}}}function checkDogCollision() {if (cat.intersectsMesh(dog, false)) {lives = 0;updateUI();playSound(150, 0.5, 'sawtooth');showNotification('Caught by the dog!', '#ff5a5a');endGame();}}function showNotification(text, color) {const notification = document.getElementById('notification');notification.textContent = text;notification.style.color = color;notification.style.opacity = '1';setTimeout(() => {notification.style.opacity = '0';}, 2000);}function playSound(frequency, duration, type) {try {if (!audioContext) {audioContext = new (window.AudioContext || window.webkitAudioContext)();}const oscillator = audioContext.createOscillator();const gainNode = audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(audioContext.destination);oscillator.type = type || 'sine';oscillator.frequency.value = frequency;gainNode.gain.value = 0.1;oscillator.start();gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + duration);setTimeout(() => {oscillator.stop();}, duration * 1000);} catch (e) {console.log("Web Audio API not supported");}}function updateUI() {document.querySelector('#score span').textContent = score;document.querySelector('#lives span').textContent = lives;document.querySelector('#level span').textContent = level;}function startGame() {document.getElementById('startScreen').style.opacity = '0';setTimeout(() => {document.getElementById('startScreen').style.display = 'none';}, 800);gameActive = true;if (!audioContext) {audioContext = new (window.AudioContext || window.webkitAudioContext)();}}function endGame() {gameActive = false;document.getElementById('finalScore').textContent = `You collected ${score} fish`;document.getElementById('gameOver').style.display = 'flex';setTimeout(() => {document.getElementById('gameOver').style.opacity = '1';}, 10);}function restartGame() {fishes.forEach(fish => fish.dispose());fishes = [];obstacles.forEach(obstacle => obstacle.dispose());obstacles = [];if (dog) dog.dispose();score = 0;lives = 9;level = 1;updateUI();cat.position.x = 0;cat.position.z = 0;cat.rotation.z = 0;createFishes(5);createDog();document.getElementById('gameOver').style.opacity = '0';setTimeout(() => {document.getElementById('gameOver').style.display = 'none';}, 800);gameActive = true;}window.addEventListener('load', () => {initGame();document.getElementById('startButton').addEventListener('click', startGame);document.getElementById('restartButton').addEventListener('click', restartGame);setupKeyboardControls();});function setupKeyboardControls() {window.addEventListener('keydown', (e) => {if (!gameActive || isInXR) return;switch(e.key) {case 'ArrowLeft':moveLeft = true;break;case 'ArrowRight':moveRight = true;break;case 'ArrowUp':moveUp = true;break;case 'ArrowDown':moveDown = true;break;}});window.addEventListener('keyup', (e) => {switch(e.key) {case 'ArrowLeft':moveLeft = false;break;case 'ArrowRight':moveRight = false;break;case 'ArrowUp':moveUp = false;break;case 'ArrowDown':moveDown = false;break;}});}</script></body></html>