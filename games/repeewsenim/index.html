<!doctype html><meta name=viewport content="width=device-width,shrink-to-fit=no"><style id=webmakerstyle>:root{--unit:100px}*{box-sizing:border-box}:focus{outline-offset:3px;outline-color:#000;outline-width:5px;outline-style:dashed}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:200%;line-height:1.4;max-width:100vw;overflow-x:hidden;margin:0;min-height:100vh;background:linear-gradient(180deg,#141142,#58549c 82%,#46345a);color:#b5b1fb;text-align:center;position:relative}@media screen and (max-width:400px){body{font-size:100%}}.link{color:#faebd7}.small-text{font-size:.7em}.screen{top:0;left:0;right:0;bottom:0;opacity:0;width:100vw;min-height:90vh;overflow-x:hidden;display:none}.screen.visible{opacity:1;visibility:visible;display:block}.btn{font-family:inherit;font-size:inherit;padding:1rem 2rem;margin:.5rem;border:4px solid #000;box-shadow:6px 6px;cursor:pointer;transition:.25s ease;will-change:transform}.btn:focus,.btn:hover{transform:rotate(6deg)}.btn:active{box-shadow:1px 1px}.btn p{margin-bottom:0}summary{cursor:pointer}.container{transform:rotateX(60deg) rotateY(0) rotate(-45deg);position:relative;width:calc(var(--unit)*6);transform-origin:center center}.tile{font-size:calc(var(--unit)*.7);text-align:center;--border-width:0.1em;width:var(--unit);height:var(--unit);position:absolute;background:#8ba069;border-left:var(--border-width) solid rgba(0,0,0,.5);border-bottom:var(--border-width) solid rgba(0,0,0,.3);color:#414e2d;contain:size layout style;transition:opacity .25s ease,border .25s ease,margin .25s ease,color .25s ease}.tile:not(.hole):not(.cover){text-shadow:7px -4px 0 rgba(0,0,0,.5),6px -4px 0 rgba(0,0,0,.6),0 -4px 0 hsla(0,0%,100%,.6)}.game-started .tile:not(.hole):not(.cover):focus,.game-started .tile:not(.hole):not(.cover):hover{margin-left:10px;margin-top:-10px;z-index:10;box-shadow:5px -5px 20px 2px rgba(0,0,0,.35)}.cover{border:0;background:#3b3779;height:20px}.hole:before{content:"";display:block;position:absolute;width:10px;height:200vw;bottom:200vh;background:#fff;left:20px;opacity:0;transition:.5s ease;transition-delay:var(--blast-delay)}.bomb-place-anim-1 .hole:before{opacity:1;bottom:30px}.bomb-place-anim-2 .hole:before{height:0}.bomb-place-anim-2 .hole{background:#fff}.game-started .hole{--hole-width:0.5em;background:#dc143c;border-left:0;border-bottom:0;border-right:var(--hole-width) solid rgba(0,0,0,.5);border-top:var(--hole-width) solid rgba(0,0,0,.3)}.game-started .hole:after{content:"üí£";display:block;margin:-.2em 0 0 .1em}.tile:focus{outline-width:8px;outline-style:solid;outline-color:#000}.overlay{background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,0) 50%,rgba(0,0,0,.2) 70%,rgba(0,0,0,.4));background-size:5px 5px;pointer-events:none;position:fixed;z-index:3;left:0;right:0;top:0;bottom:0;opacity:.4}[data-screen=game]{flex-direction:column}.game-board,[data-screen=game].visible{display:flex;justify-content:center;align-items:center;perspective:1170px;transition:perspective-origin 2s cubic-bezier(.42,0,.24,1.01)}details{margin:2rem auto;padding:2rem;color:#000;background:#fff;transition:.5s cubic-bezier(.5,-.03,.25,1);border:5px solid;box-shadow:6px 6px;width:95vw;max-width:600px}details[open]{transform:translateY(-240px);max-width:95vw}.message{position:fixed;contain:layout style paint;top:30vh;left:50%;width:3px;height:10px;transform:translateX(-50%);overflow:hidden;background:#fff;color:#000;transition:.4s cubic-bezier(.99,-.1,.71,1.68)}.message__text{overflow:hidden;max-height:0}.message-anim-1 .message{width:90vw}.message-anim-2 .message{transition:.3s ease;width:90vw;transform:translateX(-50%) scale(1);border:5px solid #000;box-shadow:6px 6px}.message-anim-2 .message__text{max-height:700px}.message-anim-2 .message{padding:3rem;height:auto}.particle{width:15px;height:15px;background:red;position:fixed;top:0;left:0;z-index:3;will-change:transform,opacity;contain:size layout paint style}[data-screen=menu] .container{animation:board-swing 50s;animation-iteration-count:infinite;animation-timing-function:linear;transform-origin:center center}@keyframes board-swing{30%{transform:rotateX(60deg) rotateY(0) rotate(-15deg)}60%{transform:rotateX(40deg) rotateY(0) rotate(-55deg)}80%{transform:rotateX(80deg) rotateY(0) rotate(0)}}.bomb{position:fixed;contain:size layout paint paint;height:100px;font-size:100px;z-index:-1;top:0;left:0;will-change:transform,opacity}.title{display:inline-flex;justify-content:center;transition:.7s cubic-bezier(.95,.05,.795,.035)}.title-letter{width:1em;overflow:hidden;transition:.6s cubic-bezier(.8,-.07,.51,1.13);text-transform:uppercase}.title-letter-odd,.title-wrap:hover .title-letter{width:0;opacity:0}.title-wrap:hover .title-letter-odd{width:1em;opacity:1}</style><div class="screen visible" data-screen=menu><div class=title-wrap><h1 id=titleEl class=title aria-label="Repeewsenim (Minesweeper in reverse)"></h1><script>const t="Minesweeper".split("");t.forEach(((e,l)=>{const n=document.createElement("div");n.className="title-letter title-letter-odd",n.textContent=e,titleEl.append(n);const c=document.createElement("div");c.className="title-letter",c.textContent=t[t.length-l-1],titleEl.append(c)}))</script></div><div class=d-f><button class=btn type=button data-level=0 onclick=setupGame(event)>Play easy <span aria-hidden=true>üôÇ</span><p class=small-text>Highscore: <span id=easyHighScoreEl>-</span></button> <button class=btn type=button data-level=1 onclick=setupGame(event)>Play hard <span aria-hidden=true>ü§™</span><p class=small-text>Highscore: <span id=hardHighScoreEl>-</span></button></div><div><details><summary>See Help</summary><h2>If you know how to play Minesweeper:</h2><p>You need to play Minesweeper backwards. You know where the bombs and you need to put correct number on each tile.<h2>If you don't know how to play Minesweeper:</h2><p>A grid will show up with bombs placed in random cells. Your task is to assign correct number to each cell which does not have a bomb.<p>A cell's number is the count of bombs that are placed around it i.e. the (at most) eight cells surrounding it. So if there is just one bomb around a cell, its number should be 1 and so on...If there is no bomb around a cell, it should be left empty.</details><details><summary>Controls</summary><h2>Mouse</h2><p>Click any cell to cycle between values 0 to 8. Left click increments by 1 and right click decrements by 1.<h2>Keyboard</h2><strong>This game is screen-reader compatible.</strong><p>Navigate through cells with <kbd>Tab</kbd> or <kbd>Arrow</kbd> keys. Press <kbd>Space</kbd> or <kbd>Enter</kbd> key to cycle between values 0 to 8 or simply press the numeric key to assign value directly.</details></div><div aria-hidden=true style=position:fixed;z-index:-1;top:100px;opacity:.5;pointer-events:none><div class="game-board game-started"><div id=menuTileContainer class=container></div></div></div></div><div class=screen data-screen=help><h2>Help</h2><p>Hahahaha</div><div class=screen data-screen=game><div id=tileContainer class=container></div><div class=time>Your time: <span id=timeEl>0</span> seconds</div></div><div aria-hidden=true id=particleContainer style="position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:4;contain:size layout paint style;pointer-events:none"></div><div class=overlay></div><footer class=small-text>A Js13kGames 2019 entry by <a class=link href=https://kushagra.dev>Kushagra Gour</a></footer><script>parcelRequire=function(t,e,i,n){var o,r="function"==typeof parcelRequire&&parcelRequire,s="function"==typeof require&&require;function c(i,n){if(!e[i]){if(!t[i]){var o="function"==typeof parcelRequire&&parcelRequire;if(!n&&o)return o(i,!0);if(r)return r(i,!0);if(s&&"string"==typeof i)return s(i);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}a.resolve=function(e){return t[i][1][e]||e},a.cache={};var h=e[i]=new c.Module(i);t[i][0].call(h.exports,a,h,h.exports,this)}return e[i].exports;function a(t){return c(a.resolve(t))}}c.isParcelRequire=!0,c.Module=function(t){this.id=t,this.bundle=c,this.exports={}},c.modules=t,c.cache=e,c.parent=r,c.register=function(e,i){t[e]=[function(t,e){e.exports=i},{}]};for(var u=0;u<i.length;u++)try{c(i[u])}catch(t){o||(o=t)}if(i.length){var h=c(i[i.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd&&define((function(){return h}))}if(parcelRequire=c,o)throw o;return c}({"ul+k":[function(t,e,i){var n,o;n=this,o=function(t){function e(t){var i=t.split(r);this.frequency=e.getFrequency(i[0])||0,this.duration=e.getDuration(i[1])||0}function i(t,e,i){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,i||[])}var n=440*Math.pow(Math.pow(2,1/12),-9),o=/^[0-9.]+$/,r=/\s+/,s=/(\d+)/,c={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach((function(t,e){t.split("-").forEach((function(t){c[t]=e}))})),e.getFrequency=function(t){var e=t.split(s),i=c[e[0]],o=(e[1]||4)-4;return n*Math.pow(Math.pow(2,1/12),i)*Math.pow(2,o)},e.getDuration=function(t){return o.test(t)?parseFloat(t):t.toLowerCase().split("").reduce((function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)}),0)},i.prototype.createFxNodes=function(){var t=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(e,i){(i=this[e[0]]=this.ac.createBiquadFilter()).type="peaking",i.frequency.value=e[1],t.connect(t=i)}.bind(this)),t.connect(this.ac.destination),this},i.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},i.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},i.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},i.prototype.scheduleNote=function(t,e){var i=60/this.tempo*this.notes[t].duration,n=i*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,n),this.setFrequency(0,e+n),e+i},i.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},i.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},i.prototype.slide=function(t,e,i){var n=this.getNextNote(t),o=this.getSlideStartDelay(i);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(n.frequency,e+i),this},i.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},i.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},i.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,i){t=this.scheduleNote(i,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},i.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=i},o("object"==typeof i&&"string"!=typeof i.nodeName?i:n.TinyMusic={})},{}]},{},["ul+k"])</script><script>parcelRequire=function(e,t,s,i){var n,o="function"==typeof parcelRequire&&parcelRequire,r="function"==typeof require&&require;function c(s,i){if(!t[s]){if(!e[s]){var n="function"==typeof parcelRequire&&parcelRequire;if(!i&&n)return n(s,!0);if(o)return o(s,!0);if(r&&"string"==typeof s)return r(s);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}h.resolve=function(t){return e[s][1][t]||t},h.cache={};var a=t[s]=new c.Module(s);e[s][0].call(a.exports,h,a,a.exports,this)}return t[s].exports;function h(e){return c(h.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=t,c.parent=o,c.register=function(t,s){e[t]=[function(e,t){t.exports=s},{}]};for(var u=0;u<s.length;u++)try{c(s[u])}catch(e){n||(n=e)}if(s.length){var a=c(s[s.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=a:"function"==typeof define&&define.amd&&define((function(){return a}))}if(parcelRequire=c,n)throw n;return c}({"ul+k":[function(e,t,s){var i,n;i=this,n=function(e){function t(e){var s=e.split(o);this.frequency=t.getFrequency(s[0])||0,this.duration=t.getDuration(s[1])||0}function s(e,t,s){this.ac=e||new AudioContext,this.createFxNodes(),this.tempo=t||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,s||[])}var i=440*Math.pow(Math.pow(2,1/12),-9),n=/^[0-9.]+$/,o=/\s+/,r=/(\d+)/,c={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach((function(e,t){e.split("-").forEach((function(e){c[e]=t}))})),t.getFrequency=function(e){var t=e.split(r),s=c[t[0]],n=(t[1]||4)-4;return i*Math.pow(Math.pow(2,1/12),s)*Math.pow(2,n)},t.getDuration=function(e){return n.test(e)?parseFloat(e):e.toLowerCase().split("").reduce((function(e,t){return e+("w"===t?4:"h"===t?2:"q"===t?1:"e"===t?.5:"s"===t?.25:0)}),0)},s.prototype.createFxNodes=function(){var e=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(t,s){(s=this[t[0]]=this.ac.createBiquadFilter()).type="peaking",s.frequency.value=t[1],e.connect(e=s)}.bind(this)),e.connect(this.ac.destination),this},s.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(e){this.notes.push(e instanceof t?e:new t(e))}.bind(this)),this},s.prototype.createCustomWave=function(e,t){t||(t=e),this.waveType="custom",this.customWave=[new Float32Array(e),new Float32Array(t)]},s.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},s.prototype.scheduleNote=function(e,t){var s=60/this.tempo*this.notes[e].duration,i=s*(1-(this.staccato||0));return this.setFrequency(this.notes[e].frequency,t),this.smoothing&&this.notes[e].frequency&&this.slide(e,t,i),this.setFrequency(0,t+i),t+s},s.prototype.getNextNote=function(e){return this.notes[e<this.notes.length-1?e+1:0]},s.prototype.getSlideStartDelay=function(e){return e-Math.min(e,60/this.tempo*this.smoothing)},s.prototype.slide=function(e,t,s){var i=this.getNextNote(e),n=this.getSlideStartDelay(s);return this.setFrequency(this.notes[e].frequency,t+n),this.rampFrequency(i.frequency,t+s),this},s.prototype.setFrequency=function(e,t){return this.osc.frequency.setValueAtTime(e,t),this},s.prototype.rampFrequency=function(e,t){return this.osc.frequency.linearRampToValueAtTime(e,t),this},s.prototype.play=function(e){return e="number"==typeof e?e:this.ac.currentTime,this.createOscillator(),this.osc.start(e),this.notes.forEach(function(t,s){e=this.scheduleNote(s,e)}.bind(this)),this.osc.stop(e),this.osc.onended=this.loop?this.play.bind(this,e):null,this},s.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},e.Note=t,e.Sequence=s},n("object"==typeof s&&"string"!=typeof s.nodeName?s:i.TinyMusic={})},{}],"8iXM":[function(e,t,s){const i=window.TinyMusic||e("./TinyMusic.min.js");var n=new AudioContext,o=new i.Sequence(n,120,["- w","- w","- w","- w","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e","B2 h","B3 e","B3 e","- h","B2 h","B1 s","B1 s","- h","A2 h","A3 s","A3 s","- h","F#1 e","F#1 e","F#2 e","F#2 e"]);o.staccato=.05,o.smoothing=.4,o.gain.gain.value=.3,o.mid.gain.value=3,o.bass.gain.value=8,o.bass.frequency.value=80,o.mid.gain.value=-6,o.mid.frequency.value=500,o.treble.gain.value=-2,o.treble.frequency.value=1400,o.loop=!1;const r=["B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","C#4 e","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","C#4 e","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","F#3 e","F#3 s","F#3 s","F#3 e","F#3 s","F#3 s","G3 e","G3 s","G3 s","G3 e","G3 s","G3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","B3 s","B3 s","B3 e","C#4 e","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","D4 s","D4 s","D4 e","C#4 e","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","A3 e","A3 s","A3 s","F#3 e","F#3 s","F#3 s","F#3 e","F#3 s","F#3 s","G3 e","G3 s","G3 s","G3 e","G3 s","G3 s","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","A3 e","A3 e","E4 e","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","C#4 s","C#4 s","C#4 s","C#4 s","C#4 e","C#4 s","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","B3 e","B3 e","F#4 e","D4 s","D4 s","D4 e","E4 e","C#4 e","A3 e","A3 e","A3 e","E4 e","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","C#4 s","C#4 s","C#4 s","C#4 s","C#4 e","C#4 s","C#4 s","C#4 s","C#4 e","D4 e","C#4 e","A3 e","A3 e"],c=new i.Sequence(n,120,r),u=new i.Sequence(n,120,r);[c,u].forEach((e=>{e.staccato=.4,e.gain.gain.value=.7,e.mid.frequency.value=800,e.mid.gain.value=3,e.loop=!0,e.waveType="triangle"})),o.loop=!0,o.play(),c.play(),setTimeout((()=>{u.play()}),8e3)},{"./TinyMusic.min.js":"ul+k"}]},{},["8iXM"])</script><script>parcelRequire=function(t,e,i,n){var o,s="function"==typeof parcelRequire&&parcelRequire,a="function"==typeof require&&require;function r(i,n){if(!e[i]){if(!t[i]){var o="function"==typeof parcelRequire&&parcelRequire;if(!n&&o)return o(i,!0);if(s)return s(i,!0);if(a&&"string"==typeof i)return a(i);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}h.resolve=function(e){return t[i][1][e]||e},h.cache={};var l=e[i]=new r.Module(i);t[i][0].call(l.exports,h,l,l.exports,this)}return e[i].exports;function h(t){return r(h.resolve(t))}}r.isParcelRequire=!0,r.Module=function(t){this.id=t,this.bundle=r,this.exports={}},r.modules=t,r.cache=e,r.parent=s,r.register=function(e,i){t[e]=[function(t,e){e.exports=i},{}]};for(var c=0;c<i.length;c++)try{r(i[c])}catch(t){o||(o=t)}if(i.length){var l=r(i[i.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd&&define((function(){return l}))}if(parcelRequire=r,o)throw o;return r}({"FO+Z":[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.random=function(t,e){return t+~~(Math.random()*(e-t))},i.setStyle=function(t,e){Object.keys(e).map((i=>{t.style[i]=e[i]}))},i.createElement=function(t,e){const i=document.createElement(t);return i.className=e,i},i.H=i.W=void 0;const n=window.innerWidth;i.W=n;const o=window.innerHeight;i.H=o},{}],Yogb:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Particle=void 0;var n=t("./utils");i.Particle=class{constructor({width:t=15,height:e=15,x:i=0,y:n=0,rotationX:o=0,rotationY:s=0,rotationZ:a=0,angularSpeed:r={x:10,y:10,z:10},alpha:c=1,vx:l=0,vy:h=0,friction:u=1,isConfetti:d=!1,classes:p="",color:m="red",gravity:y=0,alphaSpeed:f=-.01,scale:w=1,timeToDie:g=.6}){this.width=t,this.height=e,this.x=i,this.y=n,this.rotationX=o,this.rotationY=s,this.rotationZ=a,this.alpha=c,this.vx=l,this.vy=h,this.isConfetti=d,this.angularSpeed=r,this.friction=u,this.color=m,this.gravity=y,this.alphaSpeed=f,this.scale=w,this.timeToDie=g,this.el=document.createElement("div"),this.el.classList.add("particle"),p&&this.el.classList.add(p),this.el.style.backgroundColor=m,this.el.style.width=`${this.width}px`,this.el.style.height=`${this.height}px`,this.draw(),window.particleContainer.append(this.el)}destroy(){this.el.remove()}hasHitEnd(){return this.alpha<0||this.y>n.H}update(){this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.isConfetti&&(Math.random()>.5&&(this.rotationX+=this.angularSpeed.x),Math.random()>.8&&(this.rotationY+=this.angularSpeed.y),Math.random()>.3&&(this.rotationZ+=this.angularSpeed.z)),this.timeToDie-=1/60,this.timeToDie<0&&(this.alpha+=this.alphaSpeed)}draw(){this.el.style.transform=`translate(${this.x}px, ${this.y}px) rotate3d(1,1,1,${this.rotationX}deg)  scale(${this.scale})`,this.el.style.opacity=this.alpha}}},{"./utils":"FO+Z"}],Mrtn:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Bomb=void 0;var n=t("./utils.js");i.Bomb=class{constructor({width:t=100,height:e=100,x:i=0,y:o=0,angularSpeed:s={x:10,y:10,z:10},alpha:a=0,vx:r=0,vy:c=0,classes:l="",gravity:h=.2,alphaSpeed:u=.01,scale:d=1,timeToDie:p=.6}){this.type="bomb",this.width=t,this.height=e,this.x=i,this.y=o,this.rotationZ=(0,n.random)(0,360),this.alpha=a,this.vx=r,this.vy=c,this.angularSpeed=s,this.gravity=h,this.alphaSpeed=u,this.scale=d,this.timeToDie=p,this.bounces=(0,n.random)(1,4),this.el=document.createElement("div"),this.el.classList.add("bomb"),this.el.textContent="üí£",l&&this.el.classList.add(l),this.el.style.width=`${this.width}px`,this.el.style.height=`${this.height}px`,document.querySelector('[data-screen="menu"]').append(this.el)}destroy(){this.el.remove()}hasHitEnd(){return this.y+this.height===n.H}update(){this.x+=this.vx,this.y+=this.vy,this.vy+=this.gravity,this.y+this.height>n.H&&(this.bounces--,this.bounces?(this.y=n.H-this.height-1,this.rotationZ=this.rotationZ+(0,n.random)(-50,50),this.vy=.5*-this.vy):(this.y=n.H-this.height,this.gravity=0,this.vy=0)),this.alpha<1&&(this.alpha+=this.alphaSpeed)}draw(){this.el.style.transform=`translate(${this.x}px, ${this.y}px) rotateZ(${this.rotationZ}deg)  scale(${this.scale})`,this.el.style.opacity=this.alpha}}},{"./utils.js":"FO+Z"}],"ul+k":[function(t,e,i){var n,o;n=this,o=function(t){function e(t){var i=t.split(s);this.frequency=e.getFrequency(i[0])||0,this.duration=e.getDuration(i[1])||0}function i(t,e,i){this.ac=t||new AudioContext,this.createFxNodes(),this.tempo=e||120,this.loop=!0,this.smoothing=0,this.staccato=0,this.notes=[],this.push.apply(this,i||[])}var n=440*Math.pow(Math.pow(2,1/12),-9),o=/^[0-9.]+$/,s=/\s+/,a=/(\d+)/,r={};"B#-C|C#-Db|D|D#-Eb|E-Fb|E#-F|F#-Gb|G|G#-Ab|A|A#-Bb|B-Cb".split("|").forEach((function(t,e){t.split("-").forEach((function(t){r[t]=e}))})),e.getFrequency=function(t){var e=t.split(a),i=r[e[0]],o=(e[1]||4)-4;return n*Math.pow(Math.pow(2,1/12),i)*Math.pow(2,o)},e.getDuration=function(t){return o.test(t)?parseFloat(t):t.toLowerCase().split("").reduce((function(t,e){return t+("w"===e?4:"h"===e?2:"q"===e?1:"e"===e?.5:"s"===e?.25:0)}),0)},i.prototype.createFxNodes=function(){var t=this.gain=this.ac.createGain();return[["bass",100],["mid",1e3],["treble",2500]].forEach(function(e,i){(i=this[e[0]]=this.ac.createBiquadFilter()).type="peaking",i.frequency.value=e[1],t.connect(t=i)}.bind(this)),t.connect(this.ac.destination),this},i.prototype.push=function(){return Array.prototype.forEach.call(arguments,function(t){this.notes.push(t instanceof e?t:new e(t))}.bind(this)),this},i.prototype.createCustomWave=function(t,e){e||(e=t),this.waveType="custom",this.customWave=[new Float32Array(t),new Float32Array(e)]},i.prototype.createOscillator=function(){return this.stop(),this.osc=this.ac.createOscillator(),this.customWave?this.osc.setPeriodicWave(this.ac.createPeriodicWave.apply(this.ac,this.customWave)):this.osc.type=this.waveType||"square",this.osc.connect(this.gain),this},i.prototype.scheduleNote=function(t,e){var i=60/this.tempo*this.notes[t].duration,n=i*(1-(this.staccato||0));return this.setFrequency(this.notes[t].frequency,e),this.smoothing&&this.notes[t].frequency&&this.slide(t,e,n),this.setFrequency(0,e+n),e+i},i.prototype.getNextNote=function(t){return this.notes[t<this.notes.length-1?t+1:0]},i.prototype.getSlideStartDelay=function(t){return t-Math.min(t,60/this.tempo*this.smoothing)},i.prototype.slide=function(t,e,i){var n=this.getNextNote(t),o=this.getSlideStartDelay(i);return this.setFrequency(this.notes[t].frequency,e+o),this.rampFrequency(n.frequency,e+i),this},i.prototype.setFrequency=function(t,e){return this.osc.frequency.setValueAtTime(t,e),this},i.prototype.rampFrequency=function(t,e){return this.osc.frequency.linearRampToValueAtTime(t,e),this},i.prototype.play=function(t){return t="number"==typeof t?t:this.ac.currentTime,this.createOscillator(),this.osc.start(t),this.notes.forEach(function(e,i){t=this.scheduleNote(i,t)}.bind(this)),this.osc.stop(t),this.osc.onended=this.loop?this.play.bind(this,t):null,this},i.prototype.stop=function(){return this.osc&&(this.osc.onended=null,this.osc.disconnect(),this.osc=null),this},t.Note=e,t.Sequence=i},o("object"==typeof i&&"string"!=typeof i.nodeName?i:n.TinyMusic={})},{}],vmHy:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.playSound=function(t){o[t]&&o[t][(0,n.random)(0,o[t].length-1)].play()},i.playWinSound=function(){c.play(),l.play(),h.play()};var n=t("./utils");!function(){function t(){this.B=function(t){for(var e=0;24>e;e++)this[String.fromCharCode(97+e)]=t[e]||0;.01>this.c&&(this.c=.01),.18>(t=this.b+this.c+this.e)&&(t=.18/t,this.b*=t,this.c*=t,this.e*=t)}}var e=new function(){var e,i,n,o,s,a,r,c,l,h,u,d;this.A=new t,this.reset=function(){var t=this.A;o=100/(t.f*t.f+.001),s=100/(t.g*t.g+.001),a=1-.01*t.h*t.h*t.h,r=1e-6*-t.i*t.i*t.i,t.a||(u=.5-t.n/2,d=5e-5*-t.o),c=0<t.l?1-.9*t.l*t.l:1+10*t.l*t.l,l=0,h=1==t.m?0:2e4*(1-t.m)*(1-t.m)+32},this.D=function(){this.reset();var t=this.A;return e=1e5*t.b*t.b,i=1e5*t.c*t.c,n=1e5*t.e*t.e+10,e+i+n|0},this.C=function(t,p){var m=1!=(j=this.A).s||j.v,y=.1*j.v*j.v,f=1+3e-4*j.w,w=.1*j.s*j.s*j.s,g=1+1e-4*j.t,v=1!=j.s,b=j.x*j.x,x=j.g,S=j.q||j.r,T=.2*j.r*j.r*j.r,A=j.q*j.q*(0>j.q?-1020:1020),E=j.p?32+(2e4*(1-j.p)*(1-j.p)|0):0,q=j.d,D=j.j/2,C=.01*j.k*j.k,k=j.a,F=e,M=1/e,N=1/i,$=1/n;.8<(j=5/(1+20*j.u*j.u)*(.01+w))&&(j=.8);for(var H,L,Y,R,O,j=1-j,W=!1,X=0,B=0,P=0,Z=0,_=0,U=0,I=0,G=0,z=0,V=0,J=Array(1024),K=Array(32),Q=J.length;Q--;)J[Q]=0;for(Q=K.length;Q--;)K[Q]=2*Math.random()-1;for(Q=0;Q<p;Q++){if(W)return Q;if(E&&++z>=E&&(z=0,this.reset()),h&&++l>=h&&(h=0,o*=c),(o*=a+=r)>s&&(o=s,0<x&&(W=!0)),L=o,0<D&&(V+=C,L*=1+Math.sin(V)*D),8>(L|=0)&&(L=8),k||(0>(u+=d)?u=0:.5<u&&(u=.5)),++B>F)switch(B=0,++X){case 1:F=i;break;case 2:F=n}switch(X){case 0:P=B*M;break;case 1:P=1+2*(1-B*N)*q;break;case 2:P=1-B*$;break;case 3:P=0,W=!0}S&&(0>(Y=0|(A+=T))?Y=-Y:1023<Y&&(Y=1023)),m&&f&&(1e-5>(y*=f)?y=1e-5:.1<y&&(y=.1)),O=0;for(var tt=8;tt--;){if(++I>=L&&(I%=L,3==k))for(H=K.length;H--;)K[H]=2*Math.random()-1;switch(k){case 0:R=I/L<u?.5:-.5;break;case 1:R=1-I/L*2;break;case 2:R=0>(R=0>(R=.5<(R=I/L)?6.28318531*(R-1):6.28318531*R)?1.27323954*R+.405284735*R*R:1.27323954*R-.405284735*R*R)?.225*(R*-R-R)+R:.225*(R*R-R)+R;break;case 3:R=K[Math.abs(32*I/L|0)]}m&&(H=U,0>(w*=g)?w=0:.1<w&&(w=.1),v?(_+=(R-U)*w,_*=j):(U=R,_=0),Z+=(U+=_)-H,R=Z*=1-y),S&&(J[G%1024]=R,R+=J[(G-Y+1024)%1024],G++),O+=R}O=.125*O*P*b,t[Q]=1<=O?32767:-1>=O?-32768:32767*O|0}return p}};window.jsfxr=function(t){e.A.B(t);var i=e.D();t=new Uint8Array(4*((i+1)/2|0)+44),i=2*e.C(new Uint16Array(t.buffer,44),i),(n=new Uint32Array(t.buffer,0,44))[0]=1179011410,n[1]=i+36,n[2]=1163280727,n[3]=544501094,n[4]=16,n[5]=65537,n[6]=44100,n[7]=88200,n[8]=1048578,n[9]=1635017060,n[10]=i,i+=44;for(var n=0,o="data:audio/wav;base64,";n<i;n+=3){var s=t[n]<<16|t[n+1]<<8|t[n+2];o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&s]}return n-=i,o.slice(0,o.length-n)+"==".slice(0,n)}}();const o={};function s(t,e){o[t]=[],e.forEach((function(e){var i=new Audio;i.src=jsfxr(e),o[t].push(i)}))}s("laser",[[0,0,.20186369123006712,.08864788869394417,.3533138312310672,.730741378990208,.2,-.18340614838729788,0,0,0,0,0,.13312363811900763,.13711016008646912,0,0,0,1,0,0,.1086867241891986,0,.5],[0,0,.2732218187386066,.09292699553578221,.03300790675047618,.764744932473655,.36691959834015275,-.23915212474273018,0,0,0,0,0,.20399771679086742,.0022463616577739656,0,0,0,1,0,0,.0673932643123878,0,.5]]),s("explosion",[[3,,.3417,.4126,.2799,.0141,,.1053,,,,.239,.612,,,,.4363,-.2564,1,,,,,.5],[3,0,.29543862264632753,.34516609461402187,.42899737981196207,.33660416688363043,0,-.2690700410417636,0,0,0,0,0,0,0,0,-.21134041848609875,-.2316907481419962,1,0,0,0,0,.5],[3,0,.25248370901712475,.6325791872481547,.09061954133800243,.10337277112428506,0,-.2985780353874932,0,0,0,-.7302524884341515,.6027070326674928,0,0,0,.0061548340192078,-.02154246942121234,1,0,0,0,0,.5]]),s("hit",[[3,,.2403,.6344,.2291,.1147,,-.0681,,,,-.7594,.7851,,,.5514,,,1,,,,,.5],[3,.0341,.1945,.5512,.1999,.1522,.0221,-.0542,-.0411,.0473,,-.7584,.7943,,-.0028,.5986,,-.0285,1,.0442,,,-.0111,.5],[3,.0715,.2252,.5179,.1874,.1626,.0116,-.0217,-.0186,.0577,.0614,-.8043,.827,,-.0028,.6757,-.0179,-.0466,1,.0064,,,.0265,.5]]),s("winExplosion",[[3,0,.37402130250153964,.37755261732779943,.20860049840982053,.2615879349464807,0,-.3452769016527329,0,0,0,-.7349481878855222,.8091127974010215,0,0,0,-.059400677951952086,-.19253254157222524,1,0,0,0,0,.5]]),s("powerup",[[0,,.2102,,.321,.375,,.4517,,,,,,.341,,.4955,,,1,,,,,.5]]);const a=window.TinyMusic||t("./TinyMusic.min.js");var r=new AudioContext,c=new a.Sequence(r,220,["F5 s","- es","F5 es","F5 q","- s","G5 s","- es","G5 es","G5 q","- s","A5 s","- es","A5 es","A5 q"]),l=new a.Sequence(r,220,["A5 s","- es","A5 es","A5 q","- s","B5 s","- es","B5 es","B5 q","- s","C#6 s","- es","C#6 es","C#6 q"]),h=new a.Sequence(r,220,["C6 s","- es","C6 es","C6 q","- s","D6 s","- es","D6 es","D6 q","- s","E6 s","- es","E6 es","E6 q"]);c.loop=!1,l.loop=!1,h.loop=!1,c.waveType="triangle",l.waveType="triangle",h.waveType="triangle"},{"./utils":"FO+Z","./TinyMusic.min.js":"ul+k"}],Focm:[function(t,e,i){"use strict";var n=t("./particle.js"),o=t("./bomb.js"),s=t("./utils.js"),a=t("./sfx.js");let r=parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--unit")),c=[],l=[],h=6;const u={0:{n:3,mines:2},1:{n:6,mines:8},2:{n:12,mines:20}},d=[...document.querySelectorAll(".screen")],p={NOT_STARTED:"notStarted",STARTED:"started",ENDED:"ended"};let m,y,f=p.NOT_STARTED,w="menu",g=[];const v="bms-high-score";let b,x=window.localStorage.getItem(v)&&JSON.parse(window.localStorage.getItem(v))||{0:0,1:0};function S(t){easyHighScoreEl.textContent=x[0]?`${x[0]}s`:"-",hardHighScoreEl.textContent=x[1]?`${x[1]}s`:"-"}function T(t){d.forEach((t=>t.classList.remove("visible"))),document.querySelector(`[data-screen="${t}"]`).classList.add("visible"),w=t,k(),window.removeEventListener("keyup",M),window.removeEventListener("click",M),"game"!==t&&(c=[],l=[],timeEl.textContent="0",document.body.classList.remove("bomb-place-anim-1","bomb-place-anim-2","bomb-place-anim-3","game-started"),Array.from(tileContainer.children).map((t=>t.remove())),f=p.NOT_STARTED)}function A({isHole:t,isFake:e,isDummy:i}){const n=(0,s.createElement)(e||t||i?"div":"button","tile");return t&&(n.classList.add("hole"),n.tileType="hole"),"BUTTON"===n.tagName&&n.setAttribute("type","button"),n}function E(t,e=window.tileContainer,i){h=u[t].n;const n=u[t].mines;r=~~(.8*Math.min(s.W,s.H)/h),document.documentElement.style.setProperty("--unit",`${r}px`),(0,s.setStyle)(e,{width:r*h+"px",height:r*h+"px"});let o=[];for(;o.length<n;){let t=(0,s.random)(0,h*h);o.includes(t)||o.push(t)}o=o.map((t=>({y:~~(t/h),x:t%h}))),Array.from(e.children).map((t=>t.remove())),c=[];for(var a=0;a<h;a++){c[a]=[],l[a]=[];for(var d=0;d<h;d++)c[a][d]=0,l[a][d]=0}for(d=0;d<h+1;d++)for(a=0;a<h;a++){const t=A({isHole:o.some((t=>t.x===a&&t.y===d)),isFake:d===h,isDummy:i});t.style.top=d*r+"px",t.style.left=a*r+"px",t.count=0,t.posX=a,t.posY=d,t.className.match(/(hole|cover)/)||N(t,d+1,a+1,0),t.className.match(/hole/)&&(N(t,d+1,a+1,"Bomb"),t.setAttribute("tabindex",0));const n=-10;if((0,s.setStyle)(t,{transform:`translate(${n}px, -${n}px)`,transitionDelay:.02*(d*h+a)+"s",transitionTimingFunction:"0.25s cubic-bezier(0, 0.6, 0.6, 1.34)",opacity:0}),t.style.setProperty("--blast-delay",.3*Math.random()+"s"),setTimeout((()=>{(0,s.setStyle)(t,{transform:"translate(0px, 0px)",opacity:1})}),1),setTimeout((()=>{(0,s.setStyle)(t,{transitionTimingFunction:null,transitionDelay:null,transitionDuration:null})}),2e3),d===h)t.setAttribute("class","tile cover");else if("hole"===t.tileType){c[a][d]=-1;for(let t=-1;t<=1;t++)for(let e=-1;e<=1;e++)0===t&&0===e||a+t<0||d+e<0||a+t>h-1||d+e>h-1||-1===c[a+t][d+e]||(c[a+t][d+e]=c[a+t][d+e]+1)}e.append(t)}}function q(){for(var t=0;t<h;t++)for(var e=0;e<h+1;e++)if(-1!==c[t][e]&&c[t][e]!==l[t][e])return!1;return!0}function D(t){return new Promise((e=>{setTimeout(e,t)}))}async function C(t){const e=(0,s.createElement)("div","message");e.setAttribute("role","alert"),document.body.append(e),e.innerHTML=`<div class="message__text">${t}</div>`,await D(10),document.body.classList.add("message-anim-1"),await D(430),document.body.classList.add("message-anim-2"),(0,a.playSound)("powerup")}async function k(){document.body.classList.remove("message-anim-2"),document.querySelector(".message")&&document.querySelector(".message").remove(),document.body.classList.remove("message-anim-1")}function F(t,e){t&&(e=parseInt(t.currentTarget.dataset.level,10),t.stopPropagation()),y=e,E(e),async function(){const t=document.querySelector('[data-screen="game"]');t.style.transition="none",t.style.perspectiveOrigin=`1170px ${s.H/2}px`,await D(10),t.style.transition=null,t.style.perspectiveOrigin=`${s.W/2}px ${s.H/2}px`}(),T("game"),C("Click/Tap anywhere or press any key to start").then((()=>{window.addEventListener("keyup",M,{once:!0}),window.addEventListener("click",M,{once:!0})}))}function M(){f===p.NOT_STARTED&&async function(){k();const t=Array.from(document.querySelectorAll(".tile.hole"));document.body.classList.add("bomb-place-anim-1"),t.forEach((t=>{setTimeout((()=>{(0,a.playSound)("laser")}),(0,s.random)(0,600))})),await D(500),document.body.classList.add("bomb-place-anim-2"),R({time:.5}),t.forEach((t=>{const e=t.getBoundingClientRect();for(let t=(0,s.random)(5,8);t--;)g.push(new n.Particle({height:(0,s.random)(5,15),width:(0,s.random)(5,15),x:(0,s.random)(e.left,e.left+e.width),y:(0,s.random)(e.top,e.top+e.height),vx:(0,s.random)(-10,10),vy:-(0,s.random)(20,55),isConfetti:!0,gravity:.2,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,s.random)(-5,5),y:0,z:0},color:"#f00",timeToDie:.7}));setTimeout((()=>{(0,a.playSound)("explosion")}),(0,s.random)(0,500))})),await D(500),document.body.classList.add("bomb-place-anim-3"),document.body.classList.add("game-started"),f=p.STARTED,m=Date.now()}()}function N(t,e,i,n){t.setAttribute("aria-label",`Row ${e}, Column ${i}, Value ${n}`)}function $(t,e,i=1){l[t.posX][t.posY]=void 0!==e?e:l[t.posX][t.posY]+i,l[t.posX][t.posY]%=9,l[t.posX][t.posY]<0&&(l[t.posX][t.posY]=8),t.textContent=[1,2,3,4,5,6,7,8][l[t.posX][t.posY]-1],N(t,t.posY+1,t.posX+1,l[t.posX][t.posY]),R({time:.3,el:t,shakeIntensity:5}),(0,a.playSound)("hit");const o=t.getBoundingClientRect();for(let t=(0,s.random)(5,15);t--;)g.push(new n.Particle({height:20,width:20,x:(0,s.random)(o.left,o.left+o.width),y:(0,s.random)(o.top,o.top+o.height),vx:(0,s.random)(-10,10),vy:-(0,s.random)(20,55),isConfetti:!0,gravity:.2,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,s.random)(-5,5),y:0,z:(0,s.random)(-20,25)},color:"#5d6f41",timeToDie:.4}));if(q()){const t=(Date.now()-m)/1e3;f=p.ENDED,setTimeout((async()=>{await C(`<p>You completed the level in <strong>${t} seconds!</strong></p>\n        <p>\n          <button class="btn" onclick="window.changeScreen('menu')">üëàüèΩ Back to menu</button>\n          <button class="btn" onclick="window.tweetScore(${b}, ${y})">üê¶ Tweet your score!</button>\n        </p>`),document.querySelector(".message button").focus()}),10),async function(){L({n:30,minX:s.W/4-50,maxX:s.W/4+50,minY:100,maxY:s.H-100}),(0,a.playSound)("winExplosion"),await D(500),L({n:30,minX:3*s.W/4-50,maxX:3*s.W/4+50,minY:100,maxY:s.H-100}),(0,a.playSound)("winExplosion"),await D(1500),(0,a.playSound)("winExplosion"),L({n:20,minX:s.W/2-200,maxX:s.W/2+200,minY:100,maxY:s.H-100})}(),(0,a.playWinSound)(),function(t){(t<x[y]||!x[y])&&(x[y]=t,window.localStorage.setItem(v,JSON.stringify(x)),S()),b=t}(t)}}function H(t){if(f!==p.STARTED)return;const e=t.target;e.className.match(/tile/)&&"BUTTON"===e.tagName&&$(e,void 0,0===t.button?1:-1)}function L({n:t=20,minX:e=0,maxX:i=s.W,minY:o=0,maxY:a=s.H,...r}){for(let c=t;c--;)g.push(new n.Particle({x:e===i?e:(0,s.random)(e,i),y:o===a?o:(0,s.random)(o,a),vy:-(0,s.random)(40,60),vx:(0,s.random)(-40,40),isConfetti:!0,gravity:.5,friction:.88,color:`rgb(${(0,s.random)(0,255)}, ${(0,s.random)(0,255)}, ${(0,s.random)(0,255)} )`,...r}))}function Y(t,e){function i(t,e,i){return t.parentElement.children[i*h+e]}if("right"===e||"left"===e){let i=t;const n="right"===e?"nextElementSibling":"previousElementSibling";for(;(i=i[n]?i[n]:t.parentElement.children["right"===e?0:h*h-1])&&i.className.match(/cover/););i.focus()}else if("up"===e||"down"===e){let n=t;const o="down"===e?1:-1;for(;(n=n.posY+o<h&&n.posY+o>=0?i(n,n.posX,n.posY+o):i(n,n.posX,"down"===e?0:h-1))&&n.className.match(/cover/););n.focus()}}function R({time:t,el:e=document.body,shakeIntensity:i=15}){let n=t;!function t(){n-=1/60,e.style.transform=`translate(${(0,s.random)(-i,i)}px,${(0,s.random)(-i,i)}px)`,n>0?requestAnimationFrame(t):e.style.transform=null}()}function O(t){const e=t.getBoundingClientRect();for(let t=(0,s.random)(5,20);t--;)g.push(new n.Particle({height:(0,s.random)(5,15),width:(0,s.random)(5,15),x:(0,s.random)(e.left,e.left+e.width),y:(0,s.random)(e.top,e.top+e.height),vx:(0,s.random)(-10,10),vy:-(0,s.random)(20,55),isConfetti:!0,gravity:.4,friction:.88,alphaSpeed:-.025,scale:.3+Math.random(0,1),angularSpeed:{x:(0,s.random)(-5,5),y:0,z:0},color:"yellow",timeToDie:.7}))}function j(t,e){const i=["Yay!","Wohoo!","Yuhoo!","Check it out!","Rad!","Dang!","Woah!","Beat this!"];window.open(`http://twitter.com/share?url=${location.href}&text=üéÆ ${i[(0,s.random)(0,i.length)]} I finished "Repeewsenim" in just ${t} seconds in ${e?"hard":"easy"} mode! üî•üí£&hashtags=js13k,indiedev&related=chinchang457`)}function W(){const t=Date.now();if("menu"===w&&Math.random()<.005&&g.push(new o.Bomb({x:(0,s.random)(0,s.W),y:(0,s.random)(0,s.H/2)})),f===p.STARTED){const e=(~~(t-m)/1e3).toFixed(1);window.timeEl.textContent=e}g.map((t=>{t.update(),t.draw(),t.hasHitEnd&&t.hasHitEnd()&&(t.dead=!0,"bomb"===t.type&&O(t.el),t.destroy())})),g=g.filter((t=>!t.dead)),requestAnimationFrame(W)}window.oncontextmenu=t=>{if(t.target.className.match(/tile/))return H(t),!1},window.onclick=t=>{c.length&&"game"===w&&f===p.STARTED&&H(t)},window.onkeyup=t=>{const e=t.target;if(f!==p.STARTED)return;e.className.match(/tile/)||["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t.key)&&tileContainer.querySelector(".tile:not(.cover):not(.hole)").focus();let i=parseInt(t.key,10);isNaN(i)||$(e,i),"ArrowRight"===t.key?Y(t.target,"right"):"ArrowLeft"===t.key?Y(t.target,"left"):"ArrowDown"===t.key?Y(t.target,"down"):"ArrowUp"===t.key&&Y(t.target,"up"),["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t.key)&&t.preventDefault()},E(0,window.menuTileContainer,!0),W(),S(),document.querySelectorAll("details").forEach((t=>{t.innerHTML+='<p><button class="btn">Close</button></p>',t.querySelector("button").addEventListener("click",(()=>{t.open=!1}))})),window.setupGame=F,window.changeScreen=T,window.tweetScore=j},{"./particle.js":"Yogb","./bomb.js":"Mrtn","./utils.js":"FO+Z","./sfx.js":"vmHy"}]},{},["Focm"])</script>