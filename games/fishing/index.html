<!doctype html><title>Fishing - js13kGames 2025</title><meta name=viewport content="width=device-width"><style>body,html{padding:0;margin:0;width:100%;height:100%;overflow:hidden}#c{background-color:#4fceff}</style><canvas id=c></canvas><script>zzfx=(...t)=>zzfxP(zzfxG(...t)),zzfxG=(t=1,s=.05,e=220,i=0,h=0,n=.1,a=0,c=1,o=0,r=0,l=0,d=0,f=0,w=0,x=0,u=0,z=0,P=1,m=0,y=0)=>{let g,p,M=2*Math.PI,R=o*=500*M/zzfxR**2,D=(0<x?1:-1)*M/4,v=e*=(1+2*s*Math.random()-s)*M/zzfxR,X=[],Y=0,b=0,S=0,I=1,T=0,k=0,B=0;for(i=99+zzfxR*i,m*=zzfxR,h*=zzfxR,n*=zzfxR,z*=zzfxR,r*=500*M/zzfxR**3,x*=M/zzfxR,l*=M/zzfxR,d*=zzfxR,f=zzfxR*f|0,p=i+m+h+n+z|0;S<p;X[S++]=B)++k%(100*u|0)||(B=a?1<a?2<a?3<a?Math.sin((Y%M)**3):Math.max(Math.min(Math.tan(Y),1),-1):1-(2*Y/M%2+2)%2:1-4*Math.abs(Math.round(Y/M)-Y/M):Math.sin(Y),B=(f?1-y+y*Math.sin(2*Math.PI*S/f):1)*(0<B?1:-1)*Math.abs(B)**c*t*zzfxV*(S<i?S/i:S<i+m?1-(S-i)/m*(1-P):S<i+m+h?P:S<p-z?(p-S-z)/n*P:0),B=z?B/2+(z>S?0:(S<p-z?1:(p-S)/z)*X[S-z|0]/2):B),g=(e+=o+=r)*Math.sin(b*x-D),Y+=g-g*w*(1-1e9*(Math.sin(S)+1)%2),b+=g-g*w*(1-1e9*(Math.sin(S)**2+1)%2),I&&++I>d&&(e+=l,v+=l,I=0),!f||++T%f||(e=v,o=R,I=I||1);return X},zzfxV=.3,zzfxR=44100,zzfxM=(t,s,e,i=125)=>{let h,n,a,c,o,r,l,d,f,w,x,u,z,P,m,y=0,g=[],p=[],M=[],R=0,D=0,v=1,X={},Y=zzfxR/i*60>>2;for(;v;R++)g=[v=d=x=z=0],e.map((i,x)=>{for(l=s[i][R]||[0,0,0],v|=!!s[i][R],m=z+(s[i][0].length-2-!d)*Y,P=x==e.length-1,n=2,c=z;n<l.length+P;d=++n){for(o=l[n],f=n==l.length+P-1&&P||w!=(l[0]||0)|o|0,a=0;a<Y&&d;a++>Y-99&&f?u+=(u<1)/99:0)r=(1-u)*g[y++]/2||0,p[c]=(p[c]||0)-r*D+r,M[c]=(M[c++]||0)+r*D+r;o&&(u=o%1,D=l[1]||0,(o|=0)&&(g=X[[w=l[y=0]||0,o]]=X[[w,o]]||(h=[...t[w]],h[2]*=2**((o-12)/12),o>0?zzfxG(...h):[])))}z=m});return[p,M]};const t=[[[3,0,200],[2,0,360,,,.375,2,3.5]],[[[1,,20,,,,20,,20,,,,20,,20,,,,25,,17,,,,17,,17,,15,,13,,17,,15,,13,,15,,,,,,,,,,,,22,,,,22,,22,,,,22,,22,,,,25,,24,,,,22,,22,,20,,19,,22,,20,,19,,25,,,,,,,,,,,,],[,,13,,,,,,8,,,,,,13,,,,,,8,,,,,,13,,,,,,8,,,,,,15,,,,,,10,,,,8,,6,,,,,,13,,,,,,8,,,,,,15,,,,,,8,,,,,,12,,,,,,13,,,,,,13,,8,,10,,]]],[0],110,{title:"Wszystkie rybki",instruments:["Instrument 0","Instrument 1"],patterns:["Pattern 0"]}],s=[[[1.2,0,490,,.02,.2,,,,,,,.2,,,,,,,.1]],[[[,-1,18]]],[0],,{title:"jingle",instruments:["Instrument 0"],patterns:["Pattern 0"]}];class e{src;constructor(t,{loop:s=!1}={}){const e=zzfxM(...t);this.loop=s,this.context=new(window.AudioContext||webkitAudioContext),this.buffer=this.context.createBuffer(e.length,e[0].length,zzfxR),e.map((t,s)=>this.buffer.getChannelData(s).set(t))}start(){this.src=this.context.createBufferSource(),this.src.buffer=this.buffer,this.src.loop=this.loop,this.src.connect(this.context.destination),this.src.start()}play(){const t=this.context.createBufferSource();t.buffer=this.buffer,t.connect(this.context.destination),t.start(),t.onended=()=>{t.stop(0),t.disconnect(this.context.destination)}}stop(){this.src.stop(0),this.src.disconnect(this.context.destination)}}let i=.05,h=1.5;const n={grey:{body:"#51637d",side:"#2a3a3fff"},red:{body:"#cc1414ff",side:"#740000ff"},green:{body:"#409920ff",side:"#116b04ff"},gold:{body:"#dad712",side:"#aca90fff"}};class a extends EventTarget{constructor(t){super(),this.t=t,this.s="gold"===t?3*i:i;const s=T();this.cX=s.x,this.cY=s.y,this.turn(),this.cR=this.dR,this.cR=Math.PI/4,this.gO=!1,this.tO=setTimeout(()=>{this.gO=!0,this.turn(),this.addEventListener("reached",()=>{this.destroy()})},1e4)}evaluate(){switch(this.t){case"grey":u.points+=1;break;case"green":u.end+=2e3;break;case"red":u.end-=2e3;break;case"gold":u.points+=10,u.end+=1e4}}isHit({x:t,y:s}){const e=Math.cos(this.cR),i=Math.sin(this.cR),n=this.cX-t,a=this.cY-s,c=this.cX-e*n-i*a,o=this.cY+i*n-e*a,r=187*h/2,l=41*h/2;return C(this.cX-r,c,this.cX+r,this.cY-l,o,this.cY+l)}turn(){const t=this.gO?T():I();this.dX=t.x,this.dY=t.y,this.dR=k(this,this.cR)}move(t){const s=t*this.s*x,e=Math.cos(this.dR),i=Math.sin(this.dR);this.cX+=E(s*e,this.cX,this.dX),this.cY+=E(s*i,this.cY,this.dY),this.cR+=B(this.dR-this.cR,-.03,.03);const h=this.cX-this.dX,n=this.cY-this.dY;if(C(-5,h,5,-5,n,5)){const t=new CustomEvent("reached");this.dispatchEvent(t),this.turn()}}draw(){const t=h,s=Math.cos(this.cR),e=Math.sin(this.cR),i=new DOMMatrix([s*t,e*t,-e*t,s*t,this.cX-(187*s-41*e)*t/2,this.cY-(187*e+41*s)*t/2]);l.fillStyle=n[this.t].body;const a=new Path2D;a.addPath(new Path2D("m172.0907,3.7q-47.79,4.11 -95.59,5l-2.47,0.68c-13.71,4.56 -35.35,6.12 -47.33,6.62c-4.44,4.49 -6.56,11.29 -4.16,17c13.15,-3.55 33.3,-2.61 33.3,-2.61c2.08,0.66 4.27,1.25 6.51,1.77c33.49,-2.32 67,-1.59 100.46,5.46c14.75611,-3.10361 24.60123,-10.11623 24.33512,-16.21884c-0.77166,-9.77635 -6.19449,-13.6882 -15.05512,-17.70116z"),i),l.fill(a),l.fillStyle=n[this.t].side;const c=new Path2D;c.addPath(new Path2D("m62.3507,32.14c24.9,5.86 58.2,3.86 58.2,3.86c10.61,7.54 33.17,2.9 33.17,2.9a45.67,45.67 0 0 0 9.09,-1.28c-33.48,-7.07 -66.97,-7.8 -100.46,-5.48z"),i),c.addPath(new Path2D("m120.1407,2.24c-10.89,-2 -35.73,4.3 -43.64,6.42q47.79,-0.88 95.59,-5c-19.85,-7.09 -51.95,-1.42 -51.95,-1.42z"),i),c.addPath(new Path2D("m165.6907,34.17a5.42,5.42 0 0 0 0.67,2.51c3.2,-2.72 6.59,-4.33 9.76,-2.15a7.72,7.72 0 0 0 0.38,-2.86s-6.25,-2.67 -10.81,2.5z"),i),c.addPath(new Path2D("m178.8107,6.69c-3.51,1 -6.46,-0.51 -9.14,-2.64a10.32,10.32 0 0 0 -1.53,2.71s7.61,4.48 11.86,1.58a19.87,19.87 0 0 0 -1.19,-1.65z"),i),l.fill(c),l.fillStyle="#ddd";const o=new Path2D;o.addPath(new Path2D("m26.7007,16c-11.32541,-4.81957 -18.40282,-8.64667 -26.51131,-12.71754c1.71302,7.44843 6.07904,12.15312 10.89035,17.26659l-5.92617,3.27058l6.08393,4.39625c-5.38635,2.42713 -7.22122,3.34803 -11.2375,11.01494c12.76868,-0.46386 18.9407,-5.24082 22.5207,-6.24082c-2.38,-5.68 -0.26,-12.48 4.18,-16.99z"),i),o.addPath(new Path2D("m120.5507,36s-21.33,5.44 -42.29,4.82l15.23,-5.38s21.44,0.49 27.06,0.56z"),i),o.addPath(new Path2D("m120.1407,2.24s-32.31,-6.34 -43,2.31l12,1s22.67,-5.55 31,-3.31z"),i),o.addPath(new Path2D("m119.1307,18.3s-63.81,-1.1 -87.95,6.36c0,0 52.49,0 87.95,-6.36z"),i),l.fill(o),l.fillStyle=n[this.t].s;const r=new Path2D;r.addPath(new Path2D("m146.0232,14.54285c2.6,-1.61 12.33687,0.26765 14.80687,-1.81235c-3.81,-2 -6.74,-4.07 -11,-4.53c-3.67,-0.4 -7.4401,-0.73853 -10.7601,0.88147c-1.77,0.86 -7.2399,1.42853 -8.8499,2.41853c-1.78,1.1 -4.14,0.86 -6.22,1.09c-6.28,0.61 -0.31,4.26202 5.5,5.12202c6.2,0.91 10.83313,0.34033 16.52313,-3.16967z"),i),r.addPath(new Path2D("m172.39024,24.97528c-5.08,3.1 -14.51922,1.40651 -20.07922,2.66651c-6.95,1.56 -25.37573,4.2401 -29.69573,-6.2099c6.44,-2.61 17.84068,3.27518 24.76068,0.37518c5.36,-2.24 11.17775,0.35518 16.31775,-2.20482c5.41,-2.7 10.32798,-8.29147 15.52,-6.73c3.41945,2.33381 -1.80349,9.03303 -6.82349,12.10303l0.00001,0z"),i),l.fill(r),l.fillStyle="#000";const d=new Path2D;d.addPath(new Path2D("m166.3607,36.68c0.58,1 1.85,1.16 3.93,1.11c0,0 4.17,-0.25 5.83,-3.26c-3.17,-2.18 -6.56,-0.53 -9.76,2.15z"),i),d.addPath(new Path2D("m178.8107,6.69c-0.56,-3.91 -6,-4.38 -9.14,-2.64c2.68,2.13 5.63,3.65 9.14,2.64z"),i),l.fill(d)}destroy(){clearTimeout(this.tO);const t=u.fishes.indexOf(this);u.fishes.splice(t,1)}}let c=1.25;class o extends EventTarget{constructor(){super(),this.reset(),this.m=!1}reset(){this.rX=this.cX=this.dX=d/2,this.rY=this.cY=this.dY=f,this.mR=0,this.pR=0,this.cR=0,this.s=7.5}reach({x:t,y:s}){this.m||(this.dX=t,this.dY=s,this.mR=k(this),this.pR=B(k({cX:this.rX,cY:this.rY,dX:t,dY:s})+Math.PI/2,-Math.PI/4,Math.PI/4),this.m=!0)}move(t){if(!this.m)return;const s=t*this.s,e=Math.cos(this.mR),i=Math.sin(this.mR);this.cX+=E(s*e,this.cX,this.dX),this.cY+=E(s*i,this.cY,this.dY),this.cR+=B(this.pR-this.cR,-.03,.03);const h=this.cX-this.dX,n=this.cY-this.dY;if(C(0,this.cX,d,0,this.cY,f)){if(C(-5,h,5,-5,n,5))if(C(-5,this.cX-this.rX,5,-5,this.cY-this.rY,5))this.reset(),this.m=!1;else{const t=new CustomEvent("reached",{detail:{x:this.dX,y:this.dY}});this.dispatchEvent(t),this.dX=this.rX,this.dY=this.rY,this.mR+=Math.PI,this.s=1.5}}else this.reset()}draw(){const t=c,s=Math.cos(this.pR),e=Math.sin(this.pR),i=new DOMMatrix([s*t,e*t,-e*t,s*t,this.cX-(210*s-400*e)*t/2,this.cY-(210*e+400*s)*t/2]);l.fillStyle="#000";const h=new Path2D,n=new Path2D;n.rect(49,212,125,2*f/t),h.addPath(n,i),l.fill(h),l.fillStyle="#222";const a=new Path2D;a.addPath(new Path2D("m195.23321,83.58592c-7.2122,-4.34628 -17.25678,-7.95837 -30.9319,4.88487c8.50695,-12.1795 15.51858,-25.66742 8.13768,-40.46374c-4.59001,-11.28369 -22.00313,-18.01405 -33.95696,-15.34641c-9.22463,3.18014 -19.74589,14.2259 -22.32911,33.95567c-2.99764,-11.86397 -8.05135,-22.60645 -16.28263,-32.78818c-6.24402,-6.30707 -14.99203,-13.22204 -34.43298,-9.36829c-11.50158,3.78784 -23.08568,26.05005 -11.91825,60.67397c-5.53697,-7.39657 -26.97844,-25.85081 -42.29019,3.37065c-5.54067,7.05117 -8.98946,27.94737 11.17618,43.90124c27.81061,18.5906 26.6194,38.20102 26.43179,80.37181l-0.11181,26.70529l4.01803,18.74771l10.49382,-20.27247c3.0939,5.22899 0.22824,17.73066 9.28171,15.68696c2.41209,-1.20196 -0.22631,10.4243 4.20597,15.18191c4.971,-16.65644 9.33594,-30.88864 9.7615,-55.42383l9.32104,21.47497l1.69481,-3.07037l5.49385,15.48494c4.09744,0.57747 3.14441,-9.55209 5.32267,-9.47967c4.10258,-0.53618 5.57892,11.85687 12.61078,11.4217c4.37194,-41.07471 14.29942,-40.33144 22.81276,-0.49743l4.2987,-19.67604c3.12742,3.07913 6.25485,5.65321 10.29135,-2.58074c3.76022,5.90842 4.18713,21.61478 15.22005,28.02825l0.14295,-42.32205c0.58022,-18.41021 -2.76479,-35.69892 2.86216,-55.23063c1.41484,-4.83216 6.19418,-11.941 14.33799,-15.05724c10.12784,-4.35157 12.97439,-10.37865 16.00616,-20.20297c2.98838,-10.70964 3.21343,-14.57245 1.52575,-21.15774c-1.68768,-6.58529 -5.82863,-12.46964 -13.19387,-16.95213l0,-0.00001z"),i),l.fill(a),l.fillStyle="#000";const o=new Path2D;o.addPath(new Path2D("m54.1548,150.91483c5.48971,-2.75971 26.13082,-7.94364 40.10532,-3.27917c13.25565,7.87103 57.26865,6.65122 48.85781,12.70408c-10.40409,7.31933 -29.89902,2.51754 -43.03037,7.86718c-9.61539,1.44518 -19.23078,1.0722 -26.57347,-4.75529c-5.54401,-7.81527 -25.78488,-8.6609 -19.35929,-12.5368z"),i),o.addPath(new Path2D("m97.54315,184.78247c5.48971,-2.75971 43.84511,0.9135 57.8196,5.57798c13.25565,7.87103 16.69722,6.07979 8.28637,12.13265c-10.40409,7.31933 -35.04188,-13.76818 -61.6018,3.86718c-9.61539,1.44518 -29.5165,-0.07066 -36.85918,-5.89815c-5.54401,-7.81527 25.92941,-11.80376 32.355,-15.67966z"),i),o.addPath(new Path2D("m111.23916,105.23722c5.48971,-2.75971 -1.80567,-30.80077 12.16882,-26.13629c13.25565,7.87103 15.68138,16.49248 7.27053,22.54535c-10.40409,7.31933 20.8946,30.77149 7.76325,36.12113c-9.61539,1.44518 -32.56411,5.19918 -39.90679,-0.62831c-5.54401,-7.81527 6.27859,-28.02597 12.70418,-31.90187z"),i),o.addPath(new Path2D("m69.80415,103.18179c5.48971,-2.75971 -1.80567,-28.53662 12.16882,-23.87214c8.72735,2.58801 10.77572,-8.79053 16.70449,-3.11503c8.46383,12.9797 -4.76578,36.80922 -17.89712,42.15887c-9.61539,1.44518 -33.69618,-7.63101 -41.03887,-13.4585c-5.54401,-7.81527 23.63708,2.16271 30.06267,-1.7132z"),i),o.addPath(new Path2D("m156.2149,102.5314c5.48971,-2.75971 17.00039,0.31722 30.97488,4.9817c13.25565,7.87103 0.74694,10.56426 -7.66391,16.61712c-10.40409,7.31933 -8.59468,-6.17811 -21.72603,-0.82847c-9.61539,1.44518 -6.18731,0.20263 -13.52999,-5.62486c-5.54401,-7.81527 5.51945,-11.26959 11.94505,-15.1455z"),i),l.fill(o),l.fillStyle="#fff";const r=new Path2D;r.addPath(new Path2D("m22.76333,85.31946c-1.56029,3.04964 -8.01419,15.46099 -12.34043,7.23403c-6.80851,-11.20567 -11.48936,-25.1773 -10.21277,-29.14894c8.79433,2.62412 10.56738,17.58866 22.5532,21.9149l0,0.00001z"),i),r.addPath(new Path2D("m66.16758,30.00031c4.11347,0.99291 17.16312,-0.56738 12.34042,-4.68086c-5.53191,-13.12057 -14.89362,-25.39007 -19.14894,-25.31915c-2.41135,6.17021 9.43263,18.72341 6.80852,30.00001z"),i),r.addPath(new Path2D("m151.48673,38.51095c3.47517,1.70213 11.20567,8.93617 11.70212,2.55318c2.83688,-20.6383 0.78014,-25.74468 -1.70213,-28.7234c-4.82269,3.19149 -3.04964,20.21277 -9.99999,26.17022z"),i),r.addPath(new Path2D("m192.9761,92.12797c2.76595,3.12057 8.93616,9.85815 10.85105,5.53191c3.75887,-7.58865 7.30496,-24.11347 4.89362,-28.51064c-5.24822,1.9149 -6.66666,17.44681 -15.74467,22.97873z"),i),l.fill(r)}}const r=document.getElementById("c"),l=r.getContext("2d");let d=0,f=0,w=1,x=1;const u={points:0,end:0,waves:[],fishes:[],paw:null,play:!1,played:!1,intervals:[]},z=new ResizeObserver(()=>{r.width=d=window.innerWidth,r.height=f=window.innerHeight,size=Math.min(d,f),w=Math.min(size/720,1),x=Math.sqrt(w),h=1.5*x,c=1.25*x,u.paw.reset()}),P=()=>{i=.2,u.fishes=[],u.waves=[],u.points=0;const t=performance.now();u.end=t+3e4,u.intervals.forEach(t=>{clearInterval(t)}),u.intervals=[],u.fishes.push(new a("grey")),u.intervals.push(setInterval(()=>{u.fishes.push(new a("grey"))},1e3)),u.intervals.push(setInterval(()=>{u.fishes.push(new a(Math.random()>.5?"green":"red"))},2e3)),u.intervals.push(setInterval(()=>{u.fishes.push(new a("gold"))},15e3)),u.intervals.push(setInterval(()=>{u.play&&(i+=.005)},1e4))};document.addEventListener("DOMContentLoaded",()=>{r.width=d=window.innerWidth,r.height=f=window.innerHeight,z.observe(document.body),u.paw=new o,u.jingleToggle=new b(!0,{x:60,y:60}),u.jingleController=new e(s),u.musicToggle=new S(!1,{x:60,y:140}),u.musicController=new e(t,{loop:!0}),u.paw.addEventListener("reached",t=>{const{x:s,y:e}=t.detail;u.waves.push(new O({x:s,y:e})),[...u.fishes].forEach(t=>{t.isHit({x:s,y:e})&&(u.play&&t.evaluate(),t.destroy())}),!u.play&&u.jingleToggle.isHit({x:s,y:e})&&u.jingleToggle.toggle(),!u.play&&u.musicToggle.isHit({x:s,y:e})&&u.musicToggle.toggle(),u.jingleToggle.on&&u.jingleController.play()}),P(),g()}),r.addEventListener("click",t=>{const{x:s,y:e}=t;u.paw.reach({x:s,y:e})}),r.addEventListener("dblclick",t=>{u.play||(u.play=!0,u.played=!0,P())});let m=0;const y=t=>{m||(m=t,g());const s=t-m;m=t,l.clearRect(0,0,r.width,r.height),p(s),M(s),u.play||R(),D(s),v(),u.play||X(),g()},g=()=>{window.requestAnimationFrame(y)},p=t=>{u.waves.forEach(s=>{s.move(t),s.draw()})},M=t=>{u.fishes.forEach(s=>{s.move(t),s.draw()})},R=()=>{u.jingleToggle.draw(),u.musicToggle.draw()},D=t=>{u.paw.move(t),u.paw.draw()},v=()=>{const t=performance.now();let s=Math.floor((u.end-t)/1e3);s<=0&&(u.play=!1,s=0),l.font=`${Math.floor(64*w)}px sans-serif`;const e=u.played?`${s}s : ${u.points}p`:`30s : ${u.points}p`,i=l.measureText(e),h=40*w,n=60*w,a=30*w,c=i.width+2*n,o=i.actualBoundingBoxAscent+2*h;l.lineWidth=5,l.strokeStyle="#fff",l.fillStyle="#222222aa",l.beginPath(),l.roundRect((d-c)/2,-5,c,o,[0,0,a,a]),l.fill(),l.stroke(),l.fillStyle="#fff",l.font=`${Math.floor(64*w)}px sans-serif`,l.fillText(e,(d-i.width)/2,i.actualBoundingBoxAscent+h-5)},X=()=>{l.font=`${Math.floor(120*w)}px sans-serif`;const t="FISHING",s=l.measureText(t);l.font=`${Math.floor(32*w)}px sans-serif`;const e="Double click to start game!",i=l.measureText(e),h=40*w,n=60*w,a=30*w,c=Math.max(s.width,i.width)+2*n,o=s.actualBoundingBoxAscent+i.actualBoundingBoxAscent+h+2*h;l.lineWidth=5,l.strokeStyle="#fff",l.fillStyle="#222222aa",l.beginPath(),l.roundRect((d-c)/2,(f-o)/2,c,o,[a]),l.fill(),l.stroke(),l.fillStyle="#fff",l.font=`${Math.floor(120*w)}px sans-serif`,l.fillText(t,(d-s.width)/2,(f-o)/2+s.actualBoundingBoxAscent+h),l.font=`${Math.floor(32*w)}px sans-serif`,l.fillText(e,(d-i.width)/2,(f-o)/2+s.actualBoundingBoxAscent+2*h+i.actualBoundingBoxAscent)};class Y{constructor(t,{x:s,y:e}){this.on=t,this.x=s,this.y=e,this.size=64}isHit({x:t,y:s}){return C(this.x-this.size/2,t,this.x+this.size/2,this.y-this.size/2,s,this.y+this.size/2)}toggle(){this.on=!this.on,this.onToggle(this.on)}onToggle(t){}draw(){l.lineWidth=5,l.fillStyle="#222222aa",l.beginPath(),l.roundRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size,[10]),l.fill(),l.strokeStyle="#fff",l.stroke(),this.on||(l.strokeStyle="#fff",l.moveTo(this.x-this.size/2+10,this.y+this.size/2-10),l.lineTo(this.x+this.size/2-10,this.y-this.size/2+10),l.stroke())}}class b extends Y{constructor(t,s){super(t,s)}draw(){super.draw();const t=new DOMMatrix([2,0,0,2,this.x-24,this.y-24]);l.fillStyle="#fff";const s=new Path2D;s.addPath(new Path2D("M20.59,14.86V10.09A8.6,8.6,0,0,0,12,1.5h0a8.6,8.6,0,0,0-8.59,8.59v4.77L1.5,16.77v1.91h21V16.77Z"),t),s.addPath(new Path2D("M14.69,18.68a2.55,2.55,0,0,1,.17,1,2.86,2.86,0,0,1-5.72,0,2.55,2.55,0,0,1,.17-1"),t),l.stroke(s)}}class S extends Y{constructor(t,s){super(t,s)}draw(){super.draw();const t=new DOMMatrix([2,0,0,2,this.x-24,this.y-24]);l.strokeStyle="#fff";const s=new Path2D;s.addPath(new Path2D("M11.4,21c-1.68,1.7-4.08,2.06-5.32.8s-.9-3.63.8-5.32,4.07-2,5.32-.8S13.1,19.31,11.4,21Z"),t),s.addPath(new Path2D("M18.67,11v-1C18.67,5.31,13,6.26,13,.54L13,18"),t),l.stroke(s)}onToggle(t){t?u.musicController.start():u.musicController.stop()}}const I=()=>({x:Math.random()*d,y:Math.random()*f}),T=()=>{const t=200*Math.random()+100,s=200*Math.random()+100;return{x:Math.random()>.5?d+t:-t,y:Math.random()>.5?f+s:-s}},k=({cX:t,cY:s,dX:e,dY:i},h=0)=>{let n=Math.atan((s-i)/(t-e));for(t>e&&(n-=Math.PI);h-n>Math.PI;)n+=2*Math.PI;for(;n-h>Math.PI;)n-=2*Math.PI;return n},B=(t,s,e)=>t<s?s:t>e?e:t,E=(t,s,e)=>{const i=s-e,[h,n]=i<0?[i,-i]:[-i,i];return B(t,h,n)},C=(t,s,e,i,h,n)=>t<=s&&s<=e&&i<=h&&h<=n;class O{constructor({x:t,y:s}){this.x=t,this.y=s,this.r=0}move(t){this.r+=.5*t,this.r>d+f&&this.destroy()}draw(){l.beginPath(),l.arc(this.x,this.y,this.r,0,2*Math.PI),l.lineWidth=3,l.strokeStyle="#fff",l.stroke()}destroy(){const t=u.waves.indexOf(this);u.waves.splice(t,1)}}</script>