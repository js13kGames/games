<!doctype html><title>Yellow and Blue</title><meta name=viewport content="width=device-width"><link rel=icon href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxElEQVRYhe3VQQrEIAwF0CwKc405ZHfCLy69cZlF/6wsHbVFIamDtPA32eQZUhXxE7vmbwCOL66U6jgvuoCW5mMDABBA1jCtmwCcF5IsImL9Q9hOIH4lwLE+7g48gAfQDeC8NEcV0C1DAt5YstwGAMAws5giRLP5WeNLhObYawBhpj4gNo/POPnbMNbDVpiC6um3/dXOTp3WbQCHE6eAfQp3AJr2oAdAfQfE1/2CpoDaKZjdAzUI85vwDHL5HlgAmtIb8AXLuaOmyFjUxgAAAABJRU5ErkJggg=="><meta name=monetization content=$ilp.uphold.com/k4eJGQUDF9nw><script src=/socket.io.js></script><style>body,html{margin:0;padding:0;font-family:sans-serif;height:100%}section:not(#game){padding:.5em 1em}header{background:#000;margin:auto;position:relative;z-index:1;text-align:center}header button{background:0 0;border:0;color:#fff;padding:.5em;height:42px}.left{float:left}.right{float:right}.blue #yellow,.yellow #blue{display:none}.a0 #a1,.a0 #a2,.a1 #a0,.a1 #a2,.a2 #a0,.a2 #a1{display:none}#game{background:linear-gradient(90deg,#aac,#dd9);height:100%}#canvas{display:block;margin:auto;box-shadow:2em 2em #000,-2em -3em #000,2em -3em #000,-2em 2em #000;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}#start{text-align:center}#start button{background:#fff;color:#000;border:solid thin;font:inherit;padding:1em;width:16em;max-width:100%;transition:width .2s;cursor:pointer}#start button:hover{transition:width .5s;width:20em}#levels button{background:#fff;color:#000;border:solid;font:inherit;font-size:150%;font-weight:700;width:3em;height:3em;margin:.5em;cursor:pointer}#levels button .result{font-weight:400;font-size:67%}#levels button:enabled:hover{border-color:#00f}#levels button:disabled{color:#888;cursor:default}#levels button.solved{background:#060;border-color:#060;color:#fff}#levels button.solved:disabled{border-color:#888}#info{display:none;position:fixed;z-index:2;top:0;left:0;right:0;background-color:rgba(255,255,255,.8);text-align:center}#modal{display:none;position:fixed;z-index:2;top:0;bottom:0;left:0;right:0;background-color:rgba(255,255,255,.7);text-align:center;font-size:400%;overflow:auto}#modal p{padding:0 1em}</style><section id=start><h1><span style=color:#bb0>Yellow</span> and <span style=color:#00f>Blue</span></h1><p><button id=alone>Play alone</button><p><button id=friend>Play with a friend</button><p><button id=random>Play with a random person</button></section><section id=code hidden><p>Think of any word or other code and tell it your friend. Then you both enter that code to play together.<p><label>Code: <input id=input></label><p><button id=connect>Connect</button><p><button id=back>Cancel</button></section><section id=wait hidden><p>Waiting for other player …<p><button id=cancel>Cancel</button></section><section id=levels hidden></section><section id=game hidden><header id=header><button id=abort class=left title="Abort level"><svg height=24px width=24px viewBox="0 0 24 24" fill=currentcolor><path d="M18.3,5.71L18.3,5.71c-0.39-0.39-1.02-0.39-1.41,0L12,10.59L7.11,5.7c-0.39-0.39-1.02-0.39-1.41,0l0,0c-0.39,0.39-0.39,1.02,0,1.41L10.59,12L5.7,16.89c-0.39,0.39-0.39,1.02,0,1.41h0c0.39,0.39,1.02,0.39,1.41,0L12,13.41l4.89,4.89 c0.39,0.39,1.02,0.39,1.41,0l0,0c0.39-0.39,0.39-1.02,0-1.41L13.41,12l4.89-4.89C18.68,6.73,18.68,6.09,18.3,5.71z"/></svg></button> <button id=switch><svg id=yellow height=24px width=24px viewBox="0 0 24 24" fill=#ff0><path d="M2 2H20V20H2V2"/></svg><svg id=blue height=24px width=24px viewBox="0 0 24 24" fill=#58f><circle r=10 cx=12 cy=12 /></svg></button> <button id=restart class=right title="Restart level [r]"><svg height=24px width=24px viewBox="0 0 24 24" fill=currentcolor><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg></button><button id=audio class=right><svg id=a0 title="Muted [m]" height=24px width=24px viewBox="0 0 24 24" fill=currentcolor><path d="M17 12.61V10h2c1.1 0 2-.9 2-2s-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3.61l2 2zM8.12 6.56a.996.996 0 1 0-1.41 1.41l8.29 8.3v.28c-.94-.54-2.1-.75-3.33-.32-1.34.48-2.37 1.67-2.61 3.07a4.007 4.007 0 0 0 4.59 4.65c1.96-.31 3.35-2.11 3.35-4.1v-1.58l5.02 5.02a.996.996 0 1 0 1.41-1.41L8.12 6.56z"/></svg><svg id=a1 title="Sounds only [m]" height=24 width=24 viewBox="0 0 24 24" fill=currentcolor><path d="M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"/></svg><svg id=a2 title="Sounds and music [m]" height=24px width=24px viewBox="0 0 24 24" fill=currentcolor><path d="M15 8v8.55c-.94-.54-2.1-.75-3.33-.32-1.34.48-2.37 1.67-2.61 3.07a4.007 4.007 0 0 0 4.59 4.65c1.96-.31 3.35-2.11 3.35-4.1V10h2c1.1 0 2-.9 2-2s-.9-2-2-2h-2c-1.1 0-2 .9-2 2z"/></svg></button></header><canvas id=canvas moz-opaque></canvas></section><div id=info><p id=info-text></div><div id=modal><p id=modal-text><p><button id=modal-close>OK</button></div><script>!function(){var e,t,o,n,i,a,s,r,l,c,h,d,u,f,m,p,v,g;e=function(){function e(e,t){this.isOpen=!1,this.socket=io({path:location.pathname+"io",upgrade:!1,transports:["websocket"]}),this.socket.on("start",function(t){t=JSON.parse(t),this.user=t.user,this.isOpen=!0,e("start",t.user,t.details)}.bind(this)),this.socket.on("data",(function(t){t=JSON.parse(t),e(t.type,t.user,t.details)})),this.socket.on("end",function(t){this.isOpen=!1,e("end",t,{}),this.socket.disconnect()}.bind(this)),this.socket.on("disconnect",function(){this.isOpen&&e("end",this.user,{}),this.isOpen=!1}.bind(this)),this.socket.on("connect",function(){this.socket.emit("start",t||"")}.bind(this))}return e.isAvailable=function(){return"undefined"!=typeof io},e.prototype.switchUser=function(){},e.prototype.getUser=function(){return this.user},e.prototype.msg=function(e,t){void 0!==this.user&&this.socket.emit("data",JSON.stringify({type:e,user:this.user,details:t}))},e.prototype.close=function(){this.socket.disconnect(!0)},e}(),t=function(){function e(e,t){this.user=t||0,this.callback=e,void 0===t&&setTimeout((function(){e("start",0,{seed:Math.floor(4294967296*Math.random())})}),0)}return e.prototype.getUser=function(){return this.user},e.prototype.switchUser=function(e){this.user!==e&&(this.user=e,this.callback("switch-user",this.user,{}))},e.prototype.msg=function(e,t){this.callback(e,this.user,t)},e.prototype.close=function(){this.callback("end",this.user,{})},e}(),o=function(){var e={solved:{},audio:2};try{e=JSON.parse(localStorage.getItem("schnark-js13k-2022")||"x")}catch(e){}return{get:function(t){return e[t]},set:function(t,o){e[t]=o;try{localStorage.setItem("schnark-js13k-2022",JSON.stringify(e))}catch(e){}}}}(),n=function(){function e(){o&&(clearTimeout(o),o=!1),s.style.display=""}var t,o,n=document.getElementById("modal"),i=document.getElementById("modal-text"),a=document.getElementById("modal-close"),s=document.getElementById("info"),r=document.getElementById("info-text");return a.addEventListener("click",(function(){t(),n.style.display="",t=!1})),s.addEventListener("click",(function(){e()})),{modal:function(e,o){t&&t(),i.textContent=e,t=o,n.style.display="block",a.focus()},info:function(t,n){t?(r.textContent=t,s.style.display="block",o&&clearTimeout(r),o=setTimeout(e,1e3*(n||3))):e()}}}(),g=!1,document.addEventListener("keydown",(function(e){if(f&&g&&!e.altKey&&!e.ctrlKey&&!e.metaKey){switch(e.key&&"Unidentified"!==e.key?{Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown"}[e.key]||e.key:{9:"Tab",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"}[e.which]||String.fromCharCode(e.which).toLowerCase()){case"ArrowLeft":case"a":case"q":f.msg("move",{x:-1,y:0});break;case"ArrowUp":case"w":case"z":f.msg("move",{x:0,y:-1});break;case"ArrowRight":case"d":f.msg("move",{x:1,y:0});break;case"ArrowDown":case"s":f.msg("move",{x:0,y:1});break;case"1":f.switchUser(0);break;case"2":f.switchUser(1);break;case"Tab":f.switchUser(1-f.getUser());break;case"r":f.msg("restart");break;case"m":document.getElementById("audio").click()}e.preventDefault()}})),(m=document.getElementById("canvas")).addEventListener("touchstart",(function(e){e.targetTouches.length>1||(p=e.touches[0].clientX,v=e.touches[0].clientY,e.preventDefault())}),{passive:!1}),m.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1}),m.addEventListener("touchend",(function(e){var t,o,n,i;!(e.targetTouches.length>0)&&f&&(t=e.changedTouches[0].clientX-p,o=e.changedTouches[0].clientY-v,n=Math.abs(t),i=Math.abs(o),Math.max(n,i)>10&&(n>i?f.msg("move",{x:t<0?-1:1,y:0}):f.msg("move",{x:0,y:o<0?-1:1})),e.preventDefault())})),document.getElementById("abort").addEventListener("click",(function(){f&&f.msg("abort")})),document.getElementById("switch").addEventListener("click",(function(){f&&f.switchUser(1-f.getUser())})),document.getElementById("restart").addEventListener("click",(function(){f&&f.msg("restart")})),document.getElementById("levels").addEventListener("click",(function(e){f&&!e.target.disabled&&e.target.dataset.level&&f.msg("select",{level:Number(e.target.dataset.level)})})),document.monetization&&document.monetization.addEventListener("monetizationstart",(function(){f&&f.msg("unlock",{data:"bonus"})})),i={start:function(e){f=e},stop:function(){f=!1},startKeys:function(){g=!0},stopKeys:function(){g=!1}},a=function(){function e(e,t){var o,n;t=t||"sine";for(o=0;o<c.length;o++)if(c[o].osc.type===t&&c[o].t<e)return o;return o=a.createOscillator(),n=a.createGain(),o.type=t,n.gain.value=0,o.connect(n),n.connect(a.destination),o.start(),c.push({osc:o,gain:n}),c.length-1}function t(){var e,t;if(l=!1,a){for(t=a.currentTime+.1,e=0;e<c.length;e++)c[e].osc.frequency.cancelScheduledValues(t),c[e].gain.gain.cancelScheduledValues(t),c[e].gain.gain.setValueAtTime(0,t),c[e].t=t;for(e=0;e<s.length;e++)s[e].time=-1,s[e].pos=0}}function o(e){return e.split(" ").map((function(e){var t;e=e.split(/([\^_]?[a-zA-Z][',]*)/);return t=Number(e.pop()||1),[e.filter((function(e){return e})),t]}))}function n(t,o,n,s,r,l){var h;a||(a=new i),n=(h=a.currentTime+.01)+n*s/1e3,l=e(h,["square","sawtooth","triangle","sine"][l||0]),c[l].osc.frequency.setValueAtTime(t,h),c[l].osc.frequency.linearRampToValueAtTime(t+o*s,n),c[l].gain.gain.setValueAtTime(r,h),c[l].gain.gain.linearRampToValueAtTime(0,n),c[l].t=n}var i,a,s,r=2,l=!1,c=[];return i=window.AudioContext||window.webkitAudioContext,function(){var e,t;for(e=[["A A A A A c B A G G G G G B A G A A A A A c B A G e E G A2 z2 c c c c c e d c B B B B B d c B A A A A A c B A G B e0.5 d0.5 c0.5 B0.5 A2 z2",e={E:440*Math.pow(2,-5/12),G:440*Math.pow(2,-1/12),A:440,B:440*Math.pow(2,2/12),c:440*Math.pow(2,.25),d:440*Math.pow(2,5/12),e:440*Math.pow(2,7/12)},.1],["A, Ace E Ace A, Ace E Ace E ^Gde B, ^Gde E ^Gde B, ^Gde A, Ace E Ace A, Ace E Ace E ^Gde B, ^Gde A, Ace G,GBf2 C Gce G, Gce C Gce G, Gce G, GBd D GBd G, E, ^F, ^G, A, Ace E Ace A, Ace E Ace E ^Gde B, ^Gde A, Ace A,Ace2",t={"E,":220*Math.pow(2,-17/12),"^F,":220*Math.pow(2,-1.25),"G,":220*Math.pow(2,-14/12),"^G,":220*Math.pow(2,-13/12),"A,":110,"B,":220*Math.pow(2,-10/12),C:220*Math.pow(2,-.75),D:220*Math.pow(2,-7/12),E:220*Math.pow(2,-5/12),G:220*Math.pow(2,-2/12),"^G":220*Math.pow(2,-1/12),A:220,B:220*Math.pow(2,2/12),c:220*Math.pow(2,.25),d:220*Math.pow(2,5/12),e:220*Math.pow(2,7/12),f:220*Math.pow(2,8/12)},.15]],s=[],t=0;t<e.length;t++){var n=o(e[t][0]);s.push({time:-1,pos:0,notes:n,key:e[t][1],volume:e[t][2],baseDur:.5})}}(),{setMode:function(e){e!==r&&(2===r&&l&&(t(),l=!0),r=e)},start:function(){l=!0},stop:t,tick:i?function(){var t,o;if(l&&2===r)for(a||(a=new i),t=0;t<s.length;t++){-1===s[t].time&&(o||(o=a.currentTime+.1),s[t].time=o);for(var n=s[t],h=void 0;n.time-a.currentTime<1;){if("z"===(h=n.notes[n.pos])[0][0])n.time+=h[1]*n.baseDur;else{var d=n,u=h[0],f=n.time,m=n.key,p=n.volume,v=void 0;for(h=f+h[1]*n.baseDur,v=0;v<u.length;v++){var g=f,y=h,b=m[u[v]],w=p,k=e(g);c[k].osc.frequency.setValueAtTime(b,g),c[k].gain.gain.setValueAtTime(.001,g),c[k].gain.gain.exponentialRampToValueAtTime(w,g+.05),c[k].gain.gain.linearRampToValueAtTime(w,y-.05),c[k].gain.gain.exponentialRampToValueAtTime(.001,y),c[k].gain.gain.setValueAtTime(0,y+.01),c[k].t=y+.01}d.time=h}n.pos=(n.pos+1)%n.notes.length}}}:function(){},sound:i?function(e){if(0!==r)switch(e){case"move":n(100,-10,15,15,.7,2);break;case"open":n(220,15,60,15,.3,2);break;case"close":n(440,-15,60,15,.3,2);break;case"teleport":n(150,30,2,20,.5,2),setTimeout((function(){n(150,30,2,20,.5,2)}),150);break;case"switch":n(750,-30,5,20,.25),setTimeout((function(){n(150,30,5,20,.25)}),100);break;case"win":n(510,0,15,20,.1),setTimeout((function(){n(2600,1,10,50,.2)}),80);break;case"die":case"restart":n(100,-10,10,25,.5),n(125,-5,20,45,.1,1),n(40,2,20,20,1,2),n(200,-4,10,100,.25,2)}}:function(){}}}(),s=function(){function e(s){t&&(o||(o=s),a.tick(),t(n,s-o),o=s,i(e))}var t,o,n,i;return i=window.requestAnimationFrame||window.mozRequestAnimationFrame,function(){function e(){var e=document.documentElement;(e=Math.min(1,e.clientWidth/t.width,(e.clientHeight-(o.clientHeight||42))/t.height))>.75?e=.75:e>2/3?e=2/3:e>.5?e=.5:e>1/3?e=1/3:e>.25&&(e=.25),e=Math.floor(t.width*e)+"px",t.style.width=e,o.style.width=e}var t=document.getElementById("canvas"),o=document.getElementById("header");t.width=960,t.height=1440,n=t.getContext("2d",{alpha:!1}),window.addEventListener("resize",e),e()}(),{start:function(n){a.start(),o=0,t=n,i(e)},stop:function(){a.stop(),t&&t(n),t=!1},patterns:function(){var e,t,o,i,a,s,r,l,c=document.createElement("canvas"),h=c.getContext("2d");for(c.width=32,c.height=32,t=0;t<32;t+=3)o=Math.floor(256*Math.random()),h.strokeStyle="rgba("+o+","+o+","+o+",0.3)",i=5*Math.random(),a=6+4*Math.random(),h.beginPath(),h.moveTo(t,0),h.bezierCurveTo(t+i,a,t-i,32-a,t,32),h.stroke();for(r=n.createPattern(c,"repeat"),e=h.createImageData(32,32),t=0;t<4096;t+=4)o=Math.floor(256*Math.random()),e.data[t]=o,e.data[t+1]=o,e.data[t+2]=o,e.data[t+3]=50;for(h.putImageData(e,0,0),l=n.createPattern(c,"repeat"),s=32,e.data[2]=0,e.data[3]=128+Math.floor(32*Math.random()),e.data[126]=0,e.data[127]=128+Math.floor(32*Math.random()),e.data[3970]=0,e.data[3971]=128+Math.floor(32*Math.random()),e.data[4094]=0,e.data[4095]=128+Math.floor(32*Math.random());s>1;){for(i=s/=2;i<32-s;i+=s)for(a=0;a<32;a+=2*s)o=e.data[4*(32*a+i-s)]+e.data[4*(32*a+i+s)],o=Math.floor(o/2+8*(Math.random()-.5)*s),t=4*(32*a+i),e.data[t]=o,e.data[t+1]=o,e.data[t+2]=0,e.data[t+3]=128+Math.floor(32*Math.random());for(a=s;a<32-s;a+=s)for(i=0;i<32;i+=2*s)o=e.data[4*(32*(a-s)+i)]+e.data[4*(32*(a+s)+i)],o=Math.floor(o/2+8*(Math.random()-.5)*s),t=4*(32*a+i),e.data[t]=o,e.data[t+1]=o,e.data[t+2]=0,e.data[t+3]=128+Math.floor(32*Math.random())}return h.putImageData(e,0,0),c=n.createPattern(c,"repeat"),(h=n.createRadialGradient(48,48,0,48,48,48)).addColorStop(0,"#808"),h.addColorStop(1,"#d0d"),{box:r,grass:l,fire:c,teleport:h}}()}}(),r=function(){function e(e,t){this.type=e,0===t||1===t?this.state=t:(this.data=t,this.state=0),this.drawState=this.state,this.animationTime=0}var t={fire:5e3,teleport:15e3},o={},n=1/900;return o.grass=function(e){e.fillStyle="#060",e.fillRect(0,0,96,96),e.fillStyle=s.patterns.grass,e.fillRect(0,0,96,96)},o.block=function(e){e.fillStyle="#310",e.fillRect(0,0,96,96),e.lineWidth=2.5,e.strokeStyle="#dda",e.beginPath(),e.moveTo(0,0),e.lineTo(96,0),e.moveTo(0,24),e.lineTo(96,24),e.moveTo(0,48),e.lineTo(96,48),e.moveTo(0,72),e.lineTo(96,72),e.moveTo(0,0),e.lineTo(0,24),e.moveTo(48,0),e.lineTo(48,24),e.moveTo(0,48),e.lineTo(0,72),e.moveTo(48,48),e.lineTo(48,72),e.moveTo(24,24),e.lineTo(24,48),e.moveTo(72,24),e.lineTo(72,48),e.moveTo(24,72),e.lineTo(24,96),e.moveTo(72,72),e.lineTo(72,96),e.stroke()},o.fire=function(e,t){e.fillStyle="hsl(0,100%,"+(50+10*Math.sin(t*Math.PI/50))+"%)",e.fillRect(0,0,96,96),e.fillStyle=s.patterns.fire,e.fillRect(0,0,96,96)},o.doc=function(e){o.grass(e),e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=2,e.beginPath(),e.moveTo(64,40),e.lineTo(48,24),e.lineTo(32,24),e.lineTo(32,72),e.lineTo(64,72),e.lineTo(64,40),e.fill(),e.lineTo(48,40),e.lineTo(48,24),e.stroke()},o.hdoor=function(e,t,n){t=48-46*n,o.grass(e),e.fillStyle="#aaa",e.beginPath(),e.rect(0,0,t,12),e.rect(0,84,t,12),e.rect(96-t,0,t,12),e.rect(96-t,84,t,12),e.fill(),e.fillStyle="#ccc",e.beginPath(),e.rect(0,0,t,3),e.rect(0,84,t,3),e.rect(96-t,0,t,3),e.rect(96-t,84,t,3),e.fill(),e.fillStyle="#888",e.beginPath(),e.rect(0,6,t,3),e.rect(0,90,t,3),e.rect(96-t,6,t,3),e.rect(96-t,90,t,3),e.fill()},o.vdoor=function(e,t,n){t=48-46*n,o.grass(e),e.fillStyle="#aaa",e.beginPath(),e.rect(0,0,12,t),e.rect(84,0,12,t),e.rect(0,96-t,12,t),e.rect(84,96-t,12,t),e.fill(),e.fillStyle="#ccc",e.beginPath(),e.rect(0,0,3,t),e.rect(84,0,3,t),e.rect(0,96-t,3,t),e.rect(84,96-t,3,t),e.fill(),e.fillStyle="#888",e.beginPath(),e.rect(6,0,3,t),e.rect(90,0,3,t),e.rect(6,96-t,3,t),e.rect(90,96-t,3,t),e.fill()},o.trigger=function(e){o.grass(e),e.fillStyle="#aaa",e.fillRect(24,24,48,48),e.fillStyle="#ccc",e.beginPath(),e.rect(24,24,48,6),e.rect(24,24,6,48),e.fill(),e.fillStyle="#888",e.beginPath(),e.rect(30,66,42,6),e.rect(66,24,6,48),e.fill()},o.teleport=function(e,t){o.grass(e),e.fillStyle=s.patterns.teleport,e.beginPath(),e.arc(48,48,24+8*Math.sin(t*Math.PI/50),0,2*Math.PI),e.fill()},e.prototype.canEnter=function(){return"vdoor"===this.type||"hdoor"===this.type?1===this.state:"block"!==this.type},e.prototype.getDeath=function(){return"fire"===this.type?1:"vdoor"!==this.type&&"hdoor"!==this.type||0!==this.state?"teleport"===this.type?3:0:2},e.prototype.draw=function(e,i,a,s){var r=t[this.type]||1;void 0===s?(this.animationTime=0,this.drawState=this.state):(this.animationTime=(this.animationTime+s)%r,s*n>=Math.abs(this.state-this.drawState)?this.drawState=this.state:this.drawState+=s*n*(this.state>this.drawState?1:-1)),e.save(),e.translate(96*i,96*a),o[this.type](e,100*this.animationTime/r,this.drawState),e.restore()},e}(),l=function(){function e(e,t,o,n,i){e.fillStyle="#fff",e.strokeStyle="#000",e.beginPath(),e.arc(t,o,n,0,2*Math.PI),e.fill(),e.stroke(),e.fillStyle="#000",e.beginPath(),e.arc(t,o-n/3+i,n/3,0,2*Math.PI),e.fill()}function t(e,t,o){this.type=e,this.drawX=this.x=t,this.drawY=this.y=o,this.animationTime=0}var o={yellow:1e4,blue:12e3,death:5e4},n={yellow:function(t,o){var n=0;t.translate(48,48),o>50&&o<55&&t.rotate(.2*Math.sin((o-50)*Math.PI/2.5)),t.lineWidth=2,t.strokeStyle="#cc0",t.fillStyle="#ff0",t.beginPath(),t.rect(-38,-38,76,76),t.fill(),t.stroke(),t.lineWidth=1.5,o>70&&o<75&&(n=2-Math.max(0,Math.abs(o-72.5)-.5)),e(t,-19.2,-9.6,9.6,n),e(t,19.2,-9.6,9.6,n)},blue:function(t,o){var n=0;t.translate(48,48),o>60&&o<70&&t.rotate(Math.sin((o-60)*Math.PI/5)),t.lineWidth=2,t.strokeStyle="#36d",t.fillStyle="#58f",t.beginPath(),t.arc(0,0,38.4,0,2*Math.PI),t.fill(),t.stroke(),t.lineWidth=1.5,o>20&&o<25&&(n=2-Math.max(0,Math.abs(o-22.5)-.5)),e(t,-19.2,-9.6,9.6,n),e(t,19.2,-9.6,9.6,n)},death:function(e,t){var o;e.fillStyle="#ffe",e.strokeStyle="#aaa",e.translate(48,72),e.save(),e.rotate(Math.sin(t*Math.PI/500)*Math.sin(t*Math.PI/5)/2),e.beginPath(),e.moveTo(0,-8),e.lineTo(32,-8),e.bezierCurveTo(32,-8,40,-24,40,0),e.bezierCurveTo(40,24,32,8,32,8),e.lineTo(-32,8),e.bezierCurveTo(-32,8,-40,24,-40,0),e.bezierCurveTo(-40,-24,-32,-8,-32,-8),e.closePath(),e.fill(),e.stroke(),e.restore(),e.beginPath(),e.moveTo(0,-67),e.bezierCurveTo(32,-67,40,-48,40,-32),e.bezierCurveTo(40,-10,4,19,0,19),e.bezierCurveTo(-4,19,-40,-10,-40,-32),e.bezierCurveTo(-40,-48,-32,-67,0,-67),e.fill(),e.stroke(),o=0,t>70&&t<75&&(o=60*Math.max(0,Math.abs(t-72.5)-.5)+240),e.fillStyle="hsl("+o+", 100%, 30%)",e.beginPath(),e.arc(-19.2,-32,12,0,2*Math.PI),e.arc(19.2,-32,12,0,2*Math.PI),e.fill()},box:function(e){e.fillStyle="#732",e.fillRect(0,0,96,96),e.fillStyle="#954",e.fillRect(0,0,96,6),e.fillRect(0,0,6,96),e.fillStyle="#510",e.fillRect(90,0,6,96),e.fillRect(0,90,96,6),e.fillStyle=s.patterns.box,e.fillRect(0,0,96,96)}};return t.prototype.setRoom=function(e){this.room!==e&&(this.room&&this.room.movables.splice(this.room.movables.indexOf(this),1),this.room=e)},t.prototype.getTile=function(){return this.room.getTile(this.x,this.y)},t.prototype.canMoveTo=function(e,t,o,n){return!!this.room.canEnter(e,t)&&(!this.room.isOccupied(e,t)||this.room.canEnter(e+o,t+n)&&!this.room.isOccupied(e+o,t+n))},t.prototype.moveTo=function(e,t,o){this.drawX=o?e:this.x,this.drawY=o?t:this.y,this.x=e,this.y=t},t.prototype.draw=function(e,t){var i,a,s,r=o[this.type]||1;void 0===t?(this.animationTime=0,this.drawX=this.x,this.drawY=this.y):(this.animationTime=(this.animationTime+t)%r,i=this.x-this.drawX,a=this.y-this.drawY,.005*t>=(s=Math.sqrt(i*i+a*a))?(this.drawX=this.x,this.drawY=this.y):(this.drawX+=i*t*.005/s,this.drawY+=a*t*.005/s)),e.save(),e.translate(96*this.drawX,96*this.drawY),n[this.type](e,100*this.animationTime/r),e.restore()},t}(),c=function(){function e(){}var t={"#":"block","~":"fire","!":"doc","-":"hdoor","|":"vdoor",".":"trigger","*":"trigger","?":"teleport"},o={0:"yellow",1:"blue",2:"death",3:"death",$:"box","*":"box"};return e.prototype.init=function(e){var n,i,a,s,c,h,d=0,u={};for(this.tiles=[],this.movables=[],a=0;a<15;a++){for(s=[],i=0;i<10;i++)n=e.map.charAt(d),(c=o[n])&&(h=new l(c,i,a),this.addMovable(h),u[c]=h),c=e[n]?e[n].shift():void 0,s.push(new r(t[n]||"grass",c)),d++;this.tiles.push(s)}return u},e.prototype.addMovable=function(e){-1===this.movables.indexOf(e)&&(this.movables.push(e),e.setRoom(this))},e.prototype.getTile=function(e,t){return this.tiles[t][e]},e.prototype.canEnter=function(e,t){return!(t<0||t>=this.tiles.length)&&(!(e<0||e>=this.tiles[t].length)&&this.tiles[t][e].canEnter())},e.prototype.isOccupied=function(e,t){var o;for(o=0;o<this.movables.length;o++)if(this.movables[o].x===e&&this.movables[o].y===t)return this.movables[o];return!1},e.prototype.draw=function(e,t){var o,n;for(n=0;n<this.tiles.length;n++)for(o=0;o<this.tiles[n].length;o++)this.tiles[n][o].draw(e,o,n,t);for(o=0;o<this.movables.length;o++)this.movables[o].draw(e,t)},e}(),h=function(){function e(e){this.data=e}function t(e,t){return e.room===t.room&&Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<=1}return e.prototype.init=function(){var e,t=JSON.parse(JSON.stringify(this.data));this.inverseMove=this.data.map.indexOf("3")>-1,this.rooms=[];do{e=new c,this.rooms.push(e),e=e.init(t),t.map=t.map.slice(150),this.yellow=e.yellow||this.yellow,this.blue=e.blue||this.blue,this.death=e.death||this.death}while(t.map.length>0)},e.prototype.start=function(e){this.init(),i.startKeys(),s.start(this.draw.bind(this)),this.state=0,this.user=e,this.time=Date.now()},e.prototype.stop=function(){return i.stopKeys(),s.stop(),Math.max(1,Math.round((Date.now()-this.time)/1e3))},e.prototype.setUser=function(e){this.user=e},e.prototype.draw=function(e,t){[this.yellow,this.blue][this.user].room.draw(e,t)},e.prototype.getState=function(){return this.state},e.prototype.movePlayer=function(e,t,o){var n,i,a;if(n=e.x+t,i=e.y+o,e.canMoveTo(n,i,t,o))return(a=e.room.isOccupied(n,i))&&this.movePlayer(a,t,o),this.enterLeave(e,!1),e.moveTo(n,i),this.enterLeave(e,!0),!0},e.prototype.move=function(e,t,o){!this.state&&((e=this.movePlayer(0===e?this.yellow:this.blue,t,o))&&a.sound("move"),this.state=this.checkEnd(),e&&this.state<=1)&&(this.movePlayer(this.death,this.inverseMove?-t:t,this.inverseMove?-o:o),this.state=this.checkEnd())},e.prototype.enterLeave=function(e,t){var o=e.getTile();"doc"===o.type?e===[this.yellow,this.blue][this.user]&&n.info(t?o.data:"",5):"trigger"===o.type?(o=o.data,this.rooms[o[2]].getTile(o[0],o[1]).state=t?1:0,a.sound(t?"open":"close")):"teleport"===o.type&&t&&(o=o.data,this.rooms[o[2]].isOccupied(o[0],o[1])||(this.rooms[o[2]].addMovable(e),e.moveTo(o[0],o[1],!0),a.sound("teleport")))},e.prototype.checkDeath=function(e){return t(e,this.death)?1:(e=e.getTile().getDeath())?e+1:0},e.prototype.checkEnd=function(){var e,o;return(e=this.checkDeath(this.yellow))&&(e*=2),(o=this.checkDeath(this.blue))?2*o+1:e&&o?[e,o][this.user]:e||(o||(t(this.yellow,this.blue)?1:0))},e}(),d=[{title:"Tutorial levels",desc:"Play these tutorial levels first. They will introduce you to the different elements of the game.",lock:0,levels:[{map:"   #       0!          #      ####                  #####     #   #     # 2 #     #   #     ## ##                   ####      #          !1       #   ","!":["Welcome! Try to meet Blue, but avoid Death.","Welcome! Try to meet Yellow, but avoid Death."]},{map:"0  !          ~            ~               ~      ~        ~              3                ~      ~               ~      ~           ~            !  1","!":["This time Death will move the other way. And don’t fall into the fire pits!","This time Death will move the other way. And don’t fall into the fire pits!"]},{map:"0 !             .             #####-####                                  2                 .                 ####-#####                           ! 1","!":["The triggers will open and close the doors.","The triggers will open and close the doors."],".":[[4,11,0],[5,3,0]]},{map:"0 !           ?               ##########                                  2                                   ##########              ?            ! 1","!":["The teleporters will take you somewhere else. Let’s hope the place is free and safe!","The teleporters will take you somewhere else. Let’s hope the place is free and safe!"],"?":[[4,4,0],[5,10,0]]},{map:"0!$         $       $$$                             $$$$$     $   $     $ 2 $     $   $     $$$$$                              $$$       $ !       $ 1","!":["You can push boxes to a free place, but only one at a time.","You can push boxes to a free place, but only one at a time."]},{map:"0         !       #-$      ## .      #         # #       #  ######### 2     . $ #########        #         # #?      #  $      ## !       #-1         ","!":["Boxes can press triggers, too.","Boxes can go through teleporters, too."],".":[[9,1,0],[9,13,0]],"?":[[7,7,0]]},{map:"0 !                                                                                                                                                  ??                                                                                                                                                  ! 1                                                                          2                                                                           ","!":["Where is Blue? Perhaps you should use the teleporter.","Where is Yellow? Perhaps you should use the teleporter."],"?":[[0,0,2],[9,14,2]]}]},{title:"More levels",desc:"Solve at least six of the tutorial levels to unlock.",lock:6,levels:[{map:"0                      #   ##    #  #      #  ###  # #    #   #   ##      2      ~ ~~  ~ ~ ~   ~ ~ ~ ~ ~~  ~~  ~   ~ ~ ~ ~ ~~  ~ ~                   1"},{map:"0         #### #### 1# #  # #  # ## # #  #  # # #  ##   #     ##### ##~  # 3  # ~ ## #### ~  #      ~ ### ####  #     #  #### #    #    ####   ~~      "},{map:"0         ~~~~~~~~~            ~~~~~~~~~          ~~~~~~~~~         ~  ~~~3~~~~  ~         ~~~~~~~~~          ~~~~~~~~~            ~~~~~~~~~         1"},{map:"0         #########            #########          ######### ####?####     2      ###?##### #########          #########            #########         1","?":[[0,7,0],[9,7,0]]},{map:"         0 ######### #########          ######### #### #### #### ####    $2$     ### ##### ### ##### #########          ######### ######### 1         "},{map:". . .# | # $$$ #-#-#.$0$.#-#-# $$$ | #-#. . .###-######### #              2               # #########-###. . .#-# | $$$ #-#-#.$1$.#-#-# $$$ # | #. . .",".":[[5,3,0],[6,2,0],[6,1,0],[7,0,0],[8,1,0],[8,2,0],[8,3,0],[8,4,0],[1,10,0],[1,11,0],[1,12,0],[1,13,0],[2,14,0],[3,13,0],[3,12,0],[4,11,0]]},{map:"    0         !     ??????????##########          ??????????##########          ??????????##########          ??????????##########          ????????????????????          ##########??????????          ##########??????????          ##########??????????          ##########??????????    !         1                                                                               2                                                                           ","!":["Do you know the value of π? If not, then look it up before heading for the 3rd teleporter.","Do you know the value of Euler’s number e? If not, then look it up before heading for the 2nd teleporter."],"?":[[4,0,0],[4,0,0],[4,4,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,7,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,10,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,13,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,2],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,0,0],[4,14,1],[4,14,2],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,1,1],[4,14,1],[4,14,1],[4,4,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,7,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,10,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1],[4,14,1]]}]},{title:"Sokoban levels",desc:"Solve ten levels to unlock these levels inspired by some Microban levels for Sokoban by David W Skinner.",lock:10,levels:[{map:"####~~~~~~# .#~~~~~~#  #####~~#*0  | |  #  $ ###  #  ###    ####          2           ####      #. #  #####  #  | |  1*#~~### $  #~~~~###  #~~~~~~####",".":[[7,3,0],[2,11,0]],"*":[[5,3,0],[4,11,0]],"|":[1,0,0,1]},{map:"###########        ## #0 ###-## $* #~#-## .* #~#-##    #~# ######### #    3                  ####    ###  ####-#     $ #-# #  #$ #   . .#1 ###########",".":[[8,2,0],[0,11,0],[0,12,0]],"*":[[8,3,0],[8,4,0]],"-":[0,1,1,0,0]},{map:"###########        ## .**$0#-##      #-######  #-#    #### #              2     # #########-##     ##-## .$. ##-## $1$ ##-#  .$. ##        ###########",".":[[8,2,0],[1,9,0],[1,10,0],[1,11,0],[1,12,0]],"*":[[8,3,0],[8,4,0]],"-":[0,1,1,0,0,0,0]},{map:"##### ####    ###    $$     #2 $ #...      ###########           0              # ########  ~~      #-##-##-##     ~~   ####### ##    1               ",".":[[1,10,0],[4,10,0],[7,10,0]]},{map:"#####     #.  ##    #0$$ ##   ##   ||    ##  ##     ##.#       ##          2####-#   #.  #-#   #.# #-#####.# # 1 $ $ $ # # # # ###       #~~########~~",".":[[5,3,0],[6,3,0],[0,8,0],[0,9,0],[0,10,0]]},{map:"0                                          ######    #    #    # ##3##-### # $ #-# ..# $ # #       # #  ###### ####                                  1",".":[[0,7,0],[0,8,0]]}]},{title:"Bonus levels",desc:"These bonus levels are exclusively for Coil subscribers.",lock:"bonus",levels:[{map:"0                                                                     ~~~~2~~~~~                                                                     1"},{map:"0 ??  ??    ??  ??  ??  ??  ????  ??  ??  ??  ??    ??  ??  ??  ??  ??~~~~2~~~~~??  ??  ??  ??  ??    ??  ??  ??  ??  ????  ??  ??  ??  ??    ??  ?? 1??  ??  ????  ??  ??  ??  ??    ??  ??  ??  ??  ????  ??  ??  ??  ??  ~~~~ ~~~~~  ??  ??  ??  ??  ????  ??  ??  ??  ??    ??  ??  ??  ??  ????  ??  ??","?":[[2,0,1],[3,0,1],[6,0,1],[7,0,1],[2,1,1],[3,1,1],[6,1,1],[7,1,1],[0,2,1],[1,2,1],[4,2,1],[5,2,1],[8,2,1],[9,2,1],[0,3,1],[1,3,1],[4,3,1],[5,3,1],[8,3,1],[9,3,1],[2,4,1],[3,4,1],[6,4,1],[7,4,1],[2,5,1],[3,5,1],[6,5,1],[7,5,1],[0,6,1],[1,6,1],[4,6,1],[5,6,1],[8,6,1],[9,6,1],[0,8,1],[1,8,1],[4,8,1],[5,8,1],[8,8,1],[9,8,1],[2,9,1],[3,9,1],[6,9,1],[7,9,1],[2,10,1],[3,10,1],[6,10,1],[7,10,1],[0,11,1],[1,11,1],[4,11,1],[5,11,1],[8,11,1],[9,11,1],[0,12,1],[1,12,1],[4,12,1],[5,12,1],[8,12,1],[9,12,1],[2,13,1],[3,13,1],[6,13,1],[7,13,1],[2,14,1],[3,14,1],[6,14,1],[7,14,1],[0,0,0],[1,0,0],[4,0,0],[5,0,0],[8,0,0],[9,0,0],[0,1,0],[1,1,0],[4,1,0],[5,1,0],[8,1,0],[9,1,0],[2,2,0],[3,2,0],[6,2,0],[7,2,0],[2,3,0],[3,3,0],[6,3,0],[7,3,0],[0,4,0],[1,4,0],[4,4,0],[5,4,0],[8,4,0],[9,4,0],[0,5,0],[1,5,0],[4,5,0],[5,5,0],[8,5,0],[9,5,0],[2,6,0],[3,6,0],[6,6,0],[7,6,0],[2,8,0],[3,8,0],[6,8,0],[7,8,0],[0,9,0],[1,9,0],[4,9,0],[5,9,0],[8,9,0],[9,9,0],[0,10,0],[1,10,0],[4,10,0],[5,10,0],[8,10,0],[9,10,0],[2,11,0],[3,11,0],[6,11,0],[7,11,0],[2,12,0],[3,12,0],[6,12,0],[7,12,0],[0,13,0],[1,13,0],[4,13,0],[5,13,0],[8,13,0],[9,13,0],[0,14,0],[1,14,0],[4,14,0],[5,14,0],[8,14,0],[9,14,0]]},{map:"    0      # # # # # # # # # # # # # # #!#!#!#!#!#?#?#?#?#?########### ~  2   ~ ###########?#?#?#?#?#!#!#!#!#!# # # # # # # # # # # # # # #      1    ","!":"NO! Do not go here!,Yes! This is the right teleporter.,NO! Do not go here!,NO! Do not go here!,NO! Do not go here!,NO! Do not go here!,Yes! This is the right teleporter.,NO! Do not go here!,NO! Do not go here!,NO! Do not go here!".split(","),"?":[[0,7,0],[2,7,0],[0,7,0],[0,7,0],[0,7,0],[9,7,0],[3,7,0],[9,7,0],[9,7,0],[9,7,0]]},{map:"######~~~~     #~~~~ .$. #~~~~ $.$ ##### .$. # ..1 $.$ # $$   0  ## ## ###### #~-#2 ||  #~-# #### #~-# #    ##-# # #   #-# #   # #-# ###   #   ~~#####",".":[[0,8,0],[0,9,0],[0,10,0],[0,11,0],[0,12,0],[4,8,0],[5,8,0],[0,13,0]]}]}],u=function(){function e(){r.hidden=!1,l.hidden=!0}function t(e){var t;if("bonus"===e){if(!a){for(t=0;t<s.length;t++)"bonus"===s[t].lock&&(document.querySelector('[data-level="'+t+'"]').disabled=!1);a=!0}}else if(e>i){for(t=0;t<s.length;t++)s[t].lock>i&&s[t].lock<=e&&(document.querySelector('[data-level="'+t+'"]').disabled=!1);i=e}}var o,n,i,a,s,r=document.getElementById("levels"),l=document.getElementById("game");return{init:function(){i=-1,a=!1;var o,n,l,c,h,u=r;for(o=[],s=[],n=0;n<d.length;n++){for(o.push("<h2>"+d[n].title+"</h2>"),o.push("<p>"+d[n].desc+"</p>"),o.push("<p>"),l=0;l<d[n].levels.length;l++)c=d[n].levels[l],h=s.length+1+'<br><span class="result">&nbsp;</span>',o.push('<button data-level="'+s.length+'" disabled>'+h+"</button> "),s.push({lock:d[n].lock,def:c});o.push("</p>")}o=o.join(""),u.innerHTML=o,t(0),e()},end:function(){r.hidden=!0},getCurrentLevel:function(){return o},getCurrentLevelId:function(){return n},unlock:t,markSolved:function(e,t){document.querySelector('[data-level="'+e+'"]').className="solved",document.querySelector('[data-level="'+e+'"] .result').textContent=Math.floor(t/60)+":"+(t%60<10?"0"+t%60:t%60)},runNextLevel:function(t){var r;s[r=n+1]?r="bonus"===(r=s[r].lock)?a:r<=i:r=!1,-1===(n=r?n+1:-1)?(o=!1,e()):(o=new h(s[n].def)).start(t)},runLevel:function(e,t){(o=new h(s[n=e].def)).start(t),r.hidden=!0,l.hidden=!1},abortLevel:function(){o.stop(),n=-1,o=!1,e()}}}(),function(){function s(){return"?monetization-cheater"===location.search||document.monetization&&"started"===document.monetization.state}function r(){g=(g+2)%3,o.set("audio",g),a.setMode(g),p.className="right a"+g}function l(e,r,d){var p=u.getCurrentLevel();switch(e){case"start":h.hidden=!0,f.hidden=!0,m.className=["yellow","blue"][r],i.start(c),u.init(),Object.keys(v).forEach((function(e){u.markSolved(e,v[e])})),c.msg("unlock",{data:Object.keys(v).length}),s()&&c.msg("unlock",{data:"bonus"});break;case"end":i.stop(),r===c.getUser()?(p&&u.abortLevel(),u.end(),h.hidden=!1):(c=new t(l,c.getUser()),n.modal("The other user quit. You can continue to play alone.",(function(){})),i.start(c));break;case"switch-user":a.sound("switch"),m.className=["yellow","blue"][r],p&&p.setUser(r);break;case"move":p&&!p.getState()&&(p.move(r,d.x,d.y),e=p.getState())&&(p=p.stop(),a.sound(1===e?"win":"die"),r=y[e-2],1===e&&(e=u.getCurrentLevelId(),r="Level solved again!",!v[e]||v[e]>p)&&(r=v[e]?"Level solved faster than before!":"Level solved!",v[e]=p,o.set("solved",v),u.markSolved(e,p),c.msg("unlock",{data:Object.keys(v).length})),n.info(""),n.modal(r,(function(){c.msg("continue")})));break;case"restart":p&&!p.getState()&&(a.sound("restart"),r!==c.getUser()&&n.info("Level restarted by other user"),p.stop(),p.start(c.getUser()));break;case"continue":p&&p.getState()&&(p.getState()>1?p.start(c.getUser()):u.runNextLevel(c.getUser()));break;case"select":p||(r!==c.getUser()&&n.info("Level selected by other user"),u.runLevel(d.level,c.getUser()));break;case"abort":p&&!p.getState()&&(r!==c.getUser()&&n.info("Level aborted by other user"),u.abortLevel());break;case"unlock":"bonus"===d.data&&n.info(s()?"Bonus levels unlocked. Thank you for your support!":"Bonus levels unlocked by other user"),u.unlock(d.data)}}var c,h=document.getElementById("start"),d=document.getElementById("code"),f=document.getElementById("wait"),m=document.getElementById("switch"),p=document.getElementById("audio"),v=o.get("solved"),g=o.get("audio"),y="Yellow died!,Blue died!,Yellow burnt!,Blue burnt!,Yellow was crushed in a closing door!,Blue was crushed in a closing door!,Yellow got stuck in a teleporter!,Blue got stuck in a teleporter!".split(",");g++,r(),p.addEventListener("click",r),document.getElementById("alone").addEventListener("click",(function(){c=new t(l)})),document.getElementById("friend").addEventListener("click",(function(){h.hidden=!0,d.hidden=!1})),document.getElementById("random").addEventListener("click",(function(){h.hidden=!0,f.hidden=!1,c=new e(l)})),document.getElementById("connect").addEventListener("click",(function(){d.hidden=!0,f.hidden=!1,c=new e(l,document.getElementById("input").value)})),document.getElementById("back").addEventListener("click",(function(){d.hidden=!0,h.hidden=!1})),document.getElementById("cancel").addEventListener("click",(function(){c.close(),f.hidden=!0,h.hidden=!1})),e.isAvailable()||(c=new t(l))}()}()</script>