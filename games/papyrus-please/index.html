<!doctype html><script src=/2022/webxr/aframe.js></script><title>Papyrus, Please</title><script type=module>var je=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wt=je(((t,e)=>{function n(){}function o(t,e){for(const n in e)t[n]=e[n];return t}function a(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(a)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function m(){return d(" ")}function p(){return d("")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:function(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}(t,e,n)}let w;function b(t){w=t}function v(){const t=function(){if(!w)throw new Error("Function called outside component initialization");return w}();return(e,n,{cancelable:o=!1}={})=>{const a=t.$$.callbacks[e];if(a){const r=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,n,o,e),a}(e,n,{cancelable:o});return a.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const x=[],$=[],A=[],_=[],N=Promise.resolve();let k=!1;function T(t){A.push(t)}const E=new Set;let S=0;function B(){const t=w;do{for(;S<x.length;){const t=x[S];S++,b(t),L(t.$$)}for(b(null),x.length=0,S=0;$.length;)$.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];E.has(e)||(E.add(e),e())}A.length=0}while(x.length);for(;_.length;)_.pop()();k=!1,E.clear(),b(t)}function L(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const R=new Set;let j;function I(t,e){t&&t.i&&(R.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),j.c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function O(t){return"object"==typeof t&&null!==t?t:{}}function C(t){t&&t.c()}function H(t,e,n,o){const{fragment:r,on_mount:l,on_destroy:h,after_update:u}=t.$$;r&&r.m(e,n),o||T((()=>{const e=l.map(a).filter(s);h?h.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(T)}function D(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(x.push(t),k||(k=!0,N.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,e,o,a,s,l,h,u=[-1]){const f=w;b(t);const d=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};h&&h(d.root);let m=!1;if(d.ctx=o?o(t,e.props||{},((e,n,...o)=>{const a=o.length?o[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=a)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](a),m&&F(t,e)),n})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();e.intro&&I(t.$$.fragment),H(t,e.target,e.anchor,e.customElement),B()}b(f)}class U{$destroy(){D(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var W;function V(t){let e;return{c(){e=f("a-entity"),e.innerHTML='<a-entity position="0 7 0" id="camera" cursor="rayOrigin: mouse" raycaster="objects: .interactable;" camera="" look-controls=""></a-entity>',y(e,"id","rig")},m(t,n){u(t,e,n)},p:n,i:n,o:n,d(t){t&&c(e)}}}!function(){function t(t,n){let o=t.font.match(/(\d+)px/),a=o?Number(o[1]):10,r=function(t){switch(t.textAlign){case"start":return 0;case"center":return.5*t.canvas.width;case"right":return t.canvas.width}throw new Error("Unknown textAlign: "+t.textAlign)}(t),i=a;n.split(/\n/).forEach((n=>{for(;;){let o=e(t,n,r,i);if(i+=a,n===o||!(n=o))break}}))}function e(t,e,n,o){let a=t.canvas.width;for(let r=1;r<e.length;++r){let i=e.substr(0,r);if(t.measureText(i).width>a){let a=e.lastIndexOf(" ",r),s=-1===a?r-1:a+1,l=i.substr(0,s);return t.fillText(l,n,o),e.substr(s)}}return t.fillText(e,n,o),null}AFRAME.registerComponent("canvas-text",{dependencies:["canvas-material"],schema:{text:{type:"string"},font:{type:"string"},strokeStyle:{type:"string"},fillStyle:{type:"string"},textAlign:{type:"string"},textBaseline:{type:"string"},direction:{type:"string"},shadowBlur:{type:"number"},shadowColor:{type:"string"},papyrus:{type:"boolean"},column:{type:"boolean"},columnTop:{type:"boolean"},heaven:{type:"boolean"}},update(){let e=this.el.components["canvas-material"],n=e.data.width,o=e.data.height,a=this.ctx;a=e.getContext(),a.clearRect(0,0,n,o),this.data.column&&(a.fillStyle="#efdaa1",a.fillRect(0,0,n,o),a.font="400px Arial",a.fillStyle="#d3ad50",a.fillRect(0,700,n,400),this.data.heaven?(a.fillStyle="#7a5b1a",a.fillText(" ğ“‡¶",220,o/2-100),a.fillStyle="#2e5136",a.font="200px Arial",a.fillText("ğ“‡ğ“‡ğ“‡",100,o/2+180)):(a.fillStyle="#7a5b1a",a.fillText("ğ“ƒ¬ğ“†Œğ“ƒ¯",220,o/2)),a.fillStyle="#000000",a.font="400px Arial",a.fillStyle="#c12a2e",a.fillRect(0,10,n,20),a.fillText("ğ“™ğ“™ğ“™ğ“™ğ“™ğ“™ğ“™",0,o),a.fillStyle="#337a90",a.fillRect(0,40,n,20),a.fillText("ğ“™ğ“™ğ“™ğ“™ğ“™ğ“™ğ“™",0,o+60),a.fillStyle="#2e5136",a.fillRect(0,70,n,20)),this.data.columnTop&&(a.fillStyle="#efdaa1",a.fillRect(0,0,n,o)),this.data.papyrus&&(a.fillStyle="#d6b068",a.fillRect(0,0,n,o)),this.data.columnBridge&&(a.fillStyle="#d6b068",a.fillRect(0,0,n,o),a.fillStyle="#000000",a.font="140px Arial",a.fillText("ğ“‚€",n/2-55,o/2+40)),a.font=this.data.font,a.strokeStyle=this.data.strokeStyle,a.fillStyle=this.data.fillStyle,a.textAlign=this.data.textAlign,a.textBaseline=this.data.textBaseline,a.direction=this.data.direction,a.shadowBlur=this.data.shadowBlur,a.shadowColor=this.data.shadowColor,t(a,this.data.text),e.updateTexture()}})}(),typeof window<"u"&&window,(W=(W=typeof require<"u"?AFRAME||window.AFRAME||require("aframe"):AFRAME||window.AFRAME).aframeCore||W).registerComponent("canvas-material",{schema:{width:{type:"int",default:0},height:{type:"int",default:0}},update:function(){this.canvas||(this.canvas=document.createElement("canvas")),this.canvas.width=this.data.width,this.canvas.height=this.data.height;var t=this;this.getContext=function(){return t.canvas.getContext("2d")},this.updateTexture=function(){e.needsUpdate=!0};var e=new THREE.Texture(this.canvas),n=new THREE.MeshBasicMaterial({map:e,transparent:!0});t=this,setTimeout((function(){t.el.object3D.children[0].material=n}),100)}}),function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,n.c=e,n.p="",n(0)}([function(t,e){var n,o=AFRAME.utils.debug,a=AFRAME.utils.coordinates,r=o("components:look-at:warn"),i=a.isCoordinates||a.isCoordinate;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"0 0 0",parse:function(t){return i(t)||"object"==typeof t?a.parse(t):t},stringify:function(t){return"object"==typeof t?a.stringify(t):t}},init:function(){this.target3D=null,this.vector=new THREE.Vector3,this.cameraListener=AFRAME.utils.bind(this.cameraListener,this),this.el.addEventListener("componentinitialized",this.cameraListener),this.el.addEventListener("componentremoved",this.cameraListener)},update:function(){var t,e=this,n=e.data;return!n||"object"==typeof n&&!Object.keys(n).length?e.remove():"object"==typeof n?this.lookAt(new THREE.Vector3(n.x,n.y,n.z)):(t=e.el.sceneEl.querySelector(n))?t.hasLoaded?e.beginTracking(t):t.addEventListener("loaded",(function(){e.beginTracking(t)})):void r('"'+n+'" does not point to a valid entity to look-at')},tick:(n=new THREE.Vector3,function(t){var e=this.target3D;e&&(e.getWorldPosition(n),this.lookAt(n))}),remove:function(){this.el.removeEventListener("componentinitialized",this.cameraListener),this.el.removeEventListener("componentremoved",this.cameraListener)},beginTracking:function(t){this.target3D=t.object3D},cameraListener:function(t){t.detail&&"camera"===t.detail.name&&this.update()},lookAt:function(t){var e=this.vector,n=this.el.object3D;this.el.getObject3D("camera")?e.subVectors(n.position,t).add(n.position):e.copy(t),n.lookAt(e)}})}]);class P extends U{constructor(t){super(),G(this,t,null,V,l,{})}}function q(t){let e,n;return{c(){e=f("a-plane"),y(e,"position","-22.9 0 0"),y(e,"width","15"),y(e,"height","10"),y(e,"canvas-material","width:1024; height:1024"),y(e,"class","gods"),y(e,"canvas-text",n=`\n    papyrus: true;\ntext: Gods:\n ${t[1]};\nfont: 100px sans;\nfillStyle: #000; textAlign: center; textBaseline: middle; shadowBlur: 8; shadowColor: #000;`)},m(t,n){u(t,e,n)},p(t,o){2&o&&n!==(n=`\n    papyrus: true;\ntext: Gods:\n ${t[1]};\nfont: 100px sans;\nfillStyle: #000; textAlign: center; textBaseline: middle; shadowBlur: 8; shadowColor: #000;`)&&y(e,"canvas-text",n)},d(t){t&&c(e)}}}function Y(t){let e,n;return{c(){e=f("a-plane"),y(e,"position","-7.6 0 0"),y(e,"width","15"),y(e,"height","10"),y(e,"canvas-material","width:1024; height:1024"),y(e,"class","judged-attributes"),y(e,"depthwrite","true"),y(e,"canvas-text",n=`\n      papyrus: true;\n  text: Attributes:\n ${t[0].join("\n")};\n  font: 100px sans;\n  fillStyle: #000; textAlign: center; textBaseline: middle; shadowBlur: 8; shadowColor: #000;`)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=`\n      papyrus: true;\n  text: Attributes:\n ${t[0].join("\n")};\n  font: 100px sans;\n  fillStyle: #000; textAlign: center; textBaseline: middle; shadowBlur: 8; shadowColor: #000;`)&&y(e,"canvas-text",n)},d(t){t&&c(e)}}}function z(t){let e,n;return{c(){e=f("a-plane"),y(e,"position","7.6 0 0"),y(e,"width","15"),y(e,"height","10"),y(e,"canvas-material","width:1024; height:1024"),y(e,"canvas-text",n=`papyrus: true;\ntext: Offerings:\n ${t[0].join("\n")};\nfont: 100px sans;\nfillStyle: #000; textAlign: center; textBaseline: top; shadowBlur: 8; shadowColor: #000;`)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=`papyrus: true;\ntext: Offerings:\n ${t[0].join("\n")};\nfont: 100px sans;\nfillStyle: #000; textAlign: center; textBaseline: top; shadowBlur: 8; shadowColor: #000;`)&&y(e,"canvas-text",n)},d(t){t&&c(e)}}}function K(t){let e,n;return{c(){e=f("a-plane"),y(e,"position","22.9 0 0"),y(e,"width","15"),y(e,"height","10"),y(e,"canvas-material","width:1024; height:1024"),y(e,"canvas-text",n=`\n  papyrus: true;\ntext:ğ“†„ ğ“ ğ“„£\n${t[3]}%;\nfont: 350px sans;\nfillStyle: #000; textAlign: center; textBaseline: top; shadowBlur: 8; shadowColor: #000;`)},m(t,n){u(t,e,n)},p(t,o){8&o&&n!==(n=`\n  papyrus: true;\ntext:ğ“†„ ğ“ ğ“„£\n${t[3]}%;\nfont: 350px sans;\nfillStyle: #000; textAlign: center; textBaseline: top; shadowBlur: 8; shadowColor: #000;`)&&y(e,"canvas-text",n)},d(t){t&&c(e)}}}function X(t){let e,o,a,r,i=""!==t[1]&&q(t),s=t[0].length>0&&Y(t),l=t[2].length>0&&z(t),d=null!==t[3]&&K(t);return{c(){e=f("a-entity"),i&&i.c(),o=m(),s&&s.c(),a=m(),l&&l.c(),r=m(),d&&d.c(),y(e,"class","papyrus"),y(e,"position","0 2 -5"),y(e,"rotation","-20 0 0"),y(e,"scale","0.22 0.22 0.22")},m(t,n){u(t,e,n),i&&i.m(e,null),h(e,o),s&&s.m(e,null),h(e,a),l&&l.m(e,null),h(e,r),d&&d.m(e,null)},p(t,[n]){""!==t[1]?i?i.p(t,n):(i=q(t),i.c(),i.m(e,o)):i&&(i.d(1),i=null),t[0].length>0?s?s.p(t,n):(s=Y(t),s.c(),s.m(e,a)):s&&(s.d(1),s=null),t[2].length>0?l?l.p(t,n):(l=z(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null),null!==t[3]?d?d.p(t,n):(d=K(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:n,o:n,d(t){t&&c(e),i&&i.d(),s&&s.d(),l&&l.d(),d&&d.d()}}}function J(t,e,n){let{attributes:o}=e,{rel_status:a}=e,{offerings:r}=e,{heartfeather:i}=e;return t.$$set=t=>{"attributes"in t&&n(0,o=t.attributes),"rel_status"in t&&n(1,a=t.rel_status),"offerings"in t&&n(2,r=t.offerings),"heartfeather"in t&&n(3,i=t.heartfeather)},[o,a,r,i]}class Q extends U{constructor(t){super(),G(this,t,J,X,l,{attributes:0,rel_status:1,offerings:2,heartfeather:3})}}function Z(t){let e,n,o,a,r,i,s;return{c(){e=f("a-entity"),o=m(),a=f("a-entity"),y(e,"position","0 7 -3"),y(e,"scale","1 1 1"),y(e,"class","UI"),y(e,"geometry","primitive: plane; width: 6; height: 2"),y(e,"material","color: #efdaa1; shader: flat;"),y(e,"text",n=`value: ${t[3]}; width:5; color: black; wrapCount: 70; `),y(a,"position","0 5.75 -3"),y(a,"class","interactable amun-btn-3d"),y(a,"geometry","primitive: plane; width: 0.85; height: 0.3"),y(a,"material","color: #d3ad50; shader: flat;"),y(a,"text",r=`value: ${t[0]?"NEXT LEVEL":"DIE"}; width:3; color: black; align: center;`)},m(n,r){u(n,e,r),u(n,o,r),u(n,a,r),i||(s=g(a,"click",t[5]),i=!0)},p(t,o){8&o&&n!==(n=`value: ${t[3]}; width:5; color: black; wrapCount: 70; `)&&y(e,"text",n),1&o&&r!==(r=`value: ${t[0]?"NEXT LEVEL":"DIE"}; width:3; color: black; align: center;`)&&y(a,"text",r)},d(t){t&&c(e),t&&c(o),t&&c(a),i=!1,s()}}}function tt(t){let e,o,a,r;return{c(){e=f("a-entity"),o=f("a-entity"),y(o,"position","0 0.6 0"),y(o,"class","interactable start-level-btn"),y(o,"geometry","primitive: plane; width: 1; height: 0.5"),y(o,"material","color: green; shader: flat;"),y(o,"text","value: START LEVEL; width:3; color: black; align: center;"),y(e,"position","0 7 -3")},m(n,i){u(n,e,i),h(e,o),a||(r=g(o,"click",t[6]),a=!0)},p:n,d(t){t&&c(e),a=!1,r()}}}function et(t){let e,o,a=!t[2]&&Z(t),r=t[2]&&tt(t);return{c(){a&&a.c(),e=m(),r&&r.c(),o=p()},m(t,n){a&&a.m(t,n),u(t,e,n),r&&r.m(t,n),u(t,o,n)},p(t,[n]){t[2]?a&&(a.d(1),a=null):a?a.p(t,n):(a=Z(t),a.c(),a.m(e.parentNode,e)),t[2]?r?r.p(t,n):(r=tt(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},i:n,o:n,d(t){a&&a.d(t),t&&c(e),r&&r.d(t),t&&c(o)}}}function nt(t,e,n){const o=v();let{died:a}=e,{isAmmunText:r}=e,{showIsStartLevel:i}=e,{currentUIText:s}=e;return t.$$set=t=>{"died"in t&&n(0,a=t.died),"isAmmunText"in t&&n(1,r=t.isAmmunText),"showIsStartLevel"in t&&n(2,i=t.showIsStartLevel),"currentUIText"in t&&n(3,s=t.currentUIText)},[a,r,i,s,o,()=>{console.log("showIsStartLevel: "+i),console.log("showIsStartLevel: "+r),i?(console.log("nexttttt"),o("message","nextLevel")):o("message",a?"showLevel":"amunTextDisplay")},()=>{o("message","nextLevel")}]}class ot extends U{constructor(t){super(),G(this,t,nt,et,l,{died:0,isAmmunText:1,showIsStartLevel:2,currentUIText:3})}}function at(t,e){return t.filter((function(t){return e.indexOf(t)<0}))}function rt(t,e){return t=Math.ceil(t),e=Math.floor(e)-1,Math.floor(Math.random()*(e-t+1)+t)}function it(t){let e,n=t.length;for(;0!==n;)e=Math.floor(Math.random()*n),n--,[t[n],t[e]]=[t[e],t[n]];return t}function st(t,e){return it(t).slice(0,e)}const lt=["Behold your throne! from here you will decide the final fate of all.\n  Because of the backlog made by the disappearance of Osiris, you will deal with Egyptian subjects who've been waiting for a little while.\n  I have demanded that only the greatest simpletons will go through your gates first, for it is easier to judge a Slug than a Lion.","A new day in the life of death! Now you shall deal with the.... complicated cases.","That damned GOD! That damned, foolish, repugnant, miniscule, horrible, GOD!. If anyone DARES to come into this realm as their devotee!!","You are devoted to your work, I should tell Ptah he has a new devotee! Haha. Anyways... I feel like you should be aware that our conversing in this barbaric tongue is a grave violation of bureaucratic procedures, and so, we are switching to Egyptian!\n  Now, no worries, I know it's hard, I was once a young God myself, in the previous eternity(Or was it the one before that?), and so I will slowly pack it in for you.\n  A new challenge! how exciting.","My last good Ankh broke yesterday and thus I am of heavy heart and mind, allow those that have an Ankh to pass, with some caveats",'"What do you mean he hasn\'t weighed their hearts?"\n  ".."\n  "He doesn\'t know?? Well who was supposed to tell him? Who\'s the one responsible?"\n  ".."\n  "Don\'t give me that ğ“€¡ğ“€¤ğ“€¥ Hathor! We\'ve talked over this!!"\n\n  For some reason CERTAIN individuals in the realm seem to think that they know it all, HMN!\n  Anyways, you need to weigh their hearts to the feather you have over there, I\'m actually surprised you don\'t know this, hasn\'t school taught you anything?\n  Make sure the Feather is at least twice as heavy as the Heart','*Glass breaks*\n  "Listen here you!"\n  *Muffled Screams*\n  "Oh yeah?? well .. "\n  *Explosion*\n\n  Listen here BUDDY, if you see any DEVOTEE of ğ“¥, or anyone that dares bring a ğ“ƒ” or a ğ“†— , MY GOD WHAT WILL I DO TO YOU',"You are doing well, for the most part, continue on!","I have nothing special to command of you today, please continue as you always do!"],ht=["Sobek","Min","Anubis","Thoth","Set","Sekhmet"],ut=["ğ“¢","ğ“´","ğ“†‹","ğ“¤","ğ“£","ğ“Ÿ"],ct=["ğ“ƒ”","ğ“ƒ˜","ğ“ƒŸ","ğ“ƒ¡","ğ“ƒ¥","ğ“»","ğ“Š","ğ“","ğ“‡","ğ“ƒ»","ğ“ƒº","ğ“„ˆ","ğ“‡£","ğ“Š","ğ“‹–","ğ“‹¬","ğ“‹¹","ğ“¢","ğ“†—","ğ“†£","ğ“†›","ğ“†","ğ“†„","ğ“†‰","ğ“Š®"],ft=[["one who loves his cat","in possesion of a body of grand proportions","one who dislikes their spouse","a literate person","and enjoyer of the poetry of Neferhotep","a writer of the Book of the Dead","one who has traveled to Kush","one who has pilgrimed to Memphis","one who brews their own Beer","of those who enjoy walks in the desert","in possesion of a small nose","in possesion of big eyes","a daydreamer"],["righteous","one whom pays his debts","funny","intelligent","humble","witty","hydrated","generous","one who loves Amun-Ra with all his heart","courageous","fast on his feet","orderly"],["a liar","evil","a snorer","involved in crime","a boor","smelly","one who forgot his God's birthday","overly strict","one who fled from combat","one who has supported the Sea Peoples","a secret Atenist","dull","unbalanced"]],dt=["ğ“„","ğ“ƒ","ğ“€§","ğ“€”","ğ“²","ğ“‚—","ğ“€†","ğ“€¡","ğ“€¦","ğ“€¬","ğ“€˜","ğ“€ª","ğ“€€","ğ“€‘","ğ“€¨","ğ“€","ğ“€‹","ğ“‰","ğ“€„","ğ“€Ÿ","ğ“","ğ“‹"],mt=[[ft[0],ft[1],ft[2],5,1,1,[],[]],[ft[0],ft[1],ft[2],10,3,2,[],[]],[ft[0],ft[1],ft[2],7,1,0,[],[]],[dt,[],[],5,1,2,[],[]],[dt,[],[],3,2,1,[],[]],[dt,[],[],3,1,0,[],[]],[dt,[],[],3,0,1,[],[]],[dt,[],[],5,1,1,[],[]],[dt,[],[],5,2,2,[],[]],[dt,[],[],5,0,1,[],[]]],pt=[[[],[]],[[],[]],[ht,[it(ht)[0]]],[ut,[it(ut)[0]]],[ut,[it(ut)[0]]],[ut,[it(ut)[0]]],[ut,[it(ut)[0]]],[ut,["ğ“¥"]],[ut,[it(ut)[0]]],[ut,[it(ut)[0]]]],gt=[[[],0,0,0,[],[]],[[],0,0,0,[],[]],[[],0,0,0,[],[]],[[],0,0,0,[],[]],[ct,7,1,1,[],[]],[ct,8,0,0,["ğ“‹¹"],[]],[ct,5,1,2,[],[]],[ct,8,0,0,[],["ğ“ƒ”","ğ“†—"]],[ct,8,3,0,[],[]],[ct,5,1,1,[],[]]],yt=[[1,!0,!1,!1,!1,10,.2],[2,!0,!1,!1,!1,10,.3],[3,!0,!0,!1,!1,10,.5],[4,!0,!0,!1,!1,10,.1],[5,!0,!0,!0,!1,10,.2],[6,!0,!0,!0,!1,10,.2],[7,!0,!0,!0,!1,10,.4],[8,!0,!0,!0,!0,10,.4],[9,!0,!0,!0,!0,10,.4],[10,!0,!0,!0,!0,3,1]];function wt(t,e,n){const o=t.slice();return o[1]=e[n].human,o[3]=n,o}function bt(t){let e;return{c(){e=f("a-plane"),y(e,"position",`${27+-3*t[3]} 2.5 ${2.5*t[3]-37}`),y(e,"look-at","#camera"),y(e,"width","5"),y(e,"height","5"),y(e,"canvas-material","width:1024; height:1024"),y(e,"canvas-text",`text: ${dt[t[3]-1]}; font: 1024px serif;`),y(e,"class","interactable")},m(t,n){u(t,e,n)},p:n,d(t){t&&c(e)}}}function vt(t){let e,o=t[0],a=[];for(let e=0;e<o.length;e+=1)a[e]=bt(wt(t,o,e));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=p()},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);u(t,e,n)},p(t,[n]){if(1&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const i=wt(t,o,r);a[r]?a[r].p(i,n):(a[r]=bt(i),a[r].c(),a[r].m(e.parentNode,e))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}},i:n,o:n,d(t){(function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)})(a,t),t&&c(e)}}}function xt(t,e,n){let{humans:o}=e;return console.log(o),t.$$set=t=>{"humans"in t&&n(0,o=t.humans)},[o]}class $t extends U{constructor(t){super(),G(this,t,xt,vt,l,{humans:0})}}function At(t){let e,o,a,r;return{c(){e=f("a-entity"),o=f("a-cone"),a=m(),r=f("a-cone"),y(o,"height","1"),y(o,"radius-top","1.6"),y(o,"color","#dfc683"),y(o,"radius-bottom","1.1"),y(o,"position","0 8.5 0"),y(o,"canvas-material","width:512; height:512"),y(o,"canvas-text","columnTop: true"),y(r,"class","column interactable"),y(r,"height","7"),y(r,"radius-top","1.1"),y(r,"radius-bottom","1.5"),y(r,"position","0 4.5 0"),y(r,"canvas-material","width:1024; height:1024"),y(r,"canvas-text",t[1]),y(e,"rotation","0 180 0"),y(e,"position",t[0])},m(t,n){u(t,e,n),h(e,o),h(e,a),h(e,r)},p:n,i:n,o:n,d(t){t&&c(e)}}}function _t(t,e,n){let{heaven:o}=e,a=(o?7:-7)+" 0 -13",r="column: true; "+(o?"heaven: true":"");return t.$$set=t=>{"heaven"in t&&n(2,o=t.heaven)},[a,r,o]}class Nt extends U{constructor(t){super(),G(this,t,_t,At,l,{heaven:2})}}function kt(t){let e,n;return{c(){e=f("a-plane"),y(e,"position","0 8 -6"),y(e,"canvas-material","width:1024; height:1024"),y(e,"canvas-text",n=` text: âŒ› ${t[0]}; font: 450px sans; fillStyle: #000;`)},m(t,n){u(t,e,n)},p(t,o){1&o&&n!==(n=` text: âŒ› ${t[0]}; font: 450px sans; fillStyle: #000;`)&&y(e,"canvas-text",n)},d(t){t&&c(e)}}}function Tt(t){let e,o=-1!=t[0]&&kt(t);return{c(){o&&o.c(),e=p()},m(t,n){o&&o.m(t,n),u(t,e,n)},p(t,[n]){-1!=t[0]?o?o.p(t,n):(o=kt(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:n,o:n,d(t){o&&o.d(t),t&&c(e)}}}function Et(t,e,n){let{timeleft:o}=e;return t.$$set=t=>{"timeleft"in t&&n(0,o=t.timeleft)},[o]}class St extends U{constructor(t){super(),G(this,t,Et,Tt,l,{timeleft:0})}}let Bt=[0,0,0,0,0,0,0,.5,.5,.5];class Lt{constructor(t,e,n,o,a){this.attributes_=t,this.rel_status_=e,this.offerings_=n,this.heartfeather_=o,this.humanMorality_=a}}class Rt{constructor(t,e,n,o,a,r,i){this.levelNum_=t,this.attributesBool_=e,this.godsBool_=n,this.offeringsBool_=o,this.heartFeatherBool_=a,this.humanNum_=r,this.percentageGoodHumanNum_=i,this.attributesNecc=[],this.attributesRej=[],this.attributesNeutralArray=[],this.attributesGoodArray=[],this.attributesBadArray=[],this.attributesTotalNum=0,this.godsRejArray=[],this.godsArray=[],this.offeringsNecc=[],this.offeringsRej=[],this.offeringsArray=[],this.offeringsTotalNum=0,this.mechanismTotalNum=0,this.attributesBool_&&this.mechanismTotalNum++,this.godsBool_&&this.mechanismTotalNum++,this.offeringsBool_&&this.mechanismTotalNum++,this.heartFeatherBool_&&this.mechanismTotalNum++}genSubArray(t,e,n,o){let a=t;o&&(a=at(t,o)),a=st(a,e);for(const t in n)t in a||a.push(t);return a}decideAttrLevelArrs(t,e,n,o,a,r,i,s){this.attributesNecc=this.genSubArray(t.concat(e),a,i,[]),this.attributesRej=this.genSubArray(t.concat(n),r,s,this.attributesNecc),this.attributesNeutralArray=t,this.attributesGoodArray=e,this.attributesBadArray=n,this.attributesTotalNum=o}genAttr(t){let e=this.attributesNecc.length,n=this.attributesRej.length,o=this.attributesNeutralArray.concat(this.attributesGoodArray,this.attributesBadArray);if(o=at(at(o,this.attributesRej),this.attributesNecc),t)o=st(o,this.attributesTotalNum-e),o=it(o.concat(this.attributesNecc));else{let t,a;Math.random()>=.5?(t=rt(1,n),a=rt(0,e)):(t=rt(0,n),a=rt(0,e-1));let r=st(this.attributesRej,t),i=st(this.attributesNecc,a);o=st(this.attributesNeutralArray,this.attributesTotalNum-(t+a)),o=it(o.concat(r,i))}return o}decideRelStatusGod(t,e){this.godsRejArray=it(e),this.godsArray=t}genRelStatus(t){return t?it(at(this.godsArray,this.godsRejArray))[0]:it(this.godsRejArray)[0]}decideOfferLevelArrs(t,e,n,o,a,r){this.offeringsNecc=this.genSubArray(t,n,a,[]),this.offeringsRej=this.genSubArray(t,o,r,this.offeringsNecc),this.offeringsArray=t,this.offeringsTotalNum=e}genOfferings(t){let e=this.offeringsNecc.length,n=this.offeringsRej.length,o=at(at(this.offeringsArray,this.offeringsRej),this.offeringsNecc);if(t)o=st(o,this.offeringsTotalNum-e),o=it(o.concat(this.offeringsNecc));else{let t,a;Math.random()>=.5?(t=rt(1,n),a=rt(0,n)):(t=rt(0,n),a=rt(0,e-1));let r=st(this.offeringsRej,t),i=st(this.offeringsNecc,a);o=st(o,this.offeringsTotalNum-(t+a)),o=it(o.concat(r,i))}return o}genHeartFeather(t,e){return e?rt(t,101):rt(0,Math.round(100*t))}genHuman(t){let e=new Lt;if(t)this.attributesBool_?e.attributes_=this.genAttr(!0):e.attributes_=null,this.godsBool_?e.rel_status_=this.genRelStatus(pt[this.levelNum_-1][0],pt[this.levelNum_-1][1],!0):e.rel_status_=null,this.offeringsBool_?e.offerings_=this.genOfferings(!0):e.offerings_=null,this.heartFeatherBool_?e.heartfeather_=this.genHeartFeather(Bt[this.levelNum_-1],!0):e.heartfeather_=0,e.humanMorality_=!0;else{let t=7-(this.mechanismTotalNum-1),n=[];for(let e=0;e<t;e++)n.push(!1);for(let e=0;e<7-t;e++)n.push(!0);n=it(n),this.attributesBool_?e.attributes_=this.genAttr(n[0]):e.attributes_=null,this.godsBool_?e.rel_status_=this.genRelStatus(pt[this.levelNum_-1][0],pt[this.levelNum_-1][1],n[1]):e.rel_status_=null,this.offeringsBool_?e.offerings_=this.genOfferings(n[2]):e.offerings_=null,this.heartFeatherBool_?e.heartfeather_=this.genHeartFeather(Bt[this.levelNum_-1],n[3]):e.heartfeather_=0,e.humanMorality_=!1}return e}genAllHumans(){let t=[];for(let e=0;e<this.humanNum_*this.percentageGoodHumanNum_;e++)t.push(this.genHuman(!0));for(let e=0;e<this.humanNum_-this.humanNum_*this.percentageGoodHumanNum_;e++)t.push(this.genHuman(!1));return it(t)}}function jt(t){let e,n,a,r,i,s,l,h,f,d,p,g=t[3]&&It(t);n=new Nt({}),r=new Nt({props:{heaven:!0}});const y=[t[6]];let w={};for(let t=0;t<y.length;t+=1)w=o(w,y[t]);return s=new Q({props:w}),h=new $t({props:{humans:t[4]}}),d=new St({props:{timeleft:t[5]}}),{c(){g&&g.c(),e=m(),C(n.$$.fragment),a=m(),C(r.$$.fragment),i=m(),C(s.$$.fragment),l=m(),C(h.$$.fragment),f=m(),C(d.$$.fragment)},m(t,o){g&&g.m(t,o),u(t,e,o),H(n,t,o),u(t,a,o),H(r,t,o),u(t,i,o),H(s,t,o),u(t,l,o),H(h,t,o),u(t,f,o),H(d,t,o),p=!0},p(t,n){t[3]?g?g.p(t,n):(g=It(t),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null);const o=64&n?function(t,e){const n={},o={},a={$$scope:1};let r=t.length;for(;r--;){const i=t[r],s=e[r];if(s){for(const t in i)t in s||(o[t]=1);for(const t in s)a[t]||(n[t]=s[t],a[t]=1);t[r]=s}else for(const t in i)a[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(y,[O(t[6])]):{};s.$set(o);const a={};16&n&&(a.humans=t[4]),h.$set(a);const r={};32&n&&(r.timeleft=t[5]),d.$set(r)},i(t){p||(I(n.$$.fragment,t),I(r.$$.fragment,t),I(s.$$.fragment,t),I(h.$$.fragment,t),I(d.$$.fragment,t),p=!0)},o(t){M(n.$$.fragment,t),M(r.$$.fragment,t),M(s.$$.fragment,t),M(h.$$.fragment,t),M(d.$$.fragment,t),p=!1},d(t){g&&g.d(t),t&&c(e),D(n,t),t&&c(a),D(r,t),t&&c(i),D(s,t),t&&c(l),D(h,t),t&&c(f),D(d,t)}}}function It(t){let e,o,a,r,s,l;return{c(){e=f("a-entity"),o=f("a-box"),o.innerHTML='<a-text value="heaven" position="0 0 -1"></a-text>',a=m(),r=f("a-box"),y(o,"color","green"),y(o,"class","interactable"),y(o,"position","3.15 0 0"),y(o,"material","shader: flat"),y(r,"color","red"),y(r,"class","interactable"),y(r,"position","-3.15 0 0"),y(r,"material","shader: flat"),y(r,"text","value: HELL; width:3; color: black; align: center;"),y(e,"class","btns"),y(e,"position","0 10.1 -13"),y(e,"scale","2.2 2.2 2.2")},m(n,i){u(n,e,i),h(e,o),h(e,a),h(e,r),s||(l=[g(o,"click",t[8]),g(r,"click",t[8])],s=!0)},p:n,d(t){t&&c(e),s=!1,i(l)}}}function Mt(t){let e,n,o,a,r,s,l;o=new P({});let d=t[2]&&jt(t);return s=new ot({props:{died:t[1],isAmmunText:Ot,showIsStartLevel:t[2],currentUIText:t[0]}}),s.$on("message",t[7]),{c(){e=f("main"),n=f("a-scene"),C(o.$$.fragment),a=m(),d&&d.c(),r=m(),C(s.$$.fragment)},m(t,i){u(t,e,i),h(e,n),H(o,n,null),h(n,a),d&&d.m(n,null),h(n,r),H(s,n,null),l=!0},p(t,[e]){t[2]?d?(d.p(t,e),4&e&&I(d,1)):(d=jt(t),d.c(),I(d,1),d.m(n,r)):d&&(j={r:0,c:[],p:j},M(d,1,1,(()=>{d=null})),j.r||i(j.c),j=j.p);const o={};2&e&&(o.died=t[1]),4&e&&(o.showIsStartLevel=t[2]),1&e&&(o.currentUIText=t[0]),s.$set(o)},i(t){l||(I(o.$$.fragment,t),I(d),I(s.$$.fragment,t),l=!0)},o(t){M(o.$$.fragment,t),M(d),M(s.$$.fragment,t),l=!1},d(t){t&&c(e),D(o),d&&d.d(),D(s)}}}let Ot=!0;function Ct(t,e,n){var o="God's year 2022, or, as you will soon come to understand, Snedjemibre Setepenanhur's 2363 year of the last true reign of Kemet.\nI, Amun-Ra, would like to inform you that you have died, and have been happy to be informed that you're a massive Egypt history dork.\nWhich means! you shall be a fantastic candidate for the throne of Osiris, who is missing, BTW, I have no idea where he is.\nAnd thus! under my order and good graces I inform you that you are now the Lord of the Dead.\nYou've a lot of work ahead of you... Osiris has been missing for more than 2000 years, I haven't really noticed that but you know how it is with Gods and so on, Haha, anyways Good Luck.";let a=!1,r=!1,i=!1,s=0,l=[],h=0,u=null,c=yt.length,f=-1;var d=0;let m=null;var p={attributes:[],rel_status:"",offerings:[],heartfeather:null};function g(){d<=0?(y(),alert("no more time left in level for new humans to be evaluated")):s>=h?alert("No more humans in level!"):(m=l[s],u.attributesBool_&&n(6,p.attributes=m.attributes_,p),u.godsBool_&&n(6,p.rel_status=m.rel_status_,p),u.offeringsBool_&&n(6,p.offerings=m.offerings_,p),u.heartFeatherBool_&&n(6,p.heartfeather=m.heartfeather_,p),s++)}function y(){a?n(0,o=lt[f+1]):(n(1,a=!0),n(0,o=lt[0]))}return[o,a,r,i,l,d,p,function(t){console.log("event",t.detail),"amunTextDisplay"===t.detail?y():"showLevel"===t.detail?n(2,r=!0):"nextLevel"===t.detail?(n(2,r=!0),document.querySelector(".start-level-btn").setAttribute("visible","false"),n(3,i=!0),function(){n(5,d=10);var t=setInterval((function(){d<=0&&(clearInterval(t),y(),n(2,r=!1),n(3,i=!1)),n(5,d-=1)}),1e3)}(),f>=c-1?alert("No more Levels!"):(f++,u=new Rt(yt[f][0],yt[f][1],yt[f][2],yt[f][3],yt[f][4],yt[f][5],yt[f][6]),u.decideAttrLevelArrs(mt[f][0],mt[f][1],mt[f][2],mt[f][3],mt[f][4],mt[f][5],mt[f][6]),u.decideOfferLevelArrs(gt[f][0],gt[f][1],gt[f][2],gt[f][3],gt[f][4],gt[f][5]),u.decideRelStatusGod(pt[f][0],pt[f][1]),s=0,n(4,l=u.genAllHumans()),h=u.humanNum_)):"nextPerson"===t.detail&&g()},g]}new class extends U{constructor(t){super(),G(this,t,Ct,Mt,l,{})}}({target:document.getElementById("app")})}));export default wt()</script><div id=app></div>