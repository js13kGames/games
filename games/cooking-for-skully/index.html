<title>Cooking for Skully</title><meta content="width=device-width,maximum-scale=1,minimum-scale=1,user-scalable=no" name=viewport><meta content=$ilp.gatehub.net/770547877 name=monetization><script src=/socket.io.js></script><script src=https://cdn.jsdelivr.net/npm/near-api-js@0.45.1/dist/near-api-js.min.js></script><style>html{font-family:bahnschrift,sans-serif;font-stretch:semi-condensed;font-size:2.5vh}body{background:#e22;color:#999;overflow:hidden}*{image-rendering:pixelated;cursor:default}b{color:#fff}#f1,#f2{position:fixed;left:0;right:0;height:0;background:#000;transition:height .5s}#f1{top:0}#f2{bottom:0}#f1.v,#f2.v{height:20vh}#f1.w,#f2.w{height:50vh}.s{position:fixed;left:10vw;width:60vw;font-family:bahnschrift,arial;background:#000e;color:#fff;opacity:0;border:.5rem solid #24c;font-size:1rem;transition:opacity .15s}.u{opacity:1}.m{padding:.5rem}.n{color:#24c;font-weight:700}#s1{top:5rem;left:10vw}#s2{bottom:5rem;left:30vw;border-color:#eb2436}#s2 .n{color:#eb2436}#a0,#a1,#a2,#r1,#r2,#r3{position:fixed;background:#1119;color:#bbb;padding:.5em;font-size:1rem}#r2{top:1rem;left:25vw;right:25vw;font-size:.75rem}#a0,#a1,#a2{bottom:1rem;left:10vw;width:20vw;display:block}#a1{left:40vw}#a2{left:70vw}#d{position:absolute}#d,#d *{transform-style:preserve-3d}#l0{position:absolute;top:0;left:0;width:4000px;height:2000px;transform:translateY(-820px) rotateX(90deg) translateY(-500px) translateX(-1500px);background:#ff04}#l1,#l2,#l3{position:fixed;top:0;left:0;width:100%;height:100%}#l1{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKAgMAAADwXCcuAAAACVBMVEXcQwv75mL/jgCGM68cAAAAMElEQVQI12NgERRgSNRQYFBwa2AQVFBg6HCawMAi0sAg4eHA0KS4gEHMVYEhScUBAICSBxxSNRNRAAAAAElFTkSuQmCC");background-size:40px 40px;animation:a1 7s linear infinite}#l2{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEUAAABKFxFhIBGsSh4DteyuAAAAAXRSTlMAQObYZgAAAKVJREFUCNdjWMq2KpM1gSGVNWopbwBDOG/UcuYAhhjmq1MEPjB8TDGdIsrAwJjKHyMawOCY5vBhWQBDcFQoY+YChinXwlmXTmBYalkjtmoCw0pfB1OgXGbyUd6sAIaoKayTbxUwLE2RnGJ6gGFuhFgoPwND8Z2opQEMDAcMV61a4MAgyZiVGRjAECm4NLJwAkO64PRIV6CZknNuhi1gWKI1xT4qAADvZzNerS3tjAAAAABJRU5ErkJggg==");background-size:88px 88px}#l3{background:linear-gradient(0deg,#f004 0,#c119 30%,#e22 75%)}#l4{position:absolute;width:600px;height:360px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAADFBMVEVAODcxKSgiHBs2Ly64bcvJAAAALElEQVQI12Ng4GBgYDAD4qsNDMyhCQy8oREMpqFhDFNDQ0E0iA8SB8mD1AEAxLQJAlfy5rwAAAAASUVORK5CYII=");background-size:24px 24px;transform:translateY(1500px) translateX(1500px)}.o{position:absolute;transition:transform .1s}.o div{position:absolute}.g,.h,.k{font-weight:700;background:#333;color:#fff;border:.2em #333 solid;border-radius:.2em;margin-right:.2em;display:none}body.ag .g,body.ah .h,body.ak .k{display:inline}.g0{background:#0c2;border-color:#0c2}.g1{background:#c00;border-color:#c00}.h0{color:#9ae}.h1{color:#f66}.b,.c{background:#fff1;padding:.1rem .25rem;margin:.2rem 0;border-left:.2rem solid #fff4}.c{color:#ff0;border-left-color:#ff04}.c1{position:relative;top:-25px;left:-35px;width:100px;font-size:.75rem;color:#fff;text-align:center;z-index:50000}.bl{transform:rotateY(-90deg) translateZ(15px)}.bt{transform:rotateX(90deg) translateZ(15px)}.br{transform:rotateY(90deg) translateZ(15px)}.bf{transform:translateZ(15px)}#r1{top:1rem;left:3vw;width:17vw}#r3{top:1rem;right:3vw;width:17vw}#o1,#o2{position:fixed;top:0;right:0;bottom:0;left:0;background:#000e;transition:all .2s;display:none}#e1,#e2,#e3,#e4{text-align:center;margin:3rem auto}#e1 b{font-size:2.5rem}#e2{width:15rem;background:#111c;padding:.5rem;color:#888;list-style:none}#e2 li{text-align:left;padding:.5rem;transition:color .2s,background .2s}#e2 li:hover{background:#4448;color:#fff}#e4{display:none}#e3{background:#d512;padding:.5rem}body.w #o1{background:#000;display:block}body.w #o2{background:#0000;display:block}body.w #e4{display:block}body.w #e2{display:none}.l{cursor:pointer;text-decoration:underline}#gp{position:fixed;left:0;bottom:3rem;opacity:.5}@keyframes a2{0%{opacity:.2}30%{opacity:1}100%{opacity:0}}@keyframes a3{0%{opacity:0;margin-top:-20px}10%{opacity:1;margin-top:-30px}90%{opacity:1;margin-top:-30px}100%{opacity:0;margin-top:-60px}}@keyframes a1{0%{background-position:0 0}100%{background-position:80px 40px}}</style><script>var na=function(){return nw.isSignedIn()};nw=0,nn="testnet",nl=function(){nw.requestSignIn()};var k,ni=function(){window.nearApi.connect({nodeUrl:"https://rpc."+nn+".near.org",walletUrl:"https://wallet."+nn+".near.org",explorerUrl:"https://explorer."+nn+".near.org",networkId:nn,keyStore:new window.nearApi.keyStores.BrowserLocalStorageKeyStore}).then((t=>{nw=new window.nearApi.WalletConnection(t)}))};let aa,ba;nt=async function(){const t=await nw.account();await t.sendMoney("4bac6a20787a1ac17f03bc524e0c62a36df6bc147a3597b6beb34a5237a57cac","250000000000000000000000")},aa=(t=1,i=.05,s=220,n=0,e=0,o=.1,a=0,h=1,r=0,l=0,c=0,u=0,d=0,f=0,b=0,p=0,w=0,g=1,y=0,v=0)=>{let m,x,B=Math,A=2*B.PI,k=r*=500*A/44100/44100,M=s*=(1-i+2*i*B.random(i=[]))*A/44100,I=0,j=0,S=0,T=1,L=0,C=0,H=0;for(l*=500*A/44100**3,b*=A/44100,c*=A/44100,u*=44100,d=44100*d|0,x=(n=44100*n+9)+(y*=44100)+(e*=44100)+(o*=44100)+(w*=44100)|0;S<x;i[S++]=H)++C%(100*p|0)||(H=a?1<a?2<a?3<a?B.sin((I%A)**3):B.max(B.min(B.tan(I),1),-1):1-(2*I/A%2+2)%2:1-4*B.abs(B.round(I/A)-I/A):B.sin(I),H=(d?1-v+v*B.sin(A*S/d):1)*(0<H?1:-1)*B.abs(H)**h*t*.3*(S<n?S/n:S<n+y?1-(S-n)/y*(1-g):S<n+y+e?g:S<x-w?(x-S-w)/o*g:0),H=w?H/2+(w>S?0:(S<x-w?1:(x-S)/w)*i[S-w|0]/2):H),m=(s+=r+=l)*B.cos(b*j++),I+=m-m*f*(1-1e9*(B.sin(S)+1)%2),T&&++T>u&&(s+=c,M+=c,T=0),!d||++L%d||(s=M,r=k,T=T||1);return(t=ba.createBuffer(1,x,44100)).getChannelData(0).set(i),(s=ba.createBufferSource()).buffer=t,s.connect(ba.destination),s.start(),s},ba=new(window.AudioContext||webkitAudioContext);var ca=[[.6,0,392,.01,,.03,2,.8,,,,,,5,,,,.3],[.6,0,440,.01,,.03,2,.8,,,,,,5,,,,.3],[.3,0,,.5,,2,4,,,,550,,,3.6],[,,40,.02,.02,,,.4,3.2,,,,,.8,,,,.7,.02],[,0,170,.02,.02,,,.3,-4,,,,,,,,,.7,.03],[.7,0,600,.01,,.07,1,,,,300,.03,,,,,,.9,.01],[,0,62,.01,.03,.05,3,,.2,1.5,,,,,2,,.12,.6],[,0,128,.01,.03,.05,3,,.2,1.5,,,,,2,,.12,.6],[.3,0,2e3,.01,,.04,4,,,,,,,3.6]];function da(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function ea(t){return.3>Math.abs(t)?0:t}function fa(t,i){var s=document.createElement("div");return s.className=i,t.appendChild(s),s}function l(t){return document.getElementById(t)}var ja=[];function p(t,i,s,n,e,o){void 0===o&&(o=!1);var a=t.style,h=[i,s,n,e].join();if(!ja[h]){var r=document.createElement("canvas");r.width=n*q,r.height=e*q;var l=r.getContext("2d");l.imageSmoothingEnabled=!1,l.drawImage(ka,i,s,n,e,0,0,n*q,e*q),ja[h]=r.toDataURL()}a.background="url("+ja[h]+")",o||(t.style.width=n*q+"px",t.style.height=e*q+"px")}function r(t,i,s,n,e){var o=document.createElement("div");return t.appendChild(o),p(o,i,s,n,e),o}function la(t,i){(t=l(t)).dataset.a!=i&&(t.innerHTML=i,t.dataset.a=i,t.style.display=i?"":"none")}function t(t){aa.apply(void 0,ca[t])}function u(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}function ma(t,i){t.x=i.x,t.y=i.y}function oa(t,i){t.x-=i.x,t.y-=i.y}function pa(t){t.x=0,t.y=0}function qa(t){var i=Math.abs(t.x)+Math.abs(t.y);0==i?(t.x=1,t.y=0):(t.x/=i,t.y/=i)}function ra(){this.g=[],this.j=[],this.l=this.v=this.u=0,this.m=[],this.h=[],this.actions=[null,null,null],this.A="w;a;s;d;z;q; ;x;arrowup;arrowleft;arrowdown;arrowright;escape".split(";")}function v(t,i,s){x.actions[t]=s,l("a"+t.toString()).style.display="block",l("b"+t.toString()).innerHTML=i}function y(t){x.actions[t]=null,l("a"+t.toString()).style.display="none"}function sa(t){t.A.forEach((function(i){t.j[i]=!1})),t.h[0]=!1,t.h[1]=!1,t.h[9]=!1}u.prototype.add=function(t){this.x+=t.x,this.y+=t.y},ra.prototype.o=function(t){var i=t.key.toLowerCase();-1===this.A.indexOf(i)||"keydown"!=t.type&&"keyup"!=t.type||t.repeat||(this.g[i]="keydown"==t.type,"keydown"==t.type&&(this.j[i]=!0),this.u=B.A,t.preventDefault())},ra.prototype.start=function(){var t=this;this.A.forEach((function(i){t.g[i]=!1})),sa(this),window.addEventListener("keydown",this.o.bind(this)),window.addEventListener("keyup",this.o.bind(this))};var ua,va,wa,Ea,Fa,Ga,ta=["Devil","Skully","phone","Goblin"];function xa(i,s){var n=i.getElementsByClassName("n")[0],e=i.getElementsByClassName("t")[0];i.classList.add("u"),n.innerHTML=ta[s[0]],e.innerHTML=s[2],1==s[1]?t(6):t(7),v(0,"Continue",Aa.bind(null))}function Aa(){if(y(0),va>=ua.length)wa&&window.clearTimeout(wa),l("s1").classList.remove("u"),l("s2").classList.remove("u"),l("f1").classList.remove("v"),l("f2").classList.remove("v"),y(0),y(1),v(2,"Pause",B.N.bind(B)),B.J(!1),B.D&&B.D.call();else{var t=ua[va],i=l("s"+t[1]),s=t[3];i.classList.remove("u"),wa=window.setTimeout(xa.bind(this,i,t),s?1200:200),va++}}function Ba(t){ua=t,va=0,B.J(!0,!1),y(2),l("f1").classList.add("v"),l("f2").classList.add("v"),Aa()}function Ca(){this.parentNode.removeChild(this)}function C(t,i,s,n,e,o,a,h){(s=r(D,s,n,e,o)).style.transform="translateX("+t*q+"px) translateY("+(Da/2-o)*q+"px) translateZ("+i*q+"px) ",s.style.animation=a+" "+h+"ms forwards",window.setTimeout(Ca.bind(s),h)}function Ha(){Ea=[0,0,0,0,0,0,0,0,0,0,0,0]}function Ia(){Ga.emit("b",Ea),Ha()}function Ja(t){Fa=t}function H(t,i){Ea[t]+=i}function Na(t,i){return t+": <b>"+(Ea[i]+Fa[i])+"</b><br/>"}function Oa(){Fa=[0,0,0,0,0,0,0,0,0,0,0,0],Ha();try{Ga=io({path:location.pathname+"io",upgrade:!1,transports:["websocket"]})}catch(t){Ga={emit:function(){},on:function(){},connected:!1}}Ga.on("d",Ja),Ga.on("connect",Ia),window.setInterval(Ia,5e3)}function I(t,i,s,n,e,o){void 0===o&&(o=0),this.C="",this.H=!1,this.i=[],this.P=this.R=!1,this.l=this.u=this.G=this.I=0,this.O=!1,this.g=fa(D,"o"),this.g.style.width=i+"px",this.g.style.height=s+"px",this.position=new u,ma(this.position,t),this.v=new u,this.name=n,this.description=e,this.S=o,this.width=i,this.height=s}function Pa(t){t.i.forEach((function(t){Pa(t)})),0!=t.l&&Qa(t)}function Qa(i){na()&&i.u==i.l||(i.u++,i.u==Math.floor(.1*i.l)?(C(i.position.x,i.position.y,0,50,10,10,"a3",3e3),t(5)):i.u==Math.floor(.7*i.l)?(C(i.position.x,i.position.y,10,50,10,10,"a3",3e3),t(5)):i.u==Math.floor(.9*i.l)?(C(i.position.x,i.position.y,20,50,10,10,"a3",3e3),t(5)):i.u==i.l?(C(i.position.x,i.position.y,30,50,10,10,"a3",3e3),t(5)):i.u==Math.floor(1.1*i.l)?(C(i.position.x,i.position.y,40,50,10,10,"a3",3e3),t(5)):i.u==Math.floor(1.2*i.l)&&(C(i.position.x,i.position.y,50,50,10,10,"a3",3e3),t(5)))}function L(t){var i="<b>"+t.name+"</b><br/>"+t.description;return 0!=t.i.length&&(i+='<div class="b">Contains:<br/>',t.i.forEach((function(t){i+="&nbsp;- "+t.name,0!=t.l&&(i+=" (cooked to "+Math.round(t.u/t.l*100)+"%, "+(t.l>=t.u?((t.l-t.u)/60).toFixed(1)+"s left":"overcooked")+")"),i+="<br/>"})),i+="</div>"),i+t.M()}function Ra(t){return t==B.h||!!t.A&&Ra(t.A)}function Sa(t,i){if(t instanceof Ta){var s=!0,n=new u(0,0);n.x=t.position.x+i/1e3*t.v.x,n.y=t.position.y+i/1e3*t.v.y,B.g.forEach((function(t){if(t.P){var i=t.position;n.x>i.x-10&&n.x<i.x+10*t.$&&n.y>i.y-10&&n.y<i.y+10&&(s=!1)}})),(-94>n.x||240<n.x||-600>n.y||137<n.y)&&(s=!1),s?ma(t.position,n):(ma(i=new u(0,0),n),oa(i,t.position),qa(i),t.position.x-=.1*i.x,t.position.y-=.1*i.y,pa(t.v))}}function Ua(t){t.i.forEach((function(i){ma(i.position,t.position),Ua(i)}))}function Va(t){return t.A?t.A.I+Va(t.A):0}(k=I.prototype).catch=function(t){return 0!=this.i.length&&this.i[0]instanceof K?this.i[0].catch(t):(t.A=this,this.i.push(t),ma(t.position,this.position)),!0},k.Z=function(){},k.X=function(){},k.M=function(){return""},k.L=function(){};var M=this&&this.g||function(t,i){function s(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)};function Ta(t){I.call(this,t,10,18,"",""),this.g.style.width=10*q+"px",this.g.style.height=18*q+"px",this.j=r(this.g,0,2,10,18),this.o=r(this.g,10,2,10,18),this.B=r(this.g,40,40,10,10),this.B.style.transform="translateY("+12*q+"px) rotateX(90deg)",this.B.style.opacity="0.5"}function Wa(t){I.call(this,t,10,18,"Goblin","The guy who runs the kitchen when you're not around"),this.g.style.width=10*q+"px",this.g.style.height=18*q+"px",r(this.g,40,2,10,18)}function K(t,i,s,n,e,o,a,h){I.call(this,t,i,s,n,e,h),this.D=!1,this.m=[0,0],r(this.g,o,a,i,s),this.o=r(this.g,0,0,10,40),this.j=Math.floor(5e3*Math.random()),this.I=2,this.i=[]}function Xa(t){K.call(this,t,10,10,"Pan","A frying pan to cook something delicious",50,60,4)}function Ya(t){K.call(this,t,10,10,"Small pot","Foor soups? I guess",0,40,5)}function Q(t){I.call(this,t,10,10,"Slot","Place stuff here"),this.U=!1,this.B=r(this.g,10,60,10,10),this.B.style.transform="translateY("+10*q+"px) rotateX(90deg)",this.F=fa(this.g,"c1"),this.O=!0,this.I=10,this.G=15.1}function cb(t){Q.call(this,t),p(this.g,20,0,20,20),this.name="Cerberos",this.description="A sweet pup with three heads and a few endless stomachs",this.B.parentNode.removeChild(this.B),this.height=this.width=20,this.g.style.width=this.width*q+"px",this.g.style.height=this.height*q+"px",this.G=0}function eb(t){Q.call(this,t),this.name="Chute",this.description="Place the finished food here",this.F.innerHTML="Ready!"}function S(){I.apply(this,arguments)}function T(t,i,s,n){void 0===i&&(i=1),void 0===n&&(n=1),I.call(this,t,10,10,"",""),this.P=!0,this.F=r(this.g,40,70,10,10),this.B=r(this.g,30,70,10,10),this.o=r(this.g,30,70,10,10),this.j=r(this.g,30,70,10,10),this.F.className="bt",this.B.className="bl",this.o.className="br",this.j.className="bf",this.$=i,this.j.style.width=this.F.style.width=10*i*q+"px",this.o.style.left=10*(i-1)*q+"px",this.F.style.top=this.j.style.top=this.B.style.top=this.o.style.top=-10*(n-1)*q+"px",this.j.style.height=this.o.style.height=this.B.style.height=10*n*q+"px"}function U(t,i,s,n){void 0===i&&(i=1),void 0===s&&(s=1),void 0===n&&(n=1),T.call(this,t,i,s,n),p(this.F,30,60,10,10,!0),p(this.B,20,60,10,10,!0),p(this.o,20,60,10,10,!0),p(this.j,20,60,10,10,!0)}function gb(t,i,s,n,e){I.call(this,t,10,10,i,""),this.B=s,this.j=n,this.m=e,p(this.g,0,70,10,10),this.status=1}function Za(t){S.call(this,t,10,18,"Meat","Tasty but kinda raw",1),r(this.g,50,2,10,18),this.l=1200}function $a(t){S.call(this,t,10,10,"Fire shroom","Mushroom",2),r(this.g,0,60,10,10),this.l=420}function ab(t){S.call(this,t,10,10,"Fresh carrot","Yummie",3),r(this.g,40,60,10,10),this.l=1800}function mb(t){I.call(this,t,10,10,"Chili and pepper","For the perfect flavor"),r(this.g,50,40,10,10)}function nb(){this.B=!1,this.D=this.u=null,this.G=!1,this.A=this.I=0}function pb(t){var i=x,s=i.g.arrowleft||i.g.a||i.g.q?-1:0;s+=i.g.arrowright||i.g.d?1:0;var n=i.g.arrowup||i.g.w||i.g.z?-1:0;n+=i.g.arrowdown||i.g.s?1:0,qb&&(s+=3*(X.x-rb.x)/Y.height,n+=3*(X.y-rb.y)/Y.height);var e=navigator.getGamepads();if(0<e.length&&e[0]){(ea(e[0].axes[0])||ea(e[0].axes[1])||e[0].buttons[0].pressed||e[0].buttons[1].pressed||e[0].buttons[9].pressed)&&(e[0].id.match(/xbox|x-box|xinput|45e/i)?i.l=B.A:i.v=B.A,s+=e[0].axes[0],n+=e[0].axes[1]);for(var o=0;10>o;o++)e[0].buttons[o].pressed?(i.m[o]||(i.h[o]=!0),i.m[o]=!0):i.m[o]=!1}s=Math.min(Math.max(s,-1),1),n=Math.min(Math.max(n,-1),1),0==ea(s)&&0==ea(n)&&(n=s=0),i=Math.min(Math.max(Math.abs(s)+Math.abs(n),0),1),n=Math.atan2(n,s),((s=x).h[0]||s.j[" "])&&s.actions[0]&&s.actions[0].call(),(s.h[1]||s.j.x)&&s.actions[1]&&s.actions[1].call(),(s.h[9]||s.j.escape)&&s.actions[2]&&s.actions[2].call(),sa(x),s=t.j.v.x,t.j.v.x=s+.3*(Math.cos(n)*i*100-s),s=t.j.v.y,t.j.v.y=s+.3*(Math.sin(n)*i*100-s),x.l>x.u&&x.l>x.v?(document.body.classList.remove("ah"),document.body.classList.add("ag"),document.body.classList.remove("ak")):x.v>x.u&&x.v>x.l?(document.body.classList.add("ah"),document.body.classList.remove("ag"),document.body.classList.remove("ak")):x.u>x.v&&x.u>x.l&&(document.body.classList.remove("ah"),document.body.classList.remove("ag"),document.body.classList.add("ak"))}function db(t,i){i.i.forEach((function(i){db(t,i)})),i.X(),i.R=!0}function sb(t){var i;for(i=t.g.length;i--;0<=i)t.g[i].R&&(t.g[i].g.parentNode.removeChild(t.g[i].g),t.g.splice(i,1))}function tb(t){var i="";t.h&&(i=i+'Carrying:<br/><div class="b">'+L(t.h),i+="</div>"),t.l?(i+='Drop target:<div class="b">',i=0!=t.l.i.length?i+L(t.l.i[0]):i+L(t.l),i+="</div>"):t.m?(i+='In front of you:<div class="b">',i=0!=t.m.i.length?i+L(t.m.i[0]):i+L(t.m),i+="</div>"):t.o&&(i=i+'In front of you:<div class="b">'+L(t.o),i+="</div>");var s=null,n="";t.h instanceof K&&t.h.h?s=t.h.h:t.m&&0!=t.m.i.length&&t.m.i[0]instanceof K&&t.m.i[0].h?s=t.m.i[0].h:t.l&&0!=t.l.i.length&&t.l.i[0]instanceof K&&t.l.i[0].h?s=t.l.i[0].h:t.v&&(s=t.v,i+='<div class="c">Pick up a pan or pot to start the recipe.</div>'),s&&(n=L(s));var e="",o=0,a=0;t.g.forEach((function(t){t instanceof gb&&(e+="<b>"+t.name+"</b><br/>",o+=5,t.o?(a+=t.o,e+=t.o+"/5<br/>"):e+="(new)<br/>")})),s=Math.max(o/5*4-a,0),e+="<br/>",e+="<b>"+a+" stars collected</b> of "+o+".<br/>",e+="You need "+s+" more to finish.",Ga.connected&&(e+="<br/>",e+="<br/>",e+="<b>Global stats:</b><br/>",e+=Na("Foods served",3),e+=Na("Fires started",2),e+=Na("Stars collected",5),e+=Na("Perfect foods",7),e+=Na("Total pats",6)),s=1<t.C&&9!=t.C&&0>=s,!t.F&&s&&(window.setTimeout(Ba.bind(null,[[3,1,(2==t.C?"Wow! ":"")+"You completed all orders!<br/>Check your action buttons to proceed to the next level."]]),1e3),H(1,1)),t.F=s,la("r1",n),la("r2",i),la("r3",e)}function ub(t){for(var i,s,n,e,o,a,h=9999,r=9999,l=9999,c=0,u=t.g;c<u.length;c++)(i=u[c]).H=!1,i.O?(s=da(i.position,t.j.position),a=!0,t.h&&0!=i.i.length&&(a=!1,i.i[0]instanceof K&&(t.h instanceof S||t.h&&t.h instanceof mb)&&(a=!0)),0==i.i.length||t.h?a&&s<r&&(r=s,e=i):s<h&&(h=s,n=i)):i instanceof I&&!(i instanceof Ta||i instanceof Q||i instanceof T)&&((s=da(i.position,t.j.position))<l&&(l=s,o=i));t.m=null,t.l=null,t.o=null,15>=l&&!Ra(o)&&(t.o=o,t.o.H=!0),15>=h&&(t.m=n,t.m.H=!0,0!=t.m.i.length&&(t.m.i[0].H=!0)),15>=r&&(t.l=e,t.l.H=!0,0!=t.l.i.length&&(t.l.i[0].H=!0))}function fb(){var t=B;if(!(t.h instanceof K))return Ba([[0,2,"Hmm... maybe I should not serve this."]]),!1;if(!t.h.h)return Ba([[0,2,"Ooof, I forgot the recipe!"]]),!1;var i,s,n,e=t.h,o=0,a=0,h=0,r=0,l=0,c=0,u=0,d=0==e.i.length,f=e.h.B!=e.S?1:0;for(s=1;2>s;s++){for(i=n=0;i<e.i.length;i++)e.i[i].S==s&&n++;e.h.j[s]>n&&o++,e.h.j[s]<n&&a++}for(;i<e.i.length;i++).5>(s=e.i[i].u/e.i[i].l)?h++:.98<s&&1.02>s?c++:.8>s?r++:1.2<s&&l++;return e.m[0]==e.h.m[0]&&e.m[1]==e.h.m[1]||(u=1),i=Math.min(Math.max(d?1:5-2*o-a-2*h-.5*r-.5*l+c-.5*u-2*f,1),5),d=[],1==i?f="I won't comment this one":(f&&d.push("cooked in the wrong cookware"),0<h&&d.push("something was raw"),0<o&&d.push("something was missing"),0<a&&d.push("I got more of something"),0<r&&d.push("something was a bit underdone"),0<l&&d.push("something was overdone"),u&&d.push("the seasoning was off"),4.5<=i?(f="I loved it",0==d.length&&0<c&&(f="It was perfect")):f=3<=i?"It was nice":"Thanks"),c=f,0<d.length&&(c=c+", although "+d.join(" and ")),c+=". "+i+"/5 stars",e.h.o=i,H(5,i),Ba([[1,1,c]]),H(3,1),5==t.h.h.o&&H(7,1),!0}M(Ta,I),Ta.prototype.L=function(){var i=2<Math.abs(this.v.x)+Math.abs(this.v.y);-2>this.v.y&&i?(this.j.style.display="none",this.o.style.display=""):(this.j.style.display="",this.o.style.display="none"),0==B.A%20?i?(this.C="rotate(-10deg)",C(this.position.x+5.5,this.position.y,20,70,3,3,"a2",300),t(0)):this.C="rotate(0deg)":10==B.A%20&&(i?(this.C="rotate(10deg)",C(this.position.x+1.5,this.position.y,20,70,3,3,"a2",300),t(1)):this.C="rotate(0deg)")},M(Wa,I),M(K,I),K.prototype.M=function(){var t="";return this.m[0]&&(t+="<br/>+ <b>"+this.m[0]+" grams</b> of Chili"),this.m[1]&&(t+="<br/>+ <b>"+this.m[1]+" grams</b> of Pepper"),this.h&&(t+="<br/>Cooking <b>"+this.h.name+"</b>"),t},K.prototype.Z=function(){B.v&&2==B.v.status&&(this.h=B.v,B.v.status=3,B.v=null),this.D=!1},K.prototype.X=function(){this.h&&3==this.h.status&&(this.h.status=1)},K.prototype.L=function(){this.o.style.display=this.D?"":"none",this.D&&Pa(this),0==B.A%8&&(this.j++,p(this.o,[10,20,10,30,20,10,30][this.j%7],40,10,10))},M(Xa,K),M(Ya,K),M(Q,I),Q.prototype.L=function(){if(this.U&&0<this.j&&!(0!=this.i.length&&this.i[0]==this.T||B.h&&B.h==this.T)){var t=void 0;1==this.o?t=new Za(new u(0,0)):2==this.o?t=new $a(new u(0,0)):3==this.o?t=new ab(new u(0,0)):4==this.o?t=new Xa(new u(0,0)):5==this.o&&(t=new Ya(new u(0,0))),B.g.push(t),this.catch(t),this.j--,bb&&(this.j=9001),this.T=t,this.F.innerHTML=0!=this.j?"+"+(9e3<this.j?"&#8734;":this.j.toString()):""}},M(cb,Q),cb.prototype.catch=function(t){return db(B,t),!0},M(eb,Q),eb.prototype.catch=function(t){return!!fb()&&(t instanceof K&&t.h&&(t.h.status=4),db(B,t),!0)},M(S,I),M(T,I),M(U,T),M(gb,I),gb.prototype.M=function(){var t="<br/>- grab a <b>"+(4==this.B?"Pan":"Small Pot")+"</b><br/>";if(this.j[3]){t+="- add <b>"+this.j[3]+" pcs Carrot</b><br/>";var i=this.j[1]?10:this.j[2]?23:30;t+="- cook for <b>"+i+" seconds</b><br/>"}return this.j[1]&&(t+="- add <b>"+this.j[1]+" pcs Meat</b><br/>",t+="- cook for <b>"+(i=this.j[2]?13:20)+" seconds</b><br/>"),this.m[0]&&(t+="- add <b>"+this.m[0]+" grams of Chili</b><br/>"),this.m[1]&&(t+="- add <b>"+this.m[1]+" grams of Pepper</b><br/>"),this.j[2]&&(t+="- add <b>"+this.j[2]+" pcs of Fire shroom</b><br/>",t+="- cook for <b>7 seconds</b><br/>"),t+="- serve hot<br/>",this.o&&(t=t+"<br/>Got <b>"+this.o+"/5 stars"),t},gb.prototype.L=function(){this.g.style.filter=1==this.status?"":"grayscale(1.0)"},M(Za,S),M($a,S),M(ab,S),M(mb,I),(k=nb.prototype).K=function(t){var i,s=[],n=[];switch(l("f1").classList.remove("w"),l("f2").classList.remove("w"),this.C=t,1<t&&localStorage.setItem("hg22:l",t.toString()),D.innerHTML='<div id="l0">'+(ob?"":'<div id="l1"></div>')+'<div id="l2"></div><div id="l3"></div>'+(1<t?'<div id="l4"></div>':"")+"</div>",this.g=[],this.D=this.u=this.h=null,this.F=this.B=!1,y(0),y(1),y(2),v(2,"Pause",B.N.bind(B)),this.g.push(new Ta(new u(170,100))),1<t&&(this.g.push(new Wa(new u(170,50))),this.g.push(new T(new u(0,0),14,1,2)),this.g.push(new T(new u(140,0),3,1,1)),this.g.push(new T(new u(170,0),3,1,2)),this.g.push(new T(new u(0,120),20,1,1)),this.g.push(new T(new u(0,110))),this.g.push(new T(new u(190,110))),this.g.push(new Q(new u(90,80))),this.g.push(new Q(new u(110,80))),this.g.push(new Q(new u(130,80))),this.g.push(new Q(new u(110,100))),this.g.push(new U(new u(10,10),11,1,1)),this.g.push(new U(new u(140,10),3,1,1)),this.g.push(new eb(new u(150,10))),this.g.push(new U(new u(80,80),7,1,1)),this.g.push(new U(new u(110,90))),this.g.push(new U(new u(110,100))),this.g.push(new U(new u(110,110)))),2<t&&this.g.push(new cb(new u(180,10))),3<t&&(this.g.push(new Q(new u(110,10))),this.g.push(new mb(new u(110,10))),this.g[this.g.length-2].catch(this.g[this.g.length-1])),this.j=this.g[0],t){case 1:this.u=[[0,2,"Ahh... what a wonderful day!"],[0,2,"The temperature is sweet, the weather is just perfect...",1],[0,2,"A really wonderful day!",1],[0,2,"*sigh* I am bored.",1],[2,2,"*ring-ring*",1],[0,2,"Hello, Devil speaking!"],[1,1,"Hey Dev, this is Skully!"],[0,2,"Death, what a nice surprise! How's it going?"],[1,1,"Great, great. Listen. By any chance..."],[1,1,"Is that restaurant of yours still around?"],[0,2,"Yeah, it is. But--"],[1,1,"Great! So I'll have a party tonight with friends and we want to have something delicious and thought you could help us out!"],[0,2,"Sure, but--"],[1,1,"Thanks, I'll send some meat over, you're the best!"],[2,2,"*click*"],[0,2,"I better get going...",1]],this.D=this.V.bind(this);break;case 2:s=[0,2,0,0,3],n=[["Fried foe",4,[0,1],[0,0]]],this.u=[[3,1,"Hey Boss!"],[3,1,"It's been a while. How do you do?"],[0,2,"Hey Goblin! All fine, thanks. I need to cook for Skully, do we have pans around?"],[3,1,"Sure we have! Just pick the recipe first."],[3,1,"And don't worry they still love to be cooked."],[3,1,"Just don't burn them....",1]];break;case 3:s=[0,4,0,0,3],n=[["Fried foe",4,[0,1],[0,0]],["Fried foe",4,[0,1],[0,0]]],this.u=[[3,1,"Hey Boss!"],[3,1,"Look who came by! Your favorite three-in-one pup, Cerberos!"],[3,1,"I guess he can help you out with leftovers."],[3,1,"Also, Skully asked for two more."]];break;case 4:s=[0,4,0,0,3],n=[["Spicy fried friends",4,[0,2],[10,0]]],this.u=[[3,1,"Hey Boss!"],[3,1,"I just found some spices."]];break;case 5:s=[0,2,0,4,3],n=[["Fred and vegs",4,[0,1,0,2],[0,5]]],this.u=[[3,1,"Hey Boss!"],[3,1,"I found some stuff in the fridge.<br/>Might come handy."]];break;case 6:s=[0,2,0,3,3,3],n=[["Carrot soup",5,[0,0,0,3],[0,5]],["Fried foe",4,[0,1],[0,0]]],this.u=[[3,1,"Hey Boss!"],[3,1,"Look! Pots!"]];break;case 7:s=[0,1,3,3,3,3],n=[["Super soupper",5,[0,0,2,2],[5,15]],["Fried foe",4,[0,1],[0,0]]],this.u=[[3,1,"Hey Boss!"],[3,1,"Another dinner for two?"],[3,1,"Erm... not for us. Of course.",1]];break;case 8:s=[0,4,3,3,3,3],n=[["Fred and vegs",4,[0,1,0,2],[0,5]],["Spicy fried friends",4,[0,2],[10,0]],["All in!",5,[0,1,1,1],[10,5]]],this.u=[[3,1,"Hey Boss!"],[3,1,"Skully called and..."]];break;case 9:s=[0,4,3,3,3,3],this.u=[[3,1,"Hey Boss!"],[3,1,"No orders for today, but--"],[0,2,"Say no more! I take the week off!"]],this.D=this.aa.bind(this)}for(i=0;6>i;i++)if(s[i]){this.g.push(new Q(new u(10+20*(i-1),10)));var e=this.g[this.g.length-1],o=i,a=s[i];e.U=!0,e.o=o,e.j=a}for(i=0;i<n.length;i++)this.g.push(new gb(new u(20,80-10*i),n[i][0],n[i][1],n[i][2],n[i][3]));this.u&&window.setTimeout(Ba.bind(null,this.u),1e3),1<=t&&H(0,1)},k.aa=function(){l("f1").classList.add("w"),l("f2").classList.add("w"),window.setTimeout(this.J.bind(this,!0,!0),1500)},k.ba=function(){l("f1").classList.add("w"),l("f2").classList.add("w"),window.setTimeout(this.K.bind(this,this.C+1),500)},k.V=function(){window.setTimeout(this.ba.bind(this),300)},k.Y=function(){this.A+=1;var t=window.innerHeight/1080*1.2;pb(this),this.B||this.G||(this.g.forEach((function(t){var i=0;B.h==t?(ma(t.position,B.j.position),t.position.y+=.2,i=5):i+=Va(t)+t.G,t.L(),10>B.A%20?t.H&&(t.g.style.opacity="0.5"):t.g.style.opacity="1",t.g.style.transform="translateX("+t.position.x*q+"px) translateY("+(Da/2-t.height-i)*q+"px) translateZ("+t.position.y*q+"px) "+t.C,Sa(t,16.666666666666668),Ua(t)})),D.style.transform="scale("+t+") perspective(800px) translateY(200px)",D.style.left=window.innerWidth/2-vb*q/2+"px",D.style.transformOrigin=.5*vb+this.j.position.x+"px "+.5*this.j.position.y+"px",ub(this),y(0),y(1),!this.h&&this.F&&v(1,"Next level",this.ga.bind(this)),!this.h&&this.o&&this.o instanceof gb&&2!=this.o.status?v(0,"Accept",this.ca.bind(this)):this.h?this.l&&(this.h instanceof mb&&0!=this.l.i.length&&this.l.i[0]instanceof K?(v(0,"Add chili",this.W.bind(this,0)),v(1,"Add pepper",this.W.bind(this,1))):v(0,"Drop",this.da.bind(this))):this.l&&this.l instanceof cb?v(0,"Pet",this.ha.bind(this)):this.m&&(v(0,"Grab",this.ea.bind(this)),0!=this.m.i.length&&this.m.i[0]instanceof K&&!this.m.i[0].D&&v(1,"Light it",this.fa.bind(this))),tb(this),sb(this)),window.requestAnimationFrame(this.Y.bind(this))},k.da=function(){this.l.catch(this.h)&&(this.h=null),t(4)},k.ea=function(){var i=this.m;B.h=i.i[0],i.i[0].A=null,i.i[0].Z(),i.i.pop(),t(3)},k.fa=function(){this.m.i[0].D=!0,t(2),H(2,1)},k.N=function(){this.J(!this.B,!0)},k.ga=function(){this.V()},k.ca=function(){this.v&&2==this.v.status&&(this.v.status=1),this.v=this.o,this.v.status=2,H(4,1)},k.W=function(i){this.l.i[0].m[i]++,t(8)},k.ha=function(){this.I++,0==this.I%3?(C(this.j.position.x,this.j.position.y,30,50,10,10,"a3",3e3),t(5)):t(1),H(6,1)},k.J=function(t,i){void 0===i&&(i=!1),(this.B=t)&&i&&(l("o2").style.display="block"),t||(l("o2").style.display="none")},k.start=function(){this.K(0),this.Y()};var Y,Z,wb,xb,yb,qb=!1,rb=new u(0,0),X=new u(0,0);function zb(){Z.clearRect(0,0,Y.width,Y.height),Z.strokeStyle="#fff",Z.fillStyle="#fff",Z.lineWidth=3,Z.font="30px bahnschrift",Z.beginPath(),Z.arc(X.x,X.y,40,0,2*Math.PI),Z.stroke(),Z.beginPath(),Z.arc(xb.x,xb.y,20,0,2*Math.PI),Z.stroke(),Z.beginPath(),Z.arc(yb.x,yb.y,20,0,2*Math.PI),Z.stroke(),Z.beginPath(),Z.arc(wb.x,wb.y,20,0,2*Math.PI),Z.stroke(),Z.fillText("☰",wb.x-13,wb.y+10),Z.fillText("A",xb.x-9,xb.y+10),Z.fillText("B",yb.x-9,yb.y+10)}function Ab(){Y.width=window.innerWidth,Y.height=.5*window.innerHeight,wb=new u(Y.width-160,Y.height-120),xb=new u(Y.width-120,Y.height-40),yb=new u(Y.width-80,Y.height-120),zb()}function Bb(t){var i,s,n=[],e=.1*Y.height;n[0]=!1,n[1]=!1;var o=i=n[9]=!1;for(s=0;s<t.targetTouches.length;s++){var a=new u(t.targetTouches[s].clientX,t.targetTouches[s].clientY-Y.offsetTop);da(a,wb)<e&&(n[9]=!0),da(a,xb)<e&&(n[0]=!0),da(a,yb)<e&&(n[1]=!0),!o&&a.x<.5*window.innerWidth&&(o=i=!0,X.x=a.x,X.y=a.y)}for(s=0;10>s;s++)n[s]&&!x.m[s]&&(x.h[s]=!0),x.m[s]=n[s];if(i&&!qb&&(rb.x=X.x,rb.y=X.y),(qb=i)||(X.x=.2*window.innerWidth,X.y=.5*Y.height),x.l=B.A,!document.fullscreenElement)try{document.body.requestFullscreen()}catch(t){}zb()}var B,x,D,ka,ob,Da=120,vb=200,q=3,bb=!1;function Cb(){document.body.classList.remove("w"),B.G=!1;var t=B,i=t.K,s=localStorage.getItem("hg22:l");i.call(t,s?parseInt(s):1)}function Db(){B=new nb,x=new ra,B.G=!0,B.start(),x.start(),v(0,"Start",Cb),y(2)}function Eb(){la("wc",bb?"Unlocked - Coil is active, thank you!":'<span onclick="b(5);" class="l">Activate Coil to unlock.</span>'),la("wn",(na()?"Unlocked - NEAR is active!":'<span onclick="b(3);" class="l">Log in to NEAR '+nn+" here to unlock.</span>")+(0<window.location.search.indexOf("nHa")?"<br/><br/>Thank you so much for your tip!":"")),l("mn").style.display=na()?"":"none"}window.addEventListener("load",(function(){D=l("d"),(ka=new Image).addEventListener("load",Db),ka.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABQCAMAAAByFOZhAAAATlBMVEUAAAAAAABpICkYFBNmAAAiHBuSAADr6+vrJDbrsjbJNhYAAADh4eH+8qP5eD+Hwy1FyS6GhoYSWAAjqADLy8v75mI9AABiBwQ2MT//uwAyWWE3AAAAAnRSTlMAgJsrThgAAAI6SURBVFjD7dbRctowEIVhVxKQokoQHBx4/xftntWuhISM68x0kgv/Nul2mm9WOEzb4UfmHL9eZpovSge3d3TT8MIG035hC0w5TCsxdu457H+BgzGBncT4Dnzf45f7C/zGmcdpmkiW3DQN1AV3i7GtwWqnSTRsuNDd4vhGd4UdC+eA0ww8Uglba3vHDgmjwQE6jvFtHG+MbQgh6xAgWBtMUqJp5s2Hw1hhNTqZbPXwGBI+jOMBGLpYqrNZMY4vi2W1PR6PtvOe4YtlnTGODQwr2lhYazDB2oKJy+c7PS+ytxrrscvUYD569aOyp9PJlqcEolOLyQq+XBTbjK2hu0wthk3nvtBdsGjczQTMia0/25aura2tra31+bXgFyWjMWal9RR0wSa3bEWXYxsr1ThWQ2wwVs7jGOIQIoZr4N8tYnwTXiDXSC9MNMRwncNGrAG5Cok80ASNsfvAqv80Rm4oUx7Lj+rn9Bs10wnxdEY8HRFPDqlAPHm6MJ1SbD1dZ9iUWmgljJFgTxdjJNjT1WKk2GOqNnv0tNk7P489Ud9iGjqbfefYXo8N+4S9Z/z1p/0fes8dtI9FZLlh+KOtwFYCpq1dfH5SMVa4v1mfXmvlISqef8/0jT28vBmWerKowu997BSbFM+fn8vvWRaLtEhwpYd5rJ8q1rJZV2sFf+Rgh1w69UI7yu6QzT3+ee9fm9DBO6nGgSuY/67+Z4y9glXHtZt72dwcxt4ZvNNmMfoyxlv+ls1SF9vnHvBf+fUz0p/8oHsAAAAASUVORK5CYII=",Oa(),(ob="ontouchstart"in window||0<navigator.maxTouchPoints)&&(Y=document.createElement("canvas"),Z=Y.getContext("2d"),Y.id="gp",Y.addEventListener("touchstart",Bb),Y.addEventListener("touchend",Bb),Y.addEventListener("touchmove",Bb),window.addEventListener("resize",Ab),Ab(),document.body.appendChild(Y)),ni(),bb=document.monetization&&document.monetization.state,window.setInterval(Eb,1e3)})),window.b=function(t){1==t?B.N():2==t?((t=B).K(t.C),t.J(!1)):3==t?nl():4==t?nt():5==t?window.location.href="https://coil.com":6==t&&(B.K(1),B.J(!1,!1))},window.na=na</script><body class="ag ah ak w"><div id=d></div><div id=r1></div><div id=r2></div><div id=r3></div><div id=f1></div><div id=f2></div><div id=s1 class=s><div class=m><div class=n></div><div class=t></div></div></div><div id=s2 class=s><div class=m><div class=n></div><div class=t></div></div></div><div id=o1></div><div id=controls><span id=a0><span class="g g0">A</span><span class="h h1">X</span><span class=k>Space</span><span id=b0></span></span><span id=a1><span class="g g1">B</span><span class="h h0">O</span><span class=k>X</span><span id=b1></span></span><span id=a2><span class=g>☰</span><span class=h>OPTIONS</span><span class=k>ESC</span><span id=b2></span></span></div><div id=o2><div id=e1><b>Cooking for Skully</b><br>by Gabor Heja for js13kGames 2022</div><ul id=e2><li onclick=b(1)>Continue<li onclick=b(2)>Restart level<li onclick=b(4) id=mn>Send tip on NEAR<li onclick=b(6)>Reset progress</ul><div id=e3><b>Bonus content for your support!</b><br><br>Infinite pans, pots and ingredients<br><b id=wc>...</b><br><br>Auto-stop cooking when ready<br><b id=wn>...</b></div><div id=e4><b>Press Start</b></div></div>