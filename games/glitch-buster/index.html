<!doctype html><title>Glitch Buster - js13kGames 2016</title><meta name=viewport content="width=device-width,maximum-scale=1.01"><style>#t,body,canvas{width:100%}#t,body,canvas,html{height:100%}*{margin:0}body{background-color:#000}#t{display:table}#c{display:table-cell;vertical-align:middle}#cc{margin:auto;outline:#fff solid 1px}canvas{display:block}</style><div id=t><div id=c><div id=cc><canvas></canvas></div></div></div><script>function B(t){return t.split(",").map(function(t){return t.split("").map(function(t){return parseInt(t)})})}function e$(){this.el=function(t){for(var i=0;i<24;i++)this[String.fromCharCode(97+i)]=t[i]||0;this.c<.01&&(this.c=.01);var s=this.b+this.c+this.e;if(s<.18){var h=.18/s;this.b*=h,this.c*=h,this.e*=h}}}function eY(){var t,i,s,h,e,n,a,f,r,o,c,l;this.bq=new e$,this.dB=function(){var t=this.bq;h=100/(t.f*t.f+.001),e=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,a=-t.i*t.i*t.i*1e-6,t.a||(c=.5-t.n/2,l=5e-5*-t.o),f=1+t.l*t.l*(t.l>0?-.9:10),r=0,o=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.fd=function(){this.dB();var h=this.bq;return t=h.b*h.b*1e5,i=h.c*h.c*1e5,s=h.e*h.e*1e5+12,3*((t+i+s)/3|0)},this.fb=function(u,_){var b=this.bq,y=1!=b.s||b.v,v=b.v*b.v*.1,x=1+3e-4*b.w,d=b.s*b.s*b.s*.1,G=1+1e-4*b.t,g=1!=b.s,p=b.x*b.x,P=b.g,w=b.q||b.r,R=b.r*b.r*b.r*.2,B=b.q*b.q*(b.q<0?-1020:1020),m=b.p?32+((1-b.p)*(1-b.p)*2e4|0):0,I=b.d,C=b.j/2,E=b.k*b.k*.01,S=b.a,k=t,T=1/t,F=1/i,L=1/s,O=5/(1+b.u*b.u*20)*(.01+d);O>.8&&(O=.8),O=1-O;for(var Y,V,N,W,H,U,X=0,K=0,q=0,$=0,Q=0,D=0,Z=0,z=0,j=0,J=0,M=0,tt=Array(1024),it=Array(32),st=tt.length;st--;)tt[st]=0;for(st=it.length;st--;)it[st]=A(-1,1);for(st=0;st<_;st++){if(X)return st;if(m&&++J>=m&&(J=0,this.dB()),o&&++r>=o&&(o=0,h*=f),(h*=n+=a)>e&&(h=e,P>0&&(X=1)),V=h,C>0&&(V*=1+sin(M+=E)*C),(V|=0)<8&&(V=8),S||((c+=l)<0?c=0:c>.5&&(c=.5)),++q>k)switch(q=0,++K){case 1:k=i;break;case 2:k=s}switch(K){case 0:$=q*T;break;case 1:$=1+2*(1-q*F)*I;break;case 2:$=1-q*L;break;case 3:$=0,X=1}w&&((N=0|(B+=R))<0?N=-N:N>1023&&(N=1023)),y&&x&&((v*=x)<1e-5?v=1e-5:v>.1&&(v=.1)),U=0;for(var ht=8;ht--;){if(++z>=V&&(z%=V,3==S))for(var et=it.length;et--;)it[et]=A(-1,1);switch(S){case 0:H=z/V<c?.5:-.5;break;case 1:H=1-z/V*2;break;case 2:H=.225*(((H=1.27323954*(W=6.28318531*((W=z/V)>.5?W-1:W))+.405284735*W*W*(W<0?1:-1))<0?-1:1)*H*H-H)+H;break;case 3:H=it[abs(32*z/V|0)]}y&&(Y=Z,(d*=G)<0?d=0:d>.1&&(d=.1),g?(D+=(H-Z)*d,D*=O):(Z=H,D=0),Q+=(Z+=D)-Y,H=Q*=1-v),w&&(tt[j%1024]=H,H+=tt[(j-N+1024)%1024],j++),U+=H}U*=.125*$*p,u[st]=U>=1?32767:U<=-1?-32768:32767*U|0}return _}}function _a(t,i,s){var h=D.createElement("canvas");return h.width=t,h.height=i,s(h.getContext("2d"),h),h}function dz(t,i,s){var h=_a(t,i,s);return h.getContext("2d").createPattern(h,"repeat")}function dy(t,i){for(var s=[],h=0;h<t.length+2*i;h++){s.push([]);for(var e=0;e<t[0].length+2*i;e++)h<i||h>=t.length+i||e<i||e>=t[0].length+i?s[h][e]=2:s[h][e]=t[h-i][e-i]}return s}function du(t){var i=[];return t.forEach(function(t){i=i.concat(t)}),i}function dq(t){var i={};for(var s in t)t[s].call&&(i[s]=t[s].bind(t));return i}function _x(t,i,s,h){var e,n=Q([0,1]);G._g(e={s:t,c:i,_c:function(){V.ba(this.x,this.y,this.s)&&(R.fillStyle=e.c,h?fillText(""+n,e.x,e.y):fillRect(e.x-e.s/2,e.y-e.s/2,e.s,e.s))}},1),s.forEach(function(t,i){var s=[e].concat(t);i||(s[7]=function(){G._p(e)}),I.apply(0,s)})}function aj(s,eP,eO){return _a(s,s,function(r){with(r){var g=createRadialGradient(s/2,s/2,0,s/2,s/2,s/2);g.addColorStop(0,eP),g.addColorStop(1,eO),fillStyle=g,fillRect(0,0,s,s)}})}function Z(t,i,s,h,e,n){for(var a=0;a<i.length;a++){var f=eG(i.charAt(a),e,n);t.drawImage(f,s,h),s+=f.width+e}}function bi(t,i,s,h,e,n){var a=i+e+n;bC[a]||(bC[a]=_a(e*_H(i,e),5*e,function(t){Z(t,i,0,0,e,n)})),t.drawImage(bC[a],s,h)}function _H(t,i){for(var s=0,h=0;h<t.length;h++)s+=bE[t.charAt(h)][0].length+1;return s-1}function eG(t,i,s){var h=t+i+s;if(!bz[h]){var e=bE[t];bz[h]=_a(e[0].length*i,e.length*i,function(t){t.fillStyle=s;for(var h=0;h<e.length;h++)for(var n=0;n<e[h].length;n++)e[h][n]&&t.fillRect(n*i,h*i,i,i)})}return bz[h]}function eA(){this._u=1,this.ez=400,this._c=function(){R.globalAlpha=this._u,R.fillStyle="#fff",beginPath(),arc(P.x,P.y,this.ez,0,2*PI,1),fill(),R.globalAlpha=1},I(this,"ez",320,0,.4,1),I(this,"_u",0,1,.4,1,0,function(){P.by=1;for(var t=0;t<50;t++){var i=A(.5,1.5),s=A(-PI,PI),h=A(8,80),e=cos(s)*h+P.x,n=sin(s)*h+P.y-40;_x(4,"#fff",[["x",e,e,i,0,ds],["y",n,n+A(80,240),i,0],["s",A(8,16),0,i]],1)}}),P.by=P._l=0,P.bw=1,G.a$=1;var t=500;G._F||(_k(function(){P._b(["Hello there!","This code is falling apart!","Let's fix the glitches before it's too late!"])},2e3),t=9e3),_k(function(){eZ()},500),_k(function(){P.bw=0,P._l=1,dk()},t)}function dj(t){for(var i=V.x+E,s=V.y+X,h=~~(V.y/80);h<1+~~(s/80);h++)for(var e=~~(V.x/80);e<1+~~(i/80);e++)W.O[h]&&W.O[h][e]&&t(W.O[h][e])}function dk(){G.a$=0,dj(function(t){var i=_v(t._f,P);t.bk=.5,I(t,"bk",0,1,i/E,0,bh)})}function et(){G.a$=0,dj(function(t){var i=_v(t._f,P);t.bk=.5,I(t,"bk",1,0,i/E,0,bh)})}function F(t,end){return _a(440,100,function(r){with(r)fillStyle="#444",fillRect(0,90,440,10),fillStyle="#fff",fillRect(0,0,440,90),Z(r,"."+t+(end||"()"),100,20,10,"#000"),fillStyle="#000",beginPath(),moveTo(40,20),lineTo(80,45),lineTo(40,70),fill()})}function A(t,i){return random()*((t||1)-~~i)+~~i}function _v(t,i){return sqrt(pow(t.x-i.x,2)+pow(t.y-i.y,2))}function Q(t,i,s){t=t.slice(0),i=i||1;for(var h=[];h.length<i;)h=h.concat(t.splice(~~(random()*t.length),1));return 1!==i||s?h:h[0]}function bO(t,i,s){return i<t?t:i>s?s:i}function _p(t,i){var s=t.indexOf(i);s>=0&&t.splice(s,1)}function em(t,i,s,h){return t/h*s+i}function fi(t,i,h,e){return s=1.70158,h*((t=t/e-1)*t*((s+1)*t+s)+1)+i}function ds(t,i,s,h){return sin(t/h*PI*4)*s+i}function bh(t,i,s,h){return(t/=h)<1/2.75?s*(7.5625*t*t)+i:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+i:s*(7.5625*(t-=2.625/2.75)*t+.984375)+i}function I(t,i,s,h,e,n,a,f){var r={o:t,p:i,a:s,b:h,d:e,l:n||0,f:a||em,e:f,t:0,Y:function(t){r.l>0?(r.l-=t,r.o[r.p]=r.a):(r.t=min(r.d,r.t+t),r.o[r.p]=r.f(r.t,r.a,r.b-r.a,r.d),r.t==r.d&&(r.e&&r.e(),_p(G._T,r)))}};G._g(r,2)}function ei(t,i){for(t=""+t;t.length<i;)t="0"+t;return t}function cL(t,i){var s=~~(t%60);return ei(~~(t/60),2)+":"+ei(s,2)+(i?"."+ei(~~(t%1*100),2):"")}function bW(){this.ah=[],this._u=1,this.cH=db,this.F=function(t,i,s,h){var e={d:t,x:i,y:s,a:h,o:1};return this.ah.push(e),e},this.click=function(t,i){1==this._u&&this.ah.forEach(function(s){t>s.x&&i>s.y&&t<s.x+s.d.width&&i<s.y+s.d.height&&(s.a.call(s),eX())})},this._c=function(){R.globalAlpha=this._u,R.fillStyle=this.cH,fillRect(0,0,E,X);var t=this._u;this.ah.forEach(function(i){R.globalAlpha=t*i.o,drawImage(i.d,i.x,i.y)}),R.globalAlpha=1},this.bY=function(){this.ah.forEach(function(t,i){I(t,"x",-t.d.width,0,.25,.25*i+.5)})}}function bZ(t){bW.call(this);var i=[["critical","mental health"],["time","expired"],["code fixed","!!!"]][t],s=cL(G.aJ);this.F(F("retry"),0,420,G.cC),this.F(F("back"),0,560,G.cf),this.F(F("share"),0,700,function(){open("//twitter.com/intent/tweet?hashtags=js13k&via=remvst&url="+encodeURIComponent("https://js13kgames.com/games/glitch-buster")+"&text="+encodeURIComponent((2==t?"I fixed all glitches in "+s:"I fixed "+(G._F-1)+"/13 glitches")+" on Glitchbuster!"))}),this.bY(),i.push(2==t?"time: "+s:"fixed "+(G._F-1)+"/13");var h=i[0],e=10*_H(h),n=i[1],a=10*_H(n),f=i[2],r=5*_H(f);this.F(_a(e,55,function(t){Z(t,h,0,5,10,"#444"),Z(t,h,0,0,10,"#fff")}),(E-e)/2,120),this.F(_a(a,55,function(t){Z(t,n,0,5,10,"#444"),Z(t,n,0,0,10,"#fff")}),(E-a)/2,200),this.F(_a(r,30,function(t){Z(t,f,0,5,5,"#444"),Z(t,f,0,0,5,"#fff")}),(E-r)/2,280)}function dW(){bW.call(this),this.F(F("start"),0,420,G.cC),this.F(N.F(),0,560,function(){N.aL=!N.aL,this.d=N.F()}),this.F(F("hires","?"),0,700,function(){G.cq(!T),this.o=T?.5:1}).o=T?.5:1,this.bY();var t=(E-460)/2;this.F(_a(460,230,function(t){Z(t,"glitch",0,10,20,"#444"),Z(t,"glitch",0,0,20,"#fff"),Z(t,"buster",0,130,20,"#444"),Z(t,"buster",0,120,20,"#fff")}),t,90,function(){I(this,"o",0,1,.4)}),I(this.ah[this.ah.length-1],"o",0,1,.25,.5)}function dZ(){bW.call(this),this.cH="rgba(0,0,0,.5)",this.F(F("resume"),0,280,G.resume),this.F(N.F(),0,420,function(){N.aL=!N.aL,this.d=N.F()}),this.F(F("hires","?"),0,560,function(){G.cq(!T),this.o=T?.5:1}).o=T?.5:1,this.F(F("menu"),0,700,function(){confirm("Quit?")&&G.cf()}),this.bY();var t=(E-460)/2;this.F(_a(460,110,function(t){Z(t,"paused",0,10,20,"#444"),Z(t,"paused",0,0,20,"#fff")}),t,90)}function cw(t,i,s){this.x=t,this.y=i,this.H=s,this._c=function(){if(V.ba(this.x,this.y,80)){save(),translate(t,i),T||drawImage(bG,-80,-80);var s=10*sin(G.az*PI*2*.5)-40;R.fillStyle="#fff",beginPath(),moveTo(-10,-10+s),lineTo(10,-10+s),lineTo(0,s),fill(),this.cx(),restore()}},this.Y=function(){_v(this,P)<40&&!this.e_&&(G._p(this),this.be(),this.e_=1,f$(),this.cA())},this.be=function(){for(var t=0;t<10;t++){var i=A(this.x-20,this.x+20),s=A(this.y-20,this.y+20);A(.2,.5),_x(3,"#fff",[["x",i,i,.5],["y",s,s-A(40,80),.5],["s",12,0,.5]])}}}function ea(t,i){cw.call(this,t,i,2),this.cx=function(){R.fillStyle="red",rotate(PI/4),fillRect(-8,-8,16,16)},this.cA=function(){P.af++,P._b([Q(["Here's a breakpoint!","You found a breakpoint!","That's a breakpoint!"]),G.ag?"Hold the circle button to throw it":"Hold SPACE to throw it"])}}function eb(t,i){cw.call(this,t,i,1),this.cx=function(){var t=5*-_H("!",5)/2;Z(R,"!",t,t,5,"#f00")},this.cA=function(){P._O++,P._b("health++")}}function ec(t){var i=t._C;return 8&t._C?i|=4:i^=4,4&t._C?i|=8:i^=8,{_o:t._o.map(function(t){return t.slice(0).reverse()}),_C:i}}function ed(t,i){return Q(t.filter(function(t){return t._C==i}))}function ef(t){function i(t,i,s,h){for(var e=0;e<10;e++)for(var n=0;n<10;n++)t[e+s][n+h]=i[e][n]}if(!t)return dy(es,5);var s,h,e=bc.concat(bc.map(ec)),n=t<0?4:round(.4*(t-1)+2),a=t<0?5:round(.2*(t-1)+3),f=[],r=[],o=[];for(s=0;s<a;s++)o.push(s);for(h=0;h<n;h++){for(f.push([]),s=0;s<a;s++)f[h][s]=0,r.indexOf(s)>=0&&(f[h][s]|=1),s>0&&(f[h][s]|=4),s<a-1&&(f[h][s]|=8);h<n-1&&(r=Q(o,Q([1,2,3]),1)).forEach(function(t){f[h][t]|=2})}var c=[];for(h=0;h<10*n;h++)c[h]=[];for(h=0;h<n;h++)for(s=0;s<a;s++)i(c,ed(e,f[h][s])._o,10*h,10*s);var l=[],u=[],_=[],b=[];for(h=0;h<c.length;h++)for(l.push([]),b.push([]),c[h][s]=parseInt(c[h][s]),s=0;s<c[h].length;s++)if(l[h].push(c[h][s]),3==c[h][s]&&(l[h][s]=A()<.5?1:0),h>0){if(1==l[h][s]&&0==l[h-1][s]){var y=[h,s];u.push(y),b[h].push(y)}0==l[h][s]&&1==l[h-1][s]&&_.push([h-1,s])}var v=Q(du(b.slice(0,10))),x=Q(du(b.slice(l.length-6)));return l[v[0]-1][v[1]]=4,l[x[0]-1][x[1]]=5,l[x[0]][x[1]]=2,u.forEach(function(t){t!=x&&t!=v&&A()<.05&&(l[t[0]][t[1]]=7)}),_.forEach(function(t){t!=x&&t!=v&&A()<.05&&(l[t[0]][t[1]]=6)}),dy(l,5)}function d_(t,i,s,h,e){this.x=t,this.y=i,this.da=2,this.dd=0,this.S=cos(s)*h,this.U=sin(s)*h,this.Y=function(t){var i={x:this.x,y:this.y};if(!this._U||this._U.ev){this._U=0,this.U+=7500*t*.5,this.x+=this.S*t,this.y+=this.U*t,this.dd+=4*PI*t;var s={x:this.x,y:this.y};if(!T&&!e){var h={_u:1,_c:function(){R.strokeStyle="rgba(255, 0, 0, "+this._u+")",R.lineWidth=8,beginPath(),moveTo(i.x,i.y),lineTo(s.x,s.y),stroke()}};G._g(h,1),I(h,"_u",1,0,.3,0,0,function(){G._p(h)})}}if(!e)if(this.da-=t,this.da<=0)this.dm();else for(var n in G._y)if(G._y[n]!=P&&_v(G._y[n],this)<20)return this.dm();var a=W._w(this.x,this.y);if(a&&!this._U){this.S*=.5,this.U*=.5;var f,r=0;do{if(f=a._t(this,16,16),e&&(this._U|=f),1&f&&(this.U=-abs(this.U)),2&f&&(this.U=abs(this.U)),4&f&&(this.S=-abs(this.S)),8&f&&(this.S=abs(this.S)),max(abs(this.S),abs(this.U))<150)this._U=a,this.S=this.U=0;else if(f&&!T&&!e)for(n=0;n<2;n++){var o=this.x+A(-8,8),c=this.y+A(-8,8),l=A(.2,.5);_x(3,"#fff",[["x",o,o,l],["y",c,c-A(40,80),l],["s",12,0,l]])}}while(f&&r++<5)}},this.dm=function(){if(!this.ey){this.ey=1,[[this.x-80,this.y+80],[this.x,this.y+80],[this.x+80,this.y+80],[this.x-80,this.y],[this.x,this.y],[this.x+80,this.y],[this.x-80,this.y-80],[this.x,this.y-80],[this.x+80,this.y-80]].forEach(function(t){W.eB(t[0],t[1])});for(var t=0;t<40;t++){var i=A(.5,1.5),s=A(-80,80)+this.x,h=A(-80,80)+this.y;_x(3,Q(["#f00","#f80","#ff0"]),[["x",s,s+8,i,0,ds],["y",h,h-A(80,240),i,0],["s",A(24,40),0,i]])}for(t=G._y.length;--t>=0;)_v(this,G._y[t])<160&&G._y[t].aD(this,3);G._p(this);var e=this;_k(function(){V._X==e&&(V._X=0)},1e3),fP()}},this._c=function(){save(),translate(this.x,this.y),rotate(this.dd),R.fillStyle="red",fillRect(-8,-8,16,16),restore()}}function eC(t){this.O=[],this.J=t,this.bB=t.length,this.aF=t[0].length;for(var i=0;i<t.length;i++){this.O.push([]);for(var s=0;s<t[i].length;s++)this.O[i][s]=0,t[i][s]>0&&(this.O[i][s]=new eD(i,s,t[i][s]),4==t[i][s]?this._L=this.O[i][s]:5==t[i][s]&&(this._q=this.O[i][s]))}this._w=function(t,i){var s=~~(i/80),h=this.O[s]&&this.O[s][~~(t/80)];return h&&h.eE&&h},this.eF=function(t){if(t&&2!=t.H){for(var i=0;i<50;i++){var s=A(.5,2),h=t.x+A(80);_x(4,"#fff",[["x",h,h,s],["y",t.y+A(80),this.dH(h,t._f.y),s,0,bh],["s",12,0,s]])}t.ev=1,this.O[t.$][t.z]=0}},this.eB=function(t,i){this.eF(this._w(t,i))},this.dL=function(t){for(var i=0,s=[],h=0;h<this.bB-1;h++){i=0;for(var e=0;e<this.aF;e++){var n=0!=this.J[h][e];1!=this.J[h+1][e]&&2!=this.J[h+1][e]||n?(i>=t&&s.push({$:h,cz:e-i,cO:e-1}),i=0):i++}}return s},this.dH=function(t,i){do{i+=80}while(i<80*this.bB&&!this._w(t,i));return 80*~~(i/80)},this._c=function(){R.fillStyle=G.a$||T?"#000":"#fff",fillRect(0,0,E,X),save(),translate(-V.x,-V.y),R.fillStyle=T?"#000":db,fillRect(0,0,80*this.aF,80*this.bB);for(var t=V.x+E,i=V.y+X,s=~~(V.y/80);s<1+~~(i/80);s++)for(var h=~~(V.x/80);h<1+~~(t/80);h++)this.O[s]&&this.O[s][h]&&this.O[s][h]._c();for(var e in P._c(),G.aB)G.aB[e]._c();if(!T){P.x,P.y,P.cp;var n=~~(V.x+E/2)-500,a=~~(V.y+X/2)-500,f=n+1e3,r=a+1e3;R.fillStyle="#000",n>V.x&&fillRect(V.x,a,n-V.x,1e3),f<t&&fillRect(f,a,t-f,1e3),a>V.y&&fillRect(V.x,V.y,E,a-V.y),r<i&&fillRect(V.x,r,E,i-r),drawImage(eM,n,a)}restore()}}function fj(){this.aR=this.aQ=this.x=this.y=0,this.ab=function(t){var i,s;return this._X?(i=this._X.x,s=this._X.y):(i=P.x+(P._l&&t?50*P._$:0),s=P.y+(P._l&&P.cp&&t?400:0)),{x:~~(i-E/2),y:~~(s-X/2)}},this.fm=function(t){var i=this.ab();this.aR=this.x=i.x,this.aQ=this.y=i.y},this.ba=function(t,i,s){return t+s>this.x&&i+s>this.y&&t-s<this.x+E&&i-s<this.y+X},this.Y=function(t){var i=this.ab(1),s=_v(i,this),h=max(1,s/.2),e=atan2(i.y-this.aQ,i.x-this.aR),n=min(h*t,s),a=1/G.aK;s>a&&(this.aR+=cos(e)*n,this.aQ+=sin(e)*n),this.x=~~(this.aR/a)*a,this.y=~~(this.aQ/a)*a}}function eD(t,i,s){this.x=80*(this.z=i),this.y=80*(this.$=t),this.eE=[4,5].indexOf(s)<0,this.H=s,this._u=1,this.bk=1,this._f={x:this.x+40,y:this.y+40},this._t=function(t,i,s){var h,e;return[{x:this.x-(i||40)/2,y:t.y,H:4},{x:this.x+80+(i||40)/2,y:t.y,H:8},{x:t.x,y:this.y-(s||52)/2,H:1},{x:t.x,y:this.y+80+(s||52)/2,H:2}].forEach(function(i){var s=sqrt(pow(i.x-t.x,2)+pow(i.y-t.y,2));(!h||s<e)&&(h=i,e=s)}),t.x=h.x,t.y=h.y,h.H},this._c=function(){if(!G.a$&&!this.hidden){if(R.fillStyle="#fff",T){var t=~~(15*bO(0,1-_v(this._f,P)/800,1));R.fillStyle="#"+t.toString(16)+t.toString(16)+t.toString(16)}if(save(),translate(this._f.x,this._f.y),scale(this.bk,this.bk),translate(-40,-40),1!=s&&2!=s||fillRect(0,0,80,80),7==s||6==s){6==s&&(translate(0,80),scale(1,-1)),fillRect(0,24,80,56),beginPath(),moveTo(0,24);for(var i=10;i<80;i+=20)lineTo(i,0),lineTo(i+10,24);lineTo(80,24),fill()}if(5==s){T||drawImage(bG,-40,-40),1==this._u&&(R.font="14pt Courier New",fillText("Glitch #"+G._F,40,-40),beginPath(),moveTo(30,-20),lineTo(50,-20),lineTo(40,-10),fill()),R.globalAlpha=this._u,R.fillStyle=dS,i=A(400);var h=A(400);translate(i,h),fillRect(-i,-h,80,80)}restore()}},this.fs=function(t){7===s&&t.aD(this._f)},this.fu=function(t){6==s&&t.aD(this._f)}}function bD(){this.x=this.y=0,this.K=0,this._$=1,this.by=1,this.offsetY=0,this.cD=0,this.bV=0,this._Y=[],this.bu=0,this.fw=1,this.fx=1,this.ae=0,this.av=4,this.S=0,this.U=0,this.au=0;var t,i=0;return this._c=function(){if(!(this.ae>0&&~~(2*this.ae*4%2)&&!this._e||!this.by)&&V.ba(this.x,this.y,20)){if(save(),translate(~~this.x,~~this.y+this.offsetY),T||this._e||drawImage(this.aj,-80,-80),this.bu>0&&this._Y.length){R.font="16pt Arial";var t=this._Y[0],s=measureText(t).width+8;R.fillStyle="#000",R.globalAlpha=.5,fillRect(-s/2,-68-this.bV,s,24),R.globalAlpha=1,R.fillStyle=this.c$,fillRect(-2,-40,4,-this.bV),fillText(t,0,-56-this.bV)}if(scale(this._$*this.fw,this.fx),!this._e){save(),translate(-18,-26);var h=sin(G.t*PI*2/.3)/2*7+3.5,e=this.K||i>0?h:7,n=this.K||i>0?7-h:7;R.fillStyle=this.cT,fillRect(0,45,6,e),fillRect(30,45,6,n),restore()}var a=PI/16,f=sin(G.t*PI*2/.5)/2*a;this.ap?f=this.ap:this.K||this.aa||(f=0),translate(0,this.cD),rotate(f),save(),translate(-23,-26),R.fillStyle=this.c$,fillRect(0,0,46,45);var r=G.t%4,o=4*min(1,max(3.85-r,r-3.85)/.15);this._e&&(o=1);var c=this.cp?24:10;if(!this.aa){R.fillStyle="#000";var l=this.bw?-10:0;fillRect(27+l,c,4,o),fillRect(37+l,c,4,o)}restore(),restore()}},this.Y=function(t){var s={x:this.x,y:this.y};this.ae-=t,(this.bu-=t)<=0&&this._b(this._Y.slice(1)),this._e&&(this.K=0);var h=this.av*this._s,e=bO(-h*t,this.K*this._s-this.S,h*t);this.S=bO(-this._s,this.S+e,this._s),this.x+=this.S*t,this.K==-this._$&&I(this,"fw",-1,1,.1),this._$=this.K||this._$,this.U+=7500*t,this.y+=this.U*t,this.au=this.eI(s),2&this.au||1&this.au||(i=max(1,i))},this.ac=function(s,h){if(h&&(i=0),i++<=1){this.U=-1700*s,t=-1;for(var e=this.y+26,n=0;n<5;n++){var a=A(this.x-20,this.x+20);_x(3,"#888",[["x",a,a,.3],["y",e,e-A(40,80),.3],["s",12,0,.3]])}return 1}},this.fe=function(t,i){this.S=cos(t)*i,this.U=sin(t)*i,this._$=this.S<0?-1:1},this.aD=function(t,i){var s=this._$;this.ae<=0&&!this._e&&!this.aa&&(f_(),this.fe(atan2(this.y-t.y,this.x-t.x),1500),this.ae=2,(this._O-=i||1)<=0?(this.ai(),this._$=s):this._b(Q(["Ouch!","health--"])))},this.ax=function(s){this.U=0,i=0;var h=s.sort(function(t,i){return abs(t._f.x-P.x)-abs(i._f.x-P.x)})[0];if(h.fs(this),h.y!==t){if(!this._e){I(this,"cD",0,8,.1),I(this,"cD",8,0,.1,.1);for(var e=0;e<5;e++){var n=A(this.x-20,this.x+20);_x(3,"#888",[["x",n,n,.3],["y",h.y,h.y-A(40,80),.3],["s",12,0,.3]])}}return t=h.y,1}},this.fg=function(t){this.U=0,t.sort(function(t,i){return abs(t._f.x-P.x)-abs(i._f.x-P.x)})[0].fu(this)},this.eI=function(t){var i=this.x-20,s=this.x+20,h=this.y-26,e=this.y+26,n=W._w(i,h),a=W._w(s,h),f=W._w(i,e),r=W._w(s,e),o=0;return a&&f&&!r&&!n?(o|=a._t(this),o|=f._t(this)):n&&r&&!a&&!f?(o|=n._t(this),o|=r._t(this)):n&&a?(this.y=80*ceil(h/80)+26,o|=2,f?(this.x=80*ceil(i/80)+20,o|=8):r&&(this.x=80*floor(s/80)-20,o|=4)):f&&r?(this.y=80*floor(e/80)-26,o|=1,n?(this.x=80*ceil(i/80)+20,o|=8):a&&(this.x=80*floor(s/80)-20,o|=4)):n&&f?(this.x=80*ceil(i/80)+20,o|=8):a&&r?(this.x=80*floor(s/80)-20,o|=4):f?o|=f._t(this):r?o|=r._t(this):n?o|=n._t(this):a&&(o|=a._t(this)),1&o?this.ax([f,r].filter(Boolean)):2&o&&this.fg([n,a].filter(Boolean)),o},this.ai=function(){if(!this._e&&!this.aa){this._l=0,this._e=1,this._O=0;for(var t=0;t<40;t++){var i=A(this.x-20,this.x+20),s=A(this.y-26,this.y+26),h=W.dH(i,this.y),e=A(.5,1);_x(3,"#900",[["x",i,i,.5],["y",s,s-A(40,80),.5],["s",12,0,.5]]),_x(3,"#900",[["x",i,i,e],["y",s,h,e,0,bh],["s",12,0,e]])}this.cD=8,I(this,"ap",0,-PI/2,.3),this._b(Q(["...","exit(1)","NULL","Fatal error"]))}},this._b=function(t){this._Y=t.push?t:[t],this.bu=this._Y.length?3:0,this._Y.length&&I(this,"bV",0,56,.3,0,fi)},dq(this)}function cX(t,i){var s=bD.call(this);return this.x=t,this.y=i,this.c$="#f00",this.cT="#b22",this.aj=eN,this._O=1,this._s=0,this.Y=function(t){if(V.ba(this.x,this.y,20)&&(s.Y(t),!this._e)){var i=abs(P.x-this.x),h=abs(P.y-this.y);i<40&&h<52&&(i<h&&P.y<this.y&&P.U>0?(P.ac(.8,1),this.aD(P)):(P.aD(this),this.K=this.x>P.x?1:-1)),this.bu<=0&&this._b("0x"+(~~A(1048576,16777215)).toString(16))}},this.ai=function(){if(!this._e){s.ai();var t=this;_k(function(){t._b([]),I(t,"fw",1,0,.4),I(t,"fx",1,5,.3,.1),I(t,"offsetY",0,-400,.3,.1,0,function(){_k(function(){G._p(t)},0)}),G.dE(t.x,t.y,.5,1)},500)}},dq(this)}function cK(t,i){var s=cX.call(this,t,i);this._s=120,this.K=Q([-1,1]),this.Y=function(t){if(s.Y(t),!this._e){var i=this.x-40,h=this.x+40,e=this.y+26,n=W._w(i,e),a=W._w(h,e);(4&this.au||!a||a.H>6)&&(this.K=-1),(8&this.au||!n||n.H>6)&&(this.K=1)}}}function cQ(t,i){var s=cX.call(this,t,i);this.dM=4,this.av=0,this._s=480,this.Y=function(t){s.Y(t),(this.dM-=t)<=0&&!this._e&&(this.S=(this.K=this._$=Q([-1,1]))*this._s,this.ac(.8),this.dM=A(1.5,2.5))},this.ax=function(t){s.ax(t),this.S=0,this.K=0}}function cN(){var t=bD.call(this);this._l=1,this.af=0,this._O=5,this.c$="#fff",this.cT="#aaa",this.aj=bG,this._s=560,this.aA=0,this.b_=0,this.Y=function(i){if(this._l){this.K&&(V._X=0);var s=_v(this,W._q._f);s<40?(this._l=0,this.aa=1,this._b(["Let's fix this...","Done!"]),I(this,"x",this.x,W._q._f.x,1),I(W._q,"_u",1,0,3),_k(function(){eU(),G.fv()},3500)):s<E/2&&!this.fo&&(this.fo=1,this._b("You found the glitch!"))}else this.K=0;this.b_=(this.b_+i/4)%1,t.Y(i)},this.ai=function(){t.ai(),G.fk()},this.ac=function(i,s){this._l&&t.ac(i,s)&&fa()},this.dr=function(){this.af?(this.aA=1,this.b_=0):P._b(Q(["You don't have any breakpoints","breakpoints.count == 0","NoBreakpointException"]))},this.dp=function(){return 500+1500*(1-abs(2*(this.b_-.5)))},this.dg=function(){if(this.aA&&!this._e){var t=new d_(this.x,this.y,-PI/2+this._$*PI/4,this.dp());G._g(t,3),V._X=t,this.aA=0,this.af=max(0,this.af-1)}},this._b=function(i){t._b(i),i&&i.length&&eW()},this.ax=function(i){t.ax(i)&&eV()},this._c=function(i){if(t._c(i),this.aA&&!this._e){var s=new d_(this.x,this.y,-PI/2+this._$*PI/4,this.dp(),1);R.fillStyle="#fff";for(var h=0;h<40&&!s._U;h++)s.Y(1/60),h%2&&fillRect(~~s.x-2,~~s.y-2,4,4)}}}function eu(){var t=X/10;drawImage(_a(E,X,function(i){for(var s=0;s<X;s+=t)i.drawImage(C,0,s,E,t,A(-100,100),s,E,t)}),0,0)}function eq(){R.fillStyle=dS;var t=~~A(-400,400),i=~~A(-400,400);save(),translate(t,i),R.globalAlpha=A(.5),fillRect(-t,-i,E,X),restore()}function ej(){G=this;var t,s=0,h=0;G.paused=0,G._F=0,G.aK=1,G.t=0,V=new fj,(P=new cN)._l=0,G.cC=function(){var t;P=new cN;try{t=localStorage._}catch(t){}G._F=t?0:-1,G.aJ=0,G.bA(),I(G.L,"_u",1,0,.5,0,0,function(){G.L=0}),G._g(new eA(P.x,P.y),1)},G.bA=function(t){if(G._T=[],G._y=[],G.aB=[],G.az=105,G.paused=0,G.bx(0,.5),!t)if((W=new eC(ef(++G._F))).eH={1:8-P._O,2:10-P.af},G.a$=0,P.x=W._L.x+40,P.y=W._L.y+80-20,P._l=1,P.aa=0,G._g(V,2),G._g(P,7),V.fm(),G._F){_k(function(){P._b(Q(["There's more?!","Yay more glitches","Okay one more glitch..."]))},500),W.dL(2).forEach(function(t){var i=new(Q([cK,cQ]))(80*A(t.cz,t.cO),80*(t.$+1)-26);A()<.2&&_v(i,P)>E/2&&G._g(i,7)});var i=W.dL(1);Q(i,i.length).forEach(function(t){G.dE(80*(.5+~~A(t.cz,t.cO)),80*(t.$+.5),.05)})}else{var s,h;G._g(s=new cK(4500,800),7),G._g(new cQ(5700,800),7),G._g({Y:function(){!h&&abs(P.x-s.x)<E&&(h=1,P._b(["Watch out for the pointers!","They're super dangerous!","Either avoid them or kill them"]))}},2)}},G.Y=function(e){this.paused||(G.t+=e),(h-=e)<=0&&(t=0,(s-=e)<=0&&G.bx());for(var n=1/120;e>0;)G.fc(min(e,n)),e-=n;if(save(),scale(G.aK,G.aK),R.textAlign="center",R.textBaseline="middle",W&&W._c(),G.L)G.L._c();else{var a="";for(i=0;i<P._O;i++)a+="!";var f=cL(G.az,1),r="progress: "+G._F+"/13",o="breakpoints: "+P.af;Z(R,f,(E-10*_H(f))/2,aS?50:10,10,G.az>30?"#fff":"#f00"),bi(R,a,(E-5*_H(a))/2,aS?120:80,5,P._O<3||P.ae>1.8?"#f00":"#fff"),bi(R,r,E-4*_H(r)-10,10,4,"#fff"),bi(R,o,10,10,4,"#fff"),G.ag?([eL,bF,eJ,eK].forEach(function(t,i){R.globalAlpha=aN[i]?1:.5,drawImage(t,(i+.5)*E/4-40,X-100)}),R.globalAlpha=1,R.fillStyle="#fff",fillRect(E/2-4,10,-8,20),fillRect(E/2+4,10,8,20)):bi(R,"(arrows keys) move    (space) use breakpoint    (p) pause",E/2-315,X-20,3,"#888")}restore(),t&&t()},G.fc=function(t){G.paused&&(_i={});for(var i=G._T.length;--i>=0;)G.paused&&!G._T[i].o||G._T[i].Y(t);!G.L&&P._l&&((G.az-=t)<=0&&(G.az=0,G.L=new bZ(1),I(G.L,"_u",0,1,.5),G.paused=1),G._F&&(G.aJ+=t))},G.bx=function(i,e){var n=[function(){t=eq}];G.L||T||n.push(function(){t=eu}),isNaN(i)?Q(n)():n[i](),h=e||A(.1,.3),s=G._F?A(4,8):99},G.fk=function(){_k(function(){G.L=new bZ(0),I(G.L,"_u",0,1,.5)},2e3)},G.fv=function(){try{localStorage._=1}catch(t){}13==G._F?(G.L=new bZ(2),I(G.L,"_u",0,1,.5)):(G.bx(0,.5),et(),_k(function(){G.bA(),G.a$=1,_k(dk,500)},500))},G.cf=function(){G.L=new dW},G.fq=function(t){G.aK=t,C.width=E*t,C.height=X*t},G._g=function(t,i){1&i&&G.aB.push(t),2&i&&G._T.push(t),4&i&&G._y.push(t)},G._p=function(t){_p(G._T,t),_p(G._y,t),_p(G.aB,t)},G.dE=function(t,i,s,h){if(A()<s){var e=new(Q([ea,eb]))(t,i);--W.eH[e.H]>0&&(G._g(e,3),h&&e.be())}},G.pause=function(){G.paused||G.L||P.bw||P.aa||(G.paused=1,G.L=new dZ,I(G.L,"_u",0,1,.3))},G.resume=function(){G.paused&&(G.paused=0,I(G.L,"_u",0,1,.3,0,function(){G.L=0}))},G.cq=function(t){T=t,G.fq(t?.5:1)},G.bA(1),G.cf(),h=0,s=1;var e=Date.now();!function(){var t=Date.now(),i=(t-e)/1e3;e=t,G.Y(i),(requestAnimationFrame||webkitRequestAnimationFrame||mozRequestAnimationFrame)(arguments.callee)}()}function cP(t){P.K=0,(_i[37]||_i[65])&&(P.K=-1),(_i[39]||_i[68])&&(P.K=1),P.cp=_i[40]||_i[83]}var bT=new eY,ft=function(t){bT.bq.el(t);var i=bT.fd(),s=new Uint8Array(4*((i+1)/2|0)+44),h=2*bT.fb(new Uint16Array(s.buffer,44),i),e=new Uint32Array(s.buffer,0,44);e[0]=1179011410,e[1]=h+36,e[2]=1163280727,e[3]=544501094,e[4]=16,e[5]=65537,e[6]=44100,e[7]=88200,e[8]=1048578,e[9]=1635017060,e[10]=h,h+=44;for(var n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="data:audio/wav;base64,";n<h;n+=3){var r=s[n]<<16|s[n+1]<<8|s[n+2];f+=a[r>>18]+a[r>>12&63]+a[r>>6&63]+a[63&r]}var o=new Audio;return o.src=f,o},N={aL:0,_I:function(t){var i=ft(t);return function(){N.aL||i.play()}},F:function(){return F(N.aL?"unmute":"mute")}};Object.getOwnPropertyNames(Math).forEach(function(t){Math[t].call&&(this[t]=Math[t])});var D=document,w=window,_k=setTimeout,C,R,W,P,V,PI=Math.PI,aS=navigator.userAgent.match(/andro|ipho|ipa|ipo|windows ph/i),T=aS,E=aS?640:920,X=920,fa=N._I([0,,.1434,,.1212,.4471,,.2511,,,,,,.0426,,,,,.8862,,,,,.5]),f_=N._I([1,,.0713,,.1467,.5483,,-.4465,,,,,,,,,,,1,,,.0639,,.5]),f$=N._I([0,,.0224,.441,.1886,.6932,,,,,,,,,,,,,1,,,,,.5]),eZ=N._I([2,.28,.45,,.56,.35,,.4088,,,,,.03,.1557,,.5565,-.02,-.02,1,,,,,.5]),fP=N._I([3,,.244,.6411,.2242,.7416,,-.2717,,,,.0171,.0346,,,,-.0305,.0244,1,,,.0275,-.0076,.5]),eX=N._I([0,,.1394,,.0864,.48,,,,,,,,.5326,,,,,1,,,.1,,.5]),eW=N._I([2,.03,.1,.14,.25,.54,.3167,-.02,.3999,,.05,,,.1021,.0684,,.1287,-.1816,1,,,,,.46]),eV=N._I([3,,.0118,.03,.1681,.565,,-.2343,,,,.26,.6855,,,,,,1,,,,,.2]),eU=N._I([0,,.2098,,.4725,.3665,,.1895,,,,,,.0067,,.5437,,,1,,,,,.45]),dS=dz(400,400,function(r){with(r){fillStyle="#fff";for(var x=0;x<400;x+=4)for(var y=0;y<400;y+=4)globalAlpha=A(),fillRect(x,y,4,4)}}),bG=aj(160,"rgba(255,255,255,.25)","rgba(255,255,255,0)"),eN=aj(160,"rgba(255,0,0,.25)","rgba(255,0,0,0)"),eM=aj(1e3,"rgba(0,0,0,0)","rgba(0,0,0,1)"),bF=_a(80,80,function(r){with(r)fillStyle="#fff",beginPath(),moveTo(0,0),lineTo(80,40),lineTo(0,80),fill()}),eL=_a(80,80,function(r){with(r)translate(80,0),scale(-1,1),drawImage(bF,0,0)}),eK=_a(80,80,function(r){with(r)translate(0,80),rotate(-PI/2),drawImage(bF,0,0)}),eJ=_a(80,80,function(r){with(r)fillStyle="#fff",beginPath(),arc(40,40,40,0,2*PI,1),fill()}),bE={a:B("111,101,111,101,101"),b:B("111,101,110,101,111"),c:B("111,100,100,100,111"),d:B("110,101,101,101,111"),e:B("111,100,110,100,111"),f:B("111,100,110,100,100"),g:B("111,100,100,101,111"),h:B("101,101,111,101,101"),i:B("111,010,010,010,111"),k:B("101,101,110,101,101"),l:B("100,100,100,100,111"),m:B("101,111,101,101,101"),n:B("111,101,101,101,101"),o:B("111,101,101,101,111"),p:B("111,101,111,100,100"),q:B("111,101,101,111,001"),r:B("111,101,110,101,101"),s:B("111,100,111,001,111"),t:B("111,010,010,010,010"),u:B("101,101,101,101,111"),v:B("101,101,101,101,010"),w:B("10101,10101,10101,10101,01010"),x:B("101,101,010,101,101"),y:B("101,101,111,010,010"),".":B("0,0,0,0,1")," ":B("00,00,00,00,00"),"-":[[0,0],[0,0],[1,1],[0,0],[0,0]],":":B("0,1,,1,"),"?":B("111,001,011,000,010"),"!":B("01010,11111,11111,01110,00100"),"/":B("001,001,010,100,100"),1:B("110,010,010,010,111"),2:B("111,001,111,100,111"),3:B("111,001,011,001,111"),4:B("100,100,101,111,001"),5:B("111,100,110,001,110"),6:B("111,100,111,101,111"),7:B("111,001,010,010,010"),8:B("111,101,111,101,111"),9:B("111,101,111,001,111"),0:B("111,101,101,101,111"),"(":B("01,1,1,1,01"),")":B("10,01,01,01,1")},bC={},bz={},db=dz(400,400,function(r){var y=10;with(r)fillStyle="#000",fillRect(0,0,400,400),fillStyle="#fff",globalAlpha=.1,font="14pt Courier New",(""+bD).split(";").slice(0,20).forEach(function(t){fillText(t,0,y),y+=20})}),bc=[{_o:B("0000000000,1103113011,1100000011,1100000011,1110000111,0000000000,0030000300,1110110111,1110000111,1110000111"),_C:15},{_o:B("1111111111,1111111111,1111111111,0330000330,0000000000,0000000000,0330000330,1113003111,1110000111,1110000111"),_C:14},{_o:B("1001111001,1000000001,1111001111,1000000001,1000000001,1000000000,1001111000,1001111001,1001111001,1111111111"),_C:9},{_o:B("1111111111,1000000000,1000000000,1000000000,1001100300,1001100110,1001100110,1111111111,1111111111,1111111111"),_C:8},{_o:B("1110000001,1111000011,0011000011,0000000001,0003000001,0011000011,0011000011,1111301111,1000000001,1000000001"),_C:7},{_o:B("0000000000,0030000300,0111331110,0000000000,0000000000,0030000300,0111331110,0000000000,0000000000,0000000000"),_C:15},{_o:B("1100000011,1100000011,0000000000,0000330000,0000110000,0000110000,0011111100,0000330000,0000000000,0000000000"),_C:15},{_o:B("1000000001,1000000001,1000000001,1111001111,0000000000,0000000000,1110110111,1000000001,1000000001,1111111111"),_C:13},{_o:B("0000000000,0000000000,0000000000,0000000000,0000330000,0110110110,0110000110,0110000110,1111111111,1111111111"),_C:13},{_o:B("1300000011,1300000011,1000000011,1000000011,1100000011,1100000030,1100110000,1100110030,1100110011,1111111111"),_C:9},{_o:B("1111111111,1111111111,1111111111,0000110000,0000110000,0000000000,0000000000,1110000111,1110330111,1111111111"),_C:12},{_o:B("1111111111,0000000001,0000000001,0000000011,0000000001,0033000001,1111303111,1111000001,1111000001,1111000001"),_C:6},{_o:B("0000000001,0000311301,0000000001,0000000001,0000000001,1110000301,1110000111,1110000001,1113300001,1111111111"),_C:5},{_o:B("1111111111,0000000000,0000000000,0000110000,0000110000,0001111000,0000000000,0030000300,0110000110,1111111111"),_C:12},{_o:B("1111111111,1110000111,1110000111,0000000000,0000000000,0000110000,0300110030,1100110011,1100110011,1111111111"),_C:12},{_o:B("1111111111,1111111111,0000000000,0000000000,0000110000,0000000000,0110000110,0110000110,1110000111,1111111111"),_C:12},{_o:B("1111111111,0000000000,0000000000,0000000000,0000000110,0000000110,0001100113,0001100111,1001100111,1111111111"),_C:12},{_o:B("1111111111,0000000000,0000000000,1103113011,0000000000,0000000000,1103113011,0000000000,0000000000,1111111111"),_C:12},{_o:B("1000000001,1113111001,1000000001,1000000001,1001111111,1000000000,1000000000,1111311001,1000000001,1000000001"),_C:11},{_o:B("1111111111,1001111111,1000000000,1001000300,1111001110,1000001110,1000001111,1001111111,1001111111,1111111111"),_C:8},{_o:B("1111111111,1000000001,1000000001,1113300111,1000000000,1000000000,1110033111,1000000001,1000000001,1111111111"),_C:8},{_o:B("1110000111,1110000111,1110000111,0000000000,0030000300,0110000110,0110110110,1110000111,1110000111,1111111111"),_C:13},{_o:B("1111111111,0000000001,0000000001,0111111001,0100000001,1100000001,1100113111,1100000001,1100000001,1111111001"),_C:6},{_o:B("1100000011,0000110000,0000110000,0011111100,0011111100,0000110000,3300110033,0000000000,0000000000,1111111111"),_C:13}],es=B("11111111111111111111111111111111111111111111111111111111111111111111111111111111,11111111111111111111111111111000000000111111111111111111111111111111111111111111,11111111111111111111111111111000000000111111111111111111111111111111111111111111,10000000000000000000000001100000000000001100000000000000000000000000000000000001,10000000000000000000000001100000111000001100000000000000000000000000000000000001,10000000000000000000000006600000111000006600000000000000000000000000000000000001,10000000000000110000000000000111111111000000000111111100000000100000010000000001,10400000001100110011000000000111111111000000000111111100000000100000010000050001,11111111111177117711111111111111111111111111111111111111111111111111111111111111");onresize=function(){var t,i,s=innerWidth,h=innerHeight,e=s/h,n=E/X,a=D.querySelector("#cc").style;e<=n?i=(t=s)/n:t=(i=h)*n,a.width=t+"px",a.height=i+"px"};var aN={},_i={};onkeydown=function(t){G.paused||((!_i[38]&&38==t.keyCode||!_i[87]&&87==t.keyCode)&&P.ac(1),_i[32]||32!=t.keyCode||P.dr(),80===t.keyCode&&G.pause(),_i[t.keyCode]=1,cP(t))},onkeyup=function(t){G.paused||(32==t.keyCode&&P.dg(),_i[t.keyCode]=0,cP(t))},onclick=function(t){var i=C.getBoundingClientRect();if(G.L){var s=E*(t.pageX-i.left)/i.width,h=X*(t.pageY-i.top)/i.height;G.L.click(s,h)}};var ag=function(t){t.preventDefault(),P.K=0,G.ag=1,aN={};for(var i=C.getBoundingClientRect(),s=0;s<t.touches.length;s++){var h=E*(t.touches[s].pageX-i.left)/i.width,e=X*(t.touches[s].pageY-i.top)/i.height,n=~~(h/(E/4));G.L||(e<50?G.pause():n?1==n?P.K=1:2==n?P.dr():3==n&&P.ac(1):P.K=-1,aN[n]=1)}P.aA&&!aN[2]&&P.dg()};addEventListener("touchstart",function(t){onclick(t.touches[0])}),addEventListener("touchstart",ag),addEventListener("touchmove",ag),addEventListener("touchend",ag),onload=function(){(C=D.querySelector("canvas")).width=E,C.height=X,R=C.getContext("2d");var t=CanvasRenderingContext2D.prototype;Object.getOwnPropertyNames(t).forEach(function(i){R[i]&&R[i].call&&(w[i]=t[i].bind(R))}),onresize(),new ej,onblur=G.pause}</script>