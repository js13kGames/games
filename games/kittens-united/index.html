<!doctype html><html><head><meta name="viewport" content="viewport-fit=cover,width=device-width,minimum-scale=1,maximum-scale=3,user-scalable=yes"/><title>Kittens United - js13kGames 2025</title><style>html,body{width:100%;height:100%;margin:0;padding:0}html{font-size:18px}@media (min-width:600px){html{font-size:22px}}*,:before,:after{box-sizing:border-box}body{color:#f0f0f0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-hyphens:auto;hyphens:auto;text-wrap:balance;background:#0e120c;grid-template-rows:min-content 1fr;font-family:sans-serif;display:grid;overflow:hidden}button{cursor:pointer;color:#f0f0f0;-webkit-hyphens:none;hyphens:none;background:#ffffff0d;border:none;border-radius:.4rem;padding:.5rem 1rem;font-size:1em}@media (hover:hover) and (pointer:fine){button:hover{background:#ffffff1a}}button.q:not([disabled]){background:#e02890}@media (hover:hover) and (pointer:fine){button.q:not([disabled]):hover{background:#e02890b3}}button.w{color:#9ab;padding:.25rem 1rem;font-size:.8em}button.e{color:#f094c8;cursor:pointer;background:0 0;border-radius:0;width:fit-content;padding:0;font-size:.8em;text-decoration:underline}button[disabled]{opacity:.3;pointer-events:none}button.o{border-radius:50%;width:2rem;height:2rem;padding:.5rem;font-size:.9em;line-height:1}button.o.w{background:0 0}@media (hover:hover) and (pointer:fine){button.o.w:hover{background-color:#ffffff0d}}.p{display:none!important}.a{opacity:0!important;pointer-events:none!important}.d{color:#e02890}.f{justify-content:space-between;align-items:center;gap:1rem;padding:.5rem 1rem 0;font-family:monospace;display:flex}.g{white-space:nowrap;align-items:center;gap:.5rem;display:flex}.h{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.j,.r{place-items:center;display:grid}.j{grid-template-columns:minmax(min-content,1fr) minmax(360px,1fr);gap:1rem;max-width:min-content;margin:0 auto;padding:0 1rem 1rem;overflow:auto}@media (orientation:portrait){.j{max-width:initial;grid-template-rows:min-content auto;grid-template-columns:1fr}}.k{--t:#102508;border:calc(var(--s-size)/10)solid #102508bf;grid-template-columns:repeat(var(--s-cnt,5),var(--s-size));grid-template-rows:repeat(var(--s-cnt,5),var(--s-size));height:fit-content;font-size:calc(.6*var(--s-size));--s-size:calc(calc(min(100vw - 17rem - 3rem,100vh - 2.5rem) - 1rem - 1px*(var(--s-cnt,5) - 1))/(var(--s-cnt,5) + .2));justify-content:center;gap:1px;margin:0 auto;line-height:1;transition:border-color .3s;display:grid;position:relative;overflow:hidden}@media (orientation:portrait){.k{--s-size:calc(calc(min(100vw,100vh - 13.5rem - 2.5rem) - 2rem - 1px*(var(--s-cnt,5) - 1))/(var(--s-cnt,5) + .2))}}.k .l{display:contents}.u:not(.i) .k{--t:#0e140c;border-color:#0e150b}.h{opacity:.5;white-space:nowrap;z-index:5;font-family:monospace}.r{background-color:var(--t);transition:background .3s;position:relative}.r .t{z-index:3;transition:transform .3s}.i .r .t{animation:1s linear .5s 3 z}.r .y{z-index:2;transition:transform .3s,opacity .3s}.r>.t,.r>.y{grid-area:1/1}@keyframes z{0%{filter:hue-rotate()}to{filter:hue-rotate(360deg)}}.Z,.Z>button,.X{place-items:center;display:grid}.C{animation:2s ease-in-out infinite V}.Z{grid-template-rows:repeat(3,auto);grid-template-columns:repeat(3,auto);place-self:center;width:fit-content;position:relative}@media (orientation:portrait) or (max-height:700px){.Z{grid-area:span 3/2}}.Z>button{color:#e02890}.Z.B>.o{pointer-events:none;opacity:0}.Z .o{width:3.5rem;height:3.5rem;margin:-.25rem}@media (max-height:700px){.Z .o{width:3rem;height:3rem}}.Z .o.N{grid-area:1/2}.Z .o.M{grid-area:2/3}.Z .o._{grid-area:3/2}.Z .o.q2{grid-area:2/1}.X{gap:.75rem}.X button{width:100%;font-size:.9em;display:grid}.X button.B{pointer-events:none}.X button.B .w2{display:block}.X button.B>:not(.w2){opacity:.1;filter:grayscale(80%)}.X button>span{color:#e02890;grid-area:1/1}.X .w2{grid-area:1/1;display:none}.X .w2:before{content:"⏳ "}kbd{opacity:0;color:#ccc;background-color:#ffffff0d;border:1px solid #ffffff1a;border-radius:.2rem;padding:.05rem .25rem;font-family:monospace;font-size:.45rem;line-height:1.2;transition:opacity .1s;position:absolute}.e2 kbd{opacity:1}.X kbd,button.w kbd{bottom:.15rem;right:.15rem}.N kbd{bottom:-.2rem}.M kbd{left:-.2rem}._ kbd{top:-.2rem}.q2 kbd{right:-.2rem}@keyframes V{0%{box-shadow:0 0 #f0f0f080}60%{box-shadow:0 0 0 1rem #f0f0f000}to{box-shadow:0 0 #f0f0f000}}.W{place-items:center;display:grid}.t{color:#ffc0e4;--d:#ff45b05e;width:100%;height:100%;transition:color .2s;position:relative}.t:nth-child(2){--t-x:-35%}.t:nth-child(3){--t-x:35%}.W{width:100%;height:100%;filter:drop-shadow(1px -1px 0px var(--d))drop-shadow(-1px 1px 0px var(--d))drop-shadow(1px 1px 0px var(--d))drop-shadow(-1px -1px 0px var(--d));position:relative}.W svg{color:currentColor}.E{color:#ff2ea6;--d:#aa1f6fb3}.R{color:#c09402;--d:#906f02bf}.T{color:#009e28;--d:#00771ebf}.Y{color:#106dff;--d:#0c52bfbf}.r .W:not(.E){transform:scale(.65)translate(var(--t-x,0),27%)}.r ellipse{transform-box:fill-box;transform-origin:50%;animation:8s 4s infinite U}@keyframes U{0%{transform:scaleY(1)}3%{transform:scaleY(0)}6%{transform:scaleY(1)}9%{transform:scaleY(0)}12%{transform:scaleY(1)}}.y{width:100%;height:100%;transition:opacity .3s;position:relative}.u:not(.i) .y{opacity:.2}.y .J:before{content:"";background:#3d2209;border-radius:15%/10%;width:20%;height:35%;position:absolute;bottom:10%;left:40%}.y .J:after{content:"";filter:brightness(.6);background:#009e28;border-radius:50%;width:60%;height:60%;position:absolute;bottom:35%;left:20%}.y .K{background:#105a99;border-radius:55% 45% 62% 38%/48% 60% 40% 52%;width:80%;height:80%;position:absolute;top:10%;left:10%}.y .L{z-index:1;background:#ffb450;border-radius:50%;width:50%;height:50%;position:absolute;top:5%;left:50%;transform:translate(-50%)}.y .L:after{content:"";background:var(--t);border-radius:50%;width:90%;height:90%;position:absolute;transform:translate(40%)}.m{z-index:9;pointer-events:none;opacity:0;white-space:nowrap;color:#ff2ea6;background:#fff;border-radius:.8rem;padding:.5rem;font-family:monospace;font-size:.8em;transition:transform .1s,opacity .1s;position:absolute;top:0;left:50%;transform:translate(-50%)translateY(calc(2rem - 100%))}.m.Q{opacity:1;transition:transform .3s,opacity .3s;transform:translate(-50%)translateY(-100%)}.m:before{content:"";border-top:.5rem solid #fff;border-left:.5rem solid #0000;border-right:.5rem solid #0000;width:0;height:0;position:absolute;top:100%;left:50%;transform:translate(-50%)}.c{place-items:center;width:100%;height:100%;transition:transform .3s;display:grid}.c svg{color:currentColor;width:75%;height:75%}.c.v{transform:rotate(180deg)}.c.b{transform:rotate(270deg)}.c.n{transform:rotate(90deg)}.t .c{opacity:.15;z-index:-1;position:absolute;top:0}.r2{flex-direction:column;justify-self:start;gap:.25rem;display:flex}.t2:before{content:"⏳ "}.y2,.u2{color:#9ab;gap:.4rem;font-size:.8em;display:flex}.y2>*{gap:.25rem;display:flex}.y2>.i2{color:green}.y2>.o2{color:orange}.y2>.p2{color:red}.x{padding:.5rem 1rem;transition:transform 1s ease-in,opacity 1.5s linear;position:absolute;top:0;right:0}.a2{place-items:center;display:grid}.s2{color:#f0f0f0;text-align:center;z-index:50;background:#000000f2;grid-template-rows:1fr min-content;width:100%;height:100%;transition:transform .5s,opacity .5s;display:grid;position:absolute;bottom:0;left:0}.s2:not(.d2){opacity:0;pointer-events:none;transform:translateY(100%)}.s2 .f2{display:grid;overflow:hidden auto}.s2 .f2.g2{align-content:start}.a2{padding:1rem 1rem 2rem}.A{place-items:center;display:grid}.S,.D{justify-content:center;align-items:center;gap:2rem;display:flex}.S{flex-direction:column}.A{color:#e653a6;-webkit-hyphens:auto;hyphens:auto;width:min(30vh,40vw);height:min(30vh,40vw);padding:.25rem;transition:transform .3s,opacity .3s}@media (min-height:750px){.A{font-size:1.5em}}.A.F{transform:translateX(var(--t-x,0))scale(1.2);pointer-events:none}.A .t{pointer-events:none;width:60%}.G{max-width:90vw;font-size:1.2em;transition:transform .3s,opacity .3s}.G:not(.H){opacity:.7;transform:scale(.6)}.G:before{content:"💡 "}.I{place-items:center;display:grid;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.O{gap:1rem;width:fit-content;height:fit-content;display:grid;position:relative}@media (orientation:landscape){.O{justify-items:center}}@media (max-height:700px){.O{font-size:.9em}}.O>*{transition:opacity .3s}.O button{position:relative}.I{z-index:6;text-align:center;gap:.5rem}.P{font-size:.8em}</style></head><body><script>function n({tag:n,t:t,text:e,o:o,i:r}={},c=[]){const i=document.createElement(n||"div");t&&(Array.isArray(t)||(t=t.split(" ")),i.classList.add(...t.filter(Boolean)));for(let n of c)n&&i.append(n);return o&&(i.innerHTML+=o),e&&i.append(e),r&&i.addEventListener("click",r),i}function t(t,e=[]){return n({tag:"button",...t},e)}function e(n){n.style.transform=""}const o=new class{u={};subscribe(n,t){this.u[n]||(this.u[n]=[]),this.u[n].push(t)}unsubscribe(n,t){if(!this.u[n])return;const e=this.u[n].indexOf(t);e>=0&&this.u[n].splice(e,1)}l(n,t){this.u[n]&&this.u[n].forEach(n=>n(t))}},r=[,,,,,,,,3,0],c=Object.values({m:4,C:5,h:6,p:7}),i=Object.values({v:8,M:9});function s(n){return c.includes(n)}function u(n){return i.includes(n)}const a=[...c,...i],l=1,f=2,d=3,p="B",h=Object.values({S:0,P:1,O:2,k:3}),g=h.filter(n=>0!==n);function m(n){return g.includes(n)}function v(n,t){return n.A===t.A&&n.L===t.L}function L(n,t){return[n.A-t.A,n.L-t.L]}function y(n,t){const[e,o]=L(n,t);return[Math.abs(e),Math.abs(o)]}const w=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],b={4:[-1,0],7:[0,1],5:[1,0],6:[0,-1]},x=Object.values(b);function M(n,t=0){return(t?w:x).map(t=>A(n,t))}function A(n,[t,e]){return{A:n.A+t,L:n.L+e}}function W(n,t){const[e,o]=L(t,n);for(let[n,[t,r]]of Object.entries(b))if(e===t&&o===r)return n;return null}function G(n,t){return A(n,b[t])}function B(n){return new Promise(t=>setTimeout(t,n))}async function H(n){if(!(n<0))return await B(n),new Promise(n=>requestAnimationFrame(()=>n()))}const R="mxlle13";function O(n,t){localStorage.setItem(R+"."+n,t)}function C(n){return localStorage.getItem(R+"."+n)}function N(n){return{0:"E",3:"R",2:"T",1:"Y"}[n]}const j={};function k(t){return j[t]??=n({t:"t"},[n({t:["W",E(t)&&"E"],o:'<svg xmlns="http://www.w3.org/2000/svg" color="#ff2ea6" viewBox="0 0 500 500"><path d="M340 25c-24 10-21 53-49 50-23-6-46-5-68 1-23-6-17-47-42-47-12 16-10 38-17 56-7 33-20 69-5 102 5 19 26 30 30 47-5 23-25 39-31 62-10 22-17 45-24 68-28-13-51-41-48-73-4-23 27-35 24-58-20-16-47 15-55 34-19 51 10 111 56 137 21 8 26 31 34 49 15 20 43 22 66 20 44-2 90 3 134-3 32-12 42-51 38-81-4-57-27-109-54-158 18-20 39-41 40-70 3-42-15-81-21-122-2-5-4-10-8-14Z"/><path d="m378 157 64-14 1 6-63 14zM378 170l67 3v5l-67-3zM145 157l-64-13-2 4 65 14zM144 170l-66 3v5l66-3z"/><ellipse cx="312" cy="145" fill="currentColor" rx="28" ry="22"/><ellipse cx="312" cy="145.1" rx="7" ry="19"/><ellipse cx="216" cy="145" fill="currentColor" rx="28" ry="22"/><ellipse cx="216" cy="145.1" rx="7" ry="19"/></svg>'})])}function E(n){return 0===n}function S(n){return h.includes(n)}const T=Object.values({I:4,D:5,$:6}),X={A:0,L:0};function V(n){return T.includes(n)}function $(n){return 4===n}const P={};function U(n){return{A:Math.floor((n-1)/2),L:Math.floor((n-1)/2)}}const I=[,,,,"⏳🌜","⏳5!"];function q(n){return n[Math.floor(Math.random()*n.length)]}const F={0:"Start",1:"New game",5:"Try again",25:"Retries",2:"Continue",3:"Difficulty",4:"Moves",6:"What would you like to add next?",7:"New action",8:"New rule",9:"Kitten personality",10:"Will run to the moon",11:"Will run around the tree",12:"Will run to the water",13:"Lures the kittens closer",14:"Do nothing",15:"Once the moon sets, darkness falls",16:"Unite all kittens before the moon sets!",17:"...",18:"Your choice",19:"United!",20:"Oh no!",21:"Meow",22:"Wait",23:"Loading...",24:"Hint",26:"",27:"Skip tutorial",28:" ",29:" ",30:"Share/load game"};function _(n){return document.documentElement.setAttribute("lang","en"),F[n]}const Z=[...g,...i,...Object.values({T:4,j:5})];function K(n){return tn().includes(n)}function Y(){return K(4)}function D(){return Y()}function z(){return K(5)}const J=[,12,11,10,15,16,,,13,14],Q={3:[4],1:[8],9:[2],5:[4,8,9]};let nn;function tn(){return void 0===nn&&(nn=C("k")?.split(",").map(Number)??[]),nn}function en(){const n=tn();return Z.filter(t=>!n.includes(t)).filter(t=>!Q[t]||Q[t].every(t=>n.includes(t)))}function on(){return en().length>0}function rn(n){return 8===n?"💬 "+_(21):"💤 "+_(22)}function cn(n){let t,e,o;for(o=n.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),e=n[o],n[o]=n[t],n[t]=e;return n}function sn(n){return Array.from({length:n},()=>"●").join("")}function un(n,t){const e=n.W[0];return e?u(t)?K(t)?0===In(n,t):0:Un(n,G(e,t),0):0}function an(n,t,e){const o=n.W[t];return v(o,e)?o:M(o).filter(e=>Un(n,e,t)).sort((n,t)=>{const[o,r]=y(n,e),[c,i]=y(t,e),s=o+r,u=c+i;return s===u?Math.max(o,r)-Math.max(c,i)||n.A-t.A||n.L-t.L:s-u})[0]??o}function ln(n,t,e,o){const r={...n.W[t]};if(!K(t))return r;let c={...r};switch(t){case 3:c=function(n){const t=n.W[4];return t?an(n,3,t):n.W[3]}(n);break;case 2:c=function(n){const t=n.W[2],e=n.W[5];if(e){const o=M(e,1),r=o.findIndex(n=>v(n,t));return-1!==r?o[(r+1)%o.length]:an(n,2,e)}}(n);break;case 1:c=function(n){const t=n.W[6];return t?an(n,1,t):n.W[1]}(n)}return v(c,e)&&v(r,o)&&(c=r),c}function fn(n,t){const e=n.W[0];if(!e)return n.W;const o=Xn(n,e),r=Vn(n,e);let c;if(u(t)&&(c=function(n,t){const e=jn(n.W),o=n.W[0];if(8===t){const t=Vn(n,o);for(const r of t)e[r]=an(n,r,o)}return e}(n,t)),8!==t){if(c=jn(n.W),s(t)){c[0]=function(n,t,e){const o=G(n.W[0],e);return Un(n,o,0)?o:n.W[0]}(n,0,t);for(const n of o)c[n]={...c[0]}}for(const t of r)c[t]=ln(n,t,e,c[0])}return c[4]=function(n){const t=n.W[4];if(!t||!Y())return t;const e=n.R.N;return t&&t.L<e?{...t,L:t.L+1}:t}(n),c}let dn=1;const pn=42;function hn(n,t={U:0}){const e=gn(Bn(n),t),o=function(n,t){const e=t.B.length;return e<=1?3:e<8?2:1}(0,e);return{H:e.H,B:cn(e.B),_:o}}function gn(n,t){const e=n.V;if(0===e.length?dn=1:dn++,Sn(n))return{H:0,B:[e]};if(Tn(n)||e.length>=5)return{H:pn,B:[e]};let o={H:pn,B:[]};for(const r of function(n){return[...a].filter(t=>un(n,t))}(n)){if(!un(n,r))continue;const c=En(n);c.V=[...e,r],c.W=jn(fn(c,r));const i=gn(c,t),s=i.H+1;o.H=Math.min(s,o.H),s<pn&&(t.U||s===o.H)?o.B=[...o.B,...i.B]:s<pn&&(o.B=[...i.B])}return e.length,o}const mn=C("o"),vn={Y:void 0,F:mn?Number(mn):0,G:void 0,K:void 0,language:"en",Z:0},Ln="🟣0🔵0🟢0🟡0🌙0🌳0💧".split(0);function yn(n,t){const e=Nn();e[4]={...X};for(let t=0;t<n.length;t+=4){const o=n.slice(t,t+2),r=Object.entries(Ln).find(([,n])=>n===o)?.[0];e[r]={A:+n.charAt(t+2),L:+n.charAt(t+3)}}t?.J&&(e[4]=null);const o={N:5,X:e,B:[]};if(t?.nn)return o;const r=hn(o,{U:1});return{...o,B:r.B,_:r._}}function wn(){return-1!==vn.F}const bn=["🟣11🟡21🟢21🔵21","🟣12🟡32🟢31🔵32🌳22💧21","🟣11🟡32🟢31🔵33🌳23💧21🌙12"],xn=[3,4,5];let Mn;function An(){if(Mn)return Mn;const n=yn(bn[2],{nn:1});return Mn=n.X,Mn}function Wn(t){return V(t)?function(t){return P[t]??=function(t){const e=n({t:"y"}),o=n({t:""+{5:"J",6:"K",4:"L"}[t]});return e.append(o),e}(t)}(t):k(t)}function Gn(n,t){return V(t)?wn()?n.X[t]:$(t)&&!D()?null:An()[t]:U(n.N)}function Bn(n){return{R:n,W:jn(n.X),V:[]}}function Hn(n){return n?Rn(n.R):null}function Rn(n){const t=n.N,e=n.X[4];return e?t-e.L:pn}function On(n,t){return n.N-t}const Cn=[...h,...T];function Nn(){return Cn.reduce((n,t)=>(n[t]=null,n),{})}function jn(n){return Cn.reduce((t,e)=>(t[e]=n[e]?{...n[e]}:null,t),{})}function kn(n){return{N:n.N,X:jn(n.X),B:n.B.map(n=>[...n])}}function En(n){return{R:kn(n.R),W:jn(n.W),V:[...n.V]}}function Sn(n){if(!n)return 0;const t=n.W[0];return g.every(e=>{const o=n.W[e];return v(t,o)})}function Tn(n){return n&&z()?n.V.length>=Hn(n)&&!Sn(n):0}function Xn(n,t){return g.filter(e=>v(n.W[e],t))}function Vn(n,t){return g.filter(e=>!v(n.W[e],t))}function $n(n){return Pn(n.N).filter(t=>function(n,t){return Object.values(t.X).filter(Boolean).every(t=>!v(t,n))}(t,n))}function Pn(n){const t=[];for(let e=0;e<n;e++)for(let o=0;o<n;o++)t.push({A:e,L:o});return t}function Un(n,t,e){if(!function(n,t){const{A:e,L:o}=n;return e>=0&&e<t&&o>=0&&o<t}(t,n.R.N))return 0;const o=n.W[5],r=n.W[6];if(o&&v(t,o))return 0;const c=!!r&&v(t,r),i=S(e)&&E(e);return!c||!i}function In(n,t){const e=r[t],o=n.V.lastIndexOf(t),c=-1===o?0:e-(n.V.length-o);return Math.max(0,c)}let qn=new Set;function Fn(t,e,o){const r=function(t){return n({t:["m"],text:t})}(e);qn.add(r);const c=t.getBoundingClientRect();r.style.left=c.left+c.width/2+"px",r.style.top=c.top-r.offsetHeight+"px",document.body.appendChild(r),setTimeout(()=>r.classList.add("Q"),1),o&&setTimeout(()=>Zn(r),o)}function _n(){for(const n of qn)Zn(n)}function Zn(n){qn.delete(n),n.classList.remove("Q"),n.addEventListener("transitionend",()=>{n.remove()})}let Kn=0;const Yn={tn:"c",left:"v",sn:"b",cn:"n"},Dn={4:Yn.sn,5:Yn.cn,6:Yn.left,7:Yn.right};function zn(t){const e=n({t:`${Yn.tn} ${Dn[t]}`});return e.innerHTML='<svg fill="currentColor" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><path d="M133 231a8 8 0 0 1-5-7v-40H48a16 16 0 0 1-16-16V88a16 16 0 0 1 16-16h80V32a8 8 0 0 1 14-6l96 96a8 8 0 0 1 0 12l-96 96a8 8 0 0 1-9 1Z"/></svg>',e}function Jn(n,t){n.classList.remove(...Object.values(Dn)),n.classList.add(Dn[t])}const Qn={[l]:0,[f]:1,[d]:3};function nt(){const n=C("x");return n?parseInt(n):0}function tt(n=nt()){return n+" 🧶"}const et=n({t:"r2"}),ot=n({t:"t2"}),rt=n({t:"y2"}),ct=n({t:"u2"});let it=t({text:_(5),t:["a","e"],i:()=>{o.l(0,{rn:1})}});function st(n){it.classList.toggle("a",!n),it.classList.toggle("C",n),n&&it.focus()}function ut(t=0){const e=vn.G&&Y(),o=vn.G&&z();et.classList.toggle("p",!e);const r=Hn(vn.G),c=r&&o?" / "+(r<pn&&!t?r:"?"):"";ot.innerHTML=`${_(4)}: ${t?0:vn.G?.V.length??0}${c}`;const i=vn.G?.R._;rt.classList.toggle("p",!o||!i),rt.innerHTML=_(3)+": ",rt.append(t?"?":n({t:at[i],text:sn(i)})),ct.classList.toggle("p",0===vn.Z),ct.innerHTML=`${_(25)}: ${Array.from({length:vn.Z},()=>"I").join("")}`}const at={[l]:"i2",[f]:"o2",[d]:"p2"};async function lt(t,o,r=.5,c=0){const i=n({o:t,t:"x"}),s=o.getBoundingClientRect(),u=s.right-document.body.clientWidth,a=s.top-s.height/2,l=s.width*r*-1;i.style.setProperty("transform",`translate(calc(50% + ${u+l}px), calc(50% + ${a}px)) scale(2)`),i.style.setProperty("filter",`hue-rotate(${c}deg)`),document.body.append(i),await H(0),i.classList.add("a"),e(i),await B(500),B(500).then(()=>{i.remove()})}const ft=n({t:"Z"}),dt=n({t:"X"});let pt,ht;const gt=n({t:"w2"}),mt=[4,7,5,6],vt="hint",Lt={ArrowUp:4,ArrowDown:5,ArrowLeft:6,ArrowRight:7,w:4,a:6,s:5,d:7,e:8,q:9,F1:vt};function yt(){for(const n of mt){const t=vn.G&&!un(vn.G,n);Mt(n).disabled=t}}const wt={4:"N",7:"M",5:"_",6:"q2"};function bt(t){return n({tag:"kbd",text:Object.entries(Lt).find(([n,e])=>e===t&&n.length<=2)?.[0].toUpperCase()})}const xt={};function Mt(n){return xt[n]??=t({i:()=>Wt(n),t:["o",wt[n]]},[zn(n),bt(n)])}function At(e){return xt[e]??=t({i:()=>Wt(e)},[n({tag:"span"},[rn(e)]),bt(e)])}async function Wt(n){ht&&(ht.classList.remove("C"),ht=void 0),pt.disabled=0,await async function(n,t){if(!Kn&&void 0!==vn.G&&!Sn(vn.G)&&!Tn(vn.G)&&un(n,t)){Kn=1;try{_n(),n.V.push(t);const e=u(t)?async function(n,t){8===t&&(Fn(Wn(0),_(21),1500),await B(300))}(0,t):Promise.resolve();Xn(n,n.W[0]),n.W=fn(n,t),Xn(n,n.W[0]),await e,vn.K=fn(n,9);const r=Sn(n),c=Tn(n);ne(n,vn.K,r),(r||c)&&(await B(300),Fn(Wn(0),_(r?19:20)),o.l(2,{en:r}))}catch(n){}Kn=0}}(vn.G,n),ut(),Gt(),yt()}function Gt(){if(!vn.G)return;const n=In(vn.G,8);gt.innerHTML=""+(n||""),At(8).classList.toggle(p,n>0)}function Bt(){if(pt&&pt.classList.toggle("p",!vn.G||!z()),!vn.G)return;const n=i.some(n=>K(n));dt.classList.toggle("p",!n);for(const n of i)At(n).classList.toggle("p",!K(n))}function Ht(n){var t;ht=u(t=n)?At(t):Mt(t),ht.classList.add("C")}function Rt(n=5){const t=An(),e=Nn();for(const n of T)$(n)&&!D()||(e[n]={...t[n]});for(const t of h)e[t]=U(n);return{N:n,X:e,B:[]}}function Ot(n,t,e=0){let o=kn(n);o.X=function(n,t){const e=n.N,o=Pn(e),r=n=>0===n.A,c=o.filter(n=>!(n=>0===n.A||0===n.L||n.A===e-1||n.L===e-1)(n)),i=o.filter(n=>!r(n)),s=t.un?o.filter(r):[{...X,L:On(n,t.an)}],u=q(c),a=q(i.filter(n=>!v(n,u))),l=D()?q(s):null;return{...Nn(),5:u,6:a,4:l}}(o,t);const r=cn($n(o));h.forEach((n,t)=>{o.X[n]=r[t]??r[0]});let c,i=o.B;if(t.fn){const n=hn(o,{U:t.ln});if((n.H>t.an||n.H<3||n._>=3&&!(nt()>=100))&&e<13)return Ot(o,t,e+1);if(!t.ln&&n.H<t.an&&e<13){const r=n.H,u=kn(o),a={...X,L:On(u,r)},l=$n(u);if(s=a,!l.some(n=>v(n,s)))return Ot(o,t,e+1);u.X[4]=a;const f=hn(u);if(f.H!==r)return Ot(o,t,e+1);o=u,i=f.B,c=f._}else i=n.B,c=n._}var s;return{...o,X:o.X,B:i,_:c}}let Ct;const Nt=[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],jt={wn:[{dn:Nt,mn:[1,2,2,3,3,2,2,2,1],c:[{n:[122,,,,127,,,,122,,,,127,,,,122,,,,126,,,,122,,,,127],f:[]},{n:[127,,134,,126,,134,,127,,134,,127,,,,127,,134,,126,,134,,127,,134,,127],f:[]},{n:[127,122,127,122,126,122,126,122,127,122,127,122,127,,,,127,122,127,122,126,122,126,122,127,122,126,122,127],f:[]}]},{dn:Nt,mn:[,,2,1,1,2],c:[{n:[144,,141,141,142,,139,139,137,139,141,142,144,,,,144,144,141,141,142,142,139,139,137,,139,,137],f:[]},{n:[132,,129,129,130,,127,127,125,127,129,130,132,,,,132,132,129,129,130,130,127,127,125,,127,,125],f:[]}]}],Cn:22050,hn:32,pn:8,vn:2},kt={wn:[{dn:Nt,mn:[1],c:[{n:[135,139,142,147],f:[]}]}],Cn:11025,hn:16,pn:1,vn:1},Et={wn:[{dn:Nt,mn:[1],c:[{n:[129,126,123,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,129],f:[]}]}],Cn:11025,hn:16,pn:1,vn:1};var St=function(){var n,t,e,o,r,c=function(n){return.003959503758*2**((n-128)/12)},i=function(n,t,e){var o,r,i,u,a,l,f=s[n.dn[0]],d=n.dn[1],p=n.dn[3]/32,h=s[n.dn[4]],g=n.dn[5],m=n.dn[8]/32,v=n.dn[9],L=n.dn[10]*n.dn[10]*4,y=n.dn[11]*n.dn[11]*4,w=n.dn[12]*n.dn[12]*4,b=1/w,x=-n.dn[13]/16,M=n.dn[14],A=e*2**(2-n.dn[15]),W=new Int32Array(L+y+w),G=0,B=0;for(o=0,r=0;o<L+y+w;o++,r++)r>=0&&(r-=A,a=c(t+(15&(M=M>>8|(255&M)<<4))+n.dn[2]-128),l=c(t+(15&M)+n.dn[6]-128)*(1+8e-4*n.dn[7])),i=1,o<L?i=o/L:o>=L+y&&(i=(1-(i=(o-L-y)*b))*3**(x*i)),u=f(G+=a*i**p)*d,u+=h(B+=l*i**m)*g,v&&(u+=(2*Math.random()-1)*v),W[o]=80*u*i|0;return W},s=[function(n){return Math.sin(6.283184*n)}];this.init=function(c){n=c,t=c.pn,e=0,o=c.Cn*c.hn*(t+1)*2,r=new Int32Array(o)},this.yn=function(){var c,s,u,a,l,f,d,p,h,g,m,v,L,y,w=new Int32Array(o),b=n.wn[e],x=n.Cn,M=n.hn,A=0,W=0,G=0,B=[];for(u=0;u<=t;++u)for(d=b.mn[u],a=0;a<M;++a){var H=d?b.c[d-1].f[a]:0;H&&(b.dn[H-1]=b.c[d-1].f[a+M]||0,H<17&&(B=[]));var R=b.dn[20],O=43.23529*b.dn[21]*3.141592/44100,C=1-b.dn[22]/255,N=b.dn[24]/32,j=b.dn[25]/512,k=6.283184*2**(b.dn[26]-9)/x,E=b.dn[27]/255,S=b.dn[28]*x&-2;for(m=(u*M+a)*x,l=0;l<4;++l)if(f=d?b.c[d-1].n[a+l*M]:0){B[f]||(B[f]=i(b,f,x));var T=B[f];for(s=0,c=2*m;s<T.length;s++,c+=2)w[c]+=T[s]}for(s=0;s<x;s++)(g=w[p=2*(m+s)])||G?(W+=(v=1.5*Math.sin(v=O))*(L=C*(g-W)-(A+=v*W)),g=3==R?W:1==R?L:A,G=(g*=N)*g>1e-5,y=g*(1-(h=Math.sin(k*p)*j+.5)),g*=h):y=0,p>=S&&(y+=w[p-S+1]*E,g+=w[p-S]*E),w[p]=0|y,w[p+1]=0|g,r[p]+=0|y,r[p+1]+=0|g}return++e/n.vn},this.bn=function(){var n=44+2*o-8,t=n-36,e=new Uint8Array(44+2*o);e.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var c=0,i=44;c<o;++c){var s=r[c];s=s<-32767?-32767:s>32767?32767:s,e[i++]=255&s,e[i++]=s>>8&255}return e}};let Tt,Xt=0,Vt=0;function $t(n){return new Promise(t=>{const e=setInterval(()=>{n.yn()>=1&&(clearInterval(e),t())},0)})}function Pt(){return Xt=!Xt,function(n=Xt){const t=!Tt.paused&&!Tt.ended;n&&!t?Tt.play():!n&&t&&Tt.pause()}(),O("m",Xt?"false":"true"),Xt}let Ut=0;const It=n({t:"O"});function qt(e=0){var r;r=function(e=0){const r=Sn(vn.G)&&vn.G.V.length<=Hn(vn.G),c=!e&&z()&&!r,i=r?function(){if(!vn.G)return 0;const n=vn.G.R._,t=n?Qn[n]:0,e=z()?Rn(vn.G.R)-vn.G.V.length:0;return 10+-1*vn.Z+t+e}():0,s=n({t:"I"});o.subscribe(1,()=>{s.remove()});const u=t({text:_(e?0:c?1:2),t:"q",i:async()=>{r&&await async function(n,t){B(500).then(()=>{o.l(6,t)}),await async function(n,t){const e=500/n;for(let o=0;o<n;o++){const r=o/n;lt("🧶",t,.5+(o%2==0?-1:1)*r*.3,360*r),await H(e)}}(t,n)}(u,i),o.l(0,{rn:0}),s.remove(),ct.classList.toggle("p",1)}});if(s.append(u),r){const t=n({text:"+"+tt(i),t:"P"});s.append(t)}if(c){const n=t({text:_(5),t:"q",i:()=>{o.l(0,{rn:1}),s.remove()}});u.classList.remove("q"),s.append(n)}return s}(e),ft.append(r),ft.classList.toggle(p,1),dt.classList.toggle("a",1),pt.classList.toggle("a",1),r.querySelector("button.q").focus()}let Ft,_t,Zt;const Kt=[];async function Yt(r){const c=on();let i=0;Sn(vn.G)&&!r.rn&&function(){if(!wn())return void(vn.Y=void 0);vn.Y=vn.F;let n=vn.F+1;n>2&&(n=-1),vn.F=n,O("o",n.toString())}(),!c||wn()||r.rn||(i=await async function(){let r;const c=n({t:"S"}),i=n({text:_(6)});c.append(i);const s=n({t:"G",text:_(17)}),a=t({text:_(27),t:"e",i:()=>{r=1,Ct?.close(1)}}),l=n({t:"D"}),f=function(){const n=en();return cn(n),n.slice(0,2)}(),d=f.map((n,o)=>function(c){const d=S(c)?9:u(c)?7:8;let p;S(c)&&(p=k(c).cloneNode(1),e(p));const h=t({t:"A",text:_(d),i:t=>{S(c)?p.classList.add(N(c)):t.target.innerHTML=u(c)?rn(c):I[c],function(t){if(r)return;a.remove(),s.innerHTML=_(J[n]),s.classList.add("H"),i.innerHTML=_(18),r=n,Ct&&Ct.xn.classList.remove("a");const e=t.target,c=0===o?l.lastElementChild:l.firstElementChild;2===f.length&&(e.style.setProperty("--t-x",0===o?"calc(50% + 1rem)":"calc(-50% - 1rem)"),c.classList.add("a")),e.classList.add("F")}(t)}});return p&&h.append(p),h}(n));return l.append(...d),c.append(l,s,a),Ct=function(e){const r=n({t:"s2",i:n=>n.stopPropagation()}),c=n({t:"f2"},[e]);function i(n){r.classList.remove("d2"),o.l(5,n)}const s=t({text:_(2),t:"q",i:()=>i(1)});return r.append(c,n({t:"a2"},[s])),document.body.appendChild(r),{open:()=>(B(0).then(()=>r.classList.add("d2")),c.classList.toggle("g2",c.scrollHeight>c.clientHeight),new Promise(n=>{o.subscribe(5,n)})),close:n=>{i(n)},xn:s,destroy:()=>{r.remove()}}}(c),Ct.xn.classList.add("a"),Ct.open().then(n=>(n&&r&&function(n){const t=tn(),e=[...new Set([...t,...n])];O("k",e.join(",")),nn=e}(1==r?Z:[r]),B(600).then(()=>Ct?.destroy()),n&&r||0))}()),_n(),document.body.classList.remove("i"),_t&&vn.F!==vn.Y&&void 0!==vn.Y&&2!==vn.Y&&(_t.remove(),_t=void 0,Zt?.remove(),Zt=void 0);const s=function(){const n=vn.F,t=bn[n];if(!t)return;const e=yn(t,{nn:1,J:1});return{Mn:{N:xn[n],X:e.X,B:[]},gn:0===n?5:void 0}}();let a=function(n,t){if(n.Sn){let t;try{t=yn(n.Sn)}catch(n){}if(t)return t}let e;return e=n.rn&&vn.G?vn.G.R:t?t.Mn:null,e}(r,s);null===a&&(a=await async function(t=5){const e=async function(n=5){await B(0);const t=Rt(n),e=Math.random()<.8,o=Math.random()<.2;return{...Ot(t,{fn:z(),un:0,ln:e,an:o?4:5})}}(t),o=async function(){if(!_t)return;const t=n({t:"h",text:_(23)});_t.append(t);for(let n=0;n<2;n++){const n=Bn(Ot(Rt(),{fn:0,un:1,ln:1,an:5})),t=fn(n,9);await Qt(n,t,0,1),await H(300)}t.remove()}(),[r]=await Promise.all([e,o]);return r}()),vn.Z=r.rn?vn.Z+1:0,await async function(n,t,e,r){vn.G=Bn(n),vn.K=fn(vn.G,9),document.body.style.setProperty("--s-cnt",n.N.toString()),o.l(1),_t||(_t=Jt(n.N),Dt(),await H(300)),await Qt(vn.G,vn.K,0,r)}(a,0,0,!r.rn),function(n,t){n?.gn?Ht(n?.gn):t&&u(t)&&Ht(t)}(s,i)}function Dt(){_t&&(Ft||(Ft=n({t:"j"}),document.body.append(Ft),Ft.addEventListener("scroll",()=>{_n()})),Ut||(o.subscribe(2,()=>{It&&qt()}),o.subscribe(0,()=>{ut(1)}),o.subscribe(1,async()=>{await B(0),st(0),ut(),pt.disabled=0,Gt(),Bt(),yt(),ft.classList.toggle(p,0),dt.classList.toggle("a",0),pt.classList.toggle("a",0)}),document.addEventListener("keydown",n=>{const t=Lt[n.key];if(t)if(n.preventDefault(),function(...n){document.body.classList.add(...n)}("e2"),ft.classList.contains(p)){if(s(t)){const n=ft.querySelectorAll("& div button:not(.p)").values().toArray(),t=n.indexOf(document.activeElement);n[(t+1)%n.length]?.focus()}}else t===vt?pt.click():Wt(t)}),Ut=1),It.append((et.append(ot,rt,ct,it),et),(ft.innerHTML="",ft.append(...mt.map(Mt)),yt(),ft),function(){dt.innerHTML="";const n=At(8);return n.append(gt),dt.append(n,At(9)),dt}(),pt??=t({t:"w",i:async()=>{if(!vn.G)return;pt.disabled=1,await lt(tt(-5),pt),o.l(6,-5);const n=function(){const n=(e=vn.G,e.R.B.filter(n=>e.V.every((t,e)=>n[e]===t)).map(n=>n.slice(e.V.length))).map(n=>n[0]),t={};var e,o;return n.forEach(n=>{t[n]=(t[n]||0)+1}),(o=n,o.filter((n,t)=>o.indexOf(n)===t)).sort((n,e)=>t[e]-t[n])[0]}();void 0!==n?Ht(n):st(1)}},[_(24)," ",tt(-5),bt(vt)])),Bt(),ut(),vn.G||wn()||qt(1),Zt=It,Ft.append(_t,Zt))}function zt(n){return Kt[n.A]?.[n.L]}function Jt(t){const e=n({t:"k"});Kt.length=0;for(let o=0;o<t;o++){const o=[],r=n({t:"l"});e.append(r);for(let e=0;e<t;e++){const t=n({t:"r"});r.append(t),o.push(t)}Kt.push(o)}return e}async function Qt(n,t,o,r){for(const t of Cn){const o=Wn(t),c=Gn(n.R,t);if(c){const n=zt(c);n.contains(o)?r&&e(o):n.append(o),S(t)&&o.classList.toggle(N(t),!m(t)||K(t))}}o||await H(300),ne(n,t)}function ne(n,t,e=0){for(const o of Cn){const r=Wn(o),c=Gn(n.R,o),i=n.W[o];if(null===c||null===i)continue;const[s,u]=L(i,c);if(r.style.transform=`translate(${100*u}%, ${100*s}%)`,$(o)){const t=!Un(n,i,4)&&!e;document.body.classList.toggle("u",t),r.classList.toggle("a",t)}if(g.includes(o)&&t){const n=t[o],e=n?W(i,n):void 0,c=r.querySelector("."+Yn.tn);e?c?Jn(c,e):r.append(zn(e)):c?.remove()}}}let te,ee,oe,re;async function ce(n){const t=new St;t.init(n),await $t(t);const e=t.bn();return URL.createObjectURL(new Blob([e],{type:"audio/wav"}))}const ie="true"===C("m");let se=0;function ue(n=nt()){re.innerText=tt(n)}(async()=>{(function(){if(se)return;se=1;const e=n({t:"f"});oe=n({t:"d",text:"Kittens United"}),e.append(oe);const r=n({t:"g"}),c=t({text:"📂",i:()=>{const n=vn.G?(t=vn.G.R,Object.entries(t.X).map(([n,t])=>t?`${Ln[n]}${t.A}${t.L}`:"").join("")):"";var t;const e=window.prompt(_(30),n);e&&Yt({Sn:e,rn:0})},t:["o","w"]});function i(){c.classList.toggle("a",on())}r.append(c),i();{const n=t({text:ie?"🔇":"🔊",i:n=>{const t=Pt();n.target.textContent=t?"🔊":"🔇"},t:["o","w"]});r.append(n)}re=n(),ue(),r.append(re),e.append(r),document.body.append(e),wn()||location.hash.length>1?Yt({rn:0}):async function(){if(_t)return;_t=Jt(5);const n=Bn(Rt());await Qt(n,void 0,1,1),Dt()}(),o.subscribe(0,n=>{Yt(n)}),o.subscribe(2,n=>{n.en&&document.body.classList.add("i"),i();{const t=n.en?te:ee;t&&function(n,t=1){const e=new Audio(n);e.preload="auto",e.preservesPitch=0,e.playbackRate=t,e.play().catch(()=>{}),new Promise(n=>{e.addEventListener("ended",()=>n()),e.addEventListener("error",()=>n())})}(t)}}),o.subscribe(6,n=>{!function(n){nt();const t=function(n){const t=nt()+n;return O("x",t.toString()),t}(n);ue(t)}(n)})})(),await B(0),await async function(n){const t=new St;t.init(jt),await $t(t);const e=t.bn(),o=URL.createObjectURL(new Blob([e],{type:"audio/wav"}));Tt=new Audio(o),Tt.loop=1,Tt.volume=.5,document.addEventListener("visibilitychange",()=>{Tt.muted=document.hidden}),document.addEventListener("click",()=>{Vt||(Vt=1,!n&&Pt())})}(ie),await async function(){te||(te=await ce(kt)),ee||(ee=await ce(Et))}()})()</script>