<title>Earth Destroyer - js13kGames 2014</title><style>.sprite{display:inline-block;overflow:hidden;background-repeat:no-repeat;background-image:url(images/sprite.png);text-indent:-99999em}.asteroid-2{width:25px;height:25px;background-position:-655px -59px}.asteroid{width:25px;height:25px;background-position:-628px -59px}.bottom-panel{width:595px;height:40px;background-position:-2px -86px}.btn-pause{width:190px;height:40px;background-position:-599px -86px}.btn-start{width:231px;height:55px;background-position:-791px -2px}.explosion-asteroid{width:25px;height:25px;background-position:-601px -59px}.explosion-ship{width:18px;height:12px;background-position:-682px -59px}.explosion{width:50px;height:50px;background-position:-601px -2px}.planet{width:50px;height:50px;background-position:-653px -2px}.player{width:35px;height:35px;background-position:-828px -59px}.ship{width:18px;height:12px;background-position:-702px -59px}.tag-avoid{width:46px;height:38px;background-position:-722px -42px}.tag-dest{width:70px;height:38px;background-position:-705px -2px}.tag-you{width:35px;height:38px;background-position:-791px -59px}.title{width:597px;height:82px;background-position:-2px -2px}body{background:#000;color:#666;font:12px Arial,sans-serif}#canvasHolder{background:#181818 url('images/loader.gif') center center no-repeat;border:10px solid #1f1f1f;width:800px;margin:50px auto 10px;height:600px;position:relative}canvas{position:relative;cursor:crosshair}#startGame{position:absolute;top:50%;left:50%;margin-left:-115px;margin-top:40px;cursor:pointer;visibility:hidden}.copy{width:800px;margin:0 auto 50px}</style><div id=canvasHolder><canvas id=myCanvas width=800 height=600></canvas><div id=startGame class="sprite btn-start" onclick=hideButton(),Game.startScreen(!0)>Begin Conquest!</div></div><p class=copy>Created by Jamie Hayman</p><script>function getMousePos(t,i){var s=t.getBoundingClientRect();document.documentElement;return{x:i.clientX-s.left,y:i.clientY-s.top}}function hideButton(){document.getElementById("startGame").style.visibility="hidden"}function showButton(){document.getElementById("startGame").style.visibility="visible"}var Asteroid=function(t){this.id=Utils.getId(),this.type="asteroid",this.x=canvas.width+100,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.direction=Math.floor(2*Math.random())+0,this.width=25,this.height=this.width,this.speed=Math.floor(51*Math.random()+10),this.damage=Math.floor(Math.random()*(35+this.speed-10+1)+10),this.image=new Image,this.image.src="images/sprite.png",this.image.positions=Asteroid.getImage(),this.image.asteroidx=this.image.positions[0],this.image.asteroidy=this.image.positions[1],this.image.tagx=722,this.image.tagy=42,this.updateCounter=1,this.first=t,this.collided=!1};Asteroid.imageArray=[],Asteroid.getImage=function(){return Math.floor(2*Math.random())+0==1?(Asteroid.imageArray[0]=655,Asteroid.imageArray[1]=59):(Asteroid.imageArray[0]=628,Asteroid.imageArray[1]=59),Asteroid.imageArray},Asteroid.prototype.update=function(){_this=this,this.x-=.1*this.speed,1===this.direction?this.y-=.5:this.y+=.5,this.x<=-50&&this.destroy(),!0===this.collided&&(this.image.planetx=601,this.image.planety=59),Game.collisionDetection(this),this.updateCounter++},Asteroid.prototype.draw=function(){1===this.first&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,46,38,this.x-10,this.y-this.height-25,46,38),!1===this.collided?canvas.ctx.drawImage(this.image,this.image.asteroidx,this.image.asteroidy,this.width,this.height,this.x,this.y,this.width,this.height):canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Asteroid.prototype.destroy=function(){Game.removeObject(this)},_canvas=document.getElementById("myCanvas"),canvas={ctx:_canvas.getContext("2d"),width:_canvas.width,height:_canvas.height},currentMousePos={x:0,y:0};var Game={_toUpdate:[],_toDraw:[],asteroidTimer:null,shipTimer:null,starPositionX:20,starPositionY:15,playerOne:null,playerScore:0,playerMultiplier:0,textToScreen:0,startScreen:function(t){!0===t?this.init():Home.init()},gameOver:function(){console.log("dead"),gameoverED=!0,GameOver.init(this.playerScore,playerOne.multiplier,this.playerScore*playerOne.multiplier)},init:function(){var t=new Asteroid(1),i=new Planet(1),s=new Ship(1);playerOne=new Player,this._toUpdate.push(i,t,s),this._toDraw.push(i,t,s),this._renderLoop()},_renderLoop:function(){var t=this;gameoverED||(requestAnimationFrame(function(){t._renderLoop()}),this._updateAll(),this._drawAll())},_updateAll:function(){var t=this;null===this.asteroidTimer&&(this.asteroidTimer=setTimeout(function(){t.newAsteroid(),clearTimeout(t.asteroidTimer),t.asteroidTimer=null},5e3));for(var i=0,s=this._toUpdate.length;i<s;i++)this._toUpdate[i].update();this.playerScore=playerOne.score,this.textToScreen="LIVES DESTROYED: "+this.playerScore+" (MILLION) x "+playerOne.multiplier+" (BONUS)",playerOne.update()},_drawAll:function(){if(canvas.ctx.clearRect(0,0,canvas.width,canvas.height),!gameoverED){canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,1)",canvas.ctx.fillRect(1*this.starPositionX,1*this.starPositionY,2,2),canvas.ctx.fillRect(2*this.starPositionX,21*this.starPositionY,3,3),canvas.ctx.fillRect(3*this.starPositionX,3*this.starPositionY,2,2),canvas.ctx.fillRect(4*this.starPositionX,27*this.starPositionY,3,3),canvas.ctx.fillRect(5*this.starPositionX,39*this.starPositionY,2,2),canvas.ctx.fillRect(6*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(7*this.starPositionX,17*this.starPositionY,3,3),canvas.ctx.fillRect(8*this.starPositionX,37*this.starPositionY,2,2),canvas.ctx.fillRect(9*this.starPositionX,32*this.starPositionY,3,3),canvas.ctx.fillRect(10*this.starPositionX,23*this.starPositionY,2,2),canvas.ctx.fillRect(11*this.starPositionX,35*this.starPositionY,3,3),canvas.ctx.fillRect(12*this.starPositionX,4*this.starPositionY,3,3),canvas.ctx.fillRect(13*this.starPositionX,7*this.starPositionY,2,2),canvas.ctx.fillRect(14*this.starPositionX,11*this.starPositionY,3,3),canvas.ctx.fillRect(15*this.starPositionX,30*this.starPositionY,2,2),canvas.ctx.fillRect(16*this.starPositionX,20*this.starPositionY,3,3),canvas.ctx.fillRect(17*this.starPositionX,39*this.starPositionY,3,3),canvas.ctx.fillRect(18*this.starPositionX,8*this.starPositionY,2,2),canvas.ctx.fillRect(19*this.starPositionX,13*this.starPositionY,3,3),canvas.ctx.fillRect(20*this.starPositionX,18*this.starPositionY,3,3),canvas.ctx.fillRect(21*this.starPositionX,25*this.starPositionY,3,3),canvas.ctx.fillRect(22*this.starPositionX,26*this.starPositionY,3,3),canvas.ctx.fillRect(23*this.starPositionX,6*this.starPositionY,3,3),canvas.ctx.fillRect(24*this.starPositionX,2*this.starPositionY,2,2),canvas.ctx.fillRect(25*this.starPositionX,31*this.starPositionY,3,3),canvas.ctx.fillRect(26*this.starPositionX,34*this.starPositionY,2,2),canvas.ctx.fillRect(27*this.starPositionX,28*this.starPositionY,3,3),canvas.ctx.fillRect(28*this.starPositionX,36*this.starPositionY,3,3),canvas.ctx.fillRect(29*this.starPositionX,9*this.starPositionY,2,2),canvas.ctx.fillRect(30*this.starPositionX,14*this.starPositionY,3,3),canvas.ctx.fillRect(31*this.starPositionX,5*this.starPositionY,3,3),canvas.ctx.fillRect(32*this.starPositionX,38*this.starPositionY,3,3),canvas.ctx.fillRect(33*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(34*this.starPositionX,24*this.starPositionY,3,3),canvas.ctx.fillRect(35*this.starPositionX,33*this.starPositionY,2,2),canvas.ctx.fillRect(36*this.starPositionX,22*this.starPositionY,3,3),canvas.ctx.fillRect(37*this.starPositionX,23*this.starPositionY,3,3),canvas.ctx.fillRect(38*this.starPositionX,29*this.starPositionY,3,3),canvas.ctx.fillRect(39*this.starPositionX,19*this.starPositionY,3,3),canvas.ctx.restore();for(var t=0,i=this._toDraw.length;t<i;t++)this._toDraw[t].draw();playerOne.draw(),canvas.ctx.save(),canvas.ctx.fillStyle="#ccffff",canvas.ctx.font="bold 12px Arial",canvas.ctx.textAlign="left",canvas.ctx.fillText(this.textToScreen,20,canvas.height-20),canvas.ctx.textAlign="right",canvas.ctx.fillStyle="#cc3333",canvas.ctx.fillText("HEALTH: "+playerOne.health,canvas.width-20,canvas.height-20),canvas.ctx.restore()}},removeObject:function(t){for(var i=0,s=this._toDraw.length;i<s;i++)if(this._toDraw[i].id===t.id){this._toDraw.splice(i,1);break}for(i=0,s=this._toUpdate.length;i<s;i++)if(this._toUpdate[i].id===t.id){this._toUpdate.splice(i,1);break}switch(t.type){case"planet":this.newPlanet();break;case"asteroid":this.newAsteroid();break;case"ship":this.newShip();break;default:console.log("fail")}},newPlanet:function(){var t=new Planet;this._toUpdate.push(t),this._toDraw.push(t)},newAsteroid:function(){var t=new Asteroid;this._toUpdate.push(t),this._toDraw.push(t)},newShip:function(){var t=new Ship;this._toUpdate.push(t),this._toDraw.push(t)},collisionDetection:function(t){var i=playerOne.x+playerOne.width<t.x,s=playerOne.x>t.x+t.width,a=playerOne.y>t.y+t.height;if(!(playerOne.y+playerOne.height<t.y||a||s||i)&&!1===t.collided)switch(t.collided=!0,t.type){case"planet":playerOne.score=playerOne.score+t.population;break;case"asteroid":playerOne.health-=10,console.log(playerOne.health);break;case"ship":playerOne.multiplier=t.multiplier}}},GameOver={starPositionX:20,starPositionY:15,init:function(t,i,s){this.titleWidth=337,this.titleHeight=82,this.titleX=canvas.width/2-this.titleWidth/2,this.titleY=canvas.height/2-this.titleHeight/2-130,this.titleImage=new Image,this.titleImage.src="images/gameover.png",this.titleImageX=0,this.titleImageY=0,this.playerScore=t,this.playerMultiplier=i,this.playerTotal=s,this._renderLoop()},_renderLoop:function(){var t=this;requestAnimationFrame(function(){t._renderLoop()}),this._update(),this._draw()},_update:function(){},_draw:function(){canvas.ctx.clearRect(0,0,canvas.width,canvas.height),canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,.6)",canvas.ctx.fillRect(1*this.starPositionX,1*this.starPositionY,2,2),canvas.ctx.fillRect(2*this.starPositionX,21*this.starPositionY,3,3),canvas.ctx.fillRect(3*this.starPositionX,3*this.starPositionY,2,2),canvas.ctx.fillRect(4*this.starPositionX,27*this.starPositionY,3,3),canvas.ctx.fillRect(5*this.starPositionX,39*this.starPositionY,2,2),canvas.ctx.fillRect(6*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(7*this.starPositionX,17*this.starPositionY,3,3),canvas.ctx.fillRect(8*this.starPositionX,37*this.starPositionY,2,2),canvas.ctx.fillRect(9*this.starPositionX,32*this.starPositionY,3,3),canvas.ctx.fillRect(10*this.starPositionX,23*this.starPositionY,2,2),canvas.ctx.fillRect(11*this.starPositionX,35*this.starPositionY,3,3),canvas.ctx.fillRect(12*this.starPositionX,4*this.starPositionY,3,3),canvas.ctx.fillRect(13*this.starPositionX,7*this.starPositionY,2,2),canvas.ctx.fillRect(14*this.starPositionX,11*this.starPositionY,3,3),canvas.ctx.fillRect(15*this.starPositionX,30*this.starPositionY,2,2),canvas.ctx.fillRect(16*this.starPositionX,20*this.starPositionY,3,3),canvas.ctx.fillRect(17*this.starPositionX,39*this.starPositionY,3,3),canvas.ctx.fillRect(18*this.starPositionX,8*this.starPositionY,2,2),canvas.ctx.fillRect(19*this.starPositionX,13*this.starPositionY,3,3),canvas.ctx.fillRect(20*this.starPositionX,18*this.starPositionY,3,3),canvas.ctx.fillRect(21*this.starPositionX,25*this.starPositionY,3,3),canvas.ctx.fillRect(22*this.starPositionX,26*this.starPositionY,3,3),canvas.ctx.fillRect(23*this.starPositionX,6*this.starPositionY,3,3),canvas.ctx.fillRect(24*this.starPositionX,2*this.starPositionY,2,2),canvas.ctx.fillRect(25*this.starPositionX,31*this.starPositionY,3,3),canvas.ctx.fillRect(26*this.starPositionX,34*this.starPositionY,2,2),canvas.ctx.fillRect(27*this.starPositionX,28*this.starPositionY,3,3),canvas.ctx.fillRect(28*this.starPositionX,36*this.starPositionY,3,3),canvas.ctx.fillRect(29*this.starPositionX,9*this.starPositionY,2,2),canvas.ctx.fillRect(30*this.starPositionX,14*this.starPositionY,3,3),canvas.ctx.fillRect(31*this.starPositionX,5*this.starPositionY,3,3),canvas.ctx.fillRect(32*this.starPositionX,38*this.starPositionY,3,3),canvas.ctx.fillRect(33*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(34*this.starPositionX,24*this.starPositionY,3,3),canvas.ctx.fillRect(35*this.starPositionX,33*this.starPositionY,2,2),canvas.ctx.fillRect(36*this.starPositionX,22*this.starPositionY,3,3),canvas.ctx.fillRect(37*this.starPositionX,23*this.starPositionY,3,3),canvas.ctx.fillRect(38*this.starPositionX,29*this.starPositionY,3,3),canvas.ctx.fillRect(39*this.starPositionX,19*this.starPositionY,3,3),canvas.ctx.restore(),canvas.ctx.drawImage(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight),canvas.ctx.save(),canvas.ctx.fillStyle="#ccffff",canvas.ctx.font="bold 12px Arial",canvas.ctx.textAlign="center",canvas.ctx.fillText("People Killed (Millions)".toUpperCase(),canvas.width/2,250),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerScore,canvas.width/2,280),canvas.ctx.font="bold 12px Arial",canvas.ctx.fillText("Multiply By Space Ships Destroyed".toUpperCase(),canvas.width/2,310),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerMultiplier,canvas.width/2,340),canvas.ctx.font="bold 12px Arial",canvas.ctx.fillText("Total Score".toUpperCase(),canvas.width/2,370),canvas.ctx.font="bold 14px Arial",canvas.ctx.fillText(this.playerTotal,canvas.width/2,400),canvas.ctx.restore()}},Home={starPositionX:20,starPositionY:15,init:function(){this.titleWidth=597,this.titleHeight=82,this.titleX=canvas.width/2-this.titleWidth/2,this.titleY=canvas.height/2-this.titleHeight/2-30,this.titleImage=new Image,this.titleImage.src="images/sprite.png",this.titleImageX=2,this.titleImageY=2,this._updateHome(),this._drawHome()},_updateHome:function(){},_drawHome:function(){canvas.ctx.clearRect(0,0,canvas.width,canvas.height),canvas.ctx.save(),canvas.ctx.fillStyle="#181818",canvas.ctx.fillRect(0,0,canvas.width,canvas.height),canvas.ctx.restore(),canvas.ctx.save(),canvas.ctx.fillStyle="rgba(255,255,255,.6)",canvas.ctx.fillRect(1*this.starPositionX,1*this.starPositionY,2,2),canvas.ctx.fillRect(2*this.starPositionX,21*this.starPositionY,3,3),canvas.ctx.fillRect(3*this.starPositionX,3*this.starPositionY,2,2),canvas.ctx.fillRect(4*this.starPositionX,27*this.starPositionY,3,3),canvas.ctx.fillRect(5*this.starPositionX,39*this.starPositionY,2,2),canvas.ctx.fillRect(6*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(7*this.starPositionX,17*this.starPositionY,3,3),canvas.ctx.fillRect(8*this.starPositionX,37*this.starPositionY,2,2),canvas.ctx.fillRect(9*this.starPositionX,32*this.starPositionY,3,3),canvas.ctx.fillRect(10*this.starPositionX,23*this.starPositionY,2,2),canvas.ctx.fillRect(11*this.starPositionX,35*this.starPositionY,3,3),canvas.ctx.fillRect(12*this.starPositionX,4*this.starPositionY,3,3),canvas.ctx.fillRect(13*this.starPositionX,7*this.starPositionY,2,2),canvas.ctx.fillRect(14*this.starPositionX,11*this.starPositionY,3,3),canvas.ctx.fillRect(15*this.starPositionX,30*this.starPositionY,2,2),canvas.ctx.fillRect(16*this.starPositionX,20*this.starPositionY,3,3),canvas.ctx.fillRect(17*this.starPositionX,39*this.starPositionY,3,3),canvas.ctx.fillRect(18*this.starPositionX,8*this.starPositionY,2,2),canvas.ctx.fillRect(19*this.starPositionX,13*this.starPositionY,3,3),canvas.ctx.fillRect(20*this.starPositionX,18*this.starPositionY,3,3),canvas.ctx.fillRect(21*this.starPositionX,25*this.starPositionY,3,3),canvas.ctx.fillRect(22*this.starPositionX,26*this.starPositionY,3,3),canvas.ctx.fillRect(23*this.starPositionX,6*this.starPositionY,3,3),canvas.ctx.fillRect(24*this.starPositionX,2*this.starPositionY,2,2),canvas.ctx.fillRect(25*this.starPositionX,31*this.starPositionY,3,3),canvas.ctx.fillRect(26*this.starPositionX,34*this.starPositionY,2,2),canvas.ctx.fillRect(27*this.starPositionX,28*this.starPositionY,3,3),canvas.ctx.fillRect(28*this.starPositionX,36*this.starPositionY,3,3),canvas.ctx.fillRect(29*this.starPositionX,9*this.starPositionY,2,2),canvas.ctx.fillRect(30*this.starPositionX,14*this.starPositionY,3,3),canvas.ctx.fillRect(31*this.starPositionX,5*this.starPositionY,3,3),canvas.ctx.fillRect(32*this.starPositionX,38*this.starPositionY,3,3),canvas.ctx.fillRect(33*this.starPositionX,10*this.starPositionY,3,3),canvas.ctx.fillRect(34*this.starPositionX,24*this.starPositionY,3,3),canvas.ctx.fillRect(35*this.starPositionX,33*this.starPositionY,2,2),canvas.ctx.fillRect(36*this.starPositionX,22*this.starPositionY,3,3),canvas.ctx.fillRect(37*this.starPositionX,23*this.starPositionY,3,3),canvas.ctx.fillRect(38*this.starPositionX,29*this.starPositionY,3,3),canvas.ctx.fillRect(39*this.starPositionX,19*this.starPositionY,3,3),canvas.ctx.restore(),console.log(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight),canvas.ctx.drawImage(this.titleImage,this.titleImageX,this.titleImageY,this.titleWidth,this.titleHeight,this.titleX,this.titleY,this.titleWidth,this.titleHeight)}},Planet=function(t){this.id=Utils.getId(),this.type="planet",this.x=canvas.width+100,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.direction=Math.floor(2*Math.random())+0,this.width=50,this.height=this.width,this.population=Math.floor(26*Math.random()+10),this.speed=Math.floor(51*Math.random()+30),this.image=new Image,this.image.src="images/sprite.png",this.image.planetx=653,this.image.planety=2,this.image.tagx=705,this.image.tagy=2,this.updateCounter=1,this.first=t,this.collided=!1,this.particlesGenerated=!1,this.particleCount=10};Planet.prototype.update=function(){_this=this,this.x-=.1*this.speed,1===this.direction?this.y-=.5:this.y+=.5,this.x<-50&&this.destroy(),!0===this.collided&&(this.image.planetx=601,this.image.planety=2),Game.collisionDetection(this)},Planet.prototype.draw=function(){1===this.first&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,70,38,this.x-10,this.y-this.height,70,38),this.collided,canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Planet.prototype.destroy=function(){Game.removeObject(this)};var Player=function(){this.id="player",this.width=35,this.height=this.width,this.x=50,this.y=canvas.height/2-this.height,this.mousePosX=0,this.mousePosY=0,this.health=100,this.speed=5,this.image=new Image,this.image.src="images/sprite.png",this.image.playerx=828,this.image.playery=59,this.image.tagx=791,this.image.tagy=59,this.tagShowing=!0,this.updateCounter=1,this.multiplier=0,this.score=0};Player.prototype.update=function(){_this=this,(this.x+this.width<=currentMousePos.x||this.x-0>=currentMousePos.x)&&(this.x>currentMousePos.x?(this.x-=1*this.speed,this.mousePosX=currentMousePos.x):this.x<currentMousePos.x&&(this.x+=1*this.speed,this.mousePosX=currentMousePos.x)),(this.y+this.width<=currentMousePos.y||this.y-0>=currentMousePos.y)&&(this.y>currentMousePos.y?(this.y-=1*this.speed,this.mousePosY=currentMousePos.y):this.y<currentMousePos.y&&(this.y+=1*this.speed,this.mousePosY=currentMousePos.y)),this.updateCounter>=200&&!0===this.tagShowing&&(this.tagShowing=!1),this.updateCounter++,this.health<=0&&Game.gameOver()},Player.prototype.draw=function(){!0===this.tagShowing&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,35,38,this.x,this.y-this.height-20,35,38),canvas.ctx.drawImage(this.image,this.image.playerx,this.image.playery,this.width,this.height,this.x,this.y,this.width,this.height)},Player.prototype.destroy=function(){var t=this.id;Game.removeObject(t)};var Ship=function(t){this.id=Utils.getId(),this.type="ship",this.x=canvas.width+3e3,this.y=Math.floor(Math.random()*(canvas.height-50))+1,this.width=18,this.height=12,this.multiplier=Math.floor(4*Math.random()+2),this.speed=Math.floor(31*Math.random()+50),this.image=new Image,this.image.src="images/sprite.png",this.image.shipx=702,this.image.shipy=59,this.image.tagx=705,this.image.tagy=2,this.updateCounter=1,this.first=t,this.collided=!1};Ship.prototype.update=function(){_this=this,this.x-=.1*this.speed,this.x<-50&&this.destroy(),!0===this.collided&&(this.image.planetx=682,this.image.planety=59),Game.collisionDetection(this),this.updateCounter++},Ship.prototype.draw=function(){1===this.first&&canvas.ctx.drawImage(this.image,this.image.tagx,this.image.tagy,70,38,this.x-25,this.y-(this.height+40),70,38),!1===this.collided?canvas.ctx.drawImage(this.image,this.image.shipx,this.image.shipy,this.width,this.height,this.x,this.y,this.width,this.height):canvas.ctx.drawImage(this.image,this.image.planetx,this.image.planety,this.width,this.height,this.x,this.y,this.width,this.height)},Ship.prototype.destroy=function(){Game.removeObject(this)};var Utils={latestId:0,getId:function(){return this.latestId++,this.latestId}},gameoverED=!1;_canvas.addEventListener("mousemove",function(t){currentMousePos=getMousePos(_canvas,t)},!1),function(){for(var t=0,i=["ms","moz","webkit","o"],s=0;s<i.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[i[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[s]+"CancelAnimationFrame"]||window[i[s]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,s){var a=(new Date).getTime(),e=Math.max(0,16-(a-t)),o=window.setTimeout(function(){i(a+e)},e);return t=a+e,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),setTimeout(function(){Game.startScreen(),showButton()},1e3)</script>