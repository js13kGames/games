<!doctype html><title>Wake the Cat - js13kGames 2025</title><style>body{margin:0}</style><button id=vr style=position:fixed;right:0;bottom:0;padding:1rem;margin:.5rem;background:#0008;color:#fff;border:none;border-radius:8px;font-size:2rem;cursor:pointer>Enter VR</button><script type=module>import*as i from"/2025/webxr/three.js";import{Mesh as X,PlaneGeometry as q,MeshStandardMaterial as O,AmbientLight as I,DirectionalLight as L,FrontSide as Y,CapsuleGeometry as n,SphereGeometry as _,CylinderGeometry as r,ConeGeometry as W,TorusGeometry as o,DoubleSide as P,BoxGeometry as a,Group as B,Object3D as N}from"/2025/webxr/three.js";var e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const Xe of document.querySelectorAll('link[rel="modulepreload"]'))H(Xe);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&H(e)}).observe(document,{childList:!0,subtree:!0})}function H(e){var t,s;e.ep||(e.ep=!0,s={},(t=e).integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),s.credentials="use-credentials"===t.crossOrigin?"include":"anonymous"===t.crossOrigin?"omit":"same-origin",fetch(e.href,s))}const l=(e,t)=>e+Math.random()*(t-e),U=e=>e[Math.floor(Math.random()*e.length)];var Q=[],J=0;const K=e=>Q.push(e);function Z(s,n,r){var o=0;K(function e(t){t=(t-(o=o||t))/s,n(t=1<(t=t<0?0:t)?1:t),t<1?K(e):r&&r()})}function $(e,t,s){return s<e?e:t<s?t:s}function ee(e){return 3*e*e-2*e*e*e}function c(e){return 2*e-e*e}function te(e){return e*e}function p(e,t,s,n=null){return 1<(e=e<0?0:e)&&(e=1),(e=n?n(e):e)*s+(1-e)*t}function se(){return(new Date).getTime()}var ne=JSON.parse(localStorage.getItem("js13k2025-WakeTheCat"))||new Array(13).fill(0);const re=()=>ne.findIndex(e=>!e);function g(e,t=0,s=1,n=!0){var r=document.createElement("canvas");r.width=512,r.height=512;const l=r.getContext("2d");return l.fillStyle=t,l.fillRect(0,0,512,512),l.line=(e,t,s,n,r,o)=>{l.beginPath(),l.lineCap="round",l.moveTo(e,t),l.lineTo(s,n),l.strokeStyle=r,l.lineWidth=o,l.stroke()},l.lineR=(e,t,s,n,r,o,a)=>{for(var i=0;i<a;i+=1)l.line(e,t,s,n,r,o/Math.pow(1.5,i))},l.ell=(e,t,s,n,r)=>{l.beginPath(),l.fillStyle=r,l.ellipse(e,t,s,n,0,0,6.28),l.fill()},l.ellR=(e,t,s,n,r,o)=>{for(var a=0;a<o;a+=1)l.ell(e,t,s/Math.pow(1.5,a),n/Math.pow(1.5,a),r)},e(l),(t=new i.CanvasTexture(r)).wrapS=t.wrapT=n?i.MirroredRepeatWrapping:i.RepeatWrapping,t.repeat.set(s,s),t}const w=(e=5)=>g(t=>{for(let e=0;e<500;e+=1){var s=l(-200,712),n=l(0,512);t.line(s,n,s+l(50,300),n,"#0004",l(1,5))}},"#FFF",e,!0),y=(s,n,r,o=1)=>g(e=>{for(var t=0;t<o;t+=1)e.ell(l(0,512),l(0,512),l(30,200),l(30,200),s),n&&e.ell(l(0,512),l(0,512),l(30,100),l(30,100),n),r&&e.ell(l(0,512),l(0,512),l(30,100),l(30,100),r)},"#FFF",2),oe=(s="#0004",e="#FFF")=>g(t=>{for(let e=-400;e<800;e+=120)t.lineR(0,e+256,256,e+0,s,64,5),t.lineR(256,e,512,e+256,s,64,5)},e,2,!0),ae=(e=0,t=1)=>g(t=>{for(let e=0;e<50;e+=1)t.ellR(l(0,512),l(0,512),l(30,100),l(30,100),"#0004",4)},"#fff",t,!0),ie=()=>g(e=>{e.line(256,50,256,400,"#000",50),e.line(256,50,50,200,"#000",50),e.line(256,50,462,200,"#000",50)},"#fff"),le=(s,n="",r="",o="",a="",e="#000",i="#FFF")=>g(e=>{var t=a?.7:1;e.font=90*t+'px "Comic Sans MS", sans-serif',e.fillStyle=i,e.textAlign="center",e.textBaseline="middle",e.fillText(s,256,100),e.font=70*t+'px "Comic Sans MS",sans-serif',e.fillText(n,256,230*t),e.fillText(r,256,330*t),e.fillText(o,256,430*t),e.fillText(a,256,530*t)},e),d=new(window.AudioContext||window.webkitAudioContext),ce=d.createGain(),h=(ce.connect(d.destination),ce.gain.setValueAtTime(.2,d.currentTime),d.createGain()),pe=(h.connect(d.destination),h.gain.setValueAtTime(.6,d.currentTime),2*d.sampleRate),ge=d.createBuffer(1,pe,d.sampleRate),we=ge.getChannelData(0);for(let e=0;e<pe;e++)we[e]=l(-1,1);function ye(){var e=d.createBufferSource();return e.buffer=ge,e.loop=!0,e}const u={grind:(e,t)=>{var s=ye(),n=d.currentTime,r=d.createBiquadFilter(),o=(r.type="lowpass",r.frequency.value=100,d.createWaveShaper()),a=(o.curve=function(){var t=new Float32Array(44100),s=Math.PI/180;for(let e=0;e<44100;++e){var n=2*e/44100-1;t[e]=203*n*20*s/(Math.PI+200*Math.abs(n))}return t}(),o.oversample="4x",d.createOscillator()),i=(a.frequency.value=10,d.createGain());i.gain.value=50,a.connect(i).connect(r.frequency),a.start(),s.connect(r),r.connect(o),o.connect(h),s.start(n),s.stop(n+Math.min(e,t))},woosh:(e,t,s=!1)=>{var n=ye(),r=d.currentTime,o=(e*=1.5,d.createBiquadFilter()),a=(o.type="bandpass",o.frequency.value=1500,o.Q.value=1,d.createGain());a.gain.setValueAtTime(0,r),a.gain.linearRampToValueAtTime(1,r+e*(s?.5:.05)),a.gain.exponentialRampToValueAtTime(.001,r+e),n.connect(o).connect(a).connect(h),n.start(),n.stop(r+t)},wooshUp:(e,t)=>u.woosh(e,t,!0),spin:(e,t)=>{var s=d.currentTime,n=d.createOscillator(),r=(n.type="triangle",n.frequency.setValueAtTime(100,s),n.frequency.exponentialRampToValueAtTime(300,s+.4*e),n.frequency.setValueAtTime(300,s+.6*e),n.frequency.exponentialRampToValueAtTime(100,s+e),ye()),o=d.createBiquadFilter(),a=(o.type="highpass",o.frequency.value=400,d.createGain());a.gain.setValueAtTime(.001,s),a.gain.exponentialRampToValueAtTime(.2,s+.4*e),a.gain.setValueAtTime(.2,s+.6*e),a.gain.exponentialRampToValueAtTime(.001,s+e),n.connect(a),r.connect(o).connect(a),a.connect(h),n.start(s),r.start(s),n.stop(s+Math.min(e,t)),r.stop(s+Math.min(e,t))},bash:(e,t)=>{var s=d.currentTime,n=ye(),r=d.createGain();r.gain.setValueAtTime(.4,s),r.gain.exponentialRampToValueAtTime(.001,s+e),n.connect(r).connect(h),n.start(s),n.stop(s+t)},hng:(e,t)=>u.mew(e,t,0,100,200,10),mew:(e,t,s=0,n=600,r=400,o=30)=>{s=d.currentTime+s;var a=d.createOscillator(),i=(a.type="sawtooth",a.frequency.setValueAtTime(400,s),a.frequency.exponentialRampToValueAtTime(n,s+.2*e),a.frequency.linearRampToValueAtTime(r,s+.8*e),(n=d.createBiquadFilter()).type="bandpass",n.frequency.value=1e3,n.Q.value=4,(r=d.createBiquadFilter()).type="bandpass",r.frequency.value=2500,r.Q.value=6,d.createOscillator());i.frequency.value=o,(o=d.createGain()).gain.value=40,i.connect(o).connect(a.frequency),i.start(s),(o=d.createGain()).gain.setValueAtTime(.001,s),o.gain.exponentialRampToValueAtTime(6,s+.05*e),o.gain.setValueAtTime(6,s+.5*e),o.gain.exponentialRampToValueAtTime(.001,s+1.2*e),a.connect(n).connect(r).connect(o).connect(h),a.start(s),a.stop(s+t)},yowl:(e,t)=>{u.mew(e,e,0,600,400,30),u.mew(e-.1,e,.1,800,1e3,30),u.mew(e-.2,e,.2,200,500,20),u.mew(e-.5,e,.4,500,100,10),u.mew(e-.2,e,0,500,1200,40)}};function de(e,t,s,n){var r=d.createOscillator();r.frequency.setValueAtTime(e,s),(e=d.createGain()).gain.setValueAtTime(1,s),e.gain.exponentialRampToValueAtTime(1e-4,s+n),r.connect(e).connect(t),r.start(s),r.stop(s+n)}var x=null,he=[[0,2,4,7,9],[0,3,5,7,10],[0,2,5,7,10],[0,1,5,7,10],[0,2,5,7,9]];function ue(){var e,t,s,n,r;x&&([e,t,s=10,n=1]=[U(he[x.t]),U(x.o),U(x.d||[10,20,25]),l(x.vs||.1,x.ve||.5)],t=440*Math.pow(2,(12*t+e-57)/12),e=d.currentTime,(r=d.createGain()).gain.setValueAtTime(.2*n,e).exponentialRampToValueAtTime(1e-4,e+s),r.connect(ce),de(t,r,e,s),de(2.01*t,r,e,.9*s),de(2.62*t,r,e,.7*s),de(3.95*t,r,e,.5*s),setTimeout(ue,1e3*l(x.gs||.5,x.ge||1)))}function xe(e=null){x||setTimeout(ue,10),x=e}const me=e=>({x:e.x??0,y:e.y??0,z:e.z??0,rx:e.rx??0,ry:e.ry??0,rz:e.rz??0,d:e.d??500,snd:e.snd??(()=>{})}),m=(e,t,s,n=!1)=>{var r=[{g:v.cat(null,"#FFE","#48F"),p:{s:.5}},{g:v.cat(oe("#0008","#FA0"),"#FA0","#0F0"),p:{sx:.8,sz:.7}},{g:v.cat(oe("#0004","#888"),"#AAA","#FD0"),p:{sx:1.3,sy:1.3}},{g:v.cat(y("#000F"),"#FFF","#FD0")},{g:v.cat(y("#000A","#000F",null,8),"#FFF","#AF8")},{g:v.cat(y("#A80A","#F82A","#000A",5),"#FFF","#0F0")},{g:v.cat(y("#A60","#000",0,3),"#FFF","#AA0")},{g:v.cat(null,"#FA0","#FF0")},{g:v.cat(oe("#F804","#FFF"),"#FA0","#FF0")},{g:v.cat(y("#DA0",null,null,8),"#FFF","#FF0")},{g:v.cat(y("#8508","#FA48","#000A",15),"#FFF","#FF0"),p:{sx:1.3,sz:1.3}},{g:v.cat(null,"#888","#8A0"),p:{s:.8}},{g:v.cat(null,"#000","#FF0")}][e];return{n:"cat"+(n?e:""),g:r.g,p:{...r.p,...t},r:s}};function z(s,e,n=[{}],t={}){const r=new B,o=[r];return e.forEach((e,t)=>{t=Array.isArray(s)?s[t]??s[0]:s,(e=new X(e,t)).castShadow=!0,e.receiveShadow=!0,o.push(e),r.add(e)}),(e=new N).sts=[...n].map(me),e.bits=o.map((e,t)=>{return{node:e,sts:(s=t,(e=n).some(e=>e.sub&&e.sub[s])?e.map(e=>e.sub&&e.sub[s]?e.sub[s]:{}).map(me):null)};var s}),t&&(e.p_adds=t,Object.assign(e,t)),e.add(r),e}const f=(e,t,s=1,n,r,o=0,a)=>new O({color:e,map:t,roughness:s,bumpMap:n,bumpScale:r,metalness:o,side:a?P:Y}),v={basket:()=>z(f(null,g(e=>{e.fillStyle="#000088",e.fillRect(20,20,472,472)},"#2222FF",10),.1,null,null,0,!0),[new r(4,4.2,.3,32).translate(0,-.5,0),new o(4,.5,10,30).rotateX(1.57),new o(4.3,.5,10,30,5.5).rotateX(1.57).translate(0,.9,0),new o(4.6,.5,10,30,5).rotateX(1.57).translate(0,1.8,0).rotateY(-.25),new o(4.7,.5,10,30,4.8).rotateX(1.57).translate(0,2.7,0).rotateY(-.375)],[],{passDown:!0}),plat:(e=8)=>z(f("#EC8",w(),.5),[new a(8,.5,8).translate(0,0,0),new r(1,1,e,10).translate(0,-e/2,0)],[],{passDown:!0}),gRing:(e=5)=>z(f("#AA0",null,.1,ae(10,20),1,.8),[new o(.45,.25,12,20).translate(0,0,.1),new a(.3,e,.3).translate(0,-e/2-.3,.15)],[],{passDown:!0}),needle:(e=6)=>z([f("#A95",w(1),.2,g(e=>{e.lineR(-100,156,356,612,"#0008",100,4),e.lineR(156,-100,612,356,"#0008",100,4)},"#FFF",5,!1),2),f("#A95",w(1),.2)],[new r(.25,.25,e,25),new r(.7,.8,1,25).translate(0,e/2+.5,0),new r(.25,.01,3,25).translate(0,-e/2-1.5,0)],[{d:1200,snd:u.spin},{d:800,snd:u.spin,y:-(e+1),sub:{0:{ry:6.28}}}]),hinge:()=>{var e=f("#FF8",null,0,w(2),1,.4);return z([f("#A95",w(2),.2),e,e,e],[new a(2,2,2).translate(1.2,1.1,0),new a(2,.05,2).translate(1.2,.1,0),new r(.25,.25,2).translate(0,0,0).rotateX(1.57),new a(2,.05,2).translate(1.2,-.1,0),new a(2,2,2).translate(1.2,-1.1,0)],[{d:3e3,snd:u.hng},{d:300,snd:u.hng,rz:1.57,sub:{4:{rz:-1.57},5:{rz:-1.57}}}])},press:()=>{var e=f("#FFD",null,.1,g(e=>{e.lineR(0,256,512,256,"#0004",100,8)},"#FFF",5),2,.8);return z([f("#800",null,.2,g(e=>{e.ellR(256,256,128,128,"#0004",8)},"#FFF",10),2),e,e],[new r(2,2,4,20,4),new r(1.5,1.5,4,20,4).translate(0,.5,0),new r(1.2,1.2,4,20,4).translate(0,1,0),new r(2,2,.5,20).translate(0,3,0)],[{d:800,snd:u.woosh},{d:1200,snd:u.wooshUp,y:3,sub:{1:{y:-3}}},{d:1200,snd:u.wooshUp,y:6,sub:{1:{y:-6},2:{y:-3}}}])},wheel:()=>z(f("#AA0",null,.1,ae(10,20),1,.8),[new o(5.5,.8,20,40).rotateX(1.57),new o(1.5,.5,10,20).rotateX(1.57),new n(.3,7,5,10,3).rotateX(1.57).translate(0,0,5),new n(.3,4.5,5,10,3).translate(0,3.5,0).rotateX(1.57).rotateY(6.28/3),new n(.3,4.5,5,10,3).translate(0,3.5,0).rotateX(1.57).rotateY(-6.28/3)],[{d:1e3,snd:u.grind},{d:1e3,snd:u.grind,ry:1.57},{d:1e3,snd:u.grind,ry:3.14},{d:1e3,snd:u.grind,ry:4.71},{d:1e3,snd:u.grind,ry:6.28}],{wrapState:!0}),sign:(e,t,s,n,r)=>z([f("#A84",w(2),1),f(null,le(e,t,s,n,r,"#000","#CC8"),.8,le(e,t,s,n,"#000","#FFF"),4)],[new a(6,6,.1).translate(0,8,0),new a(5.5,5.5,.1).translate(0,8,.1),new a(.5,6,.5).translate(0,2.5,0)],[],{passDown:!0}),cat:(e,t="#000",s="#FF0")=>(s=f(s,g(e=>{e.fillStyle="#000",e.ellipse(256,256,30,160,0,0,628),e.fill()},"#FFF")),z([f(t,e,.7,g(s=>{for(let t=0;t<500;t+=l(40,80))for(let e=0;e<512;e+=l(1,5))s.line(e,t+l(-20,20),e+l(-15,15),t+l(50,120),"#FFF4",l(1,5))},"#000",1),2,0,!0),s,s],[new n(1,2,5,10).rotateX(1.57).translate(0,0,0),new _(.2).rotateY(-1.57).rotateX(-.785).translate(.3,1.8,2.3),new _(.2).rotateY(-1.57).rotateX(-.785).translate(-.3,1.8,2.3),new n(.6,1).rotateX(1.57).translate(0,1,2),new n(.8,1).rotateX(.785).translate(0,1,1.5),new _(1.1).translate(0,.2,-1.2).scale(1.2,1,1),new r(.1,.4,2.5).rotateX(1.57).rotateY(-.157).translate(-.7,-.8,2),new r(.1,.4,2.5).rotateX(1.57).rotateY(.157).translate(.7,-.8,2),new r(.2,.4,2.5).rotateX(1.77).rotateY(.157).translate(1,-.5,0),new r(.2,.4,2.5).rotateX(1.77).rotateY(-.157).translate(-1,-.5,0),new W(.3,.9,8,1,!0,1.57,3.14).translate(.3,2.3,2.2),new W(.3,.9,8,1,!0,1.57,3.14).translate(-.3,2.3,2.2),new o(1,.15,6,12,4).rotateX(-1.57).scale(1,2,1.5).translate(-1,0,-2.2)],[{d:1e3},{d:1e3,snd:u.mew,rz:0,sub:{2:{y:-1.1,z:.2,x:-.1},3:{y:-1.1,z:.2,x:.1},4:{y:-1,z:.3},5:{rx:.5},7:{z:-.2,x:.5},8:{z:-.2,x:-.5},11:{x:-.8,y:-1,z:.5,rz:-.5},12:{x:.8,y:-1,z:.5,rz:.5},13:{x:1,y:0,ry:.7}}},{snd:u.yowl,d:1e3,rx:-.5,z:5,y:3,sub:{2:{x:-1,y:0,z:.8,ry:.5},3:{x:1,y:0,z:.8,ry:-.5},7:{ry:-.5,rx:.5,y:1,z:1},8:{ry:.5,rx:.5,y:1,z:1},9:{rx:2.5,z:-2.5,y:-1.2},10:{rx:2.5,z:-2.5,y:-1.2},11:{x:-1,y:.6,z:0,rz:-1},12:{x:1,y:.6,z:0,rz:1},13:{z:1,y:1,rz:-2}}}],{passDown:!0}))},t=(e,t,s,n,r)=>[m(e,{x:(21-e/2.4)*Math.sin(3.14*e/6),z:(21-e/2.4)*Math.cos(3.14*e/6),y:e+1,ry:3.14*e/6,add:{passDown:!1}},[{st:1,con:[],res:100+e}],!0),{n:"p"+e,g:v.plat(10),p:{parent:"cat"+e,x:0,z:0,y:-1}},{n:"s"+e,g:v.sign(t,s,n,r),p:{parent:"cat"+e,y:-3,z:-4}}],ze={100:()=>({irx:.5,iry:.3,obj:[m(12,{y:5,s:2,add:{passDown:!1}},[{st:1,con:[],res:201}],!0),{n:"p",g:v.plat(10),p:{s:2,parent:"cat12",x:0,z:0,y:-2.2}},{n:"s",g:v.sign("WAKE THE CAT","","","elementalsystems","for js13kgames"),p:{parent:"cat12",s:1.5,y:-3,z:-4}}]}),101:()=>({m:{t:0,o:[2,2,3],ge:4},irx:p(re()/13,0,.7),iry:-re()/6*3.14,obj:[...t(0,"1 Snowy","loves","knitting","needles"),...t(1,"2 Tigress","a free","wheeling","queen"),...t(2,"3 Minx","","innocent and","so fluffy"),...t(3,"4 Spot","likes","to be","high"),...t(4,"5 Inked","a sign ","of our","times"),...t(5,"6 Splat","feels safe ","at","altitude"),...t(6,"7 Gambit","","built","a lock"),...t(7,"8 Ginger","","is safe in","a box"),...t(8,"9 Jack","the old man","stays in","cover"),...t(9,"10 Rogue","","has become","unhinged"),...t(10,"11 Thomas","","engineer",""),...t(11,"12 Cy","built","a robot","arm"),...t(12,"13 Midnight","needs to","be brought","down")]}),0:()=>({m:{t:1,o:[3,4,4,5],ge:.5},obj:[{n:"s1",g:v.plat(5),p:{y:5,ry:1.5}},m(0,{parent:"s1",y:.6,ry:-1}),{n:"n1",g:v.needle(),p:{x:-13,y:6,rz:1.57},r:[{st:1,con:[{o:"n2",st:0}],res:.3},{st:1,con:[{o:"n2",st:1}],res:10}]},{n:"n2",g:v.needle(),p:{x:-5,y:6,rz:3.14}}],irx:.4,iry:.64}),1:()=>({irx:.4,iry:.4,m:{t:2,o:[4,4,5],d:[4,6]},obj:[{n:"w1",g:v.wheel(),p:{x:3,y:1},r:[{st:1,con:[{o:"n1",st:1},{o:"w2",st:3}],res:.27},{st:2,con:[{o:"n1",st:1},{o:"w2",st:3}],res:.65},{st:3,con:[{o:"n1",st:1},{o:"w2",st:3}],res:.65},{st:4,con:[{o:"n1",st:1},{o:"w2",st:3}],res:.65}]},{n:"b1",g:v.basket(),p:{parent:"w1",y:1.5,x:9,ry:3.14}},{n:"b2",g:v.basket(),p:{parent:"w1",y:1.5,x:-9}},m(1,{parent:"b1",y:1,ry:2}),{n:"w2",g:v.wheel(),p:{y:12,x:-15},r:[{st:3,con:[{o:"n1",st:1},{o:"w1",st:[0,2]}],res:.6},{st:4,con:[{o:"n1",st:1},{o:"w1",st:0}],res:.32}]},{n:"gr",g:v.gRing(2),p:{parent:"w2",z:-8,rx:-1.57}},{n:"n1",g:v.needle(),p:{parent:"gr",rx:1.57,z:5,is:1},r:[{st:1,con:[{o:"w1",st:2},{o:"w2",st:3}],res:10}]}]}),2:()=>({m:{t:2,o:[2,3,3,3]},obj:[{n:"w1",g:v.wheel(),p:{y:2,x:-1}},{n:"b1",g:v.basket(),p:{parent:"w1",y:2,ry:2.5,add:{passDown:!0}}},m(2,{parent:"b1",y:1,x:1,ry:-4}),{n:"w2",g:v.wheel(),p:{x:11,y:11,rx:-1.57,z:3},r:[{st:1,con:[{o:"n1",st:1}],res:.75},{st:3,con:[{o:"n1",st:0}],res:.1}]},{n:"gr1",g:v.gRing(2),p:{parent:"w2",x:5.5,y:3,add:{passDown:!0}}},{n:"n1",g:v.needle(),p:{parent:"gr1",z:4.2,rx:1.57},r:[{st:1,con:[{o:"w2",st:1},{o:"w1",st:[0,1,3]}],res:.9},{st:1,con:[{o:"w2",st:1},{o:"w1",st:2}],res:10}]}],irx:.52,iry:3.16}),3:()=>({m:{t:4,o:[2,4],d:[10,20],gs:1,ge:2},obj:[{n:"s1",g:v.plat(11),p:{y:11.5,x:-1}},m(3,{parent:"s1",y:1,ry:1}),{n:"p1",g:v.press(),p:{y:2,x:9},r:[{st:1,con:[{o:"n3",st:0}],res:.65},{st:2,con:[{o:"n2",st:0}],res:.3},{st:2,con:[{o:"n1",st:1}],res:.4}]},{n:"gr1",g:v.gRing(1),p:{parent:"p1",z:1,y:4.5,ry:1.57,add:{passDown:!0}}},{n:"gr2",g:v.gRing(1),p:{parent:"p1",z:-1,y:4.5,ry:1.57,add:{passDown:!0}}},{n:"n1",g:v.needle(),p:{parent:"gr1",z:4.2,rx:1.57},r:[{st:1,con:[{o:"p1",st:2}],res:10}]},{n:"n2",g:v.needle(),p:{parent:"gr2",z:-4.8,rx:-1.57}},{n:"n3",g:v.needle(),p:{x:9,y:13,rx:-3.14},r:[{st:0,con:[{o:"p1",st:1}],res:.85},{st:0,con:[{o:"p1",st:2}],res:.4}]}]}),4:()=>({m:{t:2,o:[6,4,5],gs:.2,ge:.8},irx:.3,iry:-.7,obj:[{n:"b1",g:v.basket(),p:{y:1,x:-4,ry:-.785}},m(4,{parent:"b1",y:1,ry:2}),{n:"h1",g:v.hinge(),p:{x:6,y:2},r:[{st:1,con:[{o:"h2",st:0}],res:.07},{st:1,con:[{o:"h2",st:1}],res:10}]},{n:"s1",g:v.sign("Don't","let","sleeping cats","lie"),p:{parent:"h1",x:1.5,y:2.5}},{n:"h2",g:v.hinge(),p:{x:3,y:2,z:3,ry:1.57},r:[{st:1,con:[{o:"h3",st:0}],res:.18},{st:0,con:[{o:"h3",st:0}],res:.3}]},{n:"s2",g:v.sign("PROTECT","","and serve ","the cats"),p:{parent:"h2",x:1.5,y:2.5}},{n:"h3",g:v.hinge(),p:{x:-1,y:2,z:8}},{n:"s3",g:v.sign("PROTECT","","and serve ","the cats"),p:{parent:"h3",x:1.5,y:2.5}}]}),5:()=>({m:{t:3,o:[2,3]},ixr:0,iyr:.26,obj:[{n:"b1",g:v.basket(),p:{y:14,x:-5,ry:-1.57}},m(5,{parent:"b1",y:1,ry:2}),{n:"p1",g:v.press(),p:{y:.5,x:5},r:[{st:1,con:[{o:"p3",st:[1,2]}],res:.25},{st:0,con:[{o:"p3",st:1}],res:.65},{st:0,con:[{o:"p3",st:2}],res:10}]},{n:"p2",g:v.press(),p:{parent:"p1",y:5},r:[{st:1,con:[{o:"p3",st:[1,2]}],res:.25},{st:0,con:[{o:"p3",st:1}],res:.65},{st:0,con:[{o:"p3",st:2}],res:10}]},{n:"p3",g:v.press(),p:{parent:"p2",y:5,rz:1.57,is:2},r:[{st:1,con:[{o:"p1",st:[1,2]},{o:"p2",st:[0,1]}],res:.2},{st:1,con:[{o:"p1",st:[0,1]},{o:"p2",st:[1,2]}],res:.2}]},{n:"gr",g:v.gRing(5),p:{parent:"p3",x:1,y:3.7,rx:1.57,rz:-1.57}},{n:"gr2",g:v.gRing(5),p:{parent:"p3",x:1,y:4.2,rx:1.57,rz:-1.57}}]}),6:()=>({m:{t:1,o:[2,3,3,3],d:[20,30,40],ge:3},obj:[{n:"s1",g:v.plat(16),p:{y:5.5}},m(6,{parent:"s1",y:1,x:2,ry:-1}),{n:"n1",g:v.needle(10),p:{x:22,y:7,rz:-1.57},r:[{st:1,con:[{o:"w3",st:0}],res:.25},{st:1,con:[{o:"w2",st:0}],res:.5},{st:1,con:[{o:"w1",st:0}],res:.75},{st:1,con:[{o:"w1",st:1}],res:10}]},{n:"w1",g:v.wheel(),p:{x:6,y:10,rz:1.57,rx:-3.14/6},r:[{st:1,con:[{o:"n3",st:0}],res:.25},{st:1,con:[{o:"n2",st:1}],res:.08},{st:1,con:[{o:"n4",st:1}],res:.9},{st:3,con:[{o:"n4",st:1}],res:.3},{st:4,con:[{o:"n4",st:1}],res:.6}]},{n:"w2",g:v.wheel(),p:{x:9,y:10,rz:-1.57,rx:-3.14/6},r:[{st:1,con:[{o:"n4",st:1}],res:.25},{st:2,con:[{o:"n4",st:1}],res:.55},{st:3,con:[{o:"n4",st:1}],res:.9},{st:4,con:[{o:"n2",st:[0,1]}],res:.7}]},{n:"w3",g:v.wheel(),p:{x:12,y:10,rz:1.57,rx:-3.14/6},r:[{st:1,con:[{o:"n2",st:0}],res:.08},{st:1,con:[{o:"n3",st:1}],res:.25}]},{n:"n2",g:v.needle(2),p:{x:11.5,y:15,z:6,rz:-1.57}},{n:"n3",g:v.needle(2),p:{x:6,y:17,z:5,rz:1.57}},{n:"n4",g:v.needle(6),p:{x:-1.5,y:10,z:3,rz:1.57,is:1},r:[{st:1,con:[{o:"w1",st:1}],res:.1},{st:1,con:[{o:"w2",st:3}],res:.55}]}]}),7:()=>({irx:0,iry:0,m:{t:0,o:[2,3,4]},obj:[{n:"p1",g:v.plat(10),p:{y:8,z:0}},m(7,{parent:"p1",y:1,x:0,ry:-1}),{n:"h1",g:v.hinge(),p:{z:5,y:2},r:[{st:1,con:[{o:"h2",st:0}],res:.2},{st:0,con:[{o:"h2",st:0}],res:.2}]},{n:"s1",g:v.sign("QUIET","","sleeping ","cat"),p:{parent:"h1",x:1.5,y:1}},{n:"h2",g:v.hinge(),p:{x:-5,y:2,z:1,ry:-1.57},r:[{st:1,con:[{o:"h3",st:0}],res:.25},{st:0,con:[{o:"h3",st:0}],res:.15}]},{n:"s2",g:v.sign("QUIET","","sleeping ","cat"),p:{parent:"h2",x:1.5,y:1}},{n:"h3",g:v.hinge(),p:{x:-1,y:2,z:-5,ry:-3.14},r:[{st:1,con:[{o:"h4",st:0}],res:.25},{st:0,con:[{o:"h4",st:0}],res:.15}]},{n:"s3",g:v.sign("QUIET","","sleeping ","cat"),p:{parent:"h3",x:1.5,y:1}},{n:"h4",g:v.hinge(),p:{x:5,y:2,z:-1,ry:1.57},r:[{st:1,con:[{o:"w1",st:1}],res:.69},{st:1,con:[{o:"w1",st:2}],res:.65}]},{n:"s4",g:v.sign("QUIET","","sleeping ","cat"),p:{parent:"h4",x:1.5,y:1}},{n:"w1",g:v.wheel(),p:{s:.5,y:5,x:1,z:8,is:1,rx:-1.57},r:[{st:1,con:[{o:"h4",st:1}],res:.75}]},{n:"gr",g:v.gRing(1),p:{parent:"w1",y:0,x:-4,z:0,rx:1.57,rz:1.57}},{n:"n1",g:v.needle(),p:{parent:"gr",z:4.5,rx:1.57},r:[{st:1,con:[{o:"h1",st:0},{o:"w1",st:1}],res:.2},{st:1,con:[{o:"h1",st:1},{o:"w1",st:1}],res:10},{st:1,con:[{o:"w1",st:[0,2,3]}],res:.15}]}]}),8:()=>({irx:0,iry:0,m:{t:1,o:[1,2,2,3]},obj:[{n:"b1",g:v.basket(),p:{y:14.5,z:-5,ry:3.14,add:{passDown:!0}}},{n:"b2",g:v.basket(),p:{y:19,z:-5,ry:.785-.5,rz:3.14}},m(8,{parent:"b1",y:1,x:2,ry:2}),{n:"p1",g:v.press(),p:{is:1,y:1,x:-10},r:[{st:2,con:[{o:"w1",st:0},{o:"h1",st:0}],res:.1},{st:0,con:[{o:"n1",st:1},{o:"h1",st:0}],res:.45},{st:0,con:[{o:"h1",st:1},{o:"w1",st:3}],res:.8}]},{n:"h1",g:v.hinge(),p:{parent:"p1",y:5,x:-1.1,z:.1},r:[{st:1,con:[{o:"w1",st:0}],res:.03},{st:0,con:[{o:"w1",st:0},{o:"n1",st:0}],res:.9}]},{n:"w1",g:v.wheel(),p:{parent:"h1",y:3,x:1.1},r:[{st:2,con:[{o:"n1",st:1},{o:"h1",st:1}],res:.55},{st:2,con:[{o:"p1",st:0},{o:"h1",st:1}],res:.45},{st:3,con:[{o:"p1",st:0},{o:"h1",st:1}],res:.45},{st:4,con:[{o:"p1",st:1},{o:"h1",st:1},{o:"n1",st:1}],res:.75},{st:4,con:[{o:"p1",st:2},{o:"h1",st:1},{o:"n1",st:1}],res:.95},{st:2,con:[{o:"p1",st:2},{o:"h1",st:0}],res:.05},{st:4,con:[{o:"h1",st:0},{o:"p1",st:[0,2]}],res:.7}]},{n:"gr",g:v.gRing(2),p:{parent:"w1",y:0,x:6.5,z:-3.5,rx:1.57,rz:3.14*1.33}},{n:"n1",g:v.needle(10),p:{parent:"gr",is:1,y:0,x:0,z:-6.5,rx:-1.57},r:[{st:0,con:[{o:"p1",st:1},{o:"w1",st:0},{o:"h1",st:0}],res:.05},{st:1,con:[{o:"p1",st:0},{o:"h1",st:0}],res:.7},{st:1,con:[{o:"p1",st:2},{o:"h1",st:1},{o:"w1",st:0}],res:.8},{st:1,con:[{o:"p1",st:1},{o:"h1",st:1},{o:"w1",st:0}],res:10}]}]}),9:()=>({m:{t:0,o:[2,4,4,5],d:[5],gs:.3,ge:.5},irx:.6,iry:.6,obj:[{n:"w1",g:v.wheel(),p:{x:0,z:0,y:3,rz:.3,is:3},r:[{st:4,con:[{o:"h2",st:0}],res:.7},{st:1,con:[{o:"l1",st:[1,2]}],res:.9},{st:2,con:[{o:"h2",st:0}],res:.05},{st:3,con:[{o:"h2",st:0}],res:.5}]},{n:"h1",g:v.hinge(),p:{parent:"w1",y:3,x:0,z:1.1,ry:1.57},r:[{st:1,con:[{o:"w1",st:3}],res:.1},{st:1,con:[{o:"w1",st:0}],res:.55},{st:1,con:[{o:"w1",st:1}],res:.16},{st:1,con:[{o:"w1",st:2}],res:10}]},{n:"p1",g:v.plat(4),p:{parent:"h1",y:6,x:1.25}},m(9,{parent:"p1",y:1,ry:.4*-3.14}),{n:"h2",g:v.hinge(),p:{y:2,x:0,z:9,ry:1.57},r:[{st:1,con:[{o:"h3",st:0}],res:.55},{st:0,con:[{o:"w1",st:0}],res:.2}]},{n:"gh1",g:v.gRing(5),p:{parent:"h2",sx:6.5,sz:5,y:3,x:6,z:.75,rx:0,rz:1.57,ry:3.14}},{n:"h3",g:v.hinge(),p:{parent:"h2",y:6,x:0,z:0,rz:1.57,rx:3.14},r:[{st:0,con:[{o:"h2",st:1}],res:.05}]},{n:"gr2",g:v.gRing(5),p:{parent:"h3",y:6,x:1.25,z:0,rx:0,rz:0,ry:3.14}},{n:"s1",g:v.sign("🐈‍⬛🐈‍⬛🐈‍⬛","UNHINGED"),p:{y:0,x:-13,z:0,rx:0,rz:-.5}},{n:"l1",g:v.press(),p:{is:1,y:0,x:9,z:0,rx:0,rz:0},r:[{st:1,con:[{o:"w1",st:1}],res:.3}]},{n:"s2",g:v.sign("🐈🐈🐈","UNHINGED"),p:{parent:"l1",y:3.8,x:1.3,z:0,rx:0,rz:.5}}]}),10:()=>({m:{t:1,o:[1,2,2,2,3]},irx:0,iry:1,obj:[{n:"w0",g:v.wheel(),p:{x:5,z:2,y:22,ry:1.57,sx:3,sz:3},r:[{st:2,con:[{o:"n1",st:0},{o:"n2",st:1},{o:"w1",st:2}],res:.89},{st:1,con:[{o:"n2",st:0},{o:"w1",st:2}],res:.05}]},{n:"p1",g:v.plat(),p:{parent:"w0",y:-8,z:15,rx:3.14}},m(10,{parent:"p1",s:1.3,y:-1.5,x:-2.5,z:1,rx:3.14}),{n:"n1",g:v.needle(8),p:{y:9,x:4,z:0,rz:1.57},r:[{st:1,con:[{o:"w2",st:[0,2,3]}],res:.2},{st:0,con:[{o:"w2",st:[0,2,3]}],res:.65}]},{n:"w1",g:v.wheel(),p:{parent:"n1",y:-1,ry:1.57},r:[{st:1,con:[{o:"n2",st:1}],res:.05},{st:2,con:[{o:"n2",st:1},{o:"w2",st:1}],res:.05},{st:2,con:[{o:"n2",st:1},{o:"w2",st:2}],res:.85},{st:3,con:[{o:"n2",st:1},{o:"w2",st:2}],res:.05},{st:3,con:[{o:"n2",st:1},{o:"w2",st:3}],res:.85},{st:4,con:[{o:"n2",st:1},{o:"w2",st:3}],res:.05},{st:1,con:[{o:"n1",st:0}],res:.7},{st:2,con:[{o:"w0",st:0},{o:"n2",st:0}],res:.48},{st:3,con:[{o:"n1",st:0}],res:.65}]},{n:"gr1",g:v.gRing(2),p:{parent:"w1",z:-7,rx:-1.57}},{n:"w2",g:v.wheel(),p:{parent:"n1",y:3,ry:1.57},r:[{st:1,con:[{o:"n2",st:1}],res:.05},{st:2,con:[{o:"n2",st:1},{o:"w1",st:0}],res:.95},{st:2,con:[{o:"n2",st:1},{o:"w1",st:1}],res:.05},{st:3,con:[{o:"n2",st:1},{o:"w1",st:1}],res:.95},{st:3,con:[{o:"n2",st:1},{o:"w1",st:2}],res:.05},{st:4,con:[{o:"n2",st:1},{o:"w1",st:3}],res:.05},{st:4,con:[{o:"n2",st:1},{o:"w1",st:2}],res:.95}]},{n:"gr2",g:v.gRing(.5),p:{parent:"w2",z:-7,rx:-1.57,s:2}},{n:"gr2-2",g:v.gRing(.5),p:{parent:"w2",x:-7,rz:1.57,s:2}},{n:"n2",g:v.needle(15),p:{parent:"gr1",is:1,y:0,x:0,z:-9,rx:-1.57},r:[{st:1,con:[{o:"w1",st:0},{o:"w2",st:[2,3]}],res:.1},{st:1,con:[{o:"w1",st:1},{o:"w2",st:[0,3]}],res:.1},{st:1,con:[{o:"w1",st:2},{o:"w2",st:[0,1]}],res:.1},{st:1,con:[{o:"w1",st:3},{o:"w2",st:[1,2]}],res:.1},{st:1,con:[{o:"n1",st:0},{o:"w1",st:2},{o:"w2",st:[2,3]},{o:"w0",st:2}],res:10}]},{n:"gr3",g:v.gRing(3),p:{x:3,y:2,rx:-1.57,sx:2,sz:2,ry:1.57,rz:1.57}},{n:"gr3-2",g:v.gRing(3),p:{x:-2,y:2,rx:-1.57,sx:2,sz:2,ry:1.57,rz:1.57}},{n:"gr4",g:v.gRing(8),p:{z:8,y:6,x:4.75,s:2,ry:1.57}},{n:"gr5",g:v.gRing(8),p:{z:-8,y:6,x:4.75,s:2,ry:1.57}}]}),11:()=>({m:{t:3,o:[3,3,4]},irx:.8,iry:1.3,obj:[{n:"w1",g:v.wheel(),p:{y:2,s:.8},r:[{st:1,con:[{o:"h1",st:0},{o:"h2",st:0}],res:.35},{st:1,con:[{o:"h1",st:0},{o:"h2",st:1},{o:"l1",st:[1,2]}],res:.1},{st:2,con:[{o:"h1",st:0},{o:"h2",st:0}],res:.9},{st:2,con:[{o:"h1",st:1},{o:"h2",st:0}],res:.85},{st:2,con:[{o:"h1",st:0},{o:"h2",st:1}],res:.7},{st:2,con:[{o:"h1",st:1},{o:"h2",st:1},{o:"l1",st:[1,2]}],res:.6},{st:2,con:[{o:"h1",st:1},{o:"h2",st:1},{o:"w2",st:1}],res:.85},{st:2,con:[{o:"h1",st:1},{o:"h2",st:1},{o:"w2",st:2}],res:.65},{st:2,con:[{o:"h1",st:1},{o:"h2",st:1},{o:"w2",st:3}],res:.15},{st:4,con:[],res:.15}]},{n:"l1",g:v.press(),p:{parent:"w1",z:-2,y:2,rx:-1.57,is:1},r:[{st:0,con:[{o:"w1",st:0},{o:"h2",st:1},{o:"l2",st:[1,2]},{o:"w2",st:3}],res:.5},{st:1,con:[{o:"w1",st:2}],res:.6},{st:2,con:[{o:"w1",st:3},{o:"w2",st:3},{o:"h1",st:1},{o:"h2",st:1},{o:"n1",st:1},{o:"l2",st:2}],res:10}]},{n:"h1",g:v.hinge(),p:{parent:"l1",z:.5,y:5,ry:1.57},r:[{st:1,con:[{o:"w1",st:0}],res:.03}]},{n:"w2",g:v.wheel(),p:{parent:"h1",y:2.5,x:1.2,s:.5},r:[{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"h2",st:0},{o:"l1",st:0},{o:"l2",st:[0,1]}],res:.15},{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"h2",st:0},{o:"l1",st:[0,1]},{o:"l2",st:0}],res:.15},{st:2,con:[{o:"h1",st:0},{o:"h2",st:1}],res:.1},{st:4,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"h2",st:1}],res:.3},{st:1,con:[{o:"w1",st:2}],res:.75},{st:1,con:[{o:"w1",st:3},{o:"h1",st:1},{o:"h2",st:1},{o:"l1",st:2},{o:"l2",st:2}],res:.4}]},{n:"h2",g:v.hinge(),p:{parent:"w2",x:-1.1,y:2.5},r:[{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"w2",st:0}],res:.1},{st:1,con:[{o:"h1",st:0},{o:"w2",st:2}],res:.1},{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"w2",st:1},{o:"l1",st:[0,1]}],res:.2},{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"w2",st:1},{o:"l1",st:2}],res:.6},{st:1,con:[{o:"w1",st:0},{o:"h1",st:0},{o:"w2",st:3},{o:"l1",st:[0,1]},{o:"l2",st:[1,2]}],res:.9},{st:0,con:[{o:"w1",st:2}],res:.8},{st:1,con:[{o:"w1",st:3},{o:"w2",st:3},{o:"h1",st:1},{o:"n1",st:1},{o:"l1",st:2},{o:"l2",st:2}],res:10}]},{n:"l2",g:v.press(),p:{parent:"h2",x:1,y:4},r:[{st:1,con:[{o:"w1",st:0},{o:"h2",st:1},{o:"l1",st:[0,1]},{o:"w2",st:3}],res:.5},{st:2,con:[{o:"w1",st:3},{o:"w2",st:3},{o:"h1",st:1},{o:"h2",st:1},{o:"l1",st:2},{o:"n1",st:1}],res:10}]},{n:"gr",g:v.gRing(1),p:{parent:"l2",x:-2,y:4,ry:1.57}},{n:"n1",g:v.needle(1),p:{parent:"gr",z:2,rx:1.57},r:[{st:1,con:[{o:"w1",st:3},{o:"w2",st:3},{o:"h1",st:1},{o:"h2",st:1},{o:"l1",st:2},{o:"l2",st:2}],res:10}]},{n:"p2",g:v.plat(12),p:{y:10,x:0,z:13}},{n:"p3",g:v.plat(6),p:{y:6,x:5,z:-20}},{n:"p4",g:v.plat(20),p:{y:8,x:-12,z:-14}},{n:"gr2",g:v.gRing(4),p:{y:4,x:7,z:-3}},{n:"p1",g:v.plat(),p:{y:3,x:14,z:-16,ry:3.14}},m(11,{parent:"p1",y:1.5,x:-.5,z:1})]}),12:()=>({m:{t:0,o:[1,2,3,3,5],ge:2},irx:1,iry:.2,obj:[{n:"l1",g:v.press(),p:{is:2},r:[{st:0,con:[{o:"l2",st:2},{o:"w1",st:0}],res:.08},{st:0,con:[{o:"l2",st:2},{o:"h1",st:0}],res:.15},{st:0,con:[{o:"l2",st:[0,1]},{o:"h1",st:1}],res:.1},{st:0,con:[{o:"l2",st:[0,1]},{o:"w1",st:[1,3]}],res:.5},{st:1,con:[{o:"l2",st:2},{o:"h1",st:0}],res:.15},{st:1,con:[{o:"l2",st:2},{o:"w1",st:[0,2]}],res:.1},{st:1,con:[{o:"l2",st:0},{o:"w1",st:[1,3]}],res:.75}]},{n:"l2",g:v.press(),p:{parent:"l1",is:2,y:5},r:[{st:0,con:[{o:"l1",st:2},{o:"w1",st:0}],res:.08},{st:0,con:[{o:"l1",st:2},{o:"h1",st:0}],res:.15},{st:0,con:[{o:"l1",st:[0,1]},{o:"h1",st:1}],res:.1},{st:0,con:[{o:"l1",st:[0,1]},{o:"w1",st:[1,3]}],res:.5},{st:1,con:[{o:"l1",st:2},{o:"h1",st:0}],res:.15},{st:1,con:[{o:"l1",st:2},{o:"w1",st:[0,2]}],res:.1},{st:1,con:[{o:"l1",st:0},{o:"w1",st:[1,3]}],res:.75}]},{n:"p1",g:v.plat(),p:{parent:"l2",y:3.5}},m(12,{parent:"p1",y:1,x:-.5,ry:1}),{n:"p2",g:v.plat(10),p:{x:8.2,y:10}},{n:"w1",g:v.wheel(),p:{parent:"p2",x:-1,y:1,s:.5}},{n:"gr1",g:v.gRing(2),p:{parent:"w1",z:-4,s:.5,rx:-1.57}},{n:"s1",g:v.sign("TOP CAT","humans","live to","serve us"),p:{parent:"w1",sx:1.5,sy:.8}},{n:"p3",g:v.plat(10),p:{x:-8.2,y:10,z:-1}},{n:"h1",g:v.hinge(),p:{parent:"p3",y:2.3,x:1.9,z:3},r:[{st:1,con:[{o:"n1",st:1},{o:"l4",st:[1,2]},{o:"l3",st:2}],res:.1},{st:0,con:[{o:"n1",st:1},{o:"l4",st:[1,2]},{o:"l3",st:2}],res:.45}]},{n:"gr2",g:v.gRing(5),p:{parent:"h1",z:1.1,x:1.2,y:1}},{n:"s1",g:v.sign("Queen","of","the","cats"),p:{parent:"h1",y:.5,x:1,s:.6,rz:-.2}},{n:"l3",g:v.press(),p:{y:2,x:4,z:8,rz:1.57,is:2},r:[{st:2,con:[{o:"n1",st:0},{o:"l4",st:0}],res:.8},{st:0,con:[{o:"n1",st:1}],res:.1}]},{n:"l4",g:v.press(),p:{parent:"l3",y:5,x:.5,rz:-1.57,is:2},r:[{st:0,con:[{o:"n1",st:0},{o:"l3",st:2}],res:.85}]},{n:"gr2",g:v.gRing(5),p:{parent:"l4",y:8}},{n:"n1",g:v.needle(),p:{parent:"gr2",rx:1.57,is:1,z:4.5},r:[{st:0,con:[{o:"n2",st:0},{o:"l3",st:2}],res:.3},{st:0,con:[{o:"l4",st:0},{o:"l3",st:2}],res:.3},{st:1,con:[{o:"l4",st:[1,2]},{o:"l3",st:0}],res:.2},{st:1,con:[{o:"l4",st:0},{o:"l3",st:0},{o:"l1",st:0},{o:"l2",st:[1,2]}],res:.8},{st:1,con:[{o:"l4",st:0},{o:"l3",st:0},{o:"l1",st:[1,2]},{o:"l2",st:0}],res:.8},{st:1,con:[{o:"l4",st:0},{o:"l3",st:0},{o:"l1",st:0},{o:"l2",st:0}],res:10}]},{n:"n2",g:v.needle(),p:{y:14,z:12,x:-7,is:0},r:[{st:0,con:[{o:"n1",st:0},{o:"l3",st:2}],res:.6}]},{n:"gr3",g:v.gRing(10),p:{y:10.5,z:5,x:-1}},{n:"gr4",g:v.gRing(8),p:{y:10.5,z:5,x:-1,rx:3.14}}]})};function fe(e){const t=ze[e](),o=new i.Object3D,a={};return t.obj.forEach(e=>{var t,s,n,r;[e,t,s,n=[]]=[e.n,e.g,e.p,e.r],(r=new i.Object3D).name=e,t.p_adds&&Object.assign(r,t.p_adds),Object.assign(r,s?.add),r.position.set(s.x??0,s.y??0,s.z??0),r.rotation.set(s.rx??0,s.ry??0,s.rz??0),t.children[0].scale.set(s.sx??s.s??1,s.sy??s.s??1,s.sz??s.s??1),r.add(t),(s.parent?a[s.parent].node:o).add(r),a[e]={node:t,st:s.is||0,rls:n},s.is&&b(a[e],1,0,s.is,0,1)}),{ir:{x:t.irx||0,y:t.iry||0},ref:Number.isInteger(+e)?+e:-1,node:o,pieces:a,m:t.m}}const ve=(e,t,s,n,r,o,a)=>{e.position.set(p(a,p(n,t.x,s.x),p(r,t.x,s.x),o),p(a,p(n,t.y,s.y),p(r,t.y,s.y),o),p(a,p(n,t.z,s.z),p(r,t.z,s.z),o)),e.rotation.set(p(a,p(n,t.rx,s.rx),p(r,t.rx,s.rx),o),p(a,p(n,t.ry,s.ry),p(r,t.ry,s.ry),o),p(a,p(n,t.rz,s.rz),p(r,t.rz,s.rz),o))},b=(e,t,s,n,r,o,a,i)=>{Z(t,t=>{ve(e.node,e.node.sts[s],e.node.sts[n],r,o,a,t),e.node.bits.forEach(e=>{e.sts&&ve(e.node,e.sts[s],e.sts[n],r,o,a,t)})},i)};{const j=new i.WebGLRenderer({antialias:!0}),qe=(j.xr.enabled=!0,j.setSize(window.innerWidth,window.innerHeight),j.shadowMap.enabled=!0,document.body.appendChild(j.domElement),new i.Scene),E=new i.Group,G=(qe.add(E),new i.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3)),Oe=new i.Group;Oe.position.set(0,3,30),Oe.add(G),qe.add(Oe),G.position.set(0,1.7,0),G.lookAt(0,3,0),e=E,(s=new X(new q(100,100,10,10),f("#262",ae(3,100),.2,ae(5,44),1))).receiveShadow=!0,s.rotation.x=-Math.PI/2,e.add(s),s=new I(16777215,.5),e.add(s),(s=new L(16777215,1)).position.set(25,35,5),s.castShadow=!0,s.shadow.mapSize.width=2048,s.shadow.mapSize.height=2048,s.shadow.camera.near=1,s.shadow.camera.far=100,s.shadow.camera.left=-100,s.shadow.camera.right=100,s.shadow.camera.top=100,s.shadow.camera.bottom=-100,e.add(s),j.setAnimationLoop(function(e){{var t=e;const s=t-(J=J||t-10);J=t,e=Q,Q=[],e.forEach(e=>e(t,s))}j.render(qe,G)}),window.addEventListener("resize",()=>{G.aspect=window.innerWidth/window.innerHeight,G.updateProjectionMatrix(),j.setSize(window.innerWidth,window.innerHeight)});var s,F,be,Fe,Te,Ae,Re,Se,T,Me,A=null,R=!1;function De(n){const e=()=>{(A=n).node.position.set(1e3,1e3,1e3),E.add(n.node),xe(n.m),Z(1e3,e=>{n.node.position.set(0,p(e,40,0,c),0)});var t=E.rotation.x,s=E.rotation.y;Z(1200,e=>{E.rotation.set(p(e,t,A.ir.x,c),p(e,s,A.ir.y,c),0)},()=>{n.pieces.cat&&b(n.pieces.cat,2e3,0,1,0,1,c),R=!1})};R=!0,xe(),A?Z(1e3,e=>{A.node.position.set(0,p(e,0,50,c),0)},()=>{E.remove(A.node),function e(t){if(t){for(;0<t.children.length;)e(t.children[0]);if(t.parent&&t.parent.remove(t),t.geometry&&t.geometry.dispose(),t.material){for(const e in t.material){var s=t.material[e];s&&s.isTexture&&s.dispose()}t.material.dispose()}}}(A.node),e()}):e()}De(fe(100));const Ie=n=>{if(!R){let t=n.node.sts,e=n.st,s=(e+1)%t.length;R=!0;var r=n.rls.filter(e=>e.st===s).reduce((e,t)=>!t.con.every(e=>(Array.isArray(e.st)?e.st:[e.st]).includes(A.pieces[e.o].st))||e<t.res?e:t.res,1e4),o=t[s].d;r<1?(t[s].snd(o/1e3,o*r/1e3),b(n,o*r,e,s,0,r,te,()=>{u.bash(.5,1),setTimeout(()=>{t[e].snd(o/1e3,o*r/1e3),b(n,o*r,e,s,r,0,c,()=>{R=!1})},1e3)})):(t[s].snd(o/1e3,2*o/1e3),b(n,o,e,s,0,1,ee,()=>{var e;R=!1,10==r&&(0<=A.ref&&(e=A.ref,ne[e]=1,localStorage.setItem("js13k2025-WakeTheCat",JSON.stringify(ne))),u.yowl(2,2),b(A.pieces.cat,1e3,1,2,0,1,c,()=>{De(fe(101))})),100<=r&&r<=300&&De(fe(r-100)),n.st=s,n.node.wrapState&&s==t.length-1&&(n.st=0,b(n,1,s,0,0,1))}))}};F=E,be=G,T=!1,Me=new i.Raycaster,(e=document.getElementsByTagName("canvas")[0]).addEventListener("mousemove",function(e){e.preventDefault(),Ce(e.clientX,e.clientY)},!1),e.addEventListener("mousedown",function(e){e.preventDefault(),Ve(e.clientX,e.clientY)},!1),e.addEventListener("mouseup",function(e){e.preventDefault(),ke(e.clientX,e.clientY)},!1),e.addEventListener("touchstart",function(e){e.preventDefault(),Ve(e.touches[0].clientX,e.touches[0].clientY)},{passive:!1}),e.addEventListener("touchmove",function(e){e.preventDefault(),Ce(e.touches[0].clientX,e.touches[0].clientY)},{passive:!1}),e.addEventListener("touchend",function(e){e.preventDefault(),ke(e.changedTouches[0].clientX,e.changedTouches[0].clientY)},{passive:!1});{var je=j,S=E,M=G;const Le=document.getElementById("vr");var D=null;const Ye=new i.Raycaster,_e=new i.MeshStandardMaterial({color:"#FFF",transparent:!0,opacity:.7}),V=new i.Mesh(new i.TorusGeometry(.05,.01,4,20),_e),k=(V.position.z=-2,V.visible=!1,M.add(V),new i.Mesh(new i.TorusGeometry(.05,.005,4,20),_e)),We=(k.scale.set(2,2,2),k.position.z=-2,k.visible=!1,M.add(k),new i.MeshStandardMaterial({color:"#FFF",map:ie(),bumpMap:ie(),bumpScale:3,transparent:!0,opacity:.5})),C=new i.Group;[{n:"_d",x:1,y:0,r:-1},{n:"_a",x:-1,y:0,r:1},{n:"_w",x:0,y:-1,r:0},{n:"_s",x:0,y:1,r:2}].forEach(e=>{var t=new i.Mesh(new i.BoxGeometry(.1,.05,.1),We);t.name=e.n,t.position.set(.125*e.x,0,.125*e.y),t.rotation.set(0,3.14*e.r/2,0),C.add(t)}),C.visible=!1,C.position.set(0,1.4,-.5),C.rotation.set(3.14/3,0,0),M.parent.add(C);var Ee=null,Ge=0;const Pe=()=>{Le.textContent="No VR Found"},Be=e=>{(D=e).addEventListener("end",Ne),je.xr.setSession(D),V.visible=!0,k.visible=!0,C.visible=!0,K(Ue)},Ne=()=>{V.visible=!1,k.visible=!1,C.visible=!1,M.lookAt(0,3,0),D=null},He=()=>{null===D?navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor"]}).then(Be):D.end()},Ue=(e,t)=>{if(D){var s,n=null,r=!1;for(s of D.inputSources){const e=s.gamepad;e&&(r=.5<e.buttons[0].value||e.buttons[1].pressed||e.buttons[2].pressed,.5<e.axes[0]&&(n="_d"),e.axes[0]<-.5&&(n="_a"),.5<e.axes[1]&&(n="_w"),e.axes[1]<-.5)&&(n="_s")}Ye.setFromCamera({x:0,y:0},M);for(var o,a=Ye.intersectObject(S.parent,!0)[0]?.object;a&&(!a.name||a?.passDown);)a=a.parent;a?.name.startsWith("_")&&(n=a.name,a=null),a?a==Ee?(k.visible=!0,i=4.8-4*(o=r?1.1:(e-Ge)/3e3),k.scale.set(i,i,i),1<o&&(Ee=null,i=a?.name,Ie(A.pieces[i]))):(Ee=a,Ge=e):(k.visible=!1,Ee=null),"_d"==n&&(S.rotation.y-=3e-4*t),"_a"==n&&(S.rotation.y+=3e-4*t),"_w"==n&&(S.rotation.x=$(-.1,1,S.rotation.x+2e-4*t)),"_s"==n&&(S.rotation.x=$(-.1,1,S.rotation.x-2e-4*t)),K(Ue)}var i};"xr"in navigator?navigator.xr.isSessionSupported("immersive-vr").then(e=>{e?Le.onclick=He:Pe()}):Pe()}function Ve(e,t){T||(T=!0,Fe=e,Te=t,Ae=se(),Re=F.rotation.x,Se=F.rotation.y)}function ke(e,t){if(Math.abs(e-Fe)<5&&Math.abs(t-Te)<5&&Math.abs(se()-Ae)<400){T=!1,Me.setFromCamera({x:e/window.innerWidth*2-1,y:-t/window.innerHeight*2+1},be);for(var s,n=Me.intersectObject(F,!0)[0]?.object;n&&(!n.name||n?.passDown);)n=n.parent;n&&(s=n?.name,Ie(A.pieces[s]))}else Ce(e,t),T=!1}function Ce(e,t){T&&(e-=Fe,t-=Te,F.rotation.x=$(-.1,1,Re+t/window.innerHeight*3.14),F.rotation.y=Se+e/window.innerWidth*3.14)}}</script>