<title>BACK</title><style>*{user-select:none;font-family:Arial}body{background:#000}.a{position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden}#a{perspective:80vmin}#c{--x:10vmin;--y:20vmin;--j:30deg;transform:translateZ(10vmin) rotateX(-30deg) translateX(var(--x)) translateZ(var(--y))}.cont{position:absolute;top:50%;left:50%;width:0;height:0;transform-style:preserve-3d;transform:rotateY(0)}.r{--w:0;--h:0;position:absolute;width:var(--w);height:var(--h);left:calc(50% - (var(--w)/ 2));bottom:calc(50% - (var(--h)/ 2))}@keyframes a{0%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(0)}70%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(-90deg)}100%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(0)}}@keyframes b{0%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(0)}70%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(30deg)}100%{transform:translateY(-4vmin) translateX(-3vmin) translateZ(1vmin) rotateX(0)}}.q{width:7.4vmin;height:.8vmin;position:absolute;left:calc(50% - 3.9vmin);top:calc(50% - .6vmin);border:.2vmin solid #fff;box-shadow:#000 0 0 .2vmin;border-radius:.3vmin;opacity:0;--c:red;transition:opacity .2s}.q:after{content:'';width:var(--prog);height:.8vmin;position:absolute;background:var(--c);top:0;left:0}@keyframes c{from{transform:translateZ(calc(var(--d)*3vmin)) rotateX(0)}to{transform:translateZ(calc(var(--d)*3vmin)) rotateX(calc(var(--d)*360deg))}}.o{position:absolute;width:7.4vmin;left:calc(50% - 3.9vmin);height:6vmin;border:.2vmin solid #fff;box-shadow:#000 0 0 .2vmin;background:rgba(255,255,255,.7);transform:translateY(-24.45vmin) rotateY(var(--angle));border-radius:.3vmin;font-size:1vmin;text-align:center;display:flex;align-content:space-around;justify-content:space-evenly;flex-wrap:wrap}.test{position:relative;min-width:2vmin;height:2vmin;margin:auto;transform-style:flat}#b div{text-shadow:var(--c) .1vmin .1vmin 0,var(--c) -.1vmin .1vmin 0,var(--c) .1vmin -.1vmin 0,var(--c) -.1vmin -.1vmin 0;color:#fff;position:absolute}#d{font-size:10vmin;bottom:5vmin;right:5vmin;width:40vmin;color:#003a00!important;text-align:right;--c:gold}#q{font-size:6vmin;bottom:16vmin;right:5vmin;width:30vmin;color:#222!important;text-align:right;--c:white}#e{text-align:right}#g{background:rgba(0,0,0,.5)}#h{--w:62vmin;--h:82vmin;border:1vmin #d3d3d3 solid;border-radius:5vmin;height:80vmin;width:60vmin;background:rgba(0,0,0,.7)}.star{width:15vmin;height:15vmin;clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);background:#0b0b0b;position:absolute;top:13vmin;--m:'200$'}.star[got='1']{background:#ff0}.starm{position:absolute;width:15vmin;height:5vmin;text-align:center;color:#d3d3d3;font-size:4vmin;top:30vmin}#r{width:100%;font-size:6vmin;line-height:10vmin;color:#d3d3d3;text-align:center}.s1{left:5vmin}.s2{left:calc(50% - 7.5vmin)}.s3{right:5vmin}#j{text-align:center;color:#d3d3d3;font-size:4vmin;line-height:7vmin;position:absolute;width:100%;top:38vmin}#k{text-align:center;color:#d3d3d3;font-size:4vmin;line-height:7vmin;position:absolute;width:100%;top:52vmin;animation:1s k linear infinite}@keyframes k{0%{color:#ff4500}50%{color:orange}100%{color:#ff4500}}.button{position:absolute;width:11vmin;height:11vmin;border:#d3d3d3 .5vmin solid;border-radius:50%;bottom:5vmin;font-size:8vmin;text-align:center;line-height:11vmin;color:#d3d3d3;background:rgba(255,255,255,.1)}.b{transition:transform .3s;cursor:pointer}.b:hover{transform:scale(1.1)}#l{line-height:15vmin;font-size:13vmin;color:#e33840;text-align:center}#o{--w:80vmin;--h:80vmin;display:flex;align-content:space-evenly;justify-content:space-evenly;flex-wrap:wrap}.mapelem{width:20vmin;height:20vmin;border:1vmin solid #d3d3d3;border-radius:3vmin;position:relative;text-align:center;color:#d3d3d3;font-size:12vmin}.sbox{position:absolute;bottom:0;width:100%;height:8vmin;display:flex;align-content:space-evenly;justify-content:space-evenly;flex-wrap:wrap;font-size:4vmin}.minis{position:relative;background:var(--c);clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);width:6vmin;height:6vmin}#m{background:radial-gradient(#fff,#edab8c)}#s{position:absolute;width:100%;top:15vmin;font-size:13vmin;text-align:center;color:green;--c:black;text-shadow:var(--c) .1vmin .1vmin 0,var(--c) -.1vmin .1vmin 0,var(--c) .1vmin -.1vmin 0,var(--c) -.1vmin -.1vmin 0;font-variant:small-caps}.but2{position:relative;width:45vmin;height:10vmin;border:1vmin solid #d3d3d3;color:#d3d3d3;border-radius:3vmin;font-size:8vmin;background:#b22222;padding-left:15vmin;top:55vmin;margin:0 auto;margin-bottom:6vmin;overflow:hidden;perspective:40vmin;perspective-origin:10vmin 50%}#f{bottom:2vmin;left:2vmin;--c:black;font-size:2vmin;width:60vmin;text-align:justify}</style><div id=a class=a><div class=cont id=c></div></div><div class=a id=b><div id=d></div><div id=q></div><div class=a>Player Controlls:<br><b>ASDW:</b> Move<br><b>E:</b> Pick up item<br><b>Q:</b> Drop item<br><b>Space:</b> Interact<br></div><div id=e class=a>Player 2 Controlls:<br><b>Arrows:</b> Move<br><b>Enter:</b> Pick up item<br><b>RShift:</b> Drop item<br><b>Numpad 0:</b> Interact<br></div><div id=f></div></div><div class=a id=g><div class=r id=h><div id=r></div><div class=a id=i><div id=j></div><div id=k>NEW RECORD!!!</div></div><div class=a id=l><br>GAME<br>OVER</div><div class="b s1 button" onclick=ap(a.multi)>X</div><div class="b s2 button" onclick=aq(a.C)>↻</div><div class="b s3 button" onclick=aq(a.C+1) id=n>⇨</div></div></div><div class=a id=m><div class=r id=o></div><div class=a id=p><div id=s>ZombieBurger</div><div class="b but2" onclick=ap(0)>Singleplayer</div><div class="b but2" onclick=ap(1)>Multiplayer</div></div></div><script>s=t=>document.getElementById(t),cd=t=>{var e=document.createElement("div");return e.className=t,e},A=(t,e,a)=>{var r=cd("cont"),i=cd("cont");r.ao=cd("cont hand"),r.ao.style.transform="translateY(-4vmin) translateX(-3vmin) translateZ(1vmin)",r.ap=cd("q"),r.ap.style.transform="translateY(-13vmin) rotateY(var(--angle))",r.aq=cd("q"),r.aq.style.setProperty("--c","yellow"),r.aq.style.transform="translateY(-15vmin) rotateY(var(--angle))",r.ar=cd("q"),r.ar.style.setProperty("--c","blue"),r.ar.style.transform="translateY(-17vmin) rotateY(var(--angle))";for(var s=0;s<8;++s)(n=cr(3.5,8,a+" linear-gradient(rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5))","rotateY("+45*s+"deg) translateZ(4vmin) rotateX(30deg)")).style.bottom="0",n.style.transformOrigin="50% 100%",n.style.clipPath="polygon(0 100%,50% 0,100% 100%)",i.appendChild(n);for(r.appendChild(i),i=cd("cont"),s=0;s<5;++s){var n=cr(5,5,e+" radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*s+"deg) translateZ(2.45vmin)");if(4==s&&(n.style.transform="rotateX(90deg) translateZ(2.45vmin)"),0==s){var l=cr(5,5,"black");l.style.clipPath="polygon("+["6% 12%,34% 21%,34% 34%,6% 26%,6% 78%,35% 66%,59% 65%,84% 82%,84% 30%,61% 36%,60% 23%,84% 13%,84% 96%,59% 85%,36% 83%,6% 95%,6% 78%","10% 26%,27% 26%,27% 10%,10% 10%,10% 68%,38% 76%,67% 77%,91% 69%,91% 26%,74% 26%,74% 10%,91% 10%,91% 79%,67% 87%,38% 86%,11% 79%,11% 68%"][t]+")",n.appendChild(l)}i.appendChild(n)}return i.style.transform="translateY(-9vmin)",i.style.transformStyle="preserve-3d",r.appendChild(i),r.appendChild(r.ao),r.appendChild(r.ap),r.appendChild(r.aq),r.appendChild(r.ar),r.style.setProperty("--angle",0),r},f=[];class Human{constructor(t,e,r){if(this.id=f.length,f.push(this),this.level=a.C,this.type=t,this.x=e||0,this.y=r||0,this.speedX=this.speedY=this.angle=this.p=this.actioncont=this.L=this.d=this.lastdmg=0,this.U=1,this.i=null,this.H=null,this.O=null,this.r="0|0",this.R="0|0",this.currentaction=null,this.hp=100,this.maxhp=100,"z"==t){this.j=A(0,"green","brown");var i=this;setTimeout((()=>{i.W()}))}else if("p"==t)this.j=A(1,"#FAFAD2","#EEE");else if("p2"==t)this.j=A(1,"saddlebrown","#EEE");else if("c"==t){this.ordertype=a.q[~~(a.q.length*Math.random())],this.j=A(1,Math.random()<.62?"#FAFAD2":"saddlebrown","hsl("+360*Math.random()+"deg,70%,60%)");var n=cd("o");n.innerHTML="      <b>"+this.ordertype+"</b>      ",this.j.appendChild(n),this.j.ar.style.setProperty("--c","green"),this.order=[],this.j.ar.style.opacity=.85,this.ordertime=60;for(var l=0;l<1+~~(a.u*Math.random());++l){var d=cd("test"),h="Salad"==this.ordertype?a.z[~~(a.z.length*Math.random())]:0==l?a.v[~~(a.v.length*Math.random())]:a.z[~~(a.z.length*Math.random())];this.order.push(h),d.appendChild(m[h].cloneNode(1)),d.lastChild.style.transform="scale(.38) rotateX(-30deg) rotateY(45deg)",n.appendChild(d),this.ordertime+=30}this.ordertimemax=this.ordertime,this.a3()}s("c").appendChild(this.j),"z"==t?this.W():"c"==t&&this.A(),this.a4(0,.01)}a3(){if(a.C==this.level&&a.D){--this.ordertime,this.j.ar.style.setProperty("--prog",this.ordertime/this.ordertimemax*100+"%");var t=this;this.ordertime<1&&this.die(1),setTimeout((()=>{t.a3()}),1e3)}}a4(t,e){var r=this.x,i=this.y;for(var s in this.x+=t,this.y+=e,this.x>10*a.radX?this.x=10*a.radX:this.x<10*-a.radX&&(this.x=10*-a.radX),this.y>10*a.radY?this.y=10*a.radY:this.y<10*-a.radY&&(this.y=10*-a.radY),f)f[s]!=this&&f[s].U&&G(this.x,this.y,f[s].x,f[s].y)<8&&(null!=this.i&&"l"==this.i.type||null!=f[s].i&&"l"==f[s].i.type)&&(this.x=r,this.y=i,0==t&&0==e||f[s].a4(t,e));r==this.x&&i==this.y||(this.angle=Number(Math.PI+Math.atan2(r-this.x,i-this.y))),0==t&&0==e||(this.j.style.transform="translateX("+this.x+"vmin) translateZ("+this.y+"vmin) rotateY("+this.angle+"rad)",this.j.style.setProperty("--angle",-this.angle+"rad")),this.j.style.transformStyle="preserve-3d";var n=this.r;this.r=Math.round(this.x/10)+"|"+Math.round(this.y/10);var l=this.R;if(this.R=Math.round(this.x/10)+Math.round(Math.sin(this.angle))+"|"+(Math.round(this.y/10)+Math.round(Math.cos(this.angle))),n!==this.r)if(null!=d[this.r].b&&d[this.r].b.solid?null!=d[this.r].b&&d[this.r].b.solid&&(this.x=r,this.y=i,this.r=n,this.R=l,this.j.style.transform="translateX("+this.x+"vmin) translateZ("+this.y+"vmin) rotateY("+this.angle+"rad)"):(d[n].f.splice(d[n].f.indexOf(this.id),1),d[this.r].f.push(this.id),this.a5()),"z"==this.type&&this.V){this.d=0;var h=this.V.r.split("|"),o=this.a9(h[0],h[1]);this.a8(o)}else"c"==this.type&&(this.d=0,h=this.V,this.a8(h[0]+"|"+h[1]));l===this.R||"p"!=this.type&&"p2"!=this.type||(null!=d[this.R]&&(d[this.R].j.style.backgroundImage="radial-gradient(transparent,gray)"),null!=d[l]&&(d[l].j.style.backgroundImage=""))}a5(){null!==d[this.r].i&&(M[d[this.r].i.type].squishable?(a7(this.x,this.y,M[d[this.r].i.type].color,1.4),d[this.r].i.del(),d[this.r].i=null):"j"==d[this.r].i.type&&this.a6(5))}a6(t){null!=this.i&&"l"==this.i.type&&this.i.ai>0?(this.i.ai-=t/6,this.j.ar.style.setProperty("--prog",this.i.ai/this.i.ah*100+"%"),this.i.ai<=0&&(a7(this.x,this.y,"white",1.5),this.i.ai=0,this.i.j.lastChild.style.opacity=0)):(+new Date-this.lastdmg>600&&(a7(this.x,this.y,"red",1.7),this.lastdmg=+new Date),this.hp-=t,this.hp<=0?this.die():this.hp>this.maxhp?this.hp=this.maxhp:this.hp==this.maxhp?this.j.ap.style.opacity=0:this.j.ap.style.opacity=.85,this.j.ap.style.setProperty("--prog",this.hp/this.maxhp*100+"%"))}die(t){this.U&&(d[this.r].f.splice(d[this.r].f.indexOf(this.id),1),"z"==this.type&&ag(10),this.U=0,(a.multi&&!a.p1.U&&!a.p2.U||!a.multi&&!a.p1.U)&&ai(),"c"==this.type&&(this.V[2]=0),this.j.remove(),this.d=0,"z"==this.type||null!=t&&!t||new Human("z",this.x,this.y))}aa(){if(!this.p)if(null!=d[this.R].b&&"A"==d[this.R].b.type&&!d[this.R].b.inuse&&null!=this.i&&"j"==this.i.type&&null!=d[this.R].b.i&&["b","d","a","c","m","n"].includes(d[this.R].b.i.type))this.j.ao.style.animation="a .4s linear infinite",this.O=this.R,this.activeitem=this.i,this.actioncont=this.p=d[this.R].b.inuse=1,this.H=setInterval((()=>{this.a0(this)}),40),this.j.aq.style.setProperty("--prog",0),this.j.aq.style.opacity=.85;else if(null==d[this.R].b||"D"!=d[this.R].b.type||d[this.R].b.inuse||null==d[this.R].b.i||"k"!=d[this.R].b.i.type&&"l"!=d[this.R].b.i.type||d[this.R].b.i.ai==d[this.R].b.i.ah)if(null!=d[this.R].b&&"H"==d[this.R].b.type)B();else if(null==this.i||"e"!=this.i.type&&"t"!=this.i.type||!P(this.R))if(null!=d[this.R].b&&"A"==d[this.R].b.type||null==this.i||"j"!=this.i.type)null!=this.i&&"k"==this.i.type&&this.i.ai>0&&(--this.i.ai,this.j.ao.style.animation="b .3s linear",this.p=1,this.actioncont=0,t=this,l.push(new Z(this.x,this.y,this.angle,this.id)),setTimeout((function(){t.ad()}),300),this.j.ar.style.setProperty("--prog",this.i.ai/this.i.ah*100+"%"));else{this.j.ao.style.animation="a .5s linear",this.p=1,this.actioncont=0;var t=this;for(var e of(new Date,setTimeout((function(){t.ad()}),500),d[this.R].f))f[e].U&&f[e].a6(50)}else{var a=f[P(this.R)];if("e"==this.i.type&&"Salad"==a.ordertype||"t"==this.i.type&&"Burger"==a.ordertype){var r=this.i.a.inside.sort(),i=a.order.sort();if(r.length==i.length){for(var e in r)if(r[e]!=i[e])return;this.i.j.remove(),this.i=null,ag(20+15*r.length+~~(a.ordertime/3)),a7(a.x,a.y,"gold",1.5),a.die(0)}}}else this.O=this.R,this.activeitem=this.i,this.actioncont=this.p=d[this.R].b.inuse=1,this.H=setInterval((()=>{this.a0(this)}),60),this.j.aq.style.setProperty("--prog",0),this.j.aq.style.opacity=.85}ad(){this.j.ao.style.animation="none",clearInterval(this.H),this.L=this.j.aq.style.opacity=this.p=0,null!=this.O&&null!=d[this.O].b&&(d[this.O].b.inuse=0)}ab(){this.actioncont&&this.ad()}ac(){if("A"==d[this.R].b.type&&["b","d","a","c","m","n"].includes(d[this.R].b.i.type)){var t=d[this.R].b.i.type+"s";"n"==d[this.R].b.i.type?t="p":"m"==d[this.R].b.i.type&&(t="o"),d[this.R].b.i.del(),d[this.R].b.am(new J(t))}else"D"==d[this.R].b.type&&(d[this.R].b.i.ai=d[this.R].b.i.ah,"l"==d[this.R].b.i.type&&(d[this.R].b.i.j.lastChild.style.opacity=.8))}a0(t){t.O!=t.R||t.i!=t.activeitem?t.ad():(t.L+=1.5,this.j.aq.style.setProperty("--prog",t.L+"%"),d[t.R].b.inuse=1,t.L>=100&&(t.ad(),t.ac()))}al(){if(null!=d[this.R]){if(null!=d[this.R].i)if(null!=this.i){var t=this.i;this.i=d[this.R].i,d[this.R].i=null,this.j.ao.appendChild(this.i.j),d[this.R].ak(t)}else this.i=d[this.R].i,d[this.R].i=null,this.j.ao.appendChild(this.i.j);else null==d[this.R].b||d[this.R].b.inuse||null==d[this.R].b.i||"B"==d[this.R].b.type?null!=d[this.R].b&&"B"==d[this.R].b.type&&null==this.i&&(this.i=new J(d[this.R].b.itemtype),this.j.ao.appendChild(this.i.j)):null!=this.i?null!=d[this.R].b&&"J"!=d[this.R].b.type&&(t=this.i,this.i=d[this.R].b.i,d[this.R].b.i=null,this.j.ao.appendChild(this.i.j),d[this.R].b.am(t)):(this.i=d[this.R].b.i,d[this.R].b.i=null,this.j.ao.appendChild(this.i.j));null==this.i||"k"!=this.i.type&&"l"!=this.i.type?this.j.ar.style.opacity=0:(this.j.ar.style.opacity=.85,this.j.ar.style.setProperty("--prog",this.i.ai/this.i.ah*100+"%"))}}drop(){null!=d[this.R]&&null!=this.i&&(null==d[this.R].i&&null==d[this.R].b?(d[this.R].ak(this.i),this.i=null):null!=d[this.R].i&&M[d[this.R].i.type].au.includes(this.i.type)&&!d[this.R].i.full?(d[this.R].i.combine(this.i),this.i.del(),this.i=null):null!=d[this.R].b&&!d[this.R].b.inuse&&N[d[this.R].b.type].as&&null==d[this.R].b.i?(d[this.R].b.am(this.i),this.i=null):null==d[this.R].b||d[this.R].b.inuse||null==d[this.R].b.i||!M[d[this.R].b.i.type].au.includes(this.i.type)||d[this.R].b.i.full?null!=d[this.R].b&&"C"==d[this.R].b.type&&(this.i.del(),this.i=null):(d[this.R].b.i.combine(this.i),this.i.del(),this.i=null),null==this.i&&(this.j.ar.style.opacity=0))}W(){var t=[];for(var e in f)f[e].U&&"z"!=f[e].type&&t.push(e);if(0==t.length){var a=this;setTimeout((()=>{a.W()}),1e3)}else this.B(t)}B(t){var e=~~(t.length*Math.random());this.V=f[t[e]];var a=this.V.r.split("|"),r=this.a9(a[0],a[1]);null==r&&t.length>1?t=t.splice(e,1):this.a8(r)}A(){var t=[];for(var e of a.o)e[2]||t.push(e);var r=t[~~(t.length*Math.random())];r[2]=1,this.V=r,this.a9(r[0],r[1])}a9(t,e){var r=[],i=[],s=1;for(var n in d)null!=d[n].b&&d[n].b.solid&&(r[n]=999);for(n=-a.radY-1;++n;n<=a.radY+1)r[a.radX+1+"|"+n]=999,r[-a.radX-1+"|"+n]=999;for(n=-a.radX-1;++n;n<=a.radX+1)r[n+"|"+(a.radY+1)]=999,r[n+"|"+(-a.radY-1)]=999;for(r[t+"|"+e]=0,i.push([t,e]),n=0;null==r[(t=i[n][0])+"|"+((e=i[n][1])-1)]&&e-1>=-a.radY&&(r[t+"|"+(e-1)]=s++,i.push([t,e-1])),null==r[t-1+"|"+e]&&t-1>=-a.radX&&(r[t-1+"|"+e]=s++,i.push([t-1,e])),null==r[t+"|"+(e- -1)]&&e- -1<=a.radY&&(r[t+"|"+(e- -1)]=s++,i.push([t,e- -1])),null==r[t- -1+"|"+e]&&t- -1<=a.radX&&(r[t- -1+"|"+e]=s++,i.push([t- -1,e])),!(++n>=i.length););var l=this.r.split("|"),h=void 0,o=999;return r[l[0]-1+"|"+l[1]]<o&&(o=r[h=l[0]-1+"|"+l[1]]),r[l[0]- -1+"|"+l[1]]<o&&(o=r[h=l[0]- -1+"|"+l[1]]),r[l[0]+"|"+(l[1]-1)]<o&&(o=r[h=l[0]+"|"+(l[1]-1)]),r[l[0]+"|"+(l[1]- -1)]<o&&(o=r[h=l[0]+"|"+(l[1]- -1)]),h}a8(t){null==t&&(t=this.r);var e=t.split("|"),a=G(10*e[0],10*e[1],this.x,this.y);this.step=[(10*e[0]-this.x)/a,(10*e[1]-this.y)/a],this.dest=[10*e[0],10*e[1]],this.d=1}D(t){if("z"==this.type){for(var e of f)e.U&&"z"!=e.type&&G(this.x,this.y,e.x,e.y)<10&&e.a6(t/20);G(this.x,this.y,this.V.x,this.V.y)<10&&(this.V.U?this.step=[0,0]:this.W())}if(Math.round(this.x)==Math.round(this.dest[0])&&Math.round(this.y)==Math.round(this.dest[1])||0==this.step[0]&&0==this.step[1]||null!=d[this.dest[0]/10+"|"+this.dest[1]/10].b&&d[this.dest[0]/10+"|"+this.dest[1]/10].b.solid){if("z"==this.type){this.d=0;var a=this.V.r.split("|"),r=this.a9(a[0],a[1]);this.a8(r)}}else this.a4(this.step[0]/200*t,this.step[1]/200*t)}}class Tile{constructor(t,e){this.x=t,this.y=e,this.b=null,this.i=null,this.j=cr(10,10,(t+e)%2==0?"#EEE":"#111","translateZ("+10*e+"vmin) translateX("+10*t+"vmin) rotateX(90deg)"),this.j.style.color="white",this.I=cd("cont"),this.I.style.transform="translateZ(0vmin) rotateX(-90deg)",this.I.style.transformStyle=this.j.style.transformStyle="preserve-3d",this.j.appendChild(this.I),this.f=[],s("c").appendChild(this.j)}ak(t){this.i=t,this.I.appendChild(t.j),this.I.style.transform="translateZ(1.5vmin) rotateX(-90deg)",this.I.style.transformStyle="preserve-3d"}an(t){this.b=t,this.I.style.transform="translateZ(0vmin) rotateX(-90deg)",this.I.style.transformStyle="preserve-3d",this.I.appendChild(t.j),this.b.tileX=this.x,this.b.tileY=this.y}}h=[];class J{constructor(t){this.id=h.length,h.push(this),this.j=m[t].cloneNode(1),this.type=t,this.a={},this.full=0,this.ah=this.ai="k"==t?1==a.C?1e5:8:"l"==t?100:0}combine(t){if("e"==this.type){null==this.a.inside&&(this.a.inside=[]),this.a.inside.push(a1(t.type));var e="as"==t.type?"green":"bs"==t.type?"red":"cs"==t.type?"purple":"ds"==t.type?"yellow":"blue";this.j.style.setProperty("--l"+this.a.inside.length,e),this.a.inside.length>4&&(this.full=1)}else if("t"==this.type){null==this.a.inside&&(this.a.inside=[]);var a=m.tpart.cloneNode(1);a.style.setProperty("--l",this.a.inside.length),a.style.setProperty("--c",a2(t.type)),this.j.appendChild(a),this.a.inside.push(a1(t.type)),this.j.style.setProperty("--l",this.a.inside.length)}"j"!=this.type&&"k"!=this.type&&"l"!=this.type||(e="as"==t.type?"green":"bs"==t.type?"red":"cs"==t.type?"purple":"ds"==t.type?"yellow":"blue","j"==this.type?this.j.lastChild.style.background=e:this.j.style.setProperty("--c",e))}del(){this.j.remove()}}a1=t=>"as"==t?"a":"bs"==t?"b":"cs"==t?"c":"ds"==t?"d":"q"==t?"m":"n",a2=t=>"as"==t?"#00A300":"bs"==t?"red":"cs"==t?"purple":"ds"==t?"yellow":"q"==t?"saddlebrown":"#004C00",g=[];class S{constructor(t,e){if(this.id=g.length,g.push(this),this.type=t,this.j=m[t].cloneNode(1),this.data=e,this.i=null,this.inuse=0,this.solid=1,this.level=a.C,this.I=this.j.querySelector(".itemelem"),"B"==t){for(var r=0;r<3;++r)this.j.querySelectorAll(".itemplace")[r].appendChild(m[e.type].cloneNode(1));this.itemtype=e.type}else"A"==t&&null!=e&&null!=e.type&&(this.j=m["A_"+e.type].cloneNode(1),this.I=this.j.querySelector(".itemelem"));var i=this;null!=e&&null!=e.rot&&(this.j.style.transform="rotateY("+e.rot+"deg)"),"J"==this.type?(this.V=null,this.ae(),this.solid=0):"E"==this.type?(this.af(),this.V=null):"G"!=this.type&&"F"!=this.type||(setTimeout((()=>{i.Q()})),this.V=null,this.solid=0)}am(t){this.i=t,this.I.appendChild(t.j)}ae(){if(a.C==this.level&&a.D){if(null==this.V)for(var t in f)f[t].U&&f[t].r==this.data.tile&&(this.V=f[t],this.targetprog=0,this.V.j.aq.style.setProperty("--prog",0),this.V.j.aq.style.opacity=.85);else if(this.V.r==this.data.tile){if(null==this.i&&(this.targetprog+=2,this.V.j.aq.style.setProperty("--prog",this.targetprog+"%"),this.targetprog>=100)){var e=this.data.tile.split("|");a7(10*e[0],10*e[1],"red",1.7),this.V.die(0),this.am("z"==this.V.type?new J("n"):new J("m")),this.V=null}}else this.V.j.aq.style.opacity=0,this.V=null;var r=this;setTimeout((()=>{r.ae()}),80)}}af(){if(null==this.V&&null!=this.i&&["o","p","q","r"].includes(this.i.type))this.V=this.i,this.j.lastChild.style.setProperty("--prog","50%"),this.j.lastChild.style.opacity=.85,this.targetprog=0;else if(null!=this.V)if(this.i==this.V){if(this.j.lastChild.style.setProperty("--prog",++this.targetprog+"%"),this.targetprog>=100){var t={o:"q",p:"r",q:"s",r:"s"}[this.i.type];this.i.j.remove(),this.am(new J(t))}}else this.j.lastChild.style.opacity=0,this.V=null;var e=this;setTimeout((()=>{e.af()}),80)}Q(){if(a.C==this.level&&a.D){if(Math.random()<("F"==this.type?.012:.05)){var t=0;for(var e in f)f[e].U&&f[e].type==("F"==this.type?"z":"c")&&++t;t<("F"==this.type?a.w:a.o.length)&&new Human("F"==this.type?"z":"c",10*this.tileX,10*this.tileY)}var r=this;setTimeout((()=>{r.Q()}),300)}}}G=(t,e,a,r)=>Math.hypot(a-t,r-e),l=[];class Z{constructor(t,e,a,r){this.angle=a,this.parent=r,this.x=t,this.y=e,this.p=1,this.j=cd("cont");for(var i=0;i<6;++i)this.j.appendChild(cr(1,1,"radial-gradient(#222,black)",i>3?"rotateX("+(4==i?-90:90)+"deg) translateZ(.5vmin)":"rotateY("+90*i+"deg) translateZ(.5vmin)"));this.j.style.transform="translateY(-8vmin) translateX("+this.x+"vmin) translateZ("+this.y+"vmin) rotateY("+this.angle+"rad)",s("c").appendChild(this.j)}a4(t){for(var e in this.x+=Math.sin(this.angle)*t/30,this.y+=Math.cos(this.angle)*t/30,this.j.style.transform="translateY(-8vmin) translateX("+this.x+"vmin) translateZ("+this.y+"vmin) rotateY("+this.angle+"rad)",f)f[e].U&&e!=this.parent&&G(this.x,this.y,f[e].x,f[e].y)<4&&(f[e].a6(60),this.die());this.x>10*a.radX+5||this.x<-(10*a.radX+5)||this.y>10*a.radY+5||this.y<-(10*a.radY+5)?this.die():null!=d[Math.round(this.x/10)+"|"+Math.round(this.y/10)].b&&"A"==d[Math.round(this.x/10)+"|"+Math.round(this.y/10)].b.type&&null!=d[Math.round(this.x/10)+"|"+Math.round(this.y/10)].b.i&&"j"==d[Math.round(this.x/10)+"|"+Math.round(this.y/10)].b.i.type&&this.x%10<.5&&this.x%10>-.5&&this.y%10<.5&&this.y%10>-.5&&(l.push(new Z(this.x+2*Math.sin(this.angle+.5),this.y+2*Math.cos(this.angle+.5),this.angle+.5,this.parent)),l.push(new Z(this.x+2*Math.sin(this.angle-.5),this.y+2*Math.cos(this.angle-.5),this.angle-.5,this.parent)),this.die())}die(){this.p&&(this.j.remove(),this.p=0)}}a7=(t,e,a,r)=>{var i=cr(1,1,a,"translateX(var(--x)) translateY(var(--y)) translateZ(var(--z))");i.style.borderRadius="50%";for(var n=[],l=0;l<16;++l)n.push({j:i.cloneNode(1),x:t,y:0,z:e,sx:(Math.random()-.5)/2*r,sy:-1.5*r,sz:(Math.random()-.5)/2*r}),s("c").appendChild(n[l].j);var d=30*r,h=setInterval((()=>{for(var t=0;t<16;++t)n[t].sy+=.2,n[t].x+=n[t].sx,n[t].y+=n[t].sy,n[t].z+=n[t].sz,n[t].j.style.setProperty("--x",n[t].x+"vmin"),n[t].j.style.setProperty("--y",n[t].y+"vmin"),n[t].j.style.setProperty("--z",n[t].z+"vmin");if(0>d){for(t=0;t<16;++t)n[t].j.remove();clearInterval(h)}}),50)},P=t=>{for(var e in f)if("c"==f[e].type&&f[e].U&&f[e].r==t)return e;return 0},a={},a.multi=1,a.barriercolor=0,ag=t=>s("d").innerHTML=(a.m+=t)+"$",prevtime=+new Date,an=t=>{var e=+new Date-prevtime;if(prevtime=+new Date,a.D){for(i in a.p1.U&&a.p1.a4(a.p1.speedX*e,a.p1.speedY*e),a.multi&&a.p2.U&&a.p2.a4(a.p2.speedX*e,a.p2.speedY*e),a.multi?(s("c").style.setProperty("--x",(-a.p2.x-a.p1.x)/2+"vmin"),s("c").style.setProperty("--y",(-a.p2.y-a.p1.y)/2- -10+"vmin")):(s("c").style.setProperty("--x",-a.p1.x+"vmin"),s("c").style.setProperty("--y",-a.p1.y- -10+"vmin")),f)f[i].d&&f[i].U&&f[i].D(e);for(i in l)l[i].p&&l[i].a4(e)}setTimeout(an)},an(),B=t=>{for(var e in d)if(d[e].f.length>0&&null!=d[e].b&&d[e].b.type.includes("I"))return;for(var e in a.barriercolor=Number(!a.barriercolor),s("c").style.setProperty("--j",30-60*a.barriercolor+"deg"),g)g[e].type.includes("I")&&(g[e].solid=1,g[e].j.style.transform="translateY(0)",g[e].type=="I"+a.barriercolor&&(g[e].solid=0,g[e].j.style.transform="translateY(5.8vmin)"))},d=[],am=t=>{for(var e in t)a[e]=t[e];for(s("c").innerHTML="",f=[],g=[],h=[],l=[],d=[],e=-t.radX;e<=t.radX;++e)for(var r=-t.radY;r<=t.radY;++r)d[e+"|"+r]=new Tile(e,r);for(var i of(s("f").innerHTML=t.msg,a.e=t,a.o=[],t.o))a.o.push([i[0],i[1],0]);for(var i of(a.m=0,t.obj))d[i[1]+"|"+i[2]].an(new S(i[0],i[3]));for(var i of t.h)null==d[i[1]+"|"+i[2]].b?d[i[1]+"|"+i[2]].ak(new J(i[0])):d[i[1]+"|"+i[2]].b.am(new J(i[0]));al(),clearInterval(a.timer),a.timer=setInterval(al,1e3),a.p1=new Human("p",t.p1[0],t.p1[1]),a.multi&&(a.p2=new Human("p2",t.p2[0],t.p2[1])),s("c").appendChild(cr(20*a.radX+10,30,"radial-gradient("+a.c+",black)","translateY(-15vmin) translateZ("+(10*-a.radY-5)+"vmin)")),s("c").appendChild(cr(20*a.radY+10,30,"radial-gradient("+a.c+",black)","rotateY(90deg) translateY(-15vmin) translateZ("+(10*-a.radX-5)+"vmin)")),s("c").appendChild(cr(20*a.radY+10,30,"radial-gradient("+a.c+",black)","rotateY(-90deg) translateY(-15vmin) translateZ("+(10*-a.radX-5)+"vmin)"))},al=t=>{--a.t;var e=~~(a.t/60),r=a.t-60*e;r=r<10?"0"+r:r,s("q").innerHTML=e+":"+r,a.t<=0&&ah()},s("g").hidden=1,ah=t=>{aj(),l<8&&a.m>ar[l].m1&&(as[l+1][0]=1,s("n").hidden=0),s("i").hidden=0,s("l").hidden=1;for(var e=1;e<4;++e)document.querySelector(".s"+e+".star").setAttribute("got",0),document.querySelector(".s"+e+".starm").innerHTML=ar[l]["m"+e]+"$",a.m>=ar[l]["m"+e]&&(document.querySelector(".s"+e+".star").setAttribute("got",1),as[l][e]=1);as[l][4]<a.m?(as[l][4]=a.m,s("k").hidden=0):s("k").hidden=1,s("j").innerHTML="Money Collected: "+a.m+"$<br>Your Record: "+as[l][4]+"$",a.D=0,ak()},ai=t=>{aj(),s("i").hidden=1,s("l").hidden=0},aj=t=>{clearInterval(a.timer),s("g").hidden=0,a.D=0,s("n").hidden=1,8!=(l=a.C)&&as[l+1][0]&&(s("n").hidden=0),s("r").innerHTML="Level "+(1+l)},ak=t=>localStorage.p93=JSON.stringify(as),ar=[{p1:[0,0],p2:[10,0],radX:3,radY:2,obj:[["G",-3,-2],["C",3,1],["B",3,-2,{type:"b"}],["B",3,-1,{type:"a"}],["B",3,0,{type:"e"}],["A",-3,2,{type:"e"}],["A",-2,2,{type:"l"}],["A",-1,2,{type:"l"}],["A",0,2,{type:"l"}],["A",1,2,{type:"l"}],["A",2,2,{type:"l"}],["A",3,2,{type:"e",rot:180}]],h:[["j",-1,2],["j",1,2]],q:["Salad"],z:["a","b"],v:[],w:0,u:2,m1:100,m2:200,m3:300,t:120,o:[[-3,0],[-2,0]],c:"#FFF",msg:"You own a restaurant specialized in salads! Pick up vegetables from the barrels, drop them on a counter, pick up a knife and hold the interaction button to cut them. After this put a bowl on the counter and DROP the sliced veggies into the bowl. When done pick it up and interact with the customer who ordered it"},{p1:[10,30],p2:[10,-30],radX:4,radY:3,obj:[["B",4,0,{type:"a"}],["B",4,1,{type:"b"}],["B",4,2,{type:"c"}],["B",4,3,{type:"e"}],["F",4,-2],["G",-4,3],["A",0,-2,{type:"e",rot:-90}],["A",0,-1,{type:"l",rot:90}],["A",0,0,{type:"l",rot:90}],["A",0,1,{type:"e",rot:90}],["C",0,2]],h:[["j",0,-1],["k",0,-2]],q:["Salad"],z:["a","b","c"],v:[],w:1,u:3,m1:80,m2:150,m3:250,t:150,o:[[-4,1],[-3,1]],c:"#EEE",msg:"Oh no! The zombie apocalypse broke out! Protect your customers and yourself from angry zombies! Use the knife to attack them with the interaction button or use a pistol"},{p1:[-30,10],p2:[-20,10],radX:4,radY:3,obj:[["B",-4,1,{type:"a"}],["B",-4,-1,{type:"b"}],["B",-4,0,{type:"c"}],["B",-4,2,{type:"e"}],["D",-4,3],["A",-4,-2,{type:"l"}],["A",-3,-2,{type:"l"}],["A",-2,-2,{type:"l"}],["A",-1,-2,{type:"e",rot:180}],["A",-1,1,{type:"e",rot:-90}],["A",-1,2,{type:"e",rot:90}],["C",-1,3],["F",-4,-3],["G",4,-3]],h:[["j",-1,2],["k",-4,3]],q:["Salad"],z:["a","b","c"],v:[],w:1,u:3,m1:80,m2:160,m3:270,t:120,o:[[2,3],[3,3]],c:"#DDD",msg:"Normally the pistol has limited ammo. Use the ammo station (the green one) to replenish it. Drop the gun onto it and hold the interaction button"},{p1:[-20,20],p2:[-10,30],radX:4,radY:4,obj:[["C",4,2],["D",-4,-2],["B",-4,-1,{type:"m"}],["B",-4,0,{type:"a"}],["B",-4,1,{type:"d"}],["B",-4,2,{type:"t"}],["F",0,4],["A",4,1],["E",4,0,{rot:-90}],["E",4,-1,{rot:-90}],["A",4,-2],["G",0,-3],["A",0,1,{type:"l"}],["A",1,1,{type:"e",rot:180}],["A",-1,1,{type:"e"}]],h:[["k",-4,-2],["j",-1,1],["j",0,1]],q:["Burger"],z:["a","d"],v:["m"],w:1,u:2,m1:70,m2:150,m3:230,t:140,c:"#CCC",msg:"You decided to start selling burgers as you're running out of vegetables. Cut meat the same way you cut vegetables, then place it on a stove and wait for it to cook, but be careful not to overcook it. When done drop it into a hamburger bun",o:[[-1,-1],[1,-1]]},{p1:[-20,20],p2:[-10,30],radX:4,radY:4,obj:[["C",-4,4],["A",-4,3],["E",-4,2,{rot:90}],["A",-4,1],["F",-4,-4],["F",4,-4],["B",-1,-4,{type:"m"}],["B",0,-4,{type:"c"}],["B",1,-4,{type:"d"}],["B",-2,4,{type:"e"}],["B",-1,4,{type:"t"}],["G",4,4],["I0",-1,0],["H",0,1],["D",4,0],["A",-2,0,{type:"e",rot:180}],["A",-3,0,{type:"l"}],["A",-4,0,{type:"e"}],["A",0,0,{type:"e"}],["A",1,0,{type:"l"}],["A",2,0,{type:"l"}],["A",3,0,{type:"e",rot:180}]],h:[["k",4,0],["j",-3,0],["j",-2,0],["l",3,0]],q:["Burger","Salad"],z:["c","d"],v:["m"],w:3,u:2,m1:140,m2:230,m3:320,t:180,msg:"You can push away zombies without taking damage using the riot shield. Repair it the same way you replenish ammo in your gun. Use the lever to open and close barriers",c:"#BBB",o:[[3,2],[3,3]]},{p1:[-50,10],p2:[-50,20],radX:6,radY:3,obj:[["B",-6,3,{type:"m"}],["B",-5,3,{type:"b"}],["B",-4,3,{type:"a"}],["B",-3,3,{type:"t"}],["E",-6,-1],["A",-5,-1],["D",-3,-1],["I1",-2,1],["I0",2,1],["H",0,-2],["H",-6,1],["H",0,0],["F",0,3],["G",6,3],["A",6,-1,{type:"l"}],["A",5,-1,{type:"e"}],["A",3,-1,{type:"e",rot:180}],["A",2,-1,{type:"l"}],["A",1,-1,{type:"l"}],["A",0,-1,{type:"l"}],["A",-1,-1,{type:"l"}],["A",-2,-1,{type:"e"}],["A",-2,0],["A",2,0],["A",-2,2,{type:"e",rot:-90}],["A",-2,3,{type:"e",rot:90}],["A",2,2,{type:"e",rot:-90}],["A",2,3,{type:"e",rot:90}]],h:[["j",-5,-1],["k",-3,-1]],q:["Burger"],z:["a","b"],v:["m"],w:2,u:3,m1:60,m2:130,m3:200,t:120,o:[[5,0],[5,2]],c:"#AAA",msg:"You are the only one who keeps the people protected and fed. Keep up the good work!"},{p1:[10,0],p2:[10,-10],radX:3,radY:2,obj:[["F",-3,2],["F",-2,2],["F",-3,1],["G",-3,-2],["B",1,-2,{type:"t"}],["B",0,-2,{type:"d"}],["A",3,-2],["E",3,-1],["A",3,0],["J",3,1,{tile:"3|1"}],["A",3,2],["D",1,2],["A",-3,0,{type:"e"}],["A",-2,0,{type:"l"}],["A",-1,0,{type:"e",rot:180}],["C",-1,2],["I0",-1,1],["H",0,0]],h:[["j",3,0],["l",1,2]],q:["Burger"],z:["d"],v:["n"],w:1,u:2,m1:50,m2:100,m3:150,t:150,o:[[-2,-1],[-2,-2]],c:"#999",msg:"You've run out of meat, but you have a large grinder! Push a zombie into the grinder using your riot shield and hold it there until the grinder 'processes' it. When you're done, you'll have a delicious pice of zombie meat"},{p1:[0,0],p2:[10,0],radX:4,radY:4,obj:[["F",-4,-4],["F",4,-4],["F",-4,4],["F",4,4],["F",0,4],["F",0,-4],["F",4,0],["F",-4,0],["D",2,-2],["D",-2,2],["B",-2,-2,{type:"j"}],["B",2,2,{type:"j"}],["A",-1,-2],["A",-1,2],["A",1,-2],["A",1,2],["A",-2,-1],["A",-2,1],["A",2,-1],["A",2,1]],h:[["k",-2,2],["k",-2,1],["l",2,-1],["l",2,-2]],q:[],z:[],v:[],w:5,u:2,m1:90,m2:140,m3:220,t:120,msg:"This is it. The zombies have come for you. Survive their attack to defeat them for good and take BACK the city from them!<br>Pro tip: You can use the shield while using the ammo station",c:"#555",o:[]},{p1:[10,-20],p2:[-10,-20],radX:4,radY:4,obj:[["B",-3,-4,{type:"e"}],["B",-2,-4,{type:"a"}],["B",-1,-4,{type:"b"}],["B",0,-4,{type:"c"}],["B",1,-4,{type:"d"}],["B",2,-4,{type:"m"}],["B",3,-4,{type:"t"}],["H",0,-2],["C",4,-4],["I0",4,0],["I0",-4,0],["A",3,0],["A",-3,0],["E",2,0],["E",-2,0],["A",-1,0,{type:"e"}],["A",0,0,{type:"l"}],["A",1,0,{type:"e",rot:180}],["H",0,1],["I1",-4,2],["I1",-3,2],["I1",-2,2],["I1",-1,2],["I1",0,2],["I1",1,2],["I1",2,2],["I1",3,2],["I1",4,2],["G",-4,4],["G",4,4]],h:[["j",-3,0],["j",3,0],["l",4,-2]],q:["Salad","Burger"],z:["a","b","c","d"],v:["m"],w:0,u:5,m1:130,m2:270,m3:400,t:210,o:[[-1,3],[1,3]],c:"#FB4",msg:"You did it! You took BACK the city from the zombies! The people are celebrating you, but they are also hungry. So be ready to make more food than ever before"}],as=null!=localStorage.p93?JSON.parse(localStorage.p93):[[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],cr=(t,e,a,r)=>{var i=cd("r");return i.style.setProperty("--w",t+"vmin"),i.style.setProperty("--h",e+"vmin"),i.style.background=a,i.style.transform=r,i},m={},m.b=cd("cont");for(var i=0;i<6;++i){var elem=cr(3,3,"red radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*i+"deg) translateZ(1.45vmin)");4==i?elem.style.transform="rotateX(90deg) translateZ(1.45vmin)":5==i&&(elem.style.transform="rotateX(90deg) translateZ(-1.45vmin)"),m.b.appendChild(elem)}for(m.b.appendChild(cr(.5,2,"green","translateY(-1.5vmin) rotateZ(-30deg)")),m.c=cd("cont"),i=0;i<6;++i)elem=cr(2.5,i>3?2.5:2,"purple radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*i+"deg) translateZ(1.20vmin)"),4==i?elem.style.transform="rotateX(90deg) translateZ(.99vmin)":5==i&&(elem.style.transform="rotateX(90deg) translateZ(-.99vmin)"),m.c.appendChild(elem);for(m.a=cd("cont"),i=0;i<6;++i)(elem=cr(4,4,"green")).style.transform="rotateY("+90*i+"deg) translateZ(1.95vmin)",4==i?elem.style.transform="rotateX(90deg) translateZ(1.95vmin)":5==i&&(elem.style.transform="rotateX(90deg) translateZ(-1.95vmin)"),elem.style.backgroundImage=i<4?"linear-gradient(90deg, transparent,rgba(255,255,255,.3),transparent,rgba(255,255,255,.3),transparent,rgba(255,255,255,.3),transparent)":"radial-gradient(transparent,rgba(255,255,255,.3),transparent,rgba(255,255,255,.3),transparent,rgba(255,255,255,.3),transparent)",elem.style.backgroundImage+=" radial-gradient(transparent,transparent,rgba(0,0,0,.5))",m.a.appendChild(elem);for(m.e=cd("cont"),i=0;i<4;++i)(elem=cr(3.5,2.5,"rgba(255,255,255,.7) linear-gradient(rgba(0,0,0,.3),transparent,transparent,rgba(0,0,0,.3))","rotateY("+90*i+"deg) translateZ(1.25vmin) rotateX(-20deg)")).style.clipPath="polygon(0% 0%,100% 0%,78% 100%,22% 100%)",m.e.appendChild(elem);for(m.e.appendChild(cr(1.95,1.95,"rgba(255,255,255,.7) radial-gradient(transparent,transparent,rgba(0,0,0,.4))","rotateX(90deg) translateZ(-1.05vmin)")),m.e.appendChild(cr(2.13,2.13,"linear-gradient(90deg,var(--l1), transparent,var(--l1),transparent,var(--l1),transparent,var(--l1),transparent,var(--l1))","rotateX(90deg) translateZ(-.7vmin)")),m.e.appendChild(cr(2.3,2.3,"linear-gradient(var(--l2), transparent,var(--l2),transparent,var(--l2),transparent,var(--l2),transparent,var(--l2))","rotateX(90deg) translateZ(-.3vmin)")),m.e.appendChild(cr(2.5,2.5,"linear-gradient(45deg, var(--l3), transparent,var(--l3),transparent,var(--l3),transparent,var(--l3),transparent,var(--l3))","rotateX(90deg) translateZ(.3vmin)")),m.e.appendChild(cr(2.8,2.8,"linear-gradient(-45deg, var(--l4), transparent,var(--l4),transparent,var(--l4),transparent,var(--l4),transparent,var(--l4))","rotateX(90deg) translateZ(.7vmin)")),m.e.appendChild(cr(3,3,"linear-gradient(-45deg, var(--l5), transparent,var(--l5),transparent,var(--l5),transparent,var(--l5),transparent,var(--l5))","rotateX(90deg) translateZ(1.1vmin)")),m.d=cd("cont"),i=0;i<3;++i)m.d.appendChild(cr(4.45,2,"yellow radial-gradient(transparent,rgba(0,0,0,.3))","rotateY("+Number(120*i+60)+"deg) translateZ(1.25vmin)"));for(i=0;i<2;++i)(elem=cr(4.45,4.45,"yellow radial-gradient(at 50% 40%,transparent,rgba(0,0,0,.3))","rotateX(90deg) translateY(1vmin) translateZ("+(0==i?1:-1)+"vmin)")).style.clipPath="polygon(0% 0%,100% 0%,50% 80%)",m.d.appendChild(elem);for(m.A=cd("cont"),i=0;i<5;++i)m.A.appendChild(cr(8,i>3?8:6,"radial-gradient(transparent,transparent,rgba(0,0,0,.5)), linear-gradient("+(i>3?-45:90)+"deg,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown)",i<4?"rotateY("+90*i+"deg) translateZ(3.94vmin) translateY(-3vmin)":"rotateX(90deg) translateZ(5.94vmin)"));for((elem=cd("cont itemelem")).style.transform="translateY(-7.5vmin)",elem.style.transformStyle="preserve-3d",m.A.appendChild(elem),m.B=cd("cont"),i=0;i<10;++i){elem=cr(8,i<8?6:8,"radial-gradient(transparent,transparent,rgba(0,0,0,.5)), linear-gradient("+(i>3?-45:90)+"deg,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown)","rotateY("+90*i+"deg) translateZ("+(i<4?3.94:3.44)+"vmin) translateY(-3vmin)");i>7&&(elem.style.transform="rotateX(90deg) translateZ("+Number(6*(i-8)+.1)+"vmin)"),9==i&&(elem.style.clipPath="polygon(0% 0%,100% 0%,100% 100%,0% 100%,0% 93%,93% 93%,93% 7%,7% 7%,7% 93%, 0% 93%)"),m.B.appendChild(elem)}for(i=0;i<3;++i)(elem=cd("cont itemplace")).style.transform=0==i?"translateY(-4.3vmin) translateZ(-1.3vmin) translateX(-1.1vmin)":1==i?"translateY(-5vmin) translateZ(1.1vmin) translateX(1.3vmin)":"translateY(-6vmin) translateZ(1.5vmin) translateX(-1.2vmin)",elem.style.transformStyle="preserve-3d",m.B.appendChild(elem);for(var i in au=(t,e)=>{for(var a=cd("cont"),r=0;r<8;++r){var i=cr(3,3,t+" radial-gradient(rgba(255,255,255,.5),transparent,rgba(0,0,0,.5))","rotateY(90deg) translateZ("+(r-3)/2+"vmin)");e&&(i.style.borderRadius="50%"),a.appendChild(i)}return a},m.bs=au("red",1),m.cs=au("purple",1),m.as=au("green",1),m.ds=au("yellow",0),m.C=m.B.cloneNode(1),m.C.children)i<11&&(m.C.children[i].style.background="#999 radial-gradient(transparent,transparent,rgba(0,0,0,.5))");for(m.j=cd("cont"),i=0;i<6;++i)m.j.appendChild(cr(.8,i<4?2:.8,"linear-gradient(45deg,#222,#555,#222,#555,#222,#555,#222)",i<4?"rotateY("+90*i+"deg) translateZ(.4vmin)":"rotateX(90deg) translateZ("+(i<5?-1:1)+"vmin)"));for((elem=cr(1.8,4.5,"darkgray","rotateY(90deg) translateY(-2.75vmin)")).style.borderTopLeftRadius="1.8vmin 4.5vmin",m.j.appendChild(elem),m.k=cd("cont"),m.k.style.setProperty("--c","#222"),i=0;i<6;++i)m.k.appendChild(cr(i<4?4:1,1,5==i?"var(--c) radial-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5),transparent,rgba(0,0,0,.5))":"var(--c) radial-gradient(transparent,transparent,rgba(0,0,0,.5))",i<4?"translateY(-1.25vmin) rotateY(90deg) rotateX("+90*i+"deg) translateZ(.5vmin)":"translateY(-1.25vmin) rotateY("+(i>4?0:180)+"deg) translateZ(2vmin)"));for(i=0;i<5;++i)m.k.appendChild(cr(1,i<4?1.5:1,"var(--c) radial-gradient(transparent,transparent,rgba(0,0,0,.5))",i<4?"translateZ(-1.5vmin) rotateY("+90*i+"deg) translateZ(.5vmin)":"translateZ(-1.5vmin) rotateX(90deg) translateZ(-.75vmin)"));for(var i in(elem=cr(.5,.5,"","rotateY(-90deg) translateY(-.25vmin) translateX(-.6vmin)")).style.borderRight=elem.style.borderBottom=".25vmin solid var(--c)",elem.style.borderBottomRightRadius=".5vmin .5vmin",m.k.appendChild(elem),m.D=m.B.cloneNode(1),m.D.children)i<11&&(m.D.children[i].style.background="radial-gradient(transparent,transparent,rgba(0,0,0,.5)), linear-gradient(30deg,darkgreen,green,darkgreen)");for(var i in(elem=cr(7,7,"radial-gradient(gold,yellow)","rotateX(90deg) translateZ(5.4vmin)")).style.backgroundSize="1vmin 1vmin",m.D.appendChild(elem),(elem=cd("cont itemelem")).style.transform="translateY(-5.5vmin) rotateZ(-90deg)",elem.style.transformStyle="preserve-3d",m.D.appendChild(elem),m.I0=m.A.cloneNode(1),m.I0.style.transition="transform 300ms",m.I0.children)i<5&&(m.I0.children[i].style.background="navy",m.I0.children[i].style.backgroundImage="linear-gradient(45deg, transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent), linear-gradient(-45deg, transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent), radial-gradient(transparent,transparent,rgba(0,0,0,.5))");for(var i in m.I1=m.A.cloneNode(1),m.I1.style.transition="transform 300ms",m.I1.childNodes)i<5&&(m.I1.children[i].style.background="firebrick",m.I1.children[i].style.backgroundImage="linear-gradient(45deg, transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent), linear-gradient(-45deg, transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent, rgba(0,0,0,.4),transparent), radial-gradient(transparent,transparent,rgba(0,0,0,.5))");for(m.H=cd("cont"),i=0;i<5;++i){if(i<2)elem=cr(4,2,"gray radial-gradient(transparent,transparent,rgba(0,0,0,.5))","translateY(-1vmin) rotateY("+180*i+"deg) translateZ(1.5vmin)");else if(i<4)elem=cr(3,2,"gray radial-gradient(transparent,transparent,rgba(0,0,0,.5))","translateY(-1vmin) rotateY("+Number(180*i+90)+"deg) translateZ(2vmin)");else elem=cr(4,3,"linear-gradient(90deg,gray,red,gray,blue,gray), radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateX(90deg) translateZ(2vmin)");m.H.appendChild(elem)}for(elem=cd("cont"),i=0;i<5;++i)elem.appendChild(cr(1,i<4?8:1,i<4?"radial-gradient(transparent,transparent,rgba(0,0,0,.5)), linear-gradient(to top, saddlebrown 0%,saddlebrown 80%,gray 82%,gray 100%)":"gray radial-gradient(transparent,transparent,rgba(0,0,0,.5))",i<4?"translateY(-4vmin) rotateY("+90*i+"deg) translateZ(.5vmin)":"translateY(-8vmin) rotateX(90deg)"));for(elem.style.transition="transform 300ms",elem.style.transform="translateY(-1vmin) rotateZ(var(--j))",m.H.appendChild(elem),m.A_l=cd("cont"),i=0;i<3;++i)m.A_l.appendChild(cr(10.1,i<2?6:8,"linear-gradient(rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5)), linear-gradient("+(i>1?0:90)+"deg,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown)",i<2?"rotateY("+180*i+"deg) translateZ(3.94vmin) translateY(-3vmin)":"rotateX(90deg) translateZ(5.94vmin)"));for(m.A_e=cd("cont"),i=0;i<4;++i)elem=cr(2==i?8:9,3==i?8:6,"linear-gradient(rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5)), linear-gradient("+(i>2?0:90)+"deg,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown,saddlebrown,sandybrown)","translateX(.5vmin) rotateY("+180*i+"deg) translateZ(3.94vmin) translateY(-3vmin)"),2==i?elem.style.transform="rotateY(-90deg) translateZ(3.94vmin) translateY(-3vmin)":3==i&&(elem.style.transform="translateX(.5vmin) rotateX(90deg) translateZ(5.94vmin)"),m.A_e.appendChild(elem);for((elem=cd("cont itemelem")).style.transform="translateY(-7.5vmin)",elem.style.transformStyle="preserve-3d",m.A_l.appendChild(elem.cloneNode(1)),m.A_e.appendChild(elem),m.F=cr(8,8,"rgba(0,0,0,.9)","rotateX(90deg) translateZ(.5vmin)"),m.F.style.borderRadius="50%",m.F.style.boxShadow="red 0 0 2vmin,orange 0 0 3vmin",m.G=m.F.cloneNode(1),m.G.style.boxShadow="blue 0 0 2vmin,green 0 0 3vmin",m.l=cd("cont"),i=0;i<6;++i)elem=i<2?cr(5,2,"#222 radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateY("+180*i+"deg) translateZ(.25vmin)"):i<4?cr(.5,2,"#222 radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateY("+Number(90+180*i)+"deg) translateZ(2.5vmin)"):cr(5,.5,"#222 radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateX("+Number(90+180*i)+"deg) translateZ(1vmin)"),m.l.appendChild(elem);for((elem=cr(5,9,"var(--c)","")).style.opacity=.8,elem.style.borderRadius="1vmin",m.l.style.setProperty("--c","white"),m.l.appendChild(elem),m.l.style.transform="translateZ(2.6vmin) translateY(-1.1vmin)",m.J=cd("cont"),i=0;i<2;++i){(elem=cd("cont")).style.animation="c 3s linear infinite",elem.style.setProperty("--z",(i>0?-3:3)+"vmin"),elem.style.setProperty("--d",i>0?-1:1);for(var j=0;j<3;++j){var elem2=cr(8,3,"gray radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateX("+120*j+"deg) translateZ(.8vmin)");elem.appendChild(elem2)}m.J.appendChild(elem)}for((elem=cd("cont itemelem")).style.transform="translateY(-2vmin)",elem.style.transformStyle="preserve-3d",m.J.appendChild(elem),m.m=cd("cont"),m.m.style.setProperty("--c","saddlebrown"),m.m.style.transform="rotateX(90deg) rotateZ(45deg)",i=0;i<4;++i)(elem=cr(3.25,3.5,"var(--c) linear-gradient(rgba(0,0,0,.3),transparent,transparent,rgba(0,0,0,.3))","rotateY("+90*i+"deg) translateZ(1vmin) rotateX(-20deg)")).style.clipPath="polygon(0% 0%,100% 0%,63% 100%,37% 100%)",m.m.appendChild(elem);for(m.m.appendChild(cr(3.25,3.25,"var(--c) radial-gradient(transparent,transparent,rgba(0,0,0,.4))","rotateX(90deg) translateZ(1.5vmin)")),i=0;i<4;++i)m.m.appendChild(cr(.8,2.6,"#EEE linear-gradient(rgba(0,0,0,.3),transparent,transparent,rgba(0,0,0,.3))","translateY(3vmin)rotateY("+90*i+"deg) translateZ(.38vmin)"));for(m.m.appendChild(cr(.8,.8,"#EEE radial-gradient(transparent,transparent,rgba(0,0,0,.4))","translateY(4.3vmin) rotateX(90deg)")),m.n=m.m.cloneNode(1),m.n.style.setProperty("--c","darkgreen"),m.o=cd("cont"),i=0;i<6;++i)m.o.appendChild(cr(3,i>3?3:.5,"var(--c) radial-gradient(transparent,transparent,rgba(0,0,0,.5)",i>3?"rotateX(90deg) translateZ("+(i<5?.24:-.24)+"vmin)":"rotateY("+90*i+"deg) translateZ(1.48vmin)"));for(m.o.style.setProperty("--c","#AA3C3B"),m.o.style.transform="translateY(.6vmin)",m.p=m.o.cloneNode(1),m.p.style.setProperty("--c","lightgreen"),m.s=m.o.cloneNode(1),m.s.style.setProperty("--c","#222"),m.q=m.o.cloneNode(1),i=4;i<6;++i)m.q.children[i].style.backgroundImage="linear-gradient(45deg, transparent, #111, transparent, #111, transparent, #111, transparent, #111, transparent), radial-gradient(transparent,transparent,rgba(0,0,0,.5)";for(m.q.style.setProperty("--c","saddlebrown"),m.r=m.q.cloneNode(1),m.r.style.setProperty("--c","darkgreen"),m.E=cd("cont"),i=0;i<5;++i)m.E.appendChild(cr(8,i>3?8:6,"#DEE radial-gradient(transparent,transparent,rgba(0,0,0,.5))",i<4?"rotateY("+90*i+"deg) translateZ(3.94vmin) translateY(-3vmin)":"rotateX(90deg) translateZ(5.94vmin)"));for((elem=cd("cont itemelem")).style.transform="translateY(-7.5vmin)",elem.style.transformStyle="preserve-3d",m.E.appendChild(elem),elem=cr(6,4,"rgba(0,0,0,.8)",""),m.E.children[0].appendChild(elem),m.E.children[4].style.backgroundImage="radial-gradient(transparent,transparent,rgba(0,0,0,.5)), radial-gradient(rgba(0,0,0,.8) 50%,transparent 50%)",m.E.children[4].style.backgroundSize="8vmin 8vmin, 4vmin 4vmin",(elem=cd("cont itemelem")).style.transform="translateY(8vmin)",elem.style.transformStyle="preserve-3d",m.E.appendChild(elem),(elem=cd("q")).style.setProperty("--c","yellow"),elem.style.setProperty("--angle","0"),elem.style.transform="translateY(-12vmin)",m.E.style.setProperty("--prog","0"),m.E.appendChild(elem),m.t=cd("cont"),m.t.style.setProperty("--l",0),elem=cd("cont"),i=0;i<4;++i)elem.appendChild(cr(3,.5,"#F5B062 linear-gradient(90deg,rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*i+"deg) translateZ(1.5vmin)"));for(elem.appendChild(cr(3,3,"#F5B062 radial-gradient(transparent,transparent,rgba(0,0,0,.5))","rotateX(90deg) translateZ(-.25vmin)")),m.t.appendChild(elem),elem=cd("cont"),i=0;i<4;++i)elem.appendChild(cr(3,.5,"#F5B062 linear-gradient(90deg,rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*i+"deg) translateZ(1.5vmin)"));for(i=0;i<4;++i)(elem2=cr(3,2,"#F5B062 linear-gradient(rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.2))","translateY(-1.25vmin) rotateY("+90*i+"deg) translateZ(1.5vmin) rotateX(50deg)")).style.clipPath="polygon(0 100%, 50% 0, 100% 100%)",elem2.style.transformOrigin="50% 100%",elem.appendChild(elem2);for(elem.style.transform="translateY(calc((var(--l) + 1)* -.5vmin))",m.t.appendChild(elem),m.tpart=cd("cont"),m.tpart.style.transform="translateY(calc((var(--l) + 1)* -.5vmin))",m.tpart.style.setProperty("--c","white"),i=0;i<4;++i)m.tpart.appendChild(cr(3,.5,"var(--c) linear-gradient(90deg,rgba(0,0,0,.5),transparent,transparent,rgba(0,0,0,.5))","rotateY("+90*i+"deg) translateZ(1.5vmin)"));onkeydown=t=>{a.D&&(65==t.keyCode?navigator.language.includes("fr")?a.p1.drop():a.p1.speedX=-.02:68==t.keyCode?a.p1.speedX=.02:83==t.keyCode?a.p1.speedY=.02:87==t.keyCode||90==t.keyCode?a.p1.speedY=-.02:69==t.keyCode?a.p1.al():32==t.keyCode?a.p1.aa():81==t.keyCode?navigator.language.includes("fr")?a.p1.speedX=-.02:a.p1.drop():37==t.keyCode?a.p2.speedX=-.02:39==t.keyCode?a.p2.speedX=.02:38==t.keyCode?a.p2.speedY=-.02:40==t.keyCode?a.p2.speedY=.02:96==t.keyCode?a.p2.aa():13==t.keyCode?a.p2.al():16==t.keyCode&&2==t.location&&a.p2.drop())},onkeyup=t=>{a.D&&(65!=t.keyCode||navigator.language.includes("fr")?68==t.keyCode?a.p1.speedX=0:83==t.keyCode||87==t.keyCode||90==t.keyCode?a.p1.speedY=0:81==t.keyCode&&navigator.language.includes("fr")?a.p1.speedX=0:32==t.keyCode?a.p1.ab():37==t.keyCode||39==t.keyCode?a.p2.speedX=0:38==t.keyCode||40==t.keyCode?a.p2.speedY=0:96==t.keyCode&&a.p2.ab():a.p1.speedX=0)};var N={},M={};for(var i in m)N[i]=[],M[i]={au:[],squishable:0};for(var i of(N.A.as=1,N.D.as=1,N.E.as=1,["b","a","c","d"]))M[i].squishable=M[i+"s"].squishable=1,M[i].color=M[i+"s"].color=a2(i+"s");for(M.e.au=M.j.au=M.l.au=M.k.au=["bs","cs","as","ds"],M.t.au=["bs","cs","as","ds","q","r"],aq=t=>{a.C=t,a.D=1,am(ar[t]),B(),s("m").hidden=1,s("g").hidden=1,ag(0)},ap=t=>{a.multi=t,ao(),t||(s("e").hidden=1),s("m").hidden=0,s("p").hidden=1,s("o").style.display="flex"},ao=t=>{s("o").innerHTML="";for(var e=0;e<9;++e){var a=cd("mapelem");if(a.appendChild(cd("sbox")),as[e][0]){a.className+=" b",a.style.background="firebrick";for(var r=1;r<4;++r){var i=cd("minis");i.style.setProperty("--c",as[e][r]?"yellow":"black"),a.lastChild.appendChild(i)}a.innerHTML+=e+1,a.n=e,a.onclick=function(){aq(this.n)}}else a.style.background="#333",a.lastChild.innerHTML="LOCKED";s("o").appendChild(a)}},ao(),i=0;i<2;++i)(elem=cr(80,10,"#F5B062","translateY("+(i<1?-15:11)+"vmin) rotate("+180*i+"deg)")).style.borderTopLeftRadius=elem.style.borderTopRightRadius="10vmin",s("s").appendChild(elem);for(s("s").appendChild(cr(80,3,"yellow","translateY(-7.5vmin)")),(elem=A(1,"#FAFAD2","#EEE")).style.transform="translateY(8vmin) translateX(-22.5vmin)",document.querySelectorAll(".but2")[0].appendChild(elem),(elem=A(1,"#FAFAD2","#EEE")).style.transform="translateY(8vmin) translateX(-25vmin) translateZ(-3vmin)  rotateY(-30deg)",document.querySelectorAll(".but2")[1].appendChild(elem),(elem=A(1,"saddlebrown","#EEE")).style.transform="translateY(8vmin) translateX(-19vmin) translateZ(3vmin) rotateY(22deg)",document.querySelectorAll(".but2")[1].appendChild(elem),s("o").style.display="none",a.D=0,i=1;i<7;++i)s("i").appendChild(cd("s"+Math.round(i/2)+" star"+(i%2==0?"m":"")))</script>