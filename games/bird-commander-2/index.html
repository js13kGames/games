<!doctype html><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê¶</text></svg>"><meta name=viewport content="width=device-width,user-scalable=no,viewport-fit=cover,maximum-scale=1,user-scalable=no"><meta charset=utf-8><title>Bird Commander 2</title><style>*{box-sizing:border-box;padding:0;margin:0;font-family:sans-serif;user-select:none;-webkit-tap-highlight-color:transparent;overscroll-behavior-y:none}body,html{width:100%;height:100%;min-height:fill-available;margin:0;padding:0;position:fixed;overflow:hidden;z-index:1}body{background-color:#89d69e}#game{background-color:#71d568;image-rendering:pixelated;image-rendering:crisp-edges;top:0;left:0;width:100%;height:100%}#title-screen{text-align:left;pointer-events:none}#results{text-align:left}.overlay{font-family:"Pixelated MS Sans Serif",Arial;-webkit-font-smoothing:none;color:#fff;font-size:20px;max-width:500px;position:absolute;left:50%;transform:translate(-50%,-50%);text-shadow:1px 1px 1px #000;top:50%;text-align:left}#game-title{margin:25px;text-align:center;font-size:40px}#click-to-play{position:absolute;width:100%;text-align:center;padding:25px}.blink{animation:blinker 1s step-start infinite}@keyframes blinker{50%{opacity:0}}.ui{z-index:2;position:absolute;padding:5px;text-align:center;width:100%}#ui-wrapper-top{top:0;user-select:none}#ui-wrapper-bottom{bottom:0}.hide{display:none}.inline{font-family:"Pixelated MS Sans Serif",Arial;-webkit-font-smoothing:none;color:#fff;font-size:20px;display:inline-block;text-shadow:1px 1px 1px #000;padding:0 5px}button{touch-action:manipulation;font-family:"Pixelated MS Sans Serif",Arial;-webkit-font-smoothing:none;font-size:11px;box-sizing:border-box;border:none;background:var(--surface);box-shadow:var(--border-raised-outer),var(--border-raised-inner);border-radius:0;min-width:75px;min-height:23px;padding:0 12px;margin:0 5px;z-index:3}button:not(:disabled):active{box-shadow:var(--border-sunken-outer),var(--border-sunken-inner)}button:disabled{color:var(--button-shadow);text-shadow:1px 1px 0 var(--button-highlight)}button:hover{cursor:pointer}button.selected{box-shadow:var(--border-sunken-outer),var(--border-sunken-inner)}button:focus{outline:1px dotted #000000;outline-offset:-4px}:root{--surface:#c0c0c0;--button-highlight:#ffffff;--button-face:#dfdfdf;--button-shadow:#808080;--window-frame:#0a0a0a;--border-width:1px;--border-raised-outer:inset -1px -1px var(--window-frame),inset 1px 1px var(--button-highlight);--border-raised-inner:inset -2px -2px var(--button-shadow),inset 2px 2px var(--button-face);--border-sunken-outer:inset -1px -1px var(--button-highlight),inset 1px 1px var(--window-frame);--border-sunken-inner:inset -2px -2px var(--button-face),inset 2px 2px var(--button-shadow)}</style><canvas id=game></canvas><div id=title-screen class="ui overlay"><div id=game-title>Bird Commander 2</div><p style=padding-bottom:10px>Greetings, Commander Bird.<p>Assemble your flocks before you attack to eliminate as many humans as possible. You must eliminate 50% or better to move on to the next stage. We are counting on you.<p style=padding-top:30px;padding-bottom:10px>Chirp chirp,<p><p>General Bird<div id=click-to-play class=blink>Click or tap to play</div></div><div id=results class="ui overlay"><div id=ui-wrapper-middle class=ui><div id=ui-middle-text></div></div></div><div id=ui-wrapper-top class=ui></div><div id=ui-wrapper-bottom class=ui></div><script>(()=>{"use strict";var t={566:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0}),i.i=void 0;var e,s=n(490);!function(t){t.red="#a12f18",t.h="#45484d",t.blue="#285cc4",t.u="#f23fae",t.o="#303336"}(e=i.i||(i.i={}));var r=function(){function t(t,i){this.v=t,this.l=new s.g(0,0,0),this._=new s.g(0,-.75,0),this.size=new s.g(5,5,0),this.A=i,this.m=0,this.color=e.red}return t.prototype.p=function(){return this.m>0},t.prototype.M=function(t,i){var n=t.v,e=t.size;this.m=200;var r=(0,s.O)(n.x+e.x/2+2,n.x+e.x/2-2),o=(0,s.O)(n.y+2,n.y-2);this.v.set(r,o,n.z),this._.set(0,-.75,0),this.l.set((0,s.O)(-3,3),(0,s.O)(1.5,3),0),this.j=n.y-e.y,this.color=i},t.prototype.update=function(){this.l.add(this._),this.v.add(this.l),this.v.y<=this.j&&(this.l.set(0,0,0),this._.set(0,0,0))},t.prototype.k=function(){var t=this.A,i=t.C,n=t.offset,e=this.A.F.size.y;i.fillStyle=this.color,i.fillRect((this.v.x-n.x)*n.z,(e-this.v.y-n.y)*n.z,this.size.x*n.z,this.size.y*n.z)},t}();i.default=r},998:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=e(n(566)),r=n(490),o=e(n(419)),h=function(){function t(t,i){void 0===i&&(i=1e4),this.N=[];for(var n=0;n<i;n++){var e=new s.default(new r.g(0,0,0),t);this.N.push(e)}}return t.prototype.Y=function(t,i){var n=this.N.find((function(t){return!t.p()}));if(!n){for(var e=0;e<Math.floor(5e3);e++)this.N[e].m=0;n=this.N[0]}return n.M(t,i),n},t.prototype.reset=function(){this.N.forEach((function(t){return t.m=0}))},t.D=function(){return t.I||(t.I=new t(o.default.D())),t.I},t}();i.default=h},665:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=n(490),h=r(n(365)),u=n(566),a=r(n(296)),f=r(n(356)),c=function(t){function i(i,n){var e=this,s=new f.default("idle",1,0,0),r={name:"car",v:i,R:a.default,U:1,B:new o.g(16,8,1),size:new o.g(96,48,1),F:n,L:{G:s,default:s}};return(e=t.call(this,r)||this).S=!0,e.q=!0,e.startOffset=0,e.P=200,e.Z=u.i.blue,e.W(!1,!0),e}return s(i,t),i.H=new o.g(32,32,1),i.X=3,i.V=new o.g(i.X*i.H.x,i.X*i.H.y,1),i}(h.default);i.default=c},482:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0}),i.J=i.$=i.align=void 0;var e=n(490),s=function(){function t(t){this.tt=new e.g(0,0,0),this.it=t}return Object.defineProperty(t.prototype,"nt",{get:function(){if(this.tt.set(0,0,0),0===this.it.length)return this.tt;for(var t=0;t<this.it.length;t++){var i=this.it[t];this.tt.add(i.v)}return this.tt.div(this.it.length),this.tt.set(this.tt.x,this.tt.y,0),this.tt},st:!1,ht:!0}),t}();i.default=s,i.align=function(t,i){for(var n=0,s=new e.g(0,0,0),r=0,o=i;r<o.length;r++){var h=o[r];t.id!==h.id&&(s.add(h.l),n++)}return n>0&&(s.div(n),s.et(3),s.sub(t.l),s.rt(.1)),s},i.$=function(t,i,n,s){void 0===s&&(s=1);for(var r=0,o=new e.g(0,0,0),h=0,u=i;h<u.length;h++){var a=u[h];n||(n=a.v),t.id!==a.id&&(o.add(n),r++)}return r>0?o.div(r):o.set(n.x,n.y,n.z),o.sub(t.v),o.rt(.1),o.ut(s)},i.J=function(t,i,n,s){void 0===s&&(s=1);for(var r=0,o=new e.g(0,0,0),h=0,u=i;h<u.length;h++){var a=u[h],f=(0,e.ot)(t.v,a.v);if(t.id!==a.id&&f<n){var c=e.g.sub(t.v,a.v);0!==f&&c.div(f),o.add(c),r++}}return r>0&&(o.div(r),o.et(3),o.sub(t.l),o.rt(.1)),o.ut(s)}},295:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=n(490),h=r(n(365)),u=n(482),a=r(n(296)),f=r(n(356)),c=function(t){function i(i,n){var e=this,s=new o.g(32,32,1),r=new o.g(16,16,1),h=new f.default("fly_right",2,0,8),u=new f.default("fly_left",2,2,8),c={name:"gull",v:i,R:a.default,U:2,B:r,size:s,F:n,L:{ct:h,ft:u,default:h}};return(e=t.call(this,c)||this).S=!1,e.vt=!0,e.startOffset=16,e.lt=0,e.wt=50,e}return s(i,t),i.prototype.dt=function(t){return t>this.lt+this.wt},i.prototype.attack=function(t){this.lt=t},i.prototype.bt=function(t,i){var n=(0,u.$)(this,t,i,1.6),e=(0,u.J)(this,t,150,.4);this._.add(n),this._.add(e)},i.prototype.update=function(i){t.prototype.update.call(this,i),this.l.rt(3),this.l.gt()<2&&this.l.et(2),this.l.x<=0?this._t(this.L.ft):this.l.x>0&&this._t(this.L.ct)},i}(h.default);i.default=c},585:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=function(t){function i(i,n){var e=t.call(this,i)||this;return e.At=n,e}return s(i,t),i}(r(n(482)).default);i.default=o},607:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=n(490),r=e(n(489)),o=e(n(419)),h=e(n(562)),u=e(n(998)),a=n(745),f=n(687),c=n(679),l=u.default.D(),p=document.getElementById("game"),d=p.getContext("2d"),y=640,v=480;p.width=y,p.height=v;var x=null,w=0,g=o.default.D(),z=f.Mt[0],A=r.default.D();A.Ot(p);var b=h.default.D();function O(){l.reset(),b.state.jt(b,a.yt.xt),b.F=z}function _(t){t.set((t.x/w+g.offset.x*g.offset.z)/g.offset.z,(t.y/w+g.offset.y*g.offset.z)/g.offset.z,0);var i=z.size.y;return t.set(t.x,i-t.y,t.z),t}b.kt(z,f.Mt,(function(t){f.Mt[t]=f.Ct[t](),z=f.Mt[t],O()}),(function(){var t=f.Mt.indexOf(z);if(t!==f.Mt.length-1){var i=t+1;z=f.Mt[i],O()}})),A.Et((function(t){if(g.zt===c.Tt.Ft)return b.Nt(),b.Yt(),void(g.zt=c.Tt.Dt);if(g.zt!==c.Tt.It&&g.zt!==c.Tt.Kt){var i=_(t),n=z.Rt(i);n&&function(t){var i=z.Ut.find((function(i){return i.At===t}));z.Bt(i),A.Lt=t}(n)}})),A.Gt((function(t){if(A.Lt){var i=A.Lt;if(i){var n=_(t);i.v.set(n.x,n.y,n.z),z.St()}}})),b.qt(),requestAnimationFrame((function t(i){if(requestAnimationFrame(t),function(t){void 0===t&&(t=!1);var i=window.innerWidth/window.innerHeight;if(x!==i||!1!==t){var n=y,e=v;(x=i)>=1.3333333333333333?(e=v,n=v*x):(e=y/x,n=y),p.width=n,p.height=e,g.Pt.set((n-y)/2,(e-v)/2,0),w=window.innerHeight/e}}(),g.Zt(z),d.imageSmoothingEnabled=!1,d.clearRect(0,0,p.width,p.height),z.k(),function(t){for(var i=0;i<l.N.length;i++){var n=l.N[i];n.p()&&(n.update(),n.k())}for(z.Wt.k(t),z.Qt.forEach((function(i){return i.k(t)})),z.Ht.forEach((function(i){return i.k(t)})),i=0;i<z.Xt.length;i++){var e=z.Xt[i];e.Vt||e.Jt||(e.update(t),e.k(t))}z.Ut.forEach((function(t){t.At.k(),t.it.forEach((function(i){i.bt(t.it,t.At.v),z.$t===t&&t.At.ti(i)}))})),z.ii.forEach((function(i){i.update(t),i.k(t)})),z.ni.forEach((function(t){t.bt(z.ni,z.nt)})),b.state instanceof a.si?z.Xt.forEach((function(i){i.Jt||i.Vt||z.ii.forEach((function(n){(0,s.hi)(n,i)&&n.dt(t)&&(i.ei(1,t),n.attack(t))}))})):z.ri.forEach((function(t){t.it.forEach((function(i){return i.bt(t.it)}))}))}(i),b.update(),z.ui-z.oi-z.ai<=0)if(z.ci<.5)b.fi(),g.zt=c.Tt.It;else{var n=f.Mt.indexOf(z)+1,e=!1;n===f.Mt.length?(g.zt=c.Tt.vi,e=!0):g.zt=c.Tt.Kt,b.li(n,f.Mt.length,e)}}))},489:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=n(490),r=e(n(419)),o=function(){function t(){this.wi=!1,this.di=[],this.bi=[],this.gi=[],this._i=[],this.A=r.default.D(),this.canvas=this.A.canvas}return t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.Ot=function(t){t.addEventListener("mousedown",this.Ai.bind(this)),document.body.addEventListener("mousemove",this.mi.bind(this)),t.addEventListener("mouseup",this.pi.bind(this)),t.addEventListener("touchstart",this.Mi.bind(this),{passive:!0}),t.addEventListener("touchend",this.pi.bind(this)),t.addEventListener("touchmove",this.Oi.bind(this),{passive:!0}),t.addEventListener("touchcancel",this.pi.bind(this))},t.prototype.Et=function(t){this.di.push(t)},t.prototype.Gt=function(t){this.gi.push(t)},t.prototype.ji=function(t){this._i.push(t)},t.prototype.xi=function(t,i){this.di.forEach((function(n){return n(new s.g(t,i,0))}))},t.prototype.Ai=function(t){t.preventDefault();var i=this.yi(t);this.xi(i.x,i.y)},t.prototype.yi=function(t){var i=this.canvas.getBoundingClientRect(),n=new s.g(0,0,0);if(t instanceof MouseEvent){var e=t.clientX-i.left,r=t.clientY-i.top;n.set(e,r,0)}else t instanceof TouchEvent&&(e=t.changedTouches[0].clientX-i.left,r=t.changedTouches[0].clientY-i.top,n.set(e,r,0));return n},t.prototype.Mi=function(t){t.preventDefault();var i=this.yi(t);this.xi(i.x,i.y)},t.prototype.preventDefault=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.ki=function(t){this.bi.forEach((function(i){return i(t.key)}))},t.prototype.mi=function(t){var i=this.yi(t);this.Ci(i.x,i.y)},t.prototype.Oi=function(t){var i=this.yi(t);this.Ci(i.x,i.y)},t.prototype.Ci=function(t,i){this.gi.forEach((function(n){return n(new s.g(t,i,0))}))},t.prototype.pi=function(t){t.preventDefault(),t.stopPropagation();var i=this.yi(t);this._i.forEach((function(t){return t(new s.g(i.x,i.y,0))})),this.Lt=null},t}();i.default=o},679:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.Tt=void 0,function(t){t.Ft="TITLE",t.Dt="PLAYING",t.It="WAITING_FOR_RETRY",t.Kt="WAITING_FOR_NEXT",t.vi="WON"}(i.Tt||(i.Tt={}))},490:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.uuid=i.Ei=i.zi=i.O=i.Fi=i.ot=i.hi=i.g=void 0;var n=function(){function t(t,i,n){return this.x=t,this.y=i,this.z=n,this}return t.sub=function(i,n){return new t(i.x-n.x,i.y-n.y,i.z-n.z)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.Ti=function(){return new t(this.x,this.y,this.z)},t.prototype.set=function(t,i,n){return this.x=t,this.y=i,this.z=n,this},t.prototype.div=function(i){var n=0,e=0,s=0;if(i instanceof t||(e=n=i,s=n),Number.isFinite(n)&&Number.isFinite(e)&&Number.isFinite(s)){if(0===n||0===e||0===s)return this;this.x/=n,this.y/=e,this.z/=s}return this},t.prototype.ut=function(i){var n=0,e=0,s=0;return i instanceof t?(n=i.x,e=i.y,s=i.z):(e=n=i,s=n),Number.isFinite(n)&&Number.isFinite(e)&&Number.isFinite(s)&&(this.x*=n,this.y*=e,this.z*=s),this},t.prototype.rt=function(t){var i=this.Ni();return i>t*t&&this.div(Math.sqrt(i)).ut(t),this},t.prototype.et=function(t){return this.normalize().ut(t)},t.prototype.gt=function(){return Math.sqrt(this.Ni())},t.prototype.normalize=function(){var t=this.gt();return 0!==t&&this.ut(1/t),this},t.prototype.Ni=function(){var t=this.x,i=this.y,n=this.z;return t*t+i*i+n*n},t}();function e(t,i){return Math.random()*(i-t)+t}i.g=n,i.hi=function(t,i){var n=t.v.x,e=t.v.x+t.size.x,s=t.v.y,r=t.v.y+t.size.y,o=i.v.x,h=i.v.x+i.size.x,u=i.v.y,a=i.v.y+i.size.y;return!(o>e||h<n||u>r||a<s)},i.ot=function(t,i){return Math.hypot(i.x-t.x,i.y-t.y,i.z-t.z)},i.Fi=function(t,i,n){return Math.min(Math.max(t,i),n)},i.O=e,i.zi=function(t,i){return Math.floor(e(t,i+1))},i.Ei=function(t,i){var n=i.v.x,e=i.v.x+i.size.x,s=i.v.y,r=i.v.y-i.size.y;return t.x>=n&&t.x<=e&&t.y<=s&&t.y>=r},i.uuid=function(){var t=(new Date).getTime(),i=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=16*Math.random();return t>0?(e=(t+e)%16|0,t=Math.floor(t/16)):(e=(i+e)%16|0,i=Math.floor(i/16)),("x"==n?e:7&e|8).toString(16)}))}},774:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=n(490),h=r(n(365)),u=r(n(296)),a=n(482),f=r(n(356)),c=r(n(463)),l=n(155),p=n(745),d=function(t){function i(i,n){var e=this,s=new o.g(24,48,1),r=new o.g(8,16,1),h=new f.default("walk_right",2,4,10),a=new f.default("walk_left",2,6,10),p=new f.default("run_right",2,0,5),d=new f.default("run_left",2,2,5),y=new f.default("punch_right",2,8,5),v=new f.default("punch_left",2,10,5),x={name:"person",v:i,R:u.default,U:2,B:r,size:s,F:n,L:{Yi:p,Di:d,Ii:h,Ki:a,Ri:v,Ui:y,default:h}};return(e=t.call(this,x)||this).Bi=50,e.Li=5,e.S=!0,e.vt=!0,e.path=[],e.Vt=!1,e.startOffset=112,e.Gi=0,e.Si=1/60*1e3*10,e.N=[],e.search=new c.default(n),e.qi=new l.Pi,e}return s(i,t),i.prototype.bt=function(t){var i=(0,a.align)(this,t),n=(0,a.$)(this,t),e=(0,a.J)(this,t,30);this._.add(i.ut(.7)),this._.add(n.ut(.3)),this._.add(e.ut(.7))},i.prototype.Zi=function(){this.P<=0&&!this.Jt&&this.F.Wi(),t.prototype.Zi.call(this)},i.prototype.update=function(i){t.prototype.update.call(this,i);var n=l.Hi.Qi,e=null;if(this.Xi.state instanceof p.si){var s=this.F.Vi(this.nt),r=this.Wt.Ji;if(i>this.Gi+this.Si){var h=this.search.search(s,r);this.path=h,this.Gi=i}if(0===this.path.length)(0,o.hi)(this,this.Wt.$i)?(this.Vt=!0,this.F.tn()):console.warn("Yarp");else if((e=this.path[0]).nn)n=l.Hi.sn,this.l.et(0);else{var u=this.F.hn(e);this.l.set(u.x,u.y,u.z).sub(this.nt),this.l.et(.5)}}else this.l.et(.1);var a=null,f=this.Xi.state instanceof p.si;"left"===this.direction&&f?a=this.L.Di:"left"!==this.direction||f?"right"===this.direction&&f?a=this.L.Yi:"right"!==this.direction||f||(a=this.L.Ii):a=this.L.Ki,this._t(a),this.qi.jt(this,n),this.en(e,i),this.P<=0&&this.Zi(),this.rn()},i.prototype.en=function(t,i){var n=null==t?void 0:t.nn;t&&n&&(t.un.ei(1,i),t.un.P<=0&&(t.un.Zi(),t.un.on(t,!0,!1)))},i.prototype.an=function(){if(!(this.P<=0)){var t=this.A.C,i=this.F.size.y,n=this.v.x-(50-this.size.x)/2,e=i-this.v.y+this.size.y+5,s=this.A.offset,r=50*this.P/h.default.cn-4;t.fillStyle="white",t.fillRect((n-s.x)*s.z,(e-s.y)*s.z,50*s.z,10*s.z),t.fillStyle="red",t.fillRect((n+2-s.x)*s.z,(e+2-s.y)*s.z,r*s.z,6*s.z)}},i.prototype.k=function(i){t.prototype.k.call(this,i),this.an()},i}(h.default);i.default=d},155:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.Hi=i.Pi=i.fn=void 0;var n=function(){function t(){}return t.prototype.jt=function(t,i){var n=null;switch(i){case e.sn:r(t),n=this;break;case e.Qi:n=new s;break;default:n=this}return n},t}();i.fn=n;var e,s=function(){function t(){}return t.prototype.jt=function(t,i){var s=null;switch(i){case e.sn:r(t),s=new n;break;case e.Qi:default:s=this}return s},t}();function r(t){"left"===t.direction?t._t(t.L.Ri):"right"===t.direction&&t._t(t.L.Ui)}i.Pi=s,function(t){t.sn="FIGHT",t.Qi="PEACE"}(e=i.Hi||(i.Hi={}))},10:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=function(t){function i(i){return t.call(this,i)||this}return s(i,t),i}(r(n(482)).default);i.default=o},391:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.vn=void 0;var n=function(){function t(){var t=this;this.cells=[],this.ln=[],this.wn=function(i,n){return t.ln[i]-t.ln[n]}}return Object.defineProperty(t.prototype,"size",{get:function(){return this.cells.length},st:!1,ht:!0}),t.prototype.dn=function(t,i){this.cells.push(t),this.ln.push(i),this.bn()},t.prototype.gn=function(t){if(void 0===t&&(t=0),!this.size)return null;var i=null;return this.size>0&&(this._n(t,this.size-1),i=this.cells.pop(),this.ln.pop(),this.An(t)),i},t.prototype.bn=function(){for(var t=this.size-1,i=function(t){return Math.ceil(t/2-1)};i(t)>=0&&this.wn(i(t),t)>0;)this._n(i(t),t),t=i(t)},t.prototype.An=function(t){var i=this;void 0===t&&(t=0);for(var n=t,e=function(t){return 2*t+1},s=function(t){return 2*t+2},r=function(t){return s(t)<i.size&&i.wn(e(t),s(t))>0?s(t):e(t)};e(n)<this.size&&this.wn(n,r(n))>0;){var o=r(n);this._n(n,o),n=o}},t.prototype._n=function(t,i){var n=this.cells[t],e=this.ln[t];this.cells[t]=this.cells[i],this.cells[i]=n,this.ln[t]=this.ln[i],this.ln[i]=e},t}();i.vn=n},445:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=n(490),r=e(n(419)),o=e(n(471)),h=n(566),u=function(){function t(t,i){this.mn=new s.g(0,0,0),this.v=t,this.size=new s.g(15,15,0),this.pn=new s.g(75,75,0),this.A=r.default.D(),this.C=this.A.C,this.color=h.i.u,this.F=i}return Object.defineProperty(t.prototype,"Mn",{get:function(){return this.mn.set(this.v.x-this.pn.x/2,this.v.y+this.pn.y/2,this.v.z),this.mn},st:!1,ht:!0}),t.prototype.On=function(){var t=this,i=this.F.Vi(this.v),n=this.F.jn(i),e=n.map((function(i){return t.F.jn(i)}));i.xn=!0,i.yn+=o.default.kn,n.forEach((function(t){t.xn=!0,t.yn+=o.default.kn})),e.forEach((function(t){t.forEach((function(t){t.xn=!0,t.yn+=o.default.kn}))}))},t.prototype.k=function(){var t=this.F.size.y,i=this.A.offset;this.C.fillStyle=this.color;var n=(this.v.x-i.x)*i.z,e=(-1*(this.v.y-t)-i.y)*i.z;this.C.fillStyle=this.color,this.C.beginPath(),this.C.arc(n,e,this.size.x*i.z,0,2*Math.PI),this.C.fill()},t.prototype.ti=function(t){var i=this.F.size.y,n=this.A.offset;this.C.strokeStyle=h.i.u;var e=(this.v.x-n.x-this.size.x/2)*n.z,s=(-1*(this.v.y-i)-n.y-this.size.y/2)*n.z,r=(t.nt.x-n.x)*n.z,o=(-1*(t.nt.y-i)-n.y)*n.z;this.C.lineWidth=1,this.C.beginPath(),this.C.moveTo(e,s),this.C.lineTo(r,o),this.C.stroke()},t}();i.default=u},419:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0});var e=n(490),s=n(679),r=function(){function t(){this.zt=s.Tt.Ft,this.canvas=document.getElementById("game"),this.C=this.canvas.getContext("2d"),this.Cn=0,this.En=0,this.offset=new e.g(0,0,0),this.Pt=new e.g(0,0,0)}return t.prototype.Zt=function(t){this.F=t,this.offset.set(-this.Pt.x,-this.Pt.y,1),this.Cn=this.En,this.En++},t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.k=function(t){if(!t.Jt){var i=t.F.size.y;t.zn(this.Cn);var n=this.offset.z,e=Math.round((t.v.x-this.offset.x)*n),s=Math.round((i-t.v.y-this.offset.y)*n),r=Math.round(t.size.x*n),o=Math.round(t.size.y*n);this.C.drawImage(t.Fn,t.startOffset+t.Tn*t.B.x,0,t.B.x,t.B.y,e,s,r,o)}},t}();i.default=r},306:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=n(490),h=r(n(365)),u=r(n(296)),a=r(n(356)),f=function(t){function i(n,e){var s=this,r=new a.default("idle",1,0,0),h={name:"safe_house",v:n,R:u.default,U:1,B:new o.g(32,32,1),size:i.V,F:e,L:{G:r,default:r}};(s=t.call(this,h)||this).S=!1,s.startOffset=80;var f=s.size.Ti();s.Nn=new o.g(f.x,Math.floor(f.y/2),f.z);var c=new o.g(2*s.F.Yn,2*s.F.Yn,0),l=s.v.Ti();l.set(l.x+c.x,l.y-s.size.y+c.y,0);var p=new o.g(l.x+c.x/2,l.y-c.y/2,0);return s.Ji=s.F.Vi(p),s.$i={v:l,size:c},s.W(!1,!1,s.Nn.x,s.Nn.y),s}return s(i,t),i.H=new o.g(32,32,1),i.X=3,i.V=new o.g(i.X*i.H.x,i.X*i.H.y,1),i}(h.default);i.default=f},463:(t,i,n)=>{Object.defineProperty(i,"t",{value:!0});var e=n(391),s=function(){function t(t){this.F=t}return t.prototype.Dn=function(t){return this.F.In[t]},t.prototype.search=function(t,i){var n=new e.vn,s={},r={};n.dn(t,0),s[t.id]=null,r[t.id]=0;for(var o=null;n.size>0&&(o=n.gn())!==i;)for(var h=this.F.jn(o),u=0;u<h.length;u++){var a=h[u],f=r[o.id]+a.yn;if(void 0===r[a.id]||f<r[a.id]){if(!a.Kn&&!a.nn)continue;r[a.id]=f,s[a.id]=o.id,n.dn(a,f)}}var c=[];o=i;for(var l=0;o!==t&&l<50;){c.push(o);var p=s[o.id];if(void 0===(o=this.F.In[p]))break;l++}return c.reverse(),c.pop(),c},t}();i.default=s},365:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=e(n(471)),r=n(490),o=e(n(419)),h=n(566),u=e(n(998)),a=e(n(562)),f=u.default.D(),c=function(){function t(i){this.N=[],this.Z=h.i.red,this.P=t.cn,this.Rn=0,this.Un=50,this.Bi=50,this.Jt=!1,this.S=!1,this.q=!1,this.vt=!1,this.Bn=1,this.Ln=1,this.Gn=[],this.nn=[],this.startOffset=0,this.direction="right",this.tt=new r.g(0,0,0),this.name=i.name,this.v=i.v,this.Sn=i.v,this.l=new r.g(0,0,0),this._=new r.g(0,0,0),this.size=i.size,this.B=i.B,this.R=i.R,this.qn(),this.Pn=0,this.U=i.U,this.A=o.default.D(),this.Zn=(0,r.zi)(0,999999999),this.id=(0,r.uuid)(),this.F=i.F,this.L=i.L,this._t(this.L.default),this.Xi=a.default.D()}return Object.defineProperty(t.prototype,"Fn",{get:function(){return t.Wn[this.name]},st:!1,ht:!0}),t.prototype.Qn=function(t){void 0===t&&(t=null);var i=t;return null===i&&(i=this.size.x),(0,r.Fi)(Math.floor(i/this.F.Yn),1,this.F.Hn)},t.prototype.Xn=function(t){void 0===t&&(t=null);var i=t;return null===i&&(i=this.size.y),(0,r.Fi)(Math.floor(i/this.F.Yn),1,this.F.Hn)},t.prototype._t=function(t){this.Vn=t},t.prototype.zn=function(t){var i=this.Vn.U,n=this.Vn.offset;t%this.Vn.speed||(this.Pn=n+(this.Pn+1)%i)},Object.defineProperty(t.prototype,"Tn",{get:function(){return this.Pn},st:!1,ht:!0}),Object.defineProperty(t.prototype,"nt",{get:function(){return this.tt.set(this.v.x+this.size.x/2,this.v.y-this.size.y/2,this.v.z),this.tt},st:!1,ht:!0}),t.prototype.qn=function(){if(this.R){var i=new Image;i.src=this.R,t.Wn[this.name]=i}},t.prototype.ei=function(t,i){if(!(i<this.Rn+this.Un)){this.P=Math.max(0,this.P-t);for(var n=0;n<Math.floor(t);n++)this.N.push(f.Y(this,this.Z));this.Rn=i}},t.prototype.update=function(t){if(this.vt){for(var i=0;i<this.F.Jn.length;i++){var n=this.F.Jn[i];this.S&&(0,r.hi)(this,n)&&(this.l.ut(-1),this.l.add(this.nt).sub(n.nt).normalize(),this._.set(0,0,0))}this.v.add(this.l),this.l.add(this._),this._.set(0,0,0),this.l.x>0?this.direction="right":this.l.x<0&&(this.direction="left")}},t.prototype.Zi=function(){if(!this.Jt){this.Jt=!0;for(var t=0;t<this.Bi;t++)this.N.push(f.Y(this,this.Z))}},t.prototype.k=function(t){t<this.Rn+this.Un||this.A.k(this)},t.prototype.W=function(t,i,n,e){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===e&&(e=null),this.Gn=[],this.nn=[];var s=this.F.Vi(this.v),r=n||this.size.x,o=e||this.size.y,h=this.Qn(r),u=this.Xn(o);this.on(s,t,i,h,u)},t.prototype.on=function(t,i,n,e,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===e&&(e=null),void 0===r&&(r=null);for(var o=e||this.Qn(this.size.x),h=r||this.Xn(this.size.y),u=0;u<o;u++)for(var a=0;a<h;a++){var f=this.F.$n(t.x+u,t.y-a),c=s.default.ts;n&&(c+=s.default.ns),"safe_house"===this.name&&(c-=s.default.ss),f.yn=c,f.Kn=i,f.nn=n,f.un=this}},t.prototype.rn=function(){this.S&&(this.v.x+this.size.x>=this.F.size.x&&(this.v.x=this.F.size.x-this.size.x-1,this._.x=-1*Math.abs(this._.x),this.l.x=-1*Math.abs(this.l.x)),this.v.x<0&&(this.v.x=1,this._.x=Math.abs(this._.x),this.l.x=Math.abs(this.l.x)),this.v.y+this.size.y>=this.F.size.y&&(this.v.y=this.F.size.y-this.size.y-1,this._.y=Math.abs(this._.y),this.l.y=Math.abs(this.l.y)),this.v.y-this.size.y<=0&&(this.v.y=this.size.y+1,this._.y=-Math.abs(this._.y),this.l.y=-Math.abs(this.l.y)))},t.Wn={},t.cn=100,t}();i.default=c},356:(t,i)=>{Object.defineProperty(i,"t",{value:!0});i.default=function(t,i,n,e){this.name=t,this.U=i,this.offset=n,this.speed=e}},471:function(t,i,n){var e=this&&this.hs||function(t,i,n){if(n||2===arguments.length)for(var e,s=0,r=i.length;s<r;s++)!e&&s in i||(e||(e=Array.prototype.slice.call(i,0,s)),e[s]=i[s]);return t.concat(e||Array.prototype.slice.call(i))},s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var r=n(490),o=s(n(419)),h=n(566),u=function(){function t(i){this.cells=[],this.In={},this.Yn=t.es,this.ai=0,this.oi=0,this.ui=0;var n=2*t.es;this.size=i,this.nt=new r.g(Math.round(this.size.x/2),Math.round(this.size.y/2),0),this.rs=new r.g(this.size.x/4,this.size.y-n,0),this.us=new r.g(this.size.x/2,this.size.y-n,0),this.os=new r.g(3*this.size.x/4,this.size.y-n,0),this.cs=new r.g(3*this.size.x/4,0+n,0),this.fs=new r.g(this.size.x/2,0+n,0),this.vs=new r.g(this.size.x/4,0+n,0),this.ls=new r.g(n,this.size.y/2,0),this.A=o.default.D(),this.Hn=Math.ceil(this.size.x/this.Yn),this.ws=Math.ceil(this.size.y/this.Yn),this.ds(),this.bs(),this.$t=null}return t.prototype.gs=function(t){var i=this;this.Jn=e(e(e([],t.Qt,!0),t.Ht,!0),[t.Wt],!1),this.Wt=t.Wt,this.Qt=t.Qt,this.Ht=t.Ht,this.ri=t.ri,this.ii=t.ii,this.Ut=[],this._s();var n=this.ri.flatMap((function(t){return t.it}));this.As(n),this.Xt.forEach((function(t){t.Wt=i.Wt})),this.index=t.index},t.prototype.As=function(t){this.Xt=t,this.ui=t.length,this.oi=0,this.ai=0},t.prototype.Bt=function(t){this.Ut.forEach((function(t){return t.At.color=h.i.o})),this.$t=t,null!==t&&(this.$t.At.color=h.i.u)},t.prototype.bs=function(){var t=this.size.x,i=this.size.y,n=new r.g(0,0,0),e=new r.g(t,50,0);this.ps={v:n,size:e};var s=new r.g(0,n.y+e.y,0),o=new r.g(t,100,0);this.Ms={v:s,size:o};var h=new r.g(t/2,n.y+e.y,0),u=new r.g(o.y/2.5,o.y/2.5,0);this.Os={v:h,size:u};var a=new r.g(0,s.y+o.y,0),f=new r.g(t,i-o.y-e.y,0);this.js={v:a,size:f}},t.prototype.ds=function(){for(var t=0;t<this.ws;t++){this.cells[t]=[];for(var i=0;i<this.Hn;i++){var n=(0,r.uuid)(),e={x:i,y:t,jn:[],Kn:!0,nn:!1,yn:1,un:null,xn:!1,id:n};this.cells[t].push(e),this.In[n]=e}}},t.prototype._s=function(){var t=this.ii,i=this.Ut.flatMap((function(t){return t.it}));this.ni=t.filter((function(t){return!i.includes(t)}))},t.prototype.St=function(){this.cells.forEach((function(t){t.forEach((function(t){t.xn=!1}))})),this.Ut.forEach((function(t){t.At.On()}))},t.prototype.tn=function(){this.ai++},t.prototype.Wi=function(){this.oi++},Object.defineProperty(t.prototype,"ci",{get:function(){return this.oi/this.ui},st:!1,ht:!0}),t.prototype.k=function(){var t=this.A.C,i=this.A.offset.z;t.fillStyle="#42bfe8",t.fillRect((this.ps.v.x-this.A.offset.x)*i,(this.ps.v.y-this.A.offset.y)*i,this.ps.size.x*i,this.ps.size.y*i),t.beginPath(),t.fillStyle="#f8f644",t.arc((this.Os.v.x-this.A.offset.x)*i,(this.Os.v.y-this.A.offset.y)*i,this.Os.size.x*i,0,2*Math.PI),t.fill(),t.fillStyle="#e3d6b1",t.fillRect((this.Ms.v.x-this.A.offset.x)*i,(this.Ms.v.y-this.A.offset.y)*i,this.Ms.size.x*i,this.Ms.size.y*i),t.fillStyle="#bdbdbd",t.fillRect((this.js.v.x-this.A.offset.x)*i,(this.js.v.y-this.A.offset.y)*i,this.js.size.x*i,this.js.size.y*i)},t.prototype.$n=function(t,i){return this.cells[i][t]},t.prototype.Vi=function(t,i){void 0===i&&(i=!1);var n=t.x/this.Yn,e=t.y/this.Yn,s=Math.round(n),o=Math.round(e);i&&(s=Math.floor(n),o=Math.floor(e));var h=(0,r.Fi)(s,0,this.Hn-1),u=(0,r.Fi)(o,0,this.ws-1);return this.$n(h,u)},t.prototype.xs=function(t){t.it.push(this.ni.pop()),this._s()},t.prototype.ys=function(t){t.it.length>0&&t.it.pop(),this._s()},t.prototype.hn=function(t){var i=t.x*this.Yn,n=t.y*this.Yn;return new r.g(i,n,0)},t.prototype.Rt=function(t){for(var i=null,n=0;n<this.Ut.length;n++){var e=this.Ut[n].At,s={size:e.pn,v:e.Mn};if((0,r.Ei)(t,s)){i=e;break}}return i},t.prototype.ks=function(t,i){var n=(this.ws-1)*this.Yn,e=this.A.offset.z;this.A.C.strokeStyle=i,this.A.C.strokeRect((t.x*this.Yn-this.A.offset.x)*e,(n-t.y*this.Yn-this.A.offset.y)*e,this.Yn*e,this.Yn*e)},t.prototype.jn=function(t){var i=[];if(t.x>0){var n=this.cells[t.y][t.x-1];i.push(n)}if(t.x<this.Hn-1){var e=this.cells[t.y][t.x+1];i.push(e)}if(t.y<this.ws-1){var s=this.cells[t.y+1][t.x];i.push(s)}if(t.y>0){var r=this.cells[t.y-1][t.x];i.push(r)}return i},t.ns=3,t.ts=1,t.kn=1.5,t.es=16,t.ss=-3,t}();i.default=u},687:function(t,i,n){var e=this&&this.hs||function(t,i,n){if(n||2===arguments.length)for(var e,s=0,r=i.length;s<r;s++)!e&&s in i||(e||(e=Array.prototype.slice.call(i,0,s)),e[s]=i[s]);return t.concat(e||Array.prototype.slice.call(i))},s=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0}),i.Ct=i.Mt=void 0;var r=s(n(665)),o=n(490),h=s(n(774)),u=s(n(10)),a=s(n(306)),f=s(n(471)),c=s(n(999)),l=s(n(295)),p=new o.g(640,480,0),d=f.default.es;i.Mt=[],i.Ct=[];var y=z(),v=A(),x=b(),w=O(),g=_();function z(){var t=new f.default(p),i=new a.default(t.us,t),n=new r.default(t.nt,t),e=new r.default(new o.g(t.nt.x+6*d,t.nt.y-5*d,0),t),s=new r.default(new o.g(t.nt.x-6*d,t.nt.y+5*d,0),t),h=t.vs.Ti();h.set(h.x,h.y+4*d,h.z);var u=F(h,3,t),l={Qt:[new c.default(new o.g(t.nt.x,t.nt.y+3*d,0),t),new c.default(new o.g(t.nt.x,t.nt.y+5*d,0),t),new c.default(new o.g(t.nt.x+2*d,t.nt.y+2*d,0),t)],Ht:[n,e,s],Wt:i,ri:[u],ii:m(5,t),index:0};return t.gs(l),t}function A(){var t=new f.default(p),i=t.vs.Ti();i.set(i.x,i.y+a.default.V.y,i.z);var n=new a.default(i,t),e=new r.default(t.nt,t),s=new r.default(new o.g(t.nt.x+d,t.nt.y-5*d,0),t),h=new r.default(new o.g(t.nt.x-6*d,t.nt.y+5*d,0),t),u=new r.default(new o.g(t.nt.x-13*d,t.nt.y+5*d,0),t),l=F(t.rs,5,t),y=F(t.os,5,t),v={Qt:[new c.default(new o.g(t.os.x,t.nt.y+3*d,0),t),new c.default(new o.g(t.rs.x-3*d,t.nt.y-5*d,0),t),new c.default(new o.g(t.nt.x+2*d,t.nt.y+2*d,0),t),new c.default(new o.g(t.nt.x+5*d,t.nt.y+2*d,0),t)],Ht:[e,s,h,u],Wt:n,ri:[l,y],ii:m(10,t),index:1};return t.gs(v),t}function b(){var t=new f.default(p),i=t.nt.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y/2,i.z);var n=new a.default(i,t),e=t.nt.Ti();e.set(e.x-8*d-a.default.V.x/2,e.y+8*d+a.default.V.y/2,0);var s=t.nt.Ti();s.set(s.x+8*d-a.default.V.x/2,s.y+8*d+a.default.V.y/2,0);var o=t.nt.Ti();o.set(o.x-8*d-a.default.V.x/2,o.y-8*d+a.default.V.y/2,0);var h=t.nt.Ti();h.set(h.x+8*d-a.default.V.x/2,h.y-8*d+a.default.V.y/2,0);var u={Qt:[],Ht:[new r.default(e,t),new r.default(s,t),new r.default(o,t),new r.default(h,t)],Wt:n,ri:[F(t.ls,20,t)],ii:m(12,t),index:2};return t.gs(u),t}function O(){var t=new f.default(p),i=t.nt.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y/2,i.z);for(var n=new a.default(i,t),s=F(t.ls,12,t),r=F(t.os,12,t),h=[],u=0;u<7;u++){var l=new c.default(new o.g(5*d+2*d+u*d*4,8*d,0),t);h.push(l)}for(u=0;u<7;u++)l=new c.default(new o.g(5*d+2*d+u*d*4,22*d,0),t),h.push(l);for(u=0;u<7;u++)l=new c.default(new o.g(9*d+2*d,20*d-u*d*2,0),t),h.push(l);for(u=0;u<7;u++)l=new c.default(new o.g(25*d+2*d,20*d-u*d*2,0),t),h.push(l);var y={Qt:e([],h,!0),Ht:[],Wt:n,ri:[s,r],ii:m(50,t),index:3};return t.gs(y),t}function _(){var t=new f.default(p),i=t.vs.Ti();i.set(i.x-a.default.V.x/2,i.y+a.default.V.y,i.z);var n=new a.default(i,t),s=F(t.rs,10,t),o=F(t.os,10,t),h=F(t.cs,10,t),u=t.nt.Ti();u.set(u.x-r.default.V.x,u.y,0);var c=t.nt.Ti();c.set(c.x,c.y,0);var l=t.nt.Ti();l.set(l.x,l.y-r.default.V.y,0);var d=t.nt.Ti();d.set(d.x-r.default.V.x,d.y-r.default.V.y,0);var y=t.nt.Ti();y.set(y.x,y.y+r.default.V.y,0);var v=t.nt.Ti();v.set(v.x-r.default.V.x,v.y+r.default.V.y,0);var x=new r.default(u,t),w=new r.default(c,t),g=new r.default(l,t),z=new r.default(d,t),A=new r.default(y,t),b=new r.default(v,t),O={Qt:e([],[],!0),Ht:[x,w,g,z,A,b],Wt:n,ri:[s,o,h],ii:m(25,t),index:4};return t.gs(O),t}function F(t,i,n,e){void 0===e&&(e=3);for(var s=[],r=0;r<i;r++){var a=new o.g(t.x+(0,o.zi)(-d*e,d*e),t.y+(0,o.zi)(-d*e,d*e),0),f=new h.default(a,n);s.push(f)}return new u.default(s)}function m(t,i,n){void 0===n&&(n=3);for(var e=[],s=0;s<t;s++){var r=new o.g(i.nt.x+(0,o.zi)(-d*n,d*n),i.nt.y+(0,o.zi)(-d*n,d*n),0),h=new l.default(r,i);e.push(h)}return e}i.Ct.push(z),i.Ct.push(A),i.Ct.push(b),i.Ct.push(O),i.Ct.push(_),i.Mt.push(y),i.Mt.push(v),i.Mt.push(x),i.Mt.push(w),i.Mt.push(g),i.Ct.push(z)},999:function(t,i,n){var e,s=this&&this.K||(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},e(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),r=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var o=n(490),h=r(n(365)),u=n(566),a=r(n(296)),f=r(n(356)),c=function(t){function i(i,n){var e=this,s=new f.default("idle",1,0,0),r={name:"trash",v:i,R:a.default,U:1,B:new o.g(8,8,1),size:new o.g(32,32,1),F:n,L:{G:s,default:s}};return(e=t.call(this,r)||this).S=!0,e.q=!0,e.startOffset=208,e.Z=u.i.h,e.P=50,e.W(!1,!0),e}return s(i,t),i}(h.default);i.default=c},562:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0});var s=n(745),r=e(n(419)),o=n(679),h=r.default.D(),u=function(){function t(){}return t.D=function(){return t.I||(t.I=new t),t.I},t.prototype.kt=function(t,i,n,e){var r=this;this.state=new s.Cs,this.F=t,this.Mt=i,this.Es=this.Mt.length,this.zs=n,this.Fs=e;var u=document.getElementById("title-screen"),a=document.getElementById("results"),f=document.getElementById("ui-wrapper-bottom"),c=document.getElementById("ui-wrapper-top"),l=document.getElementById("ui-wrapper-middle"),d=document.getElementById("ui-middle-text"),y=p("Attack",f),v=p("Create flock",f),x=p("Add bird",f),w=p("Remove bird",f),g=p("Done",f),z=p("Retry",l),A=p("Next Stage",l),b=function(t,i,n){var e;void 0===n&&(n=[]);var s=document.createElement("div");return s.innerText="Killed: 0 Escaped 0% \n 1",i.appendChild(s),(e=s.classList).add.apply(e,n),s}(0,c,["inline"]);y.addEventListener("click",(function(){return r.state.jt(r,s.yt.Ts)})),v.addEventListener("click",(function(){return r.state.jt(r,s.yt.Ns)})),g.addEventListener("click",(function(){return r.state.jt(r,s.yt.xt)})),x.addEventListener("click",(function(){return r.F.xs(r.F.$t)})),w.addEventListener("click",(function(){return r.F.ys(r.F.$t)})),z.addEventListener("click",(function(){r.Ys(),r.zs(r.F.index),h.zt=o.Tt.Dt})),A.addEventListener("click",(function(){r.Ys(),r.Fs(),h.zt=o.Tt.Dt})),this.Ds=y,this.Is=v,this.Ks=x,this.Rs=w,this.Us=g,this.Bs=b,this.Ls=c,this.Gs=f,this.Ss=u,this.qs=a,this.Ps=A,this.Zs=z,this.Ws=d,console.log(this.Ws)},t.prototype.qt=function(){a(this.Ls),a(this.Gs),a(this.qs)},t.prototype.Nt=function(){f(this.Ls),f(this.Gs),f(this.qs)},t.prototype.Yt=function(){a(this.Ss)},t.prototype.Qs=function(t){this.Ws.innerText!==t&&(this.Ws.innerText=t)},t.prototype.fi=function(){a(this.Ps),f(this.Zs),this.Qs("You didn't eliminate enough targets. Try again, Commander."),f(this.qs)},t.prototype.li=function(t,i,n){f(this.qs),f(this.Ps),a(this.Zs);var e="You eliminated enough targets to proceed to stage ".concat(t," of ").concat(i,". Proceed!");n&&(e="Congratulations, Commander Bird. We will all sleep easier tonight knowing you have eliminated so many targets. \n\nChirp chirp,\n\n General Bird",a(this.Ps)),this.Qs(e),f(this.qs)},t.prototype.Ys=function(){a(this.qs)},t.prototype.update=function(){var t,i="Eliminated: ".concat(this.F.oi),n="Escaped: ".concat(this.F.ai),e=(t=this.F.ci,"".concat((100*t).toFixed(0),"%")),r="Stage ".concat(this.F.index+1," of ").concat(this.Es),o="".concat(i," ").concat(n," ").concat(e,"\n").concat(r);this.Bs.innerText!==i&&(this.Bs.innerText=o),this.state instanceof s.Cs?(f(this.Ds),f(this.Is),a(this.qs),this.F.Ut.length>0?l(this.Ds):c(this.Ds),this.F.ni.length>0?l(this.Is):c(this.Is),a(this.Ks),a(this.Rs),a(this.Us)):this.state instanceof s.si?(f(this.Ds),f(this.Is),c(this.Ds),c(this.Is),a(this.Ks),a(this.Rs),a(this.Us)):this.state instanceof s.Hs&&(a(this.Ds),a(this.Is),f(this.Ks),f(this.Rs),f(this.Us),this.F.ni.length>0?l(this.Ks):c(this.Ks),this.F.$t.it.length>0?l(this.Rs):c(this.Rs))},t}();function a(t){t.classList.add("hide")}function f(t){t.classList.remove("hide")}function c(t){1!=t.disabled&&(t.disabled=!0)}function l(t){0!=t.disabled&&(t.disabled=!1)}function p(t,i){var n=document.createElement("button");return n.innerText=t,i.appendChild(n),n}i.default=u},745:function(t,i,n){var e=this&&this.T||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(i,"t",{value:!0}),i.yt=i.Hs=i.si=i.Cs=void 0;var s=e(n(585)),r=n(490),o=e(n(445)),h=function(){function t(){}return t.prototype.Xs=function(t){t.F.Ut=t.F.Ut.filter((function(t){return t.it.length>0}))},t.prototype.jt=function(t,i){var n=null;switch(i){case a.xt:n=this;break;case a.Ts:(n=new u).Xs(t);break;case a.Ns:(n=new f).Xs(t);break;default:n=this}return t.state=n,n},t}();i.Cs=h;var u=function(){function t(){}return t.prototype.Xs=function(t){t.F.Xt.forEach((function(t){return t.S=!1}))},t.prototype.jt=function(t,i){var n=null;return n=i===a.xt?new h:this,t.state=n,n},t}();i.si=u;var a,f=function(){function t(){}return t.prototype.Xs=function(t){var i=new r.g((0,r.zi)(t.F.size.x/4,3*t.F.size.x/4),(0,r.zi)(t.F.size.y/4,3*t.F.size.y/4),0),n=new o.default(new r.g(i.x,i.y,0),t.F),e=new s.default([],n);t.F.Ut.push(e),t.F.Bt(e),t.F.St()},t.prototype.jt=function(t,i){var n=null;switch(i){case a.xt:(n=new h).Xs(t);break;case a.Ts:(n=new u).Xs(t);break;case a.Ns:default:n=this}return t.state=n,n},t}();i.Hs=f,function(t){t.xt="DEFAULT",t.Ts="ATTACK",t.Ns="CREATE_FLOCK"}(a=i.yt||(i.yt={}))},296:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAAAgCAYAAABw4baZAAAAAXNSR0IArs4c6QAAAqdJREFUeNrtm7FKA0EQhq8KvoMvYBHEyjbvYCEEfQU7fQqxCghiJdZio/gCljYi+A5WgthZrEzInJdjZnfWu71dLv8Pg9zNzu1E/u/2skmqqkDNDw8cqZR+qBfqScp9PN66nEE9fD9sOym4xzHnQ7V9jLHUz+dHrhmikXaOn50vhgaMlRMsFgADYFKuDZYKGkP0+va+DOl4KGNf3z25tnLCRaKeigXs5cZJUZtnxPlQbR9jfDkGaXF5tRYALAFg54v7Ok7OLtaOY8GxXqttgL3pbv1XMo+Ub56TDBjK55w/dG3rGN8cof40wMyPhlK4z6kDYOUBhhVs2BUsGWApVzQA1g0wutNqK4iU52PNQKF8zvlD17aO8c0R6s8EGHmKwgBVPY43JLpuaOQCzNe7BTCqb5qdQNAiFjDrtUoELOcKZgFMWsFiII4GjD21iuDNvTmOTEZBBrTECpYaGq1eMrhUzzDwOWsfPK9Wr83fri9hBXOKtJvFmPKh2j7GWOpN2/RdHumscLF+vvaXodVLBpfqOXwwaEFza/UhwLi+NMDozqoZlO+8vrzP4KH60PyW/kLza+ZvriwheKRVSLqGdi7L25YYU1vqNYMP1UcIsJLeg0nmiTWwZKK+AUoJmASRdQWT4IldwQbfILAaeijgU/1DSvgcDI+I+R8RAdiIAZvNTp0U3CPyafMADIAhP2bAcvUBwADAaAFrboPnFPexCYC1DYHjYY6zGbsqRCl7KQGwtmINEWuYrobruz7364cSKnZrfTLZ8sZ/tukhCIABMAgCYBBULGCWL+haAYv5si8EYQXDCgZBAAyCABgAgzYRMEtYAevyORgEbSxg1eoHqwRT9ffj1ToAGAT1AJgWAAyCABgEATAIAmAADIIAGAQBMAgCYABsk/QLi9aIx+VVEcAAAAAASUVORK5CYII="}},i={};!function n(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}(607)})()</script>