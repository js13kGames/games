<!doctype html><meta content="width=device-width,maximum-scale=1,user-scalable=0" name=viewport><title>Zodiac 13</title><style>canvas{margin:10px 0}</style><center><canvas id=canvas width=280px height=390px></canvas></center><script>var $W=window,$D=document,M=Math,txt_v=$D.createElement("canvas"),txt_x=txt_v.getContext("2d");function tx(e,t,i,n,r,a,o){letters={" ":"000,000,000,000","(":"01,10,10,10,01",")":"10,01,01,01,10","+":"000,010,111,010,000","/":"00001,00010,00100,01000,10000",":":"0,1,0,1,0",0:"0110,1001,1001,1001,0110",1:"11,01,01,01,01",2:"1110,0001,0110,1000,1111",3:"1110,0001,0110,0001,1110",4:"0010,0110,1010,1111,0010",5:"1111,1000,1110,0001,1110",6:"0110,1000,1110,1001,0110",7:"1111,0001,0010,0100,0100",8:"0110,1001,0110,1001,0110",9:"0110,1001,0111,0001,0110",".":"0,0,0,0,1",A:"0110,1001,1001,1111,1001",B:"1110,1001,1110,1001,1110",C:"011,100,100,100,011",D:"1110,1001,1001,1001,1110",E:"111,100,111,100,111",F:"111,100,111,100,100",G:"0111,1000,1011,1001,0111",H:"1001,1001,1111,1001,1001",I:"111,010,010,010,111",K:"1001,1010,1100,1010,1001",L:"100,100,100,100,111",M:"10001,11011,10101,10001,10001",N:"1001,1101,1011,1001,1001",O:"0110,1001,1001,1001,0110",P:"1110,1001,1001,1110,1000",Q:"0110,1001,1001,1001,0110,0001",R:"1110,1001,1001,1110,1001",S:"0111,1000,0110,0001,1110",T:"111,010,010,010,010",U:"1001,1001,1001,1001,0110",V:"1001,1001,1010,1010,0100",W:"10001,10101,10101,10101,01010",X:"1001,1001,0110,1001,1001",Y:"1001,1001,0111,0001,0110",Z:"111,001,010,100,111"};for(var s=0,f=0,c=[],$=0;$<i.length;$++)c.push(letters[i[$]].split(",")),s+=c[$][0].length*t,f=M.max(f,c[$].length);s+=(i.length-1)*t,f*=t,s+=s%2,f+=f%2,txt_v.width=s,txt_v.height=f,txt_x.clearRect(0,0,s,f),txt_x.fillStyle=e.fillStyle;for(var l=$=0;$<i.length;$++){for(var h=0;h<c[$].length;h++)for(var u=0;u<c[$][h].length;u++)"1"==c[$][h][u]&&txt_x.fillRect(u*t+l+$*t,h*t,t,t);l+=t*c[$][0].length}e.drawImage(txt_v,n-a*s/2,r-o*f/2)}var $x,performance=$W.performance?$W.performance:$W.Date,AudioContext=$W.AudioContext?$W.AudioContext:$W.webkitAudioContext;String.prototype.repeat||(String.prototype.repeat=function(e){for(var t=""+this,i="";1==(1&e)&&(i+=t),0!=(e>>>=1);)t+=t;return i}),$D.addEventListener("touchstart",(function(e){e=$.a.createBuffer(1,1,22050);var t=$.a.createBufferSource();t.buffer=e,t.connect($.a.destination),t.noteOn(0)}),!1),function(){function e(e){return M.sin(6.283184*e)}function t(e,t){setTimeout((function(){var i=new Uint8Array(4*e),n=i.length-2,r=function(){for(var e=new Date,a=0;0<=n;)if(i[n]=0,i[n+1]=128,n-=2,0==(a+=1)%1e3&&100<new Date-e)return void setTimeout(r,0);setTimeout((function(){t(i)}),0)};setTimeout(r,0)}),0)}function i(e,t,i,n,r){var a=i.n*n>>1,o=i.s/255,s=0,f=function(){for(var i=new Date,n=0;s<t-a;){var c=4*s,$=4*(s+a),l=e[$]+(e[$+1]<<8)+(e[c+2]+(e[c+3]<<8)-32768)*o;if(e[$]=255&l,e[$+1]=l>>8&255,l=e[$+2]+(e[$+3]<<8)+(e[c]+(e[c+1]<<8)-32768)*o,e[$+2]=255&l,e[$+3]=l>>8&255,++s,0==(n+=1)%1e3&&100<new Date-i)return void setTimeout(f,0)}setTimeout(r,0)};setTimeout(f,0)}var n=null,r=[e,function(t){return 0>e(t)?-1:1},function(e){return e%1-.5},function(e){return 2>(e=e%1*4)?e-1:3-e}];($x={}).A=function(e){this.$m=e,this.$w=e.length/2/2},$x.A.prototype.getAudioBuffer=function(e){null===n&&(n=new AudioContext);var t=this.$m,i=this.$w,r=n.createBuffer(2,this.$w,44100),a=r.getChannelData(0),o=r.getChannelData(1),s=0,f=function(){for(var n=new Date,c=0;s<i;){var $=-32768>($=4*(t[4*s]+(t[4*s+1]<<8)-32768))?-32768:32767<$?32767:$;if(a[s]=$/32768,$=-32768>($=4*(t[4*s+2]+(t[4*s+3]<<8)-32768))?-32768:32767<$?32767:$,o[s]=$/32768,s+=1,0==(c+=1)%1e3&&100<new Date-n)return void setTimeout(f,0)}setTimeout((function(){e(r)}),0)};setTimeout(f,0)},$x.S=function(e,t){this.$i=e,this.rowLen=t||5605,this.osc_lfo=r[e.p],this.osc1=r[e.t],this.osc2=r[e.a],this.$a=e.ab,this.sustain=e.x,this.release=e.w,this.panFreq=M.pow(2,e.l-8)/this.rowLen,this.lfoFreq=M.pow(2,e.z-8)/this.rowLen},$x.S.prototype.genSound=function(t,i,n){var r=0,a=0,o=.00390625*M.pow(1.059463094,t+12*(this.$i.ac-8)+this.$i.aa-128)*(1+8e-4*this.$i.h);t=.00390625*M.pow(1.059463094,t+12*(this.$i.i-8)+this.$i.m-128)*(1+8e-4*this.$i.v);for(var s=this.$i.k/255,f=0,c=0,$=this.$a+this.sustain+this.release-1;0<=$;--$){var l=$+n,h=this.osc_lfo(l*this.lfoFreq)*this.$i.e/512+.5,u=1;$<this.$a?u=$/this.$a:$>=this.$a+this.sustain&&(u-=($-this.$a-this.sustain)/this.release);var d=o;this.$i.f&&(d+=h),this.$i.y&&(d=d*u*u);r=r+d;var p=this.osc1(r)*this.$i.r;d=t;switch(this.$i.b&&(d=d*u*u),a+=d,p+=this.osc2(a)*this.$i.d,this.$i.g&&(p+=(2*M.random()-1)*this.$i.g*u),p*=u/255,d=this.$i.o,this.$i.u&&(d*=h),c+=(d=1.5*M.sin(3.141592*d/44100))*(h=s*(p-c)-(f+=d*c)),this.$i.j){case 1:p=h;break;case 2:p=f;break;case 3:p=c;break;case 4:p=f+h}d=e(l*this.panFreq)*this.$i.c/512+.5,p=39*p*this.$i._,(l*=4)+3<i.length&&(h=i[l]+(i[l+1]<<8)+p*(1-d),i[l]=255&h,i[l+1]=h>>8&255,h=i[l+2]+(i[l+3]<<8)+p*d,i[l+2]=255&h,i[l+3]=h>>8&255)}},$x.S.prototype.getAudioGenerator=function(e,n){var r=this.$a+this.sustain+this.release-1+32*this.rowLen,a=this;t(r,(function(t){a.genSound(e,t,0),i(t,r,a.$i,a.rowLen,(function(){n(new $x.A(t))}))}))},$x.S.prototype.cAB=function(e,t){this.getAudioGenerator(e,(function(e){e.getAudioBuffer(t)}))},$x.M=function(e){this.song=e,this.$w=44100*e.songLen},$x.M.prototype.generateTrack=function(e,n,r){var a=this;t(this.$w,(function(t){var o=a.$w,s=4*a.$w,f=a.song.rowLen,c=new $x.S(e,f),$=e.notes.length,l=0,h=0,u=function(){for(var i=new Date;;){if(h===$){setTimeout(d,0);break}var n=e.notes[h];if(n&&c.genSound(n,t,l),h++,l+=3*f,100<new Date-i){setTimeout(u,0);break}}},d=function(){i(t,o,e,f,x)},p=0,x=function(){for(var e=new Date,i=0;p<s;){var a=n[p]+(n[p+1]<<8)+t[p]+(t[p+1]<<8)-32768;if(n[p]=255&a,n[p+1]=a>>8&255,p+=2,0==(i+=1)%1e3&&100<new Date-e)return void setTimeout(x,0)}setTimeout(r,0)};setTimeout(u,0)}))},$x.M.prototype.getAudioGenerator=function(e){var i=this;t(this.$w,(function(t){var n=0,r=function(){n<i.song.songData.length?(n+=1,i.generateTrack(i.song.songData[n-1],t,r)):e(new $x.A(t))};r()}))},$x.M.prototype.createAudio=function(e){this.getAudioGenerator((function(t){e(t.getAudio())}))},$x.M.prototype.cAB=function(e){this.getAudioGenerator((function(t){t.getAudioBuffer(e)}))}}();var tickID,$={L:function(e){var t=[];return $.r={},t.push($.I(e.i)),t.push($.S(e.s)),Promise.all(t).then((function(){return $.r}))},I:function(e){var t,i={},n=[];for(t in e)n.push(new Promise((function(n){var r=e[t],a=$D.createElement("canvas");i[t]=a;var o=new Image;o.addEventListener("load",(function(){var e=a.getContext("2d");a.width=r.w,a.height=r.h,r.f?e.drawImage(o,r.x,r.y,r.W,r.H,(r.w-r.W)/2,(r.h-r.H)/2,r.W,r.H):e.drawImage(o,r.x,r.y,r.w,r.h,0,0,r.w,r.h),n()})),o.src="s.png"})));return Promise.all(n).then((function(){return $.r.i=i,$.r.i}))}};$.a=new AudioContext,$.S=function(e){var t,i={},n=[];for(t in e)n.push(new Promise((function(n){var r=t;e[t].l(e[t].data,(function(e){i[r]={play:function(e){e=null!=typeof e&&e;var t=$.a.createBufferSource();return t.loop=e,t.buffer=this.buffer,t.connect($.a.destination),t.start(0),t},buffer:e},n()}))})));return Promise.all(n).then((function(){return $.r.s=i,$.r.s}))},$.K={X:27,L:37,U:38,R:39,D:40,Z:90},$.keys_status={};for(var ii=0;256>ii;ii++)$.keys_status[ii]=0;$.T={},$.t=function(e){var t=performance.now(),i=e.o[e.p],n=e.v,r=e.d?e.d:M.abs(n-i)/e.r;return new Promise((function(a){$W.requestAnimationFrame((function o(){var s=(performance.now()-t)/r;1<=s?(e.o[e.p]=n,a()):(e.o[e.p]=s*n+(1-s)*i,$W.requestAnimationFrame(o))}))}))},$.es=[],$.processEvents=function(){for(var e=0;e<$.es.length;e++)for(var t in $.entities)$.entities[t].listen($.es[e]);$.es=[]},$._i=0,$.E=function(e){for(name in e)e.hasOwnProperty(name)&&(this[name]=e[name]);this._i=$._i,$.entities[this._i]=this,$._i++},$.E.prototype.x=0,$.E.prototype.y=0,$.E.prototype.listen=function(){},$.E.prototype.destroy=function(){delete $.entities[this._i]},$.C=function(){},$.C.prototype.initialize=function(){},$.C.prototype.preUpdate=function(){},$.C.prototype.postUpdate=function(){},$.C.prototype.draw=function(){},$.C.prototype.exit=function(){},$.initializeCanvas=function(e){$.v=$D.getElementById(e),$.x=$.v.getContext("2d"),$.x.clearAll=function(){$.x.clearRect(0,0,$.v.width,$.v.height)}},$.initialize=function(e){$.initializeCanvas(e),$D.addEventListener("keydown",(function(e){e.preventDefault(),0==$.keys_status[e.which]?($.keys_status[e.which]=1,e.$type="keypress"):e.$type="keyheld",$.es.push(e)})),$D.addEventListener("keyup",(function(e){e.preventDefault(),e.$type="keyup",$.keys_status[e.which]=0,$.es.push(e)})),$D.addEventListener("touchstart",(function(e){for(var t=0;t<e.touches.length;t++){var i=e.touches[t];$.T[i.identifier]||($.T[i.identifier]={initial:{x:i.screenX,y:i.screenY},current:{x:i.screenX,y:i.screenY}})}})),$D.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var i=e.touches[t];$.T[i.identifier]&&($.T[i.identifier].current={x:i.screenX,y:i.screenY})}})),$D.addEventListener("touchend",(function(e){for(var t in $.T){for(var i=!1,n=0;n<e.touches.length;n++)e.touches[n].identifier==t&&(i=!0);if(!i){i=$.T[t].initial.x,n=$.T[t].initial.y;var r=$.T[t].current.x,a=$.T[t].current.y;20>M.abs(i-r)+M.abs(n-a)&&$.es.push({$type:"keypress",which:$.K.Z}),60>M.abs(n-a)&&20<i-r&&$.es.push({$type:"keypress",which:$.K.L}),60>M.abs(n-a)&&20<r-i&&$.es.push({$type:"keypress",which:$.K.R}),60>M.abs(i-r)&&20<a-n&&$.es.push({$type:"keypress",which:$.K.D}),60>M.abs(i-r)&&20<n-a&&$.es.push({$type:"keypress",which:$.K.U}),delete $.T[t]}}}))},$.tick=function(e){$.scene.preUpdate($.performance.now()),$.scene.draw($.performance.now()),$.scene.postUpdate($.performance.now()),tickID=$W.requestAnimationFrame($.tick)},$.run=function(e){tickID&&$W.cancelAnimationFrame(tickID),$.scene&&$.scene.exit(),$.entities={},$.scene=e,$.scene.initialize(),$.alive=!0,tickID=$W.requestAnimationFrame($.tick)},$.performance={pauseTime:0,now:function(){return $.paused?$.pauseNow:performance.now()-$.performance.pauseTime}},$.paused=!1,$.pauseTime=0,$.pause=function(){$.pauseNow=$.performance.now(),$.pauseTime=performance.now(),$.paused=!0},$.resume=function(){$.performance.pauseTime+=performance.now()-$.pauseTime,$.paused=!1};var sl=new $.C;sl.preUpdate=function(e){$.es=[]},sl.draw=function(e){$.x.fillStyle="#30403b",$.x.fillRect(0,0,280,390),$.x.fillStyle="#8ed4a5",tx($.x,2,"LOADING"+"...".substr(0,M.round(e/500)%4),140,195,1,1)};var character,previous_time,smm=function(){var e,t=new $.C;return t.initialize=function(){e={a:1,f:1,exiting:!1,choice:0,$S:0},$.t({o:e,p:"f",v:0,d:100}),e.blinkID=setInterval((function(){e.a^=1}),400)},t.draw=function(){$.x.clearAll(),$.x.fillStyle="#30403b",$.x.fillRect(0,0,$.v.width,$.v.height),$.x.fillStyle="#8ed4a5",tx($.x,6,"ZODIAC 13",140,125,1,1),0==e.$S&&e.a&&($.x.fillStyle="#fff",tx($.x,3,"PRESS   Z",140,250,1,1)),1==e.$S&&($.x.fillStyle=0==e.choice?"#fff":"#666",tx($.x,3,"GAME START",140,230,1,1),$.x.fillStyle=1==e.choice?"#fff":"#666",tx($.x,3,"RECORDS",140,278,1,1)),$.x.fillStyle="#50605b",tx($.x,1,"HERMAN CHAU (KCAZE)",140,380,1,1),$.x.fillStyle="rgba(0,0,0,"+e.f+")",$.x.fillRect(0,0,$.v.width,$.v.height)},t.preUpdate=function(t){for(t=0;t<$.es.length;t++){if("keypress"==$.es[t].$type){if(e.exiting)continue;if($.es[t].which==$.K.Z)if($.r.s.sct.play(),e.$S){var i=e.choice?srs:scs;e.exiting=!0,$.t({o:e,p:"f",v:1,d:100}).then((function(){clearInterval(e.blinkID),$.run(i)}))}else e.$S=1}$.es[t].which==$.K.U&&e.$S&&(e.choice=M.max(0,e.choice-1)),$.es[t].which==$.K.D&&e.$S&&(e.choice=M.min(1,e.choice+1))}$.es=[]},t}(),srs=function(){var e,t,i=new $.C;return i.initialize=function(){t={f:1},$.t({o:t,p:"f",v:0,d:100}),e=!1},i.draw=function(){$.x.clearAll(),$.x.fillStyle="#30403b",$.x.fillRect(0,0,$.v.width,$.v.height),$.x.fillStyle="#fff",tx($.x,3,"RECORDS",140,48,1,1),$.x.font="12px f";for(var e=0;e<records.length;e++){var i;if($.x.fillStyle="#fff",tx($.x,1,records[e].text+": ",12,90+20*e,0,1),$.x.fillStyle="#8ed4a5","b"==records[e].name||"c"==records[e].name){var n=""+(i=gR(records[e].name))%60,r=""+M.floor(i/60)%60;i=("b"==records[e].name?M.floor(i/3600)+":":"")+"0".repeat(2-r.length)+r+":"+"0".repeat(2-n.length)+n}else i=""+gR(records[e].name);tx($.x,1,i,268,90+20*e,2,1)}$.x.fillStyle="rgba(0,0,0,"+t.f+")",$.x.fillRect(0,0,$.v.width,$.v.height)},i.preUpdate=function(i){for(i=0;i<$.es.length;i++)e||"keypress"!=$.es[i].$type||$.es[i].which!=$.K.X&&$.es[i].which!=$.K.Z||(e=!0,$.t({o:t,p:"f",v:1,d:100}).then((function(){$.run(smm)})));$.es=[]},i}(),scs=function(){var e,t,i=new $.C;return i.initialize=function(){e={s:0,exiting:!1,f:1},$.t({o:e,p:"f",v:0,d:100}),t=[{d:"ENDS TURN WHITE",name:"BOAR",image:$.r.i.b,m:"13 WHITE ORBS IN A ROW",u:13<=gR("k"),zodiac:function(e){for(var t=e.$S,i=0;8>i;i++)t.board[i][0].t&&1!=t.board[i][0].t&&(t.board[i][0].t=1,e.animateColorChange(t.board[i][0].piece,1)),t.board[i][7].t&&1!=t.board[i][7].t&&(t.board[i][7].t=1,e.animateColorChange(t.board[i][7].piece,1))}},{d:"CLEAR ROW ABOVE",name:"CAT",image:$.r.i.c,u:!0,zodiac:function(e){var t=e.$S,i=e.row-1;if(!(0>i)){for(var n=[],r=0;8>r;r++)t.board[i][r].piece&&n.push(t.board[i][r].piece),t.board[i][r]={t:0};e.animateClearPieces(n)}}},{d:"CLEAR LEFT SIDE",name:"DOG",image:$.r.i.d,m:"169 ORBS SHOT",u:169<=gR("j"),zodiac:function(e){for(var t=e.$S.board,i=[],n=0;8>n;n++)t[n][0].t&&(i.push(t[n][0].piece),t[n][0].t=0);e.animateClearPieces(i)}},{d:"CLEAR 4 ON ENDS",name:"DRAGON",image:$.r.i.e,m:"SCORE 169",u:169<=gR("d"),zodiac:function(e){for(var t=4,i=4,n=[],r=e.$S.board,a=7;0<=a;a--)t&&r[a][0].t&&(n.push(r[a][0].piece),r[a][0].t=0,t--),i&&r[a][7].t&&(n.push(r[a][7].piece),r[a][7].t=0,i--);e.animateClearPieces(n)}},{d:"CLEAR 12 RANDOM",name:"HARE",image:$.r.i.f,m:"REACH LEVEL 13",u:13<=gR("e"),zodiac:function(e){for(var t=e.$S.board,i=[],n=[],r=0;17>r;r++)for(var a=0;8>a;a++)t[r][a].t&&n.push({x:a,y:r});for(var o=M.min(n.length,12),s=0;s<o;s++){var f=M.floor(M.random()*n.length);a=n[f].x,r=n[f].y;i.push(t[r][a].piece),t[r][a].t=0,i.splice(f,1)}e.animateClearPieces(i)}},{d:"SCORE +2",name:"HORSE",image:$.r.i.g,m:"ZODIAC 13 TIMES",u:13<=gR("h"),zodiac:function(e){e.incrementScore(2)}},{d:"DELAY ROW DROP",name:"MONKEY",image:$.r.i.h,m:"ZODIAC 169 TIMES",u:169<=gR("h"),zodiac:function(e){var t=e.$S;t.nrtd_diff=t.nrt-$.performance.now(),t.nrf=!0,setTimeout((function(){t.nrf=!1}),5e3)}},{d:"ENDS TURN BLACK",name:"OX",image:$.r.i.i,m:"13 BLACK ORBS IN A ROW",u:13<=gR("l"),zodiac:function(e){for(var t=e.$S,i=0;17>i;i++)t.board[i][0].t&&2!=t.board[i][0].t&&(t.board[i][0].t=2,e.animateColorChange(t.board[i][0].piece,2)),t.board[i][7].t&&2!=t.board[i][7].t&&(t.board[i][7].t=2,e.animateColorChange(t.board[i][7].piece,2))}},{d:"NEXT ALL WHITE",name:"RAT",image:$.r.i.k,m:"1313 ORBS SHOT",u:1313<=gR("j"),zodiac:function(e){for(var t=0;8>t;t++)e.$S.player.next[t]=1}},{d:"CLEAR RIGHT SIDE",name:"ROOSTER",image:$.r.i.l,m:"SURVIVE 13 MINUTES",u:780<=gR("c"),zodiac:function(e){for(var t=e.$S.board,i=[],n=0;17>n;n++)t[n][7].t&&(i.push(t[n][7].piece),t[n][7].t=0);e.animateClearPieces(i)}},{d:"CLEAR TOP ROW",name:"SHEEP",image:$.r.i.m,m:"SCORE 13",u:13<=gR("d"),zodiac:function(e){for(var t=e.$S,i=[],n=0;8>n;n++)t.board[0][n].piece&&i.push(t.board[0][n].piece),t.board[0][n]={t:0};e.animateClearPieces(i)}},{d:"NEXT ALL BLACK",name:"SNAKE",image:$.r.i.n,m:"PLAY 13 GAMES",u:13<=gR("a"),zodiac:function(e){for(var t=0;8>t;t++)e.$S.player.next[t]=2}},{d:"SCORE +LEVEL/3",name:"TIGER",image:$.r.i.o,m:"169 ROWS CLEARED",u:169<=gR("f"),zodiac:function(e){e.incrementScore(M.floor(e.$S.level/3))}},{d:"",name:"RANDOM",image:$.r.i.p,u:!0}]},i.draw=function(i){$.x.clearAll(),$.x.save(),$.x.fillStyle="#30403b",$.x.fillRect(0,0,$.v.width,$.v.height),$.x.restore();for(var n=0;7>n;n++)for(var r=0;2>r;r++){var a=2*n+r;if(a>=t.length)break;$.x.strokeStyle="#89928e",$.x.lineWidth=.5,$.x.fillStyle="#50605b",$.x.fillRect(49*r+11,49*n+21,48,48),$.x.strokeRect(49*r+10,49*n+20,50,50),$.x.drawImage(t[a].image,49*r+10,49*n+20),t[a].u||($.x.fillStyle="rgba(0,0,0,0.7)",$.x.fillRect(49*r+11,49*n+21,48,48))}M.floor(i/200)%3&&($.x.strokeStyle="#fff",$.x.lineWidth=1,$.x.strokeRect(e.s%2*49+10,49*M.floor(e.s/2)+20,50,50)),$.x.fillStyle="#fff",tx($.x,3,t[e.s].name,270,330,2,1),$.x.font="16px f",t[e.s].u?($.x.fillStyle="white",tx($.x,1,t[e.s].d,270,355,2,1)):($.x.fillStyle="#50605b",tx($.x,1,t[e.s].m,270,355,2,1)),$.x.fillStyle="rgba(0,0,0,"+e.f+")",$.x.fillRect(0,0,$.v.width,$.v.height)},i.preUpdate=function(i){for(i=0;i<$.es.length;i++)if(!e.exiting&&"keypress"==$.es[i].$type)if($.es[i].which==$.K.R)e.s=M.min(13,e.s+1);else if($.es[i].which==$.K.D)e.s=M.min(13,e.s+2);else if($.es[i].which==$.K.L)e.s=M.max(0,e.s-1);else if($.es[i].which==$.K.U)e.s=M.max(0,e.s-2);else if($.es[i].which==$.K.Z){if(13==e.s)for(e.s=M.floor(13*M.random());!t[e.s].u;)e.s=M.floor(13*M.random());t[e.s].u?($.r.s.sct.play(),character=t[e.s],e.exiting=!0,$.t({o:e,p:"f",v:1,d:100}).then((function(){$.run(sg)}))):$.r.s.dd.play()}else $.es[i].which==$.K.X&&(e.exiting=!0,$.t({o:e,p:"f",v:1,d:100}).then((function(){$.run(smm)})));$.es=[]},i}(),sg=function(){function e(){$.t({o:m,p:"p_a",v:0,d:50}).then($.resume)}function t(){return new Promise((function(e){e()}))}function i(e,i,n){return new $.E({x:e,y:i,type:n,alpha:1,ba:0,bt:0,a:t()})}function n(e){return[$.r.i.s,$.r.i.r,$.r.i.t][e-1]}function r(){v.mystop(),p.a=!1,y.clearRect(0,0,d.width,d.height),y.drawImage($.v,0,0),$.t({o:m,p:"gba",v:1,d:1e3}).then((function(){return $.t({o:m,p:"gameover_text_alpha",v:1,d:1e3})})).then((function(){p.can_restart=!0}))}function a(e){$.r.s.clr.play();var t=[];e.forEach((function(e){t.push(e.a)})),t=Promise.all(t),e.forEach((function(e){var i=t.then((function(){return $.t({o:e,p:"alpha",v:0,d:100}).then((function(){e.destroy()}))}));e.a=i}))}function o(e){p.score+=e,mR("d",p.score)}function s(e,t){e.a=e.a.then((function(){return new Promise((function(i){e.bt=t,$.t({o:e,p:"ba",v:1,d:100}).then((function(){e.type=t,e.bt=0,e.ba=0,i()}))}))}))}function f(){$.r.s.dp.play();for(var e=[],t=0;8>t;t++){var n=M.round(M.random())+1;e.push({t:n,piece:i(1+20*t,-19,n)})}for(n=e[7].t,t=0;8>t;t++)n^=e[t].t;for(n&&(e[7].t^=3,e[7].piece.type^=3),t=0;8>t;t++){if(p.board[16][t].t)return void r();for(n=16;0<n;n--)p.board[n][t]=p.board[n-1][t];p.board[0][t]=e[t]}p.board.forEach((function(e){e.forEach((function(e){var t=e.piece;t&&(t.a=t.a.then((function(){return $.t({o:t,p:"y",v:t.y+20,r:1})})))}))}))}function c(t){for(t=0;t<$.es.length;t++)"keypress"!=$.es[t].$type||p.exiting||($.es[t].which==$.K.X&&e(),$.es[t].which==$.K.D&&(x=M.min(2,x+1)),$.es[t].which==$.K.U&&(x=M.max(0,x-1)),$.es[t].which==$.K.Z&&(e(),1==x?(p.exiting=!0,$.t({o:m,p:"f",v:1,d:100}).then((function(){$.run(S)}))):x&&(p.exiting=!0,$.t({o:m,p:"f",v:1,d:100}).then((function(){$.run(smm)})))));$.es=[]}var l=$D.createElement("canvas"),h=$D.createElement("canvas"),u=$D.createElement("canvas"),d=$D.createElement("canvas");l.width=160,l.height=390,h.width=96,h.height=390,d.width=280,d.height=390,u.width=280,u.height=390;var p,x,m,v,g=l.getContext("2d"),w=h.getContext("2d"),y=d.getContext("2d"),b=u.getContext("2d"),S=new $.C;return S.initialize=function(){iR("a",1),(v=$.r.s.bgm.play(!0)).mystop=function(){v.stopped||(v.stop(0),v.stopped=1)},m={background_pattern:$.x.createPattern($.r.i.a,"repeat"),p_a:0,gba:0,gameover_text_alpha:0,f:1},$.t({o:m,p:"f",v:0,d:100}),(p={a:!0,b:$.performance.now(),board:[],can_restart:!1,exiting:!1,score:0,level:1,rows_cleared:0,nri:2e4,nrt:0,nrtd:0,nrf:!1,zodiacs:0,consecutive:{1:0,2:0,3:0}}).nrt=$.performance.now()+p.nri;for(var e=0;17>e;e++){p.board.push([]);for(var n=0;8>n;n++)if(2>e){var a=M.round(M.random())+1,o=i(1+20*n,1+20*e,a);if(p.board[e].push({t:a,piece:o}),7==n){for(a=p.board[e][0].t,o=0;8>o;o++)a&=p.board[e][o].t;a&&(p.board[e][7].t^=3,p.board[e][7].piece.type^=3)}}else p.board[e].push({t:0})}for(x=0,p.player=new $.E({frames:[$.r.i.u,$.r.i.v,$.r.i.w,$.r.i.v],frame_lengths:[500,200,200,200],current_frame:0,animate_timer:$.performance.now(),animate:function(e){e-this.animate_timer>this.frame_lengths[this.current_frame]&&(this.current_frame++,this.current_frame%=this.frames.length,this.animate_timer=e)},x:4,sprite_x:84,sprite_y:363,a:t(),draw:function(e){for(e.drawImage(this.frames[this.current_frame],this.sprite_x,this.sprite_y),e=16;0<=e&&!p.board[e][this.x].t;e--);g.save(),g.globalAlpha=1,g.lineWidth=1,g.setLineDash([2,8]),g.strokeStyle="#8ed4a5",g.beginPath(),g.moveTo(this.sprite_x+5,this.sprite_y-8),g.lineTo(this.sprite_x+5,20*(e+1)+20),g.stroke(),g.restore()},listen:function(e){"keypress"==e.$type?(e.which==$.K.L&&this.move(-1),e.which==$.K.R&&this.move(1),e.which==$.K.Z&&this.shoot()):"keyheld"==e.$type&&(e.which==$.K.L&&this.move(-1),e.which==$.K.R&&this.move(1))},move:function(e){0<=this.x+e&&8>this.x+e&&(this.x+=e,this.a=this.a.then(function(){return $.t({o:this,p:"sprite_x",v:this.sprite_x+20*e,r:.7}).then(function(){return t()}.bind(this))}.bind(this)))},next:[],shoot:function(){if(p.board[16][this.x].t)r();else{iR("j",1);var e=this.next.shift(),t=1<16*M.random()?M.round(M.random())+1:3;this.next.push(t),p.consecutive[e]?p.consecutive[e]++:(p.consecutive[1]=0,p.consecutive[2]=0,p.consecutive[3]=0,p.consecutive[e]=1),mR({1:"k",2:"l",3:"m"}[e],p.consecutive[e]);for(var n=16;0<n&&0==p.board[n-1][this.x].t;)n--;var a=i(20*this.x+1,321,e);p.board[n][this.x]={t:e,piece:a},function(e,t){var i=[1,-1,0,0,1,1,-1,-1],n=[0,0,1,-1,1,-1,1,-1],r=p.board[t][e].t;if(0!=r&&3!=r)for(var a=0;8>a;a++){for(var o=i[a],f=n[a],c=!1,$=1,l=e+$*o,h=t+$*f;0<=l&&0<=h&&8>l&&17>h&&0!=p.board[h][l].t&&3!=p.board[h][l].t;){if(p.board[h][l].t==r){c=!0;break}l=e+ ++$*o,h=t+$*f}if(c)for(c=1;c<$;c++)l=e+c*o,h=t+c*f,p.board[h][l].t=r,s(p.board[h][l].piece,r)}}(this.x,n),a.a=a.a.then((function(){return $.r.s.sh.play(),$.t({o:a,p:"y",v:1+20*n,r:3})}))}}}),e=0;8>e;e++)p.player.next.push(M.round(M.random())+1),1>16*M.random()&&(p.player.next[e]=3)},S.draw=function(e){if($.paused)$.x.clearAll(),$.x.drawImage(u,0,0),$.x.globalAlpha=m.p_a,$.x.fillStyle="#000000",$.x.fillRect(0,0,$.v.width,$.v.height),$.x.globalAlpha=1,$.x.fillStyle=0==x?"#fff":"#666",tx($.x,3,"RESUME",140,147,1,1),$.x.fillStyle=1==x?"#fff":"#666",tx($.x,3,"RESTART",140,195,1,1),$.x.fillStyle=2==x?"#fff":"#666",tx($.x,3,"QUIT",140,243,1,1);else if(p.a){for(var t in g.clearRect(0,0,l.width,l.height),w.clearRect(0,0,h.width,h.height),g.fillStyle="rgba(0,0,0,0.5)",g.fillRect(0,0,l.width,l.height),g.save(),g.globalAlpha=1,g.lineWidth=1,g.strokeStyle="#50605b",g.beginPath(),g.moveTo(0,360),g.lineTo(160,360),g.stroke(),g.restore(),$.entities){var i=$.entities[t];i.type&&(g.globalAlpha=i.alpha,g.drawImage(n(i.type),i.x,i.y+20),i.bt&&(g.globalAlpha=i.ba,g.drawImage(n(i.bt),i.x,i.y+20)))}for(g.globalAlpha=1,p.player.draw(g),g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,8,l.width,5),g.fillStyle=p.nrf?"rgb(80, 96, 91)":"rgb(142, 212, 165)",g.fillRect(0,8,l.width*(p.nrt-e)/p.nri,5),w.fillStyle="rgba(0, 0, 0, 0.5)",w.fillRect(0,10,h.width,h.width),w.fillRect(0,117,h.width,80),w.fillRect(0,208,h.width,50),w.fillRect(0,269,h.width,50),w.fillRect(0,330,h.width,50),w.font="24px f",w.fillStyle="#fff",tx(w,3,"NEXT",48,122,1,0),tx(w,3,"SCORE",48,213,1,0),tx(w,3,"LEVEL",48,273,1,0),tx(w,3,"TIME",48,335,1,0),tx(w,3,character.name,48,97,1,2),tx(w,3,""+p.level,48,314,1,2),e=""+p.score,e="0".repeat(5-e.length)+e,tx(w,3,e,48,255,1,2),e=""+(t=M.floor(($.performance.now()-p.b)/1e3))%60,t=""+M.floor(t/60),time_string="0".repeat(2-t.length)+t+":"+"0".repeat(2-e.length)+e,tx(w,3,time_string,48,377,1,2),e=0;8>e;e++)w.drawImage(n(p.player.next[e]),9+e%4*20,148+23*M.floor(e/4));w.drawImage(character.image,23,20),$.x.fillStyle="#50605b",$.x.fillRect(0,0,$.v.width,$.v.height),$.x.fillStyle=m.background_pattern,$.x.fillRect(0,0,$.v.width,$.v.height),$.x.drawImage(l,10,0),$.x.drawImage(h,10+l.width+7,0)}else $.x.clearAll(),$.x.save(),$.x.globalAlpha=1,$.x.drawImage(d,0,0),$.x.globalAlpha=m.gba,$.x.fillStyle="#8ed4a5",$.x.fillRect(10,$.v.height/2-28,160,42),$.x.globalAlpha=m.gameover_text_alpha,$.x.fillStyle="#fff",tx($.x,3,"GAME OVER",90,188,1,1),$.x.restore();$.x.fillStyle="rgba(0,0,0,"+m.f+")",$.x.fillRect(0,0,$.v.width,$.v.height)},S.preUpdate=function(e){if($.paused)c(e);else if(p.a)e:{mR("c",M.floor((e-p.b)/1e3));for(var t=0;t<$.es.length;t++)if("keypress"==$.es[t].$type&&$.es[t].which==$.K.X){$.pause(),x=0,b.clearRect(0,0,u.width,u.height),b.drawImage($.v,0,0),$.t({o:m,p:"p_a",v:.8,d:50}),$.es=[];break e}var i;$.processEvents(),p.player.animate(e),p.nrf&&(p.nrt=e+p.nrtd),p.nrt<e&&(f(),p.nrt=e+p.nri),e=!1;for(var n=0;17>n;n++){var r=p.board[n][0].t,l=0,h=!0;for(t=0;8>t;t++)if(3==p.board[n][t].t&&l++,!(r&=p.board[n][t].t)){h=!1;break}if(h){0<l&&(e=!0),i=n;break}}if(void 0!==i){for(o(1),p.rows_cleared+=1,iR("f",1),mR("g",p.rows_cleared),0==p.rows_cleared%10&&(p.level+=1,mR("e",p.level),p.nri=M.max(3e3,p.nri-750)),n=[],t=0;8>t;t++)n.push(p.board[i][t].piece);for(t=0;8>t;t++)p.board[i][t]={t:0};a(n),e&&(p.zodiacs++,iR("h",1),mR("i",p.zodiacs),character.zodiac({$S:p,animateClearPieces:a,animateColorChange:s,incrementScore:o,row:i}))}!function(){for(var e=16;0<e;e--)for(var t=0;8>t;t++)p.board[e][t].t&&!p.board[e-1][t].t&&(p.board[e-1][t]=p.board[e][t],p.board[e][t]={t:0},function(e){e.a=e.a.then((function(){return $.t({o:e,p:"y",v:e.y-20,d:100})}))}(p.board[e-1][t].piece))}()}else!function(e){for(e=0;e<$.es.length;e++)!p.exiting&&"keypress"==$.es[e].$type&&$.es[e].which==$.K.Z&&p.can_restart&&(p.exiting=!0,$.t({o:m,p:"f",v:1,d:100}).then((function(){$.run(smm)})));$.es=[]}(e)},S.exit=function(){v.mystop()},S}();function lsfx(e,t){new $x.S(e.i).cAB(e.n,t)}function ls(e,t){new $x.M(e).cAB(t)}var resources={i:{a:{x:36,y:263,w:32,h:32},b:{x:0,y:0,w:50,h:50,W:37,H:39,f:1},c:{x:37,y:0,w:50,h:50,W:42,H:38,f:1},d:{x:0,y:39,w:50,h:50,W:40,H:42,f:1},e:{x:40,y:38,w:50,h:50,W:45,H:40,f:1},f:{x:0,y:81,w:50,h:50,W:35,H:40,f:1},g:{x:35,y:81,w:50,h:50,W:41,H:43,f:1},h:{x:0,y:121,w:50,h:50,W:30,H:44,f:1},i:{x:30,y:124,w:50,h:50,W:42,H:32,f:1},k:{x:0,y:165,w:50,h:50,W:41,H:39,f:1},l:{x:41,y:156,w:50,h:50,W:35,H:36,f:1},m:{x:0,y:205,w:50,h:50,W:43,H:43,f:1},n:{x:43,y:192,w:50,h:50,W:34,H:34,f:1},o:{x:0,y:248,w:50,h:50,W:36,H:41,f:1},p:{x:43,y:226,w:50,h:50,W:21,H:37,f:1},r:{x:64,y:226,w:17,h:17},s:{x:64,y:243,w:17,h:17},t:{x:72,y:124,w:17,h:17},u:{x:68,y:260,w:9,h:22,W:9,H:22,f:1},v:{x:76,y:81,w:9,h:22,W:5,H:22,f:1},w:{x:76,y:156,w:9,h:22,W:1,H:22,f:1}},s:{dp:{l:lsfx,data:{n:147,i:{ac:7,aa:0,h:0,y:1,r:255,t:0,i:7,m:0,v:0,b:1,d:146,a:0,g:0,ab:50,x:0,w:2727,_:254,j:2,o:200,k:254,n:0,s:21,l:0,c:0,f:0,u:0,z:0,e:0,p:0}}},clr:{l:lsfx,data:{n:191,i:{ac:7,aa:0,h:0,y:0,r:255,t:0,i:8,m:0,v:12,b:0,d:255,a:0,g:0,ab:200,x:7105,w:11102,_:255,j:2,o:11025,k:171,n:3,s:77,l:0,c:0,f:0,u:1,z:2,e:210,p:0}}},dd:{l:lsfx,data:{n:144,i:{ac:7,aa:0,h:0,y:0,r:255,t:2,i:5,m:0,v:2,b:1,d:255,a:2,g:0,ab:0,x:1979,w:2653,_:255,j:2,o:7261,k:162,n:2,s:73,l:2,c:61,f:0,u:1,z:0,e:0,p:3}}},sct:{l:lsfx,data:{n:175,i:{ac:7,aa:0,h:0,y:0,r:255,t:3,i:8,m:0,v:0,b:0,d:255,a:0,g:107,ab:22,x:444,w:6338,_:255,j:3,o:7355,k:176,n:4,s:45,l:2,c:84,f:0,u:1,z:3,e:96,p:0}}},sh:{l:lsfx,data:{n:190,i:{ac:7,aa:0,h:0,y:1,r:255,t:0,i:7,m:0,v:0,b:1,d:255,a:0,g:0,ab:0,x:548,w:4611,_:255,j:2,o:2702,k:255,n:0,s:0,l:0,c:0,f:0,u:0,z:0,e:0,p:0}}},bgm:{l:ls,data:{endPattern:382,songData:[{a:0,b:0,c:108,d:0,e:187,f:0,g:60,h:0,i:8,j:1,k:120,l:5,m:0,n:4,o:10332,p:0,r:0,s:16,t:0,notes:[147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0,147,0,0,0],u:0,v:0,w:4607,x:419,y:0,z:5,_:130,aa:0,ab:50,ac:8},{a:0,b:0,c:0,d:255,e:96,f:0,g:0,h:0,i:8,j:2,k:60,l:0,m:0,n:1,o:4067,p:0,r:255,s:45,t:0,notes:[160,0,160,0,155,0,0,0,148,160,162,0,163,162,160,0,163,0,163,162,163,0,151,163,165,0,0,0,167,0,165,0,167,0,163,0,162,0,163,0,156,0,151,162,158,0,0,0,151,0,155,0,151,0,150,0,151,0,150,0,151,0,150,155,160,0,160,0,155,0,148,0,160,0,162,0,160,0,158,160,160,0,158,0,162,160,158,151,146,0,153,0,158,0,153,150,150,0,153,0,151,0,153,0,151,156,158,0,153,0,151,0,158,0,155,0,153,0,151,0,163,0,0,163,0,158,0,151,160,0,160,155,0,160,155,0,0,160,0,162,160,158,160,156,158,0,153,0,150,0,156,0,158,150,143,0,138,0,150,138,150,0,141,0,138,0,150,138,150,0,141,0,0,138,0,150,150,0,148,0,151,0,150,0,148,0,153,160,151,0,0,0,160,0,160,0,156,0,153,0,151,150,0,160,0,156,0,153,153,0,146,0,153,0,158,0,165,0,153,150,153,0,155,0,155,0,153,155,153,0,151,0,153,0,153,0,151,0,153,0,153,0,158,0,160,0,158,0,151,146,151,0,0,0,153,0,163,0,0,0,163,160,163,0,156,0,151,163,170,0,167,163,170,0,160,0,151,163,170,0,167,163,170,0,160,0,0,0,160,0,0,0,170,0,168,0,167,0,0,167,0,170,0,168,168,0,167,0,165,0,167,0,168,0,165,0,0,168,0,165,163,0,163,156,0,0,151,0,0,151,0,156,0,158,0,156,158,0,151,144,156,158,0,151,144,158,0,151,144,156,158,0,158,0,155,0,158,153,151,0,153,165,153,0,148,0,146,0,146,0,153,0,148,0,151,0,155,0,158,0,155,0],u:1,v:0,w:13163,x:0,y:0,z:3,_:255,aa:0,ab:22,ac:7},{a:2,b:0,c:0,d:157,e:0,f:0,g:0,h:0,i:6,j:2,k:76,l:2,m:0,n:3,o:3900,p:0,r:192,s:0,t:2,notes:[160,0,148,0,160,0,148,0,160,172,148,160,172,172,148,0,146,0,170,0,158,158,170,146,158,158,158,146,158,146,0,156,168,156,168,156,0,168,156,156,0,168,0,144,0,144,0,155,0,143,167,167,0,167,155,155,155,167,155,143,0,160,160,148,160,148,172,148,0,160,0,160,172,148,0,148,0,146,0,158,0,158,158,170,170,146,170,170,158,158,158,158,156,0,156,0,144,168,156,168,144,168,156,156,144,156,156,0,155,0,143,155,143,0,155,143,167,155,155,143,167,143,0,160,172,172,160,160,148,172,160,0,148,0,160,0,160,0,158,0,158,0,158,146,0,158,158,158,0,158,0,146,0,168,156,168,168,168,144,156,168,156,168,156,0,144,0,143,155,143,155,143,167,143,155,167,0,155,0,155,0,155,0,148,160,160,0,172,0,148,0,160,160,148,0,160,160,0,146,0,170,0,158,0,146,0,158,0,146,0,146,0,158,0,156,156,156,0,144,0,168,168,144,0,156,168,156,156,144,0,143,155,143,0,143,0,155,0,143,155,167,167,155,0,143,0,151,0,163,0,151,0,151,0,163,0,151,0,151,163,151,0,160,0,148,0,172,160,148,0,160,172,148,160,148,0,160,0,144,168,168,168,144,0,156,156,156,0,156,0,144,168,168,158,0,158,0,146,0,158,0,158,0,158,170,146,158,158,0,151,0,163,175,175,0,163,163,163,151,175,151,0,151,0,160,0,148,0,148,0,160,172,148,0,148,0,160,0,148,0,156,0,144,156,144,168,156,168,144,0,156,0,156,0,144,0,158,170,158,0,158,0,158,0,170,0,158,170],u:1,v:0,w:12631,x:2418,y:0,z:0,_:139,aa:0,ab:0,ac:5}],rowLen:1739,songLen:46}}}};$W.onload=function(){$.initialize("canvas"),$.run(sl),$.L(resources).then((function(){$.run(smm),setInterval((function(){iR("b",1)}),1e3)}))};var records=[{text:"GAMES PLAYED",name:"a"},{text:"TOTAL TIME SPENT",name:"b"},{text:"LONGEST TIME SURVIVED",name:"c"},{text:"HIGHEST SCORE OBTAINED",name:"d"},{text:"HIGHEST LEVEL REACHED",name:"e"},{text:"TOTAL ROWS CLEARED",name:"f"},{text:"MOST ROWS CLEARED IN ONE GAME",name:"g"},{text:"TOTAL ZODIAC CLEARS",name:"h"},{text:"MOST ZODIACS CLEARS IN ONE GAME",name:"i"},{text:"TOTAL ORBS SHOT",name:"j"},{text:"MAX CONSECUTIVE WHITE ORBS",name:"k"},{text:"MAX CONSECUTIVE BLACK ORBS",name:"l"},{text:"MAX CONSECUTIVE ZODIAC ORBS",name:"m"}];function iR(e,t){localStorage.setItem(e,parseInt(localStorage.getItem(e),10)+t)}function mR(e,t){localStorage.setItem(e,M.max(parseInt(localStorage.getItem(e),10),t))}function gR(e){return parseInt(localStorage.getItem(e),10)}records.forEach((function(e){localStorage.getItem(e.name)||localStorage.setItem(e.name,"0")}))</script>