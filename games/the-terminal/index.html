<body style="margin:0px; background-color: black;overflow: hidden;text-align:center;cursor:none">
    <canvas id="canvas" style="height: 100vh;"></canvas>

    <script>'use strict';var aa=document.getElementById("canvas"),e=aa.getContext("2d",{alpha:!1,willReadFrequently:!0}),f,ba=performance.now(),ca=0,da=0,ea=!1,fa=!1,h=0,ha=!1,ia=!1,ka=!1,la=!1,ma=!1,oa=!1;aa.width=480;aa.height=480;const qa=a=>.5>a?2*a*a:-1+(4-2*a)*a,k=Math.random,l=Math.cos,m=Math.sin,n=Math.PI;
var r=(a=0,b=0,d=0)=>({x:a,y:b,z:d}),sa=a=>r(a.x,a.y,a.z),t=(a,b)=>r(a.x+b.x,a.y+b.y,a.z+b.z),u=(a,b)=>r(a.x-b.x,a.y-b.y,a.z-b.z),ta=(a,b)=>r(a.x*b,a.y*b,a.z*b),ua=(a,b)=>r(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x),va=(a,b)=>a.x*b.x+a.y*b.y+a.z*b.z,wa=a=>{var b=Math.hypot(a.x,a.y,a.z);return r(a.x/b,a.y/b,a.z/b)},xa=(a,b)=>r(a.x,a.y*l(b)-a.z*m(b),a.y*m(b)+a.z*l(b)),ya=(a,b)=>r(a.x*l(b)-a.z*m(b),a.y,a.x*m(b)+a.z*l(b)),Ca=(a,b)=>r(a.x*l(b)-a.y*m(b),a.x*m(b)+a.y*l(b),a.z),Da=[{v:r(0,0,0),u:r(l(.525),
0,m(.525))},{v:r(0,0,0),u:r(-l(.525),0,m(.525))},{v:r(0,0,0),u:r(0,-l(Math.atan(1*Math.tan(.525))),m(Math.atan(1*Math.tan(.525))))},{v:r(0,0,0),u:r(0,l(Math.atan(1*Math.tan(.525))),m(Math.atan(1*Math.tan(.525))))},{v:r(0,0,1),u:r(0,0,1)},{v:r(0,0,300),u:r(0,0,-1)}],v=[],Ea=r(0,0,0),Fa=r(0,0,0),Ga=()=>{var a=[],b;v.forEach(d=>{b=d.m.map(c=>{var g=d.scale;return Ca(ya(xa(u(t(Ca(ya(xa(r(c.x*g.x,c.y*g.y,c.z*g.z),d.rotation.x),d.rotation.y),d.rotation.z),d.position),Ea),-Fa.x),-Fa.y),-Fa.z)});d.I.forEach(c=>
{const g=c.map(p=>b[p]);c=ua(wa(u(g[1],g[0])),wa(u(g[2],g[0])));let q=d.color;d.G&&0<va(c,g[0])&&(q="#444444");Da.forEach(p=>{if(!(3>g.length)){var B=p.v;p=p.u;let z=g[g.length-1],T=va(u(z,B),p),K=0,pa=g.length;for(;K<pa;){let O=g[K],ja=va(u(O,B),p);0>ja*T&&(g.splice(K,0,t(z,ta(u(O,z),T/(T-ja)))),K++,pa++);0>=ja&&(g.splice(K,1),pa--,K--);T=ja;z=O;K++}}});3>g.length||a.push({m:g,color:q,O:Math.max(...g.map(p=>p.z)),closePath:d.closePath})})});a.sort((d,c)=>c.O-d.O);e.lineCap="round";a.forEach(({m:d,
color:c,closePath:g})=>{e.strokeStyle=c;e.beginPath();d.forEach(({x:q,y:p,z:B})=>{e.lineTo(Math.round(842*q/B+240),Math.round(842*-p/B+240))});g&&e.closePath();e.stroke()})};
const Ia=()=>{Ha(1,.05,1373,.07,.05,.07,3,.16,0,0,292,.01,.07,0,0,0,0,1,.12,0)},Ja=()=>{Ha(...[1.03,0,207,,.04,,1,1.97,,,207,.07,,,,.1,,.89,.08,.09])},Ka=()=>{Ha(...[,,363,,.04,.01,,,,-77,100,.45,.02,,70,,,.55,.01,.2])},La=()=>{Ha(...[.3,,378,.1,,.7,4,2.5,9,-7,,,,,,,.01,.8,,.05])},w=(a,b=r(),d=r(),c=r(1,1,1),g=!0,q=!0)=>{a=a.split(":");var p=a[0].split(",");let B=[];for(let z=0;z<p.length;z+=3)B.push(r(parseFloat(p[z])/10,parseFloat(p[z+1])/10,parseFloat(p[z+2])/10));p=a[1].split(";").map(z=>z.split(",").map(T=>
parseInt(T)-1));return{m:B,I:p,color:`rgb(${a[2]})`,position:b,rotation:d,scale:c,closePath:g,G:q,l:!1}},Ma=(a,b,d,c="rgb(255,255,255)",g=r(),q=!1,p=!1)=>({m:[r(-a/2,0,-b/2),r(a/2,0,-b/2),r(a/2,0,b/2),r(-a/2,0,b/2)],I:[[2,3,0,1]],color:c,position:d,rotation:g,scale:r(1,1,1),closePath:!0,G:q,l:p}),x=a=>{a.min=r(Infinity,Infinity,Infinity);a.max=r(-Infinity,-Infinity,-Infinity);let b=0,d=a.m.length,c;for(;b<d;)c=a.m[b],c.x+a.position.x<a.min.x&&(a.min.x=c.x+a.position.x),c.x+a.position.x>a.max.x&&(a.max.x=
c.x+a.position.x),c.y+a.position.y<a.min.y&&(a.min.y=c.y+a.position.y),c.y+a.position.y>a.max.y&&(a.max.y=c.y+a.position.y),c.z+a.position.z<a.min.z&&(a.min.z=c.z+a.position.z),c.z+a.position.z>a.max.z&&(a.max.z=c.z+a.position.z),b++},Na=(a,b)=>a.min.x<=b.max.x&&a.max.x>=b.min.x&&a.min.y<=b.max.y&&a.max.y>=b.min.y&&a.min.z<=b.max.z&&a.max.z>=b.min.z;
var Oa=[],Pa=[],Qa=[],y,Ra=(a,b)=>{a=1920*b+4*a;return[y.data[a],y.data[a+1],y.data[a+2],y.data[a+3]]},Sa,C,Ta,D=[],Ua,Va,E,Wa,Xa,F=(a,b=null)=>{Ta=b;Sa=a;C=0;D=[];Ua=0;Va=!1;Wa=E=24;Xa=0;Ya(Sa[0].text)},Za=()=>{if(0!==D.length){Xa+=f;if(C<Sa.length&&Va&&(Xa>Sa[C].duration||ea||oa))if(Ha(...[,0,709,.01,.02,.03,1,.44,.1,3.2,,.02,.01,,,,,.3,.04]),C++,Xa=0,C<Sa.length)Ya(Sa[C].text);else{Sa={};D=[];null!==Ta&&(G=Ta,G.g());return}var a=D[Ua];a.elapsedTime=(a.elapsedTime+f)%1;a.P=.5>a.elapsedTime;.8<k()&&
a.s<a.text.length&&(a.s+=Math.round(2*k())+1);a.s>=a.text.length&&Ua<D.length-1&&Ua++;e.font='bold 24px "Courier New"';D.forEach((b,d)=>{b=b.text.substr(0,b.s)+(b.P&&d===Ua?"\u2588":"");d=Wa*d+Wa+E;e.fillStyle="#ffffff";e.fillText(b,0,d)});Ua===D.length-1&&!Va&&a.s>=a.text.length&&(Va=!0)}},Ya=a=>{Ua=0;Va=!1;D=[];a.forEach(b=>{D.push({text:b,s:0,P:!1,elapsedTime:0})})},$a=(a,b)=>({text:a,x:235,y:200,width:b,height:40,state:0,i:0,h:0,o:a.split(""),M:0,B:"",L:0,D:0}),ab=()=>{var a=H;a.L+=f;5<a.L&&(a.state=
2);if(3!==a.state){var b=a.x-.5*a.i,d=a.y-.5*a.h,c=a.i+.5*a.h,g=a.h+5;e.fillStyle="#000000";e.fillRect(b,d,c,g)}0===a.state&&(a.i<=a.width&&(a.i+=(a.width-a.i)*f*10),a.h<=a.height&&(a.h+=(a.height-a.h)*f*10),a.i>=a.width-.2&&(a.state=1));2===a.state&&(0<a.i&&(a.i-=(a.width-a.i)*f*30),0<a.h&&(a.h-=(a.height-a.h)*f*30),.2>=a.h&&(a.state=3));if(1===a.state){a.D+=f;if(.05<=a.D)for(a.D=0,a.B="",b=0;b<a.o.length;)b>=a.M?(" "!==a.o[b]&&(a.o[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.round(35*k())]),
.8<k()&&(a.o[b]=a.text.charAt(b),a.M++)):a.o[b]=a.text.charAt(b),a.B+=a.o[b],b++;e.font='bold 32px "Courier New"';b=a.B;d=a.x-.5*a.width+12;c=a.y+12;e.fillStyle="#ffffff";e.fillText(b,d,c);ea&&(a.state=2)}},bb=[],db=(a=r())=>{var b=cb;bb.push({target:b,U:r(0,0,20),V:a,duration:2,delay:0,elapsedTime:0,R:sa(b.position),S:sa(b.rotation),loop:!1})};
const I=[],eb=(a,b,d,c,g="#ffffff",q=!1)=>{a=Ma(d,c,a,g,r(),!1,q);a.direction=b;a.K=!1;a.C=.5*k()+.5;I.push(a);v.push(a)},fb=a=>{for(let b=0;30>b;b++)eb(sa(a),r(10*k()-5,10*k(),10*k()-5),.01,4)},jb=()=>{var a=J.position,b=L.position;var d={m:[r(-.25,-.25,-.5),r(-.25,.25,-.5),r(.25,.25,-.5),r(.25,-.25,-.5),r(.25,.25,.5),r(.25,-.25,.5),r(-.25,.25,.5),r(-.25,-.25,.5)],I:[[0,1,2,3],[3,2,4,5],[5,4,6,7],[7,6,1,0],[1,6,4,2],[5,7,0,3]],color:void 0,position:a,rotation:r(),scale:r(1,1,1),width:.5,height:.5,
depth:1,closePath:!0,G:!0};d.direction=ta(u(b,a),.1);d.l=!0;d.K=!0;d.C=2;I.push(d);v.push(d)};
var Ha=(...a)=>{kb(lb(...a))},kb=(...a)=>{let b=mb.createBufferSource(),d=mb.createBuffer(a.length,a[0].length,M);a.map((c,g)=>d.getChannelData(g).set(c));b.buffer=d;b.connect(mb.destination);b.start()},lb=(a=1,b=.05,d=220,c=0,g=0,q=.1,p=0,B=1,z=0,T=0,K=0,pa=0,O=0,ja=0,gb=0,bc=0,V=0,hb=1,za=0,Jb=0)=>{let R=2*Math.PI,cc=z*=500*R/M**2,dc=(0<gb?1:-1)*R/4;b=d*=(1+2*b*Math.random()-b)*R/M;let ib=[],na=0,Kb=0,A=0,Aa=1,ec=0,fc=0,Y=0,Ba,ra;c=99+M*c;za*=M;g*=M;q*=M;V*=M;T*=500*R/M**3;gb*=R/M;K*=R/M;pa*=M;
O=M*O|0;for(ra=c+za+g+q+V|0;A<ra;ib[A++]=Y)++fc%(100*bc|0)||(Y=p?1<p?2<p?3<p?Math.sin((na%R)**3):Math.max(Math.min(Math.tan(na),1),-1):1-(2*na/R%2+2)%2:1-4*Math.abs(Math.round(na/R)-na/R):Math.sin(na),Y=(O?1-Jb+Jb*Math.sin(2*Math.PI*A/O):1)*(0<Y?1:-1)*Math.abs(Y)**B*a*nb*(A<c?A/c:A<c+za?1-(A-c)/za*(1-hb):A<c+za+g?hb:A<ra-V?(ra-A-V)/q*hb:0),Y=V?Y/2+(V>A?0:(A<ra-V?1:(ra-A)/V)*ib[A-V|0]/2):Y),Ba=(d+=z+=T)*Math.sin(Kb*gb-dc),na+=Ba-Ba*ja*(1-1E9*(Math.sin(A)+1)%2),Kb+=Ba-Ba*ja*(1-1E9*(Math.sin(A)**2+1)%
2),Aa&&++Aa>pa&&(d+=K,b+=K,Aa=0),!O||++ec%O||(d=b,z=cc,Aa=Aa||1);return ib},nb=.5,M=44100,mb=new (window.AudioContext||webkitAudioContext),G=null;
const rb=()=>{if(N){if(L.rotation.z+=-L.rotation.z*f*5,L.position.z+=10*P,ha&&(L.position.x-=P,.8>L.rotation.z&&(L.rotation.z+=(.8-L.rotation.z)*P)),ia&&(L.position.x+=P,-.8<L.rotation.z&&(L.rotation.z+=(-.8-L.rotation.z)*P)),ka&&(L.position.y+=P),la&&(L.position.y-=P),ma&&ob&&.2<h-pb){La();qb++;13<=qb&&(ob=!1);var a=L.position,b=L.rotation;eb(t(a,r(-1,0,0)),Ca(r(0,0,500),b.z),.1,20,"#ffffff",!0);eb(t(a,r(1,0,0)),Ca(r(0,0,500),b.z),.1,20,"#ffffff",!0);pb=h}}else L.position.z+=P;Ea=t(Ea,ta(u(u(L.position,
r(0,-2,2)),Ea),.075))},sb=()=>{Ha(...[1.1,,32,.07,.24,.7,,3.7,,,,,.11,.2,,.3,,.47,.29,.17]);F([{text:["          MISSION FAILED","      PRESS ENTER TO RESTART"],duration:200}]);E=180;fb(L.position);v.splice(v.indexOf(L),1);N=!1};
var tb="camera lesson suffer search amount school likely museum police acting silent finish review active mental narrow option itself effort repeat equity summit saving surely editor relate strict entity remote partly backed column member august common medium behind visual chosen female regime german formal robust behalf stable spoken tissue reason strong".split(" "),Q,ub,vb,wb,xb,yb,H,zb=()=>{v=[];Ia();H=null;wb=!1;yb=3;Q=[""];xb=!1;let a=new Set;for(;20>a.size;)a.add(tb[Math.round(49*k())].toUpperCase());
ub=Array.from(a).map((b,d)=>({text:b,x:14.5*Math.round(27*k()),y:24*d,w:87,J:24,H:!1}));vb=ub[Math.floor(20*k())].text;wb=!1},Eb=()=>{if(!xb)if(33>Q[Q.length-1].length)for(var a=0;11>a;a++)Q[Q.length-1]+=.99<k()?"\u2588":.9<k()?" ":Math.round(k())?1:0;else 20>Q.length?Q.push(""):xb=!0;e.font='bold 24px "Courier New"';for(a=0;a<Q.length;a++)for(let b=0;b<Q[a].length;b++).98<k()&&(Q[a]=Q[a].substr(0,b)+(.99<k()?"\u2588":.9<k()?" ":Math.round(k())?1:0)+Q[a].substr(b+1));Q.forEach((b,d)=>{e.fillStyle=
"#ffffff";e.fillText(b,0,24*d+24)});xb&&ub.forEach(b=>{e.clearRect(b.x,b.y+5,b.w,b.J);if(ca>b.x&&ca<b.x+b.w&&da>b.y&&da<b.y+b.J&&!b.H){var d=b.x,c=b.y+5,g=b.w,q=b.J;e.fillStyle="#ffffff";e.fillRect(d,c,g,q);d=b.text;c=b.x;g=b.y+24;e.fillStyle="#000000";e.fillText(d,c,g);ea&&(b.H=!0,vb===b.text?(wb=!0,Ia(),H=$a("ACCESS GRANTED",270)):(yb--,Ja(),0===yb?(fa=!0,H=$a("ACCESS DENIED",250)):H=$a("ATEMPTS LEFT "+yb,270)))}else if(b.H)for(c=0;6>c;c++){g=b.text[c];d=vb.includes(g)?"#ffffff":"#5c5c5c";q=b.x+
14.5*c;var p=b.y+24;e.fillStyle=d;e.fillText(g,q,p)}else d=b.text,c=b.x,b=b.y+24,e.fillStyle="#ffffff",e.fillText(d,c,b)});null!==H&&(ab(),fa&&3===H.state&&(G={g:Ab,update:Bb},G.g()),wb&&3===H.state&&(G={g:Cb,update:Db},G.g()))},Fb,Ab=()=>{fa=!1;h=0;v=[];Fb=w("27,10,0,22,8,0,19,5,0,17,0,0,19,-5,0,22,-8,0,27,-10,0,32,-8,0,36,-5,0,37,0,0,36,5,0,32,8,0,0,30,0,-10,28,0,-19,22,0,-25,15,0,-29,5,0,-29,-5,0,-25,-15,0,-19,-22,0,-10,-28,0,0,-30,0,10,-28,0,19,-22,0,25,-15,0,25,15,0,19,22,0,10,28,0,20,-5,14,24,-5,14,20,6,14,24,6,14,20,0,14,12,-5,14,16,-5,14,12,6,14,16,6,14,16,0,14,-1,-5,14,2,-5,14,2,6,14,5,2,14,7,-5,14,11,-5,14,7,6,14,-14,-5,14,-2,-5,14,-14,6,14,-6,2,14,-2,6,14,-6,-1,14,-14,2,14,-14,-1,14,-27,-5,14,-23,-5,14,-24,6,14,-21,2,14,-19,-5,14,-15,-5,14,-19,6,14:1,26,27,28,13,14,15,16,17,18,19,20,21,22,23,24,25,7,6,5,4,3,2;2,3,4,5,6,7,8,9,10,11,12,1;29,30,32,31,38,37,36,34,35,33;39,40,42,43,44,45,41;46,47,50,48,52,49,51,53;54,55,57,58,59,60,56:255,255,255",
r(0,1,20),r(0,n,0),r(1,1,1),!0,!1);v.push(Fb);F([{text:["             WARNING!","Unauthorized access to this","terminal is strictly prohibited!"],duration:10},{text:["If you have TOP SECRET clearance","press enter or click the","screen to authenticate."],duration:200}],{g:zb,update:Eb});E=380},Bb=()=>{Fb.rotation.y=n-2*qa(h%5/5)*n;ka&&(Ea.z+=1);e.font='bold 24px "Courier New"';e.fillStyle="#ffffff";e.fillText("\u00a91958",205,24)},L,Gb,cb,Hb,Cb=()=>{h=0;Hb=Gb=!1;v=[];S=w("-3,22,-4,3,20,7,-8,4,9,8,4,9,-8,0,0,-4,0,-11,4,0,-11,3,5,-14,-3,7,-12,4,7,-13,-4,13,-12,4,13,-12,3,13,-14,-9,16,6,-9,6,6,-9,8,1,-9,16,1,-9,13,1,-4,5,-10,-5,13,-9,-7,13,-10,-3,17,-12,-4,21,-4,-9,6,1,-11,14,6,-11,8,6,-11,8,1,-11,14,1,3,22,-4,-3,20,7,5,12,11,-5,12,11,8,0,0,-3,5,-14,-3,13,-14,3,18,-13,-3,18,-13,9,16,6,9,6,6,9,8,1,9,16,1,9,13,1,5,5,-10,5,13,-9,7,13,-10,3,17,-12,4,21,-4,9,6,1,11,14,6,11,8,6,11,8,1,11,14,1:30,2,29,1;30,32,31,2;32,3,4,31;3,5,33,4;5,6,7,33;6,34,8,7;34,9,10,8;9,11,12,10;11,35,13,12;35,37,36,13;37,1,29,36;24,16,18,17,14,15;11,9,19,16,18,20;6,19,9,34;5,16,19,6;11,20,18,21,35;17,14,30,23;20,18,17,23,22,11;30,1,37,35,11,22,23;26,27,24,15;28,25,14,17;26,25,28,27;15,14,25,26;27,28,17,18,16,24;48,39,38,41,42,40;12,44,42,40,43,10;7,8,10,43;33,7,43,40;12,13,45,42,44;41,47,2,38;44,12,46,47,41,42;2,47,46,12,13,36,29;50,39,48,51;52,41,38,49;50,51,52,49;39,50,49,38;51,48,40,42,41,52:255,255,255",
r(0,0,15));Ib=w("10,-1,-3,13,0,-2,23,-7,-4,24,-3,-2,10,-1,3,13,0,2,24,-7,3,24,-3,2,-11,-1,-3,-14,0,-2,-23,-7,-4,-24,-3,-2,-11,-1,3,-14,0,2,-25,-7,3,-24,-3,2:1,2,4,3;3,4,8,7;7,8,6,5;5,6,2,1;3,7,5,1;8,4,2,6;9,11,12,10;11,15,16,12;15,16,14,13;13,9,10,14;11,9,13,15;16,14,10,12;11,16,15,13,14,10,9,12:255,255,255",r(0,0,15));L=w("3,0,-9,3,1,-12,4,0,10,3,4,-11,-3,0,-9,-3,1,-12,-4,0,10,-3,4,-11,5,-4,29,-5,-4,29,-6,-4,16,6,-4,16,28,-15,-23,-28,-15,-23,-26,-14,18,26,-14,18,-8,-4,11,8,-4,11,1,-1,-36,0,0,-36,0,0,-36,-1,-1,-36,3,-2,-37,2,1,-35,-2,1,-35,-3,-2,-37:1,2,4,3;3,4,8,7;7,8,6,5;9,10,11,26,23,12;8,4,24,25;26,11,10,7,8,25;9,12,23,24,4,3;9,3,7,10;18,16,13,23;26,14,15,17;12,18,23;11,26,17;19,22,21,20;23,26,25,24:255,255,255",
r(0,1,15),r(0,0,0));cb=w("-26,0,0,-43,0,0,-27,-5,0,-39,-5,0,-23,6,0,-46,6,0,-25,1,0,-43,1,0,-4,-5,0,0,-5,0,-4,6,0,0,6,0,-4,0,0,-12,-5,0,-8,-5,0,-12,6,0,-8,6,0,-8,0,0,-26,-5,0,-22,-5,0,-22,6,0,-20,2,0,-17,-5,0,-13,-5,0,-17,6,0,0,6,0,0,-5,0,12,6,0,8,-1,0,12,-5,0,4,-1,0,8,6,0,4,6,0,13,-5,0,25,-5,0,21,6,0,25,6,0,21,-1,0,13,-1,0,26,0,0,42,0,0,26,-5,0,39,-5,0,26,6,0,46,6,0,26,1,0,43,1,0,0,32,0,-6,31,0,-12,28,0,-18,24,0,-22,19,0,-25,11,0,-24,18,0,-22,24,0,-18,29,0,-12,33,0,-6,36,0,0,37,0,6,36,0,12,33,0,18,29,0,22,24,0,24,18,0,25,11,0,22,19,0,18,24,0,12,28,0,6,31,0:1,3,4,2;5,7,8,6;9,13,15,14,16,17,18,11,12,10;19,21,25,24,23,22,20;26,33,31,29,32,28,30,27;34,39,38,36,37,35;40,41,43,42;44,45,47,46;49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,48:255,255,255",
r(0,0,0),r(-n/2,n,0));v.push(cb);db(r(0,n,0));F([{text:["Welcome to the TOP SECRET program","LUNA, commander! This NACA","program is the future of","avionics."],duration:15},{text:["LUNA squadron is using the latest","USA technologies to intercept the","possible encounters with other","entities on future missions","to the moon."],duration:15},{text:["This terminal is used to train","you on the new Northrop AURORA","aeronautics systems."],duration:15},{text:["AURORA is a big leap ahead in","propulsion and weaponry."],
duration:15},{text:["Instantaneous acceleration and","directed-energy weapon that uses","lasers to inflict damage are just","some of its characteristics."],duration:15},{text:["Remember! Use WASD or arrow keys","to steer and space to fire.","Please always remain calm and","distroy everything in your way!"],duration:200}],{g:Lb,update:Mb});E=340},Db=()=>{1!==C||Hb||(v=[],v.push(Ib,S),Hb=!0);3!==C||Gb||(v=[],v.push(L),Gb=!0);var a=S.rotation,b=.3*m(h),d=.01*l(h);a.x=.1*l(h);a.y=b;a.z=d;a=S.position;
b=.05*m(h);a.x=0;a.y=b;a.z=15;a=Ib.rotation;b=.2*m(h);d=.01*l(h);a.x=.1*l(h);a.y=b;a.z=d;a=Ib.position;b=.05*m(h);a.x=0;a.y=b;a.z=15;L.position=r(0,.2*l(4*h)+1,15);L.rotation=r(.2*l(h)+.5,m(h)+n/2,.01*l(h)-n/6);3<h&&(e.beginPath(),e.moveTo(0,340),e.lineTo(480,340),e.stroke())},N,Nb,Ob,qb,ob,Pb,P,Qb,Lb=()=>{h=0;N=!0;qb=pb=0;ob=!0;Pb=!1;F([{text:["            MISSION 01","  OBSTACLES AVOIDANCE TRAINING"],duration:4},{text:["     USE WASD OR ARROW KEYS","       TO STEER THE SHIP!"],duration:4}]);E=180;
v=[];L=w("3,0,-9,3,1,-12,4,0,10,3,4,-11,-3,0,-9,-3,1,-12,-4,0,10,-3,4,-11,5,-4,29,-5,-4,29,-6,-4,16,6,-4,16,28,-15,-23,-28,-15,-23,-26,-14,18,26,-14,18,-8,-4,11,8,-4,11,1,-1,-36,0,0,-36,0,0,-36,-1,-1,-36,3,-2,-37,2,1,-35,-2,1,-35,-3,-2,-37:1,2,4,3;3,4,8,7;7,8,6,5;9,10,11,26,23,12;8,4,24,25;26,11,10,7,8,25;9,12,23,24,4,3;9,3,7,10;18,16,13,23;26,14,15,17;12,18,23;11,26,17;19,22,21,20;23,26,25,24:255,255,255",r(0,1,0));v.push(L);Nb=[];Ob=[];let a=0;for(;15>a;){Qb=w("-15,-11,-4,15,-11,-4,-15,12,-4,15,12,-4,15,-11,-6,-15,-11,-6,-15,12,-6,15,12,-6,8,12,-4,-8,12,-4,8,12,-6,-8,12,-6,2,-11,-4,-2,-11,-4,2,-11,-6,-2,-11,-6,20,0,-4,20,0,-6,-20,0,-4,-20,0,-6:9,11,8,4;2,17,18,5;4,8,18,17;3,7,12,10;5,15,13,2;3,19,20,7;1,6,20,19;16,6,1,14:0,255,255",
r(0,0,20*a),r(0,0,0),r(10,10,10));Nb.push(Qb);v.push(Qb);var b=2*k()+2;b=w("18,0,0,8,0,4,8,0,-4,9,16,0,4,7,4,4,7,-4,-9,16,0,-4,7,4,-4,7,-4,-18,0,0,-8,0,4,-8,0,-4,-9,-16,0,-4,-7,4,-4,-7,-4,9,-16,0,4,-7,4,4,-7,-4:1,4,5,2;2,5,6,3;3,6,4,1;4,7,8,5;5,8,9,6;6,9,7,4;7,10,11,8;8,11,12,9;9,12,10,7;10,13,14,11;11,14,15,12;12,15,13,10;13,16,17,14;14,17,18,15;15,18,16,13;16,1,2,17;17,2,3,18;18,3,1,16:255,0,255",r(.5>k()?18*k():18*-k(),.5>k()?12*k():12*-k(),50*a+1300),r(0,0,0),r(b,b,b));b.T=r(k(),k(),k());b.F=
.5<Math.random()?1:-1;v.push(b);Ob.push(b);a++}},Mb=()=>{P=15*f;rb();if(!N&&oa)Pb?(G={g:Rb,update:Sb},G.g()):Lb();else{(-18>L.position.x||18<L.position.x||-10>L.position.y||10<L.position.y)&&N&&sb();for(var a=0,b,d=Nb.length;a<d;)b=Nb[a],b.position.z<L.position.z-25&&(b.position.z+=300),a++;a=0;for(d=Ob.length;a<d;)b=Ob[a],b.rotation=t(b.rotation,ta(b.T,f)),b.position.z<L.position.z-25&&(b.position.z+=750),b.position.y+=b.F*f*10,12<b.position.y&&(b.F=-1),-12>b.position.y&&(b.F=1),a++;x(L);Ob.forEach(c=>
{x(c);N&&Na(c,L)&&sb()});I.forEach(c=>{c.l&&(x(c),Ob.forEach(g=>{Na(g,c)&&(g.position.z+=750,I.splice(I.indexOf(c),1),v.splice(v.indexOf(c),1),Ka())}))});5E3<L.position.z&&N&&(N=!1,Pb=!0,F([{text:["        MISSION SUCCEEDED","       WELL DONE COMMANDER"],duration:5},{text:["       PRESS ENTER TO START","           NEXT MISSION"],duration:5}]),E=180);Tb()}},Tb=()=>{for(let a=0;a<13-qb;a++)e.beginPath(),e.rect(180+10*a,470,5,5),e.fill()},pb,S,Ib,Rb=()=>{Ub();h=0;v=[];S=w("-3,22,-4,3,20,7,-8,4,9,8,4,9,-8,0,0,-4,0,-11,4,0,-11,3,5,-14,-3,7,-12,4,7,-13,-4,13,-12,4,13,-12,3,13,-14,-9,16,6,-9,6,6,-9,8,1,-9,16,1,-9,13,1,-4,5,-10,-5,13,-9,-7,13,-10,-3,17,-12,-4,21,-4,-9,6,1,-11,14,6,-11,8,6,-11,8,1,-11,14,1,3,22,-4,-3,20,7,5,12,11,-5,12,11,8,0,0,-3,5,-14,-3,13,-14,3,18,-13,-3,18,-13,9,16,6,9,6,6,9,8,1,9,16,1,9,13,1,5,5,-10,5,13,-9,7,13,-10,3,17,-12,4,21,-4,9,6,1,11,14,6,11,8,6,11,8,1,11,14,1:30,2,29,1;30,32,31,2;32,3,4,31;3,5,33,4;5,6,7,33;6,34,8,7;34,9,10,8;9,11,12,10;11,35,13,12;35,37,36,13;37,1,29,36;24,16,18,17,14,15;11,9,19,16,18,20;6,19,9,34;5,16,19,6;11,20,18,21,35;17,14,30,23;20,18,17,23,22,11;30,1,37,35,11,22,23;26,27,24,15;28,25,14,17;26,25,28,27;15,14,25,26;27,28,17,18,16,24;48,39,38,41,42,40;12,44,42,40,43,10;7,8,10,43;33,7,43,40;12,13,45,42,44;41,47,2,38;44,12,46,47,41,42;2,47,46,12,13,36,29;50,39,48,51;52,41,38,49;50,51,52,49;39,50,49,38;51,48,40,42,41,52:255,255,255",
r(0,0,15));Ib=w("10,-1,-3,13,0,-2,23,-7,-4,24,-3,-2,10,-1,3,13,0,2,24,-7,3,24,-3,2,-11,-1,-3,-14,0,-2,-23,-7,-4,-24,-3,-2,-11,-1,3,-14,0,2,-25,-7,3,-24,-3,2:1,2,4,3;3,4,8,7;7,8,6,5;5,6,2,1;3,7,5,1;8,4,2,6;9,11,12,10;11,15,16,12;15,16,14,13;13,9,10,14;11,9,13,15;16,14,10,12;11,16,15,13,14,10,9,12:255,255,255",r(0,0,15));v.push(S,Ib);Ea=r();F([{text:["Commander, we have an urgent","mission for you. This is not","a drill. I repeat:","This is not a drill!"],duration:10},{text:["On the far side of the moon",
"there is a fearful area:","AREA 13."],duration:10},{text:["Currently there are some","major issues on AREA 13.","We need you to clear","this area of intruders."],duration:10},{text:["On your way to the moon","you will encounter a very","strange spaceship.","Just destroy it!"],duration:10}],{g:Vb,update:Wb});E=340},Sb=()=>{e.drawImage(Xb,0,0);e.clearRect(0,340,480,140);e.beginPath();e.moveTo(0,340);e.lineTo(480,340);e.stroke();var a=S.rotation,b=.3*m(h),d=.01*l(h);a.x=.1*l(h);a.y=b;a.z=d;a=S.position;
b=.05*m(h);a.x=0;a.y=b;a.z=15;a=Ib.rotation;b=.2*m(h);d=.01*l(h);a.x=.1*l(h);a.y=b;a.z=d;a=Ib.position;b=.05*m(h);a.x=0;a.y=b;a.z=15},U,W,Yb,Zb,$b=100,ac,gc,kc=()=>{U={};h=0;N=!0;qb=pb=0;ob=!0;Pb=!1;Yb=50*k()+50;gc=Zb=!1;X=10*k();hc=0;ic=!0;F([{text:["          AREA 13 MISSION","         DESTROY THE BASE!"],duration:6}]);E=180;v=[];Nb=[];ac=Ma(10,1,r());let a=0;for(;30>a;){for(let b=-8;8>b;b++){let d=Ma(.1,.2,r(2*b,m(b/n)*b/2,5*a),"#0bffd5");v.push(d);Nb.push(d)}a++}J=w("0,-2,-10,0,2,-10,8,-2,-5,8,2,-5,8,-2,5,8,2,5,0,-2,10,0,2,10,-8,-2,5,-8,2,5,-8,-2,-5,-8,2,-5,0,2,-7,6,2,-2,4,2,5,-4,2,5,-6,2,-2,0,7,0:1,2,4,3;3,4,6,5;5,6,8,7;7,8,10,9;4,2,12,10,8,6;9,10,12,11;11,12,2,1;1,3,5,7,9,11;13,18,14;14,18,15;15,18,16;13,14,15,16,17;16,18,17;17,18,13:255,255,255",
r());L=w("3,0,-9,3,1,-12,4,0,10,3,4,-11,-3,0,-9,-3,1,-12,-4,0,10,-3,4,-11,5,-4,29,-5,-4,29,-6,-4,16,6,-4,16,28,-15,-23,-28,-15,-23,-26,-14,18,26,-14,18,-8,-4,11,8,-4,11,1,-1,-36,0,0,-36,0,0,-36,-1,-1,-36,3,-2,-37,2,1,-35,-2,1,-35,-3,-2,-37:1,2,4,3;3,4,8,7;7,8,6,5;9,10,11,26,23,12;8,4,24,25;26,11,10,7,8,25;9,12,23,24,4,3;9,3,7,10;18,16,13,23;26,14,15,17;12,18,23;11,26,17;19,22,21,20;23,26,25,24:255,255,255",r(0,1,0));W=w("-78,-11,48,-69,18,40,27,18,38,78,-11,49,69,18,40,-24,40,32,24,40,32,-27,18,40,18,-11,-33,-18,-11,-34,-24,40,-15,24,40,-15,27,18,-23,-27,18,-24,-18,-11,-51,-78,-11,-51,-69,18,-33,-27,18,-33,78,-11,-51,18,-11,-51,27,18,-33,69,18,-33,-14,30,-19,14,30,-19,-16,18,-24,16,18,-23,-63,-1,-45,-60,7,-39,-34,-1,-45,-37,7,-39,34,-1,-45,37,7,-39,63,-1,-45,60,7,-39:1,2,17,16;6,11,14,8;8,14,18,17,2;19,22,5,4;3,13,12,7;5,22,21,13,3;15,10,9,20,19,4,1,16;7,12,11,6;19,20,21,22;15,16,17,18;9,10,14,11,12,13;1,4,5,3,7,6,8,2;20,9,13,21;18,14,10,15;25,23,24,26;27,28,30,29;31,32,34,33:255,0,255",
r(0,1,0));v.push(L,W,ac,J);jc()},lc=()=>{P=5*f;2.8<h%3&&(Yb=100*k()+50);rb();W.position.z=L.position.z+Yb;W.position.y=l(h)*f*200+5;ac.position=t(W.position,r(0,5,0));ac.scale.x=$b/100;0>$b&&!gc&&(fb(W.position),v.splice(v.indexOf(W),1),v.splice(v.indexOf(ac),1),gc=!0,ic=N=!1,F([{text:["      AREA 13 BASE DISTROYED!","        WELL DONE COMMANDER!"],duration:10},{text:["      YOU CAN NOW PLAY OTHER","    GAMES FROM JS13K COMPETITION"],duration:10}]),E=180);Zb&&.9<h%1&&(Zb=!1,W.color="#f70c44");Zb&&
(W.color=.5<k()?"#f70c44":"#0bffd5");-8>L.position.x&&(L.position.x=-8);6<L.position.x&&(L.position.x=6);0>L.position.y&&(L.position.y=0);8<L.position.y&&(L.position.y=8);var a=0;let b=Nb.length;for(;a<b;){var d=Nb[a];d.position.z<L.position.z-25&&(d.position.z+=150);a++}ic&&8<h&&(J.position.z=L.position.z+50-X,5.9<h%6&&(X=10*k()),a=h%(2*n),J.position=r(X*l(a),X*m(a),J.position.z),J.rotation.y+=3*f,1<h-hc&&(La(),jb(),hc=h),x(J),I.forEach(c=>{c.l&&!c.K&&(x(c),Na(c,J)&&(fb(J.position),ic=!1,v.splice(v.indexOf(J),
1)))}));U.N?(U.x=L.position.x,U.y=L.position.y,.5<U.j&&(U.j-=.5)):(U.x+=U.speed*f,10<U.x&&(U.speed=-10),-10>U.x&&(U.speed=10));U.z<L.position.z-5&&jc();for(a=0;a<U.A.length;a++)d=U.A[a],d.angle+=.03,d.position=r(U.x+U.j*l(d.angle),U.y+U.j*m(d.angle),U.z),d.rotation.z=d.angle;x(L);L.min.x>U.x-U.j&&L.max.x<U.x+U.j&&L.min.y>U.y-U.j&&L.max.y<U.y+U.j&&L.min.z<U.z&&L.max.z>U.z&&(U.N=!0,qb=0,ob=!0,Ja());x(W);I.forEach(c=>{c.l&&(x(c),Na(W,c)&&(Zb=!0,$b-=2,I.splice(I.indexOf(c),1),v.splice(v.indexOf(c),1),
Ka()))});Tb()},jc=()=>{void 0!==U.A&&U.A.forEach(g=>{v.splice(v.indexOf(g),1)});U={};let a=10*k()*(.5<k()?-1:1),b=5*k(),d=L.position.z+500,c=3*k()+2;U.A=[];for(let g=0;g<2*n;g+=n/3){let q=w("-10,-10,0,10,-10,0,0,10,0:1,3,2:255,255,255",r(c*l(g)+a,c*m(g)+b,d),r(0,0,g),r(.3,.3,.3));q.angle=g;v.push(q);U.A.push(q)}U.x=a;U.y=b;U.z=d;U.j=c;U.speed=10;U.N=!1},mc=[],nc=[],Xb=null,oc,J,X,hc,ic,Vb=()=>{h=0;mc=[];v=[];nc=[];I.length=0;N=!0;qb=pb=0;ob=!0;Pb=!1;X=10*k();hc=0;ic=!0;F([{text:["            MISSION 02",
"         DESTROY THE UFO"],duration:4},{text:["      YOU HAVE ONLY 12 LASER","         BASED MISSILES"],duration:4}]);E=180;let a=0;for(;100>a;){var b=Ma(.1,.1,r(20*k()*(.5>k()?-1:1),20*k()*(.5>k()?-1:1),2*a),"#ffffff");v.push(b);mc.push(b);b=k()+.5;b=w("9,9,-19,10,-9,-18,10,9,20,9,-9,19,-10,9,-20,-10,-9,-19,-10,9,19,-9,-9,19,0,-10,-20,0,10,21,0,-10,21,0,10,-21,-10,-10,0,10,10,0,-10,10,0,10,-11,0,0,-13,0,0,12,0,9,0,-24,-10,0,24,10,0,24,-10,0,-24,0,0,-27,0,0,27,13,0,0,-13,0,0:18,15,7,10;24,10,7,20;26,15,5,22;17,16,4,11;25,14,3,21;23,12,1,19;22,5,12,23;13,17,11,8;21,3,10,24;14,18,10,3;1,12,18,14;6,9,17,13;19,1,14,25;9,2,16,17;20,7,15,26;12,5,15,18;8,20,26,13;2,19,25,16;4,21,24,11;6,22,23,9;9,23,19,2;16,25,21,4;13,26,22,6;11,24,20,8:255,0,255",
r(20*k()*(.5>k()?-1:1),20*k()*(.5>k()?-1:1),20*a+1999),r(k()*n,k()*n,k()*n),r(b,b,b));v.push(b);nc.push(b);a++}J=w("0,-2,-10,0,2,-10,8,-2,-5,8,2,-5,8,-2,5,8,2,5,0,-2,10,0,2,10,-8,-2,5,-8,2,5,-8,-2,-5,-8,2,-5,0,2,-7,6,2,-2,4,2,5,-4,2,5,-6,2,-2,0,7,0:1,2,4,3;3,4,6,5;5,6,8,7;7,8,10,9;4,2,12,10,8,6;9,10,12,11;11,12,2,1;1,3,5,7,9,11;13,18,14;14,18,15;15,18,16;13,14,15,16,17;16,18,17;17,18,13:255,255,255",r());oc=w("0,10,0,-3,9,0,-6,7,0,-8,5,0,-9,1,0,-8,4,0,-6,6,0,-3,8,0,0,8,0,3,8,0,6,6,0,8,4,0,9,1,0,8,5,0,6,7,0,3,9,0:2,1,16,15,14,13,12,11,10,9,8,7,6,5,4,3:64,64,64",
r(),r(),r(10,10,10));L=w("3,0,-9,3,1,-12,4,0,10,3,4,-11,-3,0,-9,-3,1,-12,-4,0,10,-3,4,-11,5,-4,29,-5,-4,29,-6,-4,16,6,-4,16,28,-15,-23,-28,-15,-23,-26,-14,18,26,-14,18,-8,-4,11,8,-4,11,1,-1,-36,0,0,-36,0,0,-36,-1,-1,-36,3,-2,-37,2,1,-35,-2,1,-35,-3,-2,-37:1,2,4,3;3,4,8,7;7,8,6,5;9,10,11,26,23,12;8,4,24,25;26,11,10,7,8,25;9,12,23,24,4,3;9,3,7,10;18,16,13,23;26,14,15,17;12,18,23;11,26,17;19,22,21,20;23,26,25,24:255,255,255",r(0,1,0));v.push(L,oc,J);Ub()},Wb=()=>{e.drawImage(Xb,0,0);P=15*f;N&&ic||!oa||
(Pb?(G={g:kc,update:lc},G.g()):Vb());if(!Pb){rb();if(ic&&8<h){J.position.z=L.position.z+50-X;5.9<h%6&&(X=10*k());var a=h%(2*n);J.position=r(X*l(a),X*m(a),J.position.z);J.rotation.y+=3*f;1<h-hc&&(La(),jb(),hc=h);x(J);I.forEach(c=>{c.l&&!c.K&&(x(c),Na(c,J)&&(fb(J.position),ic=!1,Pb=!0,F([{text:["        MISSION SUCCEEDED"],duration:5},{text:["       PRESS ENTER TO START","           NEXT MISSION"],duration:5}]),E=180,v.splice(v.indexOf(J),1)))})}a=0;for(var b,d=mc.length;a<d;)b=mc[a],b.position.z<L.position.z-
25&&(b.position.z+=200),a++;if(5E3>L.position.z)for(x(L),a=0,d=nc.length;a<d;)b=nc[a],b.rotation.x+=b.rotation.z*f,b.position.z<L.position.z-25&&(b.position.z+=2E3),x(b),N&&Na(b,L)&&sb(),I.forEach(c=>{c.l&&(x(c),Na(b,c)&&(b.position.z+=750,I.splice(I.indexOf(c),1),v.splice(v.indexOf(c),1),Ka()))}),a++;N&&(-16>L.position.x&&(L.position.x=-16),16<L.position.x&&(L.position.x=16),-16>L.position.y&&(L.position.y=-16),16<L.position.y&&(L.position.y=16));Tb();oc.position.z=L.position.z+250}},Ub=()=>{Xb=
document.createElement("canvas");Xb.width=480;Xb.height=480;let a=Xb.getContext("2d");a.fillStyle="#ffffff";a.beginPath();for(let b=0;300>b;b++)a.rect(480*k(),480*k(),1,1);a.fill()},pc=(a,b)=>{switch(a){case 65:case 37:ha=b;break;case 87:case 38:ka=b;break;case 68:case 39:ia=b;break;case 83:case 40:la=b;break;case 32:ma=b;break;case 13:oa=b}};window.onkeydown=a=>pc(a.keyCode,!0);window.onkeyup=a=>pc(a.keyCode,!1);window.onmousedown=a=>{0===a.button&&(ea=!0)};
window.onmouseup=a=>{0===a.button&&(ea=!1)};window.onmousemove=a=>{const b=aa.getBoundingClientRect();ca=480/b.width*(a.clientX-b.left);da=480/b.height*(a.clientY-b.top)};var Z=0;for(Z=0;256>Z;Z++)Pa[Z]=Z/255;for(Z=0;256>Z;Z++)Oa[Z]=(.8*Pa[Z]^1/2.2)+1;var qc=.6,rc=-.6/256;for(Z=0;256>Z;Z++)qc+=rc,Qa[Z]=qc;G={g:Ab,update:Bb};G.g();
const sc=a=>{f=Math.max(.001*(a-ba),0);ba=a;h+=f;e.clearRect(0,0,480,480);G.update();Ga();Za();a=0;for(var b=I.length,d;a<b;)d=I[a],d.C-=f,0>d.C?(I.splice(a,1),v.splice(v.indexOf(d),1),b--):(d.position=t(d.position,ta(d.direction,f)),a++);a=0;b=bb.length;for(var c,g;a<b;)if(c=bb[a],c.delay-=f,0<c.delay)a++;else{c.elapsedTime+=f;d=c.elapsedTime/c.duration;g=c.target;var q=c.R;g.position=t(q,ta(u(c.U,q),qa(d)));q=c.S;g.rotation=t(q,ta(u(c.V,q),qa(d)));c.elapsedTime>c.duration?c.loop?(c.currentTime=
0,c.delay=0):(bb.splice(a,1),b=bb.length):a++}e.lineWidth=2;e.strokeStyle="#ffffff";e.beginPath();e.moveTo(ca-10,da);e.lineTo(ca+10,da);e.moveTo(ca,da-10);e.lineTo(ca,da+10);e.stroke();y=e.getImageData(0,0,480,480);for(d=0;480>d;){for(b=0;480>b;){a=Ra(b,d);if(0==d%2){c=a[1];if(1==b%2){var p=Ra(b-1,d);0<p[1]&&(c=.78*p[1]*Oa[p[1]])}q=a[2];0<a[2]&&(q=a[2]/2+a[2]/2*.78*Oa[a[2]]);g=a[3];1==b%2&&(g=.78*a[3]*Oa[p[3]])}else p=Ra(b,d-1),c=Qa[p[1]]*p[1],q=Qa[p[2]]*p[2],g=Qa[p[3]]*p[3];const B=1920*d+4*b;y.data[B]=
a[0];y.data[B+1]=c;y.data[B+2]=q;y.data[B+3]=g;b++}d++}e.putImageData(y,0,0);requestAnimationFrame(sc)};requestAnimationFrame(sc);</script>
</body>