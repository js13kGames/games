<!doctype html><html><head><title>SpacePi - js13kGames 2012</title><style>*{margin:0;padding:0}body{background:#000;color:#aaa;font:100%/20px 'helvetica neue',helvetica,arial,sans-serif;text-align:center;text-shadow:0 -1px 0 #000}h2{color:#fff;font-size:20px;font-weight:normal;margin:0 0 20px}a{color:#fff;font-weight:bold;text-decoration:none}a:focus{outline:0}#game-wrap{background:#000;background:-webkit-radial-gradient(center center,circle contain,#111 0,#000 100%);background:-moz-radial-gradient(center center,circle contain,#111 0,#000 100%);background:-o-radial-gradient(center center,circle contain,#111 0,#000 100%);background:radial-gradient(center center,circle contain,#111 0,#000 100%);border:1px solid #222;height:600px;left:50%;margin:-301px 0 0 -481px;position:absolute;top:50%;width:960px}canvas{cursor:crosshair;display:block;left:0;position:absolute;top:0}h1{color:#2f2;font-size:30px;font-weight:normal;line-height:30px;margin:0 0 10px}h1 strong{color:#fff}p.desc{color:#666;font-size:11px;margin:0 0 20px}p.desc a{color:#999}p.desc a:hover{color:#fff}.menu{background:#111;height:550px;left:0;padding:50px 50px 0;position:absolute;top:0;width:860px;z-index:2}#pause,#upgrades-levels,#level-stats,#retry-level,#overall-stats{display:none}#pause{background:rgba(20,20,20,.5)}#upgrades-levels{text-align:left}#upgrades-levels h2{text-align:left}#level-stats .divider,#overall-stats .divider{margin:0 auto 20px;width:350px}#guide{margin:0 auto;text-align:left;width:auto}#guide .left{float:left;width:440px}#guide h3{color:#2f2;font-size:18px;font-weight:normal;margin:0 0 10px}#guide ul{font-size:11px;margin:0 0 20px}#guide li{list-style:none;margin:0 0 7px}#guide li strong{color:#fff}#guide .pwrup1,#guide .pwrup2,#guide .pwrup3,#guide .pwrup4{cursor:help;padding:0;position:relative}#guide .pwrup1:hover .tip,#guide .pwrup2:hover .tip,#guide .pwrup3:hover .tip,#guide .pwrup4:hover .tip{display:block;font-style:normal}#guide .pwrup1{color:hsl(205,100%,50%)}#guide .pwrup2{color:hsl(0,100%,50%)}#guide .pwrup3{color:hsl(300,100%,50%)}#guide .pwrup4{color:hsl(60,100%,50%)}#map{background:#000;border:1px solid #222;float:right;height:236px;margin:0 0 20px;position:relative;width:378px}#map div{background:#999;position:absolute}#map span{color:#999;font-size:10px;line-height:10px;position:absolute;width:100%}#map .completion{height:4px;left:10px;top:10px;width:70px}#map .completion span{left:0;top:8px}#map .power{height:4px;left:90px;top:10px;width:70px}#map .power span{left:0;top:8px}#map .score{height:4px;right:60px;top:10px;width:40px}#map .score span{left:0;top:8px}#map .profit{height:4px;right:10px;top:10px;width:40px}#map .profit span{left:0;top:8px}#map .base{background:#2f2;border-radius:100%;height:20px;left:50%;margin:-10px 0 0 -10px;top:50%;width:20px}#map .base span{left:0;top:24px}#map .base-goal{background:0;border:2px solid #131;border-radius:100%;height:76px;left:50%;margin:-40px 0 0 -40px;top:50%;width:76px}#map .base-goal span{left:100%;padding:0 0 0 6px;top:33px}#map .good-line{height:60px;left:115px;margin:-30px 0 0 0;top:50%;width:1px}#map .good-line span{left:-25px;text-align:center;top:64px;width:50px}#map .bad-line{background:#f22;height:1px;left:20px;top:50%;width:60px}#map .bad-line span{left:0;text-align:center;top:5px}#map .bad-line:after{border-left:5px solid #f22;border-bottom:5px solid transparent;border-top:5px solid transparent;content:'';display:block;margin:-5px 0 0 0;position:absolute;right:-5px;top:50%}.button{background:#171717;background:-webkit-linear-gradient(#222,#111);background:-moz-linear-gradient(#222,#111);background:-o-linear-gradient(#222,#111);background:linear-gradient(#222,#111);border:1px solid #000;border-radius:2px;box-shadow:0 1px 0 #222;display:block;height:30px;line-height:30px;margin:0 auto 10px;text-align:center;width:348px}.button span{border-radius:2px;box-shadow:inset 0 1px 0 #333;color:#ccc;display:block;font-size:11px;font-weight:bold;padding:0 20px}.button:hover span{background:rgba(255,255,255,.05);color:#fff}.button:active span{background:#111;box-shadow:inset 0 0 10px #000;color:#999}.button.disabled{cursor:default;opacity:.25}.button.disabled span{color:#999}.button.disabled:hover span{background:0;color:#999;cursor:default}.button.max:hover span{background:0;color:#ccc;cursor:default}.button.disabled:active span,.button.max:active span{background:0;box-shadow:none;cursor:default}#funds{color:#fff;display:block;float:right;font-size:20px;line-height:20px;position:relative}#funds.not-enough{color:#f22;top:-10px}.up-list{margin:0 0 20px}.up-list .upgrade-group{float:left;margin:0 15px 0 0}.up-list .upgrade-group.last{margin-right:0}.up-list .button{height:auto;line-height:20px;margin:0 0 15px 0;position:relative;width:158px}.up-list .button:last-child{margin-bottom:0}.up-list .button span{padding:10px 18px}.up-list .button .cost{font-weight:normal;margin:0 0 5px}.up-list .button i{font-size:11px;font-style:normal}.up-list .button .available{color:#2f2}.up-list .button .unavailable{color:#f22}.up-list .button .lev{background:#292929;background:-webkit-linear-gradient(#444,#111);background:-moz-linear-gradient(#444,#111);background:-o-linear-gradient(#444,#111);background:linear-gradient(#444,#111);border:1px solid #000;border-radius:50%;display:inline-block;height:7px;margin:0 4px;width:7px}.up-list .upg1 .lev.lev1,.up-list .upg2 .lev.lev1,.up-list .upg2 .lev.lev2,.up-list .upg3 .lev.lev1,.up-list .upg3 .lev.lev2,.up-list .upg3 .lev.lev3,.up-list .upg4 .lev.lev1,.up-list .upg4 .lev.lev2,.up-list .upg4 .lev.lev3,.up-list .upg4 .lev.lev4{background:#fff;background:-webkit-linear-gradient(#eee,#444);background:-moz-linear-gradient(#eee,#444);background:-o-linear-gradient(#eee,#444);background:linear-gradient(#eee,#444);box-shadow:inset 0 1px 0 #fff,0 0 14px rgba(255,255,255,.4)}.up-list .upg5 .lev.lev1,.up-list .upg5 .lev.lev2,.up-list .upg5 .lev.lev3,.up-list .upg5 .lev.lev4,.up-list .upg5 .lev.lev5{background:#4f4;background:-webkit-linear-gradient(#4f4,#050);background:-moz-linear-gradient(#4f4,#050);background:-o-linear-gradient(#4f4,#050);background:linear-gradient(#4f4,#050);box-shadow:inset 0 1px 0 rgba(255,255,255,.85),0 0 14px rgba(0,255,0,.4)}.up-list .value{color:#777;display:none}.up-list .upg0 .value.lev0,.up-list .upg1 .value.lev1,.up-list .upg2 .value.lev2,.up-list .upg3 .value.lev3,.up-list .upg4 .value.lev4,.up-list .upg5 .value.lev5{display:block}.tip{background:#111;background:-webkit-linear-gradient(#222,#000);background:-moz-linear-gradient(#222,#000);background:-o-linear-gradient(#222,#000);background:linear-gradient(#222,#000);border:1px solid #333;border-radius:2px;bottom:100%;box-shadow:0 0 10px 1px #000;color:#ccc;display:none;font-size:11px;font-weight:normal;left:50%;line-height:16px;margin:0 0 16px -101px;padding:8px 20px;position:absolute;text-align:left;width:160px;z-index:2}.tip strong{color:#fff}.tip:before,.tip:after{border:1px solid transparent;content:'';height:0;left:50%;position:absolute;top:100%;width:0}.tip:before{border-top-color:#333;border-width:7px;margin-left:-7px;z-index:1}.tip:after{border-top-color:#000;border-width:5px;margin-left:-5px;z-index:2}.up-list .button:hover .tip{display:block}.up-list .button.disabled{cursor:default;opacity:1}.up-list .button.disabled span .availability{color:#f22}.up-list .button.disabled:hover span{background:0;color:#999;cursor:default}.up-list .button.max:hover span{background:0;color:#ccc;cursor:default}.up-list .button.disabled:active span,.up-list .button.max:active span{background:0;box-shadow:inset 0 1px 0 #333;cursor:default}.up-list .button:hover .value{color:#aaa}.up-list .button.max:hover .value{color:#777}#level-status{color:#aaa;display:block;float:right;font-size:11px;line-height:20px;position:relative;text-align:right}#level-status strong{color:#fff;font-weight:bold}#level-status em{color:#181;font-style:normal}#level-status em strong{color:#2f2}.level-list{clear:both;margin:0 0 20px;position:relative}.level{clear:none;float:left;height:54px;margin:0 11px 0 0;position:relative;width:54px}.level:last-child{margin-right:0}.level span{font-size:14px;height:44px;line-height:18px;padding:10px 0 0 0;position:relative;text-align:center}.level span i{display:none}.level.perfect-level span i{background:#222;background:-webkit-linear-gradient(#333,#111);background:-moz-linear-gradient(#333,#111);background:-o-linear-gradient(#333,#111);background:linear-gradient(#333,#111);border:1px solid #000;border-radius:100%;box-shadow:0 0 3px rgba(0,0,0,.5);color:#999;display:block;font-style:normal;left:-6px;font-size:10px;height:16px;line-height:16px;position:absolute;text-align:center;top:-6px;width:16px}.level.perfect-level:hover span i{color:#2f2}.level.disabled .level-score{color:#444}.level .level-score{color:#999;bottom:12px;display:block;font-style:normal;font-weight:normal;left:0;font-size:10px;width:54px}.level:hover .level-score{color:#fff}.level.disabled:hover .level-score{color:#444}.level-list .level.disabled span{color:#999}.level:nth-child(1) span{color:hsl(27,100%,50%)}.level:nth-child(2) span{color:hsl(55,100%,50%)}.level:nth-child(3) span{color:hsl(83,100%,50%)}.level:nth-child(4) span{color:hsl(110,100%,50%)}.level:nth-child(5) span{color:hsl(138,100%,50%)}.level:nth-child(6) span{color:hsl(166,100%,50%)}.level:nth-child(7) span{color:hsl(193,100%,50%)}.level:nth-child(8) span{color:hsl(221,100%,55%)}.level:nth-child(9) span{color:hsl(249,100%,60%)}.level:nth-child(10) span{color:hsl(276,100%,55%)}.level:nth-child(11) span{color:hsl(304,100%,50%)}.level:nth-child(12) span{color:hsl(332,100%,50%)}.level:nth-child(13) span{color:hsl(0,100%,50%)}.level-list .button .tip{text-align:center}.level-list .button:hover .tip{display:block}.level-list .button.disabled:hover .tip{display:none}.level-notes{background:#222;border:1px solid #000;border-radius:100%;cursor:help;color:#ccc;display:inline-block;font-size:11px;font-weight:bold;height:16px;line-height:16px;position:relative;text-align:center;vertical-align:middle;width:16px}.level-notes:hover{background:#333;color:#fff}.level-notes:hover .tip{display:block}.level-success{color:#2f2}.level-fail{color:#f22}.perfect{color:#2f2;font-weight:bold;margin:0 0 0 5px}table{border-collapse:separate;border-radius:2px;border-spacing:0;box-shadow:0 1px 0 #222;margin:0 auto 20px;width:348px}th{background:#171717;background:-webkit-linear-gradient(#222,#111);background:-moz-linear-gradient(#222,#111);background:-o-linear-gradient(#222,#111);background:linear-gradient(#222,#111);border:1px solid #000;border-radius:2px 2px 0 0;box-shadow:inset 0 1px 0 #333;color:#fff;font-size:14px;padding:6px 16px}td{border-bottom:1px solid #000;border-right:1px solid #000;box-shadow:inset 0 1px 0 #333;color:#fff;font-size:11px;font-weight:bold;padding:6px 16px;text-align:left;width:50%}td:first-child{border-left:1px solid #000;color:#ccc;font-weight:normal;text-align:right}td .td-note{color:#ccc;font-style:italic;font-weight:normal}td .td-note.na{color:#f22}td .best-score{color:#2f2;font-weight:bold}tr{background:#222;background:-webkit-linear-gradient(#292929,#1a1a1a);background:-moz-linear-gradient(#292929,#1a1a1a);background:-o-linear-gradient(#292929,#1a1a1a);background:linear-gradient(#292929,#1a1a1a)}tr:last-child td:first-child{border-radius:0 0 0 2px}tr:last-child td:last-child{border-radius:0 0 2px 0}tr:hover td{background:#333;box-shadow:inset 0 1px 0 #444}.clearfix:before,.clearfix:after{content:'';display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.divider{background:#000;border-bottom:1px solid #222;clear:both;height:1px;margin:0 0 20px}a,.button span,#funds,td,.level-notes,.level-score,.value{-webkit-transition:all 300ms;-moz-transition:all 300ms;-o-transition:all 300ms;transition:all 300ms}#no-can{display:none;margin:0 auto;width:500px}#no-can p{font-size:12px;text-align:center}#no-can a{color:#4f4}#no-can a:hover{color:#afa}</style></head><body><div id="game-wrap"><div id="main" class="menu"><h1><strong>Space</strong>Pi</h1><p class="desc">Created by <a href="http://jackrugile.com" target="_blank">Jack Rugile</a> for <a href="http://js13kgames.com/" target="_blank">js13kGames</a></p><div id="no-can"><div class="divider"></div><p>Your browser does not support canvas. To play the game, download the latest version of a browser that supports canvas, such as <a href="https://google.com/chrome" target="_blank">Google Chrome</a> or <a href="http://mozilla.org/firefox" target="_blank">Mozilla Firefox</a>.</p></div><div id="home-wrap"><div id="guide" class="clearfix"><div class="divider"></div><div class="left"><h3>Overview</h3><ul><li><strong>Objective</strong> - Create lines to defend against enemy lines. Protect your base until it has grown to its target radius. Collect coins to purchase upgrades. Collect powerups to gain benefits: <span class="pwrup1">Slow Enemies<i class="tip">Enemy movement and spawning are slowed to half speed</i></span>, <span class="pwrup2">Unlimited Power<i class="tip">Unlimited line creation power</i></span>, <span class="pwrup3">Base Generation Boost<i class="tip">Base growth is doubled</i></span>, and <span class="pwrup4">Coin Scatter<i class="tip">Coins are scattered across the level</i></span>. </li><li><strong>Controls</strong> - Click and drag to create defensive lines, which is limited by your available power. Press the spacebar to pause.</li><li><strong>Saving</strong> - Game data is saved automatically at the end of levels and after upgrade purchases.<li><li><strong>Scoring</strong> - The lower the better. Beat the levels faster, create fewer lines, create shorter lines, and take less damage to get a better score.<li></ul></div><div id="map"><div class="completion"><span>Completion</span></div><div class="power"><span>Power</span></div><div class="score"><span>Score</span></div><div class="profit"><span>Profit</span></div><div class="base"><span>Base</span></div><div class="base-goal"><span>Target Radius</span></div><div class="good-line"><span>Defensive Line</span></div><div class="bad-line"><span>Enemy Line</span></div></div><div class="divider"></div></div><a href="#" class="button" id="play-game-button"><span>Play Game</span></a><a href="#" class="button" id="overall-stats-button"><span>Overall Stats</span></a><a href="#" class="button" id="reset-game-data-button"><span>Reset Game Data</span></a></div></div><div id="pause" class="menu"><h2 id="paused-title">Paused</h2><a href="#" class="button" id="resume-level-button"><span>Resume Level</span></a><a href="#" class="button" id="quit-level-button"><span>Quit Level</span></a></div><div id="upgrades-levels" class="menu"><p id="funds">$100</p><h2>Upgrades</h2><div class="up-list clearfix"><div class="upgrade-group"><a href="#" class="upgrade button" data-parent="power" data-specific="capacity"><span class="clearfix"><div class="title">Power Capacity</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">100px Total</div><div class="value lev1">200px Total</div><div class="value lev2">350px Total</div><div class="value lev3">500px Total</div><div class="value lev4">750px Total</div><div class="value lev5">1000px Total</div><p class="tip">Increases the capacity of your power, which is used to create defensive lines.</p></span></a><a href="#" class="upgrade button" data-parent="power" data-specific="generation"><span class="clearfix"><div class="title">Power Generation</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">30px/Second</div><div class="value lev1">60px/Second</div><div class="value lev2">90px/Second</div><div class="value lev3">120px/Second</div><div class="value lev4">150px/Second</div><div class="value lev5">180px/Second</div><p class="tip">Increases the generation of your power, which is used to create defensive lines.</p></span></a></div><div class="upgrade-group"><a href="#" class="upgrade button" data-parent="base" data-specific="resistance"><span class="clearfix"><div class="title">Base Resistance</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">0 Damage</div><div class="value lev1">-1 Damage</div><div class="value lev2">-2 Damage</div><div class="value lev3">-3 Damage</div><div class="value lev4">-4 Damage</div><div class="value lev5">-5 Damage</div><p class="tip">Increases the resistance of your base, which decreases damage from enemy lines.</p></span></a><a href="#" class="upgrade button" data-parent="base" data-specific="generation"><span class="clearfix"><div class="title">Base Generation</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">1.2px/Second</div><div class="value lev1">1.8px/Second</div><div class="value lev2">2.4px/Second</div><div class="value lev3">3px/Second</div><div class="value lev4">3.6px/Second</div><div class="value lev5">4.2px/Second</div><p class="tip">Increases the generation of your base, allowing it to reach its target radius faster.</p></span></a></div><div class="upgrade-group"><a href="#" class="upgrade button" data-parent="powerups" data-specific="chance"><span class="clearfix"><div class="title">Powerup Chance</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">2% Chance</div><div class="value lev1">3% Chance</div><div class="value lev2">4% Chance</div><div class="value lev3">5% Chance</div><div class="value lev4">6% Chance</div><div class="value lev5">7% Chance</div><p class="tip">Increases the chance of enemy lines dropping powerups.</p></span></a><a href="#" class="upgrade button" data-parent="powerups" data-specific="duration"><span class="clearfix"><div class="title">Powerup Duration</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">3 Seconds</div><div class="value lev1">3.5 Seconds</div><div class="value lev2">4 Seconds</div><div class="value lev3">4.5 Seconds</div><div class="value lev4">5 Seconds</div><div class="value lev5">5.5 Seconds</div><p class="tip">Increases the duration of powerups.</p></span></a></div><div class="upgrade-group"><a href="#" class="upgrade button" data-parent="magnet" data-specific="range"><span class="clearfix"><div class="title">Magnet Range</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">50px Radius</div><div class="value lev1">100px Radius</div><div class="value lev2">150px Radius</div><div class="value lev3">200px Radius</div><div class="value lev4">300px Radius</div><div class="value lev5">400px Radius</div><p class="tip">Increases the range of your magnet, which collects coins and powerups.</p></span></a><a href="#" class="upgrade button" data-parent="magnet" data-specific="power"><span class="clearfix"><div class="title">Magnet Power</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">60px/Second</div><div class="value lev1">120px/Second</div><div class="value lev2">180px/Second</div><div class="value lev3">240px/Second</div><div class="value lev4">300px/Second</div><div class="value lev5">360px/Second</div><p class="tip">Increases the power of your magnet, which collects coins and powerups.</p></span></a></div><div class="upgrade-group last"><a href="#" class="upgrade button" data-parent="coins" data-specific="chance"><span class="clearfix"><div class="title">Coin Chance</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">50% Chance</div><div class="value lev1">55% Chance</div><div class="value lev2">60% Chance</div><div class="value lev3">65% Chance</div><div class="value lev4">70% Chance</div><div class="value lev5">75% Chance</div><p class="tip">Increases the chance of enemy lines dropping coins.</p></span></a><a href="#" class="upgrade button" data-parent="coins" data-specific="amount"><span class="clearfix"><div class="title">Coin Amount</div><div class="cost"></div><div class="lev lev1"></div><div class="lev lev2"></div><div class="lev lev3"></div><div class="lev lev4"></div><div class="lev lev5"></div><div class="value lev0">1 Coin</div><div class="value lev1">1-2 Coins</div><div class="value lev2">1-3 Coins</div><div class="value lev3">1-4 Coins</div><div class="value lev4">1-5 Coins</div><div class="value lev5">1-6 Coins</div><p class="tip">Increases the amount of coins dropped by enemy lines.</p></span></a></div></div><div class="divider"></div><p id="level-status"><strong><span id="completed-levels"></span>/13</strong> Completed - <em><strong><span id="perfect-levels"></span>/13</strong> Perfect</em></p><h2>Levels <span class="level-notes">i<p class="tip">Best scores are shown for each level. <strong>Lower is better.</strong> Levels marked with a "P", for Perfect, were beaten without any base hits.</p></span></h2><div class="level-list clearfix"><a href="#" rel="0" class="level button"><span>1<i>P</i><small class="level-score"></small></span><p class="tip">"Noobs Welcome"<br/><strong>$5</strong>/Coin</p></a><a href="#" rel="1" class="level button"><span>2<i>P</i><small class="level-score"></small></span><p class="tip">"No Sweat"</strong><br/><strong>$10</strong>/Coin</p></a><a href="#" rel="2" class="level button"><span>3<i>P</i><small class="level-score"></small></span><p class="tip">"Yep, Still Easy"<br/><strong>$15</strong>/Coin</p></a><a href="#" rel="3" class="level button"><span>4<i>P</i><small class="level-score"></small></span><p class="tip">"Piece of js13cake"<br/><strong>$20</strong>/Coin</p></a><a href="#" rel="4" class="level button"><span>5<i>P</i><small class="level-score"></small></span><p class="tip">"You Got This"<br/><strong>$25</strong>/Coin</p></a><a href="#" rel="5" class="level button"><span>6<i>P</i><small class="level-score"></small></span><p class="tip">"Ok, Some Sweat"<br/><strong>$30</strong>/Coin</p></a><a href="#" rel="6" class="level button"><span>7<i>P</i><small class="level-score"></small></span><p class="tip">"Wait, Hold On"<br/><strong>$35</strong>/Coin</p></a><a href="#" rel="7" class="level button"><span>8<i>P</i><small class="level-score"></small></span><p class="tip">"Beware"<br/><strong>$40</strong>/Coin</p></a><a href="#" rel="8" class="level button"><span>9<i>P</i><small class="level-score"></small></span><p class="tip">"Lots of Sweat"<br/><strong>$45</strong>/Coin</p></a><a href="#" rel="9" class="level button"><span>10<i>P</i><small class="level-score"></small></span><p class="tip">"Clickfest"<br/><strong>$50</strong>/Coin</p></a><a href="#" rel="10" class="level button"><span>11<i>P</i><small class="level-score"></small></span><p class="tip">"Don't Break Your Mouse"<br/><strong>$55</strong>/Coin</p></a><a href="#" rel="11" class="level button"><span>12<i>P</i><small class="level-score"></small></span><p class="tip">"No Light at the End<br />of the Carpal Tunnel"<br/><strong>$60</strong>/Coin</p></a><a href="#" rel="12" class="level button"><span>13<i>P</i><small class="level-score"></small></span><p class="tip">"Hope You're Not as<br />Sensitive as Your Mouse"<br/><strong>$65</strong>/Coin</p></a></div><div class="divider"></div><a href="#" class="button" id="return-to-menu-button"><span>Return to Menu</span></a></div><div id="level-stats" class="menu"><h2 id="stats-status"></h2><table><tr><th colspan="2">Level Stats</th></tr><tr><td>Duration:</td><td id="stats-duration"></td></tr><tr><td>Lines Created:</td><td id="stats-lines-created"></td></tr><tr><td>Total Line Length:</td><td id="stats-total-line-length"></td></tr><tr><td>Base Hits:</td><td id="stats-base-hits"></td></tr><tr><td>Powerups Collected:</td><td id="stats-powerups-collected"></td></tr><tr><td>Coins Collected:</td><td id="stats-coins-collected"></td></tr><tr><td>Profit:</td><td id="stats-profit"></td></tr><tr><td>Score:</td><td id="stats-score"></td></tr></table><div class="divider"></div><a href="#" class="button" id="retry-level-button"><span>Retry Level</span></a><a href="#" class="button" id="return-to-upgrades-levels-button"><span>Return to Upgrades/Levels</span></a></div><div id="overall-stats" class="menu"><h1><strong>Space</strong>Pi</h1><p class="desc">Created by <a href="http://jackrugile.com" target="_blank">Jack Rugile</a> for <a href="http://js13kgames.com/" target="_blank">js13kGames</a></p><div class="divider"></div><table><tr><th colspan="2">Overall Stats</th></tr><tr><td>Total Lines Created:</td><td id="overall-lines-created"></td></tr><tr><td>Total Line Length:</td><td id="overall-line-length"></td></tr><tr><td>Total Base Hits:</td><td id="overall-base-hits"></td></tr><tr><td>Total Levels Played:</td><td id="overall-levels-played"></td></tr><tr><td>Total Time Played:</td><td id="overall-time-played"></td></tr></table><div class="divider"></div><a href="#" class="button" id="return-to-menu-button2"><span>Return to Menu</span></a></div><canvas id="c" height="600" width="960"></canvas></div><script>var e,t=document.createElement("canvas");t.getContext&&t.getContext("2d")?(new function(){var u=this,t=document;u.rand=function(e,t){return~~(Math.random()*(t-e+1)+e)},u.intersection=function(e,t,a,s){var l=(s.x-a.x)*(e.y-a.y)-(s.y-a.y)*(e.x-a.x),r=(t.x-e.x)*(e.y-a.y)-(t.y-e.y)*(e.x-a.x);return 0!=(a=(s.y-a.y)*(t.x-e.x)-(s.x-a.x)*(t.y-e.y))&&(r/=a,0<=(l/=a))&&l<=1&&0<=r&&r<=1&&{x:e.x+l*(t.x-e.x),y:e.y+l*(t.y-e.y)}},u.dToR=function(e){return e*(Math.PI/180)},u.arcInRect=function(e,t,a,s,l,r,i){return!(e+a<=s||s+r<=e-a||t+a<=l||l+i<=t-a)},u.pi2=2*Math.PI,u.updateAll=function(e){for(var t=e.length;t--;)e[t]&&e[t].update(t)},u.renderAll=function(e){for(var t=e.length;t--;)e[t]&&e[t].render(t)},u.destroyAll=function(e){for(var t=e.length;t--;)e[t]&&e[t].destroy(t)},u.clear=function(){u.ctx.clearRect(0,0,u.cw,u.ch)},u.commas=function(e){for(x=(e+"").split("."),x1=x[0],x2=1<x.length?"."+x[1]:"",e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1,$2");return x1+x2},u.hasClass=function(e,t){return e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))},u.addClass=function(e,t){u.hasClass(e,t)||(e.className+=" "+t)},u.rmvClass=function(e,t){u.hasClass(e,t)&&(e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," "))},u.get=function(e){return t.getElementById(e)},Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){return(e=this.getItem(e))&&JSON.parse(e)},Storage.prototype.removeObject=function(e){this.removeItem(e)},u.initGame=function(){u.gameWrap=u.get("game-wrap"),u.c=u.get("c"),t.onselectstart=function(){return!1},u.cw=c.width,u.ch=c.height,u.ctx=c.getContext("2d"),u.ctx.lineWidth=1.5,u.ctx.globalCompositeOperation="lighter",u.setupUser(),u.bindMenuEvents(),u.bindGameplayEvents(),u.initialDelay=140,u.menuMode=!0},u.setupUser=function(){u.user=localStorage.getObject("spacePiUser")||{highestLevelBeaten:0,levels:[{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1},{score:0,perfect:!1}],funds:0,upgrades:{power:{capacity:0,generation:0},base:{resistance:0,generation:0},magnet:{range:0,power:0},coins:{chance:0,amount:0},powerups:{chance:0,duration:0}},overall:{linesCreated:0,lineLength:0,baseHits:0,levelsPlayed:0,timePlayed:0}},u.syncDOM()},u.updateUser=function(){localStorage.setObject("spacePiUser",u.user),u.syncDOM()},u.clearUser=function(){localStorage.removeObject("spacePiUser"),u.setupUser(),u.syncDOM()},u.upgrades={power:{capacity:{value:[100,200,350,500,750,1e3],cost:[100,1e3,2e3,8e3,12e3]},generation:{value:[.5,1,1.5,2,2.5,3],cost:[100,1e3,2e3,8e3,12e3]}},base:{resistance:{value:[0,1,2,3,4,5],cost:[100,1e3,2e3,8e3,12e3]},generation:{value:[.02,.03,.04,.05,.06,.07],cost:[100,1e3,2e3,8e3,12e3]}},powerups:{chance:{value:[2,3,4,5,6,7],cost:[50,500,2e3,4e3,8e3]},duration:{value:[3,3.5,4,4.5,5,5.5],cost:[50,500,2e3,4e3,8e3]}},magnet:{range:{value:[50,100,150,200,300,400],cost:[50,500,2e3,4e3,8e3]},power:{value:[1,2,3,4,5,6],cost:[50,500,2e3,4e3,8e3]}},coins:{chance:{value:[50,55,60,65,70,75],cost:[50,500,2e3,4e3,8e3]},amount:{value:[1,2,3,4,5,6],cost:[50,500,2e3,4e3,8e3]}}},u.checkMaxUpgrades=function(){return 5===u.user.upgrades.power.capacity&&5===u.user.upgrades.power.generation&&5===u.user.upgrades.base.resistance&&5===u.user.upgrades.base.generation&&5===u.user.upgrades.powerups.chance&&5===u.user.upgrades.powerups.duration&&5===u.user.upgrades.magnet.range&&5===u.user.upgrades.magnet.power&&5===u.user.upgrades.coins.chance&&5===u.user.upgrades.coins.amount},u.powerupRef=[{name:"Slow Enemies",hue:205},{name:"Unlimited Power",hue:0},{name:"Base Generation Boost",hue:300},{name:"Coin Scatter",hue:60}],u.levels=[];for(var e=0;e<13;e++)u.levels.push({badTick:0,badTickMax:90-6*e,badSpeedMin:80+14*e,badSpeedMax:120+14*e,badLengthMin:142-8*e,badLengthMax:132-8*e,badDamage:7+e,goal:30+11*e});u.initLevel=function(e){u.level=e,u.levelPlaying=!0,u.menuMode=!1,u.mousedown=!1,u.mx=u.cw/2,u.my=u.ch/2,u.dt=0,u.oldTime=Date.now(),u.rumble=!1,u.rumbleLevel=0,u.tempPointLength=0,u.tempPointStart={x:0,y:0},u.tempPointEnd={x:0,y:0},u.goodLines=[],u.goodLines.length=0,u.badLines=[],u.badLines.length=0,u.coins=[],u.coins.length=0,u.powerups=[],u.powerups.length=0,u.blasts=[],u.blasts.length=0,u.debris=[],u.debris.length=0,u.stars=[],u.stars.length=0,u.orbs=[],u.orbs.length=0,u.base={x:u.cw/2,y:u.ch/2,radius:2.1,goal:u.levels[u.level].goal,goalPulseAngle:0,generation:u.upgrades.base.generation.value[u.user.upgrades.base.generation],flicker:0},u.ui={},u.power={capacity:u.upgrades.power.capacity.value[u.user.upgrades.power.capacity],current:u.upgrades.power.capacity.value[u.user.upgrades.power.capacity],rate:u.upgrades.power.generation.value[u.user.upgrades.power.generation]},u.pwrupTimer=0,u.pwrupTimerMax=0,u.pwrupActive=!1,u.upgradesMaxed=!!u.checkMaxUpgrades(),u.makeStarfield(),u.levelStats={startTime:Date.now(),endTime:0,pauseStartTime:0,pauseTimeTotal:0,goodLineTotal:0,goodLineLength:0,coinsCollected:0,profit:0,baseHits:0,powerupsCollected:0,score:0,ticks:0},u.coinPowerupTick=0,u.coinPowerupTickMax=8,u.levelHue=(u.level+1)*(360/13),u.levelEndStatus=[!1,!1],u.levelEndTick=0,u.levelEndTickMax=100,u.syncDOM(),u.loop()},u.updateDelta=function(){var e=Date.now();u.dt=(e-u.oldTime)/16,u.dt=10<u.dt?10:u.dt,u.oldTime=e},u.updateRumble=function(){(!u.levelEndStatus[0]||u.levelEndStatus[0]&&!u.levelEndStatus[1])&&0<u.rumbleLevel&&(u.rumbleLevel-=+u.dt)},u.updateBase=function(){u.base.goalPulseAngle=u.base.goalPulseAngle<360?u.base.goalPulseAngle+u.base.radius/u.base.goal*10*u.dt:0,u.levelStats.ticks>u.initialDelay&&u.base.radius<u.base.goal&&!u.levelEndStatus[0]&&(u.base.radius+=(u.pwrupActive&&2===u.powerupType?u.base.generation+u.base.generation/2:u.base.generation)*u.dt);for(var e=u.badLines.length;e--;){var t=u.badLines[e],a=t.p1,s=u.base.x-a.x,l=u.base.y-a.y;Math.sqrt(s*s+l*l)<=u.base.radius&&!u.levelEndStatus[0]&&(u.base.radius-=t.damage,u.rumbleLevel=45,u.makeDebrisgroup(u.badLines[e].p1.x,u.badLines[e].p1.y,u.levelHue,50,1,15),u.makeDebrisgroup(u.badLines[e].p1.x,u.badLines[e].p1.y,u.pwrupActive&&0===u.powerupType?205:0,50,1,15),u.makeDebrisLine(u.badLines[e].p1.x,u.badLines[e].p1.y,u.pwrupActive&&0===u.powerupType?205:0,50,u.badLines[e].angle,u.badLines[e].length,30),u.makeBlastgroup(a.x,a.y),u.base.flicker=u.rand(5,12),u.levelStats.baseHits++,u.badLines.splice(e,1))}0===u.rand(0,2)&&u.orbs.push(new u.Orb),0<u.base.flicker&&(u.base.flicker-=+u.dt),u.base.radius>=u.base.goal&&(u.levelEndStatus=[!0,!0]),u.base.radius<=2&&(u.levelEndStatus=[!0,!1])},u.renderBase=function(){var e=1<=u.base.flicker?u.base.x+u.rand(0,3)-1.5:u.base.x,t=1<=u.base.flicker?u.base.y+u.rand(0,3)-1.5:u.base.y,a=(u.ctx.beginPath(),u.ctx.arc(e,t,u.base.radius<0?0:u.base.radius,0,u.pi2,!1),u.ctx.fillStyle=u.pwrupActive&&2===u.powerupType?"hsl("+u.levelStats.ticks%20/20*360+", "+(50+u.base.radius/u.base.goal*50)+"%, "+(50+Math.abs(180-u.base.goalPulseAngle)/180*20)+"%)":"hsl("+u.levelHue+", "+(50+u.base.radius/u.base.goal*50)+"%, "+(50+Math.abs(180-u.base.goalPulseAngle)/180*20)+"%)",u.ctx.fill(),u.ctx.save(),u.ctx.beginPath(),u.ctx.arc(e,t,u.base.radius<0?0:u.base.radius,0,u.pi2,!1),u.ctx.clip(),u.ctx.beginPath(),u.ctx.arc(e-u.base.radius/3,t-u.base.radius/3,u.base.radius<0?0:1.3*u.base.radius,0,u.pi2,!1),u.ctx.createRadialGradient(e-u.base.radius/3,t-u.base.radius/3,0,e-u.base.radius/3,t-u.base.radius/2,u.base.radius<0?0:1.3*u.base.radius));a.addColorStop(0,"rgba(255,255,255,.3)"),a.addColorStop(1,"rgba(255,255,255,0)"),u.ctx.fillStyle=a,u.ctx.fill(),u.ctx.restore(),u.pwrupActive&&2===u.powerupType&&(a=(a=u.base.radius*(u.base.goalPulseAngle/360))<=0?.01:a,u.ctx.beginPath(),u.ctx.arc(u.base.x,u.base.y,a<0?0:a,0,u.pi2,!1),u.ctx.strokeStyle="rgba(255,255,255,.5)",u.ctx.stroke()),1<=u.base.flicker&&(u.ctx.beginPath(),u.ctx.arc(e,t,u.base.radius<0?0:u.base.radius,0,u.pi2,!1),u.ctx.fillStyle="hsla(0, 0%, 100%, "+u.rand(25,100)/100+")",u.ctx.fill(),u.ctx.fillStyle="hsla(0, 0%, 100%, "+u.rand(1,10)/100+")",u.ctx.fillRect(0,0,u.cw,u.ch))},u.renderBaseGoal=function(){var e=u.levelStats.ticks<=u.initialDelay?u.levelStats.ticks/u.initialDelay*u.base.goal:u.base.goal;u.ctx.beginPath(),u.ctx.arc(u.base.x,u.base.y,e<0?0:e,0,u.pi2,!1),u.ctx.strokeStyle="hsla("+u.levelHue+", 100%, 20%, .35)",u.ctx.stroke(),u.ctx.lineWidth=2,u.ctx.beginPath(),u.ctx.arc(u.base.x,u.base.y,e<0?0:e,u.dToR(u.base.goalPulseAngle),u.dToR(u.base.goalPulseAngle)+Math.PI/3,!1),u.ctx.strokeStyle="hsl("+u.levelHue+", 100%, "+(10+Math.abs(180-u.base.goalPulseAngle)/180*20)+"%)",u.ctx.stroke(),u.ctx.beginPath(),u.ctx.arc(u.base.x,u.base.y,e<0?0:e,u.dToR(u.base.goalPulseAngle+180),u.dToR(u.base.goalPulseAngle+180)+Math.PI/3,!1),u.ctx.stroke(),u.ctx.lineWidth=1.5},u.updatePower=function(){var e,t,a;u.power.current<0&&(u.power.current=0),u.power.current<u.power.capacity&&(u.power.current+=u.power.rate*u.dt),u.power.current>u.power.capacity&&(u.power.current=u.power.capacity),u.pwrupActive&&1===u.powerupType&&(u.power.current=u.power.capacity),u.mousedown&&(e=u.mx-u.tempPointStart.x,t=u.my-u.tempPointStart.y,(a=Math.sqrt(e*e+t*t))<=u.power.current||u.pwrupActive&&1===u.powerupType?(u.tempPointEnd={x:u.mx,y:u.my},u.tempPointLength=a):(e=Math.atan2(t,e),u.tempPointEnd={x:u.tempPointStart.x+Math.cos(e)*u.power.current,y:u.tempPointStart.y+Math.sin(e)*u.power.current},e=u.tempPointEnd.x-u.tempPointStart.x,t=u.tempPointEnd.y-u.tempPointStart.y,u.temptPointLength=Math.sqrt(e*e+t*t)))},u.renderTracer=function(){u.mousedown&&(u.ctx.beginPath(),u.ctx.moveTo(u.tempPointStart.x,u.tempPointStart.y),u.ctx.lineTo(u.mx,u.my),u.ctx.strokeStyle="#222",u.ctx.stroke(),u.ctx.beginPath(),u.ctx.moveTo(u.tempPointStart.x,u.tempPointStart.y),u.ctx.lineTo(u.tempPointEnd.x,u.tempPointEnd.y),u.ctx.strokeStyle="#fff",u.ctx.stroke())},u.goodLine=function(e,t){this.p1=e,this.p2=t;var a=e.x-t.x,e=e.y-t.y;this.length=Math.sqrt(a*a+e*e),this.angle=Math.atan2(e,a),this.pulse=100,this.pulseToggle=!1,this.pulseMin=70,this.pulseMax=100,u.levelStats.goodLineTotal++,u.levelStats.goodLineLength+=this.length},u.goodLine.prototype={update:function(e){this.pulseToggle?(this.pulse+=2,this.pulse>=this.pulseMax&&(this.pulseToggle=!1)):(this.pulse-=2,this.pulse<=this.pulseMin&&(this.pulseToggle=!0));for(var t=u.badLines.length;t--;){var a=u.intersection(this.p1,this.p2,u.badLines[t].p1,u.badLines[t].p2);a&&(u.rumbleLevel=20,u.makeBlastgroup(a.x,a.y),u.badLines[t].destroy(t,a.x,a.y),this.destroy(e,a.x,a.y))}},render:function(){u.ctx.beginPath(),u.ctx.moveTo(this.p1.x,this.p1.y),u.ctx.lineTo(this.p2.x,this.p2.y),u.ctx.strokeStyle="hsl(0, 0%, "+this.pulse+"%)",u.ctx.stroke()},destroy:function(e,t,a){t&&a&&u.makeDebrisgroup(t,a,0,100,1,15),u.makeDebrisLine(this.p1.x,this.p1.y,0,100,this.angle,this.length,30),u.goodLines.splice(e,1)}},u.badLine=function(){switch(u.rand(1,4)){case 1:this.p1={x:u.rand(0,u.cw),y:0};break;case 2:this.p1={x:u.cw,y:u.rand(0,u.ch)};break;case 3:this.p1={x:u.rand(0,u.cw),y:u.ch};break;case 4:this.p1={x:0,y:u.rand(0,u.ch)}}this.angle=Math.atan2(u.ch/2-this.p1.y,u.cw/2-this.p1.x),this.length=u.rand(u.levels[u.level].badLengthMin,u.levels[u.level].badLengthMax),this.p2={x:this.p1.x-Math.cos(this.angle)*this.length,y:this.p1.y-Math.sin(this.angle)*this.length},this.speed=u.rand(u.levels[u.level].badSpeedMin,u.levels[u.level].badSpeedMax)/100,this.damage=u.levels[u.level].badDamage-u.upgrades.base.resistance.value[u.user.upgrades.base.resistance],this.damage<1&&(this.damage=1),this.pulse=45,this.pulseToggle=!1,this.pulseMin=30,this.pulseMax=60},u.badLine.prototype={update:function(){var e=u.pwrupActive&&0===u.powerupType?this.speed/2:this.speed;this.p1.x+=Math.cos(this.angle)*e*u.dt,this.p2.x+=Math.cos(this.angle)*e*u.dt,this.p1.y+=Math.sin(this.angle)*e*u.dt,this.p2.y+=Math.sin(this.angle)*e*u.dt,this.speed+=u.base.radius/u.base.goal/100,this.pulseToggle?(this.pulse+=2,this.pulse>=this.pulseMax&&(this.pulseToggle=!1)):(this.pulse-=2,this.pulse<=this.pulseMin&&(this.pulseToggle=!0))},render:function(){u.ctx.beginPath(),u.ctx.moveTo(this.p1.x,this.p1.y),u.ctx.lineTo(this.p2.x,this.p2.y),u.ctx.strokeStyle=u.pwrupActive&&0===u.powerupType?"hsl("+u.powerupRef[u.powerupType].hue+", 100%, "+this.pulse+"%)":"hsl(0, 100%, "+this.pulse+"%)",u.ctx.stroke()},destroy:function(e,t,a){var s;t&&a&&u.makeDebrisgroup(t,a,u.pwrupActive&&0===u.powerupType?205:0,50,1,15),u.makeDebrisLine(this.p1.x,this.p1.y,u.pwrupActive&&0===u.powerupType?205:0,50,this.angle,this.length,30),u.rand(1,100)<=u.upgrades.coins.chance.value[u.user.upgrades.coins.chance]&&!u.upgradesMaxed&&u.makeCoins(t||this.p1.x,a||this.p1.y,5*(u.level+1),u.rand(1,u.upgrades.coins.amount.value[u.user.upgrades.coins.amount])),t&&a&&u.rand(1,100)<=u.upgrades.powerups.chance.value[u.user.upgrades.powerups.chance]&&!u.pwrupActive&&(s=u.upgradesMaxed?u.rand(0,2):u.rand(0,3),u.powerups.push(new u.Powerup(t,a,s))),u.badLines.splice(e,1)}},u.makebadLines=function(){u.levelStats.ticks>u.initialDelay&&(u.levels[u.level].badTick>=(u.pwrupActive&&0===u.powerupType?2*u.levels[u.level].badTickMax:u.levels[u.level].badTickMax)?(u.badLines.push(new u.badLine),u.levels[u.level].badTick=0):u.levels[u.level].badTick+=+u.dt)},u.Coin=function(e,t,a){this.x=e,this.y=t,this.vx=(u.rand(0,100)-50)/100,this.vy=(u.rand(0,100)-50)/100,this.radius=4,this.value=a,this.magnetized=!1,this.xScale=1,this.xScaleGrow=!0,this.collected=!1},u.Coin.prototype={update:function(e){var t,a,s;this.xScaleGrow&&1<=this.xScale?this.xScaleGrow=!1:!this.xScaleGrow&&this.xScale<=.1&&(this.xScaleGrow=!0),this.xScale=this.xScaleGrow?this.xScale+.05:this.xScale-.05,this.collected?(t=u.cw+4-this.x,a=-4-this.y,Math.sqrt(t*t+a*a),a=Math.atan2(a,t),t=Math.cos(a),a=Math.sin(a),this.x+=40*t*u.dt,this.y+=40*a*u.dt):(t=u.mx-this.x,a=u.my-this.y,(s=Math.sqrt(t*t+a*a))<=u.upgrades.magnet.range.value[u.user.upgrades.magnet.range]?(this.magnetized=!0,a=Math.atan2(a,t),t=Math.cos(a),a=Math.sin(a),this.x+=t*u.upgrades.magnet.power.value[u.user.upgrades.magnet.power]*u.dt,this.y+=a*u.upgrades.magnet.power.value[u.user.upgrades.magnet.power]*u.dt):(this.magnetized=!1,this.x+=this.vx*u.dt,this.y+=this.vy*u.dt),s<=15&&(u.levelStats.coinsCollected++,u.levelStats.profit+=this.value,this.collected=!0,this.magnetized=!1)),u.arcInRect(this.x,this.y,this.radius,0,0,u.cw,u.ch)||u.coins.splice(e,1)},render:function(){u.ctx.save(),u.ctx.translate(this.x,this.y),u.ctx.scale(this.xScale,1),u.ctx.beginPath(),u.ctx.arc(0,0,this.radius<0?0:this.radius,0,u.pi2,!1),u.ctx.fillStyle=this.magnetized?"hsl(60, 0%, "+140*this.xScale+"%)":"hsl("+u.levelHue+", 100%, "+70*this.xScale+"%)",u.ctx.fill(),u.ctx.restore()}},u.makeCoins=function(e,t,a,s){for(;s--;)setTimeout(function(){u.coins.push(new u.Coin(e+u.rand(0,40)-20,t+u.rand(0,40)-20,a))},10*s)},u.checkCoinPowerup=function(){u.pwrupActive&&3===u.powerupType&&!u.upgradesMaxed?u.coinPowerupTick<u.coinPowerupTickMax?u.coinPowerupTick+=+u.dt:(u.coinPowerupTick=0,u.makeCoins(u.rand(0,u.cw),u.rand(0,u.ch),5*(u.level+1),1)):u.coinPowerupTick=0},u.Powerup=function(e,t,a){this.x=e,this.y=t,this.vx=(u.rand(0,100)-50)/50,this.vy=(u.rand(0,100)-50)/50,this.radius=12,this.type=a,this.magnetized=!1,this.angle=0},u.Powerup.prototype={update:function(e){this.angle=this.angle<360?this.angle+5:0;var t=u.mx-this.x,a=u.my-this.y,s=Math.sqrt(t*t+a*a);s<=u.upgrades.magnet.range.value[u.user.upgrades.magnet.range]?(this.magnetized=!0,a=Math.atan2(a,t),t=Math.cos(a),a=Math.sin(a),this.x+=t*u.upgrades.magnet.power.value[u.user.upgrades.magnet.power]/4*u.dt,this.y+=a*u.upgrades.magnet.power.value[u.user.upgrades.magnet.power]/4*u.dt):(this.magnetized=!1,this.x+=this.vx*u.dt,this.y+=this.vy*u.dt),s<=15&&(u.levelStats.powerupsCollected++,u.pwrupActive=!0,u.powerupType=this.type,u.pwrupTimer=60*u.upgrades.powerups.duration.value[u.user.upgrades.powerups.duration],u.pwrupTimerMax=60*u.upgrades.powerups.duration.value[u.user.upgrades.powerups.duration],u.powerups.length=0),u.arcInRect(this,this.y,this.radius,0,0,u.cw,u.ch)||u.powerups.splice(e,1)},render:function(){u.ctx.save(),u.ctx.translate(this.x,this.y),u.ctx.rotate(u.dToR(this.angle)),u.ctx.lineWidth=6;var e=50+Math.abs(180-this.angle)/180*15;u.ctx.strokeStyle="hsl("+u.powerupRef[this.type].hue+", 100%, "+e+"%)",u.ctx.beginPath(),u.ctx.arc(0,0,this.radius<0?0:this.radius,0,u.dToR(60),!1),u.ctx.stroke(),u.ctx.beginPath(),u.ctx.arc(0,0,this.radius<0?0:this.radius,u.dToR(120),u.dToR(180),!1),u.ctx.stroke(),u.ctx.beginPath(),u.ctx.arc(0,0,this.radius<0?0:this.radius,u.dToR(240),u.dToR(300),!1),u.ctx.stroke(),u.ctx.restore()}},u.updateActivePowerup=function(){u.pwrupActive&&(0<u.pwrupTimer?u.pwrupTimer-=+u.dt:(u.pwrupTimer=0,u.pwrupTimerMax=0,u.pwrupActive=!1))},u.Blast=function(e,t){this.x=e,this.y=t,this.radius=u.rand(4,18)},u.Blast.prototype={update:function(e){this.radius-=.65*u.dt,this.radius<=0&&u.blasts.splice(e,1)},render:function(){var e=this.radius+u.rand(0,2)/3;u.ctx.beginPath(),u.ctx.arc(this.x+u.rand(0,2)-1,this.y+u.rand(0,2)-1,e<0?0:e,0,u.pi2,!1),u.ctx.fillStyle="hsla("+u.levelHue+", 100%, "+u.rand(50,80)+"%, "+u.rand(50,100)/100+")",u.ctx.fill()}},u.makeBlastgroup=function(e,t){u.blasts.push(new u.Blast(e,t)),u.blasts.push(new u.Blast(e+u.rand(0,10)-5,t+u.rand(0,10)-5)),u.blasts.push(new u.Blast(e+u.rand(0,10)-5,t+u.rand(0,10)-5))},u.Debris=function(e,t,a,s,l){this.x=e,this.y=t,this.size=u.rand(1,3)/2,this.speed=(u.rand(0,l)-l/2)/20,this.angle=u.rand(0,360),this.hue=a,this.saturation=100,this.lightness=s,this.alpha=u.rand(75,100)/100,this.decay=u.rand(50,100)/5e3},u.Debris.prototype={update:function(e){var t=u.dToR(this.angle),a=Math.cos(t)*this.speed*this.alpha,t=Math.sin(t)*this.speed*this.alpha;this.x+=a*u.dt,this.y+=t*u.dt,this.alpha-=this.decay*u.dt,this.alpha<=0&&u.debris.splice(e,1)},render:function(){u.ctx.fillStyle="hsla("+this.hue+", "+this.saturation+"%, "+this.lightness+"%, "+this.alpha+")",u.ctx.fillRect(this.x,this.y,this.size,this.size)}},u.makeDebrisgroup=function(e,t,a,s,l,r){for(;r--;){var i=Math.random()*l,n=Math.random()*u.pi2,o=e+Math.cos(n)*i,i=t+Math.sin(n)*i;u.debris.push(new u.Debris(o,i,a,s,100))}},u.makeDebrisLine=function(e,t,a,s,l,r,i){for(;i--;){var n=u.rand(0,r),o=e-Math.cos(l)*n,n=t-Math.sin(l)*n;u.debris.push(new u.Debris(o,n,a,s,20))}},u.Orb=function(){this.x=u.base.x,this.y=u.base.y,this.vx=(u.rand(0,100)-50)/2e4*u.base.radius,this.vy=(u.rand(0,100)-50)/2e4*u.base.radius,this.radius=u.rand(1,4)/4,this.alpha=0,this.alphaMax=u.rand(75,100)/100,this.alphaTrigger=!1,this.decay=u.rand(50,100)/4e3,this.growth=u.rand(50,100)/5e3},u.Orb.prototype={update:function(e){this.x+=this.vx*u.dt,this.y+=this.vy*u.dt,this.alphaTrigger?(this.alpha-=this.decay*u.dt,this.alpha<=0&&u.orbs.splice(e,1)):(this.alpha+=this.growth*u.dt,this.alpha>=this.alphaMax&&(this.alphaTrigger=!0))},render:function(){u.ctx.beginPath(),u.ctx.arc(this.x,this.y,this.radius<0?0:this.radius,0,u.pi2,!1),u.ctx.fillStyle="hsla("+u.levelHue+", "+(50+u.base.radius/u.base.goal*50)+"%, "+(50+Math.abs(180-u.base.goalPulseAngle)/180*20)+"%, "+this.alpha+")",u.ctx.fill()}},u.Star=function(e,t,a,s){this.x=e,this.y=t,this.speed=s/25,this.radius=a,this.saturation=30+5*this.radius,this.lightness=8+3*this.radius},u.Star.prototype={update:function(){this.y+=this.speed*u.dt,this.y-this.radius>=u.ch&&(this.x=u.rand(0,u.cw-this.radius),this.y=-this.radius)},render:function(){u.ctx.beginPath(),u.ctx.arc(this.x,this.y,this.radius<0?0:this.radius,0,u.pi2,!1);var e=0===u.rand(0,30)?u.rand(5,15):0;u.ctx.fillStyle="hsl("+u.levelHue+", "+this.saturation+"%, "+(this.lightness+e)+"%)",u.ctx.fill()}},u.makeStarfield=function(){for(var e=7;e--;)u.stars.push(new u.Star(u.rand(0,u.cw-1),u.rand(0,u.ch-1),1,.75)),u.stars.push(new u.Star(u.rand(0,u.cw-1.25),u.rand(0,u.ch-1.25),1.25,2)),u.stars.push(new u.Star(u.rand(0,u.cw-1.5),u.rand(0,u.ch-1.5),1.5,3.25)),u.stars.push(new u.Star(u.rand(0,u.cw-1.75),u.rand(0,u.ch-1.75),1.75,4.5)),u.stars.push(new u.Star(u.rand(0,u.cw-2),u.rand(0,u.ch-2),2,5.75)),u.stars.push(new u.Star(u.rand(0,u.cw-2.25),u.rand(0,u.ch-2.25),2.25,7))},u.updateUI=function(){var e=2<=u.base.radius?Math.round(u.base.radius):0;u.ui.ratioComplete=e+"/"+u.base.goal,u.ui.percentComplete=Math.round(e/u.base.goal*100)},u.renderUI=function(){u.levelStats.ticks<=u.initialDelay&&(u.ctx.save(),e=(u.initialDelay-u.levelStats.ticks)/100,u.ctx.globalAlpha=1<e?1:e,u.ctx.globalCompositeOperation="source-over",e=32+u.level,u.ctx.font="bold "+e+"px arial",u.ctx.textBaseline="middle",u.ctx.textAlign="center",u.ctx.beginPath(),u.ctx.arc(u.cw/2,u.ch/2,u.base.goal<0?0:u.base.goal,0,u.pi2,!1),u.ctx.fillStyle="#000",u.ctx.fill(),u.ctx.strokeStyle="#171717",u.ctx.stroke(),(e=u.ctx.createLinearGradient(u.cw/2,u.ch/2-e/2,u.cw/2,u.ch/2+e/2)).addColorStop(0,"hsla("+u.levelHue+", 100%, 70%, 1)"),e.addColorStop(1,"hsla("+u.levelHue+", 100%, 40%, 1)"),u.ctx.fillStyle=e,u.ctx.fillText(u.level+1,u.cw/2,u.ch/2),u.ctx.restore()),u.ctx.fillStyle="#aaa",u.ctx.textAlign="left",u.ctx.font="bold 10px arial",u.ctx.fillText("Completion: "+u.ui.ratioComplete+" ("+u.ui.percentComplete+"%)",12,20),u.ctx.fillText("Power: "+Math.round(u.power.current)+"/"+u.power.capacity+" ("+Math.round(u.power.current/u.power.capacity*100)+"%)",156,20);var e=Date.now()-u.levelStats.startTime-u.levelStats.pauseTimeTotal,t=Math.floor(e/1e3)%60,e="",e=(e=(e=0+100*t+100*u.levelStats.goodLineTotal)+u.levelStats.goodLineLength)+500*u.levelStats.baseHits,a=(u.ctx.fillStyle="#aaa",u.ctx.textAlign="right",u.ctx.font="bold 10px arial",t=u.ctx.measureText("Profit"),u.ctx.fillText("Profit",u.cw-12,20),u.ctx.fillStyle="#fff",u.ctx.font="bold 12px arial",u.ctx.measureText("$"+u.commas(u.levelStats.profit)));u.ctx.fillText("$"+u.commas(u.levelStats.profit),u.cw-12,37),t=Math.max(t.width,a.width),u.ctx.fillStyle="#aaa",u.ctx.textAlign="right",u.ctx.font="bold 10px arial",u.ctx.fillText("Score",u.cw-t-36,20),u.ctx.fillStyle="#fff",u.ctx.font="bold 12px arial",u.ctx.fillText(u.commas(Math.round(e)),u.cw-t-36,37),u.ctx.fillStyle="#222",u.ctx.fillRect(12,30,120,8),u.ctx.fillStyle="hsl("+u.levelHue+", "+(50+u.base.radius/u.base.goal*50)+"%, "+(50+Math.abs(180-u.base.goalPulseAngle)/180*20)+"%)",u.ctx.fillRect(12,30,u.base.radius/u.base.goal*120,8),(e=u.ctx.createLinearGradient(12,30,12,34)).addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(1,"rgba(255,255,255,.2)"),u.ctx.fillStyle=e,u.ctx.fillRect(12,30,120,4),u.ctx.fillStyle="#222",u.ctx.fillRect(156,30,120,8),u.ctx.fillStyle="hsl(0, 0%, "+u.power.current/u.power.capacity*60+"%)",u.ctx.fillRect(156,30,u.power.current/u.power.capacity*120,8),(e=u.ctx.createLinearGradient(156,30,156,34)).addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(1,"rgba(255,255,255,.2)"),u.ctx.fillStyle=e,u.ctx.fillRect(156,30,120,4),u.pwrupActive&&(u.ctx.fillStyle="#aaa",u.ctx.textAlign="left",u.ctx.font="bold 10px arial",u.ctx.fillText(u.powerupRef[u.powerupType].name,300,20),u.ctx.fillStyle="#222",u.ctx.fillRect(300,30,120,8),u.ctx.fillStyle="hsl("+u.powerupRef[u.powerupType].hue+", 100%, "+(20+u.pwrupTimer/u.pwrupTimerMax*30)+"%)",u.ctx.fillRect(300,30,u.pwrupTimer/u.pwrupTimerMax*120,8),(e=u.ctx.createLinearGradient(300,30,300,34)).addColorStop(0,"rgba(255,255,255,0)"),e.addColorStop(1,"rgba(255,255,255,.2)"),u.ctx.fillStyle=e,u.ctx.fillRect(300,30,120,4))},u.levelEndCycle=function(){u.levelEndStatus[0]&&(u.levelEndTick>=u.levelEndTickMax?u.endLevel():u.levelEndTick+=+u.dt,u.ctx.globalCompositeOperation="source-over",u.levelEndStatus[1]?(u.destroyAll(u.badLines),u.rumbleLevel+=.01*u.dt,u.ctx.fillStyle="rgba(255,255,255,"+u.levelEndTick/100+")"):(u.destroyAll(u.goodLines),u.ctx.fillStyle="rgba(70,0,0,"+u.levelEndTick/100+")"),u.ctx.fillRect(0,0,u.cw,u.ch),u.ctx.globalCompositeOperation="lighter")},u.endLevel=function(){clearTimeout(u.loopTimeout),u.levelPlaying=!1,u.levelStats.endTime=Date.now(),u.levelStatsCB(u.levelEndStatus[1]),u.level>=u.user.highestLevelBeaten&&u.levelEndStatus[1]&&(u.user.highestLevelBeaten=u.level+1),u.levelEndStatus[1]&&0===u.levelStats.baseHits&&(u.user.levels[u.level].perfect=!0),u.user.funds+=u.levelStats.profit,u.user.overall.linesCreated+=u.levelStats.goodLineTotal,u.user.overall.lineLength+=Math.round(u.levelStats.goodLineLength),u.user.overall.baseHits+=u.levelStats.baseHits,u.user.overall.levelsPlayed+=1,u.user.overall.timePlayed+=u.levelStats.endTime-u.levelStats.startTime-u.levelStats.pauseTimeTotal,u.updateUser()},u.mousedownCB=function(){u.mousedown=!0,u.menuMode||(u.tempPointStart={x:u.mx,y:u.my})},u.mouseupCB=function(){u.mousedown=!1,u.menuMode||u.tempPointStart.x==u.tempPointEnd.x&&u.tempPointStart.y==u.tempPointEnd.y||(u.goodLines.push(new u.goodLine(u.tempPointStart,u.tempPointEnd)),u.power.current-=u.tempPointLength)},u.mousemoveCB=function(e){u.mx=e.pageX-u.c.offsetLeft-u.gameWrap.offsetLeft,u.my=e.pageY-u.c.offsetTop-u.gameWrap.offsetTop},u.bindGameplayEvents=function(){t.addEventListener("mousedown",u.mousedownCB,!1),t.addEventListener("mouseup",u.mouseupCB,!1),t.addEventListener("mousemove",u.mousemoveCB,!1)},u.syncDOM=function(){u.fundsDisplay.innerHTML=u.checkMaxUpgrades()?"$ Maxed":"$"+u.commas(u.user.funds);for(var e=u.upgradeButtons.length;e--;){var t=u.upgradeButtons[e],a=t.getAttribute("data-parent"),s=t.getAttribute("data-specific"),l=u.user.upgrades[a][s],a=u.upgrades[a][s].cost[l]||!1,l=(u.rmvClass(t,"upg0"),u.rmvClass(t,"upg1"),u.rmvClass(t,"upg2"),u.rmvClass(t,"upg3"),u.rmvClass(t,"upg4"),u.rmvClass(t,"upg5"),u.addClass(t,"upg"+l),t.querySelectorAll(".cost")),r=(s=!a||a<=u.user.funds)?'<i class="available">Available</i>':'<i class="unavailable">Unavailable</i>';l[0].innerHTML=a?"$"+u.commas(a)+" - "+r:"Maxed",s?u.rmvClass(t,"disabled"):u.addClass(t,"disabled"),a?u.rmvClass(t,"max"):u.addClass(t,"max")}for(e=u.levelButtons.length;e--;)e>u.user.highestLevelBeaten?u.addClass(u.levelButtons[e],"disabled"):u.rmvClass(u.levelButtons[e],"disabled"),u.user.levels[e].perfect?u.addClass(u.levelButtons[e],"perfect-level"):u.rmvClass(u.levelButtons[e],"perfect-level"),u.levelScores[e].innerHTML=0==u.user.levels[e].score?"&#8709;":u.commas(u.user.levels[e].score);for(a=u.user.levels.length,e=t=0;e<a;e++)u.user.levels[e].perfect&&t++;u.completedLevelsDisplay.innerHTML=u.user.highestLevelBeaten,u.perfectLevelsDisplay.innerHTML=t},u.menus=t.querySelectorAll(".menu"),u.mainMenu=u.get("main"),u.pauseMenu=u.get("pause"),u.upgradesLevelsMenu=u.get("upgrades-levels"),u.levelStatsMenu=u.get("level-stats"),u.overallStatsMenu=u.get("overall-stats"),u.statsStatus=u.get("stats-status"),u.statsDuration=u.get("stats-duration"),u.statsLinesCreated=u.get("stats-lines-created"),u.statsTotalLineLength=u.get("stats-total-line-length"),u.statsBaseHits=u.get("stats-base-hits"),u.statsPowerupsCollected=u.get("stats-powerups-collected"),u.statsCoinsCollected=u.get("stats-coins-collected"),u.statsProfit=u.get("stats-profit"),u.statsScore=u.get("stats-score"),u.overallStatsLinesCreated=u.get("overall-lines-created"),u.overallStatsLineLength=u.get("overall-line-length"),u.overallStatsLevelsPlayed=u.get("overall-levels-played"),u.overallStatsTimePlayed=u.get("overall-time-played"),u.overallStatsBaseHits=u.get("overall-base-hits"),u.playGameButton=u.get("play-game-button"),u.retryLevelButton=u.get("retry-level-button"),u.returnToMenuButton=u.get("return-to-menu-button"),u.returnToMenuButton2=u.get("return-to-menu-button2"),u.returnToUpgradesLevelsButton=u.get("return-to-upgrades-levels-button"),u.resumeLevelButton=u.get("resume-level-button"),u.quitLevelButton=u.get("quit-level-button"),u.resetGameDataButton=u.get("reset-game-data-button"),u.overallStatsButton=u.get("overall-stats-button"),u.upgradeButtons=t.querySelectorAll(".upgrade"),u.levelButtons=t.querySelectorAll(".level"),u.levelScores=t.querySelectorAll(".level-score"),u.completedLevelsDisplay=u.get("completed-levels"),u.perfectLevelsDisplay=u.get("perfect-levels"),u.fundsDisplay=u.get("funds"),u.pausedTitle=u.get("paused-title"),u.hideMenus=function(){for(var e=u.menus.length;e--;)u.menus[e].style.display="none"},u.playGameCB=function(e){e.preventDefault(),u.hideMenus(),u.upgradesLevelsMenu.style.display="block"},u.startLevelCB=function(e){e.preventDefault(),u.hasClass(this,"disabled")||(u.hideMenus(),e=parseInt(this.getAttribute("rel"),10),u.initLevel(e))},u.pauseLevelCB=function(e){"32"!=e.keyCode&&"click"!=e.type||!u.levelPlaying||(e.preventDefault(),u.menuMode?(u.hideMenus(),u.menuMode=!1,u.oldTime=Date.now(),u.loop(),u.levelStats.pauseTimeTotal+=Date.now()-u.levelStats.pauseStartTime):(u.pausedTitle.innerHTML="Level "+(u.level+1)+" Paused",u.levelStats.pauseStartTime=Date.now(),u.menuMode=!0,u.pauseMenu.style.display="block"))},u.retryLevelCB=function(e){e.preventDefault(),clearTimeout(u.loopTimeout),u.hideMenus(),u.initLevel(u.level)},u.returnToMenuCB=function(e){e.preventDefault(),clearTimeout(u.loopTimeout),u.hideMenus(),u.mainMenu.style.display="block"},u.returnToUpgradesLevelsCB=function(e){e.preventDefault(),clearTimeout(u.loopTimeout),u.hideMenus(),u.upgradesLevelsMenu.style.display="block"},u.quitLevelCB=function(e){e.preventDefault(),u.hideMenus(),u.menuMode=!1,u.base.radius=0,u.levelEndTick=u.levelEndTickMax,u.loop()},u.resetGameDataCB=function(e){e.preventDefault(),confirm("Are you sure you want to reset your game data? This cannot be undone.")&&u.clearUser()},u.upgradeButtonCB=function(e){var t,a;e.preventDefault(),"tip"==e.target.className||(u.hasClass(this,"disabled")&&(u.addClass(u.fundsDisplay,"not-enough"),setTimeout(function(){u.rmvClass(u.fundsDisplay,"not-enough")},300)),u.hasClass(this,"disabled"))||u.hasClass(this,"max")||(e=this.getAttribute("data-parent"),t=this.getAttribute("data-specific"),a=u.upgrades[e][t].cost[u.user.upgrades[e][t]]||!1,u.user.upgrades[e][t]++,u.user.funds-=a,u.updateUser(),u.syncDOM())},u.levelStatsCB=function(e){u.menuMode=!0,u.hideMenus();var t=u.levelStats.endTime-u.levelStats.startTime-u.levelStats.pauseTimeTotal,a=Math.floor(t/1e3/60),t=Math.floor(t/1e3)%60,s="";u.levelStats.score=0,u.levelStats.score+=100*t,u.levelStats.score+=100*u.levelStats.goodLineTotal,u.levelStats.score+=u.levelStats.goodLineLength,u.levelStats.score+=500*u.levelStats.baseHits,t=t<10?"0"+t:t,e&&(0==u.user.levels[u.level].score||u.levelStats.score<u.user.levels[u.level].score)&&(u.user.levels[u.level].score=Math.round(u.levelStats.score),s='<br /><span class="best-score">New Best Score!</span>'),u.retryLevelButton.style.display=e?"none":"block",u.statsStatus.innerHTML=e?'<span class="level-success">Level '+(u.level+1)+" Completed Successfully":'<span class="level-fail">Level '+(u.level+1)+" Failed</span>",u.statsDuration.innerHTML=a+":"+t,u.statsLinesCreated.innerHTML=u.levelStats.goodLineTotal,u.statsTotalLineLength.innerHTML=1<=u.levelStats.goodLineTotal?Math.round(u.levelStats.goodLineLength)+'px <span class="td-note">('+Math.round(u.levelStats.goodLineLength/u.levelStats.goodLineTotal)+" Avg.)</span>":0,u.statsBaseHits.innerHTML=e&&0===u.levelStats.baseHits?u.levelStats.baseHits+' <span class="perfect">Perfect!</span>':u.levelStats.baseHits,u.statsPowerupsCollected.innerHTML=u.levelStats.powerupsCollected,u.statsCoinsCollected.innerHTML=u.levelStats.coinsCollected,u.statsProfit.innerHTML="$"+u.commas(u.levelStats.profit),u.statsScore.innerHTML=e?u.commas(Math.round(u.levelStats.score))+' <span class="td-note">(Lower is Better)</span>'+s:u.commas(Math.round(u.levelStats.score))+' <span class="td-note na">(Not Applied)</span>',u.levelStatsMenu.style.display="block"},u.overallStatsCB=function(e){e.preventDefault(),u.menuMode=!0,u.hideMenus();var t=u.user.overall.timePlayed,e=Math.floor(t/1e3/60),t=(t=Math.floor(t/1e3)%60)<10?"0"+t:t;u.overallStatsLinesCreated.innerHTML=u.commas(u.user.overall.linesCreated),u.overallStatsLineLength.innerHTML=u.commas(u.user.overall.lineLength)+' <em class="td-note">(pixels)</em><br /><em class="td-note">That\'s</em> '+(u.user.overall.lineLength/72/12).toFixed(1)+' <em class="td-note">feet at 72ppi</em>',u.overallStatsLevelsPlayed.innerHTML=u.commas(u.user.overall.levelsPlayed),u.overallStatsTimePlayed.innerHTML=e+":"+t+' <em class="td-note">(minutes:seconds)</em>',u.overallStatsBaseHits.innerHTML=u.commas(u.user.overall.baseHits),u.overallStatsMenu.style.display="block"},u.bindMenuEvents=function(){t.addEventListener("keydown",u.pauseLevelCB,!1),u.playGameButton.addEventListener("click",u.playGameCB,!1),u.retryLevelButton.addEventListener("click",u.retryLevelCB,!1),u.returnToMenuButton.addEventListener("click",u.returnToMenuCB,!1),u.returnToMenuButton2.addEventListener("click",u.returnToMenuCB,!1),u.returnToUpgradesLevelsButton.addEventListener("click",u.returnToUpgradesLevelsCB,!1),u.resumeLevelButton.addEventListener("click",u.pauseLevelCB,!1),u.quitLevelButton.addEventListener("click",u.quitLevelCB,!1),u.resetGameDataButton.addEventListener("click",u.resetGameDataCB,!1),u.overallStatsButton.addEventListener("click",u.overallStatsCB,!1);for(var e=u.upgradeButtons.length;e--;)u.upgradeButtons[e].addEventListener("click",u.upgradeButtonCB,!1);for(e=u.levelButtons.length;e--;)u.levelButtons[e].addEventListener("click",u.startLevelCB,!1)},u.loop=function(){u.updateDelta(),0<u.rumbleLevel&&(u.rumble=!0,u.ctx.save(),u.updateRumble(),u.ctx.translate(u.rand(0,u.rumbleLevel/4)-u.rumbleLevel/8,u.rand(0,u.rumbleLevel/4)-u.rumbleLevel/8)),u.clear(),u.updateAll(u.stars),u.renderAll(u.stars),u.renderBaseGoal(),u.updateAll(u.coins),u.renderAll(u.coins),u.checkCoinPowerup(),u.updateAll(u.powerups),u.renderAll(u.powerups),u.updateActivePowerup(),u.makebadLines(),u.updateAll(u.badLines),u.renderAll(u.badLines),u.updatePower(),u.updateAll(u.goodLines),u.renderAll(u.goodLines),u.updateBase(),u.renderBase(),u.updateAll(u.orbs),u.renderAll(u.orbs),u.updateAll(u.blasts),u.renderAll(u.blasts),u.updateAll(u.debris),u.renderAll(u.debris),u.renderTracer(),u.updateUI(),u.renderUI(),u.levelEndCycle(),u.rumble&&(u.ctx.restore(),u.rumble=!1),u.levelStats.ticks++,u.menuMode||(u.loopTimeout=setTimeout(u.loop,16))}}).initGame():(t=document.getElementById("home-wrap"),e=document.getElementById("no-can"),t.style.display="none",e.style.display="block")</script></body></html>