<style>body{background:#000;display:flex;justify-content:center;align-items:center}canvas{max-width:95%;max-height:95%}</style><script type=module>const A=console.error,t=Math.sin,B=Math.cos,a={},e=(A,t,e)=>{const r=JSON.stringify(e);if(a[A]&&a[A][0]===r)return a[A][1];const o=t();return a[t.name]=[r,o],o},o=String.fromCharCode,n=A=>{if(!/^([A-Z][a-z]*\d*){1,}$/.test(A))return;const t=/([A-Z])([a-z]*)(\d*)/g,e=[];for(const a of A.matchAll(t)){const A=a[1].charCodeAt(0)-65,t=(a[2]||"a").split("").map((A=>A.charCodeAt(0)-97));let r=a[3]-0||1;for(;r--;)e.push([A,...t])}return e},c=A=>A-0,r=document.querySelector("canvas"),s=r.getContext("webgl");s||alert("Failed to create GL context");const i=(A,t,e)=>{const a=A.createShader(e);return A.shaderSource(a,t),A.compileShader(a),A.getShaderParameter(a,A.COMPILE_STATUS)||(alert("Failed to compile shader"),A.deleteShader(a)),a},u=(t,e)=>{const a=t.createProgram();if(e.forEach((A=>{t.attachShader(a,A)})),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){const e=t.getProgramInfoLog(a);return A(e),void t.deleteProgram(a)}return l(t,a),a},l=(A,t)=>{const e=A.createBuffer(),a=A.getAttribLocation(t,"a_pos"),r=new Float32Array([0,1,1,0,0,0,0,1,1,1,1,0]);A.enableVertexAttribArray(a),A.bindBuffer(A.ARRAY_BUFFER,e),A.bufferData(A.ARRAY_BUFFER,r,A.STATIC_DRAW),A.vertexAttribPointer(a,2,A.FLOAT,!1,0,0)},v=A=>{A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE)},f=0,g=4,m={A:1,t:3,B:1,o:3,i:1,u:2,l:5},b=A=>({...m,...A}),D={0:b(),1:b({t:4,B:120,l:3}),2:b({A:2,B:0,l:1}),3:b({B:0,A:16,o:.75,u:2,l:1}),4:b({B:0,A:0}),5:b({l:0,B:0}),6:b({l:1e9,A:0,u:0,B:0})},w={};let d={};const C=(A,t=!0)=>t&&w[A]||0,h=(A,t=!0)=>t&&d[A]||0,x=A=>A.toLowerCase(),p=new AudioContext,y=[1.25,,145,.03,.04,.14,,2.32,-1.2,.5,,,,.6,,.4,,.5],E=[1.01,,319,.04,.02,.06,,1.51,18,,100,20,,,,,,.73,.01],M=[2.07,,285,.02,.01,.09,4,.2,,,,,,1,,.1,,.59,.01,.22],k=[1.99,,1290,,.01,.14,,1.26,,.3,-54,.09,,,,.1,.08,.42,.02],G=[2.16,,238,.01,.08,.19,1,1.66,,,200,.02,.11,,,.1,.09,.47,.04],F=[,,800,.02,.01,.01,1,.34,,-1.1,68,.1,,,-14,,,,.01],J=[,,1394,.01,,.02,,1.47,,,983,.07,,,18,,,.29,.02],I=[4.64,,900,,,.5,2,.1,.2,,,,.08,10,,.34,.05,.32,.1,.5],Q=[1.87,,1,.02,.04,.12,,.21,-5.9,,,,,.8,,.1,.01,.62,.01],H=[1.03,,1446,.01,.05,.13,2,.11,,,-276,.03,,,,.1,,.67,.03,.11],S=[1.09,,150,.02,.06,.04,,2.41,-5.8,,,,,1,,.1,,.47,.02],O=[,,200,,.08,.18,,.31,-7.7,,150,.01,,,,,,.96,.01],z=[,,338,.01,.07,.05,1,.48,-9.5,-5.5,,,,2.2,,,,.46,.01],K=[,,162,.01,.05,.09,,1.9,-6.6,,,,,.8,,,,.43,.05],P=[,,3e3,.01,,.02,,1.47,,,983,.07,,,18,,,.29,.02],U=[2.01,,1152,.02,.01,.01,4,2.37,,-2.3,,,.11,,-9.2,,.32,.6],R=[,,179,.02,.04,.09,1,1.03,4.5,4.2,,,,,8,,,.82,.06],q=[1.02,,419,.04,.03,.45,4,.67,,.4,,,,1.7,,.7,,.48,.02,.03],N={},j=A=>{const e=Date.now(),a=A[2]||0;(!N[a]||e>N[a]+10)&&(N[a]=e,((A=1,e=.05,a=220,r=0,o=0,n=.1,s=0,c=1,i=0,u=0,l=0,m=0,f=0,g=0,x=0,h=0,I=0,v=1,D=0,y=0)=>{let E,b,d=Math,C=44100,U=2*d.PI,T=i*=500*U/C/C,R=a*=(1-e+2*e*d.random(e=[]))*U/C,w=0,S=0,F=0,M=1,P=0,O=0,H=0;for(u*=500*U/C**3,x*=U/C,l*=U/C,m*=C,f=C*f|0,b=(r=C*r+9)+(D*=C)+(o*=C)+(n*=C)+(I*=C)|0;F<b;e[F++]=H)++O%(100*h|0)||(H=s?1<s?2<s?3<s?t((w%U)**3):d.max(d.min(d.tan(w),1),-1):1-(2*w/U%2+2)%2:1-4*d.abs(d.round(w/U)-w/U):t(w),H=(f?1-y+y*t(U*F/f):1)*(0<H?1:-1)*d.abs(H)**c*A*.25*(F<r?F/r:F<r+D?1-(F-r)/D*(1-v):F<r+D+o?v:F<b-I?(b-F-I)/n*v:0),H=I?H/2+(I>F?0:(F<b-I?1:(b-F)/I)*e[F-I|0]/2):H),E=(a+=i+=u)*B(x*S++),w+=E-E*g*(1-1e9*(t(F)+1)%2),M&&++M>m&&(a+=l,R+=l,M=0),!f||++P%f||(a=R,i=T,M=M||1);(A=p.createBuffer(1,b,C)).getChannelData(0).set(e),(a=p.createBufferSource()).buffer=A,a.connect(p.destination),a.start()})(...A))},T=(A,t)=>{const e=A[0],a=A[1],r=A[2],o=A[3],B=A[4],n=A[5],s=A[6],c=A[7],i=A[8],u=t[0],l=t[1],m=t[2],f=t[3],g=t[4],x=t[5],h=t[6],I=t[7],v=t[8];return[e*u+a*f+r*h,e*l+a*g+r*I,e*m+a*x+r*v,o*u+B*f+n*h,o*l+B*g+n*I,o*m+B*x+n*v,s*u+c*f+i*h,s*l+c*g+i*I,s*m+c*x+i*v]},X=(A,t)=>e=>T(e,[1,0,0,0,1,0,A,t,1]),L=[["attribute vec2 a_pos;varying vec2 v_uv;uniform vec2 u_res;uniform mat3 u_mat;uniform vec2 u_cam;void main(){vec3 p=u_mat*vec3(a_pos,1);vec4 pos=vec4((p.xy-u_cam)/u_res*2.-1.,0,1);gl_Position=pos*vec4(1,-1,1,1);v_uv=vec2(a_pos.x,a_pos.y);}","precision mediump float;varying vec2 v_uv;uniform vec4 u_tile;uniform sampler2D tex;void main(){vec2 uv=(v_uv.xy*u_tile.zw+u_tile.xy)/vec2(16);vec4 col=texture2D(tex,uv);if(col.a<1.){discard;}gl_FragColor=vec4(vec3(col.rgb),1.);}"],["attribute vec2 a_pos;varying vec2 v_uv;uniform vec3 pos;uniform mat3 u_mat;void main(){gl_Position=vec4(a_pos*2.-1.,0,1);v_uv=a_pos;}","precision mediump float;varying vec2 v_uv;uniform sampler2D u_map;uniform sampler2D u_map2;uniform float u_t;uniform vec2 u_res;vec2 curve(vec2 uv,float c){uv=uv*2.-1.;vec2 o=abs(uv.yx)/c;uv=uv+uv*o*o;uv=uv*.5+.5;return uv;}vec4 sl(float uv,float res,float o){float i=(.5*sin(uv*res*6.28)+.5)*.9+.1;return vec4(vec3(pow(i,o)),1.);}vec4 col(sampler2D image){vec2 uv=curve(vec2(v_uv.x,v_uv.y),3.5);vec2 uv2=curve(vec2(v_uv.x,v_uv.y),3.7);vec4 bc=texture2D(image,uv);for(int i=-4;i<4;i++){float ii=float(i);vec4 col2=texture2D(image,uv2+vec2(0,ii)/u_res);float ss=pow((col2.r+col2.g+col2.b)/3.,.8)*.9+.1;float intensity=(1.-abs(ii)/4.)*ss;bc+=col2*vec4(.2,.1,.7,1.)*intensity;}bc*=sl(uv.x,u_res.y,.15);bc*=sl(uv.y,u_res.x,.15);if(uv.x<.0||uv.y<.0||uv.x>1.||uv.y>1.){bc*=0.;}return bc;}void main(){gl_FragColor=col(u_map);}"]],Z=[0,0],V=[0,1],_=[1,0],Y=[3,0],W=[8,0,1,1,0,0],$=[4,0,1,1,.5,.5],AA=[5,0],tA=[5,0,1,1,.5,.5],BA=[7,0],aA=[0,2,2,2],eA=[12,8,2,2,.5,.5],oA=[14,8,2,2,.5,.5],nA=[14,0,2,2],cA=[11,0,1,1,1,.5],rA=[4,6,2,2,.5,.5],sA=[8,8,2,2,.5,.5],iA=[0,8,1,2],uA=[0,7],lA=[4,8,2,2,.5,.5],vA=[0,10,2,2],fA=[6,6,2,2],gA=[14,6,1,2],mA=[8,10,2,2,.5,.5],bA=[4,10,2,2,.5,.5],DA=[6,10,2,2],wA=[0,12,12,3,.5,.5],dA=[12,12,4,1,.5,.5],CA=[12,13,4,1,.5,1],hA=[12,14,4,1,.5,1],xA=[0,15,4,1,.5,1],pA=[10,10,6,2,0,1],yA=[];let EA;const MA=A=>{EA=(A=>{const t=s.createTexture();return s.bindTexture(s.TEXTURE_2D,t),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,A),v(s),t})(A)},[kA,GA]=((A,t,e)=>{const a=A.createTexture();A.bindTexture(A.TEXTURE_2D,a),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,t,e,0,A.RGBA,A.UNSIGNED_BYTE,null),v(A);const r=A.createFramebuffer();return A.bindFramebuffer(A.FRAMEBUFFER,r),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,a,0),[r,a]})(s,r.width,r.height),FA=(A,t)=>s.getUniformLocation(yA[A],t);for(let A=2;A--;){const[t,e]=L[A],a=i(s,t,s.VERTEX_SHADER),r=i(s,e,s.FRAGMENT_SHADER);yA[A]=u(s,[a,r]),s.useProgram(yA[A]),s.uniform2f(FA(A,"u_res"),272,272)}let JA=0;const IA=(A,e,a,r,o=[])=>{const[n,c,i=1,u=1,l=.5,m=1]=A,[f=1,g=1,x=0]=o,h=8*i,I=8*u,v=((...A)=>{let t=[1,0,0,0,1,0,0,0,1];for(const e of A)t=e(t);return t})(X(-l,-m),(D=x,A=>{const e=B(D),a=t(D);return T(A,[e,-a,0,a,e,0,0,0,1])}),((A,t)=>e=>T(e,[A,0,0,0,t,0,0,0,1]))(h*f,I*g),X(h*l,I*m),X(a,r));var D;const y=(n+e*i)%16,E=c+((e*i-n)/16|0)*u;s.uniform4f(FA(0,"u_tile"),y,E,i,u),s.uniformMatrix3fv(FA(0,"u_mat"),!1,v),s.bindTexture(s.TEXTURE_2D,EA),s.drawArrays(s.TRIANGLE_STRIP,0,6)},QA=(A,t,e)=>{(""+A).split("").forEach(((A,a)=>{IA(V,A.charCodeAt(0)-48,t+4*a,e)}))},HA=17,SA=15*HA,OA=A=>Math.round(A/16),zA=(A,t)=>A+t*HA,KA=(A,t)=>{const e=t[0],a=t[1],r=A.some((([A,t,a])=>8==A&&t==e&&a));return c(a?!r:r)},PA=(A,t,e)=>{const a=OA(t),r=OA(e);return a<0||a>=HA?[f,0]:A[zA(a,r)]||[f,0]},UA=(A,t)=>{for(const[e,a]of t){const t=PA(A,e,a),[r,...o]=t;if(1==r||6==r||7==r&&KA(A,o))return t}},RA=(A,t,[e,a],r)=>{const o=PA(A,e,a);o[0]===t&&r(o)},qA=A=>!A.some((([A])=>A===g)),NA=A=>e("lasers",(()=>{const t=new Array(SA).fill(0),e=[[0,1],[1,0],[0,-1],[-1,0]];return A.forEach((([a,...r],o)=>{6==a&&KA(A,r)&&e.forEach((([e,a],r)=>{let B=o%HA,n=o/HA|0,s=!1;for(;!s;){B+=e,n+=a;const o=zA(B,n),c=B<0||B>=HA||n<0||n>=15,i=UA(A,[[16*B,16*n]]);if(c||i)s=!0;else{const A=r%2==1,e=A?2:1;t[o]=t[o]&&t[o]!=e?3:A?2:1}}}))})),t}),A),jA=(A,a,r,o,n,s=!1)=>{const[i,...u]=a,[l,m,x,h]=[-1,1,-HA,HA].map((t=>{const e=r+t;return A[e]&&1==A[e][0]?1+A[e][1]:0}));if([f,g].includes(i)){const a=(I=r,()=>{const A=1e4*t(I++);return A-Math.floor(A)}),B=a()>.25,s=4*a()|0,i=a()>.5?1:-1;if(B&&(1===h&&IA(fA,s,o,n,[i]),x))for(let t=2;t--;){let r=0;for(let B=6;B--;){const B=e("vine",(()=>!!UA(A,[[o,n+r]])),[o,n+r]),s=a()<.6||B;if(IA(gA,c(s),o+8*t,n+r,[i]),r+=16,s)break}}}var I;switch(i){case 1:{const A=m?1:h?2:0;if(IA(iA,l?1:h?2:0,o,n,[]),IA(iA,A,o+8,n,[-1]),!x){const A=u[0];IA(uA,c(l>0)+2*A,o,n,[]),IA(uA,c(m>0)+2*A,o+8,n,[-1])}break}case 2:s&&IA(Z,0,o+4,n+4,[]);break;case 3:if(s){const A=u[0],t=u[1],e=2*A+c(!t);IA(aA,e,o,n,[])}break;case g:{const A=u[0],t=r+.05*JA,e=1+Math.max(0,.1*B(2*t)),a=.2*B(t);IA(Y,A,o+4,n+4+2*B(2*t),[,e,a]);break}case 6:IA(eA,0,o,n);break;case 9:IA(rA,0,o,n);break;case 5:{const t=qA(A);IA(vA,c(t),o,n),t&&IA(cA,0,o,n-8+2*B(JA/10),[,,-Math.PI/2]);break}case 7:{const t=KA(A,u);IA(sA,t,o,n);break}case 8:{const A=u[1]||0,t=c(A>0);IA(lA,t,o,n,[,,(h?0:x?-2:l?1:m?-1:0)*Math.PI/2])}}},TA=(A,t=!1)=>{const e=NA(A);A.forEach(((a,r)=>{if(jA(A,a,r,r%HA*16,16*(r/HA|0),t),e[r]){const A=r%HA*16,t=16*(r/HA|0),a=3==e[r],o=a||2===e[r];(a||1===e[r])&&IA(oA,0,A,t,[,,Math.PI/2]),o&&IA(oA,0,A,t)}}))},XA=(A,t,e,a,r,o)=>{const B=o>60?(e/33|0)/3:0,n=(a<0?Math.PI:0)-B*a,s=Math.cos(n),c=Math.sin(n);return{x:A+16*s,y:t+16*c,v:s*r,g:c*r,rotation:n,range:o,m:0}},LA=(A,t,e=1,a=!0)=>{const r=t.D||0;t.x+=t.v*e,t.y+=t.g*e,t.D=r+e,t.range>60&&(t.g+=.1*e),(r>t.range||UA(A.map,[[t.x,t.y]]))&&(A.C.splice(A.C.indexOf(t),1),t.m=1),t.rotation=Math.atan2(-t.g,t.v),a&&!t.m&&t.range>60&&IA($,0,t.x,t.y,[,,t.rotation])},ZA=(A,t,e,a=0)=>({v:0,g:0,host:-1,rotation:0,h:-1,p:-1,M:0,k:-15,G:0,F:0,type:A,x:t,y:e,dir:t>136?-1:1,J:1,A:D[A].A,m:!a}),VA=(A,e)=>{const a=D[e.type],r=e.host>-1,o=r&&0!=A.I,[B,n,s,i,u]=["arrowleft","arrowright","arrowup","arrowdown","x"],l=h(i,o),m=A.I?h(s,o):e.m||240!==A.D?0:1,f=A.I||e.m||!(A.D>120&&A.D<140||A.D>200)?C(n,o)-C(B,o):1,x=e.F>a.l?f:0,v=e.h>-1,b=e.y<-32||e.y>240;m&&(e.k=A.D);const d=A.D-e.k,p=()=>{const t=e.host;if((!e.m||t>-1)&&(A.H=3,e.m=!0,e.g=-1*e.J,j(y)),t>-1){const a=A.S[t];a.O=0,a.x=e.x,a.y=e.y+8,a.v=e.v,a.g=e.g-.5,e.host=-1}},T=()=>{a.u&&(4===e.type?v||(e.J=-e.J,e.A--,e.k=0,j(R)):(e.g=-a.u*e.J,e.A--,v||(e.h=0),e.k=0,j(E)))};e.m&&!r||A.C.forEach((t=>{const a=t.x-e.x,r=t.y-(e.y+8);Math.abs(r)<16&&Math.abs(a)<12&&(A.C.splice(A.C.indexOf(t),1),j(I),p())}));const w=e.x+e.v,S=e.y-4*e.J,P=e.y+9*e.J,O=UA(A.map,[[e.x+9*x,e.y]]),H=UA(A.map,[[w,S],[w+4,S],[w-4,S]]),N=UA(A.map,[[w,P],[w+4,P],[w-4,P]]),X=N&&1===N[0]&&1===N[1];if(f&&6!=e.type?(e.p<0&&(e.dir=f),e.F++%10||v||j(J)):e.F=0,RA(A.map,8,[e.x,e.y],(A=>{if(l&&(j(U),A[2]=c(!A[2]),A[3]>0)){const t=setInterval((()=>{j(U)}),1e3);tt.push(t),tt.push(setTimeout((()=>{clearTimeout(t),A[2]=c(!A[2])}),1e3*A[3]))}})),RA(A.map,5,[e.x,e.y],(()=>{qA(A.map)&&l&&(j(G),A.I<0?et(A):rt(A,A.I+1))})),RA(A.map,g,[e.x,e.y],(A=>{A&&(A[0]=0,j(k))})),((A,[t,e],a)=>{const r=NA(A),o=OA(t),B=OA(e),n=zA(o,Math.min(14,Math.max(0,B)));r[n]&&a(r[n])})(A.map,[e.x,e.y],(A=>{1===A&&(e.x=16*OA(e.x-8*e.dir)),p()})),RA(A.map,9,[e.x,e.y],(()=>{p()})),b&&p(),UA(A.map,[[e.x,e.y]])){const A=e.x>136?-1:1,t=e.y>136?-1:1;e.x+=16*A,e.y+=t}e.p<0?!e.M&&a.B&&h(u,r)&&(e.p=0,j(Q)):(e.p<100&&(e.p+=a.i),C(u,r)||(()=>{j(M),A.H=2;const t=XA(e.x,e.y,e.p,e.dir,a.t,a.B);A.C.push({...t,range:a.B}),e.p=-1,e.M=1})()),e.M>0?e.M-=.05:e.M=0,O&&(e.v=0,e.x=16*OA(e.x)),e.h<0?(d<15&&T(),N?1==e.J&&X&&e.y>=0&&(e.g=-3,A.H=1,j(K)):(e.h=0,e.G=15)):(e.h++,--e.G||e.A!=a.A||e.A--,e.g<a.o&&(e.g+=.1*e.J),d<15&&e.A>0&&T(),H&&e.g<0&&(e.g=0,j(z)),N&&(e.y=16*OA(e.y),e.g=0,e.h=-1,e.A=a.A,e.J>0&&!X&&j(F)));const q=A.I?1:.75;e.v+=.25*(x*q-e.v),e.x+=e.v,e.y+=e.g,e.h>-1?e.rotation+=.3*((e.g>0?-.25:.25)-e.rotation):e.rotation+=.5*(.3*t(e.F/2)-e.rotation);const L=e.m&&e.host<0,Y=2*e.type+c(L),Z=e.J<0?16:0;if(IA(aA,Y,e.x,e.y-Z,[e.dir,e.J,e.rotation]),!r&&A.I){const A=L?4:8;IA(_,c(!e.m),e.x+4,e.y-A)}if(0===e.type&&IA(AA,e.type,e.x+4+5*e.dir,e.y+4,[e.dir,,e.rotation-e.M]),1===e.type){const t=XA(e.x,e.y,e.p,e.dir,a.t,a.B);if(e.p>0){const e={...t};for(let t=0;t<a.B;t++)LA(A,e,1,t%10==0)}IA(tA,e.type,e.x+4+5*e.dir,e.y+6,[,,e.rotation-t.rotation])}},_A=[[],[2],[],[5,2],[],[],[5,2],[5,2],[5,2,6],[]];let YA=[1,0],WA=0;function $A(A){const t=_A[YA[0]]||[],e=h("l")-h("j"),a=h("i")-h("k");if(e){const A=WA+e;A>=0&&A<=t.length&&(j(P),WA=A)}if(a){const A=(YA[WA]||0)+a,e=WA?t[WA-1]-1||0:_A.length-1;A>=(WA?0:1)&&A<=e&&(j(P),0===WA?YA=[A,0]:YA[WA]=A)}if(h("enter")&&(A.K=!1,ct(A,A.P)),h("1")){const t=(A.P.map((A=>A.map((A=>A||0)))).join(",-")+",-").replaceAll(/((\d+,)+-)\1*/g,((A,t)=>{const e=A.split("-").length-1,a=t.split(",").slice(0,-1);return a.map(((A,t)=>"0"===A&&t&&2===a.length?"":o(A-0+(t?97:65)))).join("")+(e>1?e:"")}));navigator.clipboard.writeText(t).then((()=>{j(H)}))}h("2")&&new Promise((A=>{navigator.clipboard.readText().then(A).catch((()=>{A(prompt("","")||"")}))})).then((t=>{const e=n(t);e&&(A.P=e,j(H))}));const[r]=A.S,B=(t=!1)=>{const e=t?[0,0]:[...YA],a=((A,t)=>{const e=OA(A),a=OA(t);return zA(e,a)})(r.x,r.y);A.P[a][0]!=e[0]&&(A.H=1,j(S)),A.P[a]=e};A.D>30&&(C("x")&&B(),C("c")&&B(!0)),jA(A.P,YA,1e9,8,248,!0),IA(nA,0,8+24*WA,248),IA(nA,0,16*OA(A.S[0].x),16*OA(A.S[0].y));for(let A=0;A<1+t.length;A++)QA(YA[A]||0,8+24*A,248)}const At=["A51BA15B2A15B2A15B2A15BA19BA11BA36B3A11B7A9B38","A118BA16B2A15B2A3EA11B2A15B2ACABA3DA5FAB2A6B3A2B6A5B4AB23","A47CA6FA4EA5DA3B4A7B5A7B3A4B3A33BA14EABA16BA15B2A4DA7B5A2B4A2B2A5B2A2B4A9B2A2B4A9B2","A48DA7FA6B4A5B4A12BA23BA3EA3BA28B3A20BCA6B2A14BA12DcbA5DaaA8B11A8B7A5","BA16BA12BA14BABA7FA3CA2BA9B3A13BABA2DA6EA7B4A8BA12B4A2BA13BA3B2A5B2A4BA5B3A8BA13B2AB2DcbA14B5A4BA7B4GabA5B7","A48EA5EA26B9A3CA8BA10BA12BA17BA10DcbA10DbbA3B3A5DFA2B6A6B3A4B3A7B3A5B2A7B3A6BA7B3A6B","B2AB15A3B2AB4AB2GabB2A9BA3BA2B2A10EA4B2A16BACA3BA4BA4B2A16BA8BA6B2DcAIaadA12B5GabBGabBGabBGabBGabB2ABABA2B9AIaacABA2FA13B4A13BGabA15B17A","A17BA25CA8BA14BABAB4A4BA4BA11BIaadADAGaaA12B6A3BA12BA5B3A14BGabBA25BA8EA7BDcaA13FAB3J3B2A6B11A4GabB4","A32BA17BAFA15B3A20HA9IaadA14EABA9HA2HA23CA11HA21DcAIaadAHA2HA2HA4B5A13BABA11BA16BA","ABA8JA7BA8BA7BAEA2JAEABFA6BA4BA3B3A5BA4BA11BA2EABA8JA2BA4BA8BA2BA4BA2EA4EBAJBAEA2BJA7BAB2A4B2JA8GabA6B2A3EA4BACADdIaafA2BA11B3A2BA16BA25","B6A11BA4HabA11BA2CAHabA11BIDdFAHabA11B7A9JB5A11B4A12DBA15IbafBJAEA11B4A15B2A15B2JA14B3A3Hb11B3J2AJ7AJ3B5GbbB7GbbB4","A2H3A4H5A21FA15B3A20B4A77B4A25IaafA14B5A14EA5DeA14B6A2H4A4","B4A6B2A5BA16BAEA14BA16BA12DebA3BA10B7A5B2A3BIbabA2FBGabA10BA3B2A23DbbA11HbbBA3B3A10BA10DbaA5BA9B2GcbA3IcafBA9B3A2B2A2B2A6B5","A3H4A3H4A26CA5EA6DeFIaafA9IdafA3B5A5B5A26HdA15HGebHcA15HbA54IcafA8IbafA6B5A3B4A28","A17BA15BA2BA11BA5BA9BA5BA11BA36BA15B3A13B2A2BA11BA5BA9BA4CA40DgA8B17"];let tt=[],Bt=Number(localStorage.getItem("soulboy-pb"))||0;const at=[{x:104,y:128},{x:168,y:128}],et=A=>{nt(A),rt(A,-1),A.K=!0,A.S[0].x=136,A.S[0].y=136,A.S[0].v=0,A.S[0].g=0},ot=A=>{if(!A.I){const t=A.U[0],e=A.S[0];t.m||t.x>128&&(t.x=127,t.m=!0,t.host=-1,t.g=-1,e.O=0,e.x=t.x,e.y=t.y-16,e.g=-2,A.R=1,A.H=10,j(y),j(q))}const t=at.findIndex(((t,e)=>{const a=A.S[0];if(a){const A=t.x-a.x,e=t.y-a.y;if(Math.sqrt(A*A+e*e)<32)return!0}}));h("x")&&(!A.I&&t>-1&&(0===t&&rt(A,1),1===t&&et(A)),A.I===At.length-1&&A.q>1200&&rt(A,0)),h("enter")&&(A.N||(A.N=!0),!A.I&&A.D>120&&!A.U[0].m&&(A.U[0].x=128,A.U[0].y=208)),h("escape")&&(A.K||A.I>0&&A.I<At.length-1?rt(A,0):A.I<0&&et(A)),h("r")&&(!A.K&&A.I<0?(A.K=!1,ct(A,A.P)):A.I>0&&A.I<At.length-1&&rt(A,A.I));A.I||(A.U[0].m&&(IA(wA,0,88,48),at.forEach(((e,a)=>{for(let t=3;t--;)IA(bA,0,e.x-8,e.y-8,[,,A.D*(1+t)/40]);t===a&&(IA(xA,a,e.x-16,e.y-20,[,,.1*B(a+.01*A.D)]),0===t&&Bt&&QA(":=="+(Bt/120|0),e.x-16,e.y-32))}))),A.R>0&&(IA(DA,0,A.U[0].x+4*Math.random()-2,A.U[0].y+4*Math.random()-2,[10,13]),A.R-=.1)),A.N?(A.K?TA(A.P,!0):TA(A.map),A.U.map((t=>VA(A,t))),A.S.map((t=>((A,t)=>{const[e,a,r,o,B]=["arrowleft","arrowright","arrowup","arrowdown","x"],n=C(a)-C(e),s=C(o)-C(r);if(t.transition&&t.O){const e=t.O.x-t.x,a=t.O.y-t.y,r=1-t.transition/30;t.v+=.1*e*r,t.g+=.1*a*r,--t.transition||(A.H=2,A.q<0&&(A.q=0),j(O),t.O.host=t.id,t.O.g=-1*t.O.J)}const[c]=A.U.reduce(((A,e)=>{const a=Math.abs(OA(e.x)-OA(t.x)),r=Math.abs(OA(e.y)-OA(t.y)),o=a<=1&&r<=1;return!e.m||e.host>-1||!o?A:[e,0]}),[,32]);if(t.O||(t.v+=.1*(n-t.v),t.g+=.1*(s-t.g),t.dir=Math.sign(t.v)||t.dir,A.K||(UA(A.map,[[t.x,t.y]])&&t.y--,UA(A.map,[[t.x+t.v,t.y]])&&(t.x-=t.v),UA(A.map,[[t.x,t.y+t.g]])&&(t.y-=t.g),c&&A.I&&h(B)&&(t.O=c,t.transition=30,t.g=1))),t.D>60&&(t.x+=t.v,t.y+=t.g),t.x=Math.max(0,Math.min(16*HA-16,t.x)),t.y=Math.max(0,Math.min(224,t.y)),t.D++,!t.O||t.transition)if(t.D<60)for(let e=3;e--;){const a=1;IA(bA,0,t.x,t.y,[a,a,A.D*(1+e)/40])}else IA(Z,0,t.x+4,t.y+4,[t.dir]),A.K&&IA(BA,0,t.x+4+t.dir,t.y-1,[t.dir])})(A,t))),A.C.map((t=>LA(A,t))),(()=>{IA(W,0,0,240,[99,9]);for(let A=0;A<272;A+=16)IA(mA,0,0,A,[,,]),IA(mA,0,256,A,[,,Math.PI]),IA(mA,0,A,0,[,,-Math.PI/2]),IA(mA,0,A,256,[,,Math.PI/2]),IA(mA,0,A,240,[,,-Math.PI/2])})(),(()=>{if(A.K)return $A(A);A.S.forEach(((t,e)=>{const a=A.U.find((A=>A.host==t.id));a?IA(aA,2*a.type,12,246):IA(Z,0,16,252)}));const t=A.q>0?A.q:0;if(QA(";=="+A.I+"==:=="+(t/120|0),40,252),1===A.I){let t=0,a=0;const r=A.U.find((A=>A.m&&A.host<0)),o=A.map.findIndex((([A])=>A===g));if(r)t=A.U[0].x,a=A.U[0].y;else if(o>-1){const A=[(e=o)%HA,e/HA|0];t=16*A[0],a=16*A[1]}t&&a&&IA(cA,0,t,a-8+2*B(A.D/10),[,,-Math.PI/2])}var e;if(IA(pA,0,216,248),A.I===At.length-1){const t=Math.max(0,A.q-360),e=A.j.slice(1,At.length-2).reduce(((A,t)=>A+t),0);if(A.q>240&&IA(dA,0,120,32),t>0){const a=t/60|0;t%60==0&&a<=At.length-2&&j(I),t===60*At.length&&(j(G),(!Bt||e<Bt)&&(localStorage.setItem("soulboy-pb",String(e)),Bt=e));for(let t=0;t<Math.min(At.length-2,a);t++){const e=A.j[t+1];QA(":=="+(e/120|0),96+t%3*32,56+16*(t/3|0))}t>60*At.length&&(IA(CA,0,96,144,[]),QA(":=="+(e/120|0),128,144)),t>60*At.length&&IA(xA,2+c(Bt===e),96,160,[])}}})()):IA(hA,0,120,136),A.N&&A.D++,A.H-=.1*A.H,A.q>-1&&A.q++},nt=A=>{tt.forEach(clearTimeout),tt=[],A.D=0,A.U=[],A.C=[],A.K=!1,A.map=new Array(SA).fill([0,0]),A.S[0].O=0},ct=(A,t)=>{A.map=t;let e=136,a=136;A.map.forEach((([t,...r],o)=>{const B=o%HA*16,n=16*(o/HA|0);if(2===t&&(e=B,a=n),3===t){const t=r[0],e=r[1];A.U.push(ZA(t,B,n,e))}})),A.S[0].x=e,A.S[0].y=a,A.S[0].v=0,A.S[0].g=0,A.S[0].O=0},rt=(A,t)=>{nt(A),A.j[A.I]=A.q,A.q=-1,A.I=t;const e=n(At[t]);if(e&&ct(A,e),!t){const t=ZA(5,-8,160,0);t.host=0,t.m=!1,A.U.push(t),A.S[0].O=t}};(async A=>{const t=new Image;return t.src="data:image/png;base64,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",new Promise((A=>{t.onload=()=>A(t)}))})().then((async A=>{const e={N:!1,D:0,q:-1,j:[],I:0,H:0,map:new Array(SA).fill([0,0]),C:[],U:[],S:[(0,0,0,{O:0,transition:0,v:0,g:0,dir:1,id:0,x:0,y:0,D:0})],K:!1,P:new Array(SA).fill([0,0]),R:0,transition:0};addEventListener("keydown",(A=>{A.repeat||(w[x(A.key)]=1,d[x(A.key)]=1)})),addEventListener("keyup",(A=>{w[x(A.key)]=0})),MA(A),rt(e,0),setInterval((()=>{(A=>{JA=Date.now()/1e3*120,s.useProgram(yA[0]),s.bindFramebuffer(s.FRAMEBUFFER,kA),s.clearColor(.027,.031,.08,1),s.clear(s.COLOR_BUFFER_BIT),s.uniform2f(FA(0,"u_cam"),(B(JA/2)-.5)*A.H|0,(t(JA/2)-.5)*A.H|0)})(e),ot(e),d={},s.useProgram(yA[1]),s.uniform1f(FA(1,"u_t"),JA),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindTexture(s.TEXTURE_2D,GA),s.drawArrays(s.TRIANGLE_STRIP,0,6)}),1e3/120)}))</script><canvas height=960 width=960></canvas>