<!doctype html><title>SWIFT - js13kGames 2012</title><style>body,html{background:#000;width:100%;height:100%;margin:0}div.wrapper{margin:0 auto;width:800px;height:600px;background:#000;position:relative}#info{position:absolute;top:130px;left:280px;width:200px;background:#000;border:#37b6ce 1px solid;color:#fff;padding:20px;display:none;font-family:Times;font-size:16px}#info div{border:#ff4040 1px solid;cursor:pointer;padding:10px;margin-top:15px;text-align:center}h2{margin:0 0 5px 0;text-align:center;text-shadow:1px 2px #ff4040;font-size:24px}span#b{color:#37b6ce}span#g{color:#00bd39}</style><div class=wrapper><canvas height=600 id=myCanvas style=position:absolute;left:0;top:0 width=800>Your browser does not support the canvas element.</canvas><div id=info></div></div><script>var y,e,x,o,t,l,i,r,n,d,v=400,m=190,a=!1,s=!1,f=!0,c=0,h=0,T=12,u="#FFF",S=0,E=[2,2,3,3,4,4,5,5,4,5],R=5,g=0,F=[[{x1:1780,y1:1200,x2:1780,y2:1400,vert:!0,mode:!0}],[{x1:900,y1:300,x2:900,y2:500,vert:!0,mode:!0},{x1:1200,y1:100,x2:1200,y2:300,vert:!0,mode:!0},{x1:1580,y1:300,x2:1580,y2:500,vert:!0,mode:!0}],[{x1:800,y1:400,x2:1e3,y2:400,vert:!1,mode:!1},{x1:0,y1:802,x2:200,y2:802,vert:!1,mode:!1},{x1:979,y1:900,x2:979,y2:1100,vert:!0,mode:!0}],[{x1:400,y1:559,x2:600,y2:559,vert:!1,mode:!0},{x1:400,y1:-461,x2:600,y2:-461,vert:!1,mode:!0},{x1:1200,y1:559,x2:1400,y2:559,vert:!1,mode:!0},{x1:1200,y1:-479,x2:1400,y2:-479,vert:!1,mode:!0}],[{x1:500,y1:100,x2:500,y2:300,vert:!0,mode:!0},{x1:1080,y1:-400,x2:1080,y2:-300,vert:!0,mode:!1},{x1:500,y1:-500,x2:500,y2:-400,vert:!0,mode:!0},{x1:300,y1:-302,x2:400,y2:-302,vert:!1,mode:!1},{x1:428,y1:-200,x2:428,y2:-100,vert:!0,mode:!0}],[{x1:680,y1:260,x2:680,y2:300,vert:!0,mode:!0},{x1:700,y1:240,x2:700,y2:300,vert:!0,mode:!0},{x1:720,y1:220,x2:720,y2:300,vert:!0,mode:!0},{x1:740,y1:240,x2:740,y2:300,vert:!0,mode:!0},{x1:760,y1:260,x2:760,y2:300,vert:!0,mode:!0},{x1:680,y1:100,x2:680,y2:120,vert:!0,mode:!0},{x1:700,y1:100,x2:700,y2:140,vert:!0,mode:!0},{x1:720,y1:100,x2:720,y2:160,vert:!0,mode:!0},{x1:740,y1:100,x2:740,y2:180,vert:!0,mode:!0},{x1:760,y1:100,x2:760,y2:200,vert:!0,mode:!0},{x1:780,y1:100,x2:780,y2:220,vert:!0,mode:!0},{x1:800,y1:100,x2:800,y2:240,vert:!0,mode:!0},{x1:1100,y1:100,x2:1100,y2:130,vert:!0,mode:!0},{x1:1680,y1:580,x2:1680,y2:780,vert:!0,mode:!0}],[{x1:750,y1:500,x2:750,y2:550,vert:!0,mode:!0},{x1:800,y1:20,x2:900,y2:20,vert:!1,mode:!0},{x1:980,y1:100,x2:980,y2:200,vert:!0,mode:!1},{x1:20,y1:-100,x2:20,y2:0,vert:!0,mode:!0}],[{x1:1120,y1:900,x2:1120,y2:1e3,vert:!0,mode:!0},{x1:1260,y1:500,x2:1260,y2:600,vert:!0,mode:!0},{x1:1400,y1:800,x2:1400,y2:900,vert:!0,mode:!0},{x1:1450,y1:500,x2:1520,y2:500,vert:!1,mode:!1},{x1:1100,y1:260,x2:1180,y2:260,vert:!1,mode:!1},{x1:1300,y1:160,x2:1300,y2:200,vert:!0,mode:!0},{x1:1480,y1:140,x2:1520,y2:140,vert:!1,mode:!1},{x1:1120,y1:20,x2:1120,y2:60,vert:!0,mode:!0},{x1:740,y1:240,x2:940,y2:240,vert:!1,mode:!0}],[{x1:600,y1:450,x2:600,y2:500,vert:!0,mode:!0},{x1:752,y1:0,x2:752,y2:50,vert:!0,mode:!0},{x1:900,y1:450,x2:900,y2:500,vert:!0,mode:!0},{x1:1052,y1:0,x2:1052,y2:50,vert:!0,mode:!0},{x1:1500,y1:220,x2:1500,y2:350,vert:!0,mode:!0},{x1:1600,y1:300,x2:1600,y2:350,vert:!0,mode:!1},{x1:1600,y1:202,x2:1700,y2:202,vert:!1,mode:!1},{x1:1552,y1:50,x2:1552,y2:100,vert:!0,mode:!0},{x1:20,y1:140,x2:20,y2:240,vert:!0,mode:!0}],[{x1:600,y1:100,x2:600,y2:300,vert:!0,mode:!0},{x1:600,y1:-600,x2:600,y2:-100,vert:!0,mode:!1},{x1:920,y1:-450,x2:920,y2:-100,vert:!0,mode:!1},{x1:920,y1:-600,x2:920,y2:-500,vert:!0,mode:!0},{x1:1100,y1:-600,x2:1100,y2:-250,vert:!0,mode:!1},{x1:1100,y1:-200,x2:1100,y2:-100,vert:!0,mode:!0},{x1:1300,y1:-450,x2:1300,y2:-100,vert:!0,mode:!1},{x1:1300,y1:-600,x2:1300,y2:-500,vert:!0,mode:!0},{x1:1370,y1:-600,x2:1370,y2:-550,vert:!0,mode:!1},{x1:1500,y1:-520,x2:1500,y2:-100,vert:!0,mode:!1},{x1:1680,y1:-580,x2:1680,y2:-480,vert:!0,mode:!1},{x1:1580,y1:-580,x2:1680,y2:-580,vert:!1,mode:!0},{x1:1800,y1:-120,x2:1800,y2:-52,vert:!0,mode:!1},{x1:2e3,y1:-150,x2:2e3,y2:-30,vert:!0,mode:!0},{x1:2280,y1:-400,x2:2280,y2:-300,vert:!0,mode:!0}]],b=[[{x:0,y:100},{x:1e3,y:100},{x:1e3,y:600},{x:1400,y:600},{x:1400,y:1200},{x:1800,y:1200},{x:1800,y:1400},{x:1200,y:1400},{x:1200,y:800},{x:800,y:800},{x:800,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:100},{x:800,y:100},{x:800,y:300},{x:1e3,y:300},{x:1e3,y:100},{x:1400,y:100},{x:1400,y:300},{x:1600,y:300},{x:1600,y:500},{x:1300,y:500},{x:1300,y:300},{x:1100,y:300},{x:1100,y:500},{x:700,y:500},{x:700,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:100},{x:1e3,y:100},{x:1e3,y:700},{x:200,y:700},{x:200,y:900},{x:1e3,y:900},{x:1e3,y:1100},{x:0,y:1100},{x:0,y:500},{x:800,y:500},{x:800,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:100},{x:400,y:100},{x:400,y:-500},{x:600,y:-500},{x:600,y:-440},{x:1e3,y:-440},{x:1e3,y:100},{x:1200,y:100},{x:1200,y:-500},{x:1400,y:-500},{x:1400,y:600},{x:1200,y:600},{x:1200,y:300},{x:800,y:300},{x:800,y:-240},{x:600,y:-240},{x:600,y:600},{x:400,y:600},{x:400,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:100},{x:600,y:100},{x:600,y:-200},{x:900,y:-200},{x:900,y:-300},{x:600,y:-300},{x:600,y:-400},{x:400,y:-400},{x:400,y:-200},{x:450,y:-200},{x:450,y:-100},{x:300,y:-100},{x:300,y:-500},{x:700,y:-500},{x:700,y:-400},{x:1100,y:-400},{x:1100,y:-300},{x:1e3,y:-300},{x:1e3,y:-100},{x:700,y:-100},{x:700,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:100},{x:1200,y:100},{x:1700,y:600},{x:1700,y:800},{x:1200,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:140},{x:600,y:140},{x:600,y:0},{x:0,y:0},{x:0,y:-100},{x:700,y:-100},{x:700,y:500},{x:800,y:500},{x:800,y:0},{x:900,y:0},{x:900,y:100},{x:1e3,y:100},{x:1e3,y:200},{x:900,y:200},{x:900,y:600},{x:600,y:600},{x:600,y:240},{x:0,y:240},{x:0,y:140}],[{x:0,y:100},{x:700,y:100},{x:700,y:500},{x:1100,y:500},{x:1100,y:800},{x:1140,y:800},{x:1140,y:500},{x:1380,y:500},{x:1380,y:800},{x:1420,y:800},{x:1420,y:400},{x:1060,y:400},{x:1060,y:160},{x:1420,y:160},{x:1420,y:120},{x:940,y:120},{x:940,y:260},{x:740,y:260},{x:740,y:20},{x:1520,y:20},{x:1520,y:260},{x:1260,y:260},{x:1260,y:300},{x:1520,y:300},{x:1520,y:1e3},{x:1280,y:1e3},{x:1280,y:700},{x:1240,y:700},{x:1240,y:1e3},{x:1e3,y:1e3},{x:1e3,y:600},{x:600,y:600},{x:600,y:300},{x:0,y:300},{x:0,y:100}],[{x:0,y:140},{x:550,y:140},{x:550,y:450},{x:650,y:450},{x:650,y:0},{x:850,y:0},{x:850,y:450},{x:950,y:450},{x:950,y:0},{x:1150,y:0},{x:1150,y:150},{x:1400,y:150},{x:1400,y:50},{x:1700,y:50},{x:1700,y:350},{x:1400,y:350},{x:1400,y:200},{x:1100,y:200},{x:1100,y:50},{x:1e3,y:50},{x:1e3,y:500},{x:800,y:500},{x:800,y:50},{x:700,y:50},{x:700,y:500},{x:500,y:500},{x:500,y:240},{x:0,y:240},{x:0,y:140}],[{x:0,y:100},{x:700,y:100},{x:700,y:-100},{x:500,y:-100},{x:500,y:-600},{x:1700,y:-600},{x:1700,y:-300},{x:2100,y:-100},{x:2100,y:-400},{x:2300,y:-400},{x:2300,y:-300},{x:2200,y:-300},{x:2200,y:100},{x:2100,y:100},{x:1700,y:-100},{x:900,y:-100},{x:900,y:300},{x:0,y:300},{x:0,y:100}]],L=(t=10,l=2/3,i="#797979",r="#4d4c4c",n="#302f2f",d="#111111",{draw:function(y,e,x){x||(o.beginPath(),o.lineWidth=1.5,o.strokeStyle="#8a8a8a",a?(f?A:I)(y,e):s?P(y,e,0):k(y,e),o.stroke(),o.closePath()),o.beginPath(),o.lineWidth=2.5,o.strokeStyle="#FF4040",x?P(y,e,1):a?s?P(y,e,0):k(y,e):(f?A:I)(y,e),o.stroke(),o.closePath()}});function A(y,e){o.lineTo(y+t,e),o.lineTo(y-t,e-t*l),o.lineTo(y-t,e+t*l),o.lineTo(y+t,e),o.fillStyle=i,o.fillRect(y+12,e,4,1),o.fillStyle=r,o.fillRect(y+20,e,4,1),o.fillStyle=n,o.fillRect(y+28,e,4,1),o.fillStyle=d,o.fillRect(y+36,e,4,1)}function I(y,e){o.lineTo(y-t,e),o.lineTo(y+t,e-t*l),o.lineTo(y+t,e+t*l),o.lineTo(y-t,e),o.fillStyle=i,o.fillRect(y-16,e,4,1),o.fillStyle=r,o.fillRect(y-24,e,4,1),o.fillStyle=n,o.fillRect(y-32,e,4,1),o.fillStyle=d,o.fillRect(y-40,e,4,1)}function P(y,e,x){o.lineTo(y,e-t),o.lineTo(y+t*l,e+t),o.lineTo(y-t*l,e+t),o.lineTo(y,e-t),x||(o.fillStyle=i,o.fillRect(y,e-16,1,4),o.fillStyle=r,o.fillRect(y,e-24,1,4),o.fillStyle=n,o.fillRect(y,e-32,1,4),o.fillStyle=d,o.fillRect(y,e-40,1,4))}function k(y,e){o.lineTo(y,e+t),o.lineTo(y+t*l,e-t),o.lineTo(y-t*l,e-t),o.lineTo(y,e+t),o.fillStyle=i,o.fillRect(y,e+12,1,4),o.fillStyle=r,o.fillRect(y,e+20,1,4),o.fillStyle=n,o.fillRect(y,e+28,1,4),o.fillStyle=d,o.fillRect(y,e+36,1,4)}function W(y){a=!0}function p(y){a=!1}function w(){h=c=0,f=!(s=a=!1)}function C(){S=requestAnimationFrame(C),o.clearRect(0,0,800,600);var y,e,x=g+1;for(o.fillStyle="#FFFFFF",o.font="bold 16px Arial",o.fillText("Level "+x,10,585),o.fillText("Lives",90,585),x=1;x<=R;x++)L.draw(125+20*x,580,1);for(o.lineWidth=4,y=0;y<F[g].length;y++)o.beginPath(),y===F[g].length-1?o.strokeStyle="#FF4040":F[g][y].mode?o.strokeStyle="#37B6CE":o.strokeStyle="#00BD39",o.lineTo(F[g][y].x1-c,F[g][y].y1-h),o.lineTo(F[g][y].x2-c,F[g][y].y2-h),o.stroke(),o.closePath();for(L.draw(v,m,0),o.beginPath(),o.lineWidth=2,o.strokeStyle=u,e=0;e<b[g].length;e++)o.lineTo(b[g][e].x-c,b[g][e].y-h);o.stroke(),o.closePath(),a?s?h-=E[g]:h+=E[g]:f?c+=E[g]:c-=E[g];for(var t=0;t<F[g].length;t++)(F[g][t].vert&&c+v===F[g][t].x1&&h+m>=F[g][t].y1&&h+m<=F[g][t].y2||!F[g][t].vert&&h+m===F[g][t].y1&&c+v>=F[g][t].x1&&c+v<=F[g][t].x2)&&(t==F[g].length-1?(cancelAnimationFrame(S),9===g?(g=0,R=5,w(),N(10)):(w(),N(++g))):F[g][t].mode?s=!s:f=!f);o.isPointInPath(v-T,m-T)&&o.isPointInPath(v+T,m-T)&&o.isPointInPath(v-T,m+T)&&o.isPointInPath(v+T,m+T)||(cancelAnimationFrame(S),--R?(w(),N(100)):(g=0,w(),R=5,N(99)))}function N(y){y=99==y?"<h2>SWIFT</h2>GAME OVER :(<div id='s'>RESTART GAME</div>":100==y?"<h2>SWIFT</h2>Oops!<div id='s'>RESTART LEVEL</div>":0==y?"<h2>SWIFT</h2>Welcome to the SWIFT game! Rules are easy. Just hold the left mouse button to move ship vertically or release it to move horizontally.<div id='s'>START GAME</div>":1==y?"<h2>SWIFT</h2>Congratulations!<br/>You finished level 1.<br/>Let's complicate it a bit. Fly through <span id='b'>blue</span> lines to change your vertical direction.<div id='s'>START NEXT LEVEL</div>":2==y?"<h2>SWIFT</h2>Congratulations!<br/>You finished level 2.<br/>Now fly through <span id='g'>green</span> lines to change your horizontal direction.<div id='s'>START NEXT LEVEL</div>":3==y?"<h2>SWIFT</h2>Congratulations!<br/>You finished level 3.<br/>Now you know all the rules. Good luck with other levels!<div id='s'>START NEXT LEVEL</div>":10==y?"<h2>SWIFT</h2>Congratulations!<br/>You finished all levels.<br/>Thanks for playing!<div id='s'>RESTART GAME</div>":"<h2>SWIFT</h2>Congratulations!<br/>You finished level "+y+"<br/><div id='s'>START NEXT LEVEL</div>",e.style.display="block",e.innerHTML=y,document.getElementById("s").addEventListener("click",function(){e.style.display="none",C()},!0)}y=document.body,e=document.getElementById("info"),x=document.getElementById("myCanvas"),(o=x.getContext("2d"))&&N(g),y.addEventListener("mousedown",W,!0),y.addEventListener("mouseup",p,!0),y.addEventListener("touchstart",W,!0),y.addEventListener("touchend",p,!0),y.onselectstart=function(){return!1},x.addEventListener("selectstart",function(y){return y.preventDefault(),!1},!1)</script>