<!doctype html><meta name=viewport content="width=device-width"><title>Enchilada's Day Off - js13kGames 2025</title><style>body{margin:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:#222034;font-family:sans-serif}div{box-sizing:border-box}#b{display:flex;flex-direction:column-reverse;position:absolute;width:100%;height:100%;left:0;top:0;justify-content:space-between;pointer-events:none}#sh{padding:0 4vw;display:none;position:absolute;width:100%;height:60%;left:0;top:5vh;pointer-events:none;overflow-y:scroll}#li{padding:2vh 1vh 0 1vh;display:flex;flex-direction:column;flex-wrap:wrap;background:#69668280}#_a{position:absolute;top:5vh;left:5vw;font-size:8vh;color:#22203458}#bars{display:flex;flex-direction:row;position:relative;background:#ffc3ca}#con{display:flex;justify-content:center;position:relative;height:100%}#c{height:100%;image-rendering:pixelated;background:#222034}#menu{display:flex;flex-direction:row;width:100%}button{flex:1;font-size:3vh;margin:.2em;background:#c458;border:2px solid pink;border-radius:5px;color:#fff;cursor:pointer;pointer-events:all}button:active{background:#d568;transform:'translateY(-1vh)'}img{display:none}label{font-size:4vh;margin:0 5px}#l_m{position:absolute;top:0;right:0}#bars::after{content:'';position:absolute;right:0;bottom:-1vh;width:100%;height:1vh;background-color:#ef5c6d}</style><div id=con><canvas id=c width=65 height=100></canvas><div id=b><h1 id=_a></h1><div id=menu><button id=b_l>Litter</button><button id=b_f>Feed $25</button><button id=b_s>Shop</button><button id=b_c>Cards</button></div><div id=sh><div id=li></div></div><div id=bars><label id=l_m></label><label id=l_s></label><label id=l_h></label><label id=l_a></label></div></div></div><img id=png src=cat.png><script>window.f=["base","room",0,0,0,65,98,0,0,"base","pic",0,114,0,12,16,46,7,"base","carpet",0,0,118,54,13,6,76,"base","box",0,0,98,54,20,7,77,"base","poop_1",0,54,98,9,4,43,83,"base","poop_2",0,54,102,8,4,26,81,"base","poop_3",0,40,149,26,9,19,79,"base","base",0,65,0,49,41,10,45,"base","eyes",0,40,158,23,10,16,66,"base","feet",0,46,168,32,6,15,83,"base","lil_guy",0,97,146,17,15,30,77,"base","earring",0,126,0,4,3,39,57,"base","bowtie_tail",0,114,146,14,11,44,47,"base","collar",0,114,32,14,8,20,78,"base","beeg_headphones",0,65,41,53,35,4,43,"base","bowtie_head",0,118,40,11,10,38,56,"base","handle_stache",0,23,162,17,5,19,76,"base","pencil_stache",0,46,174,30,6,12,76,"base","fork",0,40,131,14,5,7,82,"base","spatula",0,110,167,15,5,6,82,"base","visor",0,54,117,42,21,7,47,"base","sunglasses",0,40,138,35,11,14,66,"base","business_tie",0,114,16,10,16,21,80,"base","bowtie_neck",0,117,114,13,8,20,79,"base","bowl",0,75,146,22,12,4,86,"base","food_1",0,110,172,14,4,8,86,"base","food_2",0,75,138,14,8,8,82,"base","food_3",0,114,157,14,10,8,80,"base","angy",0,21,131,19,31,13,36,"base","eepy",0,95,76,31,38,10,37,"base","happy",0,65,76,30,41,10,38,"base","back",0,0,131,21,32,0,0,"base","front",0,96,114,21,32,0,0,"base","k_red",0,59,106,5,6,3,3,"base","k_blk",0,117,122,5,6,3,3,"base","q_red",0,122,122,5,6,3,3,"base","q_blk",0,124,16,5,6,3,3,"base","j_red",0,124,22,5,6,3,3,"base","j_blk",0,125,68,5,6,3,3,"base","a_red",0,117,128,5,6,3,3,"base","a_blk",0,54,106,5,6,3,3,"base","diamond",0,118,50,8,6,10,3,"base","heart",0,118,56,8,6,10,3,"base","guy",0,118,68,7,6,11,3,"base","cat",0,118,62,8,6,10,3,"walk","base",0,65,0,49,41,10,45,"walk","base",1,65,0,49,41,10,45,"walk","base",2,65,0,49,41,10,45,"walk","base",3,65,0,49,41,10,45,"walk","eyes",0,40,158,23,10,16,66,"walk","eyes",1,40,158,23,10,16,66,"walk","eyes",2,40,158,23,10,16,66,"walk","eyes",3,40,158,23,10,16,66,"walk","feet",0,46,168,32,6,15,83,"walk","feet",1,76,177,33,5,14,84,"walk","feet",2,0,178,24,5,19,84,"walk","feet",3,78,171,32,6,15,83,"blink","base",0,65,0,49,41,10,45,"blink","base",1,65,0,49,41,10,45,"blink","base",2,65,0,49,41,10,45,"blink","base",3,65,0,49,41,10,45,"blink","base",4,65,0,49,41,10,45,"blink","eyes",0,40,158,23,10,16,66,"blink","eyes",1,86,161,23,10,16,66,"blink","eyes",2,0,163,23,10,16,66,"blink","eyes",3,23,168,23,10,16,66,"blink","eyes",4,63,158,23,10,16,66,"blink","feet",0,46,168,32,6,15,83,"blink","feet",1,46,168,32,6,15,83,"blink","feet",2,46,168,32,6,15,83,"blink","feet",3,46,168,32,6,15,83,"blink","feet",4,46,168,32,6,15,83];const gl=c.getContext("webgl2");function createShader(e,t){const a=gl.createShader(e);return gl.shaderSource(a,t),gl.compileShader(a),gl.getShaderParameter(a,gl.COMPILE_STATUS)||gl.deleteShader(a),a}function createProgram(e,t){const a=gl.createProgram();return gl.attachShader(a,e),gl.attachShader(a,t),gl.linkProgram(a),gl.getProgramParameter(a,gl.LINK_STATUS)||gl.deleteProgram(a),a}function createBuffer(e,t,a){const r=gl.createBuffer();return gl.bindBuffer(e,r),gl.bufferData(e,t,a),r}const program=createProgram(createShader(gl.VERTEX_SHADER,"#version 300 es\nin vec2 a_xy;\nin vec2 a_uv;\nin vec4 a_tint;\n\nout vec2 v_uv;\nout vec4 v_tint;\n\nuniform mat4 u_mat;\n\nvoid main() {\n  gl_Position = vec4(u_mat * vec4(a_xy, 1.0, 1.0)); // remove .0 test\n  v_uv = a_uv;\n  v_tint = a_tint;\n}\n"),createShader(gl.FRAGMENT_SHADER,"#version 300 es\nprecision highp float;\nin vec2 v_uv;\nin vec4 v_tint;\n\nuniform sampler2D u_image;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(u_image, v_uv);\n}\n")),texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,png);const VERTEX_SIZE=20,MAX_BATCH=10922,MAX_STACK=100,MAT_SIZE=6,VERTS_PER_QUAD=6,MAT_STACK_SIZE=600,VERTS_DATA_SIZE=873760,INDEX_DATA_SIZE=131064,w=c.width,h=c.height,vd=new ArrayBuffer(873760),vpd=new Float32Array(vd),vid=new Uint16Array(131064),ibo=createBuffer(gl.ELEMENT_ARRAY_BUFFER,vid.byteLength,gl.STATIC_DRAW),vbo=createBuffer(gl.ARRAY_BUFFER,vd.byteLength,gl.DYNAMIC_DRAW);let count=0,mat=new Float32Array([1,0,0,1,0,0]),stack=new Float32Array(100),stackPointer=0;var{round:round,cos:cos,sin:sin,abs:abs,floor:floor,ceil:ceil,random:random,min:min,max:max}=Math;gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.enable(gl.BLEND),gl.useProgram(program),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,ibo);const MAX_VERTS=65532;for(let e=j=0;e<65532;e+=6,j+=4)vid[e+0]=j,vid[e+1]=j+1,vid[e+2]=j+2,vid[e+3]=j,vid[e+4]=j+3,vid[e+5]=j+1;gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER,0,vid),gl.bindBuffer(gl.ARRAY_BUFFER,vbo);const pal=gl.getAttribLocation(program,"a_xy"),txal=gl.getAttribLocation(program,"a_uv"),tnal=gl.getAttribLocation(program,"a_tint");gl.enableVertexAttribArray(pal),gl.vertexAttribPointer(pal,2,gl.FLOAT,0,20,0),gl.enableVertexAttribArray(txal),gl.vertexAttribPointer(txal,2,gl.FLOAT,0,20,8),gl.enableVertexAttribArray(tnal),gl.vertexAttribPointer(tnal,4,gl.UNSIGNED_BYTE,1,20,16);const rx=2/w,ry=-2/h;gl.uniformMatrix4fv(gl.getUniformLocation(program,"u_mat"),0,new Float32Array([rx,0,0,0,0,ry,0,0,0,0,1,1,-1,1,0,0])),gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,texture);const render={gl:gl,c:c,color:4294967295,bkg(e,t,a){gl.clearColor(e/255,t/255,a/255,1)},clear(){gl.clear(gl.COLOR_BUFFER_BIT)},translate(e,t){mat[4]=mat[0]*e+mat[2]*t+mat[4],mat[5]=mat[1]*e+mat[3]*t+mat[5]},scale(e,t){mat[0]*=e,mat[1]*=e,mat[2]*=t,mat[3]*=t},rotate(e){const t=mat[0],a=mat[1],r=mat[2],n=mat[3],o=sin(e),s=cos(e);mat[0]=t*s+r*o,mat[1]=a*s+n*o,mat[2]=t*-o+r*s,mat[3]=a*-o+n*s},push(){stack[stackPointer+0]=mat[0],stack[stackPointer+1]=mat[1],stack[stackPointer+2]=mat[2],stack[stackPointer+3]=mat[3],stack[stackPointer+4]=mat[4],stack[stackPointer+5]=mat[5],stackPointer+=6},pop(){stackPointer-=6,mat[0]=stack[stackPointer+0],mat[1]=stack[stackPointer+1],mat[2]=stack[stackPointer+2],mat[3]=stack[stackPointer+3],mat[4]=stack[stackPointer+4],mat[5]=stack[stackPointer+5]},quad(e,t,a,r,n,o,s=a,l=r){const i=e,c=t,d=e+a,m=t+r,g=e,_=t+r,b=e+a,h=t,f=n/png.width,u=o/png.height,p=(n+s)/png.width,T=(o+l)/png.height,[E,A,y,v,w,k]=mat;render.color;let R=0;count+1>=10922&&(gl.bufferSubData(gl.ARRAY_BUFFER,0,vd),gl.drawElements(gl.TRIANGLES,6*count,gl.UNSIGNED_SHORT,0),count=0),R=20*count,vpd[R++]=i*E+c*y+w,vpd[R++]=i*A+c*v+k,vpd[R++]=f,vpd[R++]=u,vpd[R++]=4294967295,vpd[R++]=d*E+m*y+w,vpd[R++]=d*A+m*v+k,vpd[R++]=p,vpd[R++]=T,vpd[R++]=4294967295,vpd[R++]=g*E+_*y+w,vpd[R++]=g*A+_*v+k,vpd[R++]=f,vpd[R++]=T,vpd[R++]=4294967295,vpd[R++]=b*E+h*y+w,vpd[R++]=b*A+h*v+k,vpd[R++]=p,vpd[R++]=u,vpd[R++]=4294967295,++count>=10922&&(gl.bufferSubData(gl.ARRAY_BUFFER,0,vd),gl.drawElements(gl.TRIANGLES,6*count,gl.UNSIGNED_SHORT,0),count=0)},flush(){0!=count&&(gl.bufferSubData(gl.ARRAY_BUFFER,0,vpd.subarray(0,20*count)),gl.drawElements(gl.TRIANGLES,6*count,gl.UNSIGNED_SHORT,0),count=0)}};window.render=render;class Frame{static map=new Map;static byIds=e=>e.map(e=>Frame.map.get(e.includes(".")?e:e+".base"));static import(e=window.f){for(let t=0;t<e.length;t+=9){const a=new Frame(...e.slice(t,t+9)),r=Frame.map.get(a.sid)||[];r[a.frame]=a,Frame.map.set(a.sid,r)}}constructor(e,t,a,r,n,o,s,l,i){this.sid=`${t}.${e}`,this.name=t,this.tag=e,this.frame=a,this.u=r,this.v=n,this.w=o,this.h=s,this.x=l,this.y=i}get quad(){const e=this;return[e.x,e.y,e.w,e.h,e.u,e.v,e.w,e.h]}}Frame.import();const lerp=(e,t,a=.5,r=1,n=abs(t-e))=>n<r?t:e+a*(t-e),randi=(e,t=0)=>floor(random()*(floor(e)-ceil(t))-ceil(t)),shuf=(e,t=e.length-1)=>{for(;t>0;t--){var a=floor(random()*t+1),r=e[t];e[t]=e[a],e[a]=r}return e};class Go{static root=[];x=0;y=0;sx=1;sy=1;r=0;index=0;v=1;l=0;ld=0;le=0;lms=0;lx=0;ly=0;tx=0;ty=0;e=0;lcb=null;lerp(e,t,a=this.x,r=this.y,n){this.l=!0,this.tx=a,this.ty=r,this.e=t,this.lms=e,this.lcb=n}frames=[];children=[];constructor(e=[],t=[0,0]){this.set(e),this.children=[],this.x=t[0],this.y=t[1],this.w=this.frames[0]?.[0].w,this.h=this.frames[0]?.[0].h}set(e){return this.frames=Frame.byIds(e),this}aabb(e,t){const{x:a,y:r,w:n,h:o}=this;return e>=a&&e<=a+n&&t>=r&&t<=r+o}render(e,t){const{x:a,y:r,r:n,sx:o,sy:s,v:l,frames:i,index:c,children:d,target:m,l:g,lms:_,tx:b,ty:h,e:f}=this;if(g){_&&(this.ld=_,this.le=t+_,this.lms=0,this.lx=a,this.ly=r);const e=1-clamp(this.le-t,0,this.ld)/this.ld;a!=b&&(this.x=lerp(this.lx,b,e,f)),r!=h&&(this.y=lerp(this.ly,h,e,f)),r==h&&a==b&&(this.l=0,this.ld=0,this.lms=0,this.le=0,this.lx=a,this.ly=r,this.lcb?.(),this.lcb=null)}if(render.push(),render.translate(Math.round(a),Math.round(r)),render.rotate(n),render.scale(o,s),l){for(const e of i)render.quad(...e[c].quad);for(const a of d)a.render(e,t)}render.pop()}}class Ago extends Go{constructor(e=[],t=[]){super([]),this.frameSets=Object.fromEntries(t.map(t=>[t,Frame.byIds(e.map(e=>`${e}.${t}`))])),this.frames=this.frameSets.base,this.length=1,this.animate=this.animate.bind(this)}frameTime=100;timestamp=0;playing=!1;timeoutId=0;play(e,t=100){const a=this.frameSets[e];a&&(this.frames=a,this.length=a.length,this.playing||(this.playing=!0,this.animate()))}animate(){this.playing?(this.index=(this.index+1)%this.length,this.timeoutId=setTimeout(this.animate,this.frameTime)):this.index=0}stop(){this.playing=!1,this.index=0,this.frame=this.frameSets.base,this.length=0,clearTimeout(this.timeoutId)}}const world=new Go;Go.root=[world];const att={lil_guy:new Go(["lil_guy"]),earring:new Go(["earring"]),bowtie_tail:new Go(["bowtie_tail"]),collar:new Go(["collar"]),beeg_headphones:new Go(["beeg_headphones"]),bowtie_head:new Go(["bowtie_head"]),handle_stache:new Go(["handle_stache"]),pencil_stache:new Go(["pencil_stache"]),fork:new Go(["fork"]),spatula:new Go(["spatula"]),visor:new Go(["visor"]),sunglasses:new Go(["sunglasses"]),business_tie:new Go(["business_tie"]),bowtie_neck:new Go(["bowtie_neck"]),eepy:new Go(["eepy"]),angy:new Go(["angy"]),hapy:new Go(["happy"])},emotes=[att.eepy,att.angy,att.hapy],cat=new Ago(["base","eyes","feet"],["base","walk","blink"]);cat.children=[...Object.values(att)],cat.emote=(e,t=100)=>{emotes.map(e=>e.v=0),att[e].v=1,setTimeout(()=>att[e].v=0,t)},cat.attc=()=>cat.children.reduce((e,t)=>e+t.v,0),cat.children.map(e=>e.v=0),cat.v=1;const rooms=new Go;rooms.change=(e,t)=>{r!=e&&(d=1,cat.play("walk"),e>r&&(cat.sx=-1,cat.x=65),rooms.lerp(1e3,1,65-65*e,Œ¥,()=>{r=e,d=0,cat.stop(),cat.sx=1,cat.x=0,t?.()}))},world.children=[rooms,cat];const bathroom=new Go(["room","box"],[-65,0]),poop_1=new Go(["poop_1"]),poop_2=new Go(["poop_2"]),poop_3=new Go(["poop_3"]);bathroom.children=[poop_1,poop_2,poop_3];const pic=new Go(["pic"]),center=new Go(["room","carpet"]),bowl=new Go(["bowl"]),food_1=new Go(["food_1"]),food_2=new Go(["food_2"]),food_3=new Go(["food_3"]);bowl.children=[food_1,food_2,food_3],center.children=[pic,bowl];const cr={f:["ba","bk","bq","bj","ra","rk","rq","rj"],b:["back"],ba:["front","cat","a_blk"],bk:["front","cat","k_blk"],bq:["front","cat","q_blk"],bj:["front","cat","j_blk"],ra:["front","heart","a_red"],rk:["front","heart","k_red"],rq:["front","heart","q_red"],rj:["front","heart","j_red"]},card_0=new Go(cr.b,[0,7]),card_1=new Go(cr.b,[22,7]),card_2=new Go(cr.b,[44,7]),card_3=new Go(cr.b,[0,40]),card_4=new Go(cr.b,[22,40]),card_5=new Go(cr.b,[44,40]),b=new Go(["room"],[65,0]);b.shuf=(e=[...cr.f],t=[0,0,0].map(t=>e.splice(randi(e.length),1)[0]))=>b.p=shuf([...t,...t]),b.flip=(e,t=0)=>(b.children[e].set(t?cr.b:cr[b.p[e]]),b.children[e].f=1-t,e),b.flipped=e=>b.children[e].f,b.done=()=>{for(const e of b.children)if(!e.f)return!1;return!0},b.reset=()=>b.children.map((e,t)=>(e.set(cr.b),e.f=0)),b.click=(e,t,a=-1)=>{for(var r of b.children)if(a++,r.aabb(e,t))return a},b.children=[card_0,card_1,card_2,card_3,card_4,card_5],rooms.children=[bathroom,center,b],window.world=world;const ·ï¶√≤_√≥Àá·ï§="‡≤†_‡≤†",Œ£Œ¥Œî="sdŒî";var √¶="textContent";const Œ¥=void 0;c.rect=c.getBoundingClientRect.bind(c);const el=(e,t,a)=>{const r=document.createElement(e);return r.id=t,r.innerText=a,r},clamp=(e,t=VMIN,a=VMAX)=>max(t,min(a,e)),roll=(e,t,a=100*random())=>a>t,onclick=(e,t)=>(e.addEventListener("click",e=>!d&&t(e)),e),CAT_STATE={IDLE:0,EAT:1,POOP:2,SLEEP:3,PLAY:4},items=[["bowtie_neck",10,0],["business_tie",10,0],["sunglasses",10,0],["visor",10,0],["spatula",20,0],["fork",20,0],["pencil_stache",30,0],["handle_stache",30,0],["bowtie_head",35,0],["beeg_headphones",50,0],["collar",10,0],["bowtie_tail",10,0],["earring",75,0],["lil_guy",80,0]],VMIN=0,VMAX=100,TICK_DURATION=2500,IDLE_INCOME_RATE=1,IDLE_HUNGER_RATE=1,IDLE_STAMINA_RATE=-1,TUMMY_HURT=3;var cat_state=0,mony=1,monyRate=1,hungry=0,hungryRate=0,litter=1,litterRate=0,stamina=100,staminaRate=-1,anger=50,angerRate=0,food=0,toys=0,full=0,g=0,cards=[],s=0,d=0,r=1,last_state=CAT_STATE.IDLE,state_counter=0,paused=!1,mite=0,frame=0,lts=0,renderTimestamp=0;function load(){let e;items.forEach(e=>{var[t,a,r]=e;li.appendChild(onclick(el("button",t,`${t}: $${a}`),({target:r})=>{e[2]?(att[t].v=!att[t].v,r.textContent=`${t} ${att[t].v?"‚úÖ":""}`):mony>=a&&(mony-=a,e[2]=1,cat.emote("hapy",500),r.textContent=`${t}`)}))}),onclick(b_l,()=>{0!=r?rooms.change(0):(litter=0,cat.emote("hapy",500))}),onclick(b_f,()=>{1!=r?rooms.change(1):mony>=25&&food<3&&(mony-=25,food=clamp(food+1,0,3),cat.emote("hapy",500))}),onclick(b_s,()=>{s=!s,sh.style.display=s?"block":"none"}),onclick(b_c,()=>{2==r?minigame_start():rooms.change(2,()=>{minigame_start()})}),onclick(c,(t,a=t.target)=>{if(2==r&&1==g){var{width:n,height:o}=c.rect();const a=round(t.offsetX/n*w),r=round(t.offsetY/o*h),s=b.click(a,r)??-1;if(s>=0){if(b.flipped(s))return;if(b.flip(s),e==Œ¥)return void(e=s);s!=e&&(b.p[s]==b.p[e]?(e=Œ¥,mony+=10,b.done()&&(d=1,mony+=10,cat.emote("hapy"),setTimeout(()=>{b.reset(),b.shuf(),d=0},500))):(d=1,setTimeout(()=>{mony=clamp(mony-20),d=0,b.flip(e,1),b.flip(s,1),e=Œ¥},500)))}}})}function minigame_start(){g=1,b.reset(),b.shuf()}function start(){paused=!1,render.bkg(75,105,47),requestAnimationFrame(draw)}function update(){mite++,last_state!=cat_state&&(last_state=cat_state,state_counter=1);const e=0==food,t=food>0,a=stamina<10,r=stamina>80,n=hungry>90,o=anger>95,s=state_counter>3;switch(cat_state){case CAT_STATE.EAT:if(e||roll(0,50)){cat_state=CAT_STATE.IDLE;break}case CAT_STATE.POOP:if(!full){cat_state=CAT_STATE.IDLE;break}case CAT_STATE.IDLE:if(s&&roll(0,99-33*full)){cat_state=CAT_STATE.POOP,rooms.change(0);break}if(s&&t&&hungry&&roll(0,50)){full>=3?(cat_state=CAT_STATE.POOP,rooms.change(0)):(cat_state=CAT_STATE.EAT,rooms.change(1));break}if(!o&&!n&&s&&(a||roll(0,1==g?50:25))){cat_state=CAT_STATE.SLEEP;break}case CAT_STATE.SLEEP:if(s&&roll(0,r||1!=g?50:78)){cat_state=CAT_STATE.IDLE;break}}switch(last_state==cat_state?state_counter++:(last_state=cat_state,state_counter=1),att.eepy.v=0,cat_state){case CAT_STATE.IDLE:monyRate=1,hungryRate=1,staminaRate=-2,(anger<50||hungry>75)&&(angerRate=1);break;case CAT_STATE.POOP:full=0,litter=clamp(litter+1,0,3);break;case CAT_STATE.SLEEP:att.eepy.v=1,staminaRate=3,hungryRate=3,angerRate=-1;break;case CAT_STATE.EAT:food=clamp(food-1,0,3),full=clamp(full+1,0,3),hungry=clamp(hungry-40),cat.emote("hapy"),staminaRate=-5,hungry<75&&(angerRate=-5)}hungry>25&&(angerRate+=1),hungry>50&&(staminaRate-=4,angerRate+=1),hungry>80&&(angerRate+=1),litter>3&&(angerRate+=3);const l=cat.attc();angerRate-=clamp(l-1,0,3),anger>90&&(staminaRate-=5),stamina=clamp(stamina+staminaRate),mony=clamp(mony+monyRate),hungry=clamp(hungry+hungryRate),anger=clamp(anger+angerRate),mony=clamp(mony+monyRate),anger>90&&(emotes.map(e=>e.v=0),att.angy.v=1)}function draw(e){paused||(frame++,e-lts>=2500&&(lts=e,update()),1==g&&2!=r&&(g=0),dui(),dgfx(frame,e),requestAnimationFrame(draw))}const fv=e=>`${e}`.padStart(2,"0");function dui(){food_1.v=food>=1,food_2.v=food>=2,food_3.v=food>=3,poop_1.v=litter>=1,poop_2.v=litter>=2,poop_3.v=litter>=3,l_m.textContent=`${mony}ü™ô`,l_s.textContent=`‚ö°${fv(stamina)}`,l_h.textContent=`üç¥${fv(hungry)}`,l_a.textContent=`üòä${fv(50-anger)}`,b_l.textContent=0==r?"Clean":"Litter",b_f.textContent=1==r?"Feed $25":"Center",b_c.textContent=2==r?0==g?"Play":"Pick":"Cards"}function dgfx(e,t){render.clear(),world.render(e,t),render.flush()}load(),start()</script>