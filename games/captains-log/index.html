<meta name=viewport content="width=device-width"><script>var G={A:["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"]},E={};function A(r){G.a||(G.a=1,E.a.src="data:audio/mp3;base64,"+G.A[r],E.a.load(),E.a.play())}function F(G){return Math.floor(G)}function xr(G,r,t){return G*Math.cos(t)-r*Math.sin(t)}function yr(G,r,t){return G*Math.sin(t)+r*Math.cos(t)}function s(G,r){return Math.floor(Math.random()*(r-G)+G)*Math.cos(Math.PI*Math.round(Math.random()))}function r(G){return G*Math.PI/180}function f(G,r){return Math.random()*(r-G)+G}function Q(G,r,t,n){E[t]=document.createElement("canvas"),E[n]=E[t].getContext("2d"),E[t].id=G,E[t].style.zIndex=r,E[t].style.display="block",E[t].style.position="absolute",E[t].style.left=0,E[t].style.top=0,E.b.appendChild(E[t])}function o(G){E.m.style.top=G,E.u.style.top=G,E.f.style.top=G}function q(G){E.m.style.left=G,E.u.style.left=G,E.f.style.left=G}function on(G){return parseInt(E.m.style.top)+G}function oN(G){return parseInt(E.m.style.left)+G}function n(G){return-1*parseInt(E.m.style.top)+G}function N(G){return-1*parseInt(E.m.style.left)+G}function P(G,r,t,n){return G.isPointInPath(r,t,n)}function V(G,r,t,n,e,i,u,o){return"rgba("+F(f(G,r))+","+F(f(t,n))+","+F(f(e,i))+","+f(u,o)+")"}function w(G,r){G.fillStyle=r}function j(G,r){G.fill(r)}function J(G,r,t,n,e){G.fillRect(r,t,n,e)}function Y(G,r){G.font=r+"px sans"}function T(G,r,t,n,e){G.fillText(r,t,n,e)}function g(G,r){G.textAlign=r}function C(G,r,t,n,e){G.clearRect(r,t,n,e)}function K(G,r){G.strokeStyle=r}function k(G,r){G.stroke(r)}function i(){E.i.width=G.W,E.i.height=G.H,G.I.w=G.W/(10*G.s)||1,G.I.W=G.I.w*G.s,G.I.h=G.H/(10*G.s)||1,G.I.H=G.I.h*G.s,G.I.f=16*G.I.h,G.I.b=new Path2D("M "+G.I.W+","+G.I.H+" "+(G.W-G.I.W)+","+G.I.H+" "+(G.W-G.I.W)+","+(G.H-3*G.I.H)+" "+(G.W-3*G.I.W)+","+(G.H-3*G.I.H)+" "+(G.W-3*G.I.W)+","+2*G.I.H+" "+G.I.W+","+2*G.I.H+" z"),G.I.B=new Path2D("M "+(G.W-3*G.I.W)+","+(G.H-2*G.I.H)+" "+(G.W-G.I.W)+","+(G.H-2*G.I.H)+" "+(G.W-G.I.W)+","+(G.H-G.I.H)+" "+(G.W-3*G.I.W)+","+(G.H-G.I.H)+" z"),G.i=1,G.I.F=new Path2D("M 1,1 "+(G.W-1)+",1 "+(G.W-1)+","+(G.H+1)+" 1,"+(G.H+1)+" z")}function I(){if(C(E.I,0,0,E.i.width,E.i.height),G.I.s)return w(E.I,"#000"),J(E.I,0,0,G.W,G.H),w(E.I,"#770"),j(E.I,G.I.b),G.I.O&&(G.I.O--,w(E.I,"#707"),G.i=1),j(E.I,G.I.B),w(E.I,"#ddd"),Y(E.I,3*G.I.f),g(E.I,"left"),T(E.I,"Captain's Log",G.I.W,1.8*G.I.H,G.W-2*G.I.W),Y(E.I,2*G.I.f),g(E.I,"center"),T(E.I,"START",G.W-2*G.I.W,G.H-1.3*G.I.H,2*G.I.W),g(E.I,"left"),G.I.i&&(T(E.I,"Stardate 99298.79, while investigating a starbase",1.2*G.I.W,2.8*G.I.H,G.W-4.4*G.I.W),T(E.I,"appearance, we got dragged in what our new",1.2*G.I.W,3.4*G.I.H,G.W-4.4*G.I.W),T(E.I,"allies call a crossover. Now, both of us",1.2*G.I.W,4*G.I.H,G.W-4.4*G.I.W),T(E.I,"are trapped here looking a way back home.",1.2*G.I.W,4.6*G.I.H,G.W-4.4*G.I.W),T(E.I,"Our priority is to secure the quadrant.",1.2*G.I.W,5.2*G.I.H,G.W-4.4*G.I.W)),G.I.L&&(T(E.I,"You Won! People will know about two realities",1.2*G.I.W,2.8*G.I.H,G.W-4.4*G.I.W),T(E.I,"working togheter to save humanity.",1.2*G.I.W,3.4*G.I.H,G.W-4.4*G.I.W),T(E.I,"Wait a minute... thats a rip deeper in space! =P",1.2*G.I.W,4*G.I.H,G.W-4.4*G.I.W)),void(G.I.l&&T(E.I,"You Lose! This tale will never be told.",1.2*G.I.W,2.8*G.I.H,G.W-4.4*G.I.W));K(E.I,"#000"),E.I.lineWidth=4,k(E.I,G.I.F),w(E.I,"#770"),G.I.O&&(G.I.O--,w(E.I,"#707"),G.i=1),j(E.I,G.I.B),w(E.I,"#ddd"),Y(E.I,2*G.I.f),g(E.I,"center"),T(E.I,"Next Turn",G.W-2*G.I.W,G.H-1.45*G.I.H,2*G.I.W),Y(E.I,G.I.f),T(E.I,"Turn: "+G.T,G.W-2*G.I.W,G.H-1.15*G.I.H,2*G.I.W),G.Z.c&&G.Z.p&&(li(E.I,oN(G.Z.m.x),on(G.Z.m.y),oN(G.Z.M.x),on(G.Z.M.y),G.Z.c),E.I.stroke(G.Z.p(oN(G.Z.M.x),on(G.Z.M.y),G.s*G.S,90)))}function li(G,r,t,n,e,i){K(G,i),G.beginPath(),G.moveTo(r,t),G.lineTo(n,e),G.closePath(),G.stroke()}function h(G,r,t,n,e,i){return new Path2D("M "+[[n+G,e+r+i],[n+G+i,e+r],[n+G,e+r-i],[n+G-i,e+r]].map((function(G){return G.join(",")})).join(" ")+" z")}function H(G,r,t){return new Path2D("M "+[[G,r+t/2],[G+t/2,r+t/6],[G+t/2,r-t/6],[G,r-t/2],[G-t/2,r-t/6],[G-t/2,r+t/6]].map((function(G){return G.join(",")})).join(" ")+" z")}function at(G,t,n,e){var i=r(e),u=[[G+xr(0,n/3,i),t+yr(0,n/3,i)],[G+xr(n/3,0,i),t+yr(n/3,0,i)],[G+xr(0,-n/3,i),t+yr(0,-n/3,i)],[G+xr(-n/3,0,i),t+yr(-n/3,0,i)]];return new Path2D("M "+u.map((function(G){return G.join(",")})).join(" ")+" z")}function uN(G,t,n,e){var i=r(e),u=[[G+xr(0,n/12*5,i),t+yr(0,n/12*5,i)],[G+xr(n/6,n/4,i),t+yr(n/6,n/4,i)],[G+xr(n/12,n/12,i),t+yr(n/12,n/12,i)],[G+xr(n/12,-n/12,i),t+yr(n/12,-n/12,i)],[G+xr(n/6,-n/12,i),t+yr(n/6,-n/12,i)],[G+xr(n/6,0,i),t+yr(n/6,0,i)],[G+xr(n/4,0,i),t+yr(n/4,0,i)],[G+xr(n/4,-n/4,i),t+yr(n/4,-n/4,i)],[G+xr(n/6,-n/4,i),t+yr(n/6,-n/4,i)],[G+xr(n/6,-n/6,i),t+yr(n/6,-n/6,i)],[G+xr(-n/6,-n/6,i),t+yr(-n/6,-n/6,i)],[G+xr(-n/6,-n/4,i),t+yr(-n/6,-n/4,i)],[G+xr(-n/4,-n/4,i),t+yr(-n/4,-n/4,i)],[G+xr(-n/4,0,i),t+yr(-n/4,0,i)],[G+xr(-n/6,0,i),t+yr(-n/6,0,i)],[G+xr(-n/6,-n/12,i),t+yr(-n/6,-n/12,i)],[G+xr(-n/12,-n/12,i),t+yr(-n/12,-n/12,i)],[G+xr(-n/12,n/12,i),t+yr(-n/12,n/12,i)],[G+xr(-n/6,n/4,i),t+yr(-n/6,n/4,i)]];return new Path2D("M "+u.map((function(G){return G.join(",")})).join(" ")+" z")}function uB(G,t,n,e){var i=r(e),u=[[G+xr(-n/12,n/3,i),t+yr(-n/12,n/3,i)],[G+xr(n/12,n/3,i),t+yr(n/12,n/3,i)],[G+xr(n/12,n/4,i),t+yr(n/12,n/4,i)],[G+xr(n/4,n/12,i),t+yr(n/4,n/12,i)],[G+xr(n/3,n/12,i),t+yr(n/3,n/12,i)],[G+xr(n/3,-n/12,i),t+yr(n/3,-n/12,i)],[G+xr(n/4,-n/6,i),t+yr(n/4,-n/6,i)],[G+xr(n/4,-n/4,i),t+yr(n/4,-n/4,i)],[G+xr(n/6,-n/4,i),t+yr(n/6,-n/4,i)],[G+xr(n/12,-n/3,i),t+yr(n/12,-n/3,i)],[G+xr(-n/12,-n/3,i),t+yr(-n/12,-n/3,i)],[G+xr(-n/12,-n/4,i),t+yr(-n/12,-n/4,i)],[G+xr(-n/4,-n/12,i),t+yr(-n/4,-n/12,i)],[G+xr(-n/3,-n/12,i),t+yr(-n/3,-n/12,i)],[G+xr(-n/3,n/12,i),t+yr(-n/3,n/12,i)],[G+xr(-n/4,n/6,i),t+yr(-n/4,n/6,i)],[G+xr(-n/4,n/4,i),t+yr(-n/4,n/4,i)],[G+xr(-n/6,n/4,i),t+yr(-n/6,n/4,i)]];return new Path2D("M "+u.map((function(G){return G.join(",")})).join(" ")+" z")}function uG(G,t,n,e){var i=r(e),u=[[G+xr(n/12,-n/4,i),t+yr(n/12,-n/4,i)],[G+xr(n/12,-n/3,i),t+yr(n/12,-n/3,i)],[G+xr(n/6,-n/3,i),t+yr(n/6,-n/3,i)],[G+xr(n/6,-n/4,i),t+yr(n/6,-n/4,i)],[G+xr(n/4,-n/4,i),t+yr(n/4,-n/4,i)],[G+xr(n/4,n/12,i),t+yr(n/4,n/12,i)],[G+xr(n/12,n/12,i),t+yr(n/12,n/12,i)],[G+xr(n/12,n/6,i),t+yr(n/12,n/6,i)],[G+xr(n/6,n/6,i),t+yr(n/6,n/6,i)],[G+xr(n/12,n/3,i),t+yr(n/12,n/3,i)],[G+xr(-n/12,n/3,i),t+yr(-n/12,n/3,i)],[G+xr(-n/6,n/6,i),t+yr(-n/6,n/6,i)],[G+xr(-n/12,n/6,i),t+yr(-n/12,n/6,i)],[G+xr(-n/12,n/12,i),t+yr(-n/12,n/12,i)],[G+xr(-n/4,n/12,i),t+yr(-n/4,n/12,i)],[G+xr(-n/4,-n/4,i),t+yr(-n/4,-n/4,i)],[G+xr(-n/6,-n/4,i),t+yr(-n/6,-n/4,i)],[G+xr(-n/6,-n/3,i),t+yr(-n/6,-n/3,i)],[G+xr(-n/12,-n/3,i),t+yr(-n/12,-n/3,i)],[G+xr(-n/12,-n/4,i),t+yr(-n/12,-n/4,i)]];return new Path2D("M "+u.map((function(G){return G.join(",")})).join(" ")+" z")}function uF(G,t,n,e){var i=r(e),u=[[G+xr(0,n/12*5,i),t+yr(0,n/12*5,i)],[G+xr(n/6,n/6,i),t+yr(n/6,n/6,i)],[G+xr(n/12,n/12,i),t+yr(n/12,n/12,i)],[G+xr(n/12,0,i),t+yr(n/12,0,i)],[G+xr(n/5,-n/6,i),t+yr(n/5,-n/6,i)],[G+xr(n/4,-n/12,i),t+yr(n/4,-n/12,i)],[G+xr(n/4,n/12,i),t+yr(n/4,n/12,i)],[G+xr(n/3,0,i),t+yr(n/3,0,i)],[G+xr(n/3,-n/6,i),t+yr(n/3,-n/6,i)],[G+xr(n/4,-n/3,i),t+yr(n/4,-n/3,i)],[G+xr(n/6,-n/3,i),t+yr(n/6,-n/3,i)],[G+xr(n/12,-n/4,i),t+yr(n/12,-n/4,i)],[G+xr(-n/12,-n/4,i),t+yr(-n/12,-n/4,i)],[G+xr(-n/6,-n/3,i),t+yr(-n/6,-n/3,i)],[G+xr(-n/4,-n/3,i),t+yr(-n/4,-n/3,i)],[G+xr(-n/3,-n/6,i),t+yr(-n/3,-n/6,i)],[G+xr(-n/3,0,i),t+yr(-n/3,0,i)],[G+xr(-n/4,n/12,i),t+yr(-n/4,n/12,i)],[G+xr(-n/4,-n/12,i),t+yr(-n/4,-n/12,i)],[G+xr(-n/5,-n/6,i),t+yr(-n/5,-n/6,i)],[G+xr(-n/12,0,i),t+yr(-n/12,0,i)],[G+xr(-n/12,n/12,i),t+yr(-n/12,n/12,i)],[G+xr(-n/6,n/6,i),t+yr(-n/6,n/6,i)]];return new Path2D("M "+u.map((function(G){return G.join(",")})).join(" ")+" z")}function u(){E.u.width=G.w,E.u.height=G.h;for(let t=0;t<G.p;t++)for(let n=0;n<G.U[t].length;n++){var r=G.U[t][n];r.x=G.M[r.Y][r.X].x,r.y=G.M[r.Y][r.X].y,r.d=r.P(r.x,r.y,G.s*G.S,r.r)}G.u=1}function U(){C(E.U,0,0,E.m.width,E.m.height);for(let t=0;t<G.p;t++)for(let n=0;n<G.U[t].length;n++){var r=G.U[t][n];r.k||(r.T&&(r.T--,E.U.save(),E.U.setLineDash([4,G.s/6]),E.U.lineWidth=G.I.f/3,li(E.U,r.x,r.y,r.tx,r.ty,"rgba("+r.l+",0.9)"),E.U.restore()),r.Q&&(r.Q--,E.U.lineWidth=G.I.f,li(E.U,r.sx,r.sy,r.x,r.y,"rgba("+r.l+",0.6)")),r.D&&(r.D=0,r.d=r.P(r.x,r.y,G.s*G.S,r.r)),w(E.U,r.c),j(E.U,r.d),E.U.lineWidth=G.I.f/6,K(E.U,"rgba("+r.l+","+r.s/100+")"),k(E.U,r.d),r.S&&(r.S--,w(E.U,"rgba(255,255,255,0.6)"),Y(E.U,G.I.f),J(E.U,r.x,r.y,3.2*G.I.f,5.4*G.I.f),w(E.U,"#000"),T(E.U,r.n,r.x,r.y+G.I.f,3*G.I.f),T(E.U,"S: "+r.s,r.x,r.y+2.2*G.I.f,3*G.I.f),T(E.U,"P: "+r.w,r.x,r.y+3.2*G.I.f,3*G.I.f),T(E.U,"M: "+r.m,r.x,r.y+4.2*G.I.f,3*G.I.f),T(E.U,"A: "+r.a,r.x,r.y+5.2*G.I.f,3*G.I.f)))}}function ua(r,t,n,e,i,u,o,E,I,f,l,x,A,a,y){G.U[r][t]={p:r,i:t,n:o,x:G.M[e][n].x,y:G.M[e][n].y,X:n,Y:e,P:i,c:u,r:-90,M:E,m:E,A:I,a:I,s:l,w:f,v:x,k:null,l:A,t:a,q:y},G.M[e][n].u={p:r,i:t},0==r&&ma(G.M[e][n],x)}function um(r,t){if(!r||!r.u||!t||t.u)return;let n=G.U[r.u.p][r.u.i];n.m>0&&(t.u=r.u,n.m--,n.Q=1,n.sx=n.x,n.sy=n.y,n.x=t.x,n.y=t.y,n.X=t.X,n.Y=t.Y,n.D=1,r.u&&0==r.u.p&&ma(t,n.v),r.u=null,G.m=1)}function uk(r,t){if(r&&r.u&&t&&t.u&&r.u.p!=t.u.p){var n=G.U[r.u.p][r.u.i],e=G.U[t.u.p][t.u.i];n.tx=t.x,n.ty=t.y,n.T=3,n.a--,e.s-=n.w,e.s<0&&(e.k=G.T,t.u=null),G.u=1}}function m(){G.h=G.s/3*2*G.Y*G.S+G.s/3*G.S,G.w=G.s*G.X*G.S+G.s*G.S/2,E.m.width=G.w,E.m.height=G.h,E.f.width=G.w,E.f.height=G.h;for(let r=0;r<G.Y;r++){let t=r%2*G.s*G.S/2;for(let n=0;n<G.X;n++){let e=n*G.s*G.S+t+G.s*G.S/2,i=r*G.s/3*2*G.S+G.s*G.S/2;G.M[r][n].x=e,G.M[r][n].y=i,G.M[r][n].d=H(e,i,G.s*G.S),G.M[r][n].b.d=h(e,i,G.s*G.S,G.M[r][n].b.x*G.S,G.M[r][n].b.y*G.S,G.M[r][n].b.s*G.S)}}G.m=1}function M(){w(E.F,"#000"),J(E.M,0,0,E.m.width,E.m.height),C(E.F,0,0,E.m.width,E.m.height);for(let r=0;r<G.Y;r++)for(let t=0;t<G.X;t++){let n=G.M[r][t];n.v?n.f?(w(E.F,"#000"),j(E.F,n.d),w(E.F,"rgba(200,200,200,0.8)"),j(E.F,n.b.d),k(E.F,n.d)):(E.M.save(),w(E.M,V(240,250,180,200,160,180,.6,.9)),E.M.scale(f(.98,.99),f(.98,.99)),j(E.M,n.b.d),E.M.restore(),E.M.setLineDash([2,G.s/6]),K(E.M,"#0a0"),k(E.M,n.d)):(w(E.F,"#222"),j(E.F,n.d),k(E.F,n.d))}}function ma(G,r){let t=mv(G,r);for(let G=0;G<t.length;G++)t[G].v=1,t[G].f=0}function mv(r,t){let n=r.Y%2,e=[];for(let i=r.Y-1*t;i<=r.Y+1*t;i++){let u=r.X-1+1*t+n,o=r.X-1*t+n;for(i==r.Y&&(o-=n,u+=1-n);o<u+1;o++)o>-1&&o<G.X&&i>-1&&i<G.Y&&e.push(G.M[i][o])}return e}function O(r,t){let e=Math.floor(n(t)/(G.s/4*3*G.S)),i=Math.floor(N(r)/(G.s*G.S));for(let u=e;u<e+2;u++)for(let e=i-1;e<i+2;e++)if(u<G.Y&&e<G.X&&G.M[u][e]&&P(E.M,G.M[u][e].d,N(r),n(t)))return G.M[u][e];return null}function mn(G,r){if(!G||!r)return 181;var t=0;return G.Y%2&&(t=1),G.Y==r.Y&&G.X+1==r.X?-90:G.Y==r.Y&&G.X-1==r.X?90:G.Y-1==r.Y&&(!t&&G.X-1==r.X||t&&G.X==r.X)?144:G.Y-1==r.Y&&(!t&&G.X==r.X||t&&G.X+1==r.X)?-144:G.Y+1==r.Y&&(!t&&G.X-1==r.X||t&&G.X==r.X)?36:G.Y+1==r.Y&&(!t&&G.X==r.X||t&&G.X+1==r.X)?-36:181}function S(){G.T=1,G.M=[];for(let r=0;r<G.Y;r++){G.M[r]=[];for(let t=0;t<G.X;t++)G.M[r][t]={X:t,Y:r,v:0,f:1,b:{x:s(3,8),y:s(3,8),s:s(3,4)}}}m(),G.U=[];for(let r=0;r<G.p;r++)G.U[r]=[];ua(0,0,1,8,uB,"#777","B5",0,1,35,100,2,"0,0,255",2,0),ua(0,1,7,8,uN,"#777","1701d",3,1,55,200,3,"0,0,255",2,0);for(let r=0;r<24;r+=3)ua(1,r,G.X-1-r,6,uF,"#999","Cyl",1,1,30,100,1,"255,0,0",4,3),ua(1,r+1,G.X-1-r,8,uF,"#999","Cyl",1,1,30,100,1,"255,0,0",4,3),ua(1,r+2,G.X-1-r,10,uF,"#999","Cyl",1,1,30,100,1,"255,0,0",4,3);u(),G.I.i=0,G.I.L=0,G.I.l=0,G.I.s=0,G.I.J=0,G.i=1,G.J=setInterval((function(){G.m=1}),500),G.K=setInterval((function(){G.u=1}),200)}function nt(){PM(),G.T++,10==G.T&&(ua(0,2,10,1,uG,"#777","BSG",2,1,45,100,2,"0,0,255",2,5),G.U[0][2].D=1);for(let r=0;r<G.X;r++)for(let t=0;t<G.Y;t++)G.M[t][r].f=1;var r=[0,0];for(let t=0;t<G.p;t++)for(let n=0;n<G.U[t].length;n++){let e=G.U[t][n];e.a=e.A,e.m=e.M,e.k||r[t]++,0==t&&ma(G.M[e.Y][e.X],e.v)}(G.U[0][0].k||G.U[0][1].k)&&(G.I.l=1,p()),r[1]<1&&(G.I.L=1,p()),G.I.J=0}function PM(){for(let r=0;r<G.U[1].length;r++){let t=G.U[1][r];if(t.k)continue;let n=t.m,e=0;for(;n>0;n--){let r=mv(G.M[t.Y][t.X],t.v);for(let n=0;n<r.length;n++)t.a>0&&r[n].u&&0==r[n].u.p&&(t.r=mn(G.M[t.Y][t.X],r[n]),t.D=1,uk(G.M[t.Y][t.X],r[n]),A(3),e=1);if(e)break;let n=t.X,i=t.Y;0==n?i>8?i--:i++:n--;let u=mn(G.M[t.Y][t.X],G.M[i][n]);t.r=u,t.D=1,um(G.M[t.Y][t.X],G.M[i][n])}}}function p(){clearInterval(G.J),clearInterval(G.K),G.I.s=1,G.i=1}function l(){G.i&&(G.i=0,I()),G.m&&(G.m=0,M()),G.u&&(G.u=0,U()),requestAnimationFrame(l)}function L(){E.b=document.body,E.b.style.margin=0,E.b.style.padding=0,E.b.style.width="100%",E.b.style.height="100%",E.b.style.overflow="hidden",Q("m",10,"m","M"),Q("u",20,"u","U"),Q("f",40,"f","F"),Q("i",50,"i","I"),E.a=document.createElement("audio"),E.b.appendChild(E.a),E.a.addEventListener("ended",(function(){G.a=0})),E.i.addEventListener("mousedown",d),E.i.addEventListener("mousemove",v),E.i.addEventListener("mouseup",D),E.i.addEventListener("wheel",W),window.addEventListener("resize",R),G.s=64,G.S=2,G.X=32,G.Y=16,G.p=2,G.W=E.b.clientWidth,G.H=E.b.clientHeight,G.Z={},G.I={},G.I.s=1,G.I.i=1,i(),setTimeout(l,10)}function R(){G.W=E.b.clientWidth,G.H=E.b.clientHeight,i()}function W(r){G.I.s||(r.deltaY>0?G.S-=.1:G.S+=.1,m(),u())}function d(r){G.Z.x=r.clientX,G.Z.y=r.clientY,G.I.s||(G.Z.m=O(G.Z.x,G.Z.y),G.Z.m&&G.Z.m.u&&(G.Z.u=G.U[G.Z.m.u.p][G.Z.m.u.i]),G.i=1)}function v(r){if(G.Z.X=r.clientX,G.Z.Y=r.clientY,P(E.I,G.I.B,G.Z.X,G.Z.Y)?(E.i.style.cursor="pointer",G.I.O=4,G.i=1):E.i.style.cursor="default",G.Z.m&&!G.I.s)if(G.Z.M=O(G.Z.X,G.Z.Y),G.Z.u&&G.Z.M){if(1==G.Z.u.p)return;let r=mn(G.Z.m,G.Z.M);r<181?(G.Z.u.r=r,G.Z.u.D=1,G.Z.u.a>0&&G.Z.M.u&&1==G.Z.M.u.p?(G.Z.U=G.U[G.Z.M.u.p][G.Z.M.u.i],G.Z.c="#f00",G.Z.p=at):G.Z.u.m>0&&r<181&&G.Z.M&&!G.Z.M.u&&(G.Z.c="#0f0",G.Z.p=at)):(G.Z.c=null,G.Z.p=null),G.i=1}else{let r=-n(0)+(G.Z.Y-G.Z.y)/6,t=-N(0)+(G.Z.X-G.Z.x)/6;r>0?o(0):r<G.H-G.h?o(G.H-G.h):o(r),t>0?q(0):t<G.W-G.w?q(G.W-G.w):q(t)}}function D(r){if(G.Z.X=r.clientX,G.Z.Y=r.clientY,G.Z.x-G.Z.X+G.Z.y-G.Z.Y==0){if(G.I.s)return void(P(E.I,G.I.B,G.Z.X,G.Z.Y)&&S());P(E.I,G.I.B,G.Z.X,G.Z.Y)&&!G.I.J?(G.I.J=1,nt()):G.Z.u&&G.Z.m.v&&!G.Z.m.f&&(G.Z.u.S=10,A(G.Z.u.t))}G.Z.u&&0==G.Z.u.p&&(G.Z.U?(uk(G.Z.m,G.Z.M),A(G.Z.u.q)):G.Z.M&&mn(G.Z.m,G.Z.M)<181&&(um(G.Z.m,G.Z.M),A(1))),G.Z={},G.i=1}</script><body onload=L()>