<title>Fighter Planes</title><canvas id=canva>You have a very-very old browser</canvas><script>function drawOcean(t,e,i,a){ctx.fillStyle="rgb(24,82,144)",ctx.fillRect(0,t,i,a+1),ctx.translate(e,0),ctx.lineWidth=30;for(let e=0;e<4;e++){ctx.strokeStyle="rgb("+(16+2*e)+","+(70+3*e)+","+(120+6*e)+")";for(let a=-1;a<i/140+2;a++)ctx.beginPath(),ctx.arc(140*a,t+30*e,50,1.25*Math.PI,1.75*Math.PI),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(140*a+70,t-71+30*e,50,.25*Math.PI,.75*Math.PI),ctx.stroke(),ctx.closePath()}ctx.translate(-e,0)}function line(t,e,i,a){ctx.moveTo(t,e),ctx.lineTo(i,a)}function drawTarget(t,e){ctx.lineWidth=2,ctx.strokeStyle="black",ctx.beginPath(),ctx.arc(t,e,15,.1*Math.PI,.4*Math.PI),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(t,e,15,.6*Math.PI,.9*Math.PI),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(t,e,15,1.1*Math.PI,1.4*Math.PI),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(t,e,15,1.6*Math.PI,1.9*Math.PI),ctx.stroke(),ctx.closePath(),ctx.beginPath(),line(t,e,t,e-20),line(t,e,t-20,e),line(t,e,t+20,e),line(t,e,t,e+20),ctx.stroke(),ctx.closePath()}let bumaudio,bulletaudio,mouse_x=0,mouse_y=0,dir_to_mouse=0,speed=32,dx=1,dy=1,x=0,y=2e4,xold=0,yold=0,kCode=0,kCodeUp=0,keyPress=[],moveVector=0,windSmesh=0,crashed=!1,vx=0,vy=0,bullets=[],leftClick=!1,cloud=[],strikeEnabled=!0,strikeCount=0,rocket=[],warplane=[],ts=performance.now(),wwh=0,whh=0,elapsed=0,exp=0,planei=new Image,canvas=document.getElementById("canva"),ctx=canvas.getContext("2d"),bumi=new Image,rocketi=new Image,warplanei=new Image,cloudi=new Image,buttonActived=!1;function playBulletSound(t){var e;void 0===e&&((e=new Audio).src="bulletaudio.mp3");var i=e;i.volume=t,i.autoplay=!0}canvas.style.cursor="none",planei.src="plane.png",bumi.src="bum.png",rocketi.src="rocket.png",warplanei.src="warplane.png",cloudi.src="cloud.png";class Airplane{constructor(t,e,i,a,s,l){this.x=t,this.y=e,this.width=i,this.height=a,this.image=s,this.crashImage=l,this.crashed=27,this.hh=this.height/2,this.wh=this.width/2}draw(t,e,i,a,s,l,h){ctx.lineWidth=2,ctx.strokeStyle=a,i>32&&(i=32),ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(t),ctx.drawImage(this.image,-this.wh,-this.hh,this.width,this.height),ctx.beginPath(),ctx.moveTo(-this.wh,s),ctx.translate(-this.wh,s),ctx.rotate(e-t),ctx.lineTo(i,0),ctx.rotate(t-e),ctx.translate(0,-2*s),ctx.rotate(e-t),line(0,0,i,0),ctx.restore(),ctx.translate(this.x,this.y),ctx.rotate(t),ctx.moveTo(-l,h),ctx.translate(-l,h),ctx.rotate(e-t),ctx.lineTo(2*i,0),ctx.rotate(t-e),ctx.translate(0,-2*h),ctx.rotate(e-t),line(0,0,2*i,0),ctx.stroke(),ctx.closePath(),ctx.restore()}crash(){return this.height=this.width,this.crashed--,this.crashed<=0||(ctx.translate(this.x,this.y),ctx.drawImage(this.crashImage,16*(8-Math.floor(this.crashed/3)),0,16,16,-this.wh,-this.hh,this.width,this.height),ctx.translate(-this.x,-this.y),!1)}}class Cloud{constructor(t,e){this.x=t,this.y=e}draw(){ctx.drawImage(cloudi,this.x,this.y,80,60)}}class Bullet{constructor(t,e,i,a,s){this.x=t+24*(a-.5)*Math.sin(i),this.y=e+24*(a-.5)*Math.cos(i),this.dir=i,this.crashed=!1,this.crash=9,this.crashImage=s}draw(){return this.crashed?(this.height=this.width,this.crash--,this.crash<=0||(ctx.translate(this.x,this.y),ctx.drawImage(this.crashImage,16*(8-this.crash),0,16,16,-8,-8,16,16),ctx.translate(-this.x,-this.y),!1)):!(this.x<-10||this.x>ww+10||this.y<-10||this.y>ww+10)&&(ctx.strokeStyle="yellow",ctx.lineWidth=3,ctx.beginPath(),ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(this.dir),ctx.moveTo(0,0),ctx.lineTo(10,0),ctx.restore(),ctx.stroke(),ctx.closePath(),this.x-=30*Math.cos(this.dir+Math.PI),void(this.y-=30*Math.sin(this.dir+Math.PI)))}}class Rocket{constructor(t,e,i,a){this.timerok=6e3+500*Math.random(),this.sx=t,this.sy=e,this.image=i,this.crashed=!1,this.crash=27,this.blocked=!1,this.crashImage=a,this.crashSoundEnabled=!0}draw(t,e){if(this.blocked)return!0;if(this.x=this.sx+x,this.y=this.sy+y,this.crashed)return this.crashSoundEnabled&&(playBulletSound(.4),this.crashSoundEnabled=!1),this.height=this.width,this.crash--,this.crash<=0||(ctx.translate(this.x,this.y),ctx.drawImage(this.crashImage,16*(8-Math.floor(this.crash/3)),0,16,16,-16,-8,32,16),ctx.translate(-this.x,-this.y),!1);{this.timerok--,this.timerok<0&&(this.crashed=!0),this.direct=Math.atan((e-this.y)/(t-this.x)),this.x>t&&(this.direct+=Math.PI);let i=Math.cos(this.direct),a=Math.sin(this.direct);return this.x>-150&&this.x<ww+150&&this.y>-150&&this.y<wh+150?(ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(this.direct),ctx.drawImage(this.image,-16,-8,32,16),ctx.restore(),this.sx+=24*i,this.sy+=24*a):(this.sx+=30*i,this.sy+=30*a),ctx.save(),ctx.translate(wwh,whh),ctx.rotate(this.direct-Math.PI),ctx.translate(ww/5,0),ctx.beginPath(),ctx.moveTo(0,-10),ctx.lineTo(0,10),ctx.lineTo(10,0),ctx.lineTo(0,-10),ctx.closePath(),ctx.fillStyle="#FFFF33",ctx.fill(),ctx.strokeStyle="black",ctx.lineWidth=1,ctx.stroke(),ctx.restore(),!1}}}class Warplane{constructor(t,e,i,a){this.sx=t,this.sy=e,this.image=i,this.crashed=!1,this.crash=27,this.blocked=!1,this.crashImage=a,this.startRocket=240,this.iscrash=64,this.crashSoundEnabled=!0}draw(t,e){return this.startRocket--,!!this.blocked||(this.x=this.sx+x,this.y=this.sy+y,this.crashed?(this.crashSoundEnabled&&(playBulletSound(.4),this.crashSoundEnabled=!1),this.height=this.width,this.crash--,this.crash<=0||(ctx.translate(this.x,this.y),ctx.drawImage(this.crashImage,16*(8-Math.floor(this.crash/3)),0,16,16,-32,-32,64,64),ctx.translate(-this.x,-this.y),!1)):(this.direct=Math.atan((e-this.y)/(t-this.x)),this.x>t&&(this.direct+=Math.PI),this.startRocket<0&&(this.startRocket=240,rocket.length<12&&rocket.push(new Rocket(this.sx,this.sy,rocketi,bumi))),ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(this.direct),ctx.drawImage(this.image,-32,-32,64,64),ctx.restore(),this.sx+=12*Math.cos(this.direct),this.sy+=12*Math.sin(this.direct),ctx.save(),ctx.translate(wwh,whh),ctx.rotate(this.direct-Math.PI),ctx.translate(ww/5,0),ctx.moveTo(0,-15),ctx.beginPath(),ctx.lineTo(0,15),ctx.lineTo(15,0),ctx.lineTo(0,-15),ctx.closePath(),ctx.fillStyle="#FF0000",ctx.fill(),ctx.strokeStyle="black",ctx.lineWidth=1,ctx.stroke(),ctx.restore(),!1))}}ww=window.innerWidth,wh=window.innerHeight,canvas.style.position="fixed",canvas.style.top=canvas.style.left="0";let myAirplane=new Airplane(wwh,whh,50,64,planei,bumi);for(let t=0;t<64;t++){let e=cloud.length;cloud.push(new Cloud(t%8*300+256*(Math.random()-.5),300*Math.floor(t/8)+256*(Math.random()-.5),25+20*(Math.random()-.5))),(cloud[e].x<-120||cloud[e].x>ww+120||cloud[e].y<-120||cloud[e].y>wh+120)&&cloud.splice(e,1)}function gen_new_plane(){warplane.length<2&&warplane.push(new Warplane(-x+1500*Math.sign(Math.random()-.5)+500*(Math.random()-.5),-y+1500*Math.sign(Math.random()-.5)+500*(Math.random()-.5),warplanei,bumi)),setTimeout(gen_new_plane,6e3)}menu(),setTimeout("buttonActived = true;",100);let tt=performance.now();function animate(){ww=window.innerWidth,wh=window.innerHeight,wwh=ww/2,whh=wh/2,canvas.width=canvas.style.width=ww,canvas.height=canvas.style.height=wh+1,ctx.fillStyle="#CCCCFF",ctx.fillRect(0,0,ww,wh),crashed||(xold=x,yold=y,x+=dx,y+=dy),dir_to_mouse=mouse_x>ww/2?Math.atan((wh/2-mouse_y)/(ww/2-mouse_x)):Math.PI+Math.atan((wh/2-mouse_y)/(ww/2-mouse_x)),moveVector=dx<0?Math.PI+Math.atan(dy/dx):Math.atan(dy/dx),crashed||(keyPress[87]&&(vx-=Math.cos(dir_to_mouse)*speed,vy-=Math.sin(dir_to_mouse)*speed),leftClick&&strikeEnabled&&(strikeEnabled=!1,bullets.push(new Bullet(wwh,whh,dir_to_mouse,strikeCount%2,bumi)),playBulletSound(.1),strikeCount+=1,setTimeout("strikeEnabled = true;",125)));let t=Math.sqrt(dx*dx+dy*dy),e=900/(t*t);vx+=e*dx/60,vy+=e*dy/60-18,dx=vx/60,dy=vy/60,Math.sqrt(vx*vx+vy*vy)>1200&&(vx*=.95,vy*=.95);let i=bullets.length;for(let t=0;t<i;t++)if(void 0!==bullets[t])if(bullets[t].x>5e3||bullets[t].x<-5e3||bullets[t].y>5e3||bullets[t].y<-5e3)bullets.splice(t,1),i--,t--;else for(let e=0;e<rocket.length;e++)void 0!==rocket[e]&&void 0!==bullets[t]&&void 0!==rocket[e].x&&void 0!==rocket[e].y&&bullets[t].x>rocket[e].x-12&&bullets[t].x<rocket[e].x+12&&bullets[t].y>rocket[e].y-24&&bullets[t].y<rocket[e].y+24&&(bullets.splice(t,1),rocket[e].crashed=!0,i--,t--,exp+=1);for(let t=0;t<bullets.length;t++)bullets[t].draw();for(let t=0;t<bullets.length;t++)for(let e=0;e<warplane.length;e++)bullets[t].x>warplane[e].x-32&&bullets[t].x<warplane[e].x+32&&bullets[t].y>warplane[e].y-32&&bullets[t].y<warplane[e].y+32&&(bullets[t].crashed=!0,warplane[e].iscrash--,warplane[e].iscrash<0&&(warplane[e].crashed=!0));for(let t=0;t<warplane.length;t++)warplane[t].draw(wwh,whh)&&(warplane.splice(t,1),exp+=25);y<1e3&&drawOcean(wh-80+y/2,windSmesh%140,ww,wh),y<-wh/1.5&&(crashed||playBulletSound(1),crashed=!0);for(let t=0;t<rocket.length;t++)rocket[t].x>wwh-32&&rocket[t].x<wwh+32&&rocket[t].y>whh-32&&rocket[t].y<whh+32?(crashed=!0,rocket[t].blocked=!0,playBulletSound(1)):rocket[t].x>6*ww&&rocket[t].x<6*-ww&&rocket[t].y>6*wh&&rocket[t].y<6*-wh&&(rocket[t].crashed=!0);for(let t=0;t<warplane.length;t++)warplane[t].x>wwh-32&&warplane[t].x<wwh+32&&warplane[t].y>whh-32&&warplane[t].y<whh+32&&(crashed=!0,warplane[t].blocked=!0,playBulletSound(1));if(crashed){if(dx=100*Math.random()-50,dy=100*Math.random()-50,myAirplane.crash())return lose(),void setTimeout("buttonActived = true;",500);ctx.translate(50*Math.random()-25,50*Math.random()-25)}for(let t=0;t<rocket.length;t++)rocket[t].draw(wwh,whh)&&(setTimeout("rocket.splice("+t+",1);",10),exp+=1);for(let t=0;t<cloud.length;t++)cloud[t].x+=dx+1,cloud[t].y+=dy,cloud[t].x<-120&&(cloud[t].x=ww+90),cloud[t].x>ww+120&&(cloud[t].x=-30),cloud[t].y<-120&&(cloud[t].y=wh+90),cloud[t].y>wh+120&&(cloud[t].y=-30),cloud[t].draw();windSmesh+=dx,ctx.fillStyle="#FFD700",ctx.font="bold 20px sans-serif",ctx.fillText("Elevation:"+Math.floor(.1*(y+wh/1.5+4))+" m",ww-200,20),ctx.fillStyle="#7CFC00",ctx.font="bold 30px algerian",ctx.fillText("score "+exp,ww-200,50),myAirplane.x=ww/2,myAirplane.y=wh/2,drawTarget(mouse_x,mouse_y),crashed||myAirplane.draw(dir_to_mouse,moveVector,t,"white",12,-1,32),elapsed=performance.now()-ts,ts=performance.now(),requestAnimationFrame(animate)}let r=230,g=120,b=10,r_c=-1,b_c=1,g_c=1;function lose(){if(ww=window.innerWidth,wh=window.innerHeight,canvas.width=canvas.style.width=ww,canvas.height=canvas.style.height=wh+1,ctx.fillStyle="#AAFFBB",ctx.fillRect(0,0,ww,wh),ctx.fillStyle="#88CC99",ctx.fillRect(ww/3,wh/5*1-50,ww/3,wh/5*3+100),ctx.fillStyle="#191970",ctx.font="bold 50px arial black",ctx.fillText("You are lose",ww/2-175,wh/2-180),ctx.fillStyle="#FFD700",ctx.font="bold 30px fantasy",ctx.fillText("SCORE",ww/2-60,wh/2-100),r>254&&(r_c=-4),r<60&&(r_c=4),r+=r_c,b>170&&(b_c=-4),b<1&&(b_c=4),b+=b_c,g>220&&(g_c=-4),g<40&&(g_c=4),g+=g_c,ctx.fillStyle="rgb("+r+","+g+","+b+")",ctx.font="bold 120px fantasy",ctx.fillText(exp,ww/2-30*Math.floor(Math.log10(Math.abs(exp)))-50,wh/11*6),mouse_x>ww/2-200&&mouse_x<ww/2+200&&mouse_y>wh/10*7-50&&mouse_y<wh/10*7+50){if(buttonActived?(ctx.fillStyle="#D0FFFF",ctx.fillRect(ww/2-200,wh/10*7-50,400,100),ctx.fillStyle="#FFD700",ctx.font="bold 60px algerian",ctx.fillText("RESTART",ww/2-140,wh/10*7+20)):(ctx.fillStyle="#A0CCCC",ctx.fillRect(ww/2-200,wh/10*7-50,400,100),ctx.fillStyle="#FF8C00",ctx.font="bold 60px algerian",ctx.fillText("RESTART",ww/2-140,wh/10*7+20)),leftClick&&buttonActived){mouse_x=0,mouse_y=0,xold=0,yold=0,dir_to_mouse=0,speed=32,dx=1,x=0,y=2e4,kCode=0,kCodeUp=0,keyPress=[],moveVector=0,windSmesh=0,crashed=!1,vx=0,vy=0,bullets=[],leftClick=!1,cloud=[],strikeEnabled=!0,strikeCount=0,rocket=[],warplane=[],ts=performance.now(),wwh=0,whh=0,elapsed=0,exp=0,ww=window.innerWidth,wh=window.innerHeight,canvas.style.position="fixed",canvas.style.top=canvas.style.left="0",planei=new Image,planei.src="plane.png",myAirplane=new Airplane(wwh,whh,50,64,planei,bumi);for(let t=0;t<64;t++){let e=cloud.length;cloud.push(new Cloud(t%8*300+256*(Math.random()-.5),300*Math.floor(t/8)+256*(Math.random()-.5),25+20*(Math.random()-.5))),(cloud[e].x<-120||cloud[e].x>ww+120||cloud[e].y<-120||cloud[e].y>wh+120)&&cloud.splice(e,1)}return buttonActived=!1,setTimeout(animate(),50),void setTimeout(gen_new_plane(),50)}}else ctx.fillStyle="#B0E0E6",ctx.fillRect(ww/2-200,wh/10*7-50,400,100),ctx.fillStyle="#90C0C6",ctx.font="bold 60px algerian",ctx.fillText("RESTART",ww/2-140,wh/10*7+20);drawTarget(mouse_x,mouse_y),requestAnimationFrame(lose)}function menu(){if(ww=window.innerWidth,wh=window.innerHeight,canvas.width=canvas.style.width=ww,canvas.height=canvas.style.height=wh+1,ctx.fillStyle="#AAFFBB",ctx.fillRect(0,0,ww,wh),ctx.fillStyle="#88CC99",ctx.fillRect(ww/2-300,wh/5*1-50,600,600),ctx.fillStyle="#191970",ctx.font="bold 60px matura mt script capitals",ctx.fillText("Fighter planes",ww/2-220,wh/10*2+20),mouse_x>ww/2-200&&mouse_x<ww/2+200&&mouse_y>wh/10*5-50&&mouse_y<wh/10*5+50){if(ctx.fillStyle="#D0FFFF",ctx.fillRect(ww/2-200,wh/10*5-50,400,100),ctx.fillStyle="#FFD700",ctx.font="bold 60px algerian",ctx.fillText("START",ww/2-100,wh/10*5+20),leftClick&&buttonActived){mouse_x=0,mouse_y=0,xold=0,yold=0,dir_to_mouse=0,speed=32,dx=1,x=0,y=2e4,kCode=0,kCodeUp=0,keyPress=[],moveVector=0,windSmesh=0,crashed=!1,vx=0,vy=0,bullets=[],leftClick=!1,cloud=[],strikeEnabled=!0,strikeCount=0,rocket=[],warplane=[],ts=performance.now(),wwh=0,whh=0,elapsed=0,exp=0,ww=window.innerWidth,wh=window.innerHeight,canvas.style.position="fixed",canvas.style.top=canvas.style.left="0",planei=new Image,planei.src="plane.png",myAirplane=new Airplane(wwh,whh,50,64,planei,bumi);for(let t=0;t<64;t++){let e=cloud.length;cloud.push(new Cloud(t%8*300+256*(Math.random()-.5),300*Math.floor(t/8)+256*(Math.random()-.5),25+20*(Math.random()-.5))),(cloud[e].x<-120||cloud[e].x>ww+120||cloud[e].y<-120||cloud[e].y>wh+120)&&cloud.splice(e,1)}return buttonActived=!1,setTimeout(animate(),50),void setTimeout(gen_new_plane(),50)}}else ctx.fillStyle="#B0E0E6",ctx.fillRect(ww/2-200,wh/10*5-50,400,100),ctx.fillStyle="#90C0C6",ctx.font="bold 60px algerian",ctx.fillText("START",ww/2-100,wh/10*5+20);drawTarget(mouse_x,mouse_y),requestAnimationFrame(menu)}document.onmousemove=function(t){null!=document.attachEvent?(mouse_x=window.event.clientX,mouse_y=window.event.clientY):!document.attachEvent&&document.addEventListener&&(mouse_x=t.clientX,mouse_y=t.clientY)},document.onmousedown=function(t){1==t.which&&(leftClick=!0)},document.onmouseup=function(t){1==t.which&&(leftClick=!1)},document.oncontextmenu=function(t){return!1},document.onkeydown=function(t){return kCode=window.event?window.event.keyCode:t.keyCode?t.keyCode:t.which?t.which:null,keyPress[kCode]=!0,!1},document.onkeyup=function(t){return kCodeUp=window.event?window.event.keyCode:t.keyCode?t.keyCode:t.which?t.which:null,keyPress[kCodeUp]=!1,!1},window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,16.6)})</script>