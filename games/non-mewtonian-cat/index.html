<!DOCTYPE html><html><head><meta name=viewport content="width=device-width,maximum-scale=1.0,user-scalable=no"><title>Non-mewtonian Cat - js13kGames 2025</title><style>html,body{padding:0;margin:0;width:100%;height:100%;background:#000}#a{width:100%;height:100%;position:relative;user-select:none}canvas{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);image-rendering:-moz-crisp-edges;image-rendering:-webkit-crisp-edges;image-rendering:pixelated;image-rendering:crisp-edges;font-smooth:never;-webkit-font-smoothing:none}</style></head><body><div id="a"><canvas id="c"></canvas></div><script>var e="#ffb42a",t="#fffadc",l="#1e1e27",n="#0c4c45",i="#1c8350",r="#21cd40",a="#4975a9",o="#364374",s="#201e51",d="#190d24",I=(e=0,t=1)=>t+(e-t)*Math.random(),f=(e,t)=>Math.round(I(e,t)),h=(e,t,l,n,i,r)=>e>l&&t>n&&e<l+i&&t<n+r,c=(e,t,l)=>e+(t-e)*l,p=e=>e*(2-e),y=e=>1-Math.abs(2*e-1),g={x:0,y:0},x=[[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,7,0,0,0,0],[10,10,9,0,0,3,0,0,5,0],[2,3,3,2,1,4,2,3,2,2],[4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4]],[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,7,0,6,0,0,0],[0,0,0,0,2,0,0,0,0,0],[10,9,0,2,0,0,0,0,0,0],[1,3,3,4,1,6,1,0,5,0],[4,4,4,4,4,4,4,3,1,2],[4,4,4,4,4,4,4,4,4,4]],[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,0,6,0,0,0],[0,0,0,0,2,0,0,0,0,0],[10,9,0,0,7,0,3,0,0,0],[1,3,3,2,1,6,0,0,6,2],[4,4,4,4,4,4,2,3,4,4],[4,4,4,4,4,4,4,4,4,4]],[[0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,7,0,0,0],[0,0,0,0,0,0,0,1,6,0,0],[10,9,5,0,7,7,0,0,0,6,0],[2,3,3,2,1,2,2,0,7,1,0],[4,4,4,4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4,4,4,4]],[[0,0,0,0,0,0,0,0,0],[0,0,2,7,0,0,7,0,0],[0,0,4,0,0,0,2,0,0],[10,10,9,0,0,0,0,0,5],[0,2,3,3,0,0,2,0,0],[0,0,0,4,6,0,0,0,0],[0,0,0,4,4,2,2,0,0]],[[0,0,0,0,0],[0,0,0,0,0],[0,10,0,7,6],[0,10,0,2,0],[5,9,7,0,0],[2,3,6,2,6]],[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,7,0,0],[0,0,0,6,2,0,0],[0,7,0,7,6,0,0],[0,2,0,0,0,0,0],[10,10,9,0,6,0,0],[2,3,3,0,0,2,3],[0,0,0,0,5,0,0]],[[0,0,0,0,0,0,0,0,8,0],[0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,2,0,4],[10,10,9,0,0,7,6,0,0,4],[2,3,3,2,1,2,2,3,4,4]],[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,7],[0,0,0,0,0,8,0,0,2],[10,10,9,8,0,5,8,2,0],[2,3,3,2,1,2,2,3,4]]],b=new Path2D("M 70.2 9.1 l 5.7 -5.9 C 67.9 -2.8 50.4 0.4 42.8 6 c -3.7 -1.1 -7.4 -1.2 -11.1 -1 c -9 0.4 -1.5 7.8 1.4 10.8 c -2.4 3.9 -4.6 7.9 -6.7 12.1 c -1.6 4.4 -5 6 -9.8 5.5 l -5.3 -1.1 c -2.8 -0.6 -12.8 -3.4 -11.1 2.4 c 1.7 3.8 6 7.1 10.5 10.3 c 0.4 2.6 1 5.2 1.8 7.9 c 2.1 7.6 5.4 7.5 7.6 0.4 l 3.1 -9.7 c 0.9 -3.5 2.9 -5 5.5 -5.3 c 7.8 -0.7 14.2 2.1 24.7 -1.2 c 0.5 2.7 1.2 5.4 2.2 8 c 1.1 1.9 2.7 2.1 4.9 -0.3 c 2.2 -3.8 3.7 -8.1 4.4 -12.8 c 7.8 -8.1 13.3 -19.4 12.5 -26.1 L 70.2 9.1 L 70.2 9.1 z z"),u=new Path2D("M 42 86 C 17 85 7 19 54 17 C 101 15 85 89 50 65 C 37 57 48 34 61 40"),M=new Path2D("M 0 0 L 10 10 L 50 10 L 60 0 L 60 60 C 60 60 60 70 50 70 L 10 70 C 0 70 0 60 0 60 L 0 0"),m=new Image;m.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIwIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDcyMCAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgo8cmVjdCB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjE0NCIgeD0iMCIgeT0iMCIgZmlsbD0iI2MzNjY0ZSIvPgo8cmVjdCB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjI5IiB4PSIwIiB5PSIwIiBmaWxsPSIjMDBkOThiIi8+CjxjaXJjbGUgY3g9IjEwNSIgY3k9IjcwIiByPSIxMiIgZmlsbD0iI2FjNTU0MSIvPgo8Y2lyY2xlIGN4PSI0MCIgY3k9IjEwMCIgcj0iOCIgZmlsbD0iI2FjNTU0MSIvPgoKPHJlY3Qgd2lkdGg9IjE0NCIgaGVpZ2h0PSIxNDQiIHg9IjE0NCIgeT0iMCIgZmlsbD0iI2MzNjY0ZSIvPgo8cmVjdCB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjI5IiB4PSIxNDQiIHk9IjAiIGZpbGw9IiMwMGQ5OGIiLz4KPGNpcmNsZSBjeD0iMjQwIiBjeT0iMjkiIHI9IjEyIiBmaWxsPSIjMDBkOThiIi8+CjxjaXJjbGUgY3g9IjE5MiIgY3k9IjY0IiByPSI4IiBmaWxsPSIjYWM1NTQxIi8+Cgo8cmVjdCB3aWR0aD0iMTQ0IiBoZWlnaHQ9IjE0NCIgeD0iMjg4IiB5PSIwIiBmaWxsPSIjYzM2NjRlIi8+CjxyZWN0IHdpZHRoPSIxNDQiIGhlaWdodD0iMjkiIHg9IjI4OCIgeT0iMCIgZmlsbD0iIzAwZDk4YiIvPgo8Y2lyY2xlIGN4PSIzMzYiIGN5PSIyOSIgcj0iMTIiIGZpbGw9IiMwMGQ5OGIiLz4KPGNpcmNsZSBjeD0iMzg0IiBjeT0iMjkiIHI9IjgiIGZpbGw9IiMwMGQ5OGIiLz4KCjxwYXRoIGQ9Ik00ODQgNDhsMTYtMzJhNSA1IDAgMCAxIDggMGwxNiAzMi00MCAwIiBmaWxsPSIjYzViZGI2IiBzdHJva2U9IiMwMDAwMDAiIC8+CjxwYXRoIGQ9Ik00ODQgOTZsMTYgMzJhNSA1IDAgMCAwIDggMGwxNi0zMi00MCAwIiBmaWxsPSIjYzViZGI2IiBzdHJva2U9IiMwMDAwMDAiIC8+CjxwYXRoIGQ9Ik01MjggNTJsMzIgMTZhNSA1IDAgMCAxIDAgOGwtMzIgMTYgMC00MCIgZmlsbD0iI2M1YmRiNiIgc3Ryb2tlPSIjMDAwMDAwIiAvPgo8cGF0aCBkPSJNNDgwIDUybC0zMiAxNmE1IDUgMCAwIDAgMCA4bDMyIDE2IDAtNDAiIGZpbGw9IiNjNWJkYjYiIHN0cm9rZT0iIzAwMDAwMCIgLz4KPHBhdGggZD0iTTQ4MCA0OGw0OCAwIDAgNDgtNDggMCAwLTQ4IDQ4IDQ4bTAtNDgtNDggNDgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNjMzY2NGUiIHN0cm9rZT0iI2FjNTU0MSIgc3Ryb2tlLXdpZHRoPSIxMCIgLz4KCjxyZWN0IHdpZHRoPSIxNDQiIGhlaWdodD0iMTQ0IiB4PSI1NzYiIHk9IjAiIGZpbGw9IiNjMzY2NGUiIC8+CjxjaXJjbGUgY3g9IjYxMCIgY3k9IjY5IiByPSIxMiIgZmlsbD0iI2FjNTU0MSIgLz4KPGNpcmNsZSBjeD0iNjc1IiBjeT0iMTA2IiByPSI4IiBmaWxsPSIjYWM1NTQxIiAvPgo8L3N2Zz4K";var w,A,S,P,C,N,D,k,j,T,v,G,z,B,Y,Z,W,R,L,Q,H,O,E,F,J,U=600,K=(e=30,t=100)=>({x:new Float32Array(t),y:new Float32Array(t),vx:new Float32Array(t),vy:new Float32Array(t),life:new Float32Array(t),maxLife:new Float32Array(t),alive:new Array(t).fill(!1),maxParticles:t,particleCount:0,particleSize:e}),X=e=>{for(let t=0;t<e.maxParticles;t++)if(!e.alive[t])return t;return-1},V=(e,t,l,n=4)=>{let i=100*t+50,r=100*l+50;for(let t=0;t<n;t++){let t=X(e);if(-1===t)break;let l=I(0,2*Math.PI),n=I(.05,.1);e.x[t]=i,e.y[t]=r,e.vx[t]=Math.cos(l)*n,e.vy[t]=Math.sin(l)*n,e.life[t]=U,e.maxLife[t]=U,e.alive[t]=!0,t>=e.particleCount&&(e.particleCount=t+1)}},q=(e,t)=>{for(let l=0;l<e.particleCount;l++)e.alive[l]&&(e.x[l]+=e.vx[l]*t,e.y[l]+=e.vy[l]*t,e.life[l]-=t,e.life[l]<=0&&(e.alive[l]=!1))},$=(e,t)=>{for(let l=0;l<e.particleCount;l++){if(!e.alive[l])continue;let n=e.life[l]/e.maxLife[l],i=e.particleSize+20*(1-n);t.globalAlpha=n,t.beginPath(),t.arc(e.x[l]-g.x,e.y[l]-g.y,i,0,2*Math.PI),t.closePath(),t.fill()}t.globalAlpha=1},_=[],ee=[],te=[],le=[],ne=0,ie=K(1,10),re=null,ae=0,oe=(e,t)=>{if(t<0||t>=ee.length||e<0||e>=ee[0].length)return!1;let l=ee[t][e];return 1===l||2===l||3===l||4===l},se=(e,t)=>t<0||t>=ee.length||e<0||e>=ee[0].length?t>10:6===ee[t][e],de=(e,t)=>te.some(l=>l.x===e&&l.y===t),Ie=(e,t)=>le.some(l=>l.x===e&&l.y===t),fe=()=>0===te.length&&0===le.length,he=(e,t)=>({duration:e,elapsed:0,isActive:!1,onComplete:t}),ce=e=>{e.isActive=!0,e.elapsed=0},pe=(e,t)=>!!e.isActive&&(e.elapsed+=t,e.elapsed>=e.duration&&(e.isActive=!1,e.onComplete?.(),!0)),ye=(e,t)=>{ce(e),t&&(e.duration=t)},ge=e=>e.isActive,xe=!1,be=0,ue=0,Me=!1,me="#fff",we=he(900),Ae=(e,t,l,n,i)=>{xe=!0,be=e,ue=t,Me=l,me=n,ce(we),w=i},Se=[],Pe="ziwhuzdeflciqozuen",Ce=()=>{let e=localStorage.getItem(Pe),t={completedLevels:[]};try{t=JSON.parse(e)||{},void 0===t.completedLevels&&(t.completedLevels=[])}finally{return t}},Ne=Ce(),De=()=>new Set(Ne.completedLevels||[]),ke=e=>0===e||De().has(e-1),je=[11025,[[[7,0,0,1,147,0,7,0,0,1,255,0,0,50,150,4800,61,2,600,254],[0,1,1,1,1,1,2,2,2,0,2,0,0,0,1,2,2],[[135,0,0,0,135,135,0,0,135,0,0,0,135,135,0,0,135,0,0,0,135,135,0,0,135,0,0,0,135,0,135],[135,0,0,0,135,0,135,135,0,0,135,0,135,0,0,0,135,0,0,135,135,0,135,0,135,0,0,135,135]]],[[8,0,0,0,0,0,8,0,0,0,0,0,60,50,419,4607,130,1,10332,120,4,16,5,108,0,0,5,187],[1,0,1,1,0,0,2,1,2,2,2,1,1,1,0,1,1,0,1],[[0,0,0,135,0,0,0,0,0,0,135,135,0,0,0,0,0,0,0,135,0,0,0,0,0,0,135,135],[150,0,0,0,135,0,150,150,0,0,135,0,150,0,150,0,135,135,0,0,150,0,135,0,150,0,135,135]]],[[8,0,0,1,82,2,8,0,0,0,0,0,255,100,0,9090,232,3,5200,63],[1,1,1,1,0,0,0,1,2,2,2,1,2,2,1,2,2],[[0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,135,0,0,0,0,0,0,0,135],[0,0,0,0,0,0,0,148,135,135,135,0,0,0,148,0,135,0,0,0,148,0,135,135,135,0,0,0,148,135]]],[[7,0,0,0,43,1,3,1,44,1,145,3,17,0,842,9283,76,2,730,233,2,68,7,155,0,1,9,243],[1,1,1,1,1,1,1,2,1,1,2,1,1,2,2,2,2,1,1],[[141,0,0,0,0,0,0,0,139,0,0,0,0,0,0,138,141,0,0,0,0,0,141,0,139],[141,139,141,139,0,139,141,0,141,0,139,139,0,0,0,138,141,139,138,141,0,0,141,0,139,139]]],[[7,0,0,0,192,2,8,0,0,0,66,1,0,1318,150,0,139,2,5434,108,0,90,1,27,1,1,6,11,3],[0,0,0,0,1,1,2,2,1,1,3,0,0,2,2,3,3],[[148,0,0,139,0,145,0,139,0,145,0,148,0,0,0,0,139,148,0,139,0,145,0,148,143,139,148],[139,0,0,0,139,0,146,0,148,151,0,0,0,0,139,0,146,0,139,148,150,151,0,150,0,148,0,145,0,139,145],[145,145,151,0,148,0,150,0,148,139,150,0,0,0,0,0,145,145,151,0,148,0,150,0,150,138]]]]],Te=[7,0,0,1,197,0,15,0,0,0,0,0,0,226,842,0,158,0,0,0,0,0,0,0,0,1],ve=[8,0,0,0,0,0,8,0,0,0,0,0,255,301,2934,4962,220,3,1407,16,2,0,1,27,0,1,2,51],Ge=[6,0,0,1,255,1,0,0,0,0,0,0,0,763,1551,1808,98,0,37,16,2,45,1,27,0,0,2],ze=[0,0,0,1,255,1,0,0,0,0,0,0,231,38,1431,4701,98,0,37,16,2,0,1,27,0,0,2],Be=[9,0,0,1,255,0,0,0,0,0,0,0,10,0,3324,12404,131,0,37,16,2,0,1,27,0,0,2],Ye=[8,0,0,1,255,3,0,0,0,0,0,0,0,15017,301,194,102,0,12,16,2,133,1,27,0,0,2],Ze=[8,0,0,1,255,3,0,0,0,0,0,0,0,4,3532,10113,102,0,12,16,1,133,1,27,0,0,2],We=[6,0,0,0,255,3,9,0,0,0,66,0,5,62,22729,7066,102,0,0,74,6,140,8,107,1,0,12,118,1],Re=(e,t,l)=>(e&&(e.stop(),e.disconnect()),(e=S.createBufferSource()).buffer=t,e.connect(S.destination),l&&(e.loop=!0),e.start(),e.context.state,e.onended=()=>{e?.disconnect(),e=void 0},e),Le={x:0,y:0},Qe=e=>{Le.x+=.05*e,Le.y+=.03*e},He=e=>{e.fillStyle=l,e.fillRect(0,0,1920,1080);let t=Le.x%170,r=Le.y%170;for(let l=-t;l<2090;l+=170)for(let t=-r;t<1250;t+=170)e.fillStyle=n,e.translate(l,t),e.fill(M),e.translate(-15,-15),e.fillStyle=i,e.fill(M),e.setTransform(1,0,0,1,0,0)},Oe=200,Ee=Math.floor(7.28),Fe=0,Je=[],Ue=-1,Ke=e=>{Fe=e,Ae(960,540,!1,s,()=>{At(e),Nt(2)})},Xe=e=>{Fe!==e&&(Fe=e,Y=Re(Y,C))},Ve=(e,t)=>{for(let l=0;l<x.length;l++){let n=l%Ee,i=Math.floor(l/Ee);if(h(e,t,120+250*n,150+250*i,Oe,Oe))return l}return-1},qe=[{x:0,y:0,dx:0,dy:0}],$e=he(900),_e=he(2e3),et=he(4e3),tt=!1,lt=!1,nt=!1,it=!1,rt=0,at=0,ot=1,st=0,dt=0,It=et.duration,ft={x:0,y:0},ht=()=>{let e=Se.length>0?Se.pop():null;e&&(qe=e.playerRects.map(e=>({...e,dx:0,dy:0})),((e,t,l)=>{te=[...e],_=[...t],le=[...l]})(e.growItems,e.renderables,e.shrinkItems))},ct=()=>{qe.forEach(e=>{se(e.x,e.y)&&V(J,e.x,e.y)}),Q=Re(Q,T),$e.onComplete=()=>ht(),ce($e)},pt=(e,t)=>{tt=!0,rt=0,qe[0].dx=e,qe[0].dy=t;for(let e=1;e<qe.length;e++){let t=qe[e],l=qe[e-1];t.dx=l.x-t.x,t.dy=l.y-t.y}},yt=(e,t)=>{let l=qe[0],n=l.x+e,i=l.y+t;oe(n,i)||((e,t)=>qe.some(l=>l.x===e&&l.y===t))(n,i)?(nt=!0,at=0,ft={x:e,y:t},R=Re(R,k)):(((e,t,l,n)=>{let i={playerRects:e.map(e=>({x:e.x,y:e.y})),growItems:[...l],renderables:[...t],shrinkItems:[...n]};Se.push(i)})(qe.map(e=>({x:e.x,y:e.y})),_,te,le),de(n,i)?(((e,t)=>{let l=te.findIndex(l=>l.x===e&&l.y===t),n=_.findIndex(l=>l.x===100*e&&l.y===100*t);-1!==l&&te.splice(l,1),-1!==n&&_.splice(n,1)})(n,i),V(J,n,i),((e,t)=>{let l=qe[0];qe.unshift({x:l.x,y:l.y,dx:e,dy:t}),H=Re(H,v),tt=!0})(e,t)):Ie(n,i)?(((e,t)=>{let l=le.findIndex(l=>l.x===e&&l.y===t),n=_.findIndex(l=>l.x===100*e&&l.y===100*t);-1!==l&&le.splice(l,1),-1!==n&&_.splice(n,1)})(n,i),V(J,n,i),((e,t)=>{qe.length<=1?ct():(O=Re(O,G),qe.pop(),pt(e,t))})(e,t)):(pt(e,t),W=Re(W,D)))},gt=42,xt=()=>(gt=(9301*gt+49297)%233280)/233280,bt=[],ut=(e,l,n,i)=>{e.beginPath();for(let t of l.bubbles){let r=n+t.relativeX*l.size,a=i+t.relativeY*l.size,o=l.size*t.size;e.moveTo(r+o,a),e.arc(r,a,o,0,2*Math.PI)}e.fillStyle=t,e.globalAlpha=l.alpha,e.fill(),e.globalAlpha=1},Mt=0,mt=x[0],wt=0,At=e=>{wt=0,(e=>{_=[],ee=e,te=[],le=[],ne=0,re=null;for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++){let n=e[t][l];(1===n||2===n||3===n||4===n||5===n||6===n||7===n||8===n)&&(_.push({x:100*l,y:100*t,type:n}),7===n?te.push({x:l,y:t}):8===n?le.push({x:l,y:t}):5===n&&(re={x:l,y:t}))}})(mt=x[Mt=e]),(()=>{gt=42,bt.length=0;for(let e=0;e<8;e++){let e=20+30*xt(),t=5+Math.floor(3*xt()),l=[];for(let e=0;e<t;e++)l.push({relativeX:1.5*(xt()-.5),relativeY:.8*(xt()-.5),size:.3+.4*xt()});bt.push({x:2120*xt()-100,baseY:1080*xt()*.6,size:e,speed:10+20*xt(),phase:I(0,2*Math.PI),alpha:I(.1,.7),bubbles:l})}})(),Se=[];let t=100*mt[0].length,l=100*mt.length;g.x=(t-1920)/2,g.y=(l-1080)/2;let n=[];for(let e=0;e<mt.length;e++)for(let t=0;t<mt[e].length;t++){let l=mt[e][t];(9===l||10===l)&&n.unshift({x:t,y:e,dx:0,dy:0})}(e=>{qe=e.map(e=>({...e,dx:0,dy:0})),tt=!1,lt=!1,nt=!1,rt=0,at=0,ot=1,st=0,dt=0,J=K(),ce(_e),ce(et),Ae(960,540,!0,s)})(n)},St=l=>{((e,t=0)=>{let l=e.createLinearGradient(0,0,0,1080);l.addColorStop(0,"#6ebed3"),l.addColorStop(1,a),e.fillStyle=l,e.fillRect(0,0,1920,1080);for(let l of bt){let n=l.baseY+3*Math.sin(.5*t+l.phase);ut(e,l,l.x,n)}})(l,wt),(l=>{for(let i of _){let r=i.x-g.x,a=i.y-g.y,o=i.type;if(7===o||8===o){let e=Math.sin(ne);l.translate(r,a+25+e),l.shadowColor=t,l.shadowBlur=10*(.5*Math.sin(ne/2)+.5),l.fillStyle=7===o?n:"#7d2253",l.fill(b),l.setTransform(1,0,0,1,0,0),l.shadowBlur=0}else 5===o?(fe()?l.strokeStyle=e:l.strokeStyle=s,l.lineWidth=10,l.translate(r,a),l.stroke(u),l.setTransform(1,0,0,1,0,0)):6===o?l.drawImage(m,432,0,144,144,r,a,100,100):1===o?l.drawImage(m,0,0,144,144,r,a,100,100):2===o?l.drawImage(m,144,0,144,144,r,a,100,100):3===o?l.drawImage(m,288,0,144,144,r,a,100,100):4===o&&l.drawImage(m,576,0,144,144,r,a,100,100)}fe()&&(l.fillStyle=e,l.lineWidth=1,$(ie,l))})(l),(e=>{if(e.fillStyle=d,$(J,e),ge($e))return;let l=qe[0],n=qe[qe.length-1],i=lt?rt:c(0,1,p(rt)),r=y(i)*l.dx,a=y(st%1),o=nt?10*y(at):0,s=o*ft.x,I=o*ft.y,f=20+2*a+r,h=100*(l.x+l.dx*i)-g.x+s,x=100*(l.y+l.dy*i)-g.y+I;e.beginPath(),e.moveTo(h+50,x+f+50);for(let t=1;t<qe.length;t++){let l=qe[t],n=100*(l.x+l.dx*i)-g.x+50+s,r=100*(l.y+l.dy*i)-g.y+f+50+I;e.lineTo(n,r)}e.lineWidth=60-4*a-2*r,e.lineCap="round",e.lineJoin="round",e.strokeStyle=d,e.stroke(),e.closePath();let b=100*(n.x+n.dx*i)-g.x+(it?60:30)+s,u=40+f+100*(n.y+n.dy*i)-g.y+I,M=dt%1,m=it?b+30*M:b-30*M,w=10*Math.sin(dt*Math.PI);e.lineWidth=10,e.beginPath(),e.moveTo(b,u),e.bezierCurveTo(m,u+w,m,u-w,it?b+30:b-30,u),e.stroke(),e.closePath();let A=h+25,S=x+10+25,P=A+30,C=S+30;e.translate(P,C),e.rotate(.05*Math.PI*r),e.translate(-P,-C),e.lineWidth=10,e.beginPath(),e.roundRect(A,S,60,60,5),e.fillStyle=d,e.fill(),e.moveTo(A,S+5),e.lineTo(A,S-10),e.lineTo(A+27,S+5),e.moveTo(A+60,S+5),e.lineTo(A+60,S-10),e.lineTo(A+33,S+5),e.closePath(),e.stroke(),e.beginPath(),e.ellipse(A+15,S+20,5,7*ot,0,0,2*Math.PI),e.ellipse(A+45,S+20,5,7*ot,0,0,2*Math.PI),e.closePath(),e.fillStyle="lightyellow",e.fill(),e.beginPath(),e.ellipse(A+15+1,S+20+2,2,4,0,0,2*Math.PI),e.ellipse(A+45+1,S+20+2,2,4,0,0,2*Math.PI),e.closePath(),e.fillStyle=d,e.fill(),e.beginPath(),e.arc(A+30,S+30,3,0,2*Math.PI),e.moveTo(A+30,S+30),e.lineTo(A+30,S+40),e.closePath(),e.fillStyle=t,e.strokeStyle=t,e.lineWidth=1,e.fill(),e.stroke(),e.setTransform(1,0,0,1,0,0)})(l),vt(l)},Pt=()=>Mt,Ct=0,Nt=e=>{1===(Ct=e,e)&&(()=>{for(let e=0;e<x.length;e++)Je[e]=1;F=K(16,32),g.x=0,g.y=0,Ae(960,540,!0,s,()=>{if(Ue>=0){let e=Ue%Ee,t=Math.floor(Ue/Ee);((e,t,l,n=8)=>{for(let i=0;i<n;i++){let n=X(e);if(-1===n)break;let i=I(0,2*Math.PI),r=I(.2,.4);e.x[n]=t,e.y[n]=l,e.vx[n]=Math.cos(i)*r,e.vy[n]=Math.sin(i)*r,e.life[n]=U,e.maxLife[n]=U,e.alive[n]=!0,n>=e.particleCount&&(e.particleCount=n+1)}})(F,120+250*e+100,150+250*t+100,32),Ue=-1}})})()},Dt=e=>{switch(Ct){case 0:(e=>{He(e),e.fillStyle="#ffe271",e.beginPath(),e.roundRect(660,470,600,100,20),e.closePath(),e.fill(),e.textAlign="center",e.font="bold 48px Arial",e.strokeStyle=d,e.fillStyle=n,e.strokeText("NON-MEWTONIAN CAT",960,540),e.strokeText("NON-MEWTONIAN CAT",961,541),e.fillText("NON-MEWTONIAN CAT",963,543),e.fillStyle=n,e.font="bold 24px Arial",e.fillText("made by saud",960,990),e.fillText("js13kgames 2025",960,1040)})(e);break;case 1:(e=>{He(e),e.roundRect(80,100,1790,880,25),e.fillStyle="#392c4e",e.fill();let l=De();for(let n=0;n<x.length;n++){let s=120+n%Ee*250,I=150+250*Math.floor(n/Ee),f=l.has(n),h=ke(n),c=Oe*Je[n],p=s-(c-Oe)/2,y=I-(c-Oe)/2;e.fillStyle=h?f?i:a:d,e.beginPath(),e.roundRect(p,y,c,c,8),e.closePath(),e.fill(),e.strokeStyle=h&&f?r:o,e.lineWidth=2,e.beginPath(),e.roundRect(p,y,c,c,8),e.closePath(),e.stroke(),e.fillStyle=h?t:o,e.font="24px Arial",e.textAlign="center",e.fillText((n+1).toString(),p+c/2,y+c/2+8),f&&(e.fillStyle=t,e.font="16px Arial",e.fillText("✓",p+c-10,y+15)),h||(e.fillStyle=o,e.font="20px Arial",e.fillText("🔒",p+c/2,y+c/2-5))}e.fillStyle=r,$(F,e),l.size===x.length&&(e.font="30px Arial",e.textAlign="center",e.fillStyle="#fff4a4",e.fillText("THANK YOU FOR PLAYING!",960,880))})(e);break;case 2:St(e)}(e=>{if(xe){let t=e.canvas,l=p(we.elapsed/we.duration),n=1920*(Me?l:1-l);e.save(),e.beginPath(),e.rect(0,0,t.width,t.height),e.arc(be,ue,n,0,2*Math.PI,!0),e.clip(),e.fillStyle=me,e.fillRect(0,0,t.width,t.height),e.restore()}})(e)},kt=80,jt=[{x:1820,y:980,key:"↶",pressed:!1},{x:1820,y:890,key:"R",pressed:!1}],Tt=[{x:110,y:890,key:"▲",pressed:!1},{x:110,y:980,key:"▼",pressed:!1},{x:20,y:980,key:"◀",pressed:!1},{x:200,y:980,key:"▶",pressed:!1}],vt=e=>{e.font="24px Arial",e.textAlign="center",e.textBaseline="middle",jt.forEach(n=>{e.beginPath(),e.roundRect(n.x,n.y,kt,kt,4),e.closePath(),e.fillStyle=n.pressed?t:l,e.globalAlpha=n.pressed?1:.6,e.fill(),e.fillStyle=t;let i=n.x+40,r=n.y+40;e.fillText(n.key,i,r)}),Gt.hasTouch&&Tt.forEach(n=>{e.beginPath(),e.roundRect(n.x,n.y,kt,kt,4),e.closePath(),e.fillStyle=n.pressed?t:l,e.globalAlpha=n.pressed?1:.6,e.fill(),e.fillStyle=t,e.font="24px Arial",e.textAlign="center",e.textBaseline="middle";let i=n.x+40,r=n.y+40;e.fillText(n.key,i,r)}),e.globalAlpha=1},Gt={hasTouch:!1,ptr:{x:0,y:0},ptrDown:{x:0,y:0},btn:{up:!1,lf:!1,dn:!1,rt:!1,clk:!1,sel:!1,undo:!1,reset:!1},btnp:{up:!1,lf:!1,dn:!1,rt:!1,sel:!1,clk:!1,undo:!1,reset:!1}},zt=document.getElementById("c"),Bt=zt.getContext("2d");innerWidth<innerHeight&&alert("for best experience use landscape mode"),(onresize=()=>{((e,t,l)=>{let n=Math.min(innerWidth/t,innerHeight/l);e.width=t,e.height=l,e.style.width=t*n+"px",e.style.height=l*n+"px"})(zt,1920,1080)})();var Yt=(e=>{let t;Gt.hasTouch="ontouchstart"in window;let l={up:!1,lf:!1,dn:!1,rt:!1,clk:!1,sel:!1,undo:!1,reset:!1},n={up:!1,lf:!1,dn:!1,rt:!1,clk:!1,sel:!1,undo:!1,reset:!1},i=e=>({code:t})=>{switch(t){case"ArrowUp":case"KeyW":l.up=e;break;case"ArrowDown":case"KeyS":l.dn=e;break;case"ArrowLeft":case"KeyA":l.lf=e;break;case"ArrowRight":case"KeyD":l.rt=e;break;case"KeyZ":l.undo=e;break;case"KeyR":l.reset=e;break;case"Space":case"Enter":Gt.btn.sel=e}};return onkeydown=i(!0),onkeyup=i(!1),window.ongamepadconnected=e=>{t=e.gamepad},window.ongamepaddisconnected=()=>{t=void 0},oncontextmenu=e=>{e.preventDefault()},e.onpointerdown=()=>Gt.btn.clk=!0,e.onpointerup=()=>Gt.btn.clk=!1,e.onpointermove=e=>{let t=Math.min(innerWidth/1920,innerHeight/1080);Gt.ptr.x=e.offsetX/t,Gt.ptr.y=e.offsetY/t},Gt.hasTouch&&(e.ontouchstart=e.ontouchmove=e.ontouchend=e.ontouchcancel=t=>{if(t.preventDefault(),Gt.btn.clk){let l=e.getBoundingClientRect(),n=t.touches[0],i=Math.min(innerWidth/1920,innerHeight/1080);Gt.ptr.x=(n.clientX-l.left)/i,Gt.ptr.y=(n.clientY-l.top)/i}}),()=>{Gt.btn.clk&&(Gt.ptrDown={x:Gt.ptr.x,y:Gt.ptr.y}),Gt.btn.up=l.up,Gt.btn.dn=l.dn,Gt.btn.lf=l.lf,Gt.btn.rt=l.rt,Gt.btn.sel=l.sel,Gt.btn.undo=l.undo,Gt.btn.reset=l.reset,2===Ct&&(jt.forEach(e=>{e.pressed=!1,Gt.btn.clk&&h(Gt.ptr.x,Gt.ptr.y,e.x,e.y,kt,kt)&&(e.pressed=!0)}),Gt.hasTouch&&Tt.forEach(e=>{e.pressed=!1,Gt.btn.clk&&h(Gt.ptr.x,Gt.ptr.y,e.x,e.y,kt,kt)&&(e.pressed=!0)})),Gt.btn.up||=Tt[0].pressed,Gt.btn.dn||=Tt[1].pressed,Gt.btn.lf||=Tt[2].pressed,Gt.btn.rt||=Tt[3].pressed,Gt.btn.undo||=jt[0].pressed,Gt.btn.reset||=jt[1].pressed,t&&(Gt.btn.up||=t.buttons[12]?.pressed,Gt.btn.dn||=t.buttons[13]?.pressed,Gt.btn.lf||=t.buttons[14]?.pressed,Gt.btn.rt||=t.buttons[15]?.pressed,Gt.btn.sel||=t.buttons[0]?.pressed,Gt.btn.undo||=t.buttons[1]?.pressed,Gt.btn.reset||=t.buttons[2]?.pressed),Gt.btnp.clk=Gt.btn.clk&&!n.clk,Gt.btnp.up=Gt.btn.up&&!n.up,Gt.btnp.dn=Gt.btn.dn&&!n.dn,Gt.btnp.lf=Gt.btn.lf&&!n.lf,Gt.btnp.rt=Gt.btn.rt&&!n.rt,Gt.btnp.sel=Gt.btn.sel&&!n.sel,Gt.btnp.undo=Gt.btn.undo&&!n.undo,Gt.btnp.reset=Gt.btn.reset&&!n.reset,n.clk=Gt.btn.clk,n.up=Gt.btn.up,n.dn=Gt.btn.dn,n.lf=Gt.btn.lf,n.rt=Gt.btn.rt,n.sel=Gt.btn.sel,n.undo=Gt.btn.undo,n.reset=Gt.btn.reset}})(zt);(()=>{let e=performance.now(),t=0;!function l(n){t=n-e,e=n,t>1e3&&(t=0),(e=>{Yt(),(e=>{switch((e=>{xe&&pe(we,e)&&(xe=!1,w?.())})(e),Ct){case 0:(e=>{Qe(e),(Gt.btnp.sel||Gt.btn.clk)&&(S=new AudioContext,A=(e=>{let t=44100,l=4096,n=l-1,i=new Float32Array(4*l),r=3639956645,a=(e,a,o,s,d=0,I=0,f=0,h=0,c=0,p=0,y=0,g=0,x=0,b=0,u=0,M=0,m=0,w=0,A=0,S=0,P=0,C=0,N=0,D=0,k=0,j=0,T=0,v=0,G=0,z=0,B=0,Y=0,Z=0,W=0)=>{let R=.00392156862745098,L=W*l,Q=y*l,H=m*l,O=Math.pow(2,v-8)/e,E=G/512,F=.5/t*l,J=Z/512,U=Math.pow(2,Y-8)/e*l,K=0,X=0,V=k*R,q=4.6566e-10*w,$=0,_=0,ee=0,te=1/A,le=1/P,ne=.00390625*Math.pow(1.059463094,a+12*(I-8)+f-128)*(1+8e-4*h),ie=.00390625*Math.pow(1.059463094,a+12*(g-8)+x-128)*(1+8e-4*b);for(let e=A+S+P-1;e>=0;--e){let t,a=e+d,I=i[L+(a*U&n)]*J+.5,f=0,h=D,y=1;e<A?y=e*te:e>=A+S&&(y-=(e-A-S)*le),t=ne,z&&(t*=I),c&&(t*=y*y),K+=t,f+=i[Q+(K*l&n)]*p,t=ie,u&&(t*=y*y),X+=t,f+=i[H+(X*l&n)]*M,w&&(r^=r<<13,r^=r>>17,r^=r<<5,f+=r*q*y),f*=y*R,N&&(B&&(h*=I),h=1.5*i[h*F&n],$+=h*_,ee=V*(f-_)-$,_+=h*ee,f=[f,ee,$,_,$+ee][N]),t=i[a*O*l&n]*E+.5,f*=.00238*C,o[a]+=f*(1-t),s[a]+=f*t}},o=e=>{for(let t=0;t<e.length;t++)e[t]=Array.isArray(e[t])?o(e[t]):e[t]??0;return e},s=(e,t)=>{let l=e[20]*t>>1,n=e[21]/255,i=Math.ceil(Math.log(.1)/Math.log(n));return e[13]+e[14]+e[15]+i*l},d=(e,t,l,n,i)=>{if(!i[21])return;let r=i[20]*n>>1,a=i[21]/255,o=e.length-r;for(let n=l,i=l+r;n<o;n++,i++)e[i]+=t[n]*a,t[i]+=e[n]*a};for(let e=0;e<l;e++)i[e]=Math.sin(6.283184*e/l),i[e+l]=i[e]<0?-1:1,i[e+2*l]=e/l-.5,i[e+3*l]=e<l/2?e/(l/4)-1:3-e/(l/4);return{sound:(l,n=147,i=5513)=>{l=o(l);let r=s(l,i),I=e.createBuffer(2,r,t),f=I.getChannelData(0),h=I.getChannelData(1);return a(i,n,f,h,0,...l),d(f,h,0,i,l),I},song:l=>{let n=(l=o(l))[0],i=l[1],r=0;for(let e of i){let t=e[1].length*n*32+s(e[0],n);t>r&&(r=t)}let I=e.createBuffer(2,r,t),f=I.getChannelData(0),h=I.getChannelData(1),c=new Float32Array(r),p=new Float32Array(r);for(let e of i){let t=e[0],l=e[1],i=0,o=r;c.fill(0),p.fill(0);for(let r of l)for(let l=0;l<32;l++){let s=e[2][r-1]?.[l];s&&(o=Math.min(o,i),a(n,s,c,p,i,...t)),i+=n}d(c,p,o,n,t);for(let e=o;e<r;e++)f[e]+=c[e],h[e]+=p[e]}return I}}})(S),P=A.song(je),C=A.sound(Te,142),N=A.sound(Te),D=A.sound(ve),k=A.sound(Ge),j=A.sound(ze),T=A.sound(Be),v=A.sound(Ye),G=A.sound(Ze),z=A.sound(We),B=Re(B,P,!0),Ae(960,540,!1,s,()=>{Nt(1)}))})(e);break;case 1:(e=>{if(Qe(e),q(F,e),Gt.btnp.lf){let e=Fe-1;for(;e>=0&&!ke(e);)e--;e>=0&&Xe(e)}if(Gt.btnp.rt){let e=Fe+1;for(;e<x.length&&!ke(e);)e++;e<x.length&&Xe(e)}if(Gt.btnp.up){let e=Fe-Ee;for(;e>=0&&!ke(e);)e-=Ee;e>=0&&Xe(e)}if(Gt.btnp.dn){let e=Fe+Ee;for(;e<x.length&&!ke(e);)e+=Ee;e<x.length&&Xe(e)}if(Gt.btnp.sel&&ke(Fe)&&Ke(Fe),Gt.btn.clk){let e=Ve(Gt.ptr.x,Gt.ptr.y);e>=0&&e<x.length&&ke(e)&&(Ke(e),Z=Re(Z,N))}let t=Ve(Gt.ptr.x,Gt.ptr.y);t>=0&&ke(t)&&Xe(t);for(let e=0;e<x.length;e++){let t=e===Fe&&ke(e)?1.1:1;Je[e]=c(Je[e],t,.15)}})(e);break;case 2:(e=>{wt+=e/1e3,(e=>{for(let t of bt)t.x+=t.speed*e,t.x>2020&&(t.x=-100)})(e/1e3),(e=>{ae+=1,ne+=.005*e,q(ie,e),fe()&&re&&ae%20==0&&V(ie,re.x,re.y,2)})(e),(e=>{if(xe||(q(J,e),pe($e,e),ge($e)))return;st+=e/3e3,dt+=e/It,pe(_e,e)&&(ye(_e,f(500,7e3)),ot=0),ot<1?ot+=.01*e:ot=1,pe(et,e)&&(ye(et,f(200,5e3)),It=et.duration),nt&&(at+=.01*e)>=1&&(nt=!1,at=0);let t=tt||lt;if(t||(Gt.btnp.up?yt(0,-1):Gt.btnp.dn?yt(0,1):Gt.btnp.lf?yt(-1,0):Gt.btnp.rt?yt(1,0):Gt.btnp.undo?ht():Gt.btnp.reset&&Ae(960,540,!1,s,()=>{At(Pt())})),t&&(rt+=lt?.008*e:.005*e)>=1){rt=0,tt=!1,it=qe[qe.length-1].dx<0;for(let e=0;e<qe.length;e++){let t=qe[e];t.x+=t.dx,t.y+=t.dy,t.dx=0,t.dy=0}if(qe.every(e=>!oe(e.x,e.y+1)&&!de(e.x,e.y+1)&&!Ie(e.x,e.y+1))?(qe.forEach(e=>e.dy=1),lt=!0,tt=!0):lt&&(L=Re(L,j),lt=!1),(()=>{return e=qe[0].x,!((t=qe[0].y)<0||t>=ee.length||e<0||e>=ee[0].length)&&5===ee[t][e]&&fe();var e,t})()){let e=Pt();E=Re(E,z),(e=>{let t=Ne.completedLevels||[];t.includes(e)||(t.push(e),(e=>{localStorage.setItem(Pe,JSON.stringify(e)),Ne=Ce()})({completedLevels:t}))})(e),(e=>{Ue=e})(e);let t=qe[0];Ae(100*t.x-g.x+50,100*t.y-g.y+50,!1,s,()=>{Nt(1)})}qe.some(e=>se(e.x,e.y))&&ct()}})(e)})(e)}})(e)})(t),Bt.fillStyle=d,Bt.fillRect(0,0,1920,1080),Dt(Bt),requestAnimationFrame(l)}(e)})()</script></body></html>