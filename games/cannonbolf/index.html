<title>CannonBolf - js13kGames 2023</title><canvas id=CC style=image-rendering:pixelated></canvas><canvas id=C2></canvas><script>let P=CC.getContext("webgl",{antialias:!1,premultipliedAlpha:!1,alpha:!1});for(var g in P)P[g[1]+g[6]+[g[13]]]=P[g];let e,t,x,C,A,U,k,z=a=>a.map(a=>-a),I=(a,t)=>a.map((a,e)=>a+t[e]),y=(a,t)=>a.map((a,e)=>a-t[e]),u=a=>{var t=k;return a.map((a,e)=>a*t[e])},b=(a,t,r)=>a.map((a,e)=>a+r*t[e]),c=()=>{var t=[0,0,0];return x.map((a,e)=>Math.max(a,t[e]))},W=(a,t,r)=>a.map((a,e)=>a+r*(t[e]-a)),q=(a,e,t)=>((a+=((e-=a)>Math.PI?e-2*Math.PI:e<-Math.PI?e+2*Math.PI:e)*t)<0&&(a+=2*Math.PI),2*Math.PI<a&&(a-=2*Math.PI),a),$=([a,e,t],[r,o,i])=>a*r+e*o+t*i,J=([a,e,t],[r,o,i])=>[e*i-t*o,t*r-a*i,a*o-e*r],K=a=>b([0,0,0],a,1/(Math.sqrt($(a,a))||1)),V=(a,e,t,r)=>{var o=-1/((h=Math.sign(e[2])||1)+e[2]),i=e[0]*e[1]*o,n=[1+h*e[0]*e[0]*o,h*i,-h*e[0]],h=[i,h+e[1]*e[1]*o,-e[1]],o=r*$(a,n);return r*=$(a,h),i=b([0,0,0],e,-t*$(a,e)),i=b(i,n,o),b(i,h,r)},_=a=>(e=Math.cos(a),t=Math.sin(a),[1,0,0,0,0,e,t,0,0,-t,e,0,0,0,0,1]),D=a=>(e=Math.cos(a),t=Math.sin(a),[e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1]),Y=a=>(e=Math.cos(a),t=Math.sin(a),[e,t,0,0,-t,e,0,0,0,0,1,0,0,0,0,1]),G=a=>[a,0,0,0,0,a,0,0,0,0,a,0,0,0,0,1],X=([a,e,t])=>[1,0,0,0,0,1,0,0,0,0,1,0,a,e,t,1],Z=([a,e,t],r)=>{var o=Math.sin(r),i=1-(r=Math.cos(r));return[a*a*i+r,e*a*i+t*o,t*a*i-e*o,0,a*e*i-t*o,e*e*i+r,t*e*i+a*o,0,a*t*i+e*o,e*t*i-a*o,t*t*i+r,0,0,0,0,1]},Q=G(1),T=(e,t)=>{var r=[];for(let a=0;a<16;++a){var o=4*(a/4|0),i=a%4;r.push(t[o]*e[i]+t[1+o]*e[4+i]+t[2+o]*e[8+i]+t[3+o]*e[12+i])}return r},S=(a,[e,t,r])=>{var o=a[3]*e+a[7]*t+a[11]*r+a[15]||1;return[(a[0]*e+a[4]*t+a[8]*r+a[12])/o,(a[1]*e+a[5]*t+a[9]*r+a[13])/o,(a[2]*e+a[6]*t+a[10]*r+a[14])/o]},B=(a,e)=>({H:a,u:{j:x=K(J(y(a[1].g,a[0].g),y(a[2].g,a[0].g))),w:$(x,a[0].g)},tag:e}),p=a=>({j:z(a.j),w:-a.w}),w=(e,t,r,o,a,i)=>{let n=0,h=t.H.map(a=>(a=$(e.j,a.g)-e.w,n|=a=a<-1e-5?2:1e-5<a?1:0,a));if(0==n&&(0<$(e.j,t.u.j)?r:o).push(t),1==n&&a.push(t),2==n&&i.push(t),3==n){r=[],o=[];for(let a=0;t.H.length>a;a++){var m=(a+1)%t.H.length,f=h[a],l=h[m],d=t.H[a],m=t.H[m];2!=f&&r.push(d),1!=f&&o.push(d),3==(f|l)&&(f=(e.w-$(e.j,d.g))/$(e.j,y(m.g,d.g)),d={g:W(d.g,m.g,f),j:K(W(d.j,m.j,f))},r.push(d),o.push(d))}3<=r.length&&a.push(B(r,t.tag)),3<=o.length&&i.push(B(o,t.tag))}},o=()=>({u:0,m:0,l:0,J:[]}),i=a=>{a.J=a.J.map(a=>({H:a.H.map(a=>({g:a.g,j:z(a.j)})).reverse(),u:p(a.u),tag:a.tag})),a.u=p(a.u),a.m&&i(a.m),a.l&&i(a.l);var e=a.m;a.m=a.l,a.l=e},a0=(e,a)=>{if(!e.u)return[...e.J];let t=[],r=[];return a.map(a=>w(e.u,a,t,r,t,r)),e.m&&(t=a0(e.m,t)),r=e.l?a0(e.l,r):[],[...t,...r]},n=(a,e)=>{a.J=a0(e,a.J),a.m&&n(a.m,e),a.l&&n(a.l,e)},h=a=>[...a.J,...a.m?h(a.m):[],...a.l?h(a.l):[]],m=(r,a)=>{if(a.length){r.u||(r.u=a[0].u);let e=[],t=[];a.map(a=>w(r.u,a,r.J,r.J,e,t)),e.length&&(r.m||(r.m=o()),m(r.m,e)),t.length&&(r.l||(r.l=o()),m(r.l,t))}},a=(a,e)=>{var t=o(),r=o();return m(t,a.B),m(r,e.B),n(t,r),n(r,t),i(r),n(r,t),i(r),m(t,h(r)),{B:h(t),F:`__d(${a.F},${e.F})`}},r=(a,e)=>{var t=o(),r=o();return m(t,a.B),m(r,e.B),i(t),n(t,r),n(r,t),i(r),n(r,t),i(r),m(t,h(r)),i(t),{B:h(t),F:`__e(${a.F},__f(${e.F}))`}},O=(a,e,t,r)=>{r*=Math.PI/2,t=[Math.cos(t*=Math.PI/2)*Math.sin(r),Math.cos(r),Math.sin(t)*Math.sin(r)],A.push({g:I(U,S(C,b(u(e),t,a))),j:S(C,t)})},f=(e,a,t,r,o,i,n,h,m)=>{var f=[],l=(U=[a,t,r],k=[1,1,1],C=T(T(D(h/180*Math.PI),_(m/180*Math.PI)),Y(0)),2*(M=Math.atan((i-n)/o))/Math.PI),d=i*Math.sin(M),v=i*Math.cos(M),s=o+n*Math.sin(M),M=n*Math.cos(M);for(let a=0;a<16;++a){var g=a/4,u=(a+1)/4;A=[],O(v,[0,d,0],g,1),O(M,[0,s,0],g,1),O(M,[0,s,0],u,1),O(v,[0,d,0],u,1),f.push(B(A,e));for(var c=0;c<8;++c){var p=c/4,x=(c+1)/4,w=1-l<x;if(w&&(x=1-l),A=[],O(n,[0,o,0],g,p),.01<p&&O(n,[0,o,0],u,p),O(n,[0,o,0],u,x),O(n,[0,o,0],g,x),f.push(B(A,e)),w)break}for(c=8;0<c&&(x=c/4,(w=1-l>(p=(c-1)/4))&&(p=1-l),A=[],O(i,[0,0,0],g,p),O(i,[0,0,0],u,p),x<1.99&&O(i,[0,0,0],u,x),O(i,[0,0,0],g,x),f.push(B(A,e)),!w);--c);}return{B:f,F:`__c(${e},__a,[${a},${t},${r}],${o},${i},${n},${h},${m},0)`}},l=(m,t,r,o,i,n,h,a,e,f,l)=>{let d=Math.max(4,Math.round(l/100)),v=[];C=T(T(D(a/180*Math.PI),_(e/180*Math.PI)),Y(f/180*Math.PI)),U=[t,r,o],k=[-i,-n,-h];var s=(a,e,t,r,o,i,n,h)=>{t=[...t].map(a=>2*a-1),r=[...r].map(a=>2*a-1),A=[],O(l,t,a*o+i,a*n+h),O(l,r,a*o+i,a*n+h),O(l,r,e*o+i,e*n+h),O(l,t,e*o+i,e*n+h),v.push(B(A,m))};if(0<l)for(let t=0;d>t;++t)for(let e=0;d>e;++e)for(let a=0;a<8;++a){var M=t/d+a%4,g=(t+1)/d+a%4,u=e/d+(a/4|0),c=(e+1)/d+(a/4|0),p=[2*(!!(1&a)^!!(2&a))-1,2*!!(4&a)-1,2*!!(2&a)-1];A=[],O(l,p,M,u),.01<u&&O(l,p,g,u),c<1.99&&O(l,p,g,c),O(l,p,M,c),v.push(B(A,m)),a||e||(s(M,g,"011","010",0,0,1,1),s(M,g,"110","111",0,2,1,1),s(M,g,"001","000",0,0,1,0),s(M,g,"100","101",0,2,1,0),s(M,g,"010","110",0,1,1,1),s(M,g,"111","011",0,3,1,1),s(M,g,"000","100",0,1,1,0),s(M,g,"101","001",0,3,1,0),s(M,g,"010","000",1,0,0,1),s(M,g,"110","100",1,1,0,1),s(M,g,"111","101",1,2,0,1),s(M,g,"011","001",1,3,0,1))}return i&&n&&h&&[[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(e=>v.push(B(e[0].map(a=>(x=b([i*(2*!!(1&a)-1),n*(2*!!(2&a)-1),h*(2*!!(4&a)-1)],e[1],l),{g:I([t,r,o],S(C,x)),j:S(C,e[1])})),m))),{B:v,F:`__b(${m},__a,[${t},${r},${o}],[${i},${n},${h}],${a},${e},${f},${l})`}},e0=(a,e,t,r,o,i,n,h)=>(x=y(S(T(T(Y(-n/180*Math.PI),_(-i/180*Math.PI)),D(-o/180*Math.PI)),y(e,t)).map(Math.abs),r),t=(e=Math).sqrt,r=c(),[a,t.call(e,$(r,r))+Math.min(Math.max(...x),0)-h]),t0=(a,e,t,r,o,i,n,h,m)=>(x=S(T(T(Y(-m/180*Math.PI),_(-h/180*Math.PI)),D(-n/180*Math.PI)),y(e,t)),n=Math.sqrt(1-(t=(o-i)/r)*t),e=[Math.sqrt($(e=[x[0],x[2],0],e)),x[1],0],[a,i=(h=$(e,[-t,n,0]))<0?Math.sqrt($(e,e))-o:n*r<h?(t=(o=Math).sqrt,r=y(e,[0,r,0]),t.call(o,$(r,r))-i):$(e,[n,t,0])-o]),r0=(a,e)=>a[1]>e[1]?e:a,o0=(a,e)=>a[1]>e[1]?a:e,i0=a=>[a[0],-a[1]],d=a=>{let r=[],o=[],i=[],n=[],e=Function("__a,__b,__c,__d,__e,__f","return "+a.F);a.B.map(e=>{var t=r.length/3;e.H.map(a=>(r.push(...a.g),o.push(...a.j),i.push(e.tag)));for(let a=2;e.H.length>a;a++)n.push(t,t+a-1,t+a)}),a=P.rB(),P.if(34963,a),P.uD(34963,new Uint16Array(n),35044);var t=P.rB(),h=(P.if(34962,t),P.uD(34962,new Float32Array(r),35044),P.rB()),m=(P.if(34962,h),P.uD(34962,new Float32Array(o),35044),P.rB());return P.if(34962,m),P.uD(34962,new Float32Array(i),35044),[{X:a,Y:n.length,ea:t,$:h,da:m},a=>e(a,e0,t0,r0,o0,i0)]},n0=new Worker(URL.createObjectURL(new Blob([`let a=(${""+(()=>{var e=new function(){function a0(a){return Math.sin(6.283184*a)}var e0,t0,r0,o0,i0,n0=[a0,a=>a%1<.5?1:-1,a=>a%1*2-1,a=>(a=a%1*4)<2?a-1:3-a];this.Z=()=>{var a={ca:[{h:[1,15,164,0,1,127,128,15,0,36,0,28,87,0,0,0,0,64,1,1,2,38,128,1,3,255,2,212,8],p:[1,1,2,2,3,1,3,1,1,1,2,2,3,1,3,1,1,1,2,2,3,1,3,1,1],c:[{n:[135,147,142,149,147,140],f:[]},{n:[130,147,152,149,144,154],f:[]},{n:[135,147,142,149,147,140,,,,,,,161,156,151,135,,,,,,,,,138,150,145,157,131,143,135,147],f:[]}]},{h:[0,105,128,0,0,255,128,33,0,7,7,20,39,0,0,0,0,0,0,0,2,41,0,0,8,0,6,0,0],p:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,,99,,,99,,,,,,,,,111,,,,99,,,99],f:[]}]},{h:[1,55,128,0,1,81,128,0,0,0,52,6,0,0,0,0,0,243,10,1,2,135,0,0,3,147,6,230,4],p:[,,,,,,2,,,,1,,,,2,,3,4,1,5,6,7,2,8,3,4,1,5,6,7,2,8],c:[{n:[137],f:[]},{n:[,,135],f:[]},{n:[159],f:[]},{n:[157],f:[]},{n:[152],f:[]},{n:[154],f:[]},{n:[149],f:[]},{n:[147],f:[]}]},{h:[1,100,128,0,1,201,128,34,0,0,5,6,58,0,0,0,0,195,6,1,2,135,0,0,9,147,6,0,1],p:[,,,,,,,,1,1,3,3,2,3,2,3,1,1,3,3,2,3,2,3,1,1,1,1],c:[{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104],f:[]},{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104,,109,,,109,,,109],f:[]},{n:[111,,,111,,,111,,106,,,,,,,,104,,,104,,,104,,109,,109,,109,,109],f:[]}]},{h:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,19,32,0,0,93,1],p:[,,,,,,,,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3],c:[{n:[,,147,,,,,,,,,,147,,,,147,,,,,,,,147,,,,,,,,,,,,,,,,123,,,123],f:[]},{n:[147,,,147,,,,,,,,,147,,,,147,,,,,,,,147,,,,,,,,,,,,,,,,123,,,123],f:[]},{n:[147],f:[]}]},{h:[1,11,128,0,1,111,128,25,0,0,72,6,115,0,0,0,0,53,6,1,2,135,0,0,3,255,6,168,9],p:[,,,,,,,,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8],c:[{n:[147,138,145,150,159,149,142,161],f:[]},{n:[,,,,,,,,140,,159,147,,149,,154,,,,161],f:[]},{n:[,,,,,,,145,,150,,,149,,,147,,143,,,,154,,,142],f:[]},{n:[,,,,,,145,,,149,,,142,,,138,,,,,137,,,135,,,142],f:[]},{n:[,,,,,,,,,,,150,142,145,,,,,,,,,,,,,,152,145],f:[]},{n:[,,,,,,,,,,,,135,150,142,159],f:[]},{n:[,,,,149,,154,145,,,,,,,,,,,,,138,,143],f:[]},{n:[,,,,138,147,,,,143,,,149,,142,,150,154,145,,,,154,159,149],f:[]}]},{h:[3,0,128,0,3,68,128,0,64,218,4,4,40,0,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,,,,,,,,,,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,,140,,,,,,,,,147,,,,,140,,140,,,,,,,,,147],f:[]}]}],T:6615,S:32,V:31,aa:7};r0=0,o0=(e0=a).T*a.S*((t0=a.V)+1)*2,i0=new Int32Array(o0)},this.W=()=>{for(var a,e,t=new Int32Array(o0),r=e0.ca[r0],o=e0.T,i=e0.S,n=0,h=0,m=!1,f=[],l=0;l<=t0;++l)for(var d=r.p[l],v=0;v<i;++v){(x=d?r.c[d-1].f[v]:0)&&(r.h[x-1]=r.c[d-1].f[v+i]||0,x<17)&&(f=[]);for(var s=n0[r.h[16]],M=r.h[17]/512,F=2**(r.h[18]-9)/o,E=r.h[19],g=r.h[20],R=135.82764118168*r.h[21]/44100,N=1-r.h[22]/255,u=1e-5*r.h[23],j=r.h[24]/32,U=r.h[25]/512,k=6.283184*2**(r.h[26]-9)/o,c=r.h[27]/255,p=r.h[28]*o&-2,x=(l*i+v)*o,w=0;w<4;++w)if(a=d?r.c[d-1].n[v+w*i]:0){if(!f[a]){for(var C,A=f,P=a,I=e=void 0,y=r,b=a,z=n0[y.h[0]],W=y.h[1],q=y.h[3]/32,J=n0[y.h[4]],K=y.h[5],V=y.h[8]/32,$=y.h[9],_=y.h[10]*y.h[10]*4,D=y.h[11]*y.h[11]*4,T=y.h[12]*y.h[12]*4,Y=1/T,G=-y.h[13]/16,S=y.h[14],X=o*2**(2-y.h[15]),B=new Int32Array(_+D+T),Z=0,Q=0,O=C=0;C<_+D+T;C++,O++){0<=O&&(O-=X,I=.003959503758*2**((b+(15&(S=S>>8|(255&S)<<4))+y.h[2]-128-128)/12),e=.003959503758*2**((b+(15&S)+y.h[6]-128-128)/12)*(1+8e-4*y.h[7]));var H=1,L=(C<_?H=C/_:_+D<=C&&(H=(1-(H=(C-_-D)*Y))*3**(G*H)),z(Z+=I*H**q)*W);L+=J(Q+=e*H**V)*K,$&&(L+=(2*Math.random()-1)*$),B[C]=80*L*H|0}A[P]=B}for(P=f[a],a=0,A=2*x;P.length>a;a++,A+=2)t[A]+=P[a]}for(a=0;a<o;a++)(A=t[w=2*(x+a)])||m?(m=R,E&&(m*=s(F*w)*M+.5),h+=(m=1.5*Math.sin(m))*(A=N*(A-h)-(n+=m*h)),A=3==g?h:1==g?A:n,u&&(A=(A*=u)<1?-1<A?a0(.25*A):-1:1,A/=u),m=1e-5<(A*=j)*A,e=A*(1-(P=Math.sin(k*w)*U+.5)),A*=P):e=0,p<=w&&(e+=t[w-p+1]*c,A+=t[w-p]*c),t[w]=0|e,t[w+1]=0|A,i0[w]+=0|e,i0[w+1]+=0|A}return++r0/e0.aa},this.U=()=>{var a=44+2*o0-8,e=a-36,t=new Uint8Array(44+2*o0);for(t.set([82,73,70,70,255&a,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]),a=0,e=44;a<o0;++a){var r=i0[a];t[e++]=255&(r=r<-32767?-32767:32767<r?32767:r),t[e++]=r>>8&255}return t},this.getData=(a,e)=>{for(var t=2*Math.floor(44100*a),r=Array(e),o=0;o<2*e;o+=1){var i=t+o;r[o]=0<a&&i0.length>i?i0[i]/32768:0}return r}},t=(e.Z(),setInterval(()=>{var a;1<=e.W()&&(clearInterval(t),a=e.U(),self.postMessage(a,a.buffer))},10))})})();self.postMessage(a,[a.buffer])`]))),h0=new Promise(e=>{n0.onmessage=a=>e(a.data)}),m0=!1,f0=()=>({C:0,D:0,s:{}}),H=f0();var l0;let d0=0,v0=0,s0=(document.onmousemove=a=>{var e=a.movementX;a=a.movementY,(e*e<1e4||e*d0<0)&&(a*a<1e4||a*v0<0)&&(H.C+=d0=e,H.D+=v0=a)},document.onmousedown=a=>{document.pointerLockElement!==CC?(l0=1,m0||(m0=!0,h0.then(a=>{var e=document.createElement("audio");e.src=URL.createObjectURL(new Blob([a],{type:"audio/wav"})),e.volume=.8,e.loop=!0,e.play()})),CC.requestPointerLock()):H.s[a.button]=1},document.onmouseup=a=>{H.s[a.button]=0},document.onkeydown=a=>!(H.s[a.code[3]]=1),document.onkeyup=a=>{H.s[a.code[3]]=0},(a,e)=>{for(var t in e.s)a.s[t]|=e.s[t];a.C+=e.C,a.D+=e.D}),M0=d(l(0,0,0,0,1,1,1,0,0,0,0))[0],g0=d(l(3,0,0,0,0,0,0,0,0,0,50))[0],[u0]=d(r(r(a(r(r(r(f(2,400,0,0,800,80,80,90,90),l(2,0,0,0,60,200,200,0,0,0,0)),l(2,284,0,0,208,200,200,0,0,0,0)),l(2,-284,0,0,208,200,200,0,0,0,0)),f(4,0,0,0,160,76,48,0,-90)),l(4,0,0,-360,200,200,200,0,0,0,0)),f(5,0,0,0,160,40,40,0,-90))),c0=r(r(r(r(r(r(r(r(r(r(r(r(r(a(a(a(a(r(l(6,0,0,0,130,100,130,0,0,0,0),l(6,0,110,0,100,25,100,0,0,0,0)),f(6,100,-119,100,400,50,50,0,0)),f(6,100,-120,-100,400,50,50,0,0)),f(6,-100,-120,-100,400,50,50,0,0)),f(6,-100,-120,100,400,50,50,0,0)),l(6,0,-150,0,200,100,200,0,0,0,0)),r(f(4,100,-120,100,340,40,40,0,0),l(4,100,-50,100,50,170,50,0,0,0,0))),r(f(4,100,0,-100,340,40,40,0,0),l(4,100,-50,-100,50,170,50,0,0,0,0))),r(f(4,-100,-120,-100,340,40,40,0,0),l(4,-100,-50,-100,50,170,50,0,0,0,0))),r(f(4,-100,-120,100,340,40,40,0,0),l(4,-100,-50,100,50,170,50,0,0,0,0))),l(6,0,250,0,200,100,200,0,0,0,0)),l(5,0,-75,0,1,50,200,0,0,0,30)),l(5,0,-75,0,1,50,200,90,0,0,30)),l(5,0,-30,0,100,100,100,0,0,0,0)),l(4,0,150,100,200,20,10,0,0,0,0)),l(4,0,150,-100,200,20,10,0,0,0,0)),l(4,100,150,0,10,20,200,0,0,0,0)),l(4,-100,150,0,10,20,200,0,0,0,0)),[p0]=d(c0),x0=[,,,,,,,,],w0=0;for(let t=-100;t<150;t+=200)for(let e=-50;e<200;e+=200)for(let a=-100;a<150;a+=200){var C0=l(1,t,e,a,80,80,80,360*Math.random(),360*Math.random(),360*Math.random(),20),v=o(),s=o(),s=(m(v,c0.B),m(s,C0.B),i(v),n(s,v),i(s),n(v,s),n(s,v),m(v,h(s)),i(v),C0={B:h(v),F:""},d(C0));x0[w0++]=s[0]}let A0,P0,L,I0=[()=>[d(r(l(0,0,-1283,0,2e4,1500,2e4,0,0,0,0),l(0,0,1200,0,200,1e3,1e3,0,0,0,200))),[[0,30,1e3]]],()=>[d(a(r(l(0,0,-891,1498,500,1e3,2e3,0,0,0,0),l(1,0,500,317,150,300,900,0,0,0,200)),l(2,0,-461,3875,450,1e3,500,0,0,0,0))),[[0,30,1e3],[0,140,3e3]]],()=>[d(a(a(a(r(l(0,0,-903,1498,1026,1e3,2e3,0,0,0,0),l(1,0,500,317,150,300,900,0,0,0,200)),l(2,950,-461,2375,50,1e3,1e3,0,0,0,0)),l(2,-950,-461,2375,50,1e3,1e3,0,0,0,0)),l(2,0,-461,3342,50,1e3,1e3,90,0,0,0))),[[500,140,3e3],[-500,140,3e3],[0,140,3e3]]],()=>[d(a(a(a(l(0,0,-1e3,598,300,1e3,915,0,0,0,0),l(0,-715,-1e3,1213,300,1e3,584,90,0,0,0)),l(0,-1413,-1e3,598,300,1e3,915,0,0,0,0)),l(2,-1684,-238,1406,382,360,271,48,0,0,0))),[[0,38,1213],[-1415,38,1213],[-1415,38,0]]],()=>[d(a(a(a(a(l(0,0,-1e3,1500,1026,1e3,2e3,0,0,0,0),l(1,0,85,978,328,360,494,0,0,0,0)),l(1,0,85,1787,328,1154,494,0,0,0,0)),l(1,0,799,-66,328,20,494,0,0,0,0)),l(1,0,1185,-348,328,385,212,0,0,0,0))),[[0,950,500],[0,600,500],[0,1250,500]]],()=>[d(r(r(a(a(r(l(0,0,-903,336,507,1e3,497,0,0,0,0),l(1,0,500,-295,150,300,900,0,0,0,200)),l(2,0,-550,1266,330,100,652,0,0,0,0)),l(0,0,-903,2147,507,1e3,497,0,0,0,0)),l(1,0,500,2762,150,300,900,0,0,0,200)),l(5,0,-200,3504,1,1,900,0,0,0,130))),[[0,-309,1248],[0,-275,2584]]],()=>[d(r(a(r(l(0,37,-903,576,535,1e3,906,0,0,0,0),l(1,0,463,-411,150,300,900,0,0,0,200)),l(2,-488,92,576,39,1130,1081,0,0,0,0)),f(2,-264,476,1036,500,200,200,90,90))),[[0,320,830],[0,462,1030],[-1e3,462,1030]]],()=>[d(r(l(0,0,-800,1100,1026,1e3,1451,0,0,0,0),l(1,0,521,-230,1326,360,1540,0,0,0,200))),[[-400,450,1500],[0,500,1500],[400,450,1500]]],()=>[d(a(r(l(1,0,201,1371,1376,2029,1008,0,0,0,0),l(1,0,0,579,1,1,1,0,0,0,400)),l(2,0,-50,0,50,50,50,0,0,0,0))),[[230,201,446],[-230,201,446],[210,-253,446],[-210,-253,446]]]],y0=I0.length-1,b0=[2,2,3,3,3,3,3,3,3],$0="SMASH THE CASTLE;SMASH ALL THE CASTLES;RE-USE THE CANNON;USE THE CANNON TO SLOW DOWN;SHOOT INTO THE AIR;MIND THE GAP;BLAST THROUGH THE WALL;USE THE RAMP;RIDE THE CURVE".split(";"),_0=i=>{for(let a,e,t,r=0,o=i;r<50;++r){[e,a]=L(o);var n=o;if(t=K([L(I(n,[.001,0,0]))[1]-L(y(n,[.001,0,0]))[1],L(I(n,[0,.001,0]))[1]-L(y(n,[0,.001,0]))[1],L(I(n,[0,0,.001]))[1]-L(y(n,[0,0,.001]))[1]]),a<.001)return a=y(i,o),[o,$(a,a)<.001?t:K(a),Math.sqrt($(a,a)),e];o=b(o,t,-a)}},D0=new(window.AudioContext||webkitAudioContext),F=a=>{var e=D0.createBuffer(1,a.length,44100),t=D0.createBufferSource();e.getChannelData(0).set(a),t.buffer=e,t.connect(D0.destination),t.start()},T0=(a=1,e=.05,t=220,r=0,o=0,i=.1,n=0,h=1,m=0,f=0,l=0,d=0,v=0,s=0,M=0,g=0,u=0,c=1,p=0,x=0)=>{var w=2*Math.PI,C=m*=500*w/44100/44100;e=t*=(1+2*e*Math.random()-e)*w/44100;let A,P,I=[],y=0,b=0,$=0,_=1,D=0,T=0,S=0;for(f*=500*w/44100**3,M*=w/44100,l*=w/44100,d*=44100,v=44100*v|0,P=(r=44100*r+9)+(p*=44100)+(o*=44100)+(i*=44100)+(u*=44100)|0;P>$;I[$++]=S)++T%(100*g|0)||(S=n?1<n?2<n?3<n?Math.sin((y%w)**3):Math.max(Math.min(Math.tan(y),1),-1):1-(2*y/w%2+2)%2:1-4*Math.abs(Math.round(y/w)-y/w):Math.sin(y),S=(v?1-x+x*Math.sin(w*$/v):1)*(0<S?1:-1)*Math.abs(S)**h*a*.3*(r>$?$/r:r+p>$?1-($-r)/p*(1-c):r+p+o>$?c:P-u>$?(P-$-u)/i*c:0),S=u?S/2+(u>$?0:(P-u>$?1:(P-$)/u)*I[$-u|0]/2):S),A=(t+=m+=f)*Math.cos(M*b++),y+=A-A*s*(1-1e9*(Math.sin($)+1)%2),_&&++_>d&&(t+=l,e+=l,_=0),!v||++D%v||(t=e,m=C,_=_||1);return I},S0=T0(1.27,void 0,478,.02,.02,.06,1,2.75,void 0,void 0,void 0,void 0,void 0,.9,45,.5,void 0,.59,void 0,.26),B0=T0(1.37,void 0,827,.02,.01,.32,4,4.22,void 0,.5,void 0,void 0,void 0,1.7,void 0,.6,void 0,.47),O0=T0(2,.1,185,.03,void 0,.61,4,4,void 0,void 0,void 0,void 0,void 0,1,void 0,1,.5,.8,.1,.1),H0=T0(2.11,0,97.99886,.08,.7,.34,void 0,1.92,-.5,10,50,.02,.12,void 0,void 0,.1,.06,.17,.01,.66),L0=T0(2.11,0,261.6256,.08,.76,.35,void 0,1.92,void 0,void 0,-50,-.01,.2,void 0,void 0,.1,.06,.27,.09,.2),F0=()=>({mode:0,N:0,P:0,v:Math.PI,pitch:0,g:[0,10,0],i:[0,0,0],L:0,O:[0,0,0],K:100,A:b0[0],o:[],I:0,level:0,M:0}),E0=(a,e,t)=>({mode:e.mode,N:e.N,P:e.P,v:e.v,pitch:e.pitch,g:W(a.g,e.g,t),i:e.i,L:e.L,O:e.O,K:(a=a.K)+t*(e.K-a),A:e.A,o:e.o,I:e.I,level:e.level,M:e.M}),R0=!0,N0=[,,,,,,,].fill(0),M=(t,a)=>{let r=new Worker(URL.createObjectURL(new Blob([`let a=(${""+(r=>{r=r();var o=new Uint8Array(1048576);for(let t=0;t<64;++t)for(let e=0;e<64;++e)for(let a=0;a<64;++a)r(t/64,e/64,a/64,4*(t+a%8*64+512*(e+64*Math.floor(a/8))),o);return o})})(${""+a});self.postMessage(a,[a.buffer])`])));new Promise(e=>{r.onmessage=a=>e(a.data)}).then(a=>{var e=P.rT();P.ix(3553,e),P.eg(3553,0,6408,512,512,0,6408,5121,a),P.texParameteri(3553,10241,9728),P.texParameteri(3553,10240,9728),P.texParameteri(3553,10242,10497),P.texParameteri(3553,10243,10497),N0[t]=e})},j0=new Uint8Array(1048576);for(let a=0;j0.length>a;++a)j0[a]=255;let U0=P.rT(),k0=(P.ix(3553,U0),P.eg(3553,0,6408,512,512,0,6408,5121,j0),P.texParameteri(3553,10241,9728),P.texParameteri(3553,10240,9728),P.texParameteri(3553,10242,10497),P.texParameteri(3553,10243,10497),M(0,()=>(a,e,t,r,o)=>{a=.6-.1*Math.pow(Math.random(),4)+.1*Math.pow(Math.random(),4),o[r+0]=76.5,o[r+1]=255*a,o[r+2]=63.75*a}),M(1,()=>{let s=Array(40).fill(void 0).map(()=>[Math.random(),Math.random(),Math.random()]);return(a,e,t,r,o)=>{let i=1/0,n=1/0;for(var[h,m,f]of s){var l=a,d=e,v=t,h=Math.hypot(Math.min(l=Math.abs(l-h),1-l),Math.min(d=Math.abs(d-m),1-d),Math.min(v=Math.abs(v-f),1-v));i>h?(n=i,i=h):n>h&&(n=h)}a=(a=Math.abs(i-n))<.04?.3+3*a:.4+.6*a,a=(a-=.1*a*Math.pow(Math.random(),8))+.1*a*Math.pow(Math.random(),8),o[r+0]=230*a,o[r+1]=200*a,o[r+2]=255*a}}),M(2,()=>{let n=a=>.25*(Math.sin(10*a)+.5*Math.sin(17*a)+.25*Math.sin(21*a)+.25*Math.sin(23*a)+Math.sin(29*a)+.5*Math.sin(31*a)+.25*Math.sin(37*a)+.25*Math.sin(51*a));return(a,e,t,r,o)=>{var i=Math.pow(Math.random(),8);a=.075*(n(5*a)+n(5*t)+n(.2*e))+.75,o[r+0]=255*(a-=.05*i),o[r+1]=220*a,o[r+2]=200*a}}),M(3,()=>(a,e,t,r,o)=>{var i=Math.pow(Math.random(),4),n=Math.pow(Math.random(),4),h=(.5<a&&(a=1-a),.5<e&&(e=1-e),.5<t&&(t=1-t),Math.hypot(a,t)<.05);t=Math.hypot(e,t)<.05,a=Math.hypot(a,e)<.05||h||t?.5:1,o[r+0]=100*a*(.6-.1*i+.1*n),o[r+1]=150*a*(.6-.1*i+.1*n),o[r+2]=180*a*(.6-.1*i+.1*n)}),M(4,()=>(a,e,t,r,o)=>{a=Math.pow(Math.random(),4),e=Math.pow(Math.random(),4),o[r+0]=100*(.6-.1*a+.1*e),o[r+1]=150*(.6-.1*a+.1*e),o[r+2]=180*(.6-.1*a+.1*e)}),M(5,()=>(a,e,t,r,o)=>{a=Math.pow(Math.random(),4),e=Math.pow(Math.random(),4),o[r+0]=50*(.6-.1*a+.1*e),o[r+1]=75*(.6-.1*a+.1*e),o[r+2]=90*(.6-.1*a+.1*e)}),M(6,()=>(a,e,t,r,o)=>{a+=(2*Math.random()-1)/64,e+=(2*Math.random()-1)/64,a=4*(a+.03)%1,t=4*(t+(2*Math.random()-1)/64+.03)%1,e=8*e%1;var i=.9,i=(i-=.1*.9*Math.pow(Math.random(),8))+.1*i*Math.pow(Math.random(),8);.05<a&&a<.95&&.05<t&&t<.95&&.1<e&&e<.9?(o[r+0]=80*i,o[r+1]=90*i,o[r+2]=100*i):(o[r+0]=80*i,o[r+1]=70*i,o[r+2]=60*i)}),a=>{P.uniform1iv(P.efa(a,"a4"),N0.map((a,e)=>(P.cT(33984+e),P.ix(3553,a||U0),e)))}),E=C2.getContext("2d"),z0=P.rT(),W0=0,q0=(P.ix(3553,z0),P.texParameteri(3553,10241,9728),P.texParameteri(3553,10240,9728),P.texParameteri(3553,10242,33071),P.texParameteri(3553,10243,33071),P.rB()),J0=(P.if(34962,q0),P.uD(34962,Float32Array.of(-1,-1,1,-1,-1,1,1,1,-1,1,1,-1),35044),P.enable(2929),P.enable(3042),P.lu(770,771),P.eu(515),P.rB()),K0=(P.if(34963,J0),P.uD(34963,new Uint16Array(Array(300).fill(0).map((a,e)=>e)),35044),P.rB());P.if(34962,K0),P.uD(34962,new Float32Array(900),35048);let V0,Y0,G0=(a,e)=>{var t=P.rS(35633),r=P.rS(35632),o=P.rP();return P.hS(t,a),P.oe(t),P.hS(r,e),P.oe(r),P.tS(o,t),P.tS(o,r),P.io(o),o},R=G0("attribute vec3 a1,ah;attribute float a9;uniform mat4 a2,a3;varying vec3 af,a6;varying float a8;void main(){af=a1,a6=normalize((a3*vec4(ah,0)).xyz),a8=a9,gl_Position=a2*a3*vec4(a1,1);}","precision highp float;varying vec3 af,a6;varying float a8;uniform sampler2D a4[7];uniform vec3 ag;void main(){vec3 v=floor(fract(af*.005+.01)*64.);vec2 a=(v.xy+vec2(mod(v.z,8.),floor(v.z/8.))*64.+vec2(.5))/512.;vec4 i;int t=int(a8+.5);if(t==0)i=texture2D(a4[0],a);if(t==1)i=texture2D(a4[1],a);if(t==2)i=texture2D(a4[2],a);if(t==3)i=texture2D(a4[3],a);if(t==4)i=texture2D(a4[4],a);if(t==5)i=texture2D(a4[5],a);if(t==6)i=texture2D(a4[6],a);float r=dot(a6,normalize(vec3(5,1,5)));vec3 c=mix(mix(vec3(.9,.42,.44)+.1,vec3(1),.3),mix(vec3(1,.86,.39),vec3(1),.3),.5+.5*r);float n=.75+.25*max(0.,r),f=length(af.xz-ag.xz);if(f<20.&&af.y<ag.y)n*=1.-clamp(.5-.1*(f-5.),0.,.4);gl_FragColor=vec4(i.xyz*c*n,1);}"),X0=G0("attribute vec3 a1,ah;attribute float a9;uniform mat4 aa;varying vec3 af;void main(){af=a1,gl_Position=(aa*vec4(a1,1)).xyww;}","precision highp float;varying vec3 af;void main(){vec3 m=normalize(af);float l=dot(normalize(vec3(5,1,5)),m),g=max(0.,500.*l-495.);vec3 x=mix(vec3(.13,.16,.31),vec3(.9,.42,.44),1.-2.*m.y),u=mix(mix(x,vec3(1,.86,.39),clamp(exp(l-1.)-.5*m.y,0.,1.)),vec3(1),g);gl_FragColor=vec4(u,1);}"),Z0=G0("attribute vec3 a1;uniform mat4 a2,a3;void main(){gl_Position=a2*a3*vec4(a1,1);}","precision highp float;uniform vec3 a0;void main(){gl_FragColor=vec4(a0,.25);}"),Q0=G0("attribute vec2 a1;void main(){gl_Position=vec4(a1,0,1);}","precision highp float;uniform sampler2D a4;uniform vec4 a5;void main(){vec2 a=gl_FragCoord.xy/a5.xy;vec4 i=texture2D(a4,vec2(a.x,1.-a.y));gl_FragColor=mix(vec4(mix(vec3(0),i.xyz,a5.w),1),i,a5.z);}"),a1=(a,e)=>{P.if(34962,a.ea);var t=P.ert(e,"a1");P.nVt(t),P.eAo(t,3,5126,!1,0,0),P.if(34962,a.$),0<=(t=P.ert(e,"ah"))&&(P.nVt(t),P.eAo(t,3,5126,!1,0,0),P.if(34962,a.da),t=P.ert(e,"a9"),P.nVt(t),P.eAo(t,1,5126,!1,0,0)),P.if(34963,a.X),P.re(4,a.Y,5123,0)},e1=Q,t1=0,r1=0,o1=0,i1=0,n1=0,h1=[0,0,0],m1=[0,0,0],f1=[0,0,0],N=0,l1=[],d1=[],j=(a,e,t)=>{E.fillText(a,e,t),E.strokeText(a,e,t)},v1=(a,e,t)=>{var r=T(T(X(f1),G(.2)),e1);P.sg(e),P.nm4(P.efa(e,"a3"),!1,r),P.nm4(P.efa(e,"a2"),!1,a),e==Z0?P.uniform3fv(P.efa(e,"a0"),t):k0(e),a1(g0,e)},s1=F0(),M1=F0(),g1=([document.body,CC].map(a=>{(a=a.style).overflow="hidden",a.margin=0,a.width="100%",a.height="100%",a.cursor="pointer"}),0),u1=0,c1=f0(),p1=a=>{requestAnimationFrame(p1),u1=u1||a;var t=Math.min(a-u1,1e3),e=H,r=(H=f0(),s0(H,e),H.C=H.D=0,document.pointerLockElement==CC?e:f0()),e=0;for(g1+=t,u1=a,s0(c1,r);33<g1;){e=1,g1-=33,s1=M1;var i=c1,o=((a=E0(a=M1,a,0)).I++,a.M++,0!=a.mode&&4!=a.mode&&5!=a.mode&&(a.v+=.005*i.C,a.pitch+=.005*i.D,a.pitch=Math.max(-1.57,Math.min(1.57,a.pitch)),a.v<0&&(a.v+=2*Math.PI),a.v>2*Math.PI)&&(a.v-=2*Math.PI),r=S(T(D(a.v),_(-a.pitch)),[0,0,-1]),!a.N&&i.s[0]),n=(a.N=i.s[0],A0);if(3==a.mode&&(i.s.R||a.g[1]<-1e3))a.mode=4,a.I=0,a.A=0;else{if(0==a.mode)l0&&(F(H0),a.mode=2);else if(1==a.mode||2==a.mode){a.i=b(a.i,[0,-.6,0],.5);for(var h=a.g,m=0;m<4;++m)for(var h=b(h,a.i,.25),f=0;n.length>f;++f)(M=!(0<=a.o.indexOf(f)))&&(M=y(n[f],h),M=$(M,M)<3600),M&&(F(O0),a.o.push(f));a.o.length==n.length&&(a.I=0,a.mode=5),((1==a.mode||R0)&&o||2==a.mode&&!R0&&!i.s[0]&&0<a.A)&&(F(B0),--a.A,a.mode=3,a.i=b([0,0,0],r,30),a.L=0,R0=!1),a.g=b(a.g,a.i,.5);var[l,d,v]=_0(a.g);v<10&&$(d,a.i)<0&&(a.g=b(l,d,10),a.i=V(a.i,d,.2,.8))}else if(3==a.mode||4==a.mode||5==a.mode){if(a.i=I(a.i,[0,-.6,0]),3==a.mode){for(i=a.g,h=0;h<4;++h)for(i=b(i,a.i,.25),m=0;n.length>m;++m)(f=!(0<=a.o.indexOf(m)))&&(f=y(n[m],i),f=$(f,f)<3600),f&&(F(O0),a.o.push(m));a.o.length==n.length&&(a.I=0,a.mode=5),o&&(a.I=0,a.mode=0<a.A?2:4)}else 30<a.I&&(5==a.mode?y0>a.level&&(F(H0),o=a.level+1,(a=F0()).mode=1,a.level=o,a.A=b0[o]):(F(L0),o=a.level,(a=F0()).mode=1,a.level=o,a.A=b0[o]));a.g=I(a.g,a.i);var[v,l,d,s]=_0(a.g);d<10&&$(l,a.i)<0&&(10<a.M&&F(S0),a.M=0,a.g=b(v,l,10),a.i=V(a.i,l,2==s?.9:.2,.998),a.L=Math.sqrt($(o=a.i,o))/10/33,a.O=z(K(J(a.i,l))))}n=(o=a).K;a:{for(r=z(r),m=h=0,f=a.g;h<50&&m<100;++h){if(m+=i=L(f)[1],i<.001){r=m;break a}f=b(f,r,i)}r=100}o.K=n+.5*(r-n)}M1=a,c1.C=c1.D=0}for(a=c1=e?f0():c1,4!=(e=E0(s1,M1,g1/33)).mode&&5!=e.mode||(a.C=a.D=0),i=.005*a.C+e.v,h=Math.max(-1.5,Math.min(1.5,h=.005*a.D+e.pitch)),N+=t,e.P?o1=500:0<o1?(t1+=.02*t*(h-t1),r1=q(r1,i,.02*t),o1-=t):(t1=h,r1=i),a=S(T(D(r1),_(-t1)),[0,0,-e.K]),h1=W(h1,3==e.mode||4==e.mode||5==e.mode?[0,20,0]:[-20,30,0],.01*t),e1=T(Z(e.O,e.L*t),e1),r=T(_(t1),D(-r1)),o=T(D(r1),_(-t1)),a=T(r,X(y(a,I(e.g,S(o,h1))))),o=[CC.height/CC.width,0,0,0,0,1,0,0,0,0,10000.1/-9999.9,-1,0,0,2e3/-9999.9,0],a=T(o,a),n=0,3!=e.mode&&4!=e.mode&&5!=e.mode||(f1=e.g,n=3==e.mode&&N<100,v1(a,R,0)),1!=e.mode&&2!=e.mode||(i1+=.01*t*(h-i1),n1=q(n1,i,.01*t),m1=e.g,n=1),!n&&0!=e.mode||(0==e.mode&&(n1=1,i1=-.5,m1=e.g),m=T(T(X(m1),T(D(n1),_(-i1))),G(.12)),P.sg(R),P.nm4(P.efa(R,"a3"),!1,m),P.nm4(P.efa(R,"a2"),!1,a),k0(R),a1(u0,R)),i=A0,h=0;i.length>h;++h)if(e.o.indexOf(h)<0)m=T(T(X(I(i[h],[0,10*Math.sin(N/800),0])),G(.25)),T(D(N/1e3+h),_(.15))),P.sg(R),P.nm4(P.efa(R,"a3"),!1,m),P.nm4(P.efa(R,"a2"),!1,a),k0(R),a1(p0,R);else if(l1.indexOf(h)<0){l1.push(h);var f=(m=d1).push,M=i[h],g=e.i;let r=[],o=0;for(let t=-100;t<150;t+=200)for(let e=-50;e<200;e+=200)for(let a=-100;a<150;a+=200)r.push({kind:o++,g:b(M,[t,e,a],.25),i:b(b([0,0,0],g,.8/33),[t,(e+100)/2,a],.001),offset:z([t,e,a]),axis:K([2*Math.random()-1,2*Math.random()-1,2*Math.random()-1]),ba:.01*Math.random(),rotation:Q});f.call(m,...r)}for(c of d1)i=-.6/33/33,c.rotation=T(Z(c.axis,c.ba*t),c.rotation),c.i=b(c.i,[0,i,0],t),c.g=b(c.g,c.i,t),m=T(T(X(c.g),G(.25)),T(c.rotation,X(c.offset))),P.sg(R),P.nm4(P.efa(R,"a3"),!1,m),P.nm4(P.efa(R,"a2"),!1,a),k0(R),a1(x0[c.kind],R);if(V0!=e.mode&&(1==(V0=e.mode)&&(l1=[],d1=[],[[P0,L],A0]=I0[e.level]()),N=0),P.sg(R),P.nm4(P.efa(R,"a3"),!1,Q),P.nm4(P.efa(R,"a2"),!1,a),P.uniform3fv(P.efa(R,"ag"),e.g),k0(R),a1(P0,R),P.ie(2884),P.sg(X0),P.nm4(P.efa(X0,"aa"),!1,T(o,r)),a1(M0,X0),P.enable(2884),(1==e.mode||2==e.mode)&&n){var u,t=e.g,c=e.o,r=i1,n=S(T(D(n1),_(-r)),[0,0,-1]);r=new Float32Array(900),o=A0,i=b([0,0,0],n,30);for(let a=0,e=0;a<150;++a){if(r[e++]=t[0],r[e++]=t[1],r[e++]=t[2],!u){for(i=I(i,[0,-.6,0]),h=t=I(t,i),m=0;m<4;++m)for(h=b(h,i,.25),f=0;o.length>f;++f)0<=c.indexOf(f)||(n=y(o[f],h),$(n,n)<3600&&(u=1));var[p,x,w]=_0(t);w<10&&$(x,i)<0&&(t=b(p,x,10),u=1)}r[e++]=t[0],r[e++]=t[1],r[e++]=t[2]}var[C,A]=[r,t];f1=A,P.if(34962,K0),P.uS(34962,0,C),P.sg(Z0),P.nm4(P.efa(Z0,"a3"),!1,Q),P.nm4(P.efa(Z0,"a2"),!1,a),P.if(34962,K0),u=P.ert(Z0,"a1"),P.nVt(u),P.eAo(u,3,5126,!1,0,0),P.if(34963,J0),P.re(1,300,5123,0),v1(a,Z0,[0,1,.1])}W0=0==e.mode||1==e.mode?Math.min((N/1e3)**2,1):4==e.mode||5==e.mode?1-Math.min((N/1e3)**2,1):1,(u=`${e.o.length}.${e.A}.`+e.mode)!=Y0&&(E.clearRect(0,0,C2.width,C2.height),E.strokeStyle="#e56b70",E.fillStyle="#ffdb63",E.textAlign="center",0==e.mode?(E.font="bold 64px sans-serif",E.lineWidth=3,j("CANNONBOLF",C2.width/2,200),E.font="bold 16px sans-serif",E.lineWidth=.5,j("CLICK TO START",C2.width/2,C2.height-100)):4==e.mode||5==e.mode?(E.font="bold 32px sans-serif",E.lineWidth=2,j(4==e.mode?"SORRY, TRY AGAIN!":y0>e.level?0<e.A?"BIRDIE!":"PAR!":"THANKS FOR PLAYING!",C2.width/2,C2.height/2)):(E.font="bold 32px sans-serif",E.lineWidth=2,E.textAlign="right",j(e.A+" âš«",C2.width-20,C2.height-25-80),j(`${e.o.length}/${A0.length} ðŸ°`,C2.width-20,C2.height-25-40),j(`${e.level+1}/${1+y0} â›³`,C2.width-20,C2.height-25),E.textAlign="center",E.font="bold 16px sans-serif",E.lineWidth=.5,j($0[e.level],C2.width/2,C2.height-20))),P.ie(2929),P.sg(Q0),P.cT(33984),P.ix(3553,z0),u!=Y0&&P.eg(3553,0,6408,6408,5121,C2),P.uniform1i(P.efa(Q0,"a4"),0),P.uniform4f(P.efa(Q0,"a5"),C2.width,C2.height,W0,~~(5==e.mode&&e.level==y0)),t=P.ert(Q0,"a1"),P.if(34962,q0),P.nVt(t),P.eAo(t,2,5126,!1,0,0),P.rr(4,0,6),P.enable(2929),Y0=u};(window.onresize=()=>{P.ir(0,0,C2.width=CC.width=window.innerWidth/2,C2.height=CC.height=window.innerHeight/2),Y0=9})(),[[P0,L],A0]=I0[0](),p1(0)</script>