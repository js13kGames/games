<!doctype html><title>Thirteen Terrible Stunts - js13kGames 2024</title><meta content="width=device-width" name=viewport><link rel="shortcut icon" type=image/x-icon><style>:root{--c1:#1F0A00;--c2:#FFFCEA;--c3:#A29782;--c4:#CEC6AD}#c2d{image-rendering:pixelated;image-rendering:-moz-crisp-edges;background:var(--c2);border-radius:5vmin;height:95vh;aspect-ratio:320/256;max-height:calc(95vw * 256 / 320)}#c2d::before{content:"";position:absolute}html{margin:0;display:flex;justify-content:center;align-items:center;height:100%;width:100%;overscroll-behavior:none;touch-action:none;background:var(--c1)}body{position:relative}*{user-select:none!important;-webkit-user-select:none!important}.vignette{position:absolute;height:100%;width:100%;top:0;left:0;box-shadow:0 0 10vh 0 #1f0a00 inset}</style><canvas height=256 id=c2d width=320></canvas><div class=vignette></div><script>function t(t){var s=i;s.g.wa?.(),s.g=t,s.g.u?.()}class s{constructor(...t){this.g=ss,this.g.u?.(...t)}}let i,h=t=>t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(t,s,i,h,e)=>"#"+s+s+i+i+h+h+e+e).substring(1).match(/.{2}/g).map(t=>parseInt(t,16)),e="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo 933m7 3ugt8 34ao 7k b28 m0 20o0o 9a7vy jbmjj jf63j ivhmn etrs7 ju8e7 jalrz jeyks jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),a={},r=async(t,o,s)=>{var r,i,n,l,c,j,u,y,x,g=t+s+o;a[g]||(l=(n=(r=5*o)+(i=+o))*t.length-i,c=new ImageData(l,r),[j,u,y,x]=h(s),t.replace("!","@").toUpperCase().split("").forEach((t,a)=>{String(parseInt(" "===t?"0":e[t.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((t,s)=>{if("0"!==t)for(t=0;t<o;t++){var i=4*(a*n+(i=s*o)%r+o*l*Math.floor(i/r)+l*t);for(let t=0;t<o;t++){var h=4*t+i;c.data[h]=j,c.data[1+h]=u,c.data[2+h]=y,c.data[3+h]=x||255}}})}),t=await createImageBitmap(c),a[g]=t)},o=({text:t,color:s=u.B,textAlign:i="left",textBaseline:h="top",size:e=2,Ma:o=999,...n})=>{let l=Math.round(n.x),j=Math.round(n.y);var y=5*e,x=(n=y+(x=+e))*(t||=" ").length-x;let g=t+s+e,U="left"===i?0:"center"===i?Math.round(x/2):x;i="top"===h?0:"middle"===h?Math.round(y/2):y,a[g]?(t=o*n,c.drawImage(a[g],0,0,t,n,l-U,j-i,t,n)):r(t,e,s).then(()=>{c.drawImage(a[g],l-U,j)})},n=(t,i,h)=>{t.forEach(s=>{i.forEach(t=>r(s,h,t))})};function l(t,s,i){return Math.max(Math.min(t,i),s)}function j(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function x({x:t,y:s},i){return{x:t+i.x,y:s+i.y}}let y=(t,s)=>t[0]+(t[1]-t[0])*s,g=(t,s,i)=>({x:t.x+s,y:t.y+i}),u={B:"#1F0A00",G:"#FFFCEA",o:"#A29782",C:"#CEC6AD"},U=Object.values(u).join("").replace(/#/g,""),f=(u.B.repeat(4),"@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@E@@@@}A@@`U_ji`@tgAh@@}U`@@PoF@@@djA@@PjZ@@@TUA @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@iifV@ifZZAdjjjFPjUeZ@iZUjAPjjjA@TejU@UijUEUUjUUTUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p@@@@kC@@@lN@@@pz@@@@k@|njjCp~jjN@kkjz@lnjjCpzjjN@k@ljjjCpjjjN@kz@l~kCp@|O@ @C@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~oCljjjCpO@kCpz@lN@kCp@|O@ @pO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~zzkjjjjjjjjz|@ @pOpO@pjsjC@kNkNLlzozpCj@{sjz@l~kjCpzojN@{s@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@C@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~Z@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAtGPUUu^@@@PAPUEmGPTVt_@QYQADeE}G@TUt_@UUUAtGPUUUU@ @@C@@pkzC@pzz@p~Np~oC{N{oo~~{{os~oC{Np~N@l~oN@@ojO@@@C@@ @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUiV@PUYfEPTUfEAQUeUDPUUUE@TUUE@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @|@L|psO|Lk~szlzC|O@ C@@sp||@so{ljNlzC|O@".split(" ")),d=[],p=[],m=[],A=[];function P(t,s,i=!1,h=!1,e=!1){(t=d[t])&&(c.save(),i&&(c.filter="brightness(0)"),c.translate(s.x+(h?t.width:0),s.y),c.save(),c.scale(h?-1:1,1),e&&(c.beginPath(),c.rect(0,0,16,8),c.clip()),c.drawImage(t,0,0),c.restore(),c.restore())}function v(t,s,i,h){var{x:t,y:e}=j(t);c.fillStyle=i,c.fillRect(t,e,s.x,s.y),c.fillStyle=h,c.fillRect(t+1,e+1,s.x-2,s.y-2)}function M(t,s,i,h,e){t=Math.round(t),s=Math.round(s),i=Math.round(i),h=Math.round(h),i-=t,h-=s;var a=Math.max(Math.abs(i),Math.abs(h));for(i/=a,h/=a,c.fillStyle=e,c.beginPath(),e=0;e<=a;e++)c.rect(Math.round(t)-1,Math.round(s)-1,3,3),t+=i,s+=h;c.fill()}function E(t,s){Z.h=j({x:t,y:s})}function w(i){i.I.forEach((t,s)=>{P(t,{...i.h,y:i.h.y-12*(s+1)})})}function z(t){var s=Z;P(t,s.h,!1,s.J),w(s)}function T(t){var s=Z;s.g+=t,60<=s.g&&(s.j=(s.j+1)%6,s.g-=60),P(A[s.j],s.h,!1,s.J),w(s)}new class{constructor(){window.c=c2d.getContext("2d",{alpha:!1}),c.imageSmoothingEnabled=!1}};let F,Z=new class{constructor(){this.j=this.g=0,this.size={x:16,y:16},this.h={x:0,y:0},this.J=!1,this.I=[],this.ra=!1,this.l={x:0,y:0}}},C=s=>{var t=new AudioContext,i=t.createBuffer(1,96e3,48e3),h=i.getChannelData(0);for(let t=96e3;t--;)h[t]=s(t);(s=t.createBufferSource()).buffer=i,s.connect(t.destination),s.start()},I=i=>{C(t=>{var s;return 2e4<t?0:(s=(2e4-t)/2e4,.2*Math.tan(Math.cbrt(Math.sin(t/(145-5*i))))*s*s)})},b=!1,k=0,D=0,S="",B="";function N(t,s){S=t,B=s,F=m[$t.j],D=k=0;{b=!0;let n=(t=s).replace(/[^a-zA-Z\s]/g,"").split(" "),l=0,c=0,j=()=>{if(b&&l<n.length){c=performance.now();let s=Math.floor(n[l].replace(/[^a-zA-Z\s]/g,"").length/2)||1;for(var t=s,i=1+.5*(Math.random()-.5),h=new AudioContext,e=3e3*(t+.25),a=h.createBuffer(1,e,48e3),o=a.getChannelData(0);e--;){var r=3e3*t;o[e]=r<e?0:Math.sin(i*e/25-.5*Math.sin(e/5))*Math.sin(e/(r/t)*Math.PI)*.2}(t=h.createBufferSource()).buffer=a,t.connect(h.destination),t.start(),t.onended=()=>{var t=performance.now()-c;c=performance.now(),setTimeout(j,Math.max(60*(s+1)-t,0))},l++}else b=!1};j()}}function G(t,s=!1){30<=(k+=t)&&(D++,k-=30),v({x:5,y:186},{x:310,y:50},u.C,u.G),v({x:8,y:189},{x:304,y:44},u.C,u.G),o({text:S,x:12,y:193,size:2,color:u.o}),function(){for(var t,s=B,i=RegExp("(.{1,40})(\\s|$)","g"),h=[];null!==(t=i.exec(s));)h.push(t[1].trim());return h}().forEach((t,s)=>{o({text:t,x:12,y:211+8*s,size:1,Ma:D-40*s})}),c.save(),c.translate(275,196),c.save(),c.scale(2,2),P(F,{x:0,y:0}),c.restore(),c.restore(),s&&o({text:"Press Enter to continue",x:160,y:241,textAlign:"center",color:u.o,size:1})}function Y(t){L.i?.port.postMessage({name:"voices",high:t})}function O(){var t=L;t.j&&(t.i?.disconnect(),t.j=!1)}let L=new class{constructor(){this.startTime=0,this.j=!1}async start(){this.j||(this.g=new(window.AudioContext||window.webkitAudioContext),await this.g.resume(),await this.g.audioWorklet.addModule("a.js"),this.i=new AudioWorkletNode(this.g,"music-processor"),this.i.connect(this.g.destination),this.j=!0)}};function R(){var t=localStorage.getItem("13_terrible_stunts_game_save")||"";return parseInt(t,10)||0}function K(t){localStorage.setItem("13_terrible_stunts_game_save",t.toString())}let Q=[];function V(t,s,i=0,h=0){Q.push({La:t,time:s,K:s+h,repeat:i})}let _=new class{u(){O(),L.start().then(()=>{Y(!1)});var{name:t,ua:s}=Ht();N(t,s)}wa(){b=!1}v(t){c.save(),c.translate(160,80),[{x:-50,y:0},{x:-50,y:22},{x:-72,y:22},{x:-28,y:22}].forEach(({x:t,y:s})=>{v({x:t-11,y:s},{x:20,y:20},u.o,u.o),v({x:t-11,y:s},{x:18,y:18},u.C,u.C)}),o({text:"move with arrows or wasd",x:-50,y:60,textAlign:"center",size:1}),[["esc","exit game"],[" P ","pause game"]].forEach(([t,s],i)=>{v({x:40,y:i*=22},{x:26,y:20},u.o,u.o),v({x:40,y:i},{x:24,y:18},u.C,u.C),o({text:t+"  "+s,x:45,y:i+8,size:1})}),c.restore(),c.save(),c.restore(),G(t,!0)}$(){$t.start()}};class H{constructor(t={x:0,y:0},s={x:0,y:0}){this.X=!1,this.h=t,this.size=s}update(){this.X=!1}V(){var t=Z.h.x+Z.size.x,s=Z.h.y+Z.size.y,i=this.h.x+this.size.x,h=this.h.y+this.size.y,e=t>this.h.x,a=Z.h.y<h,o=s>this.h.y;return(e=Z.h.x<i&&e&&a&&o)?(i-=Z.h.x,t-=this.h.x,h-=Z.h.y,s-=this.h.y,a=Math.min(i,t,h,s),this.X=!0,{U:e,W:this.W(),right:a===i,left:a===t,bottom:a===h,top:a===s}):{U:this.X=!1,W:!1,right:!1,left:!1,bottom:!1,top:!1}}W(){var t,s,i;return!(Z.l.y<0)&&(t=Z.h.x+Z.size.x-3,s=Z.h.y+Z.size.y,i=this.h.y+2,Z.h.x+5<this.h.x+this.size.x)&&t>this.h.x&&Z.h.y<i&&s>=this.h.y}ba(t,s){v(this.h,this.size,s||t,t)}}function J(t,s,i){t.stroke=s||"",t.fill=i||t.stroke}class W extends H{constructor(t,s){super(t,s),this.fill=this.stroke=u.o}update(){v(this.h,this.size,this.stroke,this.fill)}}class q extends W{constructor(t,s=3){super(j(t),{x:130,y:50*s}),this.g=0,this.g=s}update(){v(this.h,this.size,u.o,u.C);for(let s=0;s<this.g;s++){v({x:this.h.x-1,y:this.h.y+50*s},{x:this.size.x+2,y:6},u.o,u.o);for(let t=0;t<5;t++)c.save(),c.translate(this.h.x+8+25*t,this.h.y+14+50*s),v({x:0,y:0},{x:14,y:12},u.o,u.G),v({x:0,y:12},{x:14,y:12},u.o,u.G),c.restore()}}}let $=new class{constructor(){this.progress=0,this.g=!1,this.j=0,this.i=new q({x:95,y:0},5)}u(){this.progress=0,this.g=!1}v(t){for(let t=0;t<320;t+=16)P(11,{x:t,y:183});this.i.update(),c.fillStyle=u.o,c.fillRect(0,200,320,100),v({x:146,y:161},{x:14,y:39},u.o,u.G),v({x:160,y:161},{x:14,y:39},u.o,u.G),v({x:110,y:130},{x:100,y:20},u.B,u.B),o({text:"movie studio",x:160,y:138,textAlign:"center",size:1,color:u.G}),this.progress<1?(this.progress+=t/3e3,T(t)):(z(0),o({text:"Press ENTER to apply for job",x:160,y:241,textAlign:"center",color:u.G,size:1})),E(252*this.progress-100,194),this.g&&(this.j=Math.min(1,this.j+t/1500),v({x:0,y:0},{x:320,y:256},t=u.G+(3*Math.round(16*this.j/3)).toString(16).repeat(2),t))}$(){1<=this.progress&&!this.g&&(this.g=!0,C(t=>.1*Math.sin(t/50+50*Math.random())*(8e3-t%8e3)/5e3*Math.exp(-t/8e3)),V(()=>{t(_)},1500))}},X=["Story mode","Restart story","Endless mode"],tt=new class{constructor(){this.g=0}u(){O()}v(){o({text:"Levels",x:160,y:30,textAlign:"center",color:u.o,size:3});let s=128,i=0;[...X].forEach(t=>{t={text:t,x:s,y:130+12*i++,color:u.B,size:1},o(t)}),o({text:"&",x:s-10,y:130+12*this.g,color:u.B,size:1}),o({text:"High score: "+$t.s,x:s,y:130+12*i++,color:u.C,size:1}),o({text:$t.H?"# Easy Mode Enabled #":"Press E for easy mode",x:160,y:221,textAlign:"center",color:$t.H?u.o:u.C,size:1}),o({text:"Press ENTER to start",x:160,y:241,textAlign:"center",color:u.o,size:1}),s=96,c.save(),c.translate(s,80),v({x:-16,y:0},{x:160,y:32},u.C,u.C),[5,6,7,8].forEach((t,s)=>{c.save(),c.scale(2,2),P(t,{x:16*s,y:0},$t.j<=s),c.restore()}),c.restore(),hs.Z&&!hs.j.Z&&($t.H=!$t.H)}ia(){this.g--,this.g<0&&(this.g=X.length-1)}va(){this.g++,this.g>X.length-1&&(this.g=0)}$(){0===this.g?($t.i=!1,t(0===$t.j?$:_)):1===this.g?($t.i=!1,$t.j=0,t($)):($t.i=!0,Jt($t))}};function st(t=0){return"#".repeat($t.F-t)+"%".repeat(4-($t.F-t))}function it(h){Z.l={x:0,y:0};let s="Oh no! "+st(),i="Oh no! "+st(1);n([s,i],[u.B],Math.floor(200/(6*s.length))),h.text=s,h.H=0,h.j=!0,$t.F--,V(()=>{h.text=i},200,3,500),V(()=>{h.text=s},200,2,600),$t.F<1?V(()=>{var s,i;h.ka=!0,h.text="you're fired!",h.ca=!0,$t.i?$t.g>$t.s&&($t.s=$t.g,localStorage.setItem("13_terrible_stunts_game_hs",$t.g.toString())):({name:s,ta:i}=Ht(),N(s,i)),h.da=()=>{t(ss)}},2e3):V(()=>{ht(h)},500)}function ht(t){$t.i||12!=$t.g?V(()=>{Jt($t)},1500):($t.m?at:rt)(t)}function et(t){Z.l={x:0,y:0},t.H=0,t.j=!0,t.text="Nice!",ht(t)}function at(s){var{name:i,ya:h}=Ht();$t.m=!1,s.ca=!0,N(i,h),s.da=()=>{if(3===$t.j)s.text="# You're a star! #",K($t.j),s.da=()=>{t(tt)};else if($t.F<4){for(let t=$t.F;t<4;t++)V(()=>{I(26+.5*(t-$t.F)),s.text=` ${st($t.F-t-1)} `},0,0,500*t);V(()=>{Wt()},0,0,2500),s.da=()=>{}}else Wt()}}function rt(s){var{name:t,sa:i}=Ht();N(t,i),s.ca=!0;let h=500;for(let t=13;1<=t;t--)V(()=>{I(t),s.text="Level "+(" "+t).slice(-2)},h+=100+250*(13-t)/13,0,1e3);V(()=>{s.text="SPEED UP!",L.i?.port.postMessage({name:"speed-up"}),V(()=>{$t.m=!0,$t.g=-1,Jt($t)},1e3,0,500)},h+2e3,0,1e3)}class ot{constructor(){this.ca=this.j=this.F=!1,this.za=this.H=0,this.ea=10,this.K=0,this.text="",this.ka=!1,this.da=()=>{}}u(){this.K=this.ea=$t.H?20:10,this.ka=this.ca=this.j=this.F=!1,Z.l={x:0,y:0},L.start(),Y(!0),this.start()}wa(){Q=[]}na(){}start(){this.H=0,this.F=!0}pa(){this.j||it(this)}v(t){this.j||this.F||(this.na(t),this.K=Math.max(0,this.K-t/1e3),Math.round(this.K)<=0&&this.pa())}Ka(t){var s,i,h,e;(this.j||this.F)&&(this.H+=t,this.H<=500&&(this.za=-(Math.cos(this.H/500*Math.PI)-1)/2),0<this.H&&(s=320*this.za-160,i=256*this.za-128,e=this.ka?u.B:u.G,h=this.ka?u.G:u.B,v({x:320-s-100+8,y:256-i-25+8},{x:200,y:50},u.B,u.B),v({x:s-100,y:i-25},{x:200,y:50},u.B,e),o({text:this.text,x:s,y:i,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:h})),1e3<this.H)&&this.F&&(this.F=!1),this.ca&&!$t.i&&G(t,this.ca),e=this,[[st(),"left",7],[Math.round(e.K),"center",160],["Lvl "+($t.g+1),"right",313]].forEach(([i,h,e])=>{[u.C,u.B].forEach((t,s)=>{o({text:i.toString(),x:e-s,y:7-s,textAlign:h,color:t,size:2})})}),v({x:160-(e=2*Math.round(100*e.K/e.ea/2))/2,y:20},{x:e,y:8},u.o,u.G)}$(){this.da()}}class nt extends ot{constructor(){super(...arguments),this.ja=4,this.m={x:.3,y:.05},this.Aa=7,this.Da=14,this.fa=0,this.oa=!0,this.ma=0,this.Ea=2,this.g=[],this.A=[],this.R=!0,this.Fa=512,this.Ga=-256,this.Ja=0}u(){super.u(),this.ma=0,Object.assign(Z,{J:!1,ra:!1,h:{x:20,y:20},l:{x:0,y:0}})}la(){return!this.j&&this.i?.V().U}v(s){var t;$t.g<7&&!$t.m&&o({text:"You can double jump",x:160,y:80,color:u.C,size:1,textAlign:"center"}),!this.j&&this.A.some(t=>t.V().U)&&(Z.ra=!0,it(this)),!this.j&&this.la()&&et(this),this.j||(Z.l={x:l(Z.l.x,-this.ja,this.ja),y:Z.l.y},E(l(Z.h.x+Z.l.x,0,304),l(Z.h.y+Math.min(this.Da,Z.l.y*s/16),this.Ga,this.Fa)+1),(t=this.g.find(t=>t.W()))?(Z.h.y=t.h.y-16,this.ma=this.fa=Z.l.y=0,this.R=!0):(Z.l.y+=this.m.y*s,this.R=!1)),c.save(),c.translate(0,this.Ja),this.i&&o({text:"(",x:this.i.h.x+this.i.size.x/2-5,y:this.i.h.y-20-Math.round(8*this.K)%2}),[...this.g,...this.A,this.i].forEach(t=>{t?.update(s)}),this.M(),this.Ha(s),c.restore(),super.v(s)}M(){}Ha(t){Z.ra?z(3):0===Z.l.x&&0===Z.l.y?z(0):0===Z.l.y?T(t):0<Z.l.y?z(1):Z.l.y<0&&z(2)}na(t){hs.L&&this.ma<this.Ea&&(!this.R||this.oa)?hs.j.L?this.fa<100&&(this.oa=!1,this.fa+=t,Z.l.y=-this.Aa):(this.oa=!0,this.fa=0,Z.l.y=Math.min(0,Z.l.y),this.ma++):hs.L||(this.oa=!0),this.R&&(hs.O?Z.l.x-=this.m.x*t:hs.P?Z.l.x+=this.m.x*t:0==Z.l.y&&(0<Z.l.x?Z.l.x=Math.max(0,Z.l.x-2*this.m.x*t):Z.l.x<0&&(Z.l.x=Math.min(0,Z.l.x+2*this.m.x*t))))}}var lt=[0,40],ct=[-10,20];let jt=class extends nt{constructor(){super(...arguments),this.m={x:.01,y:.05}}u(){super.u(),this.text="Jump over";var t=qt(),s=y(lt,t),t=y(ct,t);this.g=[new q({x:2-s,y:116+t}),new q({x:218+s,y:136-t})],this.A=[new H({x:0,y:276},{x:320,y:10})],s=218+s,this.i=new H({x:s,y:135-t},{x:Math.min(320-s,130),y:10})}},xt=new jt;var yt=[100,180],gt=[4,2.5],ut=[.4,.5];let Ut=new class extends jt{constructor(){super(...arguments),this.s=new H({x:136,y:216},{x:48,y:15})}u(){super.u(),this.text="Jump over";var t=qt(),{qa:s,Qa:i,Pa:h}=function(){let s={qa:y(yt,t),Qa:y(gt,t),Pa:y(ut,t)};return Object.keys(s).forEach(t=>{s[t]*=1+.3*Math.random()}),s}(),t=new W({x:0,y:236},{x:320,y:20});this.A=[t],J(t,u.o,u.o),this.g=[new q({x:-130*h,y:256-s+16},4),new q({x:320-130*(1-h),y:256-s+16},4)],t=this.g[1].h.x,this.i=new H({x:t,y:this.g[1].h.y-1},{x:Math.min(320-t,130),y:1}),this.s=new H({x:160,y:216},{x:16*i,y:15})}v(t){var{U:s,W:i}=this.s.V(),s=((s||i)&&(Z.l.y=-Z.l.y),this.s.h),i=this.s.size;[{h:{x:s.x+3,y:s.y+i.y-1},size:{x:3,y:8}},{h:{x:s.x-6+i.x,y:s.y+i.y-1},size:{x:3,y:8}},{h:s,size:i}].forEach(({h:t,size:s})=>{v(t,s,u.B,u.G)}),super.v(t)}};var ft=[4,2],dt=[100,50];let pt=new class extends jt{constructor(){super(...arguments),this.qa=this.s=0}u(){super.u(),this.text="Land safely";var t=qt();this.s=y(ft,t),this.qa=y(dt,t),J(t=new W({x:0,y:236},{x:320,y:20}),u.o,u.o),this.A=[t],J(t=new W({x:218,y:231},{x:16*this.s,y:5}),u.B,u.G),this.i=t,this.g=[new q({x:-20,y:this.qa+16},4),new W({...t.h},{...t.size})],t.h.y--,t.size.y+=3}la(){return!this.j&&this.i.V().W}};var mt=[2500,1800],At=[120,100];let Pt=new class extends nt{constructor(){super(...arguments),this.m={x:.01,y:.05},this.S=new H({x:0,y:0},{x:5,y:5}),this.aa=110,this.Ia=2e3,this.Ba=1,this.D=this.s=!1,this.ja=3}u(){super.u(),this.text="Swing over",this.D=this.s=!1,this.g=[new q({x:-65,y:116}),new q({x:255,y:116})],this.A=[new H({x:0,y:276},{x:320,y:10})];var t=320-130/3;this.i=new H({x:t,y:115},{x:Math.min(320-t,130),y:10}),t=qt(),this.Ia=y(mt,t),this.aa=y(At,t)}v(t){super.v(t),this.Ba+=t/this.Ia,t=Math.sin(2*this.Ba*Math.PI);var s=160+this.aa*Math.sin(t),i=this.aa*Math.cos(t);M(160,-20,s,i,u.o),this.S.h={x:s,y:i},this.S.ba(u.G,u.B),this.j||(this.D||this.s||!this.S.V().U||(this.s=!0),!this.D&&this.s&&(Z.h=g(this.S.h,-8,-24)),this.D&&this.s&&(Z.l={x:4*Math.sin(t),y:-Math.cos(t)},this.s=!1),this.R&&(this.s=this.D=!1))}ia(){this.D=!0}};class vt extends ot{constructor(){super(...arguments),this.g=Array.from({length:16},()=>[]),this.D=256/13}v(t){var s;super.v(t),this.j||([...this.g.flat()].forEach(t=>{var s=t.V();s.U&&(s.right&&(Z.h.x=t.h.x+t.size.x,Z.l.x=0),s.left&&(Z.h.x=t.h.x-t.size.x,Z.l.x=0),s.bottom&&(Z.h.y=t.h.y+t.size.y,Z.l.y=0),s.top)&&(Z.h.y=t.h.y-t.size.y,Z.l.y=0)}),(s=Z).h=x(s.h,s.l),Z.h.x=l(Z.h.x,0,304),Z.h.y=l(Z.h.y,0,240),Z.l={x:l(Z.l.x,-3,3),y:l(Z.l.y,-3,3)}),0!=Z.l.x||0!=Z.l.y?T(t):z(0)}na(t){hs.L?Z.l.y-=.02*t:hs.N?Z.l.y+=.02*t:0<Z.l.y?Z.l.y=Math.max(0,Z.l.y-.02*t):Z.l.y<0&&(Z.l.y=Math.min(0,Z.l.y+.02*t)),hs.O?(Z.l.x-=.02*t,Z.J=!0):hs.P?(Z.l.x+=.02*t,Z.J=!1):0<Z.l.x?Z.l.x=Math.max(0,Z.l.x-.02*t):Z.l.x<0&&(Z.l.x=Math.min(0,Z.l.x+.02*t))}}class Mt extends H{constructor(t,s,i={}){super(t,{x:16,y:16}),this.xa=this.ha=!1,this.text=this.I=null,this.g=0,this.Ca=!1,this.j=s,this.J=!!i.J,this.ha=!!i.ha,this.xa=!!i.xa}update(t){this.Ca||(this.xa&&P(10,{...this.h,y:this.h.y+8}),P(this.j,this.h,!1,this.J),this.I&&P(this.I,this.h,!1),0<this.g&&this.text&&(this.g-=t||0,t=this.g/1500,o({text:this.text,x:this.h.x+8,y:this.h.y-10+3*t,size:1,color:.66<t?u.B:.33<t?u.o:u.C,textAlign:"center"})))}}let Et=[[11,6,5],[11,7,5],[11,8,5],[9,6,6],[9,8,6,!0],[10,7,6],[10,7,7],[9,8,7,!0],[9,6,7],[12,12,7,!0]];var wt=[1,5];n(["TY#"],[u.B,u.o,u.C],1);let zt=new class extends vt{constructor(){super(...arguments),this.i=new Mt({x:48,y:192},15,{J:!0,xa:!0}),this.m=0}u(){this.text="Bring coffee",this.g=Array.from({length:16},()=>[]),this.m=y(wt,qt()),super.u(),E(30,30),Z.I=[],Et.forEach(([t,s,i,h=!1])=>{this.g[i][s]=new Mt({x:16*s,y:16*i},t,{J:h})}),this.i.X=!1,this.g[this.i.h.y/16][this.i.h.x/16]=this.i;for(let t=0;t<this.m;t++){let i=0,h=0,e=!1;for(;!e;){i=Math.floor(20*(.15+.7*Math.random())),h=Math.floor(16*(.15+.7*Math.random())),e=!0;for(let s=-1;s<=1&&e;s++)for(let t=-1;t<=1&&e;t++)(this.g[h+s]&&this.g[h+s][i+t]||Z.h.x==i+t&&Z.h.y==h+s)&&(e=!1)}this.g[h][i]=new Mt({x:16*i,y:16*h},p[t%p.length],{ha:!0,J:!0})}}wa(){Z.I=[]}v(s){if(this.ba(),this.g.flat().forEach(t=>{t.update(s),t.ha&&t.X&&(!t.I&&0<Z.I.length?(t.I=13,t.text="TY#",t.g=1500,Z.I.pop(),this.g.flat().some(t=>t.ha&&!t.I)||et(this)):t.X=!1)}),this.i.X&&Z.I.length<1)for(;Z.I.length<this.m;)Z.I.push(14);super.v(s)}ba(){for(let t=0;t<this.D;t++)v({x:-1,y:13*t},{x:321,y:13},u.C,u.G);v({x:180,y:20},{x:130,y:216},u.C,u.G)}};var Tt=[4,2.5],Ft=[130,200];let Zt=new class extends nt{constructor(){super(...arguments),this.m={x:.05,y:.05},this.Aa=6,this.D=150,this.Da=7,this.s=3}u(){super.u(),this.text="Land safely";var t=qt();for(this.s=y(Tt,t),this.D=y(Ft,t),this.g=[],t=0;t<4;t++){var s=new W({x:235*t,y:152},{x:210,y:70});J(s,u.o,u.C),this.g.push(s)}this.A=[new H({x:0,y:246},{x:320,y:10})],this.i=new H({x:218,y:211},{x:16*this.s,y:10}),Z.h={x:20,y:70}}v(i){v({x:0,y:221},{x:320,y:35},u.o,u.o),this.i.ba(u.G,u.B),super.v(i),this.F||this.j||(Z.h.x-=this.m.x*i),this.g.forEach((t,s)=>{this.F||(t.h.x-=i*this.D/1e3),P(16,g(t.h,16,62)),P(16,g(t.h,48,62)),P(16,g(t.h,194,62)),P(16,g(t.h,162,62)),o({text:(4-s).toString(),x:t.h.x+15,y:t.h.y+15,size:6,color:u.o})})}Ha(t){Z.ra?z(3):this.j?z(0):T(t)}};class Ct extends nt{constructor(){super(...arguments),this.m={x:.01,y:.05},this.T=10,this.Aa=7.5,this.Ea=1,this.aa={T:[8,12]}}u(){super.u(),this.text="Climb up",this.T=Math.round(y(this.aa.T,qt())),this.Fa=Number.MAX_SAFE_INTEGER,this.Ga=-Number.MAX_SAFE_INTEGER,Z.h={x:160,y:128+50*this.T-10},this.g=[];for(let t=0;t<this.T;t++)this.g.push(new q({x:95,y:50*t+128},1));this.g.push(new W(x(this.g[this.g.length-1].h,{x:0,y:50}),{x:130,y:10})),this.A=[new H({x:0,y:50*this.T+138},{x:320,y:256})]}v(t){this.Ja=128-Z.h.y,super.v(t)}M(){super.M();var s=this.A[0].h.y-16;for(let t=0;t<6;t++)P(11,{x:225+16*t,y:s}),P(11,{x:95-16*(t+1),y:s});this.A[0].ba(u.o)}la(){return!this.j&&this.g[0].W()}}let It=new Ct;var bt=[10,30],kt=[5e3,2e3];let Dt=new class extends vt{constructor(){super(...arguments),this.progress=0,this.s=5e3,this.m={x:.2,y:.1},this.i=null,this.A=!1}u(){super.u(),this.progress=0,this.text="Stay in",E(160,160);var t=qt(),s=y(bt,t),i=(this.s=y(kt,t),this.A=.5<Math.random(),t=320*this.m.x,512*this.m.y),h=.6*t,e=.6*i;for(this.i=new H({x:this.A?192+.1*t+(t-h)/2:64+.2*t,y:128-256*this.m.y+(i-e)/2},{x:h,y:e}),this.g=Array.from({length:16},()=>[]),t=0;t<s;t++){for(i=!1,e=h=0;!i;){h=Math.floor(20*Math.random()),e=Math.floor(16*Math.random()),i=!this.g[e][h];for(let s=-1;s<=1&&i;s++)for(let t=-1;t<=1&&i;t++)Z.h.x==16*(h+t)&&Z.h.y==16*(e+s)&&(i=!1)}this.g[e][h]=new Mt({x:16*h,y:16*e},11)}}v(t){if(super.v(t),this.g.flat().forEach(t=>t.update()),!this.F){1<=this.progress?this.j||(this.i?.V().U?et:it)(this):this.progress+=t/this.s,c.save(),this.A||(c.translate(320,0),c.scale(-1,1)),t=Math.pow(this.progress,3);var s=this.m,i=s=[[0,0],[.5,0],[1,.5],[.8,.5],[.8,.5-s.y],[1-(.2+s.x),.5-s.y],[1-(.2+s.x),.5+s.y],[.8,.5+s.y],[.8,.5],[1,.5],[.5,1],[0,1]],h=t,e=(c.save(),c.globalAlpha=.5,c.transform(h,-1+h,0,1,0,0),c.beginPath(),c.moveTo(0,256),i.forEach(([t,s])=>{c.lineTo(320*t,256*s)}),c.fillStyle=u.B,c.clip(),c.fillRect(0,0,320,256),c.restore(),h=s,Math.min(1,t));c.save(),c.transform(Math.pow(e,3),.5*(-1+e),0,1,0,0),c.beginPath(),c.moveTo(0,256),h.forEach(([t,s])=>{c.lineTo(320*t,256*s)}),c.fillStyle=u.G,c.strokeStyle=u.C,c.stroke(),c.save(),c.clip(),e=Math.round(320/30),c.fillRect(0,0,320,256);for(let t=0;t<30;t++)c.strokeRect(e*t,0,e,256);c.restore(),M(320*h[1][0],256*h[1][1],320*h[2][0],256*h[2][1],u.C),M(320*h[2][0],256*h[2][1],320*h[10][0],256*h[10][1],u.C),c.restore(),c.restore()}}};var St=[.2,.2],Bt=[.04,.08];let Nt=new class extends ot{constructor(){super(...arguments),this.m=0,this.A=.07,this.g=3,this.i=this.s=0}u(){super.u(),this.text="Spotlight",this.m=160,this.i=0,this.g=.5<Math.random()?3:0;var t=qt();this.A=y(Bt,t),this.s=y(St,t)}v(t){super.v(t),v({x:0,y:206},{x:320,y:50},u.C,u.C),P(12,{x:16,y:190},!1,!0);for(var s=0;s<4;s++)P(11,{x:160-32*s-24,y:190}),P(11,{x:32*s+168,y:190});P(17,{x:this.m-8,y:196},!1,1==this.g||0==this.g),c.beginPath(),c.moveTo(160,80),c.globalAlpha=1,c.fillStyle=u.o;var s=160+512*Math.sin(2*(this.i+.05)*Math.PI),i=80+512*Math.cos(2*(this.i+.05)*Math.PI),h=160+512*Math.sin(2*(this.i-.05)*Math.PI),e=80+512*Math.cos(2*(this.i-.05)*Math.PI);c.lineTo(s,i),c.lineTo(320,256),c.lineTo(320,0),c.lineTo(0,0),c.lineTo(0,256),c.lineTo(h,e),c.lineTo(160,80),c.fill(),M(160,80,s,i,u.C),M(160,80,h,e,u.C),P(0,{x:152,y:64}),P(16,{x:152,y:72}),40<Math.abs(this.m-160-144*Math.sin(2*Math.PI*this.i))&&!this.j&&it(this),this.j||this.F||(t*Math.random()<this.s*(0===this.g||3===this.g?1:2)&&(this.g=.5<Math.random()?Math.abs(this.g-1):this.g+(3===this.g?-1:1)),this.m+=t*this.A*(0===this.g?-1:3===this.g?1:0)),256<this.m&&3===this.g?this.g=0:this.m<64&&0===this.g&&(this.g=3)}pa(){et(this)}na(t){hs.P&&(this.i+=2e-4*t),hs.O&&(this.i-=2e-4*t),this.i=l(this.i,-.125,.125)}},Gt=[3e3,2500];function Yt(t){var s=(t.g+t.D-t.M/8)%1;t=2*(t.m?(t.g+t.D-(t.M-1+t.A)/8)%1:s)*Math.PI,E(160+60*Math.cos(t)-8,128+60*Math.sin(t)-16)}let Ot=new class extends ot{constructor(){super(...arguments),this.D=this.g=0,this.R=3e3,this.M=-7,this.m=!1,this.A=0,this.i=this.s=!1}u(){super.u(),this.K=5,this.R=y(Gt,qt()),this.text="Stay dry",Z.J=!0,this.M=-7,this.g=0,this.D=Math.cos(2*this.g*Math.PI)/20,this.i=this.s=!1,Yt(this)}pa(){et(this)}v(t){super.v(t),this.F||this.j||(this.g+=t/this.R,this.D=Math.cos(2*this.g*Math.PI)/20,1<=this.g&&--this.g),this.s||this.i||(148<Z.h.y?(this.s=!1,this.i=!0,V(()=>it(this),500)):Z.h.x<140?(this.s=!0,this.i=!1,V(()=>it(this),500)):Yt(this)),this.i?(Z.h.y+=.04*t,Z.h.x-=.2*t):this.s&&(Z.h.x-=.04*t,Z.h.y+=.2*t,153.6<Z.h.y)&&(this.i=!0),this.m&&(this.A+=t/50,1<this.A)&&(this.m=!1,this.A=0);var s=this.g+this.D,i=2*Math.PI/8;for(let t=0;t<8;t++){var h=i*(t+8*s);c.save(),c.translate(160,128),M(40*Math.cos(h),40*Math.sin(h),40*Math.cos(h+i),40*Math.sin(h+i),u.o),M(0,0,80*Math.cos(h),80*Math.sin(h),u.o),c.restore()}M(0,i=148+5*Math.sin(2*Math.PI*s),320,s=148+5*Math.cos(2*Math.PI*s),u.o),c.beginPath(),c.moveTo(0,i),c.lineTo(320,s),c.lineTo(320,256),c.lineTo(0,256),c.lineTo(0,i),c.fill(),Z.J=!this.i,this.i?P(2,(t=Z).h,!1,t.J,!0):z(this.m?2:0)}ia(){this.F||this.j||this.m||(this.M++,this.m=!0,this.A=0)}},Lt=new class extends Ct{constructor(){super(...arguments),this.m={x:.3,y:.05},this.ja=3,this.S=[],this.D=0,this.T=5,this.s=!1,this.aa={T:[4,9]}}u(){super.u(),this.text=" Escape ",this.S=[],this.s=!1,Z.h={x:160,y:128};for(let t=0;t<this.g.length-1;t++)this.S.push(15+30*Math.round(90*Math.random()/2/15))}v(t){this.D+=t/40,super.v(t)}la(){return this.g[this.g.length-1].W()}M(){super.M();let{x:e,y:a}=this.g[0].h,s=Math.round(this.D/3)%3;for(let t=0;t<this.g.length-1;t++){var i=this.g[t];P(1<=s?26:27,{x:e-4,y:i.h.y+10*Math.cos(t+1)},!1,0==s%2),P(1<=s?26:27,{x:e+130-4,y:i.h.y+20*Math.cos(t)},!1,0==s%2)}this.g[this.g.length-1].ba(u.G,u.B),this.s=!1,this.S.forEach((t,s)=>{var i=15*Math.round(Z.h.x/15)==15*Math.round((e+t-5)/15)&&Z.h.y<a+50*s&&Z.h.y>a+50*(s-1);this.s||(this.s=i);let h=i?u.B:u.o;for(c.save(),c.translate(e+t,a+50*s),[0,10].forEach(t=>v({x:t,y:0},{x:2,y:50},h,h)),t=0;t<6;t++)v({x:0,y:6+7*t},{x:10,y:2},h,h);c.restore()})}va(){this.s&&(Z.l.y=2,Z.l.x=0,Z.h.y+=15)}},Rt=new class extends vt{constructor(){super(...arguments),this.i=[]}u(){super.u();var s=y([.8,1.5],qt()),i=(E(100,100),this.text="Clean up",this.i=[],320*Math.random()/2+80),h=256*Math.random()/2+64;for(let t=0;t<150;t++){var e=Math.random()*Math.PI*2,a=s*Math.random()*256/6;this.i.push(new Mt({x:i+a*Math.cos(e),y:h+a*Math.sin(e)},0==t%2?26:27))}}v(t){for(let t=0;t<this.D;t++)v({x:-1,y:13*t},{x:321,y:13},u.C,u.G);this.i.forEach((t,s)=>{c.save(),c.translate(t.h.x+t.size.x/2,t.h.y+t.size.y/2),c.rotate((s%2?1:-1)*Math.PI/2),c.translate(-(t.h.x+t.size.x/2),-(t.h.y+t.size.y/2)),t.update(),c.restore(),t.V().U&&(t.Ca=!0)}),super.v(t),z(4),!this.j&&this.i.every(t=>t.Ca)&&et(this)}},Kt=new class extends ot{constructor(){super(...arguments),this.g=this.progress=0,this.i=!1,this.m=[-65,255].map(t=>new q({x:t,y:106},2))}u(){super.u(),this.K=this.ea=5,this.text="DON'T MOVE",this.g=this.progress=0,this.i=!1}v(t){super.v(t);var s=.98*this.progress+.02*Math.cos(2*this.progress*Math.PI*4);v({x:0,y:196},{x:320,y:60},u.o,u.o),this.m.forEach(t=>t.update());let i,h=Math.sin(2*this.progress*Math.PI*4);for(s=Math.floor(y([65,255],s)),i=0;i<7;i++)P(p[i%3],{x:s-h*i+(this.i?5*this.g*(i%2?1:-1)*i:0),y:191-14*i*(1-(this.i?this.g*this.g:0))});this.progress<1&&!this.i&&E(s-h*i,191-14*i),this.F||this.j||this.i||(this.progress<1?this.progress+=t/(1e3*(this.ea-1)):E(s-h*i+30*this.g,191-14*i-30*Math.sin(this.g*Math.PI*.98)),1<=this.progress&&this.g<1&&(this.g=Math.min(1,this.g+t/300)),(hs.L||hs.N||hs.O||hs.P)&&!this.i&&(console.log("fall"),this.i=!0,this.g=0,V(()=>{it(this)},500))),this.i&&this.g<1&&(this.g=Math.min(1,this.g+t/200),E(s-h*i,191-14*i*(1-this.g))),z(0)}pa(){et(this)}},Qt=[{name:"Assistant Dave",ua:"If you want to make it big in Hollywood kid, you better do as I say!",sa:"Is that all you got?",ya:"I guess you're not totally worthless!",ta:"Stop wasting my time kid!"},{name:"Director Leni",ua:"Just do what one tells you, and stay out of my way.",sa:"Hurry, I have not the whole day.",ya:"Obedient and disciplined. You'll get far, child.",ta:"Is there some reason my coffee isn't here?"},{name:"Director Alfred",ua:"Good evening. Are you ready to face your fears?",sa:"It is time for your final act",ya:"Well done. I must admit, you handled the tension admirably.",ta:"Was this worth the price of admission?"},{name:"Wally",ua:"I've been watching you grow. Show me what you got, ha ha.",sa:"The wheel must keep spinning, ha ha!",ya:"Splendid. I can definitely use you, ha ha!",ta:"This just won't do ha ha"}],Vt=[[zt,xt,Rt,Zt],[It,xt,zt,Ut,Dt],[Nt,Ot,Dt,Zt,Ut,Kt],[pt,Nt,Lt,Pt,Dt,Ot]],_t=new Set(Vt.flat());function Ht(){return Qt[Math.min($t.j,Qt.length-1)]}function Jt(s){var i;s.g++,t(s=s.i?s.D[s.g%s.D.length]:(i=Vt[s.j])[s.g%i.length])}function Wt(){var s=$t;3==s.j?t(tt):(s.j++,R()<s.j&&K(s.j),s.g=-1,s.m=!1,t(_))}function qt(){var t=$t,s=t.i?t.g/26:(t.j/3+t.g/12)/2;return Math.min(t.H?.5*s:s,2)}let $t=new class{constructor(){this.j=this.s=0,this.g=-1,this.F=4,this.i=!0,this.D=[],this.A=this.m=this.H=!1;var s=[...Array.from(_t)];for(let t=s.length-1;0<t;t--){var i=Math.floor(Math.random()*(t+1));[s[t],s[i]]=[s[i],s[t]]}this.D=s,this.j=R(),s=localStorage.getItem("13_terrible_stunts_game_hs")||"",this.s=parseInt(s,10)||0}start(){this.g=-1,this.m=!1,Jt(this)}},Xt=new class{v(){"About;;It's 1924 and you're aiming to become a;movie star. Work yourself up through;grueling jobs to reach your goals.;;;Game developed for js13kgames 2024.;Copyright )lopis.;;Music adapted from 'Batty McFaddin';by Kevin MacLeod';CC BY 3.0';;# Special thanks to the js13k community,;# to the js13k organizers,;# and the friends who helped testing".split(";").forEach((t,s)=>{o({text:t,x:20,y:0===s?20:40+10*s,size:0===s?3:1,color:0===s?u.o:u.B})})}$(){t(ss)}},ts=["start  ","about  "],ss=new class{constructor(){this.g=0,this.j=!1,document.addEventListener("click",()=>this.j=!0)}u(){O()}wa(){}v(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((i,h)=>[u.C,u.B].forEach((t,s)=>{o({text:i,x:160-s,y:40+15*h-s,textAlign:"center",color:t,size:2})})),ts.forEach((t,s)=>{o({text:(s===this.g?"& ":"  ")+t,x:160,y:120+16*s,textAlign:"center",color:s===this.g?u.B:u.o,size:1})}),this.j&&[u.C,u.B].forEach((t,s)=>{o({text:"Use  Enter + WASD/Arrows  to play",x:160,y:100-s,textAlign:"center",color:t,size:1})}),c.save(),c.globalAlpha=.5,c.translate(.5,.5),c.rotate(-25),c.scale(8,8),P(2,{x:3,y:13}),c.restore(),o({text:"Press Enter to start",x:160,y:241,textAlign:"center",color:u.o,size:1})}ia(){this.g--,this.g<0&&(this.g=ts.length-1)}va(){this.g++,this.g>ts.length-1&&(this.g=0)}$(){0===this.g?($t.i=!0,$t.g=-1,$t.F=4,t(tt)):1===this.g&&t(Xt)}};function is(s,h,e){$t.A||s.g.set(h.code,e),e||("Escape"===h.key&&(i.g!=ss&&t(ss),$t.A=!1),"KeyP"===h.code&&($t.A=!$t.A))}let hs=new class{constructor(){this.Z=this.ga=this.Y=this.P=this.O=this.N=this.L=!1,this.g=new Map,this.j={L:this.L,N:this.N,P:this.P,O:this.O,Y:this.Y,ga:this.ga,Z:this.Z},document.addEventListener("keydown",t=>is(this,t,!0)),document.addEventListener("keyup",t=>is(this,t,!1)),this.i=new DOMPoint}v(t){this.j.L=this.L,this.j.N=this.N,this.j.Y=this.Y,this.j.ga=this.ga,this.j.Z=this.Z;var s=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,i=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,h=this.g.get("KeyW")||this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,e=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.i.x=s+i||0,this.i.y=h+e||0,this.L=this.i.y<0,this.N=0<this.i.y,this.O=this.i.x<0,this.P=0<this.i.x,this.Y=!!this.g.get("Enter")||!!this.g.get("Space"),this.ga=!!this.g.get("Escape"),this.Z=!!this.g.get("KeyE"),this.L&&!this.j.L&&"function"==typeof t.ia&&t.ia(),this.N&&!this.j.N&&"function"==typeof t.va&&t.va(),this.P&&!this.j.P&&"function"==typeof t.Oa&&t.Oa(),this.O&&!this.j.O&&"function"==typeof t.Na&&t.Na(),this.Y&&!this.j.Y&&"function"==typeof t.$&&t.$()}},es=(document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E🎞%3C/text%3E%3C/svg%3E",0);function as(t){var s=t-es;if(16<=s){for($t.m&&(s*=1.3),es=t,c.clearRect(0,0,320,256),c.fillStyle=u.G,c.fillRect(0,0,320,256),$t.A&&(s=0),t=i.g,hs.v(t),t.v(s),t.Ka&&t.Ka(s),t=Q.length-1;0<=t;t--){var h=Q[t];if(!h)break;h.K-=s,h.K<=0&&(h.La(),h.repeat--<=0?Q.splice(t,1):h.K=h.time)}$t.A&&(c.fillStyle=u.B+"DD",c.fillRect(0,0,320,256),["paused","press 'P' to continue"].forEach((i,h)=>{[u.B,u.G].forEach((t,s)=>{o({text:i,x:160-s,y:128+30*h-30-s,textAlign:"center",color:t,size:3-h})})}))}requestAnimationFrame(as)}!async function(){await async function(){let t=performance.now();return Promise.all(f.map((t,s)=>async function(t,i){let e=[];[...i].map(t=>{t=t.charCodeAt(0),e.push(3&t),e.push(t>>2&3),e.push(t>>4&3)}),i=Math.floor(Math.sqrt(e.length));var a,o,r,n,l,c=new ImageData(i,i);for(let s=0;s<i;s++)for(let t=0;t<i;t++)e[s*i+t]&&(l=6*(e[s*i+t]-1),[a,o,r,n]=h("#"+U.substring(l,6+l)),l=4*(t+s*i),c.data[l]=a,c.data[1+l]=o,c.data[2+l]=r,c.data[3+l]=n||255);i=await createImageBitmap(c),d[t]=i}(s,t))).then(()=>{console.debug(`Loaded icons in ${performance.now()-t}ms`),p=[17,18,19],m=[5,6,7,8],A=[20,21,22,23,24,25]})}();for(let t=1;t<=13;t++)n(["Level "+(" "+t).slice(-2)],[u.B],4)}().then(()=>{i=new s,requestAnimationFrame(as)})</script>