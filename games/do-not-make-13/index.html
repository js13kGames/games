<!doctype html><meta name=viewport content="width=device-width,maximum-scale=1"><title>Do Not Make 13! - js13kGames 2024</title><style>body{margin:0;overflow:hidden;background:#000;user-select:none;-webkit-user-select:none;touch-action:none;color:#fff;font-family:Times;font-weight:700;font-size:2vmax}canvas{width:100%;height:100%;display:block}.d{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;z-index:1;position:fixed;inset:0;padding:1em;background:#000}.b{position:fixed;right:-10em;bottom:.5em;background:#000;padding:.5em 1em .5em .5em;transition:right .2s ease}.b:hover{color:#000;background:#fff;box-shadow:0 .25em 0 #000}</style><canvas></canvas><div class=b>Restart</div><div class=d>Generating assets...</div><script>(async()=>{function t(t){return"number"==typeof t?[[0,t],[1,t]]:t}function e(t){return new Float32Array(t||3)}function i(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function n(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function r(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function h(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function a(t,e,i,n){t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n}function s(t,e,i,n){t[0]=e[0]+(i[0]-e[0])*n,t[1]=e[1]+(i[1]-e[1])*n,t[2]=e[2]+(i[2]-e[2])*n}function o(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])}function l(t,e=t){var i=Math.hypot(e[0],e[1],e[2]);return t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i,t}function c(t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]){return new Float32Array(t)}function f(t){return t.o.bind().X("_0",G)}function u(t){var i=innerWidth,n=innerHeight;return e(i/n>Z?[360*(t.clientX-(i-n*Z)/2)/n,360*t.clientY/n,0]:[480*t.clientX/i,480*(t.clientY-(n-i/Z)/2)/i,0])}function w(t){return Math.sin(2*Math.PI*t)}function v(){return 2*Math.random()-1}function g(t,e){t=new Float32Array(t*O);for(let i=0;i<t.length;i++)t[i]=e(i/t.length,i/O);return t}function d(t,e){e=new E(e);for(let i=0;i<t.length;i++)t[i]*=e.sample(i/t.length);return t}function m(t){Array.isArray(t)||(t=[t]);var e=N.createBuffer(t.length,t[0].length,O);for(let i=0;i<t.length;i++)e.getChannelData(i).set(t[i]);return e}function _(e,i,n=Math.SQRT1_2){let r=new E(t(i),!0),h=new E(t(n));return p(e,(t=>{var e,i=r.sample(t),n=1/(1+(e=1/h.sample(t))*(i=1/Math.tan(Math.PI*i/O))+(t=i*i));return[n*i*e,0,-n*i*e,2*n*(1-t),n*(1-e*i+t)]}))}function p(t,e){let i=0,n=0;for(let s=0;s<t.length;++s){var r=e(s/(t.length-1)),h=t[s],a=h*r[0]+i;t[s]=a,i=h*r[1]-a*r[3]+n,n=h*r[2]-a*r[4]}return t}function M(t){return 220*2**(t/12)}function b(t,e,i){return Math.min(Math.max(t,e),i)}function y(t,e,i){return(i=b((i-t)/(e-t),0,1))*i*(3-2*i)}function x(t,e,i,n,r){return`<text style="font:${e}" fill="${i}" text-anchor="middle" x="${n}" y="${r}">${t}</text>`}async function A(t,e,i){let n=new Image(e,i);n.src="data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${e} ${i}" width="${e}" height="${i}">${[t].join("")}</svg>`),await new Promise((t=>{n.onload=t}));var r=(t=document.createElement("canvas")).getContext("2d");return t.width=e,t.height=i,r.drawImage(n,0,0,e,i),t}function P(){let t=e(),i=e(),n=e([3*(Math.random()-.5),3*(Math.random()-.5),0]),r=0,h=Math.random()+1;return{update(a){r+=S*h,s(t,i,n,y(0,1,r)),1<=r&&(--r,i.set(t),n=e([a*(Math.random()-.5),a*(Math.random()-.5),0]),h=Math.random()+1)},offset:t}}function j(t,e,i,n){var r=N.createBiquadFilter();return r.type=t,r.frequency.value=e,r.Q.value=i||1,r.gain.value=n||0,r}function B(t,e=!0){var i;St&&"running"===N.state&&((i=N.createBufferSource()).buffer=t,e&&i.connect(St),i.connect(Tt),i.start())}function F(t,e,i){t[0]=e[0]*Math.cos(i)-e[1]*Math.sin(i),t[1]=e[0]*Math.sin(i)+e[1]*Math.cos(i)}function I(t,e,i,n){if((e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])<0){for(let c=0;c<n.length;c++)if(n[c]!==t&&n[c]!==e&&n[c]!==i&&(s=i,l=(o=function(t,e,i){return(t[0]-i[0])*(e[1]-i[1])-(e[0]-i[0])*(t[1]-i[1])})(r=n[c],h=t,a=e),a=o(r,a,s),r=o(r,s,h),!(l<0||a<0||r<0)||!(0<l||0<a||0<r)))return;var r,h,a,s,o,l;return 1}}function z(t){function i(t){return t.J&&t.J!==t.value+""?"6"===t.J||"9"===t.J?Math.PI:.25*Math.PI:0}function n(){for(var t of f)t.S=e(t.j)}let h,l,c,f=t.filter((t=>t instanceof Ct)),u=t.find((t=>t instanceof Nt)),w=t.find((t=>t instanceof Ot)),v=t.find((t=>t instanceof se)),g=t.find((t=>t instanceof oe)),d=t.find((t=>t instanceof re)),m=function(t,e){if(!((e=t.findIndex((t=>t instanceof ne)))<0))return t.splice(e,1)[0]}(t),_=[],p=(Mt=u,bt=w,yt=f,It=jt=Pt=0,T.style.right="-10em",0),M=0;return{update(){switch(It){case 0:1<=(Pt+=S)&&(It=1);break;case 1:u.V?q?(W&&u.move(r(e(),q,W)),o(u.i,w.j)<16&&Math.abs(u.i[1]-w.j[1])<8&&(v?.ba(),It=2,p=0,T.style.right="-10em")):u.fa():q&&(async function(){u.ea(),v?.aa(),d&&(t.splice(t.indexOf(d),1),d=void 0)}(),T.style.right=0);break;case 2:!function(){var t=e([w.j[0]+(p+1)*p*Math.max(100,$),w.j[1],0]);if(2<o(t,u.i)&&u.move(r(e(),t,u.i),!1),0===p)try{m.$()}catch(t){return alert("Woops! You managed to draw a line that triggered an error! Restarting level..."),D()}if(p+=S,u.D=w.D=y(1,.9,p),1<p){f[0].N===f[1].N&&g&&(g.show=!0);var i,n=xt.map((()=>[]));for(i of f)n[i.N].push(i),i.R=0,i.Z=i.j;if(l=function(t){var e,i,r=[];for(e of n)for(var h of(t=e.slice(),ht))for(;(i=function(t,e){var i,n=[];for(i of h){let r;if(r="*"===i||"+"===i?["+"]:"-"===i?["-"]:"9"===i||"6"===i?[9,6]:[Number(i)],-1===(t=e.findIndex((t=>r.includes(t.value)))))return n.forEach((t=>t.J=void 0)),void e.push(...n);e[t].J=i,n.push(...e.splice(t,1))}return n}(0,t))&&r.push(i),i;);return r}(),c=0<l.length){for(B(et),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)l[n][i].R=40,l[n][i].Z=e([240+70*(-(l[n].length-1)/2+i),180+80*(-(l.length-1)/2+n),0]);Bt=l.some((t=>2<t.length))?4:2,jt=0,It=3}else It=6}}();break;case 3:var x,A=y(0,1,jt);for(x of f)a(x.j,x.W,r(e(),x.Z,x.W),A),a(x.j,x.j,e([4*Math.random()-2,0,0]),1-A),x.size=x.M+(x.R-x.M)*A,x.rotation=x.L+(i(x)-x.L)*A;if(1.2<jt){for(var P of(It=4,n(),_=[],f))P.U=!1;for(let t of l){let i="13"!==t.map((t=>t.value)).join("");t.forEach((t=>t.U=i)),i&&[new Ct(1,40,e([205,t[0].j[1],0])),new Ct(3,40,e([275,t[0].j[1],0]))].forEach((e=>{e.color=t[0].color,e.K=1,e.D=0,_.push(e)}))}}else jt+=S*Bt;break;case 4:{let t=y(1.7,2.2,jt+=S*Bt),i=y(3.3,5,jt);if(0===i){for(var j of f)j.U&&(s(j.j,j.S,e([240,j.j[1],0]),t),j.D=(1-t)**.5);_.forEach((e=>{e.D=t**2}))}else{for(var F of f)F.U&&(s(F.j,e([240,F.j[1],0]),F.S,i),F.D=b(3*i,0,1));_.forEach((t=>{t.D=1-3*i}))}jt>=(0<_.length?6:2)&&(n(),jt=Ft=0,xt=void 0,m.da(),It=5,T.style.right=0)}break;case 5:var I,z=y(0,1,Ft+=S);for(I of f)s(I.j,I.S,I.W,z),I.size=I.R+(I.M-I.R)*z,I.T=1-z,I.rotation=I.L+(i(I)-I.L)*(1-z);u.D=Ft,w.D=Ft,u.ca(),1<=Ft&&u.i[0]<=w.j[0]&&48<o(u.i,w.j)&&(jt=p=0,f.forEach((t=>{t.T=1,t.color=void 0})),It=1);break;case 6:if(0===M){for(let t=0;t<5;t++)setTimeout((()=>{B(Q[le[t]])}),100*t);h=new ue}var C,k=y(1,0,1.2*(M+=S));for(C of f)C.size=C.M*k;1<M&&(ve++,localStorage.setItem("donotmake13",ve===we.length-1?0:ve),ge=we[ve]())}At=2*p*p,t.forEach((t=>t.update?.())),h?.update()},A(){var e;m.A(),t.forEach((t=>t.A())),_.forEach((t=>t.A())),0<M&&(e=y(.5,1,M),ce.o.bind().l("_1",e),pt.u()),h?.A()}}}function C(){let t=1;return{update(){t-=S},A(){ce.o.bind().l("_1",t),pt.u()}}}function D(){ge=we[ve]()}let k=document.querySelector(".d"),T=document.querySelector(".b");class E{constructor(t,e=!1){this.g=t,this.v=e,this.m()}m(){this.h=0}sample(t){for(;this.h<this.g.length-1;){var[e,i,n=1]=this.g[this.h],[r,h]=this.g[this.h+1];if(e<=t&&t<r)return t=(t-e)/(r-e),t=1<n?t**n:1-(1-t)**(1/n),this.v?i*(h/i)**t:i+t*(h-i);this.h++}return this.g[this.g.length-1][1]}}let S,V,L=()=>new Promise((t=>{k.textContent+=".",requestAnimationFrame(t)})),Z=480/360,$=0,H=0,R=e([240,180,0]),G=c(),U=document.querySelector("canvas"),Y=U.getContext("webgl2",{antialias:!0});(onresize=function(){U.width=innerWidth*devicePixelRatio,U.height=innerHeight*devicePixelRatio,H=$=0,U.width/U.height>Z?$=Math.round((360*U.width/U.height-480)/2):H=Math.round((480*U.height/U.width-360)/2);var t=G,e=360+H,i=-H,n=-$,r=480+$;t[0]=2/(r-n),t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2/(i-e),t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=-.02,t[11]=0,t[12]=(r+n)/(n-r),t[13]=(i+e)/(e-i),t[14]=-1,t[15]=1,V?.()})();let q,W,N=new AudioContext,J=N.createDynamicsCompressor(),O=N.sampleRate;J.connect(N.destination),document.body.addEventListener("pointerdown",(t=>{q=u(t)})),document.body.addEventListener("pointermove",(t=>{q&&=u(t)})),document.body.addEventListener("pointerup",(()=>{q=void 0}));let X,K=[M(-19),M(-17),M(-15),M(-14),110,M(-7),M(-5),M(-3),M(-2),220,M(4),M(7),M(9),M(10),440,M(16),M(19),M(21),M(22),880,M(28),M(31)],Q=[],tt=[[0,0,2],[.01,.5,.5],[.03,.4,.02],[1,0]],et=[],it=[[0,0],[.01,.3,.9],[.02,.15,.8],[.99,.03],[1,0]],nt=[M(-7),M(-5),M(-3),M(-2),220],rt=[],ht="13 11+2 11+1+1 9+4 9+2+2 8+5 8+4+1 8+3+2 8+2+2+1 7+6 7+5+1 7+4+2 7+4+1+1 7+3+3 7+2+2+2 6+6+1 6+5+2 6+5+1+1 6+4+3 6+4+2+1 6+4+1+1+1 6+3+2+2 6+2+2+2+1 5+5+3 5+5+2+1 5+5+1+1+1 5+4+4 5+4+2+2 5+3+3+2 5+2+2+2+2 4+4+4+1 4+4+3+2 4+4+2+2+1 4+3+3+3 4+3+2+2+2 4+2+2+2+2+1 3+3+3+2+2 3+2+2+2+2+2 2+2+2+2+2+2+1 7+3*2 6*2+1 5+3*2+2 4*2+5 4*2+4+1 4*2+3+2 4*2+2+2+1 4+3+3*2 5*2+3 3*3+2+2 14-1 15-2 15-1-1 16-2-1 16-1-1-1 17-4 17-2-1-1 17-1-1-1-1 18-5 18-4-1 18-2-1-1-1 19-6 20-7 21-8 22-9 55-42 35-22 3*3+4 45-32 23-5-5 22-5-4 3+5+5 4+4+5 2*5-2+5 23-4-4-2 2+3+4*2".split(" ");class at{constructor({data:t,width:e,height:i,ha:n=33071,filter:r=9729}){this.g=Y.createTexture(),Y.bindTexture(3553,this.g),e?Y.texImage2D(3553,0,6408,e,i||e,0,6408,5121,null):Y.texImage2D(3553,0,6408,6408,5121,t),Y.texParameteri(3553,10242,n),Y.texParameteri(3553,10243,n),Y.texParameteri(3553,10241,r),Y.texParameteri(3553,10240,r)}bind(t=0){Y.activeTexture(33984+t),Y.bindTexture(3553,this.g)}}let st=new at({data:await A(x("Do Not Make","900 100px Times","#fff",512,256),1024,1024)}),ot=await Promise.all("M405 258c0 59-9 119-37 171-25 41-70 75-121 70-56-3-99-50-117-100-31-84-30-177-6-262 12-46 41-91 86-110 41-20 92-9 125 21 43 36 57 93 66 146 3 21 4 43 4 64zm-105 0c-1-52 1-105-3-156-3-20-4-45-23-57-18-10-45-4-52 18-13 33-9 71-11 106-1 80-4 161 2 241 3 21 4 47 23 60 20 11 48 3 54-20 13-34 8-70 9-106l1-86z;M309 17v398c1 20 0 44 19 55 15 8 33 7 49 7 0 7 3 16-7 13H133c0-7-2-16 8-13 22 0 51 1 63-22 8-25 5-52 5-77V135c1-16-7-33-23-37-18-5-36 2-53 9-2-5-10-13 0-15l165-75h11z;M371 490H98v-8c84-99 134-166 152-200 18-35 27-69 27-101 0-24-7-44-22-60a71 71 0 0 0-54-24c-36 0-63 18-82 53l-13-5c12-43 31-76 56-97s54-31 87-31a124 124 0 0 1 110 61c11 19 16 37 16 54 0 30-8 61-25 92-23 42-73 101-151 176h100c25 0 41-1 48-3 8-2 14-5 19-10 4-5 11-15 18-31h13l-26 134Z;M184 258v-12c26-8 44-15 54-21 10-7 19-17 26-30 8-13 11-27 11-41a70 70 0 0 0-72-69c-32 0-59 17-81 51l-13-5c17-38 38-66 63-85 26-19 54-29 86-29s58 10 79 29a91 91 0 0 1 17 119c-10 15-25 29-45 41 26 13 46 29 60 49 14 18 22 42 22 71 0 48-18 89-53 123s-82 51-141 51c-39 0-67-7-85-20-13-9-20-20-20-35 0-10 4-19 11-26 8-8 17-12 26-12 8 0 15 2 22 5l38 30c23 18 43 27 63 27 17 0 31-6 43-20 12-13 18-30 18-51 0-31-11-60-33-86-21-26-53-44-96-54Z;M98 315 318 17h42v298h42v71h-42v104h-94V386H98v-71Zm33 0h135V132L131 315Z;M188 27h217l-35 88H188l-18 46c79 3 139 22 182 59 34 29 52 67 52 111a165 165 0 0 1-93 147c-29 14-61 22-96 22-38 0-67-8-88-22-14-10-21-21-21-34 0-10 4-18 11-26 8-7 16-11 26-11 9 0 18 2 27 5 9 4 25 14 47 29 14 10 26 16 36 20 7 3 15 4 24 4a68 68 0 0 0 67-70c0-40-20-72-60-97s-91-38-152-38h-28l84-233Z;M409.7 17v9.6c-41.3 10.4-74.4 24-99.5 40.6a193.2 193.2 0 0 0-59.1 60.2 292.2 292.2 0 0 0-33.5 87.5 99 99 0 0 1 25-13.4 153 153 0 0 1 44.7-6.8 112 112 0 0 1 86.5 38c23.2 25 34.9 59.3 34.9 102.8a188 188 0 0 1-18.8 84 140.4 140.4 0 0 1-127.1 80 143 143 0 0 1-79-23.2 156.7 156.7 0 0 1-56.8-68.7 237.6 237.6 0 0 1-20.1-98 294 294 0 0 1 37.2-145c25-44.9 60.5-80.5 106.3-107 46-26.6 99.1-40.2 159.3-40.6ZM213.2 242.5a1332 1332 0 0 0-2.8 69c0 31.5 3 62 9 91.3 6 29.4 14.4 50 24.9 61.9a34.6 34.6 0 0 0 26.6 12.6c10.5 0 19.8-6 28-18 8.2-12.4 12.3-37.2 12.3-74.6 0-62.9-7.6-106.3-22.8-130.2a45 45 0 0 0-39.7-23.2c-9.1 0-21 3.7-35.5 11.2Z;m205 500 126-383h-96c-38 0-66 5-85 15-13 7-24 20-33 38h-13l34-143h276L259 500h-54Z;M319 228c33 24 56 46 68 67 13 21 19 44 19 71 0 37-14 69-42 95s-66 39-115 39c-45 0-81-12-106-34-25-23-37-50-37-83 0-25 7-47 21-65 15-19 39-36 72-52-36-28-60-50-70-68-11-18-16-39-16-62 0-31 13-58 40-82 26-23 62-35 108-35 44 0 78 10 102 31a96 96 0 0 1 16 133c-12 17-32 32-60 45Zm-26-17c9-12 15-24 19-39 4-14 6-29 6-46 0-30-6-52-19-68a48 48 0 0 0-39-18c-16 0-29 5-39 17a56 56 0 0 0-16 41c0 16 6 34 17 52 12 17 36 38 71 61Zm-68 72c-7 6-12 12-15 17a205 205 0 0 0-10 137c6 14 14 25 24 31s20 10 31 10c17 0 31-6 42-18 12-13 17-29 17-51 0-44-29-86-89-126Z;M102 500v-10c38-9 70-21 96-38 27-17 48-38 63-63 16-25 26-53 32-86-14 8-26 13-36 16-10 2-20 4-31 4-35 0-64-13-88-38-23-25-35-60-35-104 0-31 7-58 19-84 13-25 31-45 55-59a140 140 0 0 1 150 2c24 16 43 38 57 68 15 29 22 62 22 100 0 49-12 95-35 140-24 45-58 81-105 108-46 27-100 41-164 44Zm197-225 3-68c0-41-5-80-14-116-6-19-14-34-25-43-5-5-13-8-22-8-11 0-20 5-26 15-9 13-14 39-14 77 0 63 8 106 23 130 10 16 23 24 39 24 9 0 21-4 36-11Z".split(";").map((async t=>new at({data:await A(`<path d="${t}" fill="#fff" fill-rule="nonzero" />`,512,512)})))),lt=new at({data:await A('<path d="M70 233h372v46h-372zM233 70h46v372h-46z" fill="#fff" />',512,512)}),ct=new at({data:await A('<path d="M70 233h372v46h-372z" fill="#fff" />',512,512)}),ft=new at({data:await A(x("Thatâ€™s all!","900 100px Times","#fff",512,512),1024,1024)}),ut=new at({data:await A(x("Thanks for playing!","900 70px Times","#fff",512,600),1024,1024)});class wt{constructor(){this.g=Y.createProgram()}join(t){return Y.attachShader(this.g,t.o),this}h(){Y.linkProgram(this.g),Y.useProgram(this.g),Y.useProgram(null)}bind(){return Y.useProgram(this.g),this}B(t){return this.X("_6",t),this}m(t,e){Y.uniform1i(Y.getUniformLocation(this.g,t),e)}l(t,e){return Y.uniform1f(Y.getUniformLocation(this.g,t),e),this}G(t,e){return Y.uniform3fv(Y.getUniformLocation(this.g,t),e),this}X(t,e){return Y.uniformMatrix4fv(Y.getUniformLocation(this.g,t),!1,e),this}}class vt{constructor(t,e){this.o=Y.createShader(t),Y.shaderSource(this.o,"#version 300 es\n"+e),Y.compileShader(this.o)}}let gt=new vt(35633,"precision highp float;layout(location=0)in vec3 _8;uniform mat4 _0;uniform mat4 _6;out vec3 _9; void main(){_9=vec3(_6*vec4(_8,1.));gl_Position=_0*vec4(_9,1.);}");class dt{constructor(t,e){for(this.o=new wt,e?(e=new vt(35633,"precision highp float;layout(location=0)in vec3 _8;uniform mat4 _0;uniform mat4 _6;out vec3 _9;"+e),this.o.join(e)):this.o.join(gt),t=new vt(35632,"precision highp float;in vec3 _9;out vec4 o;uniform sampler2D _10[2];"+t+" void main(){o=shader();}"),this.o.join(t),this.o.h(),this.o.bind(),t=0;t<2;t++)this.o.m(`_10[${t}]`,t)}}let mt=new dt("in vec2 _11;uniform float _2;uniform vec3 _3;uniform vec3 _4;uniform float _1;uniform float _12;vec4 shader(){vec3 c=(1.-_2)*2.<abs(_9.x)?_4:_3;c=mix(_3,c,_12);float a=texture(_10[0],_11).a*_1;return vec4(c,a);}","out vec2 _11;out vec2 _13;uniform float _14;void main(){_11=_8.xy*.5+.5;gl_Position=_0*_6*vec4(_8,1.);_9=gl_Position.xyz;_9.x*=_14;}");class _t{constructor(){this.v=Y.createVertexArray(),Y.bindVertexArray(this.v),this.F=Y.createBuffer(),Y.bindBuffer(34962,this.F),this.H=this.length=this.m=0,Y.bindBuffer(34962,null),Y.bindVertexArray(null)}h(){for(var t=[3],e=0;e<t.length;e++)this.m+=4*t[e];Y.bindVertexArray(this.v),Y.bindBuffer(34962,this.F);for(let i=e=0;i<t.length;i++)Y.vertexAttribPointer(i,t[i],5126,!1,this.m,e),Y.enableVertexAttribArray(i),e+=4*t[i];Y.bindBuffer(34962,null),Y.bindVertexArray(null),this.m/=4,this.H=this.length/this.m}g(t){this.length=t.length,Y.bindVertexArray(this.v),Y.bindBuffer(34962,this.F),Y.bufferData(34962,t,35048),this.H=this.length/this.m}P(t,e=0){Y.bindVertexArray(this.v),Y.bindBuffer(34962,this.F),Y.bufferSubData(34962,e,t)}u(t=4){Y.bindVertexArray(this.v),Y.bindBuffer(34962,this.F),this.I?(Y.bindBuffer(34963,this.I.buffer),Y.drawElements(4,this.I.count,5123,0)):(Y.bindVertexArray(this.v),Y.bindBuffer(34962,this.F),Y.drawArrays(t,0,this.H))}ga(t){this.I=t}}let pt=new _t;pt.h(),pt.g(new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0,-1,1,0,1,-1,0]));let Mt,bt,yt,xt,At=0,Pt=0,jt=0,Bt=2,Ft=0,It=0,zt=(new dt("vec4 shader(){return vec4(1.);}","void main(){gl_Position=_0*_6*vec4(_8,1.);}"),[[.65,0],[.55,.02],[.65,.05],[.67,.05],[.65,0],[.65,0],[.65,0],[.65,0],[.64,0],[.65,0]]);class Ct{constructor(t,i,n,r=0){if(this.m=e(),this.rotation=r,"number"==typeof t)this.g=ot[t],this.width=i*zt[t][0],this.height=i,this.m[0]=zt[t][1]*i;else switch(t){case"+":this.g=lt,this.width=.8*i,this.height=.8*i;break;case"f":t="-",this.rotation=Math.PI/2,this.g=ct,this.width=.8*i,this.height=.8*i;break;case"-":this.g=ct,this.width=.8*i,this.height=.8*i}this.L=this.rotation,this.value=t,this.j=n,this.M=this.size=i,this.W=e(n),this.K=-i/50,this.h=P(),this.T=1}update(){this.K+=2*S,this.h.update(.1*this.size)}A(){var t=y(0,1,b(this.K,0,1)),i=Math.sin(this.rotation)*this.size*t;t=Math.cos(this.rotation)*this.size*t;f(mt).l("_2",At).G("_3",e([1,1,1])).G("_4",this.color||e([0,0,0])).l("_1",this.D??1).l("_12",this.T).l("_14",U.width/U.height).B(c([t,i,0,0,-i,t,0,0,0,0,1,0,...n(e(),n(e(),this.j,this.m),this.h.offset),1])),this.g.bind(),pt.u()}}let Dt=new dt("uniform float _1;vec4 shader(){return vec4(vec3(1.),_1);}","out vec2 _13;uniform float _14;void main(){gl_Position=_0*vec4(_8,1.);_9=gl_Position.xyz;_9.x*=_14;}"),kt=new dt("in vec2 _11;uniform float _5;vec4 shader(){float a=smoothstep(1.,.98,length(_11));float c=.7+.3*smoothstep(.7,.8,length(_11));c=mix(c,1.,.5+_11.x+_11.y);return vec4(vec3(c)*_5,a);}","out vec2 _11;void main(){_11=_8.xy;_9=vec3(_6*vec4(_8,1.));gl_Position=_0*vec4(_9,1.);}"),Tt=j("peaking",192,2,0),Et=j("highshelf",5e3,2,0);Tt.connect(Et),Et.connect(J);let St,Vt,Lt,Zt,$t=[4,1,2,0,4,1,2,3],Ht=[4,9,1,6,2,7,0,5,4,9,1,6,2,7,3,8],Rt=[21,20,19,17,16,15,14,12,11,10],Gt=[21,20,19,18,16,15,14,13,11,10],Ut=328/Rt.length,Yt=0,qt=!1;class Wt{constructor(t){this.points=t,this.g=this.v(t.map((t=>t[0]))),this.h=this.v(t.map((t=>t[1])))}m(t){if(1===t)return this.points.at(-1);t*=this.points.length-1;var i=Math.floor(t);return e([this.g[0][i]+this.g[1][i]*(t-=i)+this.g[2][i]*t**2+this.g[3][i]*t**3,this.h[0][i]+this.h[1][i]*t+this.h[2][i]*t**2+this.h[3][i]*t**3,0])}v(t){for(var e=t.length-1,i=(t=t.slice(),Array(e)),n=Array(e),r=Array(e+1).fill(1),h=Array(e).fill(0),a=Array(e+1).fill(0),s=Array(e),o=Array(e+1).fill(0),l=Array(e),c=0;c<e;c++)i[c]=1;for(c=1;c<e;c++)n[c]=3/i[c]*(t[c+1]-t[c])-3/i[c-1]*(t[c]-t[c-1]);for(c=1;c<e;c++)r[c]=2*(i[c]+i[c-1])-i[c-1]*h[c-1],h[c]=i[c]/r[c],a[c]=(n[c]-i[c-1]*a[c-1])/r[c];for(--e;0<=e;e--)o[e]=a[e]-h[e]*o[e+1],s[e]=(t[e+1]-t[e])/i[e]-i[e]*(o[e+1]+2*o[e])/3,l[e]=(o[e+1]-o[e])/(3*i[e]);return[t,s,o,l]}}class Nt{constructor(t){t=e([10,t,0]),this.C=new _t,this.C.h(),this.C.g(new Float32Array(30720)),this.Y=t,this.s=[e([-1e3,t[1],0]),e(t),e(t)],this.i=e(t),this.V=void 0,this.C.P(new Float32Array([-1e3,t[1],0,...t,...t]),0),this.g(),this.D=1}ea(){this.V=e(q)}fa(){this.V=void 0}move(t,i=!0){let n=Math.hypot(...t);for(t=l(e(),t);0<n&&!this.I(h(e(),t,Math.min(16,n)),i);)n-=16}H(t,i){if(!this.h(n(i,this.i,t)))return!1;var r=e();for(let e=.1;e<1;e+=.1){if(F(r,t,e),!this.h(n(i,this.i,r)))return!1;if(F(r,t,-e),!this.h(n(i,this.i,r)))return!1}return!0}h(t){if(yt.some((e=>Math.abs(t[0]-e.j[0])<e.width&&Math.abs(t[1]-e.j[1])<e.height)))return!0;for(let e=0;e<this.s.length-3;e++)if(o(this.s[e],t)<=16)return e>this.s.length-5&&this.P(e),!0;return!1}I(t,a){var s,c=e();if(a){if(this.H(t,c))return!0}else n(c,this.i,t);this.i.set(c),a&&(this.i[0]=b(this.i[0],16,464),this.i[1]=b(this.i[1],16,344)),t=e(this.s.at(-2)),c=e(this.s.at(-3)),o(this.i,c)<16||o(t,c)<2?this.m(-2):(a=r(e(),this.i,t),s=l(e(),a),c=r(e(),t,c),i(s,l(e(),c))<0&&(t=n(e(),a=h(e(),c,i(a,c)/i(c,c)),t),this.v(-2,t),a=this.s.at(-4))&&o(t,a)<16&&this.m(-3),16<o(this.i,this.s.at(-2))?this.F(this.i):this.v(-1,this.i))}F(t){this.s.push(e(t)),this.g()}v(t,e){t<0&&(t=this.s.length+t),this.s.at(t).set(e),this.g()}m(t){t<0&&(t=this.s.length+t),this.s.splice(t,1),this.g()}g(){var t=Math.min(1024,4*this.s.length),e=new Wt(this.s.slice(1)),i=new Float32Array(3*t);for(let r=0;r<t;r++){var n=e.m(r/(t-1));i[3*r]=n[0],i[3*r+1]=n[1]}this.C.H=t,this.C.P(i,12)}P(t){t<0&&(t=this.s.length+t),this.s.splice(t),this.F(this.i)}ca(){var t=100;for(480<this.i[0]&&(t+=3*(this.i[0]-480)),t*=S;0<t;){var i=r(e(),this.s.at(-2),this.i),a=Math.hypot(...i);if(!(a<t)){h(i,l(i),t),n(this.i,this.i,i),this.v(-1,this.i);break}this.i.set(this.s.at(-2)),this.m(-1),t-=a}}update(){!function(t){!Vt&&t&&(Lt=e(t),Zt=Math.floor((t[1]-16)/Ut)),Vt=t?e(t):void 0}(1===It?this.i:void 0)}A(){f(Dt).B(c()).l("_1",this.D).l("_14",U.width/U.height),this.C.u(3),f(kt).B(c([16,0,0,0,0,16,0,0,0,0,1,0,...n(e(),this.i,e([3,3,0])),1])).l("_5",0),pt.u(),kt.o.B(c([16,0,0,0,0,16,0,0,0,0,1,0,...this.i,1])).l("_5",1),pt.u()}}let Jt=new dt("in vec2 _11;vec4 shader(){float a=smoothstep(1.,.98,length(_11));float c=smoothstep(.86,.94,length(_11));return vec4(vec3(c),a);}","out vec2 _11;void main(){_11=_8.xy;_9=vec3(_6*vec4(_8,1.));gl_Position=_0*vec4(_9,1.);}");class Ot{constructor(t){this.j=e([464,t,0]),this.C=new _t,this.C.h(),this.C.g(new Float32Array([480,t,0,980,t,0])),this.D=1}update(){}A(){f(Dt).B(c()).l("_1",this.D).l("_14",U.width/U.height),this.C.u(3),Mt.i[0]<=this.j[0]&&(f(Jt).B(c([16,0,0,0,0,16,0,0,0,0,1,0,...this.j,1])),pt.u())}}class Xt{constructor(){this.buffer=Y.createBuffer()}g(t){Y.bindBuffer(34963,this.buffer),Y.bufferData(34963,t,35044),this.count=t.length}}let Kt=new dt("uniform vec3 _15;uniform float _2;uniform float _16;vec4 shader(){float f=(1.-_2)*2.<abs(_9.x)?1.:.0;return vec4(f*_15*_16,1.);}","uniform float _14;void main(){gl_Position=_0*vec4(_8,1.);_9=gl_Position.xyz;_9.x*=_14;}"),Qt=new dt("uniform vec3 _3;uniform vec3 _4;uniform float _16;in float varyingY;vec4 shader(){vec3 c=_9.y>varyingY?_3:_4;return vec4(c*_16,1.);}","out float varyingY;uniform float _17;void main(){varyingY=(_0*vec4(.0,_17,.0,1.)).y;gl_Position=_0*_6*vec4(_8,1.);_9=gl_Position.xyz;}"),te=[-200,180,0,-200,0,0];for(let t=0;t<=40;t++)te.push(0==t%2?0:9,t/40*360,0);te.push(-200,360,0);let ee=new _t,ie=(ee.h(),ee.g(new Float32Array(te)),[e([1,.2,.2]),e([.1,.1,1]),e([.5,1,.2]),e([.1,.2,1]),e([1,1,.2])]);class ne{constructor(){this.g=[ie[2*ve%ie.length],ie[(2*ve+1)%ie.length]].map((t=>e(t))),this.h=0}$(){function t(t,e,n){var r=new _t,h=(t=[...i,...t],n&&t.reverse(),r.h(),n=new Float32Array(t.flatMap((t=>[...t]))),r.g(n),n=new Xt,function(t){var e=[];for(t=t.map(((t,e)=>({O:t,index:e})));3<t.length;){let h=!1;for(let a=0;a<t.length;a++){var i=t[a],n=t[(a+1)%t.length],r=t[(a+2)%t.length];if(I(i.O,n.O,r.O,t.map((t=>t.O)))){e.push(i.index,n.index,r.index),t.splice((a+1)%t.length,1),h=!0;break}}if(!h)throw{}}return e.push(...t.map((t=>t.index))),e}(t));return n.g(new Uint16Array(h)),r.ga(n),{color:e,points:t,C:r}}let i=[];var n,r=Mt.s.slice(1);let h;r[r.length-1]=e(r[r.length-1]),r[r.length-1][0]+=10,r=new Wt(r);for(let t=0;t<=480;t++){var a=r.m(t/480);h&&o(a,h)<3||(h=a,i.push(a))}for(n of(i.push(e([bt.j[0]+500,bt.j[1],bt.j[2]])),xt=[t([e([480+$,-H,0]),e([-$,-H,0]),e([-$,Mt.Y[1],0])],this.g[0]),t([e([480+$,360+H,0]),e([-$,360+H,0]),e([-$,Mt.Y[1],0])],this.g[1],!0)],yt))n.N=this.m(n.j),n.color=this.v(n.N)}m(t){for(let o=0;o<xt.length;o++){let l=t,c=e([Math.random(),1,0]),f=xt[o].points,u=0,w=f.length;for(let t=0;t<w;t++){var i=l,n=c,r=f[t],h=f[(t+1)%w],a=[-(h=[h[0]-r[0],h[1]-r[1]])[1],h[0]],s=n[0]*a[0]+n[1]*a[1];(i=!(Math.abs(s)<1e-10||((r[0]-i[0])*a[0]+(r[1]-i[1])*a[1])/s<0)&&0<=(i=((r[0]-i[0])*n[1]-(r[1]-i[1])*n[0])/(n[0]*h[1]-n[1]*h[0]))&&i<=1)&&(u+=1)}if(1==u%2)return o}return-1}v(t){return-1===t?e([.5,.5,.5]):this.g[(t+1)%xt.length]}da(){this.h=-$}A(){xt&&(f(Kt).l("_2",At).l("_16",1-y(0,1,jt)).l("_14",U.width/U.height),xt.forEach((t=>{Kt.o.G("_15",t.color),t.C.u()}))),this.h*=Math.exp(-5*S),f(Qt).B(c([1,0,0,0,0,1,0,0,0,0,1,0,this.h,0,0,1])).G("_3",this.g[0]).G("_4",this.g[1]).l("_16",1-y(0,1,jt)).l("_17",Mt.s[0][1]),ee.u(6),Qt.o.B(c([-1,0,0,0,0,1,0,0,0,0,1,0,bt.j[0]+16-this.h,0,0,1])).l("_17",bt.j[1]),ee.u(6)}}class re{time=0;A(){this.time=b(this.time+S,0,1);var t=y(0,.5,this.time);f(mt).l("_2",0).G("_3",e([1,1,1])).G("_4",e([0,0,0])).l("_1",1).B(c([150*t,0,0,0,0,150*t,0,0,0,0,1,0,...R,1])),st.bind(),pt.u()}}let he=new _t,ae=(he.h(),he.g(new Float32Array([-1,0,0,0,-1,0,0,1,0,0,-.5,0,1,-.5,0,0,.5,0,0,.5,0,1,-.5,0,1,.5,0])),new dt("uniform float _5;vec4 shader(){return vec4(vec3(_5),1.);}","void main(){gl_Position=_0*_6*vec4(_8,1.);}"));class se{time=0;g=0;aa(){this.g=1}ba(){this.g=2}update(){1===It&&(this.time+=S)}A(){var t,e;2!==this.g&&(e=16*b(5*this.time,0,1),t=4*Math.sin(9*this.time),e=0===this.g?c([e,0,0,0,0,e,0,0,0,0,1,0,50+t,250,0,1]):c([-e,0,0,0,0,e,0,0,0,0,1,0,430+t,250,0,1]),f(ae).B(e).l("_5",1),he.u())}}class oe{constructor(){this.C=new _t,this.C.h(),this.C.g(new Float32Array([229,124,0,233,131,0,235,139,0,236,147,0,237,155,0,238,163,0,238,171,0,237,179,0,236,187,0,236,195,0,236,203,0,236,211,0,237,219,0,238,227,0,239,234,0,243,242,0])),this.show=!1}A(){this.show&&!Mt.s.some((t=>o(t,R)<20))&&(f(Dt).B(c()).l("_2",At).l("_14",U.width/U.height),this.C.u(1))}}let le=[14,15,16,17,19],ce=new dt("uniform float _1;vec4 shader(){return vec4(vec3(.0),_1);}","void main(){gl_Position=vec4(_8,1.);}"),fe=new _t;fe.h(),fe.g(new Float32Array([0,-1,0,.29,-.4,0,-.29,-.4,0,.95,-.31,0,.48,.15,0,.29,-.4,0,.59,.81,0,0,.5,0,.48,.15,0,-.59,.81,0,-.48,.15,0,0,.5,0,-.95,-.31,0,-.29,-.4,0,-.48,.15,0,.29,-.4,0,.48,.15,0,0,.5,0,.29,-.4,0,0,.5,0,-.29,-.4,0,0,.5,0,-.29,-.4,0,-.48,.15,0]));class ue{constructor(){this.g=Array.from({length:13},(()=>e([480+$,bt.j[1],0]))),this.h=Array.from({length:13},((t,i)=>(t=Math.PI/2+i/13*Math.PI*2,e([Math.cos(t),Math.sin(t),0])))),this.size=16,this.time=0}update(){for(let t=0;t<13;t++)a(this.g[t],this.g[t],this.h[t],400*S),.25<this.time&&h(this.h[t],this.h[t],Math.exp(-9*S));.5<this.time&&(this.size*=Math.exp(-9*S)),this.time+=S}A(){if(!(this.size<1)){f(ae).l("_5",0);for(var t=0;t<13;t++)ae.o.B(c([this.size,0,0,0,0,this.size,0,0,0,0,1,0,...n(e(),this.g[t],e([3,3,0])),1])),fe.u();for(ae.o.l("_5",1),t=0;t<13;t++)ae.o.B(c([this.size,0,0,0,0,this.size,0,0,0,0,1,0,...this.g[t],1])),fe.u()}}}let we=[()=>z([new Ot(250),new Nt(250),new Ct(1,50,e([200,180,0])),new Ct(3,50,e([280,180,0])),new Ct("+",25,e([60,160,0])),new Ct("+",20,e([420,180,0])),new Ct("+",15,e([280,330,0])),new re,new se,new oe,new ne]),()=>z([new Ot(180),new Nt(180),new Ct(1,30,e([210,100,0])),new Ct(3,30,e([270,100,0])),new Ct(1,30,e([210,250,0])),new Ct(3,30,e([270,260,0])),new Ct("+",30,e([90,150,0])),new Ct("+",20,e([410,200,0])),new ne,C()]),()=>z([new Ot(180),new Nt(180),new Ct(1,25,e([205,110,0])),new Ct(3,35,e([270,110,0])),new Ct(3,30,e([210,250,0])),new Ct(1,30,e([275,260,0])),new Ct("+",20,e([70,120,0])),new Ct("+",30,e([390,200,0])),new ne,C()]),()=>z([new Ot(180),new Nt(180),new Ct(1,30,e([200,170,0])),new Ct(1,25,e([380,65,0])),new Ct(3,15,e([360,160,0])),new Ct(1,15,e([380,220,0])),new Ct(3,40,e([280,230,0])),new Ct(3,40,e([120,250,0])),new Ct("+",30,e([90,150,0])),new Ct("+",20,e([410,320,0])),new ne,C()]),()=>z([new Ot(180),new Nt(180),new Ct(1,25,e([80,70,0])),new Ct(1,20,e([165,60,0])),new Ct(1,40,e([265,90,0])),new Ct(1,30,e([390,50,0])),new Ct("+",20,e([140,130,0])),new Ct("+",20,e([350,140,0])),new Ct("+",20,e([240,270,0])),new Ct(3,30,e([340,265,0])),new Ct(3,45,e([140,250,0])),new ne,C()]),()=>z([new Ot(180),new Nt(180),new Ct(1,35,e([150,200,0])),new Ct(1,30,e([220,130,0])),new Ct(2,20,e([80,260,0])),new Ct("+",20,e([240,200,0])),new Ct(1,35,e([330,220,0])),new Ct(1,35,e([255,130,0])),new Ct(2,25,e([400,260,0])),new Ct("+",20,e([240,20,0])),new Ct(2,20,e([270,20,0])),new Ct(3,40,e([220,300,0])),new Ct("+",20,e([340,300,0])),new ne,C()]),()=>z([new Ot(260),new Nt(50),new Ct("+",20,e([140,130,0])),new Ct(2,20,e([165,130,0])),new Ct("+",50,e([240,130,0])),new Ct(3,50,e([310,130,0])),new Ct("+",45,e([210,240,0])),new Ct(5,45,e([270,240,0])),new Ct(1,30,e([70,270,0])),new Ct(1,30,e([400,200,0])),new Ct(1,20,e([85,50,0])),new ne,C()]),()=>z([new Ot(80),new Nt(300),new Ct(3,20,e([60,130,0])),new Ct(2,25,e([80,310,0])),new Ct(3,20,e([144,218,0])),new Ct(3,30,e([344,200,0])),new Ct(2,20,e([198,124,0])),new Ct(2,40,e([268,51,0])),new Ct(2,20,e([387,74,0])),new Ct(3,20,e([393,314,0])),new Ct(2,25,e([204,330,0])),new Ct("+",25,e([62,44,0])),new Ct("+",30,e([170,122,0])),new Ct("+",25,e([170,333,0])),new Ct("+",20,e([323,301,0])),new Ct("+",20,e([278,290,0])),new Ct("+",25,e([430,155,0])),new ne,C()]),()=>z([new Ot(180),new Nt(300),new Ct(1,20,e([60,130,0])),new Ct(2,30,e([160,130,0])),new Ct(3,25,e([60,220,0])),new Ct(4,20,e([400,180,0])),new Ct(5,25,e([360,330,0])),new Ct(6,25,e([240,330,0])),new Ct(6,30,e([250,80,0])),new Ct("+",30,e([160,330,0])),new Ct("+",40,e([400,80,0])),new Ct("+",40,e([400,280,0])),new ne,C()]),()=>z([new Ot(100),new Nt(100),new Ct(2,25,e([71,50,0])),new Ct(5,25,e([229,30,0])),new Ct(3,25,e([402,38,0])),new Ct(3,25,e([216,216,0])),new Ct(4,25,e([372,151,0])),new Ct(4,25,e([405,184,0])),new Ct(2,25,e([102,318,0])),new Ct(5,25,e([400,300,0])),new Ct("-",20,e([60,130,0])),new Ct("-",20,e([190,230,0])),new Ct("+",20,e([260,130,0])),new Ct("-",20,e([260,330,0])),new ne,C()]),()=>z([new Ot(260),new Nt(50),new Ct("+",20,e([140,130,0])),new Ct("+",20,e([400,50,0])),new Ct(2,20,e([165,130,0])),new Ct("+",40,e([240,130,0])),new Ct(1,50,e([297,130,0])),new Ct("-",40,e([200,240,0])),new Ct("f",40,e([203,245,0])),new Ct(5,45,e([263,240,0])),new Ct(1,30,e([70,270,0])),new Ct(1,30,e([400,200,0])),new Ct(1,20,e([85,50,0])),new ne,C()]),()=>{var t=[];for(let n=0;n<20;n++){var i=0==n%3?1:0==n%4?2:0==n%5?3:"+";t.push(new Ct(i,20,e([n%5*75+90,75*Math.floor(n/5)+70,0])))}return z([new Ot(260),new Nt(50),...t,new ne,C()])},()=>{{let t=C(),i=0,r=P();return{update(){i+=S,t.update(),r.update(5)},A(){var h=240*y(0,1,y(0,1.5,i)),a=(f(mt).l("_2",0).G("_3",e([1,1,1])).G("_4",e([0,0,0])).l("_1",1).B(c([h,0,0,0,0,h,0,0,0,0,1,0,...R,1])),ft.bind(),pt.u(),n(e(),r.offset,R)),s=(mt.o.B(c([h,0,0,0,0,h,0,0,0,0,1,0,...a,1])),ut.bind(),pt.u(),f(ae).l("_5",1),h=250*y(0,1,y(.4,1.5,i)),20*y(.7,1.2,i));for(let t=0;t<13;t++)ae.o.B(c([s,0,0,0,0,s,0,0,0,0,1,0,a[0]+Math.sin(2*Math.PI*t/13+.1*i)*h,a[1]+Math.cos(2*Math.PI*t/13+.1*i)*h,0,1])),fe.u();t.A()}}}}],ve=localStorage.getItem("donotmake13")||0,ge=we[ve](),de=(document.addEventListener("keydown",(t=>{"r"===t.key&&D()})),T.onclick=D,new dt("in vec2 _11;uniform float _18;vec4 shader(){return vec4(texture(_10[0],_11*.5+vec2(.5+_18,.5)).r,texture(_10[0],_11*.5+.5).gb,1.);}","out vec2 _11;out vec2 _13;void main(){_11=_8.xy;gl_Position=vec4(_8,1.);}")),me=new class extends at{constructor(t){super(t),this.h=Y.createFramebuffer(),Y.bindFramebuffer(36160,this.h),Y.bindTexture(3553,this.g),Y.framebufferTexture2D(36160,36064,3553,this.g,0)}m(t,e){Y.bindTexture(3553,this.g),Y.texImage2D(3553,0,6408,t,e,0,6408,5121,null)}v(){Y.bindFramebuffer(36160,this.h)}}({width:U.width,height:U.height});Y.lineWidth(5);{let t=0;for(var _e of K)Q.push(await function(t){let e=0;return m(_(d(g(2,(function(){return e+=t/O,2*Math.abs(e%1*2-1)-1})),tt),[[0,1e3],[.1,t/4]]))}(_e)),0==t++%5&&await L()}for(var pe of(await 0,nt))rt.push(await function(t){let e=Math.random(),i=Math.random(),n=Math.random(),r=Math.random(),h=0,a=v(),s=1-Math.exp(-100/O),o=t*Math.pow(2,-.1/12),l=t*Math.pow(2,.005),c=t*Math.pow(2,.1/12),f=t*Math.pow(2,-.005);return m([d(g(2,(function(){return e+=o/O,i+=l/O,n+=t/O,1<=(r+=.25*t/O)&&(--r,a=v()),h=s*a+(1-s)*h,w(e)+.25*w(2*i)+w(4*n)*h})),it),d(g(2,(function(){return e+=c/O,i+=f/O,n+=t/O,1<=(r+=.25*t/O)&&(--r,a=v()),h=s*a+(1-s)*h,w(e)+.25*w(2*i)+w(4*n)*h})),it)])}(pe)),await L();await 0,xe=Me(),be=Me(),ye=[[0,0,.5],[.05,1,.2],[1,0]],await!(X=m([d(d(_(g(3,v),[[0,1e3],[.5,420],[.7,1500]],1),xe),ye),d(d(_(g(3,v),[[0,1e3],[.5,420],[.7,1500]],1),be),ye)]));{let e=0;et=m(function(e,i=Math.SQRT1_2){let n=new E(t([[0,20],[.125,17e3],[.4,3e3,.1],[.625,283,2],[1,20]]),!0),r=new E(t(i));return p(e,(t=>{var e,i=n.sample(t),h=1/(1+(e=1/r.sample(t))*(i=1/Math.tan(Math.PI*i/O))+(t=i*i));return[h,2*h,h,2*h*(1-t),h*(1-e*i+t)]}))}(d(g(.95,(function(t){return(e+=(t<.4?55:30)/O)%1*2-1})),[[0,0,2],[.01,.15,.5],[.8,.1,.02],[1,0]])))}function Me(){let t=0,e=[];for(;e.push([t,Math.random()]),(t+=.01)<=1;);return e}var be,ye,xe;await 0,(xe=N.createConvolver()).buffer=X,(St=N.createGain()).gain.value=.7,St.connect(xe),xe.connect(Tt),k.remove();{let t;V=function(){me.m(U.width,U.height)},requestAnimationFrame((function e(i){t&&(S=Math.min(.1,(i-t)/1e3),ge.update(),me.v(),Y.viewport(0,0,U.width,U.height),Y.clear(16640),Y.enable(3042),Y.depthMask(!1),Y.disable(2929),Y.blendFunc(770,771),ge.A(),Y.bindFramebuffer(36160,null),Y.viewport(0,0,U.width,U.height),de.o.bind().l("_18",2/U.width),me.bind(0),pt.u(),W=q),t=i,requestAnimationFrame(e)}))}document.addEventListener("pointerdown",(async()=>{await N.resume(),qt||(qt=!0,setInterval((()=>{var t,i,n;"running"===N.state&&(128<=Yt%256&&0==Yt%16&&B(rt[$t[Math.floor(Yt/16)%$t.length]]),0==Yt%8&&B(Q[Ht[Math.floor(Yt/8)%Ht.length]]),t=112<=Yt%128?Gt:Rt,Vt&&2!=Yt%16%3&&(i=Math.floor((Vt[1]-16)/Ut),n=25<o(Lt,Vt)&&Math.random()<.9,i===Zt&&!n||(n?((i+(n=Math.floor(3*Math.random())-1)>=t.length||i+n<0)&&(n=-n),B(Q[t[i+n]])):B(Q[t[i]]),Lt=e(Vt),Zt=i)),Yt++)}),100))}))})()</script>