<!doctype html><meta name=viewport content="width=device-width"><title>A QR Maze - js13kGames 2025</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:beige;background-image:linear-gradient(rgba(58,225,244,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(58,225,244,.1) 1px,transparent 1px);background-size:20px 20px;font-family:'Courier New',monospace;overflow:hidden}#game{display:block;border:2px solid #3ae1f4;box-shadow:0 0 20px rgba(58,225,244,.3)}#qr-reveal{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(245,245,220,.95);display:none;align-items:center;justify-content:center;z-index:1000}#qr-reveal.show{display:flex}#qr-container{text-align:center;color:#2a2a2a;padding:30px;background:rgba(255,255,255,.9);border:3px solid #3ae1f4;border-radius:15px;box-shadow:0 0 30px rgba(58,225,244,.4)}#qr-canvas{border:4px solid #3ae1f4;margin:20px;image-rendering:pixelated;background:#fff}button{background:linear-gradient(135deg,#3ae1f4,#83f3ff);border:2px solid #3ae1f4;padding:12px 25px;color:#000;font-family:inherit;font-size:16px;font-weight:700;cursor:pointer;margin-top:20px;border-radius:8px}button:hover{background:linear-gradient(135deg,#83f3ff,#3ae1f4)}</style><canvas id=game></canvas><div id=qr-reveal><div id=qr-container><h2>Level Complete!</h2><canvas id=qr-canvas></canvas><p>Scan me for a black cat surprise!</p><button onclick=nextLevel()>Continue</button></div></div><script>const TILE_SIZE=25,MAZE_SIZE=27,PLAYER_SIZE=20,SPEED=3,DASH_SPEED=8,DASH_TIME=20,POWER_MAX=100;let canvas,ctx,qrCanvas,qrCtx,gameState="menu",level=0,playerX=23.5,playerY=6.5,offsetX=0,offsetY=0,dashTime=0,power=100,keys={},maze=[];const qrMaze=[[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,0,1,1,0,0,1,0,1,0,1,0,1,1,1,1,0,1,1,1],[0,1,0,0,0,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,0,0,0,0,0,1,0],[0,1,0,1,1,1,0,1,0,0,1,1,1,1,1,0,1,0,0,1,0,1,1,1,0,1,0],[0,1,0,1,1,1,0,1,0,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,0,1,0],[0,1,0,1,1,1,0,1,0,0,1,0,1,1,0,0,0,0,0,1,0,1,1,1,0,1,0],[0,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,1,0,1,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,0],[0,0,1,1,0,0,0,1,0,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,1,1,1,0,1,1,0,0,0,1,0,1,0,1,0,0,1,0,1,1,0],[0,1,1,0,0,1,1,1,1,0,1,0,1,1,0,0,1,0,1,0,1,1,0,0,0,1,0],[0,0,1,1,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,1,1,1,1,0],[0,1,0,1,1,1,1,1,0,0,1,0,1,0,0,0,1,1,1,1,1,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,0,1,1,1,1,1,0,1,1,0],[0,1,1,1,1,1,1,0,0,1,1,0,1,0,0,0,1,0,1,1,1,0,1,0,1,0,0],[0,1,0,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,1,1,0,0,1,0],[0,0,1,0,1,0,1,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,1,1,0],[0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,1,1,1,0,0,1,0,0],[0,0,1,1,1,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0],[0,1,1,1,1,0,1,1,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,1,1,1,0],[0,1,0,0,0,0,0,1,0,1,0,1,1,1,1,1,0,1,0,0,0,1,0,0,1,1,0],[0,1,0,1,1,1,0,1,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,1,0,1,0],[0,1,0,1,1,1,0,1,0,1,1,0,1,1,0,0,1,1,0,1,0,1,0,0,1,1,0],[0,1,0,2,1,1,0,1,0,1,0,1,1,1,1,1,1,0,0,1,0,0,1,1,1,0,0],[0,1,0,0,0,0,0,1,0,0,1,1,0,1,1,1,1,1,1,1,0,1,0,1,1,1,0],[0,1,1,1,1,1,1,1,0,1,0,1,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function init(){canvas=document.getElementById("game"),ctx=canvas.getContext("2d"),qrCanvas=document.getElementById("qr-canvas"),qrCtx=qrCanvas.getContext("2d"),canvas.width=window.innerWidth,canvas.height=window.innerHeight,qrCanvas.width=270,qrCanvas.height=270,window.addEventListener("keydown",e=>{keys[e.key.toLowerCase()]=!0," "===e.key&&(e.preventDefault(),dash()),"Enter"===e.key&&"menu"===gameState&&startGame()}),window.addEventListener("keyup",e=>{keys[e.key.toLowerCase()]=!1}),window.addEventListener("resize",()=>{canvas.width=window.innerWidth,canvas.height=window.innerHeight}),loadLevel(),gameLoop()}function loadLevel(){maze=qrMaze.map(e=>[...e]),playerX=23.5,playerY=6.5,power=100,dashTime=0}function startGame(){gameState="playing",loadLevel()}function dash(){if(dashTime>0||power<50)return;let e=0,t=0;(keys.a||keys.arrowleft)&&(e=-1),(keys.d||keys.arrowright)&&(e=1),(keys.w||keys.arrowup)&&(t=-1),(keys.s||keys.arrowdown)&&(t=1),0===e&&0===t||(dashTime=20,power-=50)}function update(){if("playing"!==gameState)return;power=Math.min(100,power+1),dashTime>0&&dashTime--;let e=dashTime>0?8:3,t=0,a=0;(keys.a||keys.arrowleft)&&(t=-e/60),(keys.d||keys.arrowright)&&(t=e/60),(keys.w||keys.arrowup)&&(a=-e/60),(keys.s||keys.arrowdown)&&(a=e/60);let l=playerX+t,r=playerY+a;isWall(l,playerY)||(playerX=l),isWall(playerX,r)||(playerY=r);let n=Math.floor(playerX),i=Math.floor(playerY);maze[i]&&2===maze[i][n]&&levelComplete(),offsetX=25*playerX-canvas.width/2,offsetY=25*playerY-canvas.height/2}function isWall(e,t){let a=Math.floor(e),l=Math.floor(t);return l<0||l>=27||a<0||a>=27||1===maze[l][a]}function levelComplete(){gameState="complete",generateQRFromMaze(),document.getElementById("qr-reveal").classList.add("show")}function generateQRFromMaze(){qrCtx.fillStyle="white",qrCtx.fillRect(0,0,270,270);for(let e=0;e<27;e++)for(let t=0;t<27;t++)1===qrMaze[e][t]&&(qrCtx.fillStyle="black",qrCtx.fillRect(10*t,10*e,10,10));qrCtx.fillStyle="green",qrCtx.font="16px Arial",qrCtx.textAlign="center",qrCtx.fillText("🐱",135,145)}function nextLevel(){document.getElementById("qr-reveal").classList.remove("show"),gameState="menu"}function draw(){ctx.fillStyle="#f5f5dc",ctx.fillRect(0,0,canvas.width,canvas.height),"menu"===gameState?drawMenu():"playing"===gameState&&drawGame()}function drawMenu(){ctx.fillStyle="#3ae1f4",ctx.font="48px Courier New",ctx.textAlign="center",ctx.fillText("BLACK CAT QR MAZE",canvas.width/2,canvas.height/2-50),ctx.fillStyle="#2a2a2a",ctx.font="24px Courier New",ctx.fillText("Press ENTER to start",canvas.width/2,canvas.height/2+50),ctx.fillText("WASD/Arrow Keys to move, SPACE to dash as cat",canvas.width/2,canvas.height/2+100)}function drawGame(){for(let e=0;e<27;e++)for(let t=0;t<27;t++){let a=25*t-offsetX,l=25*e-offsetY;1===maze[e][t]?ctx.fillStyle="#000":2===maze[e][t]?ctx.fillStyle="#3ae1f4":ctx.fillStyle="#fff",ctx.fillRect(a,l,25,25),ctx.strokeStyle="#ddd",ctx.lineWidth=.5,ctx.strokeRect(a,l,25,25)}let e=25*playerX-offsetX,t=25*playerY-offsetY;dashTime>0?(ctx.fillStyle="#2a2a2a",ctx.shadowColor="#83f3ff",ctx.shadowBlur=10,ctx.fillRect(e-10,t-10,20,20),ctx.shadowBlur=0):(ctx.fillStyle="#3ae1f4",ctx.fillRect(e-10,t-10,20,20)),ctx.fillStyle=dashTime>0?"#2a2a2a":"#3ae1f4",ctx.fillRect(20,20,200*power/100,20),ctx.strokeStyle="#000",ctx.strokeRect(20,20,200,20),ctx.fillStyle="#000",ctx.font="16px Courier New",ctx.textAlign="left",ctx.fillText(dashTime>0?"Cat Power":"Dash Power",20,15)}function gameLoop(){update(),draw(),requestAnimationFrame(gameLoop)}window.addEventListener("load",init)</script>