<title>Raccoon Transport 404</title><meta content="width=device-width,maximum-scale=1,minimum-scale=1,user-scalable=no" name=viewport><script>"use strict";function aa(t,e,n,a){function i(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<4/6?t+6*(e-t)*(4/6-n):t}var o=2*n-(e=.5>n?n*(1+e):n+e-n*e);return[n=Math.floor(255*i(o,e,t+1/3)),Math.floor(255*i(o,e,t)),t=Math.floor(255*i(o,e,t-1/3)),a]}function l(t){return new Float32Array(t)}function ba(){return l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function ca(t,e){var n,a=new Float32Array(16);for(n=0;4>n;n++){var i=t[n],o=t[n+4],r=t[n+8],s=t[n+12];a[n]=i*e[0]+o*e[1]+r*e[2]+s*e[3],a[n+4]=i*e[4]+o*e[5]+r*e[6]+s*e[7],a[n+8]=i*e[8]+o*e[9]+r*e[10]+s*e[11],a[n+12]=i*e[12]+o*e[13]+r*e[14]+s*e[15]}return a}function da(t,e){return(t=l(t))[12]+=t[0]*e.x+t[4]*e.y+t[8]*e.z,t[13]+=t[1]*e.x+t[5]*e.y+t[9]*e.z,t[14]+=t[2]*e.x+t[6]*e.y+t[10]*e.z,t[15]+=t[3]*e.x+t[7]*e.y+t[11]*e.z,t.set(ca(t,l([1,0,0,0,0,Math.cos(e.G),Math.sin(e.G),0,0,-Math.sin(e.G),Math.cos(e.G),0,0,0,0,1]))),t.set(ca(t,l([Math.cos(e.L),0,-Math.sin(e.L),0,0,1,0,0,Math.sin(e.L),0,Math.cos(e.L),0,0,0,0,1]))),t.set(ca(t,l([Math.cos(e.o),Math.sin(e.o),0,0,-Math.sin(e.o),Math.cos(e.o),0,0,0,0,1,0,0,0,0,1]))),t}function ea(t){return l([t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]])}function fa(t){var e=l([t[5]*t[10]*t[15]-t[5]*t[11]*t[14]-t[9]*t[6]*t[15]+t[9]*t[7]*t[14]+t[13]*t[6]*t[11]-t[13]*t[7]*t[10],-t[1]*t[10]*t[15]+t[1]*t[11]*t[14]+t[9]*t[2]*t[15]-t[9]*t[3]*t[14]-t[13]*t[2]*t[11]+t[13]*t[3]*t[10],t[1]*t[6]*t[15]-t[1]*t[7]*t[14]-t[5]*t[2]*t[15]+t[5]*t[3]*t[14]+t[13]*t[2]*t[7]-t[13]*t[3]*t[6],-t[1]*t[6]*t[11]+t[1]*t[7]*t[10]+t[5]*t[2]*t[11]-t[5]*t[3]*t[10]-t[9]*t[2]*t[7]+t[9]*t[3]*t[6],-t[4]*t[10]*t[15]+t[4]*t[11]*t[14]+t[8]*t[6]*t[15]-t[8]*t[7]*t[14]-t[12]*t[6]*t[11]+t[12]*t[7]*t[10],t[0]*t[10]*t[15]-t[0]*t[11]*t[14]-t[8]*t[2]*t[15]+t[8]*t[3]*t[14]+t[12]*t[2]*t[11]-t[12]*t[3]*t[10],-t[0]*t[6]*t[15]+t[0]*t[7]*t[14]+t[4]*t[2]*t[15]-t[4]*t[3]*t[14]-t[12]*t[2]*t[7]+t[12]*t[3]*t[6],t[0]*t[6]*t[11]-t[0]*t[7]*t[10]-t[4]*t[2]*t[11]+t[4]*t[3]*t[10]+t[8]*t[2]*t[7]-t[8]*t[3]*t[6],t[4]*t[9]*t[15]-t[4]*t[11]*t[13]-t[8]*t[5]*t[15]+t[8]*t[7]*t[13]+t[12]*t[5]*t[11]-t[12]*t[7]*t[9],-t[0]*t[9]*t[15]+t[0]*t[11]*t[13]+t[8]*t[1]*t[15]-t[8]*t[3]*t[13]-t[12]*t[1]*t[11]+t[12]*t[3]*t[9],t[0]*t[5]*t[15]-t[0]*t[7]*t[13]-t[4]*t[1]*t[15]+t[4]*t[3]*t[13]+t[12]*t[1]*t[7]-t[12]*t[3]*t[5],-t[0]*t[5]*t[11]+t[0]*t[7]*t[9]+t[4]*t[1]*t[11]-t[4]*t[3]*t[9]-t[8]*t[1]*t[7]+t[8]*t[3]*t[5],-t[4]*t[9]*t[14]+t[4]*t[10]*t[13]+t[8]*t[5]*t[14]-t[8]*t[6]*t[13]-t[12]*t[5]*t[10]+t[12]*t[6]*t[9],t[0]*t[9]*t[14]-t[0]*t[10]*t[13]-t[8]*t[1]*t[14]+t[8]*t[2]*t[13]+t[12]*t[1]*t[10]-t[12]*t[2]*t[9],-t[0]*t[5]*t[14]+t[0]*t[6]*t[13]+t[4]*t[1]*t[14]-t[4]*t[2]*t[13]-t[12]*t[1]*t[6]+t[12]*t[2]*t[5],t[0]*t[5]*t[10]-t[0]*t[6]*t[9]-t[4]*t[1]*t[10]+t[4]*t[2]*t[9]+t[8]*t[1]*t[6]-t[8]*t[2]*t[5]]),n=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12];if(!n)return t;for(n=1/n,t=0;16>t;t++)e[t]*=n;return e}function n(t,e){return l([t[0]-e[0],t[1]-e[1],t[2]-e[2]])}function ia(t,e){return l([t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]])}function ja(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ka(t,e){var a=l([0,2e3,0]),i=l([-2e3,-2e3,0]),o=l([2e3,-2e3,0]);i=n(i,a);var r=ia(e,o=n(o,a)),s=ja(i,r);if(-1e-7<s&&1e-7>s)return null;s=1/s;var c=n(t,a);return 0>(a=s*ja(c,r))||1<a||0>(r=s*ja(e,i=ia(c,i)))||1<a+r?null:(1e-7>=(o=s*ja(o,i))?t=null:(e=l([e[0]*o,e[1]*o,e[2]*o]),t=l([t[0]+e[0],t[1]+e[1],t[2]+e[2]])),t)}function la(t,e){var n=this;this.b=document.getElementById(t),this.a=this.b.getContext("webgl"),this.f=this.compile("attribute vec4 p,c,n;uniform mat4 m,o,i;varying vec4 vc;varying vec3 vn,vp;void main(){gl_Position=m*p;vp=vec3(o*p);vn=normalize(vec3(i*n));vc=c;}","precision mediump float;uniform vec3 lc,lp,al;varying vec3 vn,vp;varying vec4 vc;void main(){vec3 l=normalize(lp-vp);float n=max(dot(l,vn),0.0);vec3 q=lc*vc.rgb*n+al*vc.rgb;gl_FragColor=vec4(q,1.0);}"),this.c={x:0,y:0,z:10,G:0,L:0,o:0},this.v=[0,0],this.a.clearColor(.1,.1,.1,1),this.a.enable(this.a.DEPTH_TEST),this.a.enable(this.a.CULL_FACE),this.a.uniform3f(this.a.getUniformLocation(this.f,"lc"),1,1,1),this.a.uniform3f(this.a.getUniformLocation(this.f,"lp"),3,-20,20),this.a.uniform3f(this.a.getUniformLocation(this.f,"al"),.1,.1,.1),this.h=[],ma.forEach((function(t){return n.h.push(n.I.apply(n,na(t[0],t[1]))),n.h[n.h.length-1]})),this.A=[],e&&(this.m=p(this,2),this.A.push(this.m)),this.b.addEventListener("mousemove",this.X.bind(this))}function oa(t){var e=t.b.clientWidth,n=t.b.clientHeight;if(t.b.width!=e||t.b.height!=n){t.b.width=e,t.b.height=n,t.a.viewport(0,0,e,n);var a=1/-999.99;e=l([1.83/(e/n),0,0,0,0,1.83,0,0,0,0,1000.01*a,-1,0,0,20*a,0]),t.Y=e}}function pa(t,e,n){var a=t.a.createBuffer();return t.a.bindBuffer(n,a),t.a.bufferData(n,e,t.a.STATIC_DRAW),a}function qa(t,e){function a(t,e,n){t[e]+=n[0],t[e+1]+=n[1],t[e+2]+=n[2]}var i,o=new Float32Array(t.length);for(i=0;i<e.length;i+=3){var r=3*e[i],s=3*e[i+1],c=3*e[i+2],l=[t[r],t[r+1],t[r+2]],h=[t[s],t[s+1],t[s+2]],u=[t[c],t[c+1],t[c+2]];a(o,r,l=ia(h=n(h,l),l=n(u,l))),a(o,s,l),a(o,c,l)}for(i=0;i<o.length;i+=3)0!=(l=Math.sqrt(Math.pow(o[i],2)+Math.pow(o[i+1],2)+Math.pow(o[i+2],2)))&&(o[i]/=l,o[i+1]/=l,o[i+2]/=l);return o}function na(t,e){function n(){var t,e;for(R=r,r+=b,void 0===M&&(M=s),t=0;t<v.length-1;t++){for(f.push(v[t][0]*s+h,v[t][1]*s+u,r,B[t][0]*M+h,B[t][1]*M+u,R,v[t+1][0]*s+h,v[t+1][1]*s+u,r,v[t+1][0]*s+h,v[t+1][1]*s+u,r,B[t][0]*M+h,B[t][1]*M+u,R,B[t+1][0]*M+h,B[t+1][1]*M+u,R),e=0;6>e;e++)p.push(m);d.push(o++,o++,o++,o++,o++,o++)}M=s}var a,i,o,r,s,c;void 0===e&&(e=[]);var h,u,b=s=1,f=[],d=[],p=[],v=[],g=!0,w=c=!1;for(r=o=a=h=u=i=0;a<t.length;)switch(t[a++]){case 1:s=t[a++];break;case 2:var m=t[a++];break;case 15:m=e[t[a++]];break;case 3:var y=t[a++];v=[];break;case 7:g=!!t[a++];break;case 4:b=t[a++];break;case 9:c=!!t[a++];break;case 5:var B=v.slice();for(v=[],i=0;i<y;i++)v.push([t[a++],t[a++]]);if(c)for(i=v.length-1;0<=i;i--)v.push([-1*v[i][0],v[i][1]]);else g&&v.push(v[0]);0<B.length&&n();break;case 8:B=v.slice(),n();break;case 10:v=[],y=t[a++];var A=t[a++];for(i=0;i<=y;i++)v.push([Math.cos(i/y*Math.PI*2)*A,Math.sin(i/y*Math.PI*2)*A]);break;case 12:var E=a;break;case 13:w&&(w=!1,a=k);break;case 14:w=!0;var k=a;a=E;break;case 11:h=t[a++],u=t[a++],i=t[a++],a++,a++,a++;var M=s=void 0,R=r=i}return[l(f),new Uint16Array(d),new Uint8Array(p)]}function ta(){var t=q,e=t.h[5];t.a.deleteBuffer(e.V),t.a.deleteBuffer(e.T),t.a.deleteBuffer(e.U),t.a.deleteBuffer(e.S),t.h[5]=null}function p(t,e){return t.A.push({shape:t.h[e],G:0,L:0,o:0,x:0,y:0,z:0,visible:!0,M:!1}),t.A[t.A.length-1]}function ua(t){t.N=da(ba(),t.c),t.Z=fa(t.N),t.J=ca(t.Y,t.Z);var e=va(t,l([t.v[0],t.v[1],0])),a=va(t,l([t.v[0],t.v[1],1]));e&&a&&(e=ka(e,n(a,e)))&&(t.l=e,t.m&&(t.m.x=e[0],t.m.y=e[1],t.m.z=e[2])),t.a.useProgram(t.f),a=t.a.getAttribLocation(t.f,"p");var i=t.a.getAttribLocation(t.f,"n"),o=t.a.getAttribLocation(t.f,"c"),r=t.a.getUniformLocation(t.f,"o"),s=t.a.getUniformLocation(t.f,"m"),c=t.a.getUniformLocation(t.f,"i");t.a.clear(t.a.COLOR_BUFFER_BIT|t.a.DEPTH_BUFFER_BIT);for(var h=0,u=t.A;h<u.length;h++)if((e=u[h]).visible){var b=ba();b=da(b,e),t.a.uniformMatrix4fv(r,!1,b);var f=ca(t.J,b);t.a.uniformMatrix4fv(s,!1,f),b=ea(fa(b)),t.a.uniformMatrix4fv(c,!1,b),t.a.bindBuffer(t.a.ARRAY_BUFFER,e.shape.V),t.a.vertexAttribPointer(a,3,t.a.FLOAT,!1,0,0),t.a.enableVertexAttribArray(a),t.a.bindBuffer(t.a.ARRAY_BUFFER,e.shape.U),t.a.vertexAttribPointer(i,3,t.a.FLOAT,!1,0,0),t.a.enableVertexAttribArray(i),e.M?t.a.bindBuffer(t.a.ARRAY_BUFFER,e.shape.$):t.a.bindBuffer(t.a.ARRAY_BUFFER,e.shape.S),t.a.vertexAttribPointer(o,4,t.a.UNSIGNED_BYTE,!0,0,0),t.a.enableVertexAttribArray(o),t.a.bindBuffer(t.a.ELEMENT_ARRAY_BUFFER,e.shape.T),t.a.drawElements(t.a.TRIANGLES,e.shape.aa,t.a.UNSIGNED_SHORT,0)}}function va(t,e){return 0==(e=l([(t=ea(fa(t.J)))[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]]))[3]?e=null:(t=1/e[3],e=l([e[0]*t,e[1]*t,e[2]*t])),e}la.prototype.compile=function(t,e){var n=this.a.createShader(this.a.VERTEX_SHADER);return this.a.shaderSource(n,t),this.a.compileShader(n),t=this.a.createShader(this.a.FRAGMENT_SHADER),this.a.shaderSource(t,e),this.a.compileShader(t),e=this.a.createProgram(),this.a.attachShader(e,n),this.a.attachShader(e,t),this.a.linkProgram(e),this.a.useProgram(e),console.log("vertex shader:",this.a.getShaderInfoLog(n)||"OK"),console.log("fragment shader:",this.a.getShaderInfoLog(t)||"OK"),console.log("program:",this.a.getProgramInfoLog(e)||"OK"),e},la.prototype.I=function(t,e,n){var a,i=new Uint8Array(4*n.length),o=new Uint8Array(4*n.length);for(a=0;a<n.length;a+=6){var r=aa.apply(void 0,sa[n[a]].concat([1]));i.set(r,4*a),i.set(r,4*(a+1)),i.set(r,4*(a+2)),i.set(r,4*(a+3)),i.set(r,4*(a+4)),i.set(r,4*(a+5)),r=aa.apply(void 0,sa[13].concat([1])),o.set(r,4*a),o.set(r,4*(a+1)),o.set(r,4*(a+2)),o.set(r,4*(a+3)),o.set(r,4*(a+4)),o.set(r,4*(a+5))}return{V:pa(this,t,this.a.ARRAY_BUFFER),T:pa(this,e,this.a.ELEMENT_ARRAY_BUFFER),U:pa(this,qa(t,e),this.a.ARRAY_BUFFER),S:pa(this,i,this.a.ARRAY_BUFFER),$:pa(this,o,this.a.ARRAY_BUFFER),aa:e.length}},la.prototype.X=function(t){this.v=[t.clientX/this.b.clientWidth*2-1,-(t.clientY/this.b.clientHeight*2-1)]};var t,x,y,wa=0,xa=0,ya=!1,za=0,Aa=0,Ba=5;function Ca(t){wa=t.touches[0].screenX,xa=t.touches[0].screenY}function Fa(e,n){if(t=null,x=0,n)for(var a=0,i=z;a<i.length;a++)if(5>A((n=i[a]).position,q.l))return t=n,void(x=3);if(e&&(B.s(null),(n=Ga(B,q.l,!1))&&!n.locked))return B.s(n,2),x=1,void(t=n);t:{for(e=q.l,a=0,i=C;a<i.length;a++)if(5>A((n=i[a]).position,e)){t=n;break t}t=null}t&&(x=2)}function Ha(e){e&&0!=x?q.b.classList.add("clickable"):q.b.classList.remove("clickable"),3!=x&&2!=x||t.W(e)}function Ia(t){try{t instanceof TouchEvent&&(t.screenX=t.touches[0].screenX,t.screenY=t.touches[0].screenY)}catch(t){}for(var e,n,a=t.screenX-wa,i=t.screenY-xa,o=0,r=document.querySelectorAll(".window");o<r.length;o++)"1"==(e=r[o]).dataset.selected&&(n=e.getBoundingClientRect(),e.style.top=n.top+i+"px",e.style.left=n.left+a+"px");ya&&t.target==q.b&&(za+=q.c.z/800*(t.screenX-wa),Aa+=q.c.z/800*(t.screenY-xa)),Ha(!1),1==D?Fa(!1,!0):4==D?Fa(!0,!1):5==D?Fa(!1,!1):8==D&&Ja(y,Ka(y.position,q.l)+Math.PI/2),Ha(!0),wa=t.screenX,xa=t.screenY}function La(e){if(e.target==q.b)switch(D){case 1:3==x&&Ma(1,t.C,0),2==x&&Ma(2,t.H,0);break;case 2:if(e=Ga(B,q.l,!1)){var n=B;n.h=e,n.a=E(n,e.position,!1,null),H(n,n.h,n.a,!1),D=3}break;case 3:I(100,1)&&((e=B).f=!1,(n=Ga(e,e.a.position,!1))&&(Na(e,e.a),e.a=n,H(e,e.h,n,!1)),e.a.s=0,J(e),D=2,Oa());break;case 4:if(1==x){if(I(50,1)){t:{if(e=B,n=t){for(var a=0,i=z;a<i.length;a++){if(i[a].a==n){N("Cannot delete this","A vehicle is heading this way."),e=!1;break t}}Na(e,n)}e=!0}e||Pa(50),J(B)}break}2==x&&Qa();break;case 5:t&&(Ra.b.push({j:t}),O());break;case 6:I(5e3,1)&&(y=new P(q.l,!0),D=8,C.push(y));break;case 7:I(2e3,1)&&(y=new P(q.l,!1),D=8,C.push(y));break;case 8:O()}}function Sa(t){t.target==q.b&&(l(q.l),l([q.c.x,q.c.y,q.c.z]),ya=!0)}function Ta(){ya=!1}function Ua(){Ba=Math.min(Math.max(Ba,0),10),za=Math.min(Math.max(za,-20),20),Aa=Math.min(Math.max(Aa,-20),20);var t=Math.pow(Ba/10,2);q.c.x=-za,q.c.y=-50*(1-t)+Aa,q.c.z=5+100*t,q.c.G=1.5-1.5*t}function Va(t){void 0===t&&(t="-"),document.getElementById("tooltip").innerHTML=t||"-"}function Za(){Va((this.dataset.tooltip||"")+(this.classList.contains("button-disabled")?" (locked)":""))}function $a(){Va()}var ab=9e3;function bb(){this.dataset.selected="1",this.style.zIndex=""+ab++}function cb(){for(var t=0,e=document.querySelectorAll(".window");t<e.length;t++)e[t].dataset.selected="0"}var db,Q=0;function eb(t){Q=(Q+t+R.length)%R.length,fb.shape=S.h[R[Q][3]]}function gb(){for(var t,e,n,a,i,o,r=0,s=document.querySelectorAll(".window");r<s.length;r++){switch(t=s[r],e="",parseInt(t.dataset.t)){case 1:if(n=(a=T(t.dataset.i)).title,i=0==a.b.length?"nowhere":a.b[a.B].j.title,a.l)e+="Stopped.";else switch(a.f){case 2:case 1:case 3:case 4:e+="Heading to "+i;break;case 5:e+="Unloading";break;case 6:e+="Loading";break;case 7:e+="Servicing"}for(o in e+="<br/>",a.h)0<a.h[o]&&(e+=U[o]+" "+a.c[o]+" / "+a.h[o]+"<br/>");e+="<hr/>",0==a.b.length?e+="(Schedule is empty.)<br/>":a.b.forEach((function(t,n){e+=(n==a.B?"&raquo; ":"")+t.j.title+' [<a href="#" onclick="scheduleDelete('+a.C+", "+n+');">del</a>] <br/>'})),e+='<a href="#" onclick="scheduleAppend('+a.C+');">Add station</a> | ',e+='<a href="#" onclick="scheduleSkip('+a.C+');">Skip</a> | ',e+='<a href="#" onclick="vehiclePause('+a.C+');">'+(a.l?"Start":"Stop")+"</a> | ",e+='<a href="#" onclick="vehicleDepot('+a.C+');">Depot</a> | ',e+='<a href="#" onclick="vehicleSell('+a.C+');">Sell</a>';break;case 2:n=(a=hb(t.dataset.i)).title,e+="Waiting:<br/>";for(var c=0,l=a.c;c<l.length;c++)for(o in(i=l[c]).a)0<i.a[o]&&(e+=U[o]+" "+i.f[o]+" (+"+i.a[o]+"/min, "+i.c[o]+" max)<br/>");for(e+="Accepts:<br/>",c=0,l=a.c;c<l.length;c++)for(o in(i=l[c]).b)0<i.b[o]&&(e+=U[o]+" ");if(a.b){if(ib(a),0!=a.f.length)for(e+="Vehicles in this depot:<br/>",c=0,l=a.f;c<l.length;c++)i=l[c],e+='<a href="#" onclick="windowCreate(1, '+i.C+', 0);">'+i.title+"</a><br/>";e+='<a href="#" onclick="windowCreate(5, '+a.H+', 0);">Buy a new vehicle</a><br/>'}break;case 3:for(o in n="Statistics",jb)""!=jb[o]&&(e+=jb[o]+": <b>"+V[o]+"</b><br/>");break;case 4:n="Bank",o=V[9]-V[10],e+="Total loan: "+W(o)+"<br/>",e+="Total interest: "+W(kb)+"/day<br/>",e+="Loan limit: "+W(lb)+"<br/>",o<lb&&(e+='<a href="#" onclick="loan1(10000)">Borrow '+W(1e4)+"</a><br/>"),0<o&&1e4<=mb&&(e+='<a href="#" onclick="loan2(10000)">Repay '+W(1e4)+"<a><br/>");break;case 5:for(o in n="Buy a new vehicle",e+='<a href="#" onclick="buyShift(-1);">&laquo;</a> | <a href="#" onclick="buyBuy();">Buy</a> | <a href="#" onclick="buyShift(1);">&raquo;</a><br/>\n'+R[Q][0]+" ("+R[Q][1]+")<br/>\nCapacity:<br/>",R[Q][2])0<R[Q][2][o]&&(e+=U[o]+" "+R[Q][2][o]+"<br/>")}""!=e&&(X(t.querySelector(".title"),n),X(t.querySelector(".body"),e))}}function nb(){this.parentNode.removeChild(this)}function ob(t,e,n){for(var a,i=0,o=document.querySelectorAll(".window");i<o.length;i++)(a=o[i]).dataset.t==t&&a.dataset.i==e&&a.dataset.u==n&&a.parentNode.removeChild(a)}function pb(){for(var t,e=0,n=document.querySelectorAll(".window");e<n.length;e++)5==(t=n[e]).dataset.t&&t.parentNode.removeChild(t)}function N(t,e){var n=document.createElement("div");n.className="window",n.addEventListener("mousedown",bb.bind(n)),n.addEventListener("touchstart",bb.bind(n)),n.addEventListener("mouseup",cb.bind(n)),n.addEventListener("touchend",cb.bind(n)),n.style.left=document.body.clientWidth/2-300+"px",n.style.top="100px",n.style.zIndex=""+ab++;var a=document.createElement("div");return a.className="title",X(a,t),n.appendChild(a),(a=document.createElement("div")).className="close",a.innerHTML="X",a.addEventListener("click",nb.bind(n)),n.appendChild(a),(a=document.createElement("div")).className="body",X(a,e),n.appendChild(a),document.body.appendChild(n),n}function Ma(t,e,n){ob(t,e,n);var a=N("","");5==t&&(pb(),a.insertBefore(S.b,a.querySelector(".body")),Q=0,eb(0),C.forEach((function(t){t.H==e&&(db=t)}))),a.dataset.t=""+t,a.dataset.i=""+e,a.dataset.u=""+n,a.style.left=wa+30+"px",a.style.top=xa-200+"px"}var U=["","🧑","✉️","📦"],jb="Credits earned;Credits spent on construction;Credits spent on upkeep;Credits spent on other;;Passengers picked up;Passengers transported;Goods picked up;Goods delivered;Loan borrowed;Loan repaid;Loan interest paid".split(";"),sa=[[.28,.46,.46],[.56,.1,.11],[.56,.1,.15],[.4,1,.5],[.5,1,.7],[.6,1,.5],[.7,1,.5],[.8,1,.5],[0,.77,.45],[0,0,.2],[0,0,.3],[.12,1,.5],[.05,.21,.71],[0,0,.8]],qb=[3,4,4,0,1,.5,15,0,5,-1,-1,1,-1,1,1,-1,1,5,0,0,0,0,0,0,0,0],rb=[1,1,4,.5,15,0,10,13,2,8,1,.8,4,0,8,4,-.5,8],sb=[11,0,6,.3,0,0,0,1,.1,4,.5,9,1,15,0,3,24,4,.5,5,0,-120,13,-120,13,-116,8,-116,8,-102,13,-102,13,-99,10,-99,10,-89,13,-89,13,-71,8,-71,8,-58,13,-58,13,-38,10,-38,10,-29,13,-29,13,-26,8,-26,8,-12,13,-12,13,-4,11,-2,0,-2,4,.5,5,0,-120,13,-120,13,-116,8,-116,8,-102,13,-102,13,-99,10,-99,10,-89,13,-89,13,-71,8,-71,8,-58,13,-58,13,-38,10,-38,10,-29,13,-29,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,15,1,4,.2,5,0,-120,13,-119,13,-116,8,-116,8,-102,13,-102,13,-96,10,-96,10,-92,13,-92,13,-71,8,-71,8,-58,13,-58,13,-35,10,-35,10,-32,13,-32,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,4,0,5,0,-120,13,-119,13,-116,8,-116,8,-102,13,-102,13,-96,13,-95,13,-93,13,-92,13,-71,8,-71,8,-58,13,-58,13,-35,13,-34,13,-33,13,-32,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,8,4,.5,15,2,8,15,3,4,0,5,0,-117,13,-117,13,-116,8,-116,8,-102,13,-102,13,-101,8,-101,8,-72,13,-72,13,-71,8,-71,8,-58,13,-58,13,-57,8,-57,8,-27,13,-27,13,-26,8,-26,8,-12,13,-12,13,-2,11,0,0,0,4,.5,8,15,4,8,15,5,8,15,6,8,15,7,4,0,15,8,5,0,-117,13,-117,13,-116,13,-115,13,-103,13,-102,13,-101,13,-100,13,-73,13,-72,13,-71,13,-70,13,-59,13,-58,13,-57,13,-56,13,-28,13,-27,13,-26,13,-25,13,-13,13,-12,13,-2,11,0,0,0,4,.25,8,5,0,-115,11,-115,12,-114,12,-112,12,-103,12,-102,12,-101,12,-100,12,-73,12,-72,12,-71,12,-70,12,-59,12,-58,12,-57,12,-56,12,-28,12,-27,12,-26,12,-25,12,-13,12,-12,12,-4,10,-2,0,-2,4,0,1,0,8,11,0,6,.3,0,0,0,15,9,1,.1,3,12,4,.9,3,10,5,12.5,-117,12.5,-101,8,-101,8,-72,12.5,-72,12.5,-57,8,-57,8,-27,12.5,-27,12.5,-10,8,11,0,6,1.2,0,0,0,3,4,1,.1,4,2.3,5,0,-119,5,-119,12.5,-118,12.5,-10,5,0,-117,9,-117,12.5,-117,12.5,-10],ma=[[[3,4,4,0,1,200,2,0,5,-1,-1,1,-1,1,1,-1,1,5,0,0,0,0,0,0,0,0]],[[3,7,4,1,1,.5,9,1,2,2,5,-5,27,-5,20,-3,20,-3,8,-5,8,-5,5,0,0,5,-5,27,-5,20,0,20,0,8,0,7,0,6,0,5]],[rb,[3]],[[1,1,4,.5,15,0,10,13,.5,8,1,.8,4,0,8,4,-.5,8],[5]],[sb,[1,5,5,5,5,5,5,5,1,4]],[[]],[rb,[8]],[rb,[7]],[qb,[9]],[qb,[10]],[sb,[1,11,11,11,11,11,11,11,11,4]],[[11,0,-6,0,0,0,0,1,.1,9,1,3,6,2,12,4,4.5,5,0,0,23,0,23,-15,33,-15,33,124,0,124,8,4,0,5,0,-16,2,-16,4,-16,34,-16,34,125,0,125,4,1.8,2,8,5,0,-5,2,-5,4,-5,7,-5,7,113,0,113,4,0,1,0,8,11,0,-6,0,0,0,0,1,.1,2,1,3,2,4,4.5,5,0,-2,24,-2,5,0,-14,24,-14,3,2]],[[11,0,-6,0,0,0,0,2,12,1,.1,3,6,5,15,-10,20,-10,25,-10,25,120,20,120,15,115,4,.3,8,4,0,5,20,30,20,30,20,30,20,40,20,40,20,40,11,1.75,5,0,0,0,0,2,13,1,.1,4,3.7,10,14,1,8,11,1.75,10.8-6,2.5,0,0,0,2,5,1,.1,3,4,4,1,5,-5,0,5,0,5,.1,-5,.1,8]],[[1,8,4,.5,15,0,10,33,2,8,1,7.8,4,0,8,4,-.5,8],[8]],[sb,[11,13,13,13,11,13,13,11,11,4]],[sb,[1,8,8,8,1,8,8,8,8,4]]],R=[["Basic blue bus",4e3,[,20],4],["Red bus",12e3,[,40,20],15],["Yellow bus",2e4,[,60,60,2],10],["White bus",5e4,[,100,60,10],14]];function A(t,e){return Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1])+Math.abs(t[2]-e[2])}function Ka(t,e){return Math.atan2(e[1]-t[1],e[0]-t[0])}function Y(t,e,n,a){return l([t[0]+Math.cos(e+Math.PI/2)*n,t[1]+Math.sin(e+Math.PI/2)*n,t[2]+a])}function tb(){return[0,0,0,0,0,0,0,0,0,0]}function ub(){this.parentNode.removeChild(this)}function vb(t){var e=document.createElement("div");e.className="bubble",e.innerHTML=t,window.setTimeout(ub.bind(e),5e3),document.getElementById("bubbles").appendChild(e)}function X(t,e){t.dataset._x!=e&&(t.dataset._x=e,t.innerHTML=e)}function yb(){var t=V[4];return"Day "+(Math.floor(t/1440)+1)+" "+Math.floor(t%1440/60)+":00 ["+Math.floor(zb/1e3)+" s]"}function W(t){return"$"+t.toLocaleString("en-US")}function Ab(t,e){var n;for(n=t.length-1;0<=n;n--)t[n]===e&&t.splice(n,1)}function I(t,e){return mb<t?(N("Not enough money","It'd cost "+W(t)+" but you can't afford that. Check with the Bank for loans."),!1):(V[e]+=t,vb("💵 "+W(-t)),!0)}function Pa(t){Bb(0,t),vb("💵 "+W(t))}function Cb(){this.c=[],this.b=[],this.g=p(q,5),this.f=!1}function E(t,e,n,a){return void 0===a&&(a=null),(n={position:e,locked:n,j:a,g:p(q,3),O:!1,K:null,s:0}).g.x=e[0],n.g.y=e[1],n.g.z=e[2],t.c.push(n),n}function H(t,e,n,a){t.b.push({D:e,F:n,locked:a,length:A(e.position,n.position)})}function Na(t,e){var n;if(e){for(e.g.visible=!1,n=t.b.length-1;0<=n;n--)t.b[n].D!==e&&t.b[n].F!==e||Ab(t.b,t.b[n]);Ab(t.c,e)}}function Ga(t,e,n){for(var a,i=0,o=t.c;i<o.length;i++)if(a=o[i],!(n&&a.locked||a===t.a)&&2>A(a.position,e))return a;return null}function Db(t){for(var e,n=0,a=B.c;n<a.length;n++)if((e=a[n]).j==t)return e;return null}function Oa(){var t=B;t.f=!0,t.h=null,t.a=null,J(t)}function Eb(){var t,e=B;e.s(e.a,1),e.a.position=l(q.l),(t=Ga(e,e.a.position))&&(e.a.position=l(t.position)),J(e)}function J(t){var e;t.c.forEach((function(e){e.g.x=e.position[0],e.g.y=e.position[1],e.g.z=e.position[2],e.g.visible=t.f,e.g.M=0!=e.s}));var n=[],a=[],i=[],o=0;t.b.forEach((function(t){var r=Ka(t.D.position,t.F.position),s=Y(t.D.position,r,2.5,.2),c=Y(t.D.position,r,-2.5,.2),l=Y(t.F.position,r,2.5,.2);r=Y(t.F.position,r,-2.5,.2),n.push(r[0],r[1],r[2],l[0],l[1],l[2],s[0],s[1],s[2],c[0],c[1],c[2],r[0],r[1],r[2],s[0],s[1],s[2]),a.push(o++,o++,o++,o++,o++,o++),e=1,2==t.D.s||2==t.F.s?e=8:1!=t.D.s&&1!=t.F.s||(e=3),i.push(e,e,e,e,e,e)})),ta(),q.h[5]=q.I(new Float32Array(n),new Uint16Array(a),new Uint8Array(i)),t.g.shape=q.h[5]}function Fb(t,e){var n=B;if(!t||!e)return[];for(n.c.forEach((function(t){t.O=!1,t.K=1e5,t.R=[],t.previousNode=null})),n.b.forEach((function(t){t.D.R.push({node:t.F,P:t.length}),t.F.R.push({node:t.D,P:t.length})})),t.K=0,function t(e){e.O=!0,e.R.forEach((function(n){e.K+n.P<n.node.K&&(n.node.previousNode=e,n.node.K=e.K+n.P),n.node.O||t(n.node)})),e.O=!1}(t),t=[];e.previousNode;)t.push(e),e=e.previousNode;return t.reverse()}function Gb(t){this.position=t,this.f=tb(),this.a=tb(),this.c=tb(),this.b=tb(),this.g=p(q,13),this.g.x=this.position[0],this.g.y=this.position[1],this.g.z=this.position[2]}Cb.prototype.s=function(t,e){this.c.forEach((function(n){n.s=n==t?e:0})),J(this)};var Hb=0;function P(t,e){this.H=Hb++,this.position=t,this.b=e,this.a=[],e?(this.h=0,this.title="Depot "+this.H,this.g=p(q,11)):(this.h=16,this.title="Station "+this.H,this.g=p(q,12)),t=E(B,this.position,!0),e=E(B,this.position,!0,this);var n=E(B,this.position,!0);H(B,t,e,!0),H(B,e,n,!0),this.a.push(t,e,n),this.g.x=this.position[0],this.g.y=this.position[1],this.g.z=this.position[2],Ja(this,0),ib(this)}function Ja(t,e){t.g.o=e,t.a[0].position=l(Y(t.position,e,t.b?2:8,0)),t.a[2].position=l(Y(t.position,e,t.b?-10:-8,0)),J(B)}function ib(t){t.c=[],t.f=[],Z.forEach((function(e){A(e.position,t.position)<=t.h&&t.c.push(e)})),z.forEach((function(e){e.j==t&&t.f.push(e)}))}function Ib(t){ob(2,t.H,0),t.g.visible=!1,t.a.forEach((function(t){return Na(B,t)}))}P.prototype.W=function(t){this.g.M=t};var Ra,Jb=0;function Kb(t){this.C=Jb++,this.title="Bus #"+this.C,this.j=t,this.position=l(t.position),this.B=0,this.g=p(q,4),this.l=!1,this.f=7,this.c=tb(),this.h=tb(),this.m=[],this.A=0,this.J=!0,this.b=[],this.B=0,this.I=this.a=Db(t)}function Lb(t){var e,n,a=0;for(e in t.c)t.j.c.forEach((function(i){i.b[e]&&0<t.c[e]&&(n=t.c[e],a+=5*n,t.c[e]=0,console.log("unloading good #"+e+", count: "+n),vb("🔻 "+U[e]+"x"+n),Bb(1==e?6:8,n))}));0<a&&Pa(a)}function Mb(t){console.log("advancing schedule...");var e=t.B;if(t.v=[],0==t.b.length)t.B=0,t.v=[];else{for(t.a||(t.a=t.I);;){if((e=(e+1)%t.b.length)==t.B)return void console.log("invalid schedule");var n=Fb(t.a,Db(t.b[e].j));if(0!=n.length){t.B=e,t.v=n;break}}console.log("... next stop: "+t.b[e].j.title)}}function hb(t){for(var e,n=0,a=C;n<a.length;n++)if((e=a[n]).H==t)return e;return null}function T(t){for(var e,n=0,a=z;n<a.length;n++)if((e=a[n]).C==t)return e;return null}Kb.prototype.N=function(){this.l=!this.l},Kb.prototype.load=function(){var t,e,n=this;for(t in this.h)this.j.c.forEach((function(a){0<a.f[t]&&0<n.h[t]&&(0<(e=Math.min(n.h[t],n.c[t]+a.f[t])-n.c[t])&&(n.c[t]+=e,a.f[t]-=e,console.log("loading good #"+t+", count: "+e+", on board: "+n.c[t]),vb("🔺 "+U[t]+"x"+e),Bb(1==t?5:7,e)))}));console.log("load done")},Kb.prototype.W=function(t){this.g.M=t};var V=[];function Bb(t,e){V[t]+=e}var Ob,zb,q,S,B,fb,Z,z,C,mb,lb,kb,D,Pb,Nb=0;function Qb(e){t=null,x=0,D=e;var n=B;n.f=!1,Na(n,n.a),J(B),4!=e&&2!=e||Oa(),q.m.visible=6==e||7==e}function O(){Qb(1)}function Qa(){var e=t,n=!0;z.forEach((function(t){t.b.forEach((function(a){a.j===e&&(N("Cannot delete station",t.title+" has this as destination."),n=!1)}))})),n&&I(500,1)&&(Ib(e),Ab(C,e))}function Rb(){Nb++,404e3<(zb=(new Date).getTime()-Ob)&&0==Pb&&(Pb=1,V[9]==V[10]&&404<=V[6]?N("You won!","Congratulations, you've completed the objectives and won!<br/><br/>Thanks for playing! Feel free to continue."):N("Oh no!","You could not finish the objectives in time.<br/><br/>Don't worry, feel free to keep playing or start again by reloading the page.")),Bb(4,1),1==Nb%300&&Z.forEach((function(t){var e;for(e in t.a)if(t.f[e]<t.c[e]){var n=t.f[e]+t.a[e]<=t.c[e]?t.a[e]:t.c[e]-t.f[e];t.f[e]+=n,console.log("produced good #"+e+", count: "+n+", now available: "+t.f[e])}})),z.forEach((function(t){if(0<t.A)t.A--;else{switch(t.f){case 2:if(!t.l)if(t.a){var e;for(t.speed=.5,e=Math.floor(t.speed/.05);0<e;){var n=t.a.position,a=t.position,i=Ka(a,n),o=Math.min(.05,A(a,n));if(o=l([a[0]+Math.cos(i)*o,a[1]+Math.sin(i)*o,n[2]]),t.position=o,.1>A(t.position,n)){if(t.position=l(n),t.I=t.a,0==t.v.length){t.j=t.a.j,t.a=null,t.speed=0,t.f=3;break}t.a=t.v.shift()}e--}t.m.unshift(l(t.position)),1e3==t.m.length&&t.m.pop(),5<t.m.length&&(t.g.o=Ka(t.m[5],t.m[0])+Math.PI/2)}else Mb(t);break;case 3:console.log("state: arriving"),t.f=5,t.A=20;break;case 5:console.log("state: unloading"),null!=t.j&&Lb(t),t.f=6,t.A=20;break;case 6:console.log("state: loading"),null!=t.j&&t.load(),t.A=10,t.j.b?t.f=7:(t.j=null,Mb(t),t.f=2);break;case 7:t.J&&(t.l=!0,t.J=!1),t.l||(t.j=null,Mb(t),t.f=2)}t.g.x=t.position[0],t.g.y=t.position[1],t.g.z=t.position[2]}})),fb&&(fb.o+=.03),3==D&&Eb(),Ua(),oa(q),ua(q),0!=S.b.getBoundingClientRect().width&&(oa(S),ua(S)),mb=+V[9]-V[10]-V[11]+V[0]-V[1]-V[2]-V[3],kb=25e-5*(V[9]-V[10]),X(document.getElementById("credits"),W(mb)),X(document.getElementById("time"),yb()),gb(),window.requestAnimationFrame(Rb)}window.addEventListener("load",(function(){var t,e;for(Ob=(new Date).getTime(),Pb=0,p(q=new la("c1",!0),0),q.c.z=20,q.c.y=-20,q.c.G=.9,q.m.visible=!1,(S=new la("c2",!1)).c.z=5,S.c.y=-10,S.c.G=1.2,t=-20;20>t;t++)for(e=-20;20>e;e++){var n=p(S,(t+e)%2?8:9);n.x=t,n.y=e}for(fb=p(S,10),V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],window.addEventListener("mousemove",Ia),window.addEventListener("touchstart",Ca),window.addEventListener("touchmove",Ia),window.addEventListener("mousedown",Sa),window.addEventListener("mouseup",Ta),window.addEventListener("click",La),e=0,n=document.querySelectorAll("*");e<n.length;e++)(t=n[e]).dataset.tooltip&&(t.addEventListener("mouseover",Za.bind(t)),t.addEventListener("mouseout",$a.bind(t)));lb=5e4,Z=[],z=[],C=[],B=new Cb,(t=new Gb([-41,-1,0])).a[1]=5,t.a[2]=3,t.c[1]=14,t.c[2]=20,t.b[1]=1,Z.push(t),(t=new Gb([-16,-30,0])).a[1]=2,t.c[1]=17,t.b[1]=1,t.b[2]=1,t.b[3]=1,Z.push(t),(t=new Gb([-7,-20,0])).a[1]=4,t.a[2]=10,t.c[1]=20,t.c[2]=20,t.b[1]=1,t.b[2]=1,t.b[3]=1,Z.push(t),(t=new Gb([40,7,0])).a[2]=90,t.a[3]=1,t.c[2]=320,t.c[3]=5,t.b[2]=1,t.b[3]=1,Z.push(t),(t=new Gb([22,30,0])).a[1]=9,t.a[2]=90,t.a[3]=2,t.c[1]=21,t.c[2]=200,t.c[3]=6,t.b[1]=1,t.b[2]=1,t.b[3]=1,Z.push(t),Ja(t=new P([-36,-3,0],!1),1.2),C.push(t),Ja(t=new P([-4,-11,0],!1),-1.8),C.push(t),Ja(t=new P([-58,14,0],!0),1.2),C.push(t),t=E(B,[-47,0,0]),e=E(B,[-27,-5,0]),n=E(B,[-20,-6,0]),H(B,C[2].a[2],t),H(B,t,C[0].a[0]),H(B,C[0].a[2],e),H(B,e,n),H(B,n,C[1].a[2]),J(B),(t=new Kb(C[2])).b=[{j:C[1]},{j:C[0]}],t.h=R[0][2].slice(),t.g.o=C[2].g.o,t.value=.7*R[0][1],window.setTimeout(t.N.bind(t),5e3),z.push(t),O(),N("Welcome to Raccoon Transport 404!","Can you transport 404 people in 404 seconds?<br><br>\nThey want to get from one city to another, represented by these red circles.<br><br>\nBuy and sell buses in the <span>Depot</span>, they stop at <span>Stops</span> according to their <span>Schedule</span> accessed by clicking on them.<br><br>\nIf you need money, check the <span>Bank</span> but be careful to repay before the timer is up.<br><br>\nBuild roads and buildings using the tools above.<br><br>\nOh, and all the drivers are on vacation. But we have the next best thing: raccoons. They're a bit hectic but we like them anyway.<br><br>\nGood luck! (You'll definitely need it.)"),Rb()})),window.setToolInfo=O,window.setToolDelete=function(){Qb(4)},window.setToolRoad=function(){Qb(2)},window.openBank=function(){O(),Ma(4,0,0)},window.openStats=function(){O(),Ma(3,0,0)},window.loan1=function(t){V[9]+=t},window.loan2=function(t){V[10]+=t},window.scheduleDelete=function(t,e){(t=T(t)).b.splice(e,1),t.B==e?(t.B=0,Mb(t)):t.B>e&&t.B--},window.scheduleAppend=function(t){Ra=T(t),Qb(5)},window.scheduleSkip=function(t){Mb(T(t))},window.vehiclePause=function(t){T(t).N()},window.vehicleDepot=function(t){t:{t=T(t);for(var e,n=0,a=C;n<a.length;n++)if((e=a[n]).b&&(t.a||(t.a=t.I),0!=(e=Fb(t.a,Db(e))).length)){t.v=e,t.J=!0,t.f=2,console.log("Going to depot...");break t}N("Cannot go to depot","No reachable depots found.")}},window.setToolDepot=function(){Qb(6)},window.setToolStation=function(){Qb(7)},window.buyShift=eb,window.buyBuy=function(){if(I(R[Q][1],3)){var t=new Kb(db);t.h=R[Q][2].slice(),t.g.shape=q.h[R[Q][3]],t.g.o=db.g.o,t.value=.7*R[Q][1],z.push(t)}},window.vehicleSell=function(t){(t=T(t)).j&&t.j.b?(Pa(t.value),ob(1,t.C,0),t.g.visible=!1,Ab(z,t)):N("Cannot sell this vehicle","You need to direct it to a depot first.")},window.windowCreate=Ma</script><style>body{background:#333;padding:0;margin:0}#c1{width:100vw;height:100vh}#c1.clickable{cursor:pointer}#c2{width:100%;height:10rem}#rightbox{position:fixed;top:0;right:0}@keyframes bubble{0%{margin:50px 0 .2em 0;height:1.2em}10%{margin:0 0 .2em 0}70%{margin:0 0 .2em 0;height:1.2em}100%{margin:0 0 0 -500px;height:0}}#bubbles{position:fixed;overflow:hidden;top:5em;bottom:0}.bubble{background:rgba(0,0,0,.5);border-radius:.5em;color:#fff;animation:bubble 5s forwards}@font-face{font-family:emoji;src:url(https://gheja.github.io/static/twemoji.ttf)}::selection{color:none;background:0 0}html{font-size:max(12px, 2.2vh);font-family:"Segoe UI",serif;overflow:hidden;cursor:default}.window{background:rgba(255,255,255,.5);border-radius:.2em;backdrop-filter:blur(10px);width:20em;position:absolute;top:200px;border:.2em solid rgba(0,0,0,.5)}.title{background:rgba(0,0,0,.5);color:#fff;padding:.1em .3em .3em .3em}.close{background:rgba(255,0,0,.3);color:#fff;float:right;margin-top:-1.75em;padding:.125em .5em;cursor:pointer}.body{padding:.5em;color:#333}.body span{color:#000}.body a,.body a:active,.body a:visited{color:#038}.body a:hover{color:#fff}.button,.button-disabled{float:left;font-size:1.5rem;padding:.25em;border:.2rem solid rgba(255,255,255,.1);background:rgba(255,255,255,.1);border-radius:.2em;margin:0 0 0 .2em;width:1em;height:1em;font-family:emoji;backdrop-filter:blur(10px);cursor:pointer;filter:grayscale(30%)}.button:hover{border-color:rgba(255,255,255,.5);background:rgba(255,255,255,.5);filter:grayscale(0%)}.button-disabled{filter:grayscale(100%);cursor:not-allowed;background:rgba(255,255,255,.3)}.toolbar,.toolbar2{position:fixed;top:2.2rem;left:1rem;right:1rem;height:3em;overflow:hidden}.toolbar2{top:5.2rem}.emoji{font-family:emoji}.statusbar{position:fixed;top:.2rem;left:.2rem}.status{border-radius:.2rem;float:left;background:rgba(0,0,0,.7);margin:0 0 0 .5rem;color:#fff;padding:.2em .5em;display:block}.hue1{filter:hue-rotate(120deg)!important}.hue2{filter:hue-rotate(180deg)!important}</style><canvas id=c1></canvas><canvas id=c2></canvas><div class=statusbar><div class=status><span class=emoji>🕑</span> <span id=time>Day 123, 12:12</span></div><div class=status><span class=emoji>💵</span> <span id=credits>$0,000,000</span></div><div class=status id=tooltip>Tooltip willappear here.</div></div><div class=toolbar><div class=button data-tooltip=Info onclick=setToolInfo()>💭</div><div class=button data-tooltip=Delete onclick=setToolDelete()>🧨</div><div class=button data-tooltip="Road construction" onclick=setToolRoad()>🛣</div><div class=button data-tooltip=Depot onclick=setToolDepot()>⛽️</div><div class=button data-tooltip=Station onclick=setToolStation()>🔁</div><div class=button data-tooltip=Contracts>📜</div><div class=button data-tooltip=Research>🧪</div><div class=button data-tooltip=Bank onclick=openBank()>💵</div><div class=button data-tooltip=Statistics onclick=openStats()>📊</div></div><div id=bubbles></div>