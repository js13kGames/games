<!doctype html><title>Meoq & Shadow - js13kGames 2025</title><style>canvas{background:#fff;display:block;margin:0 auto;border:1px solid #000;width:800px;height:400px}.controls{text-align:center;margin-top:5px;font-size:26px}</style><canvas id=game width=800 height=400></canvas><div class=controls>Move: A,D,Left,Right<br>Jump: W,Up<br>Attack/Poop: Space.<br>Switch cat: left/right shift</div><script>var t=Object.defineProperty,i=Object.defineProperties,e=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(i,e,h)=>e in i?t(i,e,{enumerable:!0,configurable:!0,writable:!0,value:h}):i[e]=h,r=(t,i)=>{for(var e in i||(i={}))s.call(i,e)&&n(t,e,i[e]);if(h)for(var e of h(i))l.call(i,e)&&n(t,e,i[e]);return t},a=(t,h)=>i(t,e(h)),o=(t,i)=>{var e={};for(var n in t)s.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&h)for(var n of h(t))i.indexOf(n)<0&&l.call(t,n)&&(e[n]=t[n]);return e};function c(t,i,e){return Math.min(Math.max(t,e),i)}function f(t,i){let e=d(t),h=d(i);return!(t.radius&&e.width!=e.height||i.radius&&h.width!=h.height)&&([e,h]=[e,h].map(h=>((h==e?t:i).radius&&(h.radius=h.width/2,h.x+=h.radius,h.y+=h.radius),h)),t.radius&&i.radius?Math.hypot(e.x-h.x,e.y-h.y)<e.radius+h.radius:t.radius||i.radius?function(t,i){let{x:e,y:h,width:s,height:l}=d(i);do{e-=i.t||0,h-=i.i||0}while(i=i.parent);let n=t.x-Math.max(e,Math.min(t.x,e+s)),r=t.y-Math.max(h,Math.min(t.y,h+l));return n*n+r*r<t.radius*t.radius}(t.radius?e:h,t.radius?i:t):e.x<h.x+h.width&&e.x+e.width>h.x&&e.y<h.y+h.height&&e.y+e.height>h.y)}function d(t){let{x:i=0,y:e=0,width:h,height:s,radius:l}=t.o||t;return t.h&&(h=t.h,s=t.l),l&&(h=2*l.x,s=2*l.y),t.anchor&&(i-=h*t.anchor.x,e-=s*t.anchor.y),h<0&&(i+=h,h*=-1),s<0&&(e+=s,s*=-1),{x:i,y:e,width:h,height:s}}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&i(t)}).observe(document,{childList:!0,subtree:!0})}function i(t){if(t.m)return;t.m=!0;const i=function(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),i.credentials="use-credentials"===t.crossOrigin?"include":"anonymous"===t.crossOrigin?"omit":"same-origin",i}(t);fetch(t.href,i)}}();let g,u,y=()=>{},m={},p={get:(t,i)=>"_proxy"==i||y};function w(){return u}class b{constructor(t=0,i=0,e={}){null!=t.x?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i),e.u&&(this.M(e.p,e.v,e.T,e.N),this.x=t,this.y=i)}set(t){this.x=t.x,this.y=t.y}add(t){return new b(this.x+t.x,this.y+t.y,this)}S(t){return new b(this.x-t.x,this.y-t.y,this)}scale(t){return new b(this.x*t,this.y*t)}normalize(t=this.length()||1){return new b(this.x/t,this.y/t)}k(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}j(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.k(t)/(this.length()*t.length()))}direction(){return Math.atan2(this.y,this.x)}M(t,i,e,h){this.u=!0,this.p=t,this.v=i,this.T=e,this.N=h}get x(){return this.q}get y(){return this.V}set x(t){this.q=this.u?c(this.p,this.T,t):t}set y(t){this.V=this.u?c(this.v,this.N,t):t}}function M(){return new b(...arguments)}class x{constructor(t){return this.init(t)}init(t={}){this.position=M(),this.K=M(),this.acceleration=M(),this._=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let i=this.acceleration;t&&(i=i.scale(t)),this.K=this.K.add(i);let e=this.K;t&&(e=e.scale(t)),this.position=this.position.add(e),this.J(),this._--}get dx(){return this.K.x}get dy(){return this.K.y}set dx(t){this.K.x=t}set dy(t){this.K.y=t}get $(){return this.acceleration.x}get U(){return this.acceleration.y}set $(t){this.acceleration.x=t}set U(t){this.acceleration.y=t}Z(){return this._>0}J(){}}class v extends x{init(t={}){var i,e,h=t,{width:s=0,height:l=0,context:n=w(),render:a=this.draw,update:c=this.advance,children:f=[],anchor:d={x:0,y:0},opacity:g=1,rotation:u=0,tt:y=0,et:p=0,it:b=1,st:M=1}=h,x=o(h,["width","height","context","render","update","children","anchor","opacity","rotation","drotation","ddrotation","scaleX","scaleY"]);this.u=[],super.init(r({width:s,height:l,context:n,anchor:d,opacity:g,rotation:u,tt:y,et:p,it:b,st:M},x)),this.ot=!0,this.nt(),this.rt(f),this.ht=a,this.lt=c,e=()=>{null!=this.context||(this.context=w())},m[i="init"]=m[i]||[],m[i].push(e)}update(t){this.lt(t),this.children.map(i=>i.update&&i.update(t))}render(){let t=this.context;t.save(),(this.x||this.y)&&t.translate(this.x,this.y),this.rotation&&t.rotate(this.rotation),1==this.it&&1==this.st||t.scale(this.it,this.st);let i=this.width,e=this.height;this.radius&&(i=e=2*this.radius);let h=-i*this.anchor.x,s=-e*this.anchor.y;(h||s)&&t.translate(h,s),this.context.globalAlpha=this.opacity,this.ht(),(h||s)&&t.translate(-h,-s),this.children.map(t=>t.render&&t.render()),t.restore()}draw(){}J(){this.nt(),this.children.map(t=>t.J())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this.J()}set y(t){this.position.y=t,this.J()}get width(){return this.ct}set width(t){this.ct=t,this.J()}get height(){return this.dt}set height(t){this.dt=t,this.J()}nt(){if(!this.ot)return;let{ft:t=0,ut:i=0,gt:e=1,bt:h=0,Mt:s=1,wt:l=1}=this.parent||{};this.ft=this.x,this.ut=this.y,this.vt=this.width,this.Tt=this.height,this.radius&&(this.yt=this.radius,this.Xt=this.radius),this.gt=e*this.opacity,this.Mt=s*this.it,this.wt=l*this.st,this.ft=this.ft*s,this.ut=this.ut*l,this.vt=this.width*this.Mt,this.Tt=this.height*this.wt,this.radius&&(this.yt=this.radius*this.Mt,this.Xt=this.radius*this.wt),this.bt=h+this.rotation;let{x:n,y:r}=function(t,i){let e=Math.sin(i),h=Math.cos(i);return{x:t.x*h-t.y*e,y:t.x*e+t.y*h}}({x:this.ft,y:this.ut},h);this.ft=n,this.ut=r,this.ft+=t,this.ut+=i}get o(){return{x:this.ft,y:this.ut,width:this.vt,height:this.Tt,radius:this.radius?{x:this.yt,y:this.Xt}:void 0,opacity:this.gt,rotation:this.bt,it:this.Mt,st:this.wt}}set children(t){this.removeChild(this.u),this.rt(t)}get children(){return this.u}rt(...t){t.flat().map(t=>{this.children.push(t),t.parent=this,t.J=t.J||y,t.J()})}removeChild(...t){t.flat().map(t=>{(function(t,i){let e=t.indexOf(i);if(-1!=e)return t.splice(e,1),!0})(this.children,t)&&(t.parent=null,t.J())})}get radius(){return this.Wt}set radius(t){this.Wt=t,this.J()}get opacity(){return this.Ct}set opacity(t){this.Ct=c(0,1,t),this.J()}get rotation(){return this.Nt}set rotation(t){this.Nt=t,this.J()}advance(t){super.advance(t),this.tt+=this.et,this.rotation+=this.tt}setScale(t,i=t){this.it=t,this.st=i}get it(){return this.Ot}set it(t){this.Ot=t,this.J()}get st(){return this.Ft}set st(t){this.Ft=t,this.J()}}class T extends v{init(t={}){var i=t,{image:e,width:h=(e?e.width:void 0),height:s=(e?e.height:void 0)}=i,l=o(i,["image","width","height"]);super.init(r({image:e,width:h,height:s},l))}get St(){return this.p}set St(t){let i,e;for(i in this.p={},t)this.p[i]=t[i].clone(),e=e||this.p[i];this.kt=e,this.width=this.width||e.width,this.height=this.height||e.height}xt(t){var i;null==(i=this.kt)||i.stop(),this.kt=this.St[t],this.kt.start()}advance(t){var i;super.advance(t),null==(i=this.kt)||i.update(t)}draw(){if(this.image&&this.context.drawImage(this.image,0,0,this.image.width,this.image.height),this.kt&&this.kt.render({x:0,y:0,width:this.width,height:this.height,context:this.context}),this.color){if(this.context.fillStyle=this.color,this.radius)return this.context.beginPath(),this.context.arc(this.radius,this.radius,this.radius,0,2*Math.PI),void this.context.fill();this.context.fillRect(0,0,this.width,this.height)}}}function X(){return new T(...arguments)}const W={At:"m",Dt:"l1",Et:"l2",Pt:"l3",jt:"go",Gt:"vw",Yt:"vb"},N=1500;function O(t,i,{scale:e,Qt:h,flipX:s,qt:l=0}){for(let n=0;n<i.length;n++)for(let r=0;r<i[n].length;r++)t.fillStyle=h[i[n][r]],t.fillRect(s?(19-r)*e:r*e,n*e+(e>=2.2?l/2:l),e,e)}function F(t,i,e,h,s,l){t.fillStyle="#000",t.fillRect(i-1,e-1,h+2,s+2);const n=h/10,r=Math.ceil(10*l);for(let h=0;h<10;h++){const a=i+h*n;if(h<r){let i;i=l>.7?"#22FF22":l>.3?"#FFFF00":"#FF3333",t.fillStyle=i,t.fillRect(a,e,n-1,s),t.fillStyle="#FFFFFF",t.fillRect(a,e,n-1,2)}else t.fillStyle="#444",t.fillRect(a,e,n-1,s)}t.strokeStyle="#888",t.lineWidth=1,t.strokeRect(i-1,e-1,h+2,s+2)}function S(t,i={pose:"idle",flipX:!1,Lt:0,scale:2,Qt:["rgba(0,0,0,0)","#000000","#a2998d","#5c5751","#413f3a","#ecdcc9","#f26060"]}){var e,h,s,l,n;const r=[["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333324100","013344444444331000","013411111111141000","013113000141013100","012100000131001210"],["0000000000001000100","0000000000012101210","0000000000126313610","0000000001233333331","0011100001233333331","0122310001334333431","1231510001331353131","1310100111333565331","1311111553435555510","0133222233343222100","0133333333334441100","0133333333333324100","1113333444443324110","2334441111114331430","1111110000001311110","0000131000001210000"],["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333323100","014333114433321000","001443321143311000","014111110013114100","013100000012101310"],["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333324100","013344444444331000","013411111111141000","013113000141013100","012100000131001210"]],a=[["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","014333333333323100","001334444433323100","001341111143411000","001314100013141000","001213100012131000"]],o=[["000000000001000100","000000000012101210","001110000126313610","012231001233333331","123141001233333331","131010001332333231","131000111331353131","134111441333565331","013322233435555510","013333333343222100","113344443334444110","233411111111133320","111100000000011110"]],c=[["0000000000000001000100","0000000000000012101210","0000000000000126313610","0000000000001233333331","0000000000001233333331","0000000000001334333431","1100000000001331353131","5211000000001333565331","1123111001113435555510","0011434112553343222100","0000143323233334441100","0000013333333333324100","0000014333444433324100","0000001434111143414100","0000000134100013141000","0000000121310012131000"]],f=[["00000000000000000000","00000000000100010000","00000000001210121000","00000000012631361000","00000000123333333100","00111000123333333100","01223100133233323100","12314100133135313100","13101001133356533100","13311115343555551000","01233222334322241107","00133333333444114317","00143334444333231107","00013341111434110070","00013411000131000700","00012131000121077000"],["00000000000000000000","00000000000100010000","00000000001210121000","00000000012631361000","00000000123333333100","00111000123333333100","01223100133233323100","12314100133135313100","13101001133356533100","13311115343555551000","01233222334322241107","00133333333444114317","00143334444333231107","00013341111434110070","00013411000131000700","00012131000121077000"]];let d;d="idle"===i.pose?null!=(e=null==a?void 0:a[i.Lt])?e:a[0]:"jump"===i.pose?null!=(h=null==o?void 0:o[i.Lt])?h:o[0]:"attack"===i.pose?null!=(s=null==f?void 0:f[i.Lt])?s:f[0]:"poop"===i.pose?null!=(l=null==c?void 0:c[i.Lt])?l:c[0]:null!=(n=null==r?void 0:r[i.Lt])?n:r[0],t.fillStyle="rgba(0,0,0)",t.fillRect(0,0,i.width,i.height),O(t,d,{scale:i.scale,flipX:i.flipX,Qt:i.Qt,qt:i.zt})}function P(t,i,e={}){const{Bt:h=2,It:s=.07}=e;t.Rt+=i,t.Rt>s&&(t.frame=(t.frame+1)%(t.Vt?h:t.Kt),t.Rt=0),t.Ht=Math.max(0,t.Ht-t.Rt)}function A(t,i,e,h,s=-100){e._t.push(h({Jt:!0,$t:Math.random()>.5,color:"brown",Rt:0,Ut:5,Zt:50,height:15,te:10,Z:!0,ee:!1,ie:!0,se:0,oe:!1,size:1,type:"E",velocityX:0,velocityY:0,width:15,ae:0,ne:5,frame:0,Kt:2,re:2,isVisible:!0,he:s,x:t,y:i,render(){z(this,{Lt:this.frame,scale:this.re,flipX:!this.$t})},update:function(t){this.Z&&(P(this,t),this.oe||(this.velocityY+=N*t),R(this,t),this.x+=this.velocityX*t,this.y+=this.velocityY*t)}}))}function k(t,i,e,h,s=-100){e._t.push(h({Jt:!0,color:"brown",le:Date.now(),$t:Math.random()>.5,te:15,Rt:0,frame:0,Kt:2,Ut:5,Zt:20,height:15,Z:!0,ee:!1,ie:!0,se:0,oe:!1,size:1,ce:Date.now()+5e3,type:"P",velocityX:0,velocityY:0,width:15,ae:0,ne:5,he:s,x:t,y:i,render(){L(this)},update(t){this.oe||(this.velocityY+=780*t),this.y+=this.velocityY*t,this.x+=this.velocityX*t,this.oe=!1,this.he-=t,this.he<=0&&s>-100&&(this.ee=!0,this.Z=!1),this.ie?R(this,t):(this.Rt+=t,this.Rt>.07&&(this.frame=(this.frame+1)%this.Kt,this.Rt=0),Date.now()>=this.ce&&(this.ie=!0,this.velocityX=this.Zt))}}))}function E(t,i,e,h,s=-100){e._t.push(h({Jt:!0,color:"brown",le:Date.now(),$t:Math.random()>.5,te:3,Rt:0,frame:0,Kt:2,Ut:5,Zt:20,height:15,Z:!0,ee:!1,ie:!1,se:0,oe:!1,size:1,ce:Date.now()+5e3,type:"P",velocityX:0,velocityY:0,width:15,ae:0,ne:5,he:s,x:t,y:i,render(){!function(t,i,e,h={Lt:0,scale:1,flipX:!1}){if(h.ie){const i=[{width:20,height:8},{width:13,height:6},{width:4,height:6},{width:-12,height:-5}],h=["#8B5A2B","#7c4303","#bc8000"];let s=e;for(let e=0;e<i.length;e++){const l=i[e],n=s-l.height;t.fillStyle=h[e],t.fillRect(0+5*e,n,l.width,l.height),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.strokeRect(.5+5*e,n+.5,l.width-1,l.height-1),s=n}}else O(t,[["00000000000000000000","00002200002200000000","00000200002200000000","00000000000000000020","02000022000011000020","02000000000111100000","00000000011111000000","00000001111111100000","00000000111111100000","00000011111111000000","00000111111111110000","00001111111111110000","00001111111111100000","00011111111111111100","01111111111111111110","11111111111111111111"],["00000000000000000000","00000022000000000000","02000022000002200000","00000000000000000000","00002000000011000000","00002000000111100000","00000000011111000000","00000001111111100000","00000000111111100000","00000011111111000000","00000111111111110000","00001111111111110000","00001111111111100000","00011111111111111100","01111111111111111110","11111111111111111111"]][h.Lt],{scale:1,Qt:["rgba(255,255,255,0)","#8B4513","#000000","#ff2e9d","rgb(133,73,0)"],flipX:h.flipX})}(this.context,0,this.height,{ie:this.ie,Lt:this.frame,scale:this.size,flipX:"left"!==this.direction})},update(t){this.oe||(this.velocityY+=780*t),this.y+=this.velocityY*t,this.x+=this.velocityX*t,this.oe=!1,this.he-=t,this.he<=0&&s>-100&&(this.ee=!0,this.Z=!1),this.ie?R(this,t):(this.Rt+=t,this.Rt>.07&&(this.frame=(this.frame+1)%this.Kt,this.Rt=0),Date.now()>=this.ce&&(this.ie=!0,this.velocityX=this.Zt))}}))}function R(t,i,e=!0){if(t.ae-=i,t.ae<=0){t.ae=t.ne;const i=Math.floor(4*Math.random());0===i?t.velocityX=0:1===i?(t.velocityX=-t.Zt,t.$t=!1):2===i?(t.velocityX=t.Zt,t.$t=!0):3===i&&t.oe&&e&&(t.velocityY=t.de,t.oe=!1)}return t}function D(t,{me:i="#555",fe:e="#b1b1b1",ue:h="#0f0"}={}){const{context:s,width:l,height:n}=t;s.fillStyle=i,s.fillRect(0,n-8,l,10),s.fillStyle=e,s.fillRect(0,n-13,l,5),s.fillStyle="#222",s.fillRect(0,n-19,.2*l,.3*n),s.fillStyle=h,s.beginPath(),s.arc(13,n-15,.15*n,0,2*Math.PI),s.fill()}function L(t,{ge:i="#444",be:e="#333",Me:h="#555",scale:s=1}={}){const{context:l,width:n,height:r}=t,a=n,o=r;l.save(),l.translate(a/2,o/2),l.scale(s,s),l.translate(-a/2,-o/2),l.fillStyle=i,l.fillRect(.1*a,.3*o,.8*a,.7*o),l.fillStyle=e,l.fillRect(.05*a,.2*o,.9*a,.1*o),l.fillRect(.1*a,.9*o,.8*a,.1*o),l.fillStyle=h;const c=[[.25*a,.3*o,.05*a,.7*o],[.475*a,.3*o,.05*a,.7*o],[.7*a,.3*o,.05*a,.7*o]];for(const[t,i,e,h]of c)l.fillRect(t,i,e,h);l.fillStyle="#111",l.fillRect(.3*a,.22*o,.4*a,.06*o),l.fillStyle="rgba(255,255,255,0.1)",l.fillRect(.1*a,.3*o,.8*a,.05*o),l.restore()}function z(t,i={}){const{context:e}=t,{Lt:h=0,scale:s=1,flipX:l=!1}=i;3===s&&e.translate(0,-20),2===s&&e.translate(0,-10),O(e,[["00000000000000000000000110000000","00000000000000001111001771000000","00000000000000113333111753111110","00000000000011338888332533333351","00000000111133888888888888188810","00000011756188888888888888881100","00000177111128888288888881110000","00001711000018882222288810000000","00017100000018821111188210000000","01171000000018211100018110000000","17710000000015116100001510000000","01100000000015516100001571000000","00000000000001111000000110000000"],["00000000000000000000000000000000","00000000000000011110000110000000","00000000000011133331101771000000","00000000111133388883311753111110","00000011756188888888832533333351","00000177111128888888888888888810","00001711000018882888888888881100","00017100000018822222888881110000","01171000000018211111188210000000","17710000000182101100182111000000","01100000001751001611511166100000","00000000001510001661551016100000","00000000000100000110110001000000"]][h],{scale:s,Qt:["rgba(255,255,255,0)","#000000","#292929","#4d4d4d","rgba(133,73,0,0)","#9c6974","#6e4a52","#c08d98","#3c3c3c"],flipX:l})}const q={Y:"yellow",A:"blue",B:"purple",C:"black",D:"darkred",E:"red",F:"darkgreen",L:"yellow",G:"white",I:"pink",O:"lightblue",P:"brown",R:"saddlebrown",H:"black",W:"brown",X:"gray",c:"sienna",Q:"green",f:"darkgreen"},C={ge:"rgb(150,236,255)",pe:"rgb(115,183,197)"},Y={ge:"rgb(167,204,213)",pe:"rgb(53,79,87)"},Q={ge:"rgb(180, 180, 180)",pe:"rgb(142,142,142)",we:"rgb(101,101,101)"},Z={ge:"rgb(180, 180, 180)",pe:"rgb(170, 120, 70)",we:"rgb(101,101,101)"},I={ge:"rgb(37,37,37)",pe:"rgb(117,115,63)",we:"rgb(2,174,2)"},j={ge:"rgb(161,161,161)",pe:"rgb(175,175,175)",we:"rgb(255,255,255)"},$={ge:"rgb(80,80,80)",pe:"rgb(143,98,7)",we:"rgb(255,255,255)"},B={[W.Dt]:{A:{ve:"rgb(161,161,161)"},a:{ve:"rgb(161,161,161)"},B:{me:"#555",fe:"#b1b1b1",ue:"#0f0"},F:Z,f:Z,Te:a(r({},Q),{ye:"rgb(142,142,142)",rotation:1}),Xe:a(r({},Q),{rotation:2}),We:a(r({},Q),{rotation:1}),Ce:{ge:"rgba(251,108,55,0)",ye:"rgb(188,128,0)",pe:"rgb(188,128,0)",rotation:2},n:{ge:"rgb(180, 180, 180)",we:"rgb(101,101,101)"},X:{ge:"rgba(188,128,0,0.53)"},Y:{ge:"rgba(40,205,255,0.88)",pe:"rgb(255,247,46)",rotation:1},W:Q,w:Q,O:C,Ne:C},[W.Et]:{A:{ve:"rgb(255,227,53)"},a:{ve:"rgb(255,227,53)"},F:I,f:I,Te:{ge:"rgb(128,128,128)",pe:"rgb(62,62,62)",rotation:1},Xe:{ge:"rgb(128,128,128)",pe:"rgb(62,62,62)",rotation:3},We:{ge:"rgb(128,128,128)",pe:"rgb(62,62,62)",rotation:1},n:{ge:"rgb(128,128,128)"},X:{ge:"rgb(0,149,255)"},W:{ge:"rgb(128,128,128)",pe:"rgb(62,62,62)",rotation:2},w:{ge:"rgb(128,128,128)",pe:"rgb(62,62,62)"},O:{ge:"rgb(150,236,255)"},Ne:{ge:"rgb(150,236,255)"}},[W.Pt]:{A:{ve:"rgb(251,108,55)"},a:{ve:"rgb(251,108,55)"},B:{flipX:!0},F:j,f:j,d:{Oe:"rgb(161,161,161)",Fe:"rgb(251,108,55)",Se:"rgb(255,222,0)"},Te:a(r({},$),{ye:"rgb(142,142,142)",rotation:1}),Xe:a(r({},$),{rotation:2}),We:a(r({},$),{rotation:1}),Ce:{ge:"rgba(251,108,55,0)",pe:"rgba(147,147,147,0.49)",rotation:2},n:{ge:"rgb(80,80,80)",we:"rgb(255,255,255)"},X:{ge:"rgba(236,184,11,0.55)",we:"rgb(255,255,255)"},Y:{ge:"rgb(2,174,2)"},W:$,w:a(r({},$),{rotation:2}),O:Y,Ne:Y,Q:{ke:"#FFD700",xe:"#333",Ae:!0,rotation:0},De:{ke:"#FFD700",Ae:!0,rotation:2}}},V={},K={pressed:{},released:{}};function J(t,i,e){"pressed"!==i&&"released"!==i||(K[i][t]||(K[i][t]=[]),K[i][t].push(e))}function _(t,i,e){if(!K[i][t])return;const h=K[i][t].indexOf(e);-1!==h&&K[i][t].splice(h,1)}function U(t){return!!V[t]}const G={[W.Dt]:["C200","C200","N.21X.51a.5X.68W.13M.18a.2X.13N","N.21X.57X.24A.43W.13M.21X.13N","N.16 a.3NF4f34.12f.5f28.42W.13M.10f2.9F.13N","N.3F2.11F2f3N.34F4f4.11f.3f.25f14.29m15.10N2.P3E2.3N.13N","N.21X.37F5f4.11fF11.28f13X5.8a2.16X4f17N.13N","N.16B.4X3.7Aa.35f4.7f.51X6f8.17a.16d.4N.13N","N.5Q.15X3.11D.7E.3P.3Q.4P.3D.12f7.7Dd.2T.dD.14E.5P.5E.6d.2X.13f14.6Q.12T.5N.2P.10N","nF23X4FX2F51.4F47.4F3.3F4.12F32.8N","nm22X8m51.4m47.4m3.3m4.15m28N.8N","N.28f2.154N.13N","N.23f2.107f2.12F4X4F4.26N.9d.3N","N.25f.108f2.22F7.19N.3f10N","N.26f.4f2.103f2.26W.19N.13N","N.2GH.7a.23f.103f2.23WF2.17N.13N","N.10F.18f2.5f.103f2.18m4W.19Nf10.3N","N.3d.6M.15Q.44D.39d.32Q.34Q.4N.11Y2N","N.3T.D.4M.D.D.4d.6T.d.15Dd.Q.13E.E.E.5TQ.22E.6E.6d.T.23Dd.7T.13E.21T.3N.6D.4Y2N","F200"],[W.Et]:["C200","C200",".165X.9MO2mM.a.5X9.4",".2Q.50F.49A.54a.6X.9MO2mM.7X9.4","w4N.56A.3F3.F.30X2.3mF9M.30f2.5f2.10X.9MO2mM.7X9F4","nW2nN.45F.8F.F.F.6A.23A.F.3X2.3mnWO2mO2mwM.19a.3f2.3f.11f2.3f4Mf7.2MO2mM.7X9nW2n","MO2mN.49F.15F.4X.2A.2X.2FX5F.9X2.2FmnWO2mO2mwM.15f2.4f.26mM.9nw2n2F4.3F4X5MO2m","MO2mN.12A.57X.5X.12A.5X2.3mnWO2mO2mwM.48mM.9Wn2Wn2WnM.3nWnMX5MO2m","nw2nN.45F.24F.5F.18X2.3mnWO2mO2mwM.36f2.10mM.3f6WnMOmMOmM.3MOmMX5Ww2n","nW2nN.18Q.4P.4Q.25A.40w15M.10f2.3a.32mM.3mn5Wn2wn2wnM.2fnwnM.8m","MO2mN.16F15.17F.5F.5F.28X2.4mnOmOmOmOmOmOmwM.15f2.11a.19mM.3mn5Wn2Wn2WnM.3nWnM.3a.4m","MO2mN.16nW2n2W2n.2nW2nN.58X2.4mnOmOmOmOmOmOmwM.8F2.12f2.4f2.11F2.5mM.9WnMOmMOmM.3MOmM.8m","nw2nN.16MO2mMO2m.2MO2mN.33F2.3A.19X2.4mF14M.37a.10mM.9Wn2wn2wnMf.2nwnM.2f2.3Qm","n4N.16MO2mMO2m.2MO2mN.38F2.18X2.2Q.mw14MF3.14F2.12F2.4f2.7F2mM.9X.11nWnM.7fm","nNHG.12F4.nw2n2w2n.2nw2nN.16Q.3A.3Q.33mw5n2OnOnOnOnOnW2nM.48mM.9X.2E.P.2P.3MOmM.8m","nN.12F2nW2n.nW2n2W2n.2nW2nN.15F11.32mnW3n2W2n2W4n2MO2mM.31a.9f2.B.3mM.9w12nwnM.3HG.2Qm","n2F3.9mnMO2m.MO2mMO2m.2MO2mN.4P.E.3E.4N.3mN.3mN.4E.2A.P.E.2F2.P.A.E.2P.E.5mNO3nMO2mnO2mO2nMO2mM.10Q2.12Q2.10Q2.10mM.4a.2f2Wn2W2n2Wn2Wn2WnM.3A.3fm","n4N.9mnMO2m.MO2mMO2m.2MO2mN.15N.3mN.3mN.32mNO3nMw2mnO2mO2nMO2mM.10mM.5B.6mM.10mM.10mMf2.7WnMO2mMOmMOmMOmM.8m","n4N.7Q.mn2w2n.nw2n2w2n.2nw2nN.Q.D.4Q.4D.Nd2.mNd2.mN.D.5mM.3D.11Q.3d.3mnw3n12MO2mM.10mM.12mM.10mM.10mM.9Wn2w2n2wn2wn2wnMF2X4F2m","F94mn17w2nMn77Y4n3"],[W.Pt]:["C199","C199","N.5T.N.10q.12A.2X7.6q.5T.6q.11q.9X2.q.4M.3T.23qT.18q.13T.5q.18Mf.8X5F3X.m","N.HG.2T.N.26X7.12T.9A.4X3.7X8.4M.3T.24T.32T.24Mf.8X.X.XI.YX.m","N.5T.N.9W3.20W.12T.22X10WX3M.3T.2N14.8T.32T.24Mf.6a.X.X.X.2YX.m","NF4.T.N.10T.5M.3W.6W2.3N.4q.7T.8W2.10X2.6X2N3.3M.3T.2NX12N.7T2.32T.24Mf.8X3Y5X.m","N.2q.2T.N.2W2.5W2.5M.15W9.4T.13W2.5W2.3d.2W6.2M.3T.2W14.7T2.5d.26T.24X.f2.6f4X5.m","N.5T.N.9w2.5M.4W.10W.7W.4T.18E2.5W5XW3.2MW2.T.8q.T.4X.7T.2F23.8T.20a.3X.3f2.9q.4m","N.3A.T.N.16M.14W2.A.5W.4T.13Q.2X9W5XW3.2M.3T.10T.4X.7T.5q.15q.11T.19f2.3X.5f2.12m","N.5T.N.5W2.9M.5W.9W.X.5W.4T.9W8X9W4XW3.2M.3T.6d.3T.4W.7T.26F2.5T.4F2.18M.5T.f7.5m","N.24M.Q.6W2.5W.5X2W.4T.8dW.3q.3W13XW3.2M.3T.2W14.6T.4T.8A.20T.23fM.5T.2f.10m","N.22W5.13WX2.5W.4T.4E2.2W3.8T.6TW6.3M.3T.2WX12W.6T.4T.2W12.13F2T.24M.5T.2f.10m","N.19W3.A.TW.2d.3E.P.4W.7W.4T.Q.6W2.3A.5T.6T.2q.6M.3T.W15.6T.F2.T.2Wn10WF2.33f2.3M.5T.2f.5f5m","N.T.3T.11W3.5W15.5X2WnW15.9T.6T.8X3.2T.W15.6T.4TW2n11W.28TF2.9M.5T.2f.10m","N.T.3T.P2.Q.d.2W2nN.6TX15.6X2.3X2.2T.2X2.8X7.6X2.3X5.2T.10q.T.9T.4T.Wn11W.5F2.11A.9T.10fM.5T.2f3.8m","N.T.3T.W8n3N.6TX15.2d.3T.8T.2T.3P2.6X7.6X2.2X4.2T.2d.9T.8W2.4TW14.28T.11M.5T.13m","N.T.3T.X8n4W83.5T.2W.14X12.11F2.12F2.T.6f2.3M.5T.8f5m","NW2.3T.X8.8q.T.14q.6T.8T.qT.16qT.18qT.9T.W2.8A.5X12.28T.11M.5T.8n5m","N.T.3T.X8.10T.6d.4E.2E.2E.3T.E.3E.5T.5P5dP6T.19T.9T.W2.13dX12.d.8Q.6B.2d.7T.Q.8fM.5T.6n7m","nW185n12m"]};function H(t){if(t.re<t.Ee){const i=t.y+t.height;t.re=Math.min(t.Ee,t.re+.5),t.width=t.Pe*t.re,t.height=t.je*t.re,t.y=i-t.height,t.de=t.Ge*(1/(1+.5*(t.re-1))),t.Zt=t.Ye*(1/(1+.4*(t.re-1)))}}const tt={Qe:"white",qe:{Le:10,size:1},ze:{Le:10,size:1}},it={currentState:W.At,Be:W.At,Ie:null,Re:null,Ve:!1,paused:!1,Ke:!1,He:{},camera:{x:0,y:0,width:800,height:400,_e:{Je:0,$e:0,Ue:0,Ze:0}},input:{ti:!1}};function et(t,i,e,h={}){if([W.Dt,W.Et,W.Pt].includes(t))return t!==W.Dt&&(i.ii.ei.length=0,i.ii.si.length=0,i.ii.oi.length=0,i.ii._t.length=0,i.ii.effects.length=0,i.ii.qe=null,i.ii.ze=null),i.ii={ze:null,qe:null,ai:null,start:null,keyboard:{},ei:{},level:{},si:[],oi:[],_t:[],effects:[]},t===W.Dt?i.ii.ei=h[0]:t===W.Et?i.ii.ei=h[1]:t===W.Pt&&(i.ii.ei=h[2]),function({ni:t,ri:i,hi:e}){const{li:h,canvas:s}=e,l={level:{ci:5*s.width,di:s.height}};var n;return Object.assign(i.ii,function({ni:t,ii:i,mi:e,li:h,fi:s=20}){const l={B:{[W.Dt]:D,[W.Et]:L,[W.Pt]:z},E:{[W.Dt]:L,[W.Et]:L,[W.Pt]:z}},n={[W.Dt]:E,[W.Et]:k,[W.Pt]:A},o={[W.Dt]:{ui:10,gi:!0,oe:!1},[W.Et]:{ui:5,gi:!0,oe:!1},[W.Pt]:{width:32,gi:!1,height:13,re:3,frame:0,Kt:2,Vt:!1,ui:5}};return e.forEach((e,c)=>{[...e].forEach((e,f)=>{var d;if("."===e)return;let g={x:f*s,y:c*s,width:s,height:s,color:null!=(d=null==q?void 0:q[e])?d:"rgba(255,255,255,0)",type:e,isVisible:!["f","a"].includes(e),bi:["W","M","m","N","n","w","F","C","Y","f","O","o","X"].includes(e)};const u=a(r({},g),{Ht:0,Rt:0,frame:0,$t:!0,Kt:4,Ut:100,height:32,Mi:!0,pi:!1,je:32,x:f*s,y:c*s,width:36,velocityY:0,Pe:36,Ye:200,Zt:200,oe:!1});if("I"===e&&(i.wi=h(a(r({},u),{re:1,ae:0,ne:2,Zt:50,velocityX:50,oe:!0,Mi:!1,update(t){P(this,t),this.ae-=t,this.ae<=0&&(this.ae=this.ne,this.pi=Math.random()<=.3,this.$t=!this.$t)},render(){let t;t=this.pi?"walk":"idle",S(this.context,{pose:t,flipX:!this.$t,Lt:this.frame,scale:this.re+1,width:this.width,zt:this.height-this.je,Qt:["rgba(0,0,0,0)","#000000","#fafafa","#ffbbdc","#7a7a7a","#ecdcc9","#f26060"]})}}))),"G"===e&&(i.qe=h(a(r({},u),{Ti:0,de:-450,yi:!1,Ee:2,Ge:-450,re:1,update(t){P(this,t),this.re>1.5&&(this.width=16*(1+this.re),this.height=18*(1+this.re)+7.75),1.5===this.re&&(this.width=16*(1+this.re),this.height=18*(1+this.re))},render(){let t;t=this.Mi?"jump":this.pi&&!this.Mi?"walk":this.yi?"poop":"idle",S(this.context,{pose:t,flipX:!this.$t,Lt:this.frame,scale:this.re+1,width:this.width,zt:this.height-this.je,Qt:["rgba(0,0,0,0)","#000000","#ececec","#cfcfcf","#7a7a7a","#ecdcc9","#f26060"]})}}))),"H"===e&&(i.ze=h(a(r({},u),{Xi:.5,Wi:0,Ti:10,Ci:.03,Ni:1,Oi:15,Fi:0,Si:!0,Vt:!1,de:-550,ki:3,xi:15,update(t){P(this,t)},render(){let t;t=this.Mi?"jump":this.pi&&!this.Mi?"walk":this.Vt?"attack":"idle",S(this.context,{pose:t,flipX:!this.$t,Lt:this.frame,scale:2,width:this.width,Qt:["rgba(0,0,0,0)","#000000","#a2998d","#5c5751","#413f3a","#ecdcc9","#f26060","rgba(255,255,255,1)"]})}}))),["W","M","m","N","n","w","F","f","O","o","X","Y","T"].includes(e)&&(g.render=function(){!function(t,i,e,h={}){const{ge:s="rgb(180,180,180)",pe:l,we:n,ye:r,rotation:a=0}=h;if(t.save(),a&&(t.translate(i/2,e/2),t.rotate(Math.PI/2*(a%4)),t.translate(-i/2,-e/2)),t.fillStyle=s,t.fillRect(0,0,i,e),l&&(t.fillStyle=l,t.fillRect(0,0,i,7),r&&(t.fillStyle=r,t.fillRect(0,e-7,i,7))),n){t.fillStyle=n;const h=i/4,s=e/2,l=e/15,r=e/4;for(let e=0;e<2;e++)for(let n=0;n<2;n++)t.fillRect(i/2+(e?1:-1)*h,s+(n?r:-l),1,1)}t.restore()}(this.context,this.width,this.height,r({},B[t][g.type]))},i.si.push(h(g))),["L","c","T","D","O","R","Q","d","q"].includes(e)&&(g.width=40,g.height=40,g.y=c*s-s+5,["q","Q"].includes(e)&&(g.render=function(){var i;!function(t,i,e,h={}){const{ke:s="#FFD700",xe:l,Ae:n=!0,rotation:r=0}=h;t.save(),t.translate(i/2,e/2),r&&t.rotate(Math.PI/2*(r%4));const a=.8*e,o=.05*i,c=2===r?-7:-a/2,f=c+.15*e;if(n){const h=t.createRadialGradient(0,f,5,0,f,i);h.addColorStop(0,"rgba(255,255,200,0.6)"),h.addColorStop(1,"rgba(255,255,200,0)"),t.fillStyle=h,t.beginPath(),t.ellipse(0,c+.2*e,.9*i,.7*e,0,0,2*Math.PI),t.fill()}l&&(t.fillStyle=l,t.beginPath(),t.rect(-o/2,c,o,a),t.fill(),t.strokeStyle="rgb(246,255,167)",t.lineWidth=2,t.stroke());const d=.6*i,g=.3*e,u=.4*d;t.fillStyle=s,t.beginPath(),t.moveTo(-d/2,c),t.lineTo(d/2,c),t.lineTo(u,c+g),t.lineTo(-u,c+g),t.closePath(),t.fill(),t.strokeStyle="rgb(246,255,167)",t.stroke(),t.restore()}(this.context,this.width,this.height,r({},null==(i=B[t])?void 0:i[g.type]))}),["d","D"].includes(e)&&(g.render=function(){var i;!function(t,i,e,h={}){const s="palm"===h.type,l=(null==h?void 0:h.Oe)||(s?"#8B0000":"#bc8000"),n=(null==h?void 0:h.Fe)||(s?"#8B5A2B":"#654321"),r=(null==h?void 0:h.Se)||"#228B22";t.save(),t.translate(i/2,e/2);const a=.2*e,o=i*(s?.4:.5),c=e*(s?.4:.25),f=i*(s?.08:.1),d=e/2-a-c-(s?5:15);if(t.fillStyle=l,t.beginPath(),t.rect(-o/2,e/2-a-5,o,a),t.fill(),t.strokeStyle=s?"black":"rgba(133,73,0,0.66)",t.lineWidth=s?1:2,t.stroke(),t.fillStyle=n,t.beginPath(),t.rect(-f/2,s?d:e/2-a-c-5,f,c),t.fill(),t.strokeStyle="rgba(133,73,0,0.66)",t.stroke(),s);else{t.fillStyle=r,t.strokeStyle="rgba(99,213,99,0.51)";const h=[.25*e,.42*e,.67*e],s=[.3*i,.45*i,.6*i];let l=d;for(let i=0;i<3;i++)t.beginPath(),t.moveTo(0,l-5),t.lineTo(-s[i]/2,l-h[i]-3*i),t.lineTo(s[i]/2,l-h[i]+3*i+i),t.closePath(),t.fill(),t.stroke(),l+=.9*h[i]}t.restore()}(this.context,this.width,this.height,r({type:"D"===e?"palm":"yolk"},null==(i=B[t])?void 0:i[g.type]))}),i.si.push(h(g))),["A","a"].includes(e)&&(g.Ai=!1,g.isVisible="A"===e,g.color="rgba(0, 0, 0, 0)",g.Di=0,g.update=function(t){this.Di<=0?(this.Ai=!1,this.Di=0):this.Di-=t},g.render=function(){var i;!function(t,i,e,h={}){const{ve:s="rgb(60, 120, 255)"}=h;t.save(),t.translate(i/2,e/2);const l=.9*i,n=.5*e;t.fillStyle=s,t.beginPath(),t.ellipse(0,0,l/2,n/2,0,0,2*Math.PI),t.fill(),t.strokeStyle="rgb(0,0,0)",t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(l/2,0),t.lineTo(l/3+.5*l,.6*n),t.lineTo(l/3+.5*l,.6*-n),t.closePath(),t.fill(),t.strokeStyle="rgb(0,0,0)",t.lineWidth=1,t.stroke(),t.restore()}(this.context,this.width,this.height,r({},null==(i=B[t])?void 0:i[g.type]))},i.oi.push(h(g))),"B"===e){g.Ei=g.Pi-12*s,g.ji=g.Pi+12*s,g.Jt=!0,g.te=15,g.ne=2,g.ae=0,g.$t=!1,g.Ut=10,g.Z=!0,g.ee=!1,g.Mi=!1,g.ie=!0,g.de=-350,g.he=15,g.Gi=2,g.Zt=300,g.oe=!0,g.Pi=f*s,g.Yi=c*s,g.Qi=0,g.ui=10,g.velocityX=0,g.velocityY=0,g.scale=3,g.width=36,g.height=36,g.qi=!1,g.Rt=0,g.Ne=i,g.s=h,g=r(r({},g),o[t]),g.update=function(i){var e;this.Z&&(function(t,i){t.qi||(Math.abs(i.qe.x-t.x)<=200&&Math.abs(i.qe.y-t.y)<=100||Math.abs(i.ze.x-t.x)<=200&&Math.abs(i.ze.y-t.y)<=100)&&(t.qi=!0)}(this,this.Ne),this.qi&&(P(this,i),this.oe||(this.velocityY+=N*i),R(this,i,this.gi),(e=this).x<e.Ei?(e.x=e.Ei,e.velocityX=e.Zt,e.$t=!0):e.x>e.ji&&(e.x=e.ji,e.velocityX=-e.Zt,e.$t=!1),this.Qi+=i,this.Qi>=this.ui&&(n[t](this.x,this.y,this.Ne,this.s,-100),this.Qi=0),this.x+=this.velocityX*i,this.y+=this.velocityY*i))};const e=l[g.type][t];g.render=function(){var i;e(this,a(r({},null==(i=B[t])?void 0:i[g.type]),{scale:this.re,flipX:!this.$t,Lt:this.frame}))},i._t.push(h(g))}["E"].includes(e)&&n[t](g.x,g.y,i,h,-100),"P"===e&&E(g.x,g.y,i,h,-100)})}),i}({ii:i.ii,mi:(n=G[t],n.map(t=>t.replace(/(\D)(\d*)/g,(t,i,e)=>i.repeat(e?+e:1)))),ni:t,li:h})),(null==i?void 0:i.Li)&&(i.Li.camera._e={Je:0,$e:l.level.ci-800,Ue:0,Ze:l.level.di-400}),(null==i?void 0:i.zi)&&Object.assign(i.zi,tt),i.ii.keyboard=(K.pressed={},K.released={},window.keyboardInitialized||(window.addEventListener("keydown",t=>{V[t.code]=!0,K.pressed[t.code]&&K.pressed[t.code].forEach(i=>i(t))}),window.addEventListener("keyup",t=>{V[t.code]=!1,K.released[t.code]&&K.released[t.code].forEach(i=>i(t))}),window.keyboardInitialized=!0),{Bi:J,Ii:_,Ri:U}),i.ii.level=l.level,{ii:i.ii,zi:i.zi,Li:i.Li}}({ni:t,ri:i,hi:e})}class ht{constructor({update:t,render:i}){var e;n(this,"symbol"!=typeof(e="loop")?e+"":e,t=>{const i=(t-this.Vi)/1e3;this.Vi=t,this.update(Math.min(i,.1)),this.render(),requestAnimationFrame(this.loop)}),this.Vi=0,this.update=t,this.render=i}start(){this.Vi=performance.now(),requestAnimationFrame(this.loop)}}function st(t,i){const e=i=>{"Space"===i.code&&(t.input.ti=!0)};document.addEventListener("keydown",e),document.addEventListener("keyup",i=>{"Space"===i.code&&(t.input.ti=!1,document.removeEventListener("keydown",e))})}function lt({Ki:t,ri:i},e){const{ii:h,Li:s,zi:l}=i;s.input.ti&&(s.input.ti=!1,Object.assign(l,{Qe:"white",qe:{Le:10,size:1},ze:{Le:10,size:1}}),et({ii:h,zi:l,Li:s},{},{},e),s.currentState=t,s.Be=t)}function nt(t,i,e){i.fillStyle="black",i.fillRect(0,0,800,400),i.fillStyle="white",i.font="30px Arial",i.fillText("JS13K 2025: Meow & Shadow",400,170);let h="";switch(e){case"victoryWhite":h="You have won! White cat took all the Glory!";break;case"victoryBlack":h="You have won! Black cat took all the Glory!";break;default:h="Game Over :("}i.fillText(h,400,230),i.fillText("Hit space to start over",400,260)}const rt={[W.Dt]:{Hi:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],fi:390,_i:[{style:"stripes",fi:390,bgColor:"rgba(115,65,0,0.85)",fgColor:"rgb(255,228,116)",accentColor:"rgb(244,244,244)",scale:2},{scale:2,fi:390,style:"stripes",bgColor:"rgba(255,236,156,0.38)",fgColor:"rgba(124,98,0,0.18)",accentColor:"rgb(244,244,244)"},{bgColor:"rgba(255,227,53,0.41)",accentColor:"rgba(255,0,0,0.31)",fi:390,scale:3,style:"damask",fgColor:"rgba(246,255,167,0.13)"}]},[W.Et]:{fi:390,Hi:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],_i:[{style:"dots",fi:100,bgColor:"rgba(0,45,76,0.66)",fgColor:"rgba(255,255,255,0.66)",accentColor:"rgba(0,45,76,0.66)",scale:15},{scale:45,fi:100,style:"damask",bgColor:"rgba(0,17,25,0.66)",fgColor:"rgba(0,17,25,0.66)",accentColor:"rgb(255,201,201)"},{bgColor:"rgba(255,227,53,0.11)",accentColor:"rgb(255,227,53)",fi:85,scale:30,style:"damask",fgColor:"rgba(255,227,53,0.47)"}]},[W.Pt]:{fi:390,Hi:[{speed:1,alpha:1},{speed:1,alpha:.7},{speed:1,alpha:.3}],_i:[{style:"stripes",fi:200,bgColor:"rgb(0,0,0)",fgColor:"rgb(2,174,2)",accentColor:"rgb(255,0,0)",scale:.5},{scale:15,fi:50,style:"damask",bgColor:"rgb(188,128,0)",fgColor:"rgb(0,0,0)",accentColor:"rgb(22,81,52)"},{bgColor:"rgba(81,47,0,0.78)",accentColor:"rgb(0,0,0)",fi:50,scale:2,style:"dots",fgColor:"rgba(117,65,0,0.66)"}]}};!function(){const{canvas:t,context:i}=function(t,{Ji:i=!1}={}){if(g=document.getElementById(t)||t||document.querySelector("canvas"),i&&(g=g||new Proxy({},p)),!g)throw Error("You must provide a canvas element for the game");return u=g.getContext("2d")||new Proxy({},p),u.imageSmoothingEnabled=!1,function(t,...i){(m.init||[]).map(t=>t(...i))}(),{canvas:g,context:u}}(),e=[W.Dt,W.Et,W.Pt].map(t=>({Hi:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],fi:390,$i:rt[t]._i.map(t=>function(t,i={}){const{style:e="damask",fi:h=128,bgColor:s="#F5F3EA",fgColor:l="#C9B27D",accentColor:n=null,scale:r=1}=i,a=document.createElement("canvas");a.width=Math.round(h*r),a.height=Math.round(h*r);const o=a.getContext("2d");if(o.fillStyle=s,o.fillRect(0,0,a.width,a.height),o.lineJoin="round",o.lineCap="round","stripes"===e){const t=Math.max(4,Math.round(6*r));o.save(),o.translate(a.width/2,a.height/2),o.rotate(-20*Math.PI/180),o.translate(-a.width/2,-a.height/2),o.fillStyle=l;for(let i=-a.width;i<2*a.width;i+=3*t)o.fillRect(i,-a.height,t,4*a.height);o.restore(),o.globalAlpha=.08,o.fillStyle=l;for(let t=0;t<30;t++)o.beginPath(),o.arc(Math.random()*a.width,Math.random()*a.height,4*Math.random()*r,0,2*Math.PI),o.fill();o.globalAlpha=1}else if("dots"===e){const t=Math.round(24*r),i=Math.round(4*r);o.fillStyle=l;for(let e=0;e<a.height+t;e+=t)for(let h=0;h<a.width+t;h+=t){const s=e/t%2?t/2:0;o.beginPath(),o.arc((h+s)%a.width,e%a.height,i,0,2*Math.PI),o.fill()}if(n){o.globalAlpha=.12,o.fillStyle=n;for(let t=0;t<12;t++)o.beginPath(),o.arc(Math.random()*a.width,Math.random()*a.height,6*Math.random()*r,0,2*Math.PI),o.fill();o.globalAlpha=1}}else{const t=a.width,i=a.height,e=(t,i,e,h,s=0)=>{o.save(),o.translate(t,i),o.rotate(s),o.beginPath(),o.ellipse(0,-h/2,e,h,0,0,2*Math.PI),o.fill(),o.restore()};o.fillStyle=l;const h=t/2,s=i/2;e(h,s,.12*t,.28*i,0),e(h,s,.12*t,.28*i,Math.PI/2),e(h,s,.12*t,.28*i,Math.PI/4),e(h,s,.12*t,.28*i,-Math.PI/4),o.beginPath(),o.arc(h,s,Math.round(6*r),0,2*Math.PI),o.fill();const c=Math.round(8*r);[[-t/3,-i/3],[t/3,-i/3],[-t/3,i/3],[t/3,i/3]].forEach(([l,n])=>{e(h+l,s+n,.08*t,.18*i,Math.PI/6),o.beginPath(),o.arc(h+l,s+n,c,0,2*Math.PI),o.fill()}),n&&(o.globalAlpha=.12,o.fillStyle=n,o.beginPath(),o.ellipse(h,s-.06*i,.18*t,.08*i,0,0,2*Math.PI),o.fill(),o.globalAlpha=1),o.strokeStyle="rgba(0,0,0,0.06)",o.lineWidth=Math.max(1,Math.round(1*r)),o.beginPath(),o.ellipse(h,s,.12*t,.12*i,0,0,2*Math.PI),o.stroke()}return t.createPattern(a,"repeat")}(i,t))})),{ii:h,Li:s,zi:l}=et(W.Dt,{ii:{},zi:tt,Li:it},{li:X,canvas:t},e);document.addEventListener("keyup",t=>{"KeyM"===t.code&&(s.Ve=!s.Ve),"KeyP"===t.code&&(s.paused=!s.paused)}),new ht({update:n=>function(t,i,e,h,s,l,n,r){return a=this,o=arguments,c=function*(t,{Li:i,zi:e},h,s,l,n,r,a){switch(i.currentState){case W.Dt:case W.Et:case W.Pt:i.paused||function({ri:t,hi:i},e){const{ii:h,Li:s,zi:l}=t,{li:n,canvas:r,context:a,Ui:o,bi:c}=i,{keyboard:f}=h;void 0===l.Zi&&(l.Zi="white"),(f.Ri("ShiftLeft")||f.Ri("ShiftRight"))&&(!l.ts||Date.now()-l.ts>300)&&(l.Zi="white"===l.Zi?"black":"white",l.ts=Date.now());const d="white"===l.Zi?h.qe:h.ze;var g,u,y,m;[h.qe,h.ze,...h.wi?[h.wi]:[]].forEach(t=>{var i,e,n,r;t.update(o),e=o,(i=t).oe||(i.velocityY+=i.velocityY<0?1200*e:N*e,i.velocityY>800&&(i.velocityY=800)),i.y+=i.velocityY*e,i.y<20&&(i.y=20,i.velocityY=0),n=t,r={zi:l},h._t.forEach(t=>{var i,e,h;(e=n).x<(h=t).x+h.width&&e.x+e.width>h.x&&e.y<h.y+h.height&&e.y+e.height>h.y&&("E"!==t.type&&"P"!==t.type&&"B"!==t.type||["P","B","E"].includes(t.type)&&t.ie&&n.Ht<=0&&(n.Ut-=null!=(i=null==t?void 0:t.te)?i:1,n.Ht=2,n.Ut<=0&&(r.zi[n.color].Le>0?(r.zi[n.color].Le=r.zi[n.color].Le-1,n.Ut=100):n.Z=!1)))}),function(t,i,e,h,s){t.oe=!1,i.forEach(i=>{var e;if(s(t,i)){if("X"===i.type&&"white"===t.color&&t.re>1)return i.isVisible=!1,void(i.es=!1);if(Math.min(t.x+t.width-i.x,i.x+i.width-t.x)<Math.min(t.y+t.height-i.y,i.y+i.height-t.y)?(t.x=t.x<i.x?i.x-t.width:i.x+i.width,t.velocityX=0):t.y<i.y?(t.y=i.y-t.height,t.velocityY=0,t.oe=!0,t.Mi=!1):(t.y=i.y+i.height,t.velocityY=0),"Y"===i.type&&"pink"!==t.color){const i=Object.values(W).findIndex(t=>t===h.currentState),s=null==(e=Object.keys(W))?void 0:e[i+1];h.Be=(null==W?void 0:W[s])===W.jt?"white"===t.color?W.Gt:W.Yt:null==W?void 0:W[s]}}}),t.y<=10&&(t.y=10,t.velocityY=0)}(t,[...h.si.filter(({isVisible:t,bi:i})=>t&&i),...h._t.filter(({isVisible:t,bi:i})=>t&&i)],0,s,c),function(t,i,e){for(let h=0;h<i.length;h++){const s=i[h],l="white"===t.color?t.re>=t.Ee:t.Ni>=t.ki;s.Ai||l||!e(t,s)||s.Ai||l||("white"===t.color?H(t):(t.Ni=Math.min(t.ki,t.Ni*(t.Ni+1)),t.Oi=t.xi*t.Ni),s.Ai=!0,s.Di=10)}}(t,h.oi.filter(({Ai:t,isVisible:i})=>!t&&i),c)}),h._t.forEach(t=>{var i,e,s;t.update(o),i=[...h.si.filter(({bi:t,isVisible:i})=>t&&i),...h._t.filter(({bi:t,isVisible:i})=>t&&i)],e=t,s=c,i.forEach(t=>{s(t,e)&&(e.y+e.height>t.y&&e.y+e.height<t.y+t.height/2?(e.y=t.y-e.height,e.velocityY=0,e.oe=!0):e.velocityX>0&&e.x+e.width>t.x&&e.x<t.x?(e.x=t.x-e.width,e.$t=!1,e.velocityX*=-1):e.velocityX<0&&e.x<t.x+t.width&&e.x+e.width>t.x+t.width&&(e.x=t.x+t.width,e.$t=!0,e.velocityX*=-1))})}),h.oi.forEach(t=>{t.update(o)}),u=h,y=o,(g=d).Vt&&(g.Fi-=y,null==(m=u._t)||m.forEach((t,i)=>{let e=!1;e=g.$t?t.x>=g.x+g.width&&t.x<=g.x+g.width+g.Oi&&t.y+t.height>=g.y&&t.y<=g.y+g.height:t.x+t.width>=g.x-g.Oi&&t.x<=g.x&&t.y+t.height>=g.y&&t.y<=g.y+g.height,e&&t.ie&&(t.Ut-=g.Ti,t.Ut<=0&&(t.Z=!1,t.ee=t.Jt),t.ee&&"B"===t.type&&[...u.si,...u.oi].forEach(t=>{["f","a"].includes(t.type)&&(t.isVisible=!0)}))}),g.Fi<=0&&(g.Vt=!1)),g.Si||(g.Wi-=y,g.Wi<=0&&(g.Si=!0)),(f.Ri("KeyW")||f.Ri("ArrowUp"))&&d.oe&&(d.velocityY=d.de||-550,d.Mi=!0,d.oe=!1);const p=d.Zt||200;if((f.Ri("KeyA")||f.Ri("ArrowLeft"))&&(d.x-=p*o,d.$t=!1,d.pi=!0),(f.Ri("KeyD")||f.Ri("ArrowRight"))&&(d.x+=p*o,d.$t=!0,d.pi=!0),f.Ri("KeyA")||f.Ri("KeyD")||f.Ri("ArrowLeft")||f.Ri("ArrowRight")||(d.pi=!1),f.Ri("Space")){if("white"===l.Zi&&d.re>1&&!d.ss){const t=d.y+7.75;d.re=Math.max(1,d.re-.25),d.width=d.Pe*d.re,d.height=d.je*d.re,d.y=t,d.de=d.Ge*(1/(1+.5*(d.re-1))),d.Zt=d.Ye*(1/(1+.4*(d.re-1))),d.ss=!0,d.yi=!0,E(d.$t?d.x-10:d.x+d.width-13,t+d.width/2,h,n),setTimeout(()=>{d.ss=!1,d.yi=!1,d.width=d.Pe*d.re,d.height=d.je*d.re},1e3)}"black"===l.Zi&&!d.Vt&&d.Si&&(d.Vt=!0,d.Fi=d.Ci,d.Si=!1,d.Wi=d.Xi)}h.qe.x=Math.max(0,Math.min(h.qe.x,7*r.width-h.qe.width)),h.ze.x=Math.max(0,Math.min(h.ze.x,7*r.width-h.ze.width)),function(t,i){t.camera.x+=.1*(i.x-t.camera.width/2+i.width/2-t.camera.x),t.camera.x=Math.max(t.camera._e.Je,Math.min(t.camera.x,t.camera._e.$e))}(s,d),h._t=h._t.filter(({ee:t})=>!t),h.qe.Z&&h.ze.Z||(s.Be=W.jt),s.Be!==s.currentState&&function(t,{Li:i,ii:e},{li:h,canvas:s},l){if([W.Dt,W.Et,W.Pt].includes(t)){const i=et(t,{ii:e},{li:h,canvas:s},l);Object.assign(e,i.ii)}i.currentState=t}(s.Be,{Li:s,ii:h,zi:l},{li:n,canvas:r,context:a},e)}({ri:{ii:t,Li:i,zi:e},hi:{canvas:h,context:s,Ui:l,li:n,bi:r}},a);break;case W.At:st(i),lt({Ki:i.currentState===W.At?W.Dt:W.At,ri:{ii:t,Li:i,zi:e},hi:{li:n,canvas:h}},a);break;case W.jt:case W.Yt:case W.Gt:st(i),lt({Ki:i.currentState===W.At?W.Dt:W.At,ri:{ii:t,Li:i,zi:e},hi:{li:n,canvas:h}}),t.ze=null,t.qe=null,t.ai=null,t.start=null,t.keyboard={},t.ei={},t.level={},t.si=[],t.oi=[],t._t=[],t.effects=[];const o=et(W.Dt,{ii:{}},{li:n,canvas:h},a);Object.assign(t,o.ii),Object.assign(e,o.zi)}},new Promise((t,i)=>{var e=t=>{try{s(c.next(t))}catch(t){i(t)}},h=t=>{try{s(c.ns(t))}catch(t){i(t)}},s=i=>i.done?t(i.value):Promise.resolve(i.value).then(e,h);s((c=c.apply(a,o)).next())});var a,o,c}(h,{Li:s,zi:l},t,i,n,X,f,e),render:()=>function(t,{Li:i,zi:e},h,s,l){switch(i.currentState){case W.At:!function(t,i){const e=t.width,h=t.height;i.fillStyle="black",i.fillRect(0,0,e,h),i.fillStyle="white",i.font="30px Arial",i.textAlign="center",i.fillText("Meoq & Shadow",e/2+5,h/2-60),i.fillStyle="#ffffff",i.font="25px Arial",i.fillText("Press Space to start",e/2,h/2+25),i.font="15px Arial",i.fillText("Move: A & D, jump: W, switch cat: Left Shift",e/2,h/2+55),i.fillText("poop (Meoq): Space, attack (Shadow): Space",e/2,h/2+78),i.font="18px Arial",i.fillText("JS13K GAME 2025",e/2,h/2+110),i.font="15px Arial",i.fillText("created by hostmepanda",e/2,h/2+135),i.font="12px Arial",i.fillStyle="#66ccff",i.fillText("(github.com/hostmepanda)",e/2,h/2+155)}(h,s);break;case W.Dt:case W.Et:case W.Pt:if(i.paused)s.beginPath(),s.fillStyle="rgba(0,0,0,0.47)",s.rect(h.width/2-100,h.height/2-50,200,50),s.fill(),s.beginPath(),s.fillStyle="white"===e.Zi?"rgba(255,255,255)":"rgb(0,0,0)",s.rect(h.width/2-98,h.height/2-48,198,48),s.fill(),s.fillStyle="white"===e.Zi?"black":"white",s.font="20px Arial",s.textAlign="center",s.fillText("PAUSED",h.width/2,h.height/2-28),s.font="15px Arial",s.fillText("Press P to continue",h.width/2,h.height/2-8);else{let n;i.currentState===W.Dt?n=l[0]:i.currentState===W.Et?n=l[1]:i.currentState===W.Pt&&(n=l[2]),function({rs:t,hi:i},e){const{zi:h,Li:s,ii:l}=t,{canvas:n,context:r}=i;var a,o,c;r.clearRect(0,0,n.width,n.height),function(t,i,e,h=0,s=0,l){t.save(),l.Hi.forEach((n,r)=>{const a=-h*n.speed,o=-s*n.speed;t.globalAlpha=n.alpha,t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.fillStyle=l.$i[r],t.fillRect(-a,-o,i+l.fi,e+l.fi)}),t.setTransform(1,0,0,1,0,0),t.globalAlpha=1,t.restore()}(r,s.camera.width,s.camera.height,s.camera.x,s.camera.y,e),o=s.camera,c=()=>{if([...l.oi.filter(({isVisible:t,Ai:i})=>t&&!i),...l.si.filter(t=>t.isVisible),...l._t,l.qe,l.ze,...(null==l?void 0:l.wi)?[l.wi]:[]].forEach(t=>{var i;return null==(i=t.render)?void 0:i.call(t)}),l.ze.Vt){r.fillStyle="rgba(255,255,255)";const t=l.ze.y+l.ze.width/2;r.beginPath(),l.ze.$t?r.arc(l.ze.x+l.ze.width,t,l.ze.Oi,Math.PI/2,-Math.PI/2,!0):r.arc(l.ze.x,t,l.ze.Oi,-Math.PI/2,Math.PI/2,!0),r.closePath(),r.fill()}},(a=r).save(),a.translate(-o.x,-o.y),c(),a.restore(),function({context:t},{hs:i}){t.save();const e=t.canvas.width;t.fillStyle="black",t.fillRect(0,0,e,40),t.fillStyle="#333",t.fillRect(5,5,e-10,30),t.lineWidth=2,t.strokeStyle="#FFD700",t.fillStyle="rgb(246,255,167)",t.fillRect(4,4,e-10,30);const h=e/3-60;var s;t.textAlign="left",t.textBaseline="middle",t.font="bold 12px monospace",t.fillStyle="#FF8C00",t.fillText("LEVEL: "+(((s=i.ls)===W.Dt?"HOME":s===W.Et?"CITY":s===W.Pt?"SEWER":void 0)||"SECRET"),20,20);const l=i.cs||[];if(l.length>=2){const i=l[0],e=h+10;t.fillStyle=i.isActive?"#165134":"#a1a1a1";const s=`${i.name}: ${i.Le||0}/10`;t.fillText(s,e,20);const n=t.measureText(s).width,r=15,a=h-n-30,o=10;F(t,e+n+10,r,a,o,(i.Ut||0)/100),i.isActive&&0==Math.floor(Date.now()/500)%2&&(t.fillStyle="#165134",t.fillText("▶",e-15,19));const c=l[1],f=2*h+40;t.fillStyle=c.isActive?"#165134":"#afafaf";const d=`${c.name}: ${c.Le||0}/10`;t.fillText(d,f,20);const g=t.measureText(d).width;F(t,f+g+10,r,a,o,(c.Ut||0)/100),c.isActive&&0==Math.floor(Date.now()/500)%2&&(t.fillStyle="#165134",t.fillText("▶",f-15,19)),t.fillStyle="#000000"}t.restore()}({context:r,canvas:n},{hs:{ls:s.currentState,cs:[{name:"Meoq",Ut:l.qe.Ut,Le:h.qe.Le,isActive:"white"===h.Zi},{name:"Shadow",Ut:l.ze.Ut,Le:h.ze.Le,isActive:"black"===h.Zi}]},Li:s})}({rs:{ii:t,Li:i,zi:e},hi:{canvas:h,context:s}},n)}break;case W.jt:nt(0,ctx,"gameOver");break;case W.Yt:nt(0,s,"victoryBlack");break;case W.Gt:nt(0,s,"victoryWhite")}}(h,{Li:s,zi:l},t,i,e)}).start()}()</script>